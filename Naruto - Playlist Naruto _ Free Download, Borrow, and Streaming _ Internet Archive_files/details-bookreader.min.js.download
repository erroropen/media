// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3.0
/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

var runtime = (function (exports) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  function define(obj, key, value) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
    return obj[key];
  }
  try {
    // IE 8 has a broken Object.defineProperty that only works on DOM objects.
    define({}, "");
  } catch (err) {
    define = function(obj, key, value) {
      return obj[key] = value;
    };
  }

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  exports.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  define(IteratorPrototype, iteratorSymbol, function () {
    return this;
  });

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = GeneratorFunctionPrototype;
  define(Gp, "constructor", GeneratorFunctionPrototype);
  define(GeneratorFunctionPrototype, "constructor", GeneratorFunction);
  GeneratorFunction.displayName = define(
    GeneratorFunctionPrototype,
    toStringTagSymbol,
    "GeneratorFunction"
  );

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      define(prototype, method, function(arg) {
        return this._invoke(method, arg);
      });
    });
  }

  exports.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  exports.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      define(genFun, toStringTagSymbol, "GeneratorFunction");
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  exports.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator, PromiseImpl) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return PromiseImpl.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return PromiseImpl.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration.
          result.value = unwrapped;
          resolve(result);
        }, function(error) {
          // If a rejected Promise was yielded, throw the rejection back
          // into the async generator function so it can be handled there.
          return invoke("throw", error, resolve, reject);
        });
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new PromiseImpl(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {
    return this;
  });
  exports.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
    if (PromiseImpl === void 0) PromiseImpl = Promise;

    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList),
      PromiseImpl
    );

    return exports.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        // Note: ["return"] must be used for ES3 parsing compatibility.
        if (delegate.iterator["return"]) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  define(Gp, toStringTagSymbol, "Generator");

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  define(Gp, iteratorSymbol, function() {
    return this;
  });

  define(Gp, "toString", function() {
    return "[object Generator]";
  });

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  exports.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  exports.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };

  // Regardless of whether this script is executing as a CommonJS module
  // or not, return the runtime object so that we can declare the variable
  // regeneratorRuntime in the outer scope, which allows this module to be
  // injected easily by `bin/regenerator --include-runtime script.js`.
  return exports;

}(
  // If this script is executing as a CommonJS module, use module.exports
  // as the regeneratorRuntime namespace. Otherwise create a new empty
  // object. Either way, the resulting object will be used to initialize
  // the regeneratorRuntime variable at the top of this file.
  typeof module === "object" ? module.exports : {}
));

try {
  regeneratorRuntime = runtime;
} catch (accidentalStrictMode) {
  // This module should not be running in strict mode, so the above
  // assignment should always work unless something is misconfigured. Just
  // in case runtime.js accidentally runs in strict mode, in modern engines
  // we can explicitly access globalThis. In older engines we can escape
  // strict mode using a global Function call. This could conceivably fail
  // if a Content Security Policy forbids using Function, but in that case
  // the proper solution is to fix the accidental strict mode problem. If
  // you've misconfigured your bundler to force strict mode and applied a
  // CSP to forbid Function, and you're not willing to fix either of those
  // problems, please detail your unique predicament in a GitHub issue.
  if (typeof globalThis === "object") {
    globalThis.regeneratorRuntime = runtime;
  } else {
    Function("r", "regeneratorRuntime = r")(runtime);
  }
}

"use strict";var _regeneratorRuntime=_interopRequireDefault(regeneratorRuntime);function _arrayLikeToArray(C,fe){(fe==null||fe>C.length)&&(fe=C.length);for(var Xe=0,Er=new Array(fe);Xe<fe;Xe++)Er[Xe]=C[Xe];return Er}function _arrayWithHoles(C){if(Array.isArray(C))return C}function _arrayWithoutHoles(C){if(Array.isArray(C))return _arrayLikeToArray(C)}function _assertThisInitialized(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function _classCallCheck(C,fe){if(!(C instanceof fe))throw new TypeError("Cannot call a class as a function")}function isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(C){return!1}}function _construct(C,fe,Xe){return isNativeReflectConstruct()?_construct=Reflect.construct:_construct=function(mi,Kt,Vi){var Hr=[null];Hr.push.apply(Hr,Kt);var la=Function.bind.apply(mi,Hr),Fu=new la;return Vi&&_setPrototypeOf(Fu,Vi.prototype),Fu},_construct.apply(null,arguments)}function _defineProperties(C,fe){for(var Xe=0;Xe<fe.length;Xe++){var Er=fe[Xe];Er.enumerable=Er.enumerable||!1,Er.configurable=!0,"value"in Er&&(Er.writable=!0),Object.defineProperty(C,Er.key,Er)}}function _createClass(C,fe,Xe){return fe&&_defineProperties(C.prototype,fe),Xe&&_defineProperties(C,Xe),C}function _get(C,fe,Xe){return typeof Reflect!="undefined"&&Reflect.get?_get=Reflect.get:_get=function(mi,Kt,Vi){var Hr=_superPropBase(mi,Kt);if(Hr){var la=Object.getOwnPropertyDescriptor(Hr,Kt);return la.get?la.get.call(Vi):la.value}},_get(C,fe,Xe||C)}function _getPrototypeOf(C){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(Xe){return Xe.__proto__||Object.getPrototypeOf(Xe)},_getPrototypeOf(C)}function _inherits(C,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(fe&&fe.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),fe&&_setPrototypeOf(C,fe)}function _instanceof(C,fe){return fe!=null&&typeof Symbol!="undefined"&&fe[Symbol.hasInstance]?!!fe[Symbol.hasInstance](C):C instanceof fe}function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}function _isNativeFunction(C){return Function.toString.call(C).indexOf("[native code]")!==-1}function _iterableToArray(C){if(typeof Symbol!="undefined"&&C[Symbol.iterator]!=null||C["@@iterator"]!=null)return Array.from(C)}function _iterableToArrayLimit(C,fe){var Xe=C==null?null:typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(Xe!=null){var Er=[],mi=!0,Kt=!1,Vi,Hr;try{for(Xe=Xe.call(C);!(mi=(Vi=Xe.next()).done)&&(Er.push(Vi.value),!(fe&&Er.length===fe));mi=!0);}catch(la){Kt=!0,Hr=la}finally{try{!mi&&Xe.return!=null&&Xe.return()}finally{if(Kt)throw Hr}}return Er}}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _possibleConstructorReturn(C,fe){return fe&&(_typeof(fe)==="object"||typeof fe=="function")?fe:_assertThisInitialized(C)}function _setPrototypeOf(C,fe){return _setPrototypeOf=Object.setPrototypeOf||function(Er,mi){return Er.__proto__=mi,Er},_setPrototypeOf(C,fe)}function _slicedToArray(C,fe){return _arrayWithHoles(C)||_iterableToArrayLimit(C,fe)||_unsupportedIterableToArray(C,fe)||_nonIterableRest()}function _superPropBase(C,fe){for(;!Object.prototype.hasOwnProperty.call(C,fe)&&(C=_getPrototypeOf(C),C!==null););return C}function _taggedTemplateLiteral(C,fe){return fe||(fe=C.slice(0)),Object.freeze(Object.defineProperties(C,{raw:{value:Object.freeze(fe)}}))}function _toConsumableArray(C){return _arrayWithoutHoles(C)||_iterableToArray(C)||_unsupportedIterableToArray(C)||_nonIterableSpread()}var _typeof=function(C){"@swc/helpers - typeof";return C&&typeof Symbol!="undefined"&&C.constructor===Symbol?"symbol":typeof C};function _unsupportedIterableToArray(C,fe){if(C){if(typeof C=="string")return _arrayLikeToArray(C,fe);var Xe=Object.prototype.toString.call(C).slice(8,-1);if(Xe==="Object"&&C.constructor&&(Xe=C.constructor.name),Xe==="Map"||Xe==="Set")return Array.from(Xe);if(Xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xe))return _arrayLikeToArray(C,fe)}}function _wrapNativeSuper(C){var fe=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(Er){if(Er===null||!_isNativeFunction(Er))return Er;if(typeof Er!="function")throw new TypeError("Super expression must either be null or a function");if(typeof fe!="undefined"){if(fe.has(Er))return fe.get(Er);fe.set(Er,mi)}function mi(){return _construct(Er,arguments,_getPrototypeOf(this).constructor)}return mi.prototype=Object.create(Er.prototype,{constructor:{value:mi,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(mi,Er)},_wrapNativeSuper(C)}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}function _createSuper(C){var fe=_isNativeReflectConstruct();return function(){var Er=_getPrototypeOf(C),mi;if(fe){var Kt=_getPrototypeOf(this).constructor;mi=Reflect.construct(Er,arguments,Kt)}else mi=Er.apply(this,arguments);return _possibleConstructorReturn(this,mi)}}function _templateObject(){var C=_taggedTemplateLiteral(["List settings"]);return _templateObject=function(){return C},C}function _templateObject1(){var C=_taggedTemplateLiteral(["\n      <iaux-userlist-settings\n        .userList=","\n        .userListsService=","\n        @listModalClosed=","\n        @userListError=","\n        @userListSaving=","\n        @userListSaved=","\n      ></iaux-userlist-settings>\n    "]);return _templateObject1=function(){return C},C}function _templateObject2(){var C=_taggedTemplateLiteral(['\n      <div class="','">\n        <svg\n          viewBox="0 0 120 120"\n          preserveAspectRatio="none"\n          version="1.1"\n          xmlns="http://www.w3.org/2000/svg"\n          xmlns:xlink="http://www.w3.org/1999/xlink"\n          aria-labelledby="indicatorTitle indicatorDescription"\n        >\n          <title id="indicatorTitle">Activity Indicator</title>\n          <desc id="indicatorDescription">\n            A rotating activity indicator with three dots in the middle.\n          </desc>\n          <g\n            id="icons/check-ring---squared"\n            stroke="none"\n            stroke-width="1"\n            fill="none"\n            fill-rule="evenodd"\n          >\n            <path\n              id="completed-ring"\n              class="loaded-indicator"\n              d="M60,10 C70.5816709,10 80.3955961,13.2871104 88.4763646,18.8959201 L78.3502633,29.0214223 C72.9767592,25.8315427 66.7022695,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 L95.995,59.46 L108.327675,47.128668 C109.350926,50.9806166 109.925886,55.015198 109.993301,59.1731586 L110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"\n            ></path>\n            <polygon\n              id="check"\n              class="loaded-indicator"\n              transform="translate(75.000000, 41.500000) rotate(44.000000) translate(-75.000000, -41.500000) "\n              points="96 85 54 85 54 65 76 64.999 76 -2 96 -2"\n            ></polygon>\n            <path\n              id="activity-ring"\n              class="activity-indicator"\n              d="M60,10 C69.8019971,10 78.9452178,12.8205573 86.6623125,17.6943223 L76.4086287,27.9484118 C71.4880919,25.4243078 65.9103784,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 C96,53.3014663 94.1704984,47.0302355 90.9839104,41.6587228 L101.110332,31.5326452 C106.715332,39.6116982 110,49.4222615 110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"\n            ></path>\n            <g\n              id="activity-dots"\n              class="activity-indicator"\n              transform="translate(40.000000, 55.000000)"\n            >\n              <circle id="left-dot" cx="5" cy="5" r="5"></circle>\n              <circle id="middle-dot" cx="20" cy="5" r="5"></circle>\n              <circle id="right-dot" cx="35" cy="5" r="5"></circle>\n            </g>\n          </g>\n        </svg>\n      </div>\n    ']);return _templateObject2=function(){return C},C}function _templateObject3(){var C=_taggedTemplateLiteral(["var(--activityIndicatorCheckmarkColor, #31A481)"]);return _templateObject3=function(){return C},C}function _templateObject4(){var C=_taggedTemplateLiteral(["var(--activityIndicatorCompletedRingColor, #31A481)"]);return _templateObject4=function(){return C},C}function _templateObject5(){var C=_taggedTemplateLiteral(["var(--activityIndicatorLoadingRingColor, #333333)"]);return _templateObject5=function(){return C},C}function _templateObject6(){var C=_taggedTemplateLiteral(["var(--activityIndicatorLoadingDotColor, #333333)"]);return _templateObject6=function(){return C},C}function _templateObject7(){var C=_taggedTemplateLiteral(["\n      #completed-ring {\n        fill: ",";\n      }\n\n      #check {\n        fill: ",";\n      }\n\n      #activity-ring {\n        fill: ",";\n      }\n\n      #activity-dots {\n        fill: ",";\n      }\n\n      .activity-indicator {\n        opacity: 0;\n        transition: opacity 0.25s ease-out;\n      }\n\n      .processing .activity-indicator {\n        opacity: 1;\n      }\n\n      .loaded-indicator {\n        opacity: 1;\n        transition: opacity 0.25s ease-out;\n      }\n\n      .processing .loaded-indicator {\n        opacity: 0;\n      }\n\n      .image {\n        border: 1px solid red;\n        display: inline-block;\n      }\n\n      .processing #activity-ring {\n        animation: rotate 1.3s infinite linear;\n        transform-origin: 50px 50px;\n        transform-box: fill-box;\n      }\n\n      .processing #left-dot {\n        opacity: 0;\n        animation: dot 1.3s infinite;\n        animation-delay: 0.2s;\n      }\n\n      .processing #middle-dot {\n        opacity: 0;\n        animation: dot 1.3s infinite;\n        animation-delay: 0.4s;\n      }\n\n      .processing #right-dot {\n        opacity: 0;\n        animation: dot 1.3s infinite;\n        animation-delay: 0.6s;\n      }\n\n      @keyframes rotate {\n        0% {\n          transform: rotate(-360deg);\n        }\n        100% {\n          /* This frame is supposed to be inferred, but Safari doesn't rotate it unless we're explicit */\n          transform: rotate(0deg);\n        }\n      }\n\n      @keyframes dot {\n        0% {\n          opacity: 0;\n        }\n        25% {\n          opacity: 1;\n        }\n        100% {\n          opacity: 0;\n        }\n      }\n    "]);return _templateObject7=function(){return C},C}function _templateObject8(){var C=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 40 40"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="closeTitleID closeDescID"\n>\n  <title id="closeTitleID">Close icon</title>\n  <desc id="closeDescID">A line drawing of an X</desc>\n  <path d="m29.1923882 10.8076118c.5857864.5857865.5857864 1.535534 0 2.1213204l-7.0711162 7.0703398 7.0711162 7.0717958c.5857864.5857864.5857864 1.5355339 0 2.1213204-.5857865.5857864-1.535534.5857864-2.1213204 0l-7.0717958-7.0711162-7.0703398 7.0711162c-.5857864.5857864-1.5355339.5857864-2.1213204 0-.5857864-.5857865-.5857864-1.535534 0-2.1213204l7.0706602-7.0717958-7.0706602-7.0703398c-.5857864-.5857864-.5857864-1.5355339 0-2.1213204.5857865-.5857864 1.535534-.5857864 2.1213204 0l7.0703398 7.0706602 7.0717958-7.0706602c.5857864-.5857864 1.5355339-.5857864 2.1213204 0z" class="fill-color" fill-rule="evenodd"/>\n</svg>\n']);return _templateObject8=function(){return C},C}function _templateObject9(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject9=function(){return C},C}function _templateObject10(){var C=_taggedTemplateLiteral(['\n  <svg\n    class="ia-logo"\n    viewBox="0 0 27 30"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="logoTitleID logoDescID"\n  >\n    <title id="logoTitleID">Internet Archive logo</title>\n    <desc id="logoDescID">\n      A line drawing of the Internet Archive headquarters building fa\xE7ade.\n    </desc>\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <mask id="mask-2" class="fill-color">\n        <path\n          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"\n          id="path-1"\n        ></path>\n      </mask>\n      <use class="fill-color" xlink:href="#path-1"></use>\n      <g mask="url(#mask-2)" class="fill-color">\n        <path\n          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"\n          id="swatch"\n        ></path>\n      </g>\n    </g>\n  </svg>\n']);return _templateObject10=function(){return C},C}function _templateObject11(){var C=_taggedTemplateLiteral(['<div class="logo-icon">',"</div>"]);return _templateObject11=function(){return C},C}function _templateObject12(){var C=_taggedTemplateLiteral(['<h1 class="title">',"</h1>"]);return _templateObject12=function(){return C},C}function _templateObject13(){var C=_taggedTemplateLiteral(['<h2 class="subtitle">',"</h2>"]);return _templateObject13=function(){return C},C}function _templateObject14(){var C=_taggedTemplateLiteral([' <h1 class="headline">',"</h1> "]);return _templateObject14=function(){return C},C}function _templateObject15(){var C=_taggedTemplateLiteral([' <p class="message">',"</p> "]);return _templateObject15=function(){return C},C}function _templateObject16(){var C=_taggedTemplateLiteral(['\n      <div class="modal-wrapper">\n        <div class="modal-container">\n          <header style="background-color: ','">\n            ',"\n            ","\n            ","\n            ",'\n          </header>\n          <section\n            class="modal-body"\n            style="background-color: ','"\n          >\n            <div class="content">\n              <div\n                class="processing-logo ','"\n              >\n                <ia-activity-indicator\n                  .mode=',"\n                ></ia-activity-indicator>\n              </div>\n              ","\n              ",'\n\n              <div class="slot-container">\n                <slot> </slot>\n              </div>\n            </div>\n          </section>\n        </div>\n      </div>\n    ']);return _templateObject16=function(){return C},C}function _templateObject17(){var C=_taggedTemplateLiteral(['\n      <button\n        type="button"\n        class="close-button"\n        @click=',"\n        @keydown=","\n      >\n        <ia-icon-close></ia-icon-close>\n      </button>\n    "]);return _templateObject17=function(){return C},C}function _templateObject18(){var C=_taggedTemplateLiteral(["var(--modalLogoSize, 6.5rem)"]);return _templateObject18=function(){return C},C}function _templateObject19(){var C=_taggedTemplateLiteral(["var(--processingImageSize, 7.5rem)"]);return _templateObject19=function(){return C},C}function _templateObject20(){var C=_taggedTemplateLiteral(["var(--modalCornerRadius, 1rem)"]);return _templateObject20=function(){return C},C}function _templateObject21(){var C=_taggedTemplateLiteral(["var(--modalBorder, 2px solid black)"]);return _templateObject21=function(){return C},C}function _templateObject22(){var C=_taggedTemplateLiteral(["var(--modalBottomMargin, 2.5rem)"]);return _templateObject22=function(){return C},C}function _templateObject23(){var C=_taggedTemplateLiteral(["var(--modalTopMargin, 5rem)"]);return _templateObject23=function(){return C},C}function _templateObject24(){var C=_taggedTemplateLiteral(["var(--modalHeaderBottomPadding, 0.5em)"]);return _templateObject24=function(){return C},C}function _templateObject25(){var C=_taggedTemplateLiteral(["var(--modalBottomPadding, 2rem)"]);return _templateObject25=function(){return C},C}function _templateObject26(){var C=_taggedTemplateLiteral(["var(--modalScrollOffset, 5px)"]);return _templateObject26=function(){return C},C}function _templateObject27(){var C=_taggedTemplateLiteral(["var(--modalTitleFontSize, 1.8rem)"]);return _templateObject27=function(){return C},C}function _templateObject28(){var C=_taggedTemplateLiteral(["var(--modalSubtitleFontSize, 1.4rem)"]);return _templateObject28=function(){return C},C}function _templateObject29(){var C=_taggedTemplateLiteral(["var(--modalHeadlineFontSize, 1.6rem)"]);return _templateObject29=function(){return C},C}function _templateObject30(){var C=_taggedTemplateLiteral(["var(--modalMessageFontSize, 1.4rem)"]);return _templateObject30=function(){return C},C}function _templateObject31(){var C=_taggedTemplateLiteral(["var(--modalTitleLineHeight, normal)"]);return _templateObject31=function(){return C},C}function _templateObject32(){var C=_taggedTemplateLiteral(["var(--modalSubtitleLineHeight, normal)"]);return _templateObject32=function(){return C},C}function _templateObject33(){var C=_taggedTemplateLiteral(["var(--modalHeadlineLineHeight, normal)"]);return _templateObject33=function(){return C},C}function _templateObject34(){var C=_taggedTemplateLiteral(["var(--modalMessageLineHeight, normal)"]);return _templateObject34=function(){return C},C}function _templateObject35(){var C=_taggedTemplateLiteral(["\n      .processing-logo {\n        margin: auto;\n        width: ",";\n        height: ",";\n      }\n\n      .processing-logo.hidden {\n        height: 1rem;\n      }\n\n      .processing-logo.hidden ia-activity-indicator {\n        display: none;\n      }\n\n      .modal-wrapper {\n        outline: none;\n      }\n\n      .modal-container {\n        border-radius: ",";\n        width: 100%;\n        margin-top: ",";\n      }\n\n      header {\n        position: relative;\n        background-color: #36a483;\n        color: white;\n        border-radius: calc(",") calc(",") 0 0;\n        border: ",";\n        border-bottom: 0;\n        text-align: center;\n        padding-bottom: ",";\n      }\n\n      .title {\n        margin: 0;\n        padding: 0;\n        font-size: ",";\n        font-weight: bold;\n        line-height: ",";\n      }\n\n      .subtitle {\n        margin: 0;\n        padding: 0;\n        font-weight: normal;\n        padding-top: 0;\n        font-size: ",";\n        line-height: ",";\n      }\n\n      .modal-body {\n        background-color: #f5f5f7;\n        border-radius: 0 0 calc(",") calc(",");\n        border: ",";\n        border-top: 0;\n        padding: 0 1rem calc("," - ",") 1rem;\n        color: #333;\n        margin-bottom: 2.5rem;\n        min-height: 5rem;\n      }\n\n      .content {\n        overflow-y: auto;\n        max-height: calc(100vh - (16.5rem + ","));\n        min-height: 5rem;\n        padding: 0 0 calc(",") 0;\n      }\n\n      .headline {\n        font-size: ",";\n        font-weight: bold;\n        text-align: center;\n        line-height: ",";\n        margin: 0;\n        padding: 0;\n      }\n\n      .message {\n        margin: 1rem 0 0 0;\n        text-align: center;\n        font-size: ",";\n        line-height: ",";\n      }\n\n      .logo-icon {\n        border-radius: 100%;\n        border: 3px solid #fff;\n        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),\n          0 2px 2px 0 rgba(0, 0, 0, 0.08);\n        width: ",";\n        height: ",";\n        margin: -2.9rem auto 0.5rem auto;\n        background-color: black;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .logo-icon svg {\n        width: calc("," * 0.65);\n        height: calc("," * 0.65);\n      }\n\n      .logo-icon svg .fill-color {\n        fill: white;\n      }\n\n      .logo-icon svg .stroke-color {\n        stroke: red;\n      }\n\n      .close-button {\n        position: absolute;\n        right: 1.2rem;\n        top: 1.2rem;\n        width: 2rem;\n        height: 2rem;\n        border-radius: 100%;\n        border: 0;\n        padding: 0;\n        cursor: pointer;\n        background-color: white;\n        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),\n          0 4px 4px 0 rgba(0, 0, 0, 0.08);\n      }\n\n      .sr-only {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        border: 0;\n      }\n\n      slot::slotted(.sr-only) {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        border: 0;\n      }\n    "]);return _templateObject35=function(){return C},C}function _templateObject36(){var C=_taggedTemplateLiteral(['\n      <div class="container">\n        <div class="backdrop" @click=',"></div>\n        <modal-template\n          @closeButtonPressed=",'\n          tabindex="-1"\n        >\n          ',"\n        </modal-template>\n      </div>\n    "]);return _templateObject36=function(){return C},C}function _templateObject37(){var C=_taggedTemplateLiteral(["var(--modalBackdropColor, rgba(10, 10, 10, 0.9))"]);return _templateObject37=function(){return C},C}function _templateObject38(){var C=_taggedTemplateLiteral(["var(--modalBackdropZindex, 1000)"]);return _templateObject38=function(){return C},C}function _templateObject39(){var C=_taggedTemplateLiteral(["var(--modalWidth, 32rem)"]);return _templateObject39=function(){return C},C}function _templateObject40(){var C=_taggedTemplateLiteral(["var(--modalMaxWidth, 95%)"]);return _templateObject40=function(){return C},C}function _templateObject41(){var C=_taggedTemplateLiteral(["var(--modalZindex, 2000)"]);return _templateObject41=function(){return C},C}function _templateObject42(){var C=_taggedTemplateLiteral(["\n      .container {\n        width: 100%;\n        height: 100%;\n      }\n\n      .backdrop {\n        position: fixed;\n        top: 0;\n        left: 0;\n        background-color: ",";\n        width: 100%;\n        height: 100%;\n        z-index: ",";\n      }\n\n      modal-template {\n        outline: 0;\n        position: fixed;\n        top: 0;\n        left: 50%;\n        transform: translate(-50%, 0);\n        z-index: ",";\n        width: ",";\n        max-width: ",";\n      }\n    "]);return _templateObject42=function(){return C},C}function _templateObject43(){var C=_taggedTemplateLiteral([' <div class="title">',"</div> "]);return _templateObject43=function(){return C},C}function _templateObject44(){var C=_taggedTemplateLiteral(['\n      <div class="container ','">\n        <div class="badge-container">\n          <div class="badge">','</div>\n        </div>\n        <div class="content-container">\n          ','\n          <div class="content">\n            <slot></slot>\n          </div>\n        </div>\n      </div>\n    ']);return _templateObject44=function(){return C},C}function _templateObject45(){var C=_taggedTemplateLiteral(["var(--formSectionBadgeTransition, 0.25s ease-out)"]);return _templateObject45=function(){return C},C}function _templateObject46(){var C=_taggedTemplateLiteral(["var(--formSectionBadgeMargin, 1rem)"]);return _templateObject46=function(){return C},C}function _templateObject47(){var C=_taggedTemplateLiteral(["var(--formSectionBadgeBackgroundColor, #333)"]);return _templateObject47=function(){return C},C}function _templateObject48(){var C=_taggedTemplateLiteral(["var(--formSectionBadgeRadius, 1.2rem)"]);return _templateObject48=function(){return C},C}function _templateObject49(){var C=_taggedTemplateLiteral(["calc("," * 2)"]);return _templateObject49=function(){return C},C}function _templateObject50(){var C=_taggedTemplateLiteral(["var(--formSectionBadgeFontSize, 1.8rem)"]);return _templateObject50=function(){return C},C}function _templateObject51(){var C=_taggedTemplateLiteral(["var(--formSectionBadgeFontWeight, bold)"]);return _templateObject51=function(){return C},C}function _templateObject52(){var C=_taggedTemplateLiteral(["var(--formSectionBadgeFontColor, #fff)"]);return _templateObject52=function(){return C},C}function _templateObject53(){var C=_taggedTemplateLiteral(["var(--formSectionTitleFontSize, 1.8rem)"]);return _templateObject53=function(){return C},C}function _templateObject54(){var C=_taggedTemplateLiteral(["var(--formSectionTitleFontWeight, bold)"]);return _templateObject54=function(){return C},C}function _templateObject55(){var C=_taggedTemplateLiteral(["var(--formSectionContentBackgroundColor, transparent)"]);return _templateObject55=function(){return C},C}function _templateObject56(){var C=_taggedTemplateLiteral(["var(--formSectionTextColor, #333)"]);return _templateObject56=function(){return C},C}function _templateObject57(){var C=_taggedTemplateLiteral(["calc("," * 2)"]);return _templateObject57=function(){return C},C}function _templateObject58(){var C=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        background-color: ",";\n        color: ",";\n      }\n      .container {\n        position: relative;\n        padding: 0.5rem;\n      }\n\n      .content-container {\n        position: relative;\n        left: calc("," + ",");\n        width: calc(100% - ("," + ","));\n        transition: ",";\n        z-index: 1;\n      }\n\n      .hidebadge .content-container {\n        left: 0;\n        width: 100%;\n      }\n\n      .hidebadge .badge-container {\n        display: none;\n      }\n\n      .hidebadgeleavespacing .badge {\n        display: none;\n      }\n\n      .badge-container {\n        position: absolute;\n        width: ",";\n      }\n\n      .badge {\n        background-color: ",";\n        color: ",";\n        width: ",";\n        height: ",";\n        border-radius: ",";\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-weight: ",";\n        font-size: ",";\n      }\n\n      .title {\n        line-height: ",";\n        margin-bottom: 0.5rem;\n        font-size: ",";\n        font-weight: ",";\n      }\n    "]);return _templateObject58=function(){return C},C}function _templateObject59(){var C=_taggedTemplateLiteral(['<slot name="edit-donation-amount-title"></slot>']);return _templateObject59=function(){return C},C}function _templateObject60(){var C=_taggedTemplateLiteral(['<li class="custom-amount">',"</li>"]);return _templateObject60=function(){return C},C}function _templateObject61(){var C=_taggedTemplateLiteral(['\n          <div class="checkbox-options">\n            ',"\n            ","\n          </div>"]);return _templateObject61=function(){return C},C}function _templateObject62(){var C=_taggedTemplateLiteral(["\n      ",'\n\n      <donation-form-section\n        sectionBadge="','"\n        headline=',"\n        badgeMode=","\n      >\n        ",'\n        <ul class="amount-selector">\n          ',"\n          ",'\n        </ul>\n\n        <div class="errors">',"</div>\n\n        ","\n      </donation-form-section>\n    "]);return _templateObject62=function(){return C},C}function _templateObject63(){var C=_taggedTemplateLiteral(['\n      <donation-form-section\n        sectionBadge="1"\n        headline="Choose a frequency"\n        badgeMode=','\n      >\n        <ul class="frequency-selector">\n          ',"\n        </ul>\n      </donation-form-section>\n    "]);return _templateObject63=function(){return C},C}function _templateObject64(){var C=_taggedTemplateLiteral(['\n      <div class="checkbox-option-container">\n        <input\n          type="checkbox"\n          id="make-this-monthly"\n          @input=',"\n          .checked=",'\n          tabindex="0"\n        />\n        <label for="make-this-monthly"> Make this monthly </label>\n      </div>\n    ']);return _templateObject64=function(){return C},C}function _templateObject65(){var C=_taggedTemplateLiteral(['\n      <div class="checkbox-option-container">\n        <input\n          type="checkbox"\n          id="cover-fees"\n          @input=',"\n          .checked=",'\n          tabindex="0"\n        />\n        <label for="cover-fees"> '," </label>\n      </div>\n    "]);return _templateObject65=function(){return C},C}function _templateObject66(){var C=_taggedTemplateLiteral([" I'll generously add "," to cover fees. "]);return _templateObject66=function(){return C},C}function _templateObject67(){var C=_taggedTemplateLiteral(["\n      <li>\n        ","\n      </li>\n\n      <li>\n        ","\n      </li>\n    "]);return _templateObject67=function(){return C},C}function _templateObject68(){var C=_taggedTemplateLiteral(["\n          <li>\n            ","\n          </li>\n        "]);return _templateObject68=function(){return C},C}function _templateObject69(){var C=_taggedTemplateLiteral(["\n      ","\n    "]);return _templateObject69=function(){return C},C}function _templateObject70(){var C=_taggedTemplateLiteral(['\n      <div class="selection-button">\n        <input\n          type="radio"\n          name=',"\n          value=","\n          id=",'\n          tabindex="0"\n          .checked=',"\n          @change=","\n          @click=","\n        />\n        <label for=","> "," </label>\n      </div>\n    "]);return _templateObject70=function(){return C},C}function _templateObject71(){var C=_taggedTemplateLiteral(['\n      <div class="selection-button">\n        <input\n          type="radio"\n          name=','\n          value="custom"\n          id="custom-amount-button"\n          tabindex="0"\n          @change=','\n        />\n\n        <label for="custom-amount-button">\n          <span class="custom-amount-text">Custom: $</span\n          ><input\n            type="text"\n            id="custom-amount-input"\n            tabindex="-1"\n            value=',"\n            @input=","\n            @keydown=","\n            @focus=","\n          />\n        </label>\n      </div>\n    "]);return _templateObject71=function(){return C},C}function _templateObject72(){var C=_taggedTemplateLiteral(['\n          To make a donation of $10,000 or more, please contact our philanthropy\n          department at\n          <a href="mailto:donations@archive.org">donations@archive.org</a>\n        ']);return _templateObject72=function(){return C},C}function _templateObject73(){var C=_taggedTemplateLiteral([" Please select an amount (minimum $1) "]);return _templateObject73=function(){return C},C}function _templateObject74(){var C=_taggedTemplateLiteral([" Please enter a valid donation amount "]);return _templateObject74=function(){return C},C}function _templateObject75(){var C=_taggedTemplateLiteral(["var(--paymentButtonBorderColor, #333)"]);return _templateObject75=function(){return C},C}function _templateObject76(){var C=_taggedTemplateLiteral(["var(--paymentButtonGridGap, 1rem)"]);return _templateObject76=function(){return C},C}function _templateObject77(){var C=_taggedTemplateLiteral(["var(--paymentButtonFontSize, 1.6rem)"]);return _templateObject77=function(){return C},C}function _templateObject78(){var C=_taggedTemplateLiteral(["var(--paymentButtonFontColor, #000)"]);return _templateObject78=function(){return C},C}function _templateObject79(){var C=_taggedTemplateLiteral(["var(--paymentButtonSelectedFontColor, #000)"]);return _templateObject79=function(){return C},C}function _templateObject80(){var C=_taggedTemplateLiteral(["var(--paymentButtonSelectedColor, #f9bf3b)"]);return _templateObject80=function(){return C},C}function _templateObject81(){var C=_taggedTemplateLiteral(["var(--paymentButtonFocusedOutlineColor, #7fb3f9)"]);return _templateObject81=function(){return C},C}function _templateObject82(){var C=_taggedTemplateLiteral(["var(--paymentButtonColor, #fff)"]);return _templateObject82=function(){return C},C}function _templateObject83(){var C=_taggedTemplateLiteral(["var(--coverFeesFontSize, 1.2rem)"]);return _templateObject83=function(){return C},C}function _templateObject84(){var C=_taggedTemplateLiteral(["var(--coverFeesFontWeight, bold)"]);return _templateObject84=function(){return C},C}function _templateObject85(){var C=_taggedTemplateLiteral(["var(--customAmountWidth, 4rem)"]);return _templateObject85=function(){return C},C}function _templateObject86(){var C=_taggedTemplateLiteral(["var(--inputFieldFontColor, #333)"]);return _templateObject86=function(){return C},C}function _templateObject87(){var C=_taggedTemplateLiteral(["var(--inputBorder, 1px solid #d9d9d9)"]);return _templateObject87=function(){return C},C}function _templateObject88(){var C=_taggedTemplateLiteral(["var(--paymentSelectorAmountColumnCount, 5)"]);return _templateObject88=function(){return C},C}function _templateObject89(){var C=_taggedTemplateLiteral(["var(--paymentSelectorCustomAmountColSpan, 3)"]);return _templateObject89=function(){return C},C}function _templateObject90(){var C=_taggedTemplateLiteral(["\n      :host {\n        --formSectionContentBackgroundColor: var(--editFormBgColor, transparent);\n        --formSectionBadgeBackgroundColor: var(--editFormBadgeBgColor, #333);\n        --formSectionBadgeFontColor: var(--editFormBadgeFontColor, #fff);\n        --formSectionTextColor: var(--editFormTextColor, #333);\n      }\n      .errors {\n        color: red;\n        font-size: 1.4rem;\n        margin-top: 0.5rem;\n      }\n\n      ul {\n        list-style: none;\n        margin: 0;\n        padding: 0;\n        display: grid;\n        grid-gap: ",";\n      }\n\n      li {\n        margin: 0;\n        padding: 0;\n        display: inline-block;\n      }\n\n      .frequency-selector {\n        grid-template-columns: repeat(2, 1fr);\n      }\n\n      .amount-selector {\n        grid-template-columns: repeat(",", 1fr);\n      }\n\n      .custom-amount {\n        grid-column: span ",";\n      }\n\n      .selection-button {\n        height: 3rem;\n      }\n\n      .selection-button label {\n        padding: 0 0.3rem;\n        display: flex;\n        cursor: pointer;\n        text-align: center;\n        font-size: ",";\n        font-weight: bold;\n        border: 1px solid ",";\n        border-radius: 5px;\n        background-color: #ccc;\n        height: 100%;\n        justify-content: center;\n        align-items: center;\n      }\n\n      label[for='custom-amount-button'] {\n        padding: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .custom-amount-text {\n        white-space: nowrap;\n        margin-right: 0.5rem;\n      }\n\n      input[type='radio'] {\n        opacity: 0;\n        width: 0;\n        height: 0;\n        position: absolute;\n      }\n\n      input[type='radio'] + label {\n        color: ",";\n        background-color: ",";\n      }\n\n      input[type='radio']:checked + label {\n        color: ",";\n        background-color: ",";\n      }\n\n      input[type='radio']:focus + label {\n        outline: 2px solid ",";\n      }\n\n      .checkbox-options {\n        margin-top: 1rem;\n      }\n\n      .checkbox-option-container {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .checkbox-option-container input {\n        width: 2rem;\n      }\n\n      .checkbox-option-container label {\n        font-size: ",";\n        font-weight: ",";\n        flex: 1;\n      }\n\n      #custom-amount-input {\n        width: ",";\n        font-size: 1.6rem;\n        font-weight: bold;\n        color: ",";\n        padding: 0.1rem;\n        border: ",";\n        appearance: none;\n        -moz-appearance: none;\n        -webkit-appearance: none;\n      }\n    "]);return _templateObject90=function(){return C},C}function _templateObject91(){var C=_taggedTemplateLiteral([' <div class="donate-goal">',"</div> "]);return _templateObject91=function(){return C},C}function _templateObject92(){var C=_taggedTemplateLiteral(['\n      <div\n        class="container"\n        role="progressbar"\n        aria-valuemin="0"\n        aria-valuemax="','"\n        aria-valuenow="','"\n        aria-valuetext="','"\n      >\n        <div class="thermometer-message-container">\n          <div class="thermometer-container">\n            <div\n              class="thermometer-background ','"\n            >\n              <div\n                class="thermometer-fill"\n                style="width: ','%"\n              >\n                ',"\n              </div>\n              ","\n            </div>\n          </div>\n          ","\n        </div>\n      </div>\n    "]);return _templateObject92=function(){return C},C}function _templateObject93(){var C=_taggedTemplateLiteral(["",""]);return _templateObject93=function(){return C},C}function _templateObject94(){var C=_taggedTemplateLiteral(['\n          <div class="thermometer-value">',"</div>\n        "]);return _templateObject94=function(){return C},C}function _templateObject95(){var C=_taggedTemplateLiteral(["var(--bannerThermometerHeight, 20px)"]);return _templateObject95=function(){return C},C}function _templateObject96(){var C=_taggedTemplateLiteral(["var(--bannerThermometerCurrentValueLeftColor, #fff)"]);return _templateObject96=function(){return C},C}function _templateObject97(){var C=_taggedTemplateLiteral(["var(--bannerThermometerProgressColor, #23765D)"]);return _templateObject97=function(){return C},C}function _templateObject98(){var C=_taggedTemplateLiteral(["var(--bannerThermometerCurrentValueRightColor, ",")"]);return _templateObject98=function(){return C},C}function _templateObject99(){var C=_taggedTemplateLiteral(["var(--bannerThermometerBackgroundColor, #B8F5E2)"]);return _templateObject99=function(){return C},C}function _templateObject100(){var C=_taggedTemplateLiteral(["var(--bannerThermometerBorder, 1px solid ",")"]);return _templateObject100=function(){return C},C}function _templateObject101(){var C=_taggedTemplateLiteral(["var(--bannerThermometerBorderRadius, calc("," / 2))"]);return _templateObject101=function(){return C},C}function _templateObject102(){var C=_taggedTemplateLiteral(["var(--bannerThermometerGoalMessagePadding, 0 10px)"]);return _templateObject102=function(){return C},C}function _templateObject103(){var C=_taggedTemplateLiteral(["var(--bannerThermometerGoalValueColor, #2c2c2c)"]);return _templateObject103=function(){return C},C}function _templateObject104(){var C=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n      }\n\n      .container {\n        height: 100%;\n      }\n\n      .thermometer-message-container {\n        height: 100%;\n        display: flex;\n        align-items: center;\n      }\n\n      .thermometer-container {\n        height: 100%;\n        flex: 1;\n      }\n\n      .thermometer-background {\n        background-color: ",";\n        padding: 0;\n        height: 100%;\n        border-radius: ",";\n        border: ",";\n        overflow: hidden;\n        display: flex;\n        align-items: center;\n      }\n\n      .thermometer-fill {\n        background-color: ",";\n        text-align: right;\n        height: 100%;\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n      }\n\n      .thermometer-value {\n        font-weight: bold;\n      }\n\n      .value-left .thermometer-value {\n        color: ",";\n        padding: 0 0.5rem 0 1rem;\n      }\n\n      .value-right .thermometer-value {\n        color: ",";\n        padding: 0 1rem 0 0.5rem;\n      }\n\n      .donate-goal {\n        text-align: left;\n        padding: ",";\n        text-transform: uppercase;\n        font-weight: bold;\n        color: ",";\n      }\n    "]);return _templateObject104=function(){return C},C}function _templateObject105(){var C=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 24 24"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="tocTitleID tocDescID"\n>\n  <title id="tocTitleID">Table of contents icon</title>\n  <desc id="tocDescID">An illustration of three text list items</desc>\n  <g class="fill-color" fill-rule="evenodd"><rect height="3" rx="1.5" width="18" x="6"/><rect height="3" rx="1.5" width="18" x="6" y="21"/><rect height="3" rx="1.5" width="18" x="6" y="14"/><rect height="3" rx="1.5" width="18" x="6" y="7"/><rect height="3" rx="1.5" width="4"/><rect height="3" rx="1.5" width="4" y="21"/><rect height="3" rx="1.5" width="4" y="14"/><rect height="3" rx="1.5" width="4" y="7"/></g>\n</svg>\n']);return _templateObject105=function(){return C},C}function _templateObject106(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject106=function(){return C},C}function _templateObject107(){var C=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 40 40"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="ellipsesTitleID ellipsesDescID"\n>\n  <title id="ellipsesTitleID">Ellipses icon</title>\n  <desc id="ellipsesDescID">An illustration of text ellipses.</desc>\n  <path class="fill-color" d="m10.5 17.5c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5c-1.38071187 0-2.5-1.1192881-2.5-2.5s1.11928813-2.5 2.5-2.5zm9.5 0c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5-2.5-1.1192881-2.5-2.5 1.1192881-2.5 2.5-2.5zm9.5 0c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5-2.5-1.1192881-2.5-2.5 1.1192881-2.5 2.5-2.5z" fill-rule="evenodd"/>\n</svg>\n']);return _templateObject107=function(){return C},C}function _templateObject108(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject108=function(){return C},C}function _templateObject109(){var C=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 18 18"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="collapseSidebarTitleID collapseSidebarDescID"\n>\n  <title id="collapseSidebarTitleID">Collapse sidebar</title>\n  <desc id="collapseSidebarDescID">A circle with a left pointing chevron</desc>\n  <path d="m9 0c4.9705627 0 9 4.02943725 9 9 0 4.9705627-4.0294373 9-9 9-4.97056275 0-9-4.0294373-9-9 0-4.97056275 4.02943725-9 9-9zm1.6976167 5.28352881c-.365258-.3556459-.9328083-.37581056-1.32099801-.06558269l-.09308988.0844372-3 3.08108108-.08194436.09533317c-.27484337.36339327-.26799482.87009349.01656959 1.22592581l.084491.09308363 3 2.91891889.09533796.0818904c.3633964.2746544.8699472.2677153 1.2256839-.0167901l.093059-.0844712.0818904-.095338c.2746544-.3633964.2677153-.8699472-.0167901-1.2256839l-.0844712-.093059-2.283355-2.2222741 2.3024712-2.36338332.0819252-.09530804c.2997677-.39632298.2644782-.96313393-.1007797-1.31877983z" fill-rule="evenodd" class="fill-color" />\n</svg>\n']);return _templateObject109=function(){return C},C}function _templateObject110(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject110=function(){return C},C}function _templateObject111(){var C=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="shareTitleID shareDescID"\n>\n  <title id="shareTitleID">Share icon</title>\n  <desc id="shareDescID">A square with an arrow arcing out from the center of the square</desc>\n  <g class="fill-color">\n    <path d="M70.6784759,10 L70.6784759,21.3240186 C64.5020053,21.66334 58.9104278,22.5826126 53.9037433,24.0818363 C48.8970588,25.5810601 44.8495989,27.4085163 41.7613636,29.5642049 C38.6731283,31.7198935 35.9982175,34.0552229 33.736631,36.5701929 C31.4750446,39.085163 29.8217469,41.5657574 28.776738,44.011976 C27.7317291,46.4581947 26.9173351,48.6848525 26.3335561,50.6919494 C25.7497772,52.6990464 25.4088681,54.3324462 25.3108289,55.592149 L25.2372995,57.4085163 C29.0296346,54.1661122 33.1751337,51.5524507 37.6737968,49.5675316 C42.1724599,47.5826126 46.2934492,46.3118208 50.0367647,45.7551564 C53.7800802,45.1984919 57.2571301,44.8713684 60.4679144,44.7737858 C63.6786988,44.6762031 66.1831551,44.7726769 67.9812834,45.0632069 L70.6784759,45.499002 L70.6784759,57.4051896 L100,33.3765802 L70.6784759,10 Z M76.4438503,62.4883566 L82.8609626,57.1157685 C82.9099822,57.0669772 82.9946524,57.0303837 83.1149733,57.005988 C83.2352941,56.9815924 83.4536542,56.9571967 83.7700535,56.9328011 C84.0864528,56.9084054 84.3905971,56.9449989 84.6824866,57.0425815 C84.9743761,57.1401641 85.217246,57.2854291 85.4110963,57.4783766 C85.6049465,57.671324 85.7263815,57.8409847 85.7754011,57.9873586 L85.8489305,58.2035928 L85.8489305,90 L0,90 L0,17.910845 L43.1784759,17.910845 C43.2765152,17.9596363 43.410205,18.0317143 43.5795455,18.1270792 C43.7488859,18.222444 43.9438503,18.4519849 44.1644385,18.8157019 C44.3850267,19.1794189 44.469697,19.5542249 44.4184492,19.9401198 C44.4184492,20.2794411 44.3092692,20.582169 44.0909091,20.8483034 C43.872549,21.1144378 43.6664439,21.3206919 43.4725936,21.4670659 L43.1818182,21.6134398 C40.557041,23.06609 38.2954545,24.396762 36.3970588,25.6054558 L30.7820856,29.8170326 L11.5274064,29.8170326 L11.5274064,78.1669993 L74.1811497,78.1669993 L74.1811497,65.5355955 C74.1811497,65.1009093 74.3995098,64.6407186 74.8362299,64.1550233 L76.4438503,62.4883566 Z" id="Shape"></path>\n  </g>\n</svg>\n']);return _templateObject111=function(){return C},C}function _templateObject112(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject112=function(){return C},C}function _templateObject113(){var C=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="twitterTitleID twitterDescID">\n  <title id="twitterTitleID">Twitter icon</title>\n  <desc id="twitterDescID">The Twitter logo, a cartoon bird</desc>\n  <path d="m31.5297453 8.76273313c-.3135031.40766104-.7447036.83083673-1.2936015 1.26952707-.5488979.4386904-.9169698.7837578-1.1042157 1.0352022.1562166 2.319709-.1417719 4.5297454-.8939653 6.6301092-.7521935 2.1003638-1.8023754 3.9182538-3.1505457 5.45367-1.3481704 1.5354162-2.9627648 2.8284828-4.8437835 3.8791996-1.8810186 1.0507169-3.8321207 1.7483416-5.8533062 2.092874s-4.1215493.2894286-6.30109136-.1653114c-2.17954205-.45474-4.2092874-1.3401455-6.08923604-2.6562165 2.72737.4697196 5.67408517-.2514445 8.8401455-2.1634924-3.0719024-.7521935-4.88979241-2.2881447-5.45367-4.6078537 1.12882516.0631287 1.86550396.0631287 2.21003638 0-2.91568586-1.2850417-4.38904344-3.3693558-4.42007276-6.2529424.21934517.0310293.53284828.1487267.94050931.3530922s.78375775.3060133 1.12829017.3049433c-.81532206-.7211641-1.41076396-1.9045581-1.7863257-3.5501819-.37556173-1.64562376-.17173122-3.17355015.61149155-4.58377912 1.81789001 1.88101862 3.6908838 3.36989086 5.61898138 4.46661672 1.92809757 1.0967259 4.22426707 1.7547614 6.88850847 1.9741066-.2503745-1.1908838-.1722662-2.32719882.2343248-3.40894502.4065911-1.0817462 1.0416221-1.93612241 1.9050931-2.56312861.863471-.62700621 1.8114702-1.0817462 2.8439975-1.36421999 1.0325272-.28247378 2.0827091-.27444896 3.1505456.02407447s1.9767815.87042585 2.726835 1.71570726c1.3791997-.37663172 2.6802911-.87845068 3.9032742-1.50545688-.0310293.37663171-.1407019.74470361-.3290178 1.1042157-.1883158.35951209-.3530922.62593623-.4943291.79927242s-.3841216.4317355-.728654.77519795c-.3445324.34346244-.5638776.57832227-.6580355.70457949.2193452-.09415792.6895998-.23539482 1.410764-.42371067.7211641-.18831586 1.2069334-.39214638 1.4573079-.61149155 0 .44350524-.1567516.86668093-.4702547 1.27434196z" class="fill-color" />\n</svg>\n']);return _templateObject113=function(){return C},C}function _templateObject114(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject114=function(){return C},C}function _templateObject115(){var C=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="facebookTitleID facebookDescID">\n  <title id="facebookTitleID">Facebook icon</title>\n  <desc id="facebookDescID">A lowercase f</desc>\n  <path d="m30.91057 19.2442068.2670004-5.3339402h-5.7329237c-.0890001-3.4962895.25183-5.42243459 1.0224903-5.77843514.3560005-.17800028.8004955-.28925046 1.333485-.33375053s1.0442346-.0520853 1.5337353-.02275571c.4895008.02932959 1.045246.01466479 1.6672356-.04399439.0890001-1.59997977.1335002-3.24445961.1335002-4.93343953-2.1633102-.20732987-3.6742898-.28115953-4.5329389-.22148898-2.8146294.17800028-4.7847688 1.25965538-5.9104183 3.2449653-.1780003.3256596-.3261653.68873971-.444495 1.08924034-.1183298.40050062-.2144095.76358074-.2882391 1.08924034-.0738297.32565959-.125915.7848194-.1562559 1.37747942-.030341.59266002-.052591 1.04474028-.0667501 1.35624078-.0141592.3115005-.0217444.8449956-.0227558 1.6004854v1.5777298h-3.8229605v5.3339401h3.8669549v14.622824h5.8224296c0-.3560006-.0146648-1.6819003-.0439944-3.9776994-.0293296-2.295799-.0515796-4.2957737-.0667501-5.9999241s-.0075853-3.2525506.0227557-4.6452005h5.4219289z" class="fill-color" />\n</svg>\n']);return _templateObject115=function(){return C},C}function _templateObject116(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject116=function(){return C},C}function _templateObject117(){var C=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="tumblrTitleID tumblrDescID">\n  <title id="tumblrTitleID">Tumblr icon</title>\n  <desc id="tumblrDescID">A lowercase letter t</desc>\n  <path d="m8.50321407 8.54544475v5.32088575c.15641786.0310693.6819176.0310693 1.57649923 0 .8945816-.0310693 1.3574071.0160703 1.3884764.1414189.0942792 1.5695354.1333837 3.2253149.1173133 4.9673385-.0160703 1.7420236-.0316049 3.3426283-.0466039 4.8018141s.2046288 2.824628.6588835 4.0963267c.4542546 1.2716986 1.1999178 2.2209194 2.2369897 2.8476622 1.2556283.784232 2.9896167 1.207953 5.2019653 1.271163 2.2123485.0632099 4.1659648-.2506972 5.8608487-.9417213-.0310693-.3449764-.0230341-1.4045467.0241055-3.1787109.0471397-1.7741643-.0080351-2.75499-.1655244-2.9424772-3.5472571 1.0360005-5.697467.6904885-6.4506298-1.0365361-.7220934-1.6638147-.8635123-4.9909084-.4242566-9.981281v-.046604h6.7318605v-5.32088568h-6.7318605v-6.54383772h-4.0497228c-.2828378 1.28669763-.6122795 2.35376743-.9883252 3.20120941-.3760457.84744199-.98029 1.60060471-1.812733 2.25948817-.832443.65888347-1.87594303 1.01993018-3.1305 1.08314014z" class="fill-color" />\n</svg>\n']);return _templateObject117=function(){return C},C}function _templateObject118(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject118=function(){return C},C}function _templateObject119(){var C=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="pinterestTitleID pinterestDescID">\n  <title id="pinterestTitleID">Pinterest icon</title>\n  <desc id="pinterestDescID">A stylized letter p</desc>\n  <path d="m11.9051049 30.5873434.653491-1.0742755.4207845-.839975c.2805229-.591861.5371377-1.2533214.7698443-1.9843813.2327065-.7310599.4659444-1.6029125.6997135-2.6155579.2337692-1.0126455.4128151-1.752206.5371377-2.2186817.0308151.030815.0775689.0855382.1402615.1641697.0626927.0786314.1094465.1333547.1402615.1641697.1243227.1870153.2178304.311338.280523.372968 1.1210293.964829 2.3817888 1.4631823 3.7822785 1.4950599 1.4939973 0 2.8790795-.3426843 4.1552465-1.0280529 2.1166733-1.1826593 3.6733633-3.1128487 4.6700699-5.7905679.4048457-1.1518444.6848374-2.5996192.8399751-4.3433245.1243226-1.587505-.0781002-3.0974411-.6072685-4.5298084-.903199-2.36638128-2.5528653-4.20306294-4.948999-5.51004497-1.276167-.65349101-2.5990879-1.05833667-3.9687625-1.21453696-1.525875-.21783034-3.1293188-.17107651-4.8103315.14026149-2.7701643.52916833-5.02709913 1.743174-6.77080442 3.64201699-1.99235065 2.14748836-2.98852598 4.62225355-2.98852598 7.42429545 0 2.9571797.9494215 5.0584455 2.84826449 6.3037975l.83997504.4207845c.12432268 0 .22526845.0154075.3028373.0462225s.1551377.0074381.23270656-.0701308c.07756885-.0775688.13229208-.1243226.16416969-.1402614s.07066204-.0860696.11635328-.2103923c.04569124-.1243226.07703756-.2098609.09403895-.2566147.01700139-.0467539.04834771-.1476996.09403895-.3028373s.06906816-.2486454.07013074-.280523l.14026149-.5132295c.06269263-.311338.09403895-.5291684.09403895-.653491-.03081502-.1243227-.12432268-.2799917-.28052297-.467007-.15620029-.1870154-.23376915-.2959305-.23270656-.3267455-.62267599-.8096914-.9494215-1.7904592-.98023652-2.9423035-.03081502-1.55669.28052297-2.9731185.93401399-4.24928547 1.18265932-2.45882635 3.17501002-3.93741618 5.97705192-4.43576949 1.6183201-.311338 3.1356943-.25661476 4.5521228.16416969 1.4164285.42078446 2.5135496 1.09765239 3.2913633 2.03060379.8405063 1.02752164 1.3229208 2.28828114 1.4472435 3.78227848.1243227 1.4004897-.0313463 2.9725872-.467007 4.7162925-.3740306 1.3696746-.9186065 2.5528653-1.6337275 3.5495719-.9967066 1.245352-2.0863896 1.8834355-3.269049 1.9142505-1.7118277.0626926-2.7547568-.6375522-3.1287874-2.1007345-.0935077-.4664757 0-1.2134744.2805229-2.240996.7469987-2.5842117 1.1359055-3.9384788 1.1667206-4.0628015.1870153-1.0275216.2024228-1.7904591.0462225-2.2888124-.1870153-.65349104-.5759222-1.15928246-1.1667205-1.51737429-.5907984-.35809182-1.2756357-.39687625-2.054512-.11635327-1.1826594.43566067-1.9610044 1.40048968-2.335035 2.89448706-.311338 1.306982-.2491767 2.6299028.186484 3.9687625 0 .0626926.0313463.1402615.094039.2327065.0626926.0924451.0940389.1700139.0940389.2327066 0 .0935076-.0313463.2491766-.0940389.467007-.0626927.2178303-.094039.3580918-.094039.4207844-.0935076.4356607-.3038999 1.3308903-.6311767 2.6856887-.3272768 1.3547985-.5838915 2.3897582-.7698443 3.1048793-.7778136 3.2068876-1.12049796 5.5881451-1.02805289 7.1437725l.37296809 2.7558194c.653491-.591861 1.2294131-1.2299445 1.7277664-1.9142505z" class="fill-color" />\n</svg>\n']);return _templateObject119=function(){return C},C}function _templateObject120(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject120=function(){return C},C}function _templateObject121(){var C=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="emailTitleID emailDescID">\n  <title id="emailTitleID">Email icon</title>\n  <desc id="emailDescID">An illustration of an envelope</desc>\n  <path d="m32 7.04156803v19.91686397c0 .5752421-.4763773 1.041568-1.0640184 1.041568h-27.87196316c-.58764116 0-1.06401844-.4663259-1.06401844-1.041568v-19.91686397c0-.57524214.47637728-1.04156803 1.06401844-1.04156803h27.87196316c.5876411 0 1.0640184.46632589 1.0640184 1.04156803zm-26.25039901 1.19676167 10.04327011 10.1323738c.5135662.4194048.8817166.6291071 1.1044511.6291071.1198794 0 .2695514-.0503424.4490158-.1510273.1794644-.100685.3291364-.2013699.4490158-.3020548l.1798191-.1510273 10.1198794-10.15841306zm16.77212271 9.7303286 6.8831353 6.7889404v-13.5778809zm-17.92871075-6.6379131v13.350819l6.78098955-6.6629107zm22.09008685 14.2059464-5.9074304-5.8588202-.9757049.9551179-.3594018.3295984c-.0342324.0304241-.0665646.0587822-.0969964.0850743l-.1597867.1329606c-.0684912.0540844-.1198794.0895749-.1541644.1064714-.6674943.3687151-1.3523675.5530727-2.0546196.5530727-.65047 0-1.3782586-.218035-2.1833659-.6541048l-.6682036-.4520405-1.0278418-1.0311524-5.95850326 5.832781z" class="fill-color" />\n</svg>\n']);return _templateObject121=function(){return C},C}function _templateObject122(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject122=function(){return C},C}function _templateObject123(){var C=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="linkTitleID linkDescID">\n  <title id="linkTitleID">Link icon</title>\n  <desc id="linkDescID">Two chain links linked together</desc>\n  <path d="m7.80511706 12.3659763c1.2669254-2.2579539 4.09819784-2.9949938 6.41200864-1.7733458l.2295791.12871 1.6067188.9559859 3.5467013-6.31849361c1.2682451-2.26030597 4.104098-2.99652769 6.4192376-1.76952182l.2223501.12488594 3.2168204 1.91103915c2.2770002 1.3527136 3.1866331 4.21502324 2.0564431 6.51290984l-.1198433.2278304-5.2002499 9.2680474c-1.2669254 2.2579539-4.0981978 2.9949938-6.4120086 1.7733458l-.2295791-.12871-1.6096554-.9558482-3.5437647 6.3183559c-1.2682451 2.260306-4.104098 2.9965277-6.41923761 1.7695218l-.22235013-.1248859-3.21682032-1.9110392c-2.27700024-1.3527136-3.18663314-4.2150232-2.05644312-6.5129098l.11984332-.2278304zm13.93955474-5.73311741-3.563271 6.35055051c1.889633 1.4530595 2.5776248 4.0429866 1.5410255 6.156875l-.1223014.2328355-.4183304.7430134 1.6096554.9558483c1.1431442.6791157 2.5155496.3977368 3.1667361-.5628389l.0921501-.1491451 5.2002498-9.2680474c.5752467-1.0252226.2110342-2.4011579-.8559335-3.14755806l-.1742742-.11247814-3.2168203-1.91103915c-1.1402863-.67741793-2.5086889-.39913772-3.1618387.55564729zm-11.79500786 7.00714351-5.20024982 9.2680474c-.57524673 1.0252226-.21103426 2.4011579.85593348 3.1475581l.17427416.1124781 3.21682032 1.9110392c1.14028632.6774179 2.50868892.3991377 3.16183872-.5556473l.0970474-.1563368 3.5622708-6.3513198c-1.8888875-1.4532134-2.5764504-4.042623-1.5400057-6.1561456l.1222818-.2327956.4153938-.7428758-1.6067188-.9559859c-1.1431442-.6791157-2.5155496-.3977368-3.1667361.5628389zm6.97653866 1.5796652-.3817806.6812386c-.5117123.9119895-.2800268 2.1014993.528439 2.8785267l.382717-.6803391c.5119098-.9123415.2798478-2.1024176-.5293754-2.8794262z" class="fill-color" />\n</svg>\n']);return _templateObject123=function(){return C},C}function _templateObject124(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject124=function(){return C},C}function _templateObject125(){var C=_taggedTemplateLiteral(["42px"]);return _templateObject125=function(){return C},C}function _templateObject126(){var C=_taggedTemplateLiteral(["var(--menuWidth, 320px)"]);return _templateObject126=function(){return C},C}function _templateObject127(){var C=_taggedTemplateLiteral(["var(--animationTiming, 200ms)"]);return _templateObject127=function(){return C},C}function _templateObject128(){var C=_taggedTemplateLiteral(["\n  .main {\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n  }\n\n  .animate {\n    transition: transform "," ease-out;\n  }\n\n  .menu {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    width: ",";\n    padding: 0.5rem 0.5rem 0 0;\n    box-sizing: border-box;\n    font-size: 1.4rem;\n    color: var(--primaryTextColor);\n    background: var(--menuSliderBg);\n    transform: translateX(calc("," * -1));\n  }\n\n  .menu > button.close {\n    right: 0.7rem;\n  }\n\n  button {\n    cursor: pointer;\n  }\n\n  header {\n    margin: 0 0 0.5rem 0;\n  }\n\n  header * {\n    margin: 0;\n    display: inline-block;\n  }\n  header button {\n    cursor: pointer;\n  }\n\n  header.with-secondary-action .details {\n    width: 80%;\n  }\n\n  header .details {\n    font-weight: bold;\n    width: 88%;\n  }\n\n  header .custom-action > *,\n  button.close {\n    padding: 0;\n    background-color: transparent;\n    border: 0;\n    --iconWidth: var(--menuSliderHeaderIconWidth);\n    --iconHeight: var(--menuSliderHeaderIconHeight);\n  }\n\n  header .custom-action,\n  button.close {\n    position: absolute;\n  }\n  button.close {\n    right: 0.5rem;\n  }\n\n  button.close * {\n    float: right;\n  }\n\n  .content {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: ",";\n    z-index: 1;\n    transform: translateX(calc("," * -1));\n    transition: transform "," ease-out;\n    background: var(--activeButtonBg);\n    border-right: 0.2rem solid;\n    border-color: var(--subpanelRightBorderColor);\n    padding: 0.5rem 0 0 0.5rem;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .open {\n    transform: translateX(0);\n  }\n\n  .menu-list {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n    background: var(--menuSliderBg);\n  }\n  .menu-list li {\n    margin-bottom: 0.2rem;\n  }\n\n  .content > section {\n    overflow: auto;\n    overscroll-behavior: contain;\n  }\n"]);return _templateObject128=function(){return C},C}function _templateObject129(){var C=_taggedTemplateLiteral(["\n  a {\n    display: inline-block;\n    text-decoration: none;\n  }\n\n  .menu-item {\n    display: inline-flex;\n    width: 100%;\n    padding: 0;\n    font-size: 1.6rem;\n    text-align: left;\n    background: transparent;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    border: none;\n    cursor: pointer;\n  }\n\n  button.menu-item {\n    -webkit-appearance: none;\n    appearance: none;\n    border-radius: 0;\n  }\n\n  .label {\n    display: var(--menuButtonLabelDisplay, none);\n    padding: 0;\n    font-weight: 400;\n    color: var(--primaryTextColor);\n    text-align: left;\n    vertical-align: middle;\n    margin-left: 1rem;\n  }\n\n  .menu-details {\n    color: var(--primaryTextColor);\n    display: inline-block;\n    margin-left: 0.5rem;\n    font-style: italic;\n    font-size: 1.5rem;\n  }\n\n  .menu-item > .icon {\n    position: relative;\n    display: inline-flex;\n    z-index: 2;\n    min-width: 4.2rem;\n    max-width: 4.2rem;\n    height: 4.2rem;\n    vertical-align: middle;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n\n  .menu-item.selected .icon {\n    background-color: var(--activeButtonBg);\n    border-radius: 1rem 0 0 1rem;\n  }\n\n  .icon .fill-color {\n    fill: #999;\n  }\n\n  .icon.active .fill-color {\n    fill: #fff;\n  }\n"]);return _templateObject129=function(){return C},C}function _templateObject130(){var C=_taggedTemplateLiteral(['\n      <span class="icon ','"> ',' </span>\n      <span class="label">','</span>\n      <span class="menu-details">',"</span>\n    "]);return _templateObject130=function(){return C},C}function _templateObject131(){var C=_taggedTemplateLiteral(['\n      <a\n        href="','"\n        class="menu-item ','"\n        @click=',"\n        >","</a\n      >\n    "]);return _templateObject131=function(){return C},C}function _templateObject132(){var C=_taggedTemplateLiteral(['\n      <button class="menu-item ','" @click=',">\n        ","\n      </button>\n    "]);return _templateObject132=function(){return C},C}function _templateObject133(){var C=_taggedTemplateLiteral([""]);return _templateObject133=function(){return C},C}function _templateObject134(){var C=_taggedTemplateLiteral(["\n        <li>\n          <menu-button\n            @menuTypeSelected=","\n            .icon=","\n            .label=","\n            .menuDetails=","\n            .buttonId=","\n            .selected=","\n            .followable=","\n            .href=","\n          ></menu-button>\n        </li>\n      "]);return _templateObject134=function(){return C},C}function _templateObject135(){var C=_taggedTemplateLiteral(['<span class="custom-action">',"</span>"]);return _templateObject135=function(){return C},C}function _templateObject136(){var C=_taggedTemplateLiteral(['\n      <header class="','">\n        <div class="details">\n          <h3>','</h3>\n          <span class="extra-details">',"</span>\n        </div>\n        "," ","\n      </header>\n    "]);return _templateObject136=function(){return C},C}function _templateObject137(){var C=_taggedTemplateLiteral(['\n      <button\n        class="close"\n        aria-label="Close this menu"\n        @click=',"\n      >\n        <ia-icon-collapse-sidebar></ia-icon-collapse-sidebar>\n      </button>\n    "]);return _templateObject137=function(){return C},C}function _templateObject138(){var C=_taggedTemplateLiteral(['\n      <div class="main">\n        <div class="menu ','">\n          ','\n          <ul class="menu-list">\n            ','\n          </ul>\n          <div\n            class="content ','"\n            @menuTypeSelected=',"\n          >\n            ",'\n            <section>\n              <div class="selected-menu">',"</div>\n            </section>\n          </div>\n        </div>\n      </div>\n    "]);return _templateObject138=function(){return C},C}function _templateObject139(){var C=_taggedTemplateLiteral(['\n      <g class="bookIcon" transform="matrix(1 0 0 -1 28 67.362264)">\n        <path d="m44.71698 31.6981124v-29.99320678s-18.0956599.30735848-18.6322637-.7171698c-.0633962-.12226414-1.890566-.59207545-2.9745282-.59207545-1.3228302 0-3.5122641 0-4.1286791.74547168-.9707547 1.17452827-18.82811278.71660375-18.82811278.71660375v30.040754l1.83849052.7867924.29094339-28.48188608s15.94981097.15339622 17.09094297-1.10716978c.8145283-.90056602 4.997547-.91641507 5.3450942-.3526415.9611321 1.55716977 14.7101883 1.31716978 17.6077354 1.45981128l.3266038 28.22830118z"/>\n        <path d="m40.1129424 33.5957539h-12.8337733c-1.8690565 0-3.1098112-.7545283-3.9299999-1.6279245v-26.70452764l1.2362264-.00792453c.4584906.72962262 3.0922641 1.39415091 3.0922641 1.39415091h10.1298111s1.0381131.01754717 1.5141509.47377357c.5643396.54056602.7913207 1.36981129.7913207 1.36981129z"/>\n        <path d="m17.3354713 33.5957539h-12.8337733v-25.37660316s0-.75283017.49358489-1.14113205c.52867924-.41433961 1.3415094-.42849055 1.3415094-.42849055h10.59905631s2.2075471-.52698112 3.0928301-1.39415091l1.2.00792453v26.74245214c-.8201886.8581132-2.0530188 1.59-3.8932074 1.59"/>\n      </g>\n    ']);return _templateObject139=function(){return C},C}function _templateObject140(){var C=_taggedTemplateLiteral(['\n    <svg\n      height="100"\n      viewBox="0 0 100 100"\n      width="100"\n      xmlns="http://www.w3.org/2000/svg"\n      aria-labelledby="item-loading"\n    >\n      <title id="item-loading">Currently loading viewer.</title>\n      <desc>Please wait while we load theater.</desc>\n      <g fill="#333" fill-rule="evenodd" class="book-icon">\n        ','\n        <path\n          class="ring"\n          d="m17.8618849 11.6970233c18.5864635-15.59603144 45.6875867-15.59603102 64.2740497.000001 1.9271446 1.6170806 2.1785128 4.4902567.5614466 6.4174186-1.6170661 1.9271618-4.4902166 2.1785323-6.4173612.5614517-15.1996922-12.75416882-37.3625282-12.75416916-52.5622206-.000001-15.19969387 12.7541707-19.04823077 34.5805019-9.1273354 51.7641499 9.9208955 17.183646 30.7471499 24.7638499 49.3923323 17.9774983 18.6451823-6.7863521 29.7266014-25.9801026 26.2811129-45.5206248-.436848-2.4775114 1.2174186-4.8400696 3.6949079-5.2769215 2.4774893-.4368518 4.8400264 1.2174296 5.2768744 3.694941 4.2132065 23.8945096-9.3373563 47.3649806-32.137028 55.6634567-22.799672 8.2984758-48.2663986-.9707372-60.39785211-21.9832155-12.1314534-21.012481-7.42539173-47.7021198 11.16107351-63.2981544z"\n          fill-rule="nonzero"\n        />\n      </g>\n    </svg>\n    ']);return _templateObject140=function(){return C},C}function _templateObject141(){var C=_taggedTemplateLiteral(["<h2>","</h2>"]);return _templateObject141=function(){return C},C}function _templateObject142(){var C=_taggedTemplateLiteral(['\n      <div class="place-holder">\n        '," ","\n        <h3>Loading viewer</h3>\n      </div>\n    "]);return _templateObject142=function(){return C},C}function _templateObject143(){var C=_taggedTemplateLiteral(["\n      .place-holder {\n        width: 30%;\n        margin: auto;\n        text-align: center;\n        color: var(--primaryTextColor);\n      }\n\n      .place-holder {\n        position: relative;\n      }\n\n      .place-holder svg {\n        display: block;\n        width: 60%;\n        max-width: 100px;\n        height: auto;\n        margin: auto;\n      }\n\n      svg * {\n        fill: var(--primaryTextColor);\n      }\n\n      svg .ring {\n        animation: rotate 1.3s infinite linear;\n        transform-origin: 50px 50px;\n        transform-box: fill-box;\n        display: block; // transform won't work on inline style\n      }\n\n      @keyframes rotate {\n        0% {\n          -moz-transform: rotate(-360deg);\n          -webkit-transform: rotate(-360deg);\n          transform: rotate(-360deg);\n        }\n      }\n    "]);return _templateObject143=function(){return C},C}function _templateObject144(){var C=_taggedTemplateLiteral(["\n      <section>\n        <h2>THERE IS NO PREVIEW AVAILABLE FOR THIS ITEM</h2>\n        <p>\n          This item does not appear to have any files that can be experienced on\n          Archive.org. <br />\n          Please download files in this item to interact with them on your\n          computer.\n        </p>\n        <a href=",">Show all files</a>\n      </section>\n    "]);return _templateObject144=function(){return C},C}function _templateObject145(){var C=_taggedTemplateLiteral(["\n      :host {\n        color: var(--primaryTextColor, #fff);\n        text-align: center;\n      }\n      section {\n        width: 100%;\n        margin: 5%;\n        padding: 0 5%;\n      }\n      p {\n        font-size: 1.4rem;\n      }\n      a {\n        color: var(--primaryTextColor, #fff);\n        background-color: rgb(25, 72, 128);\n        min-height: 35px;\n        cursor: pointer;\n        line-height: normal;\n        border-radius: 0.4rem;\n        text-align: center;\n        vertical-align: middle;\n        font-size: 1.4rem;\n        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n        display: inline-block;\n        padding: 0.85rem 1.2rem;\n        border: 1px solid rgb(197, 209, 223);\n        white-space: nowrap;\n        appearance: auto;\n        box-sizing: border-box;\n        user-select: none;\n        text-decoration: none;\n      }\n    "]);return _templateObject145=function(){return C},C}function _templateObject146(){var C=_taggedTemplateLiteral(['\n      <div class="loading-area">\n        <div class="loading-view">\n          <ia-itemnav-loader\n            .loaderMessage=',"\n          ></ia-itemnav-loader>\n        </div>\n      </div>\n    "]);return _templateObject146=function(){return C},C}function _templateObject147(){var C=_taggedTemplateLiteral(['\n      <div id="frame" class=','>\n        <slot\n          name="header"\n          style=',"\n          @slotchange=",'\n        ></slot>\n        <div class="menu-and-reader">\n          ','\n          <div id="reader" class=',">\n            ","\n          </div>\n          ","\n        </div>\n      </div>\n    "]);return _templateObject147=function(){return C},C}function _templateObject148(){var C=_taggedTemplateLiteral(["<ia-no-theater-available\n      .identifier=","\n      @loadingStateUpdated=","\n    ></ia-no-theater-available>"]);return _templateObject148=function(){return C},C}function _templateObject149(){var C=_taggedTemplateLiteral(['\n      <div slot="main" style=','>\n        <slot\n          name="main"\n          @slotchange=',"\n        ></slot>\n      </div>\n    "]);return _templateObject149=function(){return C},C}function _templateObject150(){var C=_taggedTemplateLiteral(['\n      <button\n        class="toggle-menu"\n        @click=','\n        title="Toggle theater side panels"\n      >\n        <div>\n          <ia-icon-ellipses\n            style="width: var(--iconWidth); height: var(--iconHeight);"\n          ></ia-icon-ellipses>\n        </div>\n      </button>\n    ']);return _templateObject150=function(){return C},C}function _templateObject151(){var C=_taggedTemplateLiteral(['\n      <nav>\n        <div class="minimized">'," ",'</div>\n        <div id="menu" class=',">\n          <ia-menu-slider\n            .menus=","\n            .selectedMenu=","\n            @menuTypeSelected=","\n            @menuSliderClosed=","\n            manuallyHandleClose\n            open\n          ></ia-menu-slider>\n        </div>\n      </nav>\n    "]);return _templateObject151=function(){return C},C}function _templateObject152(){var C=_taggedTemplateLiteral(["",""]);return _templateObject152=function(){return C},C}function _templateObject153(){var C=_taggedTemplateLiteral(['\n        <button class="shortcut ','" @click="','">\n          ',"\n        </button>\n      "]);return _templateObject153=function(){return C},C}function _templateObject154(){var C=_taggedTemplateLiteral(['<div class="shortcuts">',"</div>"]);return _templateObject154=function(){return C},C}function _templateObject155(){var C=_taggedTemplateLiteral(["var(--menuWidth, 320px)"]);return _templateObject155=function(){return C},C}function _templateObject156(){var C=_taggedTemplateLiteral(["var(--animationTiming, 200ms)"]);return _templateObject156=function(){return C},C}function _templateObject157(){var C=_taggedTemplateLiteral(["transform "," ease-out"]);return _templateObject157=function(){return C},C}function _templateObject158(){var C=_taggedTemplateLiteral(["var(--theaterMenuMargin, 42px)"]);return _templateObject158=function(){return C},C}function _templateObject159(){var C=_taggedTemplateLiteral(["var(--theaterBgColor, #000)"]);return _templateObject159=function(){return C},C}function _templateObject160(){var C=_taggedTemplateLiteral(["\n      :host,\n      #frame,\n      .menu-and-reader {\n        position: relative;\n        overflow: hidden;\n        display: block;\n      }\n\n      :host,\n      #frame,\n      .loading-area,\n      .loading-view {\n        min-height: inherit;\n        height: inherit;\n      }\n\n      slot {\n        display: block;\n        width: 100%;\n      }\n\n      slot * {\n        display: block;\n        height: inherit;\n      }\n\n      #frame {\n        background-color: ",";\n        color-scheme: dark;\n        display: flex;\n        flex-direction: column;\n      }\n\n      #frame.fullscreen {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        z-index: 9;\n      }\n\n      .loading-view {\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .loading-area {\n        width: 100%;\n      }\n\n      ia-itemnav-loader {\n        display: block;\n        width: 100%;\n      }\n\n      .hidden {\n        display: none !important;\n      }\n\n      button {\n        cursor: pointer;\n        padding: 0;\n        border: 0;\n      }\n\n      .menu-and-reader {\n        position: relative;\n        display: flex;\n        flex: 1;\n      }\n\n      nav button {\n        background: none;\n      }\n\n      nav .minimized {\n        background: rgba(0, 0, 0, 0.7);\n        padding-top: 6px;\n        position: absolute;\n        width: ",";\n        z-index: 2;\n        left: 0;\n        border-bottom-right-radius: 5%;\n      }\n\n      nav .minimized button {\n        width: var(--iconWidth);\n        height: var(--iconHeight);\n        margin-bottom: 0.2rem;\n        margin: auto;\n        display: inline-flex;\n        vertical-align: middle;\n        -webkit-box-align: center;\n        align-items: center;\n        -webkit-box-pack: center;\n        justify-content: center;\n        width: ",";\n        height: ",";\n      }\n\n      nav .minimized button.toggle-menu > * {\n        border: 2px solid var(--iconStrokeColor);\n        border-radius: var(--iconWidth);\n        width: var(--iconWidth);\n        height: var(--iconHeight);\n        margin: auto;\n      }\n\n      ia-icon-ellipses {\n        width: var(--iconWidth);\n        height: var(--iconHeight);\n      }\n\n      #menu {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        z-index: 3;\n        overflow: hidden;\n        transform: translateX(-",");\n        width: ",";\n        transform: translateX(calc("," * -1));\n        transition: ",";\n      }\n\n      #reader {\n        position: relative;\n        z-index: 1;\n        transform: translateX(0);\n        width: 100%;\n        display: flex;\n      }\n\n      #reader > * {\n        width: 100%;\n        display: flex;\n        flex: 1;\n      }\n\n      .open.overlay #reader {\n        transition: none;\n      }\n\n      .open #menu {\n        width: ",";\n        transform: translateX(0);\n        transition: ",";\n      }\n\n      .open.shift #reader {\n        width: calc(100% - ",");\n        margin-left: ",";\n        transition: ",";\n      }\n    "]);return _templateObject160=function(){return C},C}function _templateObject161(){var C=_taggedTemplateLiteral(['<ia-icon-share\n  style="width: var(--iconWidth); height: var(--iconHeight);"\n></ia-icon-share>']);return _templateObject161=function(){return C},C}function _templateObject162(){var C=_taggedTemplateLiteral(["<ia-icon-twitter></ia-icon-twitter>"]);return _templateObject162=function(){return C},C}function _templateObject163(){var C=_taggedTemplateLiteral(["<ia-icon-facebook></ia-icon-facebook>"]);return _templateObject163=function(){return C},C}function _templateObject164(){var C=_taggedTemplateLiteral(["<ia-icon-tumblr></ia-icon-tumblr>"]);return _templateObject164=function(){return C},C}function _templateObject165(){var C=_taggedTemplateLiteral(["<ia-icon-pinterest></ia-icon-pinterest>"]);return _templateObject165=function(){return C},C}function _templateObject166(){var C=_taggedTemplateLiteral(["<ia-icon-email></ia-icon-email>"]);return _templateObject166=function(){return C},C}function _templateObject167(){var C=_taggedTemplateLiteral(["<header><h3>Share this ","</h3></header>"]);return _templateObject167=function(){return C},C}function _templateObject168(){var C=_taggedTemplateLiteral([' <a class="share-option" href="','" target="_blank">\n              '," ","\n            </a>"]);return _templateObject168=function(){return C},C}function _templateObject169(){var C=_taggedTemplateLiteral(["\n      ","\n      <main>\n        ",'\n        <details>\n          <summary class="share-option">\n            <ia-icon-link></ia-icon-link>\n            Get an embeddable link\n          </summary>\n          <div class="embed">\n            <h4>Embed</h4>\n            <div class="code" @click=',">\n              <textarea readonly>",'</textarea>\n              <small>Copied to clipboard</small>\n            </div>\n            <h4>\n              Embed for wordpress.com hosted blogs and archive.org item\n              &lt;description&gt; tags\n            </h4>\n            <div class="code" @click=',">\n              <textarea readonly>","</textarea>\n              <small>Copied to clipboard</small>\n            </div>\n            <p>\n              Want more?\n              <a href=","\n                >Advanced embedding details, examples, and help</a\n              >!\n            </p>\n          </div>\n        </details>\n      </main>\n    "]);return _templateObject169=function(){return C},C}function _templateObject170(){var C=_taggedTemplateLiteral(['<ia-icon-share\n      style="width: var(--iconWidth); height: var(--iconHeight);"\n    ></ia-icon-share>']);return _templateObject170=function(){return C},C}function _templateObject171(){var C=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        height: 100%;\n        overflow-y: auto;\n        font-size: 1.4rem;\n        box-sizing: border-box;\n      }\n\n      header {\n        display: flex;\n        align-items: baseline;\n      }\n\n      h3 {\n        padding: 0;\n        margin: 0 1rem 0 0;\n        font-size: 1.6rem;\n      }\n\n      h4 {\n        font-size: 1.4rem;\n      }\n\n      main {\n        padding: 1rem 0;\n      }\n\n      .share-option {\n        display: block;\n        padding: 0.5rem 0;\n        font-size: 1.6rem;\n        text-decoration: none;\n        color: var(--shareLinkColor);\n        cursor: pointer;\n      }\n\n      .share-option > * {\n        display: inline-block;\n        padding: 0.2rem;\n        margin-right: 1rem;\n        vertical-align: middle;\n        border: 1px solid var(--shareIconBorder);\n        border-radius: 7px;\n        background: var(--shareIconBg);\n      }\n\n      /* Hide the triangle that appears on details tags */\n      summary::marker {\n        content: '';\n      }\n\n      summary::-webkit-details-marker {\n        display: none;\n      }\n\n      .embed {\n        padding-right: 5px;\n      }\n\n      .embed a {\n        color: var(--shareLinkColor);\n      }\n\n      .code {\n        position: relative;\n      }\n\n      textarea {\n        display: block;\n        width: 100%;\n        height: 120px;\n        padding: 0.8rem 1rem;\n        box-sizing: border-box;\n        resize: none;\n        cursor: pointer;\n        font:\n          normal 1.4rem 'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif;\n        color: var(--textareaColor, #fff);\n        background: var(--textareaBg, #151515);\n      }\n\n      small {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        height: 3rem;\n        padding: 0.5rem 1rem;\n        box-sizing: border-box;\n        font:\n          normal 1.2rem/2rem 'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif;\n        color: var(--textareaBg, #151515);\n        background: var(--textareaColor, #fff);\n        opacity: 0;\n        transition: opacity 300ms linear;\n      }\n      small.visible {\n        opacity: 1;\n      }\n    "]);return _templateObject171=function(){return C},C}function _templateObject172(){var C=_taggedTemplateLiteral(['\n  <svg\n    name="sort-asc"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"\n        stroke="#fff"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="1.661538"\n        transform="matrix(1 0 0 -1 0 18.692308)"\n      />\n    </g>\n  </svg>\n']);return _templateObject172=function(){return C},C}function _templateObject173(){var C=_taggedTemplateLiteral(['\n  <svg\n    name="sort-desc"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"\n        stroke="#fff"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="1.661538"\n      />\n    </g>\n  </svg>\n']);return _templateObject173=function(){return C},C}function _templateObject174(){var C=_taggedTemplateLiteral(['\n  <svg\n    name="sort-neutral"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="#fff" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill-rule="nonzero"\n      />\n      <circle cx="13" cy="9" r="2" />\n    </g>\n  </svg>\n']);return _templateObject174=function(){return C},C}function _templateObject175(){var C=_taggedTemplateLiteral(['\n  <svg\n    height="24"\n    viewBox="0 0 24 24"\n    width="24"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="volumesTitleID volumesDescID"\n  >\n    <title id="volumesTitleID">Viewable Files</title>\n    <g fill="#ffffff">\n      <path\n        fill="#ffffff"\n        d="m9.83536396 0h10.07241114c.1725502.47117517.3378411.76385809.4958725.87804878.1295523.11419069.3199719.1998337.5712586.25692905.2512868.05709534.4704647.08564301.6575337.08564301h.2806036v15.24362526h-4.3355343v3.8106985h-4.44275v3.7250554h-12.01318261c-.27306495 0-.50313194-.085643-.69020098-.256929-.18706903-.1712861-.30936193-.3425721-.36687867-.5138581l-.06449694-.2785477v-14.2159091c0-.32815965.08627512-.5922949.25882537-.79240577.17255024-.20011086.34510049-.32150776.51765073-.36419068l.25882537-.0640244h3.36472977v-2.54767184c0-.31374722.08627513-.57067627.25882537-.77078714.17255025-.20011086.34510049-.32150776.51765074-.36419068l.25882536-.06402439h3.36472978v-2.56929047c0-.32815964.08627512-.5922949.25882537-.79240576.17255024-.20011087.34510049-.31430156.51765073-.34257207zm10.78355264 15.6294346v-13.53076498c-.2730649-.08536585-.4456152-.16380266-.5176507-.23531042-.1725502-.1424612-.2730649-.27078714-.3015441-.38497783v13.36031043h-9.87808272c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144124-.08962561.006929-.13988296.0640244-.05025735.0570953-.07538603.1427383-.07538603.256929s.02149898.210643.06449694.289357c.04299795.078714.08599591.1322062.12899387.1604767l.06449693.0216187h10.71905571zm-10.2449613-2.4412417h7.98003v-11.60421286h-7.98003zm1.6827837-9.41990022h4.6153002c.1725502 0 .3199718.05349224.4422647.16047672s.1834393.23891353.1834393.39578714c0 .15687362-.0611464.28519956-.1834393.38497783s-.2697145.1496674-.4422647.1496674h-4.6153002c-.1725503 0-.3199719-.04988913-.4422647-.1496674-.1222929-.09977827-.1834394-.22810421-.1834394-.38497783 0-.15687361.0611465-.28880266.1834394-.39578714.1222928-.10698448.2697144-.16047672.4422647-.16047672zm-6.08197737 13.50997782h7.72120467v-.8131929h-3.79610541c-.27306495 0-.49950224-.085643-.67931188-.256929-.17980964-.1712861-.29847284-.3425721-.35598958-.5138581l-.06449694-.2785477v-10.02023282h-2.82530086zm6.77217827-11.36890243h3.2139578c.1295522 0 .240956.05709534.3342113.17128603.0932554.11419069.139883.24972284.139883.40659645 0 .15687362-.0466276.28880267-.139883.39578714-.0932553.10698448-.2046591.16047672-.3342113.16047672h-3.2139578c-.1295523 0-.2373264-.05349224-.3233223-.16047672-.0859959-.10698447-.1289938-.23891352-.1289938-.39578714 0-.15687361.0429979-.29240576.1289938-.40659645s.19377-.17128603.3233223-.17128603zm-11.15043132 15.11557653h7.69942646v-.7491685h-3.79610539c-.25854616 0-.48135376-.0892462-.66842279-.2677384-.18706904-.1784922-.30936193-.3605876-.36687868-.546286l-.06449694-.2569291v-10.04101994h-2.80352266zm14.62237682-4.5606985h-.8191949v2.1410754h-9.89986085s-.04299796.0285477-.12899387.085643c-.08599592.0570954-.12201369.1427384-.10805331.2569291 0 .1141907.01786928.210643.05360784.289357.03573856.0787139.07538603.125.1189424.138858l.06449694.0432373h10.71905575v-2.9542683zm-4.3991936 3.8106985h-.8191949v2.077051h-9.8563045c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144125-.08962561.0105321-.13988296.0748337-.05025735.0643015-.07538603.1607538-.07538603.289357 0 .1141906.02149898.2070399.06449694.2785476.04299795.0715078.08599591.1141907.12899387.1280488l.06449693.0216186h10.69811519v-2.8686252z"\n      />\n    </g>\n  </svg>\n']);return _templateObject175=function(){return C},C}function _templateObject176(){var C=_taggedTemplateLiteral(['<div class="sort-multi-file-list">',"</div>"]);return _templateObject176=function(){return C},C}function _templateObject177(){var C=_taggedTemplateLiteral(['\n        <button\n          class="sort-by neutral-icon"\n          aria-label="Sort volumes in initial order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject177=function(){return C},C}function _templateObject178(){var C=_taggedTemplateLiteral(['\n        <button\n          class="sort-by asc-icon"\n          aria-label="Sort volumes in ascending order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject178=function(){return C},C}function _templateObject179(){var C=_taggedTemplateLiteral(['\n        <button\n          class="sort-by desc-icon"\n          aria-label="Sort volumes in descending order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject179=function(){return C},C}function _templateObject180(){var C=_taggedTemplateLiteral(["\n      button.sort-by {\n        padding: 0px;\n        background-color: transparent;\n        border: 0px;\n        --iconWidth: var(--menuSliderHeaderIconWidth);\n        --iconHeight: var(--menuSliderHeaderIconHeight);\n      }\n    "]);return _templateObject180=function(){return C},C}function _templateObject181(){var C=_taggedTemplateLiteral(['\n      <li class="content active">\n        <div class="separator"></div>\n        <a class="container" href="','">\n          <div class="image">\n            <img src="','" alt="preview" />\n          </div>\n          <div class="text">\n            <p class="item-title">',"</p>\n            <small>by: ","</small>\n          </div>\n        </a>\n      </li>\n    "]);return _templateObject181=function(){return C},C}function _templateObject182(){var C=_taggedTemplateLiteral(['<span class="pdf-label"\n      ><span class="sr-only">view this</span> PDF</span\n    >']);return _templateObject182=function(){return C},C}function _templateObject183(){var C=_taggedTemplateLiteral(['\n      <li>\n        <div class="separator"></div>\n        <div class="content','">\n          <a href=','>\n            <p class="item-title">\n              ',"","\n            </p>\n          </a>\n        </div>\n      </li>\n    "]);return _templateObject183=function(){return C},C}function _templateObject184(){var C=_taggedTemplateLiteral(["\n      <ul>\n        ",'\n        <div class="separator"></div>\n      </ul>\n    ']);return _templateObject184=function(){return C},C}function _templateObject185(){var C=_taggedTemplateLiteral([" "," "]);return _templateObject185=function(){return C},C}function _templateObject186(){var C=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        overflow-y: auto;\n        box-sizing: border-box;\n        color: var(--primaryTextColor);\n        margin-top: 14px;\n        margin-bottom: 2rem;\n        --activeBorderWidth: 2px;\n      }\n\n      a {\n        color: #ffffff;\n        text-decoration: none;\n      }\n\n      img {\n        width: 35px;\n        height: 45px;\n      }\n\n      ul {\n        padding: 0;\n        list-style: none;\n        margin: var(--activeBorderWidth) 0.5rem 1rem 0;\n      }\n\n      ul > li:first-child .separator {\n        display: none;\n      }\n\n      li {\n        cursor: pointer;\n        position: relative;\n      }\n\n      li .content {\n        padding: 2px 0 4px 2px;\n        border: var(--activeBorderWidth) solid transparent;\n        padding: 0.2rem 0 0.4rem 0.2rem;\n      }\n\n      li .content.active {\n        border: var(--activeBorderWidth) solid #538bc5;\n      }\n\n      li.content a {\n        display: flex;\n      }\n\n      small {\n        font-style: italic;\n        white-space: initial;\n      }\n\n      .container {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .item-title {\n        margin-block-start: 0em;\n        margin-block-end: 0em;\n        font-size: 14px;\n        font-weight: bold;\n        word-wrap: break-word;\n        padding-left: 5px;\n      }\n\n      .separator {\n        background-color: var(--secondaryBGColor);\n        width: 98%;\n        margin: 1px auto;\n        height: 1px;\n      }\n\n      .text {\n        padding-left: 10px;\n      }\n\n      .icon {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        margin-left: 0.7rem;\n        border: 1px solid var(--primaryTextColor);\n        border-radius: 2px;\n        background: var(--activeButtonBg) 50% 50% no-repeat;\n      }\n\n      .pdf-label {\n        border: 1px solid;\n        padding: 2px 5px;\n        border-radius: 20px;\n        display: inline-block;\n        margin-left: 5px;\n        font-size: 0.9rem;\n      }\n\n      .pdf-label .sr-only {\n        position: absolute;\n        clip: rect(1px, 1px, 1px, 1px);\n        padding: 0;\n        border: 0;\n        height: 1px;\n        width: 1px;\n        overflow: hidden;\n      }\n    "]);return _templateObject186=function(){return C},C}function _templateObject187(){var C=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 40 40"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="closeTitleID closeDescID"\n>\n  <title id="closeTitleID">Close icon</title>\n  <desc id="closeDescID">A line drawing of an X</desc>\n  <path d="m29.1923882 10.8076118c.5857864.5857865.5857864 1.535534 0 2.1213204l-7.0711162 7.0703398 7.0711162 7.0717958c.5857864.5857864.5857864 1.5355339 0 2.1213204-.5857865.5857864-1.535534.5857864-2.1213204 0l-7.0717958-7.0711162-7.0703398 7.0711162c-.5857864.5857864-1.5355339.5857864-2.1213204 0-.5857864-.5857865-.5857864-1.535534 0-2.1213204l7.0706602-7.0717958-7.0706602-7.0703398c-.5857864-.5857864-.5857864-1.5355339 0-2.1213204.5857865-.5857864 1.535534-.5857864 2.1213204 0l7.0703398 7.0706602 7.0717958-7.0706602c.5857864-.5857864 1.5355339-.5857864 2.1213204 0z" class="fill-color" fill-rule="evenodd"/>\n</svg>\n']);return _templateObject187=function(){return C},C}function _templateObject188(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject188=function(){return C},C}function _templateObject189(){var C=_taggedTemplateLiteral(['\n<svg\n  class="ia-logo"\n  viewBox="0 0 27 30"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="logoTitleID logoDescID"\n>\n  <title id="logoTitleID">Internet Archive logo</title>\n  <desc id="logoDescID">A line drawing of the Internet Archive headquarters building fa\xE7ade.</desc>\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <mask id="mask-2" class="fill-color">\n      <path d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z" id="path-1"></path>\n    </mask>\n    <use class="fill-color" xlink:href="#path-1"></use>\n    <g mask="url(#mask-2)" class="fill-color">\n      <path d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z" id="swatch"></path>\n    </g>\n  </g>\n</svg>\n']);return _templateObject189=function(){return C},C}function _templateObject190(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject190=function(){return C},C}function _templateObject191(){var C=_taggedTemplateLiteral(['<div class="logo-icon">',"</div>"]);return _templateObject191=function(){return C},C}function _templateObject192(){var C=_taggedTemplateLiteral(['<h1 class="title">',"</h1>"]);return _templateObject192=function(){return C},C}function _templateObject193(){var C=_taggedTemplateLiteral(['<h2 class="subtitle">',"</h2>"]);return _templateObject193=function(){return C},C}function _templateObject194(){var C=_taggedTemplateLiteral([' <h1 class="headline">',"</h1> "]);return _templateObject194=function(){return C},C}function _templateObject195(){var C=_taggedTemplateLiteral([' <p class="message">',"</p> "]);return _templateObject195=function(){return C},C}function _templateObject196(){var C=_taggedTemplateLiteral(['\n      <div class="modal-wrapper">\n        <div class="modal-container">\n          <header style="background-color: ','">\n            ',"\n            ","\n            ","\n            ",'\n          </header>\n          <section\n            class="modal-body"\n            style="background-color: ','"\n          >\n            <div class="content">\n              <div\n                class="processing-logo ','"\n              >\n                <ia-activity-indicator\n                  .mode=',"\n                ></ia-activity-indicator>\n              </div>\n              ","\n              ",'\n\n              <div class="slot-container">\n                <slot> </slot>\n              </div>\n            </div>\n          </section>\n        </div>\n      </div>\n    ']);return _templateObject196=function(){return C},C}function _templateObject197(){var C=_taggedTemplateLiteral(['\n      <button\n        type="button"\n        class="close-button"\n        tabindex="0"\n        @click=',"\n      >\n        ","\n      </button>\n    "]);return _templateObject197=function(){return C},C}function _templateObject198(){var C=_taggedTemplateLiteral(["var(--modalLogoSize, 6.5rem)"]);return _templateObject198=function(){return C},C}function _templateObject199(){var C=_taggedTemplateLiteral(["var(--processingImageSize, 7.5rem)"]);return _templateObject199=function(){return C},C}function _templateObject200(){var C=_taggedTemplateLiteral(["var(--modalCornerRadius, 1rem)"]);return _templateObject200=function(){return C},C}function _templateObject201(){var C=_taggedTemplateLiteral(["var(--modalBorder, 2px solid black)"]);return _templateObject201=function(){return C},C}function _templateObject202(){var C=_taggedTemplateLiteral(["var(--modalBottomMargin, 2.5rem)"]);return _templateObject202=function(){return C},C}function _templateObject203(){var C=_taggedTemplateLiteral(["var(--modalTopMargin, 5rem)"]);return _templateObject203=function(){return C},C}function _templateObject204(){var C=_taggedTemplateLiteral(["var(--modalHeaderBottomPadding, 0.5em)"]);return _templateObject204=function(){return C},C}function _templateObject205(){var C=_taggedTemplateLiteral(["var(--modalBottomPadding, 2rem)"]);return _templateObject205=function(){return C},C}function _templateObject206(){var C=_taggedTemplateLiteral(["var(--modalScrollOffset, 5px)"]);return _templateObject206=function(){return C},C}function _templateObject207(){var C=_taggedTemplateLiteral(["var(--modalTitleFontSize, 1.8rem)"]);return _templateObject207=function(){return C},C}function _templateObject208(){var C=_taggedTemplateLiteral(["var(--modalSubtitleFontSize, 1.4rem)"]);return _templateObject208=function(){return C},C}function _templateObject209(){var C=_taggedTemplateLiteral(["var(--modalHeadlineFontSize, 1.6rem)"]);return _templateObject209=function(){return C},C}function _templateObject210(){var C=_taggedTemplateLiteral(["var(--modalMessageFontSize, 1.4rem)"]);return _templateObject210=function(){return C},C}function _templateObject211(){var C=_taggedTemplateLiteral(["var(--modalTitleLineHeight, normal)"]);return _templateObject211=function(){return C},C}function _templateObject212(){var C=_taggedTemplateLiteral(["var(--modalSubtitleLineHeight, normal)"]);return _templateObject212=function(){return C},C}function _templateObject213(){var C=_taggedTemplateLiteral(["var(--modalHeadlineLineHeight, normal)"]);return _templateObject213=function(){return C},C}function _templateObject214(){var C=_taggedTemplateLiteral(["var(--modalMessageLineHeight, normal)"]);return _templateObject214=function(){return C},C}function _templateObject215(){var C=_taggedTemplateLiteral(["\n      .processing-logo {\n        margin: auto;\n        width: ",";\n        height: ",";\n      }\n\n      .processing-logo.hidden {\n        height: 1rem;\n      }\n\n      .processing-logo.hidden ia-activity-indicator {\n        display: none;\n      }\n\n      .modal-wrapper {\n        outline: none;\n      }\n\n      .modal-container {\n        border-radius: ",";\n        width: 100%;\n        margin-top: ",";\n      }\n\n      header {\n        position: relative;\n        background-color: #36a483;\n        color: white;\n        border-radius: calc(",") calc(",") 0 0;\n        border: ",";\n        border-bottom: 0;\n        text-align: center;\n        padding-bottom: ",";\n      }\n\n      .title {\n        margin: 0;\n        padding: 0;\n        font-size: ",";\n        font-weight: bold;\n        line-height: ",";\n      }\n\n      .subtitle {\n        margin: 0;\n        padding: 0;\n        font-weight: normal;\n        padding-top: 0;\n        font-size: ",";\n        line-height: ",";\n      }\n\n      .modal-body {\n        background-color: #f5f5f7;\n        border-radius: 0 0 calc(",") calc(",");\n        border: ",";\n        border-top: 0;\n        padding: 0 1rem calc("," - ",") 1rem;\n        color: #333;\n        margin-bottom: 2.5rem;\n        min-height: 5rem;\n      }\n\n      .content {\n        overflow-y: auto;\n        max-height: calc(100vh - (16.5rem + ","));\n        min-height: 5rem;\n        padding: 0 0 calc(",") 0;\n      }\n\n      .headline {\n        font-size: ",";\n        font-weight: bold;\n        text-align: center;\n        line-height: ",";\n        margin: 0;\n        padding: 0;\n      }\n\n      .message {\n        margin: 1rem 0 0 0;\n        text-align: center;\n        font-size: ",";\n        line-height: ",";\n      }\n\n      .logo-icon {\n        border-radius: 100%;\n        border: 3px solid #fff;\n        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),\n          0 2px 2px 0 rgba(0, 0, 0, 0.08);\n        width: ",";\n        height: ",";\n        margin: -2.9rem auto 0.5rem auto;\n        background-color: black;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .logo-icon svg {\n        width: calc("," * 0.65);\n        height: calc("," * 0.65);\n      }\n\n      .logo-icon svg .fill-color {\n        fill: white;\n      }\n\n      .logo-icon svg .stroke-color {\n        stroke: red;\n      }\n\n      .close-button {\n        position: absolute;\n        right: 1.2rem;\n        top: 1.2rem;\n        width: 2rem;\n        height: 2rem;\n        border-radius: 100%;\n        border: 0;\n        padding: 0;\n        cursor: pointer;\n        background-color: white;\n        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),\n          0 4px 4px 0 rgba(0, 0, 0, 0.08);\n      }\n\n      .sr-only {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        border: 0;\n      }\n\n      slot::slotted(.sr-only) {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        border: 0;\n      }\n    "]);return _templateObject215=function(){return C},C}function _templateObject216(){var C=_taggedTemplateLiteral(['\n      <div class="container">\n        <div class="backdrop" @click=',"></div>\n        <modal-template\n          @closeButtonPressed=",'\n          tabindex="0"\n        >\n          ',"\n        </modal-template>\n      </div>\n    "]);return _templateObject216=function(){return C},C}function _templateObject217(){var C=_taggedTemplateLiteral(["var(--modalBackdropColor, rgba(10, 10, 10, 0.9))"]);return _templateObject217=function(){return C},C}function _templateObject218(){var C=_taggedTemplateLiteral(["var(--modalBackdropZindex, 1000)"]);return _templateObject218=function(){return C},C}function _templateObject219(){var C=_taggedTemplateLiteral(["var(--modalWidth, 32rem)"]);return _templateObject219=function(){return C},C}function _templateObject220(){var C=_taggedTemplateLiteral(["var(--modalMaxWidth, 95%)"]);return _templateObject220=function(){return C},C}function _templateObject221(){var C=_taggedTemplateLiteral(["var(--modalZindex, 2000)"]);return _templateObject221=function(){return C},C}function _templateObject222(){var C=_taggedTemplateLiteral(["\n      .container {\n        width: 100%;\n        height: 100%;\n      }\n\n      .backdrop {\n        position: fixed;\n        top: 0;\n        left: 0;\n        background-color: ",";\n        width: 100%;\n        height: 100%;\n        z-index: ",";\n      }\n\n      modal-template {\n        outline: 0;\n        position: fixed;\n        top: 0;\n        left: 50%;\n        transform: translate(-50%, 0);\n        z-index: ",";\n        width: ",";\n        max-width: ",";\n      }\n    "]);return _templateObject222=function(){return C},C}function _templateObject223(){var C=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="searchTitleID searchDescID"\n>\n  <title id="searchTitleID">Search icon</title>\n  <desc id="searchDescID">Search for something.</desc>\n  <path\n    class="fill-color"\n    fill="none"\n    d="m17.0555551 41.3194459c0-12.7430552 10.3541664-23.1027772 23.0847216-23.1027772 12.7166664 0 23.0777773 10.359722 23.0777773 23.1027772 0 12.7361108-10.3611109 23.0986106-23.0777773 23.0986106-12.7305552 0-23.0847216-10.3624998-23.0847216-23.0986106zm-17.24305512 0c0 22.2916661 18.04583292 40.3472213 40.32777672 40.3472213 8.9208332 0 17.145833-2.9319449 23.8194439-7.8527776l24.1513883 24.0777771c1.2125 1.1402778 2.8430555 1.8430556 4.6374999 1.8430556 3.7444443 0 6.7805554-3.0361111 6.7805554-6.7791665 0-2.0652778-.9222222-3.9069444-2.3736111-5.1499999l-23.718055-23.7458328c4.4152777-6.4791665 7.0152776-14.3055552 7.0152776-22.7402772 0-22.2791661-18.0458328-40.34861006-40.312499-40.34861006-22.2819438 0-40.32777672 18.06944396-40.32777672 40.34861006z" />\n</svg>\n']);return _templateObject223=function(){return C},C}function _templateObject224(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject224=function(){return C},C}function _templateObject225(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      #hollow,\n      #plus,\n      #minus {\n        display: none;\n      }\n\n      .hollow #filled,\n      .plus #filled,\n      .minus #filled {\n        display: none;\n      }\n\n      .hollow #hollow,\n      .plus #hollow,\n      .minus #hollow {\n        display: block;\n      }\n\n      .plus #plus {\n        display: block;\n      }\n\n      .minus #minus {\n        display: block;\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject225=function(){return C},C}function _templateObject226(){var C=_taggedTemplateLiteral(["\n      <div class=",'>\n        <svg\n          height="24"\n          viewBox="0 0 16 24"\n          width="16"\n          xmlns="http://www.w3.org/2000/svg"\n          aria-labelledby="bookmarkTitleID bookmarDescID"\n        >\n          <title id="bookmarkTitleID">Bookmark icon</title>\n          <desc id="bookmarkDescID">An outline of the shape of a bookmark</desc>\n          <path\n            id="filled"\n            d="m1 0h14c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1z"\n            class="fill-color"\n            fill-rule="evenodd"\n          />\n          <g class="fill-color" fill-rule="evenodd">\n            <path\n              id="hollow"\n              d="m15 0c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1zm-2 2h-10c-.51283584 0-.93550716.38604019-.99327227.88337887l-.00672773.11662113v18l6-4.3181818 6 4.3181818v-18c0-.51283584-.3860402-.93550716-.8833789-.99327227z"\n            />\n            <path\n              id="plus"\n              d="m8.75 6v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25v-2.25z"\n              fill-rule="nonzero"\n            />\n            <path id="minus" d="m11 8.25v1.5h-6v-1.5z" fill-rule="nonzero" />\n          </g>\n        </svg>\n      </div>\n    ']);return _templateObject226=function(){return C},C}function _templateObject227(){var C=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 24 24"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="visualAdjustmentTitleID visualAdjustmentDescID"\n>\n  <title id="visualAdjustmentTitleID">Visual adjustment</title>\n  <desc id="visualAdjustmentDescID">A circle with its left hemisphere filled</desc>\n  <path class="fill-color" d="m12 0c6.627417 0 12 5.372583 12 12s-5.372583 12-12 12-12-5.372583-12-12 5.372583-12 12-12zm0 2v20l.2664041-.0034797c5.399703-.1412166 9.7335959-4.562751 9.7335959-9.9965203 0-5.5228475-4.4771525-10-10-10z" fill-rule="evenodd" />\n</svg>\n']);return _templateObject227=function(){return C},C}function _templateObject228(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject228=function(){return C},C}function _templateObject229(){var C=_taggedTemplateLiteral(['\n<svg height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg" aria-labelledby="editPencilTitleID editPencilDescID"><title id="editPencilTitleID">Pencil icon</title><desc id="editPencilDescID">An illustration of a pencil, used to represent an edit action</desc><path class="fill-color" d="m15.6111048 9.3708338-9.52237183 9.5222966-5.14363353 1.0897111c-.42296707.0896082-.83849202-.1806298-.92810097-.6035935-.02266463-.1069795-.02266463-.2175207 0-.3245001l1.08971974-5.1435929 9.52237189-9.52229656zm-10.89310224 5.9110366-2.78094924-.5403869-.67567462 3.166657.83033407.8303275 3.16668096-.6756703zm14.82724244-12.05935921c.6114418.61143705.6055516 1.6086709-.0131615 2.22737904l-2.2405581 2.24054036-4.9820147-4.98197536 2.2405581-2.24054036c.618713-.61870814 1.6159506-.62460252 2.2273925-.01316547z" fill-rule="evenodd"/></svg>\n']);return _templateObject229=function(){return C},C}function _templateObject230(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject230=function(){return C},C}function _templateObject231(){var C=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="downloadTitleID downloadDescID"\n>\n  <title id="downloadTitleID">Download icon</title>\n  <desc id="downloadDescID">An arrow pointing downward at an empty document tray</desc>\n  <g class="fill-color">\n\n    <path d="m50 80 33.3333333-43.3333333h-20v-36.6666667h-26.6666666v36.6666667h-20zm50 20v-13.3333333h-100v13.3333333z"/>\n  </g>\n</svg>\n']);return _templateObject231=function(){return C},C}function _templateObject232(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject232=function(){return C},C}function _templateObject233(){var C=_taggedTemplateLiteral(['<ia-icon-share\n  style="width: var(--iconWidth); height: var(--iconHeight);"\n></ia-icon-share>']);return _templateObject233=function(){return C},C}function _templateObject234(){var C=_taggedTemplateLiteral(["<ia-icon-twitter></ia-icon-twitter>"]);return _templateObject234=function(){return C},C}function _templateObject235(){var C=_taggedTemplateLiteral(["<ia-icon-facebook></ia-icon-facebook>"]);return _templateObject235=function(){return C},C}function _templateObject236(){var C=_taggedTemplateLiteral(["<ia-icon-tumblr></ia-icon-tumblr>"]);return _templateObject236=function(){return C},C}function _templateObject237(){var C=_taggedTemplateLiteral(["<ia-icon-pinterest></ia-icon-pinterest>"]);return _templateObject237=function(){return C},C}function _templateObject238(){var C=_taggedTemplateLiteral(["<ia-icon-email></ia-icon-email>"]);return _templateObject238=function(){return C},C}function _templateObject239(){var C=_taggedTemplateLiteral(["<header><h3>Share this ","</h3></header>"]);return _templateObject239=function(){return C},C}function _templateObject240(){var C=_taggedTemplateLiteral([' <a class="share-option" href="','" target="_blank">\n              '," ","\n            </a>"]);return _templateObject240=function(){return C},C}function _templateObject241(){var C=_taggedTemplateLiteral(["\n      ","\n      <main>\n        ",'\n        <details>\n          <summary class="share-option">\n            <ia-icon-link></ia-icon-link>\n            Get an embeddable link\n          </summary>\n          <div class="embed">\n            <h4>Embed</h4>\n            <div class="code" @click=',">\n              <textarea readonly>",'</textarea>\n              <small>Copied to clipboard</small>\n            </div>\n            <h4>\n              Embed for wordpress.com hosted blogs and archive.org item\n              &lt;description&gt; tags\n            </h4>\n            <div class="code" @click=',">\n              <textarea readonly>","</textarea>\n              <small>Copied to clipboard</small>\n            </div>\n            <p>\n              Want more?\n              <a href=","\n                >Advanced embedding details, examples, and help</a\n              >!\n            </p>\n          </div>\n        </details>\n      </main>\n    "]);return _templateObject241=function(){return C},C}function _templateObject242(){var C=_taggedTemplateLiteral(['<ia-icon-share\n      style="width: var(--iconWidth); height: var(--iconHeight);"\n    ></ia-icon-share>']);return _templateObject242=function(){return C},C}function _templateObject243(){var C=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        height: 100%;\n        overflow-y: auto;\n        font-size: 1.4rem;\n        box-sizing: border-box;\n      }\n\n      header {\n        display: flex;\n        align-items: baseline;\n      }\n\n      h3 {\n        padding: 0;\n        margin: 0 1rem 0 0;\n        font-size: 1.6rem;\n      }\n\n      h4 {\n        font-size: 1.4rem;\n      }\n\n      main {\n        padding: 1rem 0;\n      }\n\n      .share-option {\n        display: block;\n        padding: 0.5rem 0;\n        font-size: 1.6rem;\n        text-decoration: none;\n        color: var(--shareLinkColor);\n        cursor: pointer;\n      }\n\n      .share-option > * {\n        display: inline-block;\n        padding: 0.2rem;\n        margin-right: 1rem;\n        vertical-align: middle;\n        border: 1px solid var(--shareIconBorder);\n        border-radius: 7px;\n        background: var(--shareIconBg);\n      }\n\n      /* Hide the triangle that appears on details tags */\n      summary::marker {\n        content: '';\n      }\n\n      summary::-webkit-details-marker {\n        display: none;\n      }\n\n      .embed {\n        padding-right: 5px;\n      }\n\n      .embed a {\n        color: var(--shareLinkColor);\n      }\n\n      .code {\n        position: relative;\n      }\n\n      textarea {\n        display: block;\n        width: 100%;\n        height: 120px;\n        padding: 0.8rem 1rem;\n        box-sizing: border-box;\n        resize: none;\n        cursor: pointer;\n        font:\n          normal 1.4rem 'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif;\n        color: var(--textareaColor, #fff);\n        background: var(--textareaBg, #151515);\n      }\n\n      small {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        height: 3rem;\n        padding: 0.5rem 1rem;\n        box-sizing: border-box;\n        font:\n          normal 1.2rem/2rem 'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif;\n        color: var(--textareaBg, #151515);\n        background: var(--textareaColor, #fff);\n        opacity: 0;\n        transition: opacity 300ms linear;\n      }\n      small.visible {\n        opacity: 1;\n      }\n    "]);return _templateObject243=function(){return C},C}function _templateObject244(){var C=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="magnify-minusTitleID magnify-minusDescID"\n>\n  <title id="magnify-minusTitleID">Zoom out</title>\n  <desc id="magnify-minusDescID">Take a look further.</desc>\n  <g\n    class="fill-color"\n    fill="none"\n    fill-rule="nonzero"\n  >\n    <path d="m2.3239824 87.3815869 25.8938394-23.8143095c-4.5929593-6.6937643-6.889439-14.1059452-6.889439-22.2365428 0-7.1360431 1.7567382-13.7186647 5.2702146-19.7478649 3.5134763-6.0292002 8.2852035-10.8003118 14.3151815-14.31333499 6.029978-3.51302314 12.6134488-5.26953471 19.7504125-5.26953471s13.7204346 1.75651157 19.7504126 5.26953471c6.029978 3.51302319 10.8017051 8.28413479 14.3151815 14.31333499 3.5134763 6.0292002 5.2702145 12.6118218 5.2702145 19.7478649s-1.7567382 13.7324143-5.2702145 19.7891137c-3.5134764 6.0566994-8.2852035 10.8415607-14.3151815 14.3545838-6.029978 3.5130232-12.6134489 5.2695347-19.7504126 5.2695347-8.5762743 0-16.3217363-2.5723212-23.2363861-7.7169637l-26.3063807 24.2302349c-1.27200216 1.1618413-2.76631826 1.742762-4.48294825 1.742762-1.826641 0-3.38971397-.6496687-4.68921892-1.949006s-1.94925743-2.8622087-1.94925743-4.688614c0-1.9364022.7746608-3.5955208 2.3239824-4.9773557zm58.3436469-19.9162976c7.1919692 0 13.3331041-2.5585716 18.4234048-7.6757149s7.635451-11.2712357 7.635451-18.4622772-2.5451503-13.3313843-7.635451-18.4210284-11.2314356-7.6344661-18.4234048-7.6344661-13.3331042 2.544822-18.4234049 7.6344661-7.635451 11.2299869-7.635451 18.4210284 2.5451503 13.3451339 7.635451 18.4622772 11.2314357 7.6757149 18.4234049 7.6757149zm-14.9374313-21.3256316h31.2878163v-9.5422233h-31.2878163z"/>\n  </g>\n</svg>\n']);return _templateObject244=function(){return C},C}function _templateObject245(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject245=function(){return C},C}function _templateObject246(){var C=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="magnify-plusTitleID magnify-plusDescID"\n>\n  <title id="magnify-plusTitleID">Zoom in</title>\n  <desc id="magnify-plusDescID">Take a look closer.</desc>\n  <g\n    class="fill-color"\n    fill="none"\n    fill-rule="nonzero"\n  >\n    <path d="m2.40305276 87.4017263 25.81133064-23.7730295c-4.5356618-6.5723551-6.8034928-14.000283-6.8034928-22.2837838 0-7.1236734 1.7429868-13.6948847 5.2289603-19.7136338 3.4859736-6.0187491 8.2577006-10.7953163 14.3151813-14.32970144 6.0574806-3.53438517 12.6547027-5.30157776 19.7916662-5.30157776 10.8429591 0 20.0964884 3.85236545 27.760588 11.5570964 7.6640996 7.7047309 11.4950036 16.9684802 11.4927136 27.791248 0 10.8799585-3.8309059 20.1574336-11.4927136 27.8324254-7.6618077 7.6749917-16.915337 11.5124876-27.760588 11.5124876-8.6312796 0-16.431747-2.5678624-23.4014021-7.7035871l-26.1413636 24.188234c-1.21699671 1.2147305-2.73881553 1.8220957-4.56545649 1.8220957s-3.3897139-.6485425-4.68921882-1.9456276c-1.29950493-1.297085-1.94925739-2.8572473-1.94925739-4.6804867 0-1.8781426.80216353-3.5343852 2.4064906-4.9687279zm58.34020784-19.878343c7.1369635 0 13.264347-2.5678623 18.3821503-7.7035871 5.1178034-5.1357247 7.676705-11.2928753 7.676705-18.4714518s-2.5589016-13.3082755-7.676705-18.3890972c-5.1178033-5.0808217-11.2451868-7.6212325-18.3821503-7.6212325-7.2469746 0-13.4156121 2.5404108-18.5059127 7.6212325s-7.6354509 11.2105207-7.6354509 18.3890972 2.5589016 13.3357271 7.676705 18.4714518c5.1178033 5.1357248 11.2726895 7.7035871 18.4646586 7.7035871zm-13.3594607-21.8685793h10.206958v10.1879511h7.2194718v-10.1879511h10.206958v-7.206028h-10.206958v-10.187951h-7.2194718v10.187951h-10.206958z"/>\n  </g>\n</svg>\n']);return _templateObject246=function(){return C},C}function _templateObject247(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject247=function(){return C},C}function _templateObject248(){var C=_taggedTemplateLiteral(['\n  <svg\n    name="sort-asc"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"\n        stroke="#fff"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="1.661538"\n        transform="matrix(1 0 0 -1 0 18.692308)"\n      />\n    </g>\n  </svg>\n']);return _templateObject248=function(){return C},C}function _templateObject249(){var C=_taggedTemplateLiteral(['\n  <svg\n    name="sort-desc"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"\n        stroke="#fff"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="1.661538"\n      />\n    </g>\n  </svg>\n']);return _templateObject249=function(){return C},C}function _templateObject250(){var C=_taggedTemplateLiteral(['\n  <svg\n    name="sort-neutral"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="#fff" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill-rule="nonzero"\n      />\n      <circle cx="13" cy="9" r="2" />\n    </g>\n  </svg>\n']);return _templateObject250=function(){return C},C}function _templateObject251(){var C=_taggedTemplateLiteral(['\n  <svg\n    height="24"\n    viewBox="0 0 24 24"\n    width="24"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="volumesTitleID volumesDescID"\n  >\n    <title id="volumesTitleID">Viewable Files</title>\n    <g fill="#ffffff">\n      <path\n        fill="#ffffff"\n        d="m9.83536396 0h10.07241114c.1725502.47117517.3378411.76385809.4958725.87804878.1295523.11419069.3199719.1998337.5712586.25692905.2512868.05709534.4704647.08564301.6575337.08564301h.2806036v15.24362526h-4.3355343v3.8106985h-4.44275v3.7250554h-12.01318261c-.27306495 0-.50313194-.085643-.69020098-.256929-.18706903-.1712861-.30936193-.3425721-.36687867-.5138581l-.06449694-.2785477v-14.2159091c0-.32815965.08627512-.5922949.25882537-.79240577.17255024-.20011086.34510049-.32150776.51765073-.36419068l.25882537-.0640244h3.36472977v-2.54767184c0-.31374722.08627513-.57067627.25882537-.77078714.17255025-.20011086.34510049-.32150776.51765074-.36419068l.25882536-.06402439h3.36472978v-2.56929047c0-.32815964.08627512-.5922949.25882537-.79240576.17255024-.20011087.34510049-.31430156.51765073-.34257207zm10.78355264 15.6294346v-13.53076498c-.2730649-.08536585-.4456152-.16380266-.5176507-.23531042-.1725502-.1424612-.2730649-.27078714-.3015441-.38497783v13.36031043h-9.87808272c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144124-.08962561.006929-.13988296.0640244-.05025735.0570953-.07538603.1427383-.07538603.256929s.02149898.210643.06449694.289357c.04299795.078714.08599591.1322062.12899387.1604767l.06449693.0216187h10.71905571zm-10.2449613-2.4412417h7.98003v-11.60421286h-7.98003zm1.6827837-9.41990022h4.6153002c.1725502 0 .3199718.05349224.4422647.16047672s.1834393.23891353.1834393.39578714c0 .15687362-.0611464.28519956-.1834393.38497783s-.2697145.1496674-.4422647.1496674h-4.6153002c-.1725503 0-.3199719-.04988913-.4422647-.1496674-.1222929-.09977827-.1834394-.22810421-.1834394-.38497783 0-.15687361.0611465-.28880266.1834394-.39578714.1222928-.10698448.2697144-.16047672.4422647-.16047672zm-6.08197737 13.50997782h7.72120467v-.8131929h-3.79610541c-.27306495 0-.49950224-.085643-.67931188-.256929-.17980964-.1712861-.29847284-.3425721-.35598958-.5138581l-.06449694-.2785477v-10.02023282h-2.82530086zm6.77217827-11.36890243h3.2139578c.1295522 0 .240956.05709534.3342113.17128603.0932554.11419069.139883.24972284.139883.40659645 0 .15687362-.0466276.28880267-.139883.39578714-.0932553.10698448-.2046591.16047672-.3342113.16047672h-3.2139578c-.1295523 0-.2373264-.05349224-.3233223-.16047672-.0859959-.10698447-.1289938-.23891352-.1289938-.39578714 0-.15687361.0429979-.29240576.1289938-.40659645s.19377-.17128603.3233223-.17128603zm-11.15043132 15.11557653h7.69942646v-.7491685h-3.79610539c-.25854616 0-.48135376-.0892462-.66842279-.2677384-.18706904-.1784922-.30936193-.3605876-.36687868-.546286l-.06449694-.2569291v-10.04101994h-2.80352266zm14.62237682-4.5606985h-.8191949v2.1410754h-9.89986085s-.04299796.0285477-.12899387.085643c-.08599592.0570954-.12201369.1427384-.10805331.2569291 0 .1141907.01786928.210643.05360784.289357.03573856.0787139.07538603.125.1189424.138858l.06449694.0432373h10.71905575v-2.9542683zm-4.3991936 3.8106985h-.8191949v2.077051h-9.8563045c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144125-.08962561.0105321-.13988296.0748337-.05025735.0643015-.07538603.1607538-.07538603.289357 0 .1141906.02149898.2070399.06449694.2785476.04299795.0715078.08599591.1141907.12899387.1280488l.06449693.0216186h10.69811519v-2.8686252z"\n      />\n    </g>\n  </svg>\n']);return _templateObject251=function(){return C},C}function _templateObject252(){var C=_taggedTemplateLiteral(['<div class="sort-multi-file-list">',"</div>"]);return _templateObject252=function(){return C},C}function _templateObject253(){var C=_taggedTemplateLiteral(['\n        <button\n          class="sort-by neutral-icon"\n          aria-label="Sort volumes in initial order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject253=function(){return C},C}function _templateObject254(){var C=_taggedTemplateLiteral(['\n        <button\n          class="sort-by asc-icon"\n          aria-label="Sort volumes in ascending order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject254=function(){return C},C}function _templateObject255(){var C=_taggedTemplateLiteral(['\n        <button\n          class="sort-by desc-icon"\n          aria-label="Sort volumes in descending order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject255=function(){return C},C}function _templateObject256(){var C=_taggedTemplateLiteral(["\n      button.sort-by {\n        padding: 0px;\n        background-color: transparent;\n        border: 0px;\n        --iconWidth: var(--menuSliderHeaderIconWidth);\n        --iconHeight: var(--menuSliderHeaderIconHeight);\n      }\n    "]);return _templateObject256=function(){return C},C}function _templateObject257(){var C=_taggedTemplateLiteral(['\n      <li class="content active">\n        <div class="separator"></div>\n        <a class="container" href="','">\n          <div class="image">\n            <img src="','" alt="preview" />\n          </div>\n          <div class="text">\n            <p class="item-title">',"</p>\n            <small>by: ","</small>\n          </div>\n        </a>\n      </li>\n    "]);return _templateObject257=function(){return C},C}function _templateObject258(){var C=_taggedTemplateLiteral(['<span class="pdf-label"\n      ><span class="sr-only">view this</span> PDF</span\n    >']);return _templateObject258=function(){return C},C}function _templateObject259(){var C=_taggedTemplateLiteral(['\n      <li>\n        <div class="separator"></div>\n        <div class="content','">\n          <a href=','>\n            <p class="item-title">\n              ',"","\n            </p>\n          </a>\n        </div>\n      </li>\n    "]);return _templateObject259=function(){return C},C}function _templateObject260(){var C=_taggedTemplateLiteral(["\n      <ul>\n        ",'\n        <div class="separator"></div>\n      </ul>\n    ']);return _templateObject260=function(){return C},C}function _templateObject261(){var C=_taggedTemplateLiteral([" "," "]);return _templateObject261=function(){return C},C}function _templateObject262(){var C=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        overflow-y: auto;\n        box-sizing: border-box;\n        color: var(--primaryTextColor);\n        margin-top: 14px;\n        margin-bottom: 2rem;\n        --activeBorderWidth: 2px;\n      }\n\n      a {\n        color: #ffffff;\n        text-decoration: none;\n      }\n\n      img {\n        width: 35px;\n        height: 45px;\n      }\n\n      ul {\n        padding: 0;\n        list-style: none;\n        margin: var(--activeBorderWidth) 0.5rem 1rem 0;\n      }\n\n      ul > li:first-child .separator {\n        display: none;\n      }\n\n      li {\n        cursor: pointer;\n        position: relative;\n      }\n\n      li .content {\n        padding: 2px 0 4px 2px;\n        border: var(--activeBorderWidth) solid transparent;\n        padding: 0.2rem 0 0.4rem 0.2rem;\n      }\n\n      li .content.active {\n        border: var(--activeBorderWidth) solid #538bc5;\n      }\n\n      li.content a {\n        display: flex;\n      }\n\n      small {\n        font-style: italic;\n        white-space: initial;\n      }\n\n      .container {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .item-title {\n        margin-block-start: 0em;\n        margin-block-end: 0em;\n        font-size: 14px;\n        font-weight: bold;\n        word-wrap: break-word;\n        padding-left: 5px;\n      }\n\n      .separator {\n        background-color: var(--secondaryBGColor);\n        width: 98%;\n        margin: 1px auto;\n        height: 1px;\n      }\n\n      .text {\n        padding-left: 10px;\n      }\n\n      .icon {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        margin-left: 0.7rem;\n        border: 1px solid var(--primaryTextColor);\n        border-radius: 2px;\n        background: var(--activeButtonBg) 50% 50% no-repeat;\n      }\n\n      .pdf-label {\n        border: 1px solid;\n        padding: 2px 5px;\n        border-radius: 20px;\n        display: inline-block;\n        margin-left: 5px;\n        font-size: 0.9rem;\n      }\n\n      .pdf-label .sr-only {\n        position: absolute;\n        clip: rect(1px, 1px, 1px, 1px);\n        padding: 0;\n        border: 0;\n        height: 1px;\n        width: 1px;\n        overflow: hidden;\n      }\n    "]);return _templateObject262=function(){return C},C}function _templateObject263(){var C=_taggedTemplateLiteral(["data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEwIiB2aWV3Qm94PSIwIDAgMTMgMTAiIHdpZHRoPSIxMyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNC4zMzMzMzMzMyAxMC00LjMzMzMzMzMzLTQuMTY2NjY2NjcgMS43MzMzMzMzMy0xLjY2NjY2NjY2IDIuNiAyLjUgNi45MzMzMzMzNy02LjY2NjY2NjY3IDEuNzMzMzMzMyAxLjY2NjY2NjY3eiIgZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"]);return _templateObject263=function(){return C},C}function _templateObject264(){var C=_taggedTemplateLiteral(["data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNDAgNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1sYWJlbGxlZGJ5PSJjbG9zZVRpdGxlSUQgY2xvc2VEZXNjSUQiPjxwYXRoIGQ9Ik0yOS4xOTIgMTAuODA4YTEuNSAxLjUgMCAwMTAgMi4xMkwyMi4xMjIgMjBsNy4wNyA3LjA3MmExLjUgMS41IDAgMDEtMi4xMiAyLjEyMWwtNy4wNzMtNy4wNy03LjA3IDcuMDdhMS41IDEuNSAwIDAxLTIuMTIxLTIuMTJsNy4wNy03LjA3My03LjA3LTcuMDdhMS41IDEuNSAwIDAxMi4xMi0yLjEyMUwyMCAxNy44NzhsNy4wNzItNy4wN2ExLjUgMS41IDAgMDEyLjEyMSAweiIgY2xhc3M9ImZpbGwtY29sb3IiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="]);return _templateObject264=function(){return C},C}function _templateObject265(){var C=_taggedTemplateLiteral(["\n  .ia-button {\n    min-height: 3rem;\n    border: none;\n    outline: none;\n    cursor: pointer;\n    color: var(--primaryTextColor);\n    line-height: normal;\n    border-radius: .4rem;\n    text-align: center;\n    vertical-align: middle;\n    font-size: 1.4rem;\n    display: inline-block;\n    padding: .6rem 1.2rem;\n    border: 1px solid transparent;\n\n    white-space: nowrap;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n    user-select: none;\n  }\n\n  .ia-button.link,\n  .ia-button.external {\n    min-height: unset;\n    text-decoration: none;\n  }\n\n  .ia-button:disabled,\n  .ia-button.disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n\n  .ia-button.transparent {\n    background-color: transparent;\n  }\n  \n  .ia-button.slim {\n    padding: 0;\n  }\n\n  .ia-button.primary {\n    background-color: var(--primaryCTAFill);\n    border-color: var(--primaryCTABorder);\n  }\n\n  .ia-button.cancel {\n    background-color: var(--primaryErrorCTAFill);\n    border-color: var(--primaryErrorCTABorder);\n  }\n\n  .ia-button.external {\n    background: var(--secondaryCTAFill);\n    border-color: var(--secondaryCTABorder);\n  }\n"]);return _templateObject265=function(){return C},C}function _templateObject266(){var C=_taggedTemplateLiteral(["<p>("," result",")</p>"]);return _templateObject266=function(){return C},C}function _templateObject267(){var C=_taggedTemplateLiteral(["<header>\n      <h3>Search inside</h3>\n      ","\n    </header>"]);return _templateObject267=function(){return C},C}function _templateObject268(){var C=_taggedTemplateLiteral(['\n      <input name="all_files" id="all_files" type="checkbox" />\n      <label class="checkbox" for="all_files">Search all files</label>\n    ']);return _templateObject268=function(){return C},C}function _templateObject269(){var C=_taggedTemplateLiteral(['\n      <div class="loading">\n        <ia-activity-indicator mode="processing"></ia-activity-indicator>\n        <p>Searching</p>\n        <button class="ia-button external cancel-search" @click=',">Cancel</button>\n      </div>\n    "]);return _templateObject269=function(){return C},C}function _templateObject270(){var C=_taggedTemplateLiteral(['<img src="','" />']);return _templateObject270=function(){return C},C}function _templateObject271(){var C=_taggedTemplateLiteral(["\n            <li @click=",">\n              ","\n              <h4>",'</h4>\n              <p class="page-num">Page ',"</p>\n              <p>","</p>\n            </li>\n          "]);return _templateObject271=function(){return C},C}function _templateObject272(){var C=_taggedTemplateLiteral(['\n      <ul class="results ','">\n        ',"\n      </ul>\n    "]);return _templateObject272=function(){return C},C}function _templateObject273(){var C=_taggedTemplateLiteral(['\n      <form action="" method="get" @submit=',">\n        <fieldset>\n          ",'\n          <input\n            type="search"\n            name="query"\n            alt="Search inside this book."\n            @keyup=',"\n            @search=","\n            .value=","\n          />\n        </fieldset>\n      </form>\n    "]);return _templateObject273=function(){return C},C}function _templateObject274(){var C=_taggedTemplateLiteral(['\n      <p class="error-message">',"</p>\n    "]);return _templateObject274=function(){return C},C}function _templateObject275(){var C=_taggedTemplateLiteral(['<p class="search-cta"><em>Please enter text to search for</em></p>']);return _templateObject275=function(){return C},C}function _templateObject276(){var C=_taggedTemplateLiteral(["\n      ","\n      ",'\n      <div class="results-container">\n        ',"\n        ","\n        ","\n        ","\n      </div>\n    "]);return _templateObject276=function(){return C},C}function _templateObject277(){var C=_taggedTemplateLiteral(["var(--searchResultText, #adaedc)"]);return _templateObject277=function(){return C},C}function _templateObject278(){var C=_taggedTemplateLiteral(["var(--searchResultBg, #272958)"]);return _templateObject278=function(){return C},C}function _templateObject279(){var C=_taggedTemplateLiteral(["var(--searchResultBorder, #adaedc)"]);return _templateObject279=function(){return C},C}function _templateObject280(){var C=_taggedTemplateLiteral(["(--tertiaryBGColor, #333)"]);return _templateObject280=function(){return C},C}function _templateObject281(){var C=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        height: 100%;\n        padding: 1.5rem 1rem 2rem 0;\n        overflow-y: auto;\n        font-size: 1.4rem;\n        box-sizing: border-box;\n      }\n\n      mark {\n        padding: 0 .2rem;\n        color: ",";\n        background: ",";\n        border: 1px solid ",';\n        border-radius: 2px;\n      }\n\n      h3 {\n        padding: 0;\n        margin: 0 1rem 0 0;\n        font-size: 2rem;\n      }\n\n      header {\n        display: flex;\n        align-items: center;\n        padding: 0 2rem 0 0;\n      }\n      header p {\n        padding: 0;\n        margin: 0;\n        font-size: 1.2rem;\n        font-weight: bold;\n        font-style: italic;\n      }\n\n      fieldset {\n        padding: 0 0 1rem 0;\n        border: none;\n      }\n\n      [type="checkbox"] {\n        display: none;\n      }\n\n      label {\n        display: block;\n        text-align: center;\n      }\n\n      label.checkbox {\n        padding-bottom: .5rem;\n        font-size: 1.6rem;\n        line-height: 150%;\n        vertical-align: middle;\n      }\n\n      label.checkbox:after {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        margin-left: .7rem;\n        content: "";\n        border-radius: 2px;\n      }\n      :checked + label.checkbox:after {\n        background-image: url(\'','\');\n      }\n\n      label.checkbox[for="all_files"]:after {\n        background: ',' 50% 50% no-repeat;\n        border: 1px solid var(--primaryTextColor);\n      }\n\n      [type="search"] {\n        color: var(--primaryTextColor);\n        border: 1px solid var(--primaryTextColor);\n        -webkit-appearance: textfield;\n        width: 100%;\n        height: 3rem;\n        padding: 0 1.5rem;\n        box-sizing: border-box;\n        font: normal 1.6rem "Helvetica qNeue", Helvetica, Arial, sans-serif;\n        border-radius: 1.5rem;\n        background: transparent;\n      }\n      [type="search"]:focus {\n        outline: none;\n      }\n      [type="search"]::-webkit-search-cancel-button {\n        width: 18px;\n        height: 18px;\n        -webkit-appearance: none;\n        appearance: none;\n        -webkit-mask: url(\'',"') 0 0 no-repeat;\n        mask: url('","') 0 0 no-repeat;\n        -webkit-mask-size: 100%;\n        mask-size: 100%;\n        background: #fff;\n      }\n\n      p.page-num {\n        font-weight: bold;\n        padding-bottom: 0;\n      }\n\n      p.search-cta {\n        text-align: center;\n      }\n\n      .results-container {\n        padding-bottom: 2rem;\n      }\n\n      ul {\n        padding: 0 0 2rem 0;\n        margin: 0;\n        list-style: none;\n      }\n\n      ul.show-image li {\n        display: grid;\n      }\n\n      li {\n        cursor: pointer;\n        grid-template-columns: 30px 1fr;\n        grid-gap: 0 .5rem;\n      }\n\n      li img {\n        display: block;\n        width: 100%;\n      }\n\n      li h4 {\n        grid-column: 2 / 3;\n        padding: 0 0 2rem 0;\n        margin: 0;\n        font-weight: normal;\n      }\n\n      li p {\n        grid-column: 2 / 3;\n        padding: 0 0 1.5rem 0;\n        margin: 0;\n        font-size: 1.2rem;\n      }\n\n      .loading {\n        text-align: center;\n      }\n\n      .loading p {\n        padding: 0 0 1rem 0;\n        margin: 0;\n        font-size: 1.2rem;\n      }\n\n      ia-activity-indicator {\n        display: block;\n        width: 40px;\n        height: 40px;\n        margin: 0 auto;\n      }\n    "]);return _templateObject281=function(){return C},C}function _templateObject282(){var C=_taggedTemplateLiteral(["("," ",")"]);return _templateObject282=function(){return C},C}function _templateObject283(){var C=_taggedTemplateLiteral(['<p class="error">',"</p>"]);return _templateObject283=function(){return C},C}function _templateObject284(){var C=_taggedTemplateLiteral(["\n    <ia-book-search-results\n      .query=","\n      .results=","\n      .errorMessage=","\n      ?queryInProgress=","\n      ?renderSearchAllFiles=","\n      @resultSelected=","\n      @bookSearchInitiated=","\n      @bookSearchResultsCleared=","\n      @bookSearchCanceled=","\n    ></ia-book-search-results>\n  "]);return _templateObject284=function(){return C},C}function _templateObject285(){var C=_taggedTemplateLiteral(['<ia-icon-search style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-search>']);return _templateObject285=function(){return C},C}function _templateObject286(){var C=_taggedTemplateLiteral(["<p>"," format","</p>"]);return _templateObject286=function(){return C},C}function _templateObject287(){var C=_taggedTemplateLiteral([""]);return _templateObject287=function(){return C},C}function _templateObject288(){var C=_taggedTemplateLiteral(["<h2>These files will expire in "," days.</h2>"]);return _templateObject288=function(){return C},C}function _templateObject289(){var C=_taggedTemplateLiteral([""]);return _templateObject289=function(){return C},C}function _templateObject290(){var C=_taggedTemplateLiteral(["<p>","</p>"]);return _templateObject290=function(){return C},C}function _templateObject291(){var C=_taggedTemplateLiteral([""]);return _templateObject291=function(){return C},C}function _templateObject292(){var C=_taggedTemplateLiteral(['\n        <li>\n          <a class="ia-button link primary" href="','">Get ',"</a>\n          ","\n        </li>\n      "]);return _templateObject292=function(){return C},C}function _templateObject293(){var C=_taggedTemplateLiteral(["\n      <header>\n        <h3>Downloadable files</h3>\n        ","\n      </header>\n    "]);return _templateObject293=function(){return C},C}function _templateObject294(){var C=_taggedTemplateLiteral(['\n      <p>To access downloaded books, you need Adobe-compliant software on your device. The Internet Archive will administer this loan, but Adobe may also collect some information.</p>\n      <a class="ia-button external primary" href="https://www.adobe.com/solutions/ebook/digital-editions/download.html" rel="noopener noreferrer" target="_blank">Install Adobe Digital Editions</a>\n    ']);return _templateObject294=function(){return C},C}function _templateObject295(){var C=_taggedTemplateLiteral(['\n    <p>For LCP downloads, make sure you have SimplyE or Aldiko Next installed on mobile or Thorium on desktop.</p>\n    <ul>\n      <li><a href="https://librarysimplified.org/simplye/" rel="noopener noreferrer nofollow" target="_blank">Install SimplyE</a></li>\n      <li><a href="https://www.demarque.com/en-aldiko" rel="noopener noreferrer nofollow" target="_blank">Install Aldiko</a></li>\n      <li><a href="https://www.edrlab.org/software/thorium-reader/" rel="noopener noreferrer nofollow" target="_blank">Install Thorium</a></li>\n    </ul>\n  ']);return _templateObject295=function(){return C},C}function _templateObject296(){var C=_taggedTemplateLiteral(["\n      ","\n      ","\n      <ul>","</ul>\n      ","\n    "]);return _templateObject296=function(){return C},C}function _templateObject297(){var C=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        height: 100%;\n        padding: 1.5rem 0;\n        overflow-y: auto;\n        font-size: 1.4rem;\n        box-sizing: border-box;\n      }\n\n      a.close ia-icon {\n        --iconWidth: 18px;\n        --iconHeight: 18px;\n      }\n      a.close {\n        justify-self: end;\n      }\n\n      header {\n        display: flex;\n        align-items: center;\n        padding: 0 2rem;\n      }\n      header p {\n        padding: 0;\n        margin: 0;\n        font-size: 1.2rem;\n        font-weight: bold;\n        font-style: italic;\n      }\n      header div {\n        display: flex;\n        align-items: baseline;\n      }      \n\n      h2 {\n        font-size: 1.6rem;\n      }\n\n      h3 {\n        padding: 0;\n        margin: 0 1rem 0 0;\n        font-size: 1.4rem;\n      }\n\n      ul {\n        padding: 0;\n        margin: 0;\n        list-style: none;\n      }\n\n      p {\n        margin: .3rem 0 0 0;\n      }\n\n      li,\n      ul + p {\n        padding-bottom: 1.2rem;\n        font-size: 1.2rem;\n        line-height: 140%;\n      }\n    "]);return _templateObject297=function(){return C},C}function _templateObject298(){var C=_taggedTemplateLiteral(["<ia-book-downloads .downloads=","></ia-book-downloads>"]);return _templateObject298=function(){return C},C}function _templateObject299(){var C=_taggedTemplateLiteral(['<ia-icon-dl style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-dl>']);return _templateObject299=function(){return C},C}function _templateObject300(){var C=_taggedTemplateLiteral(["\n      <div class=",'>\n        <input\n          type="range"\n          name="','_range"\n          min=',"\n          max=","\n          step=","\n          .value=","\n          @input=","\n          @change=","\n        />\n        <p>","%</p>\n      </div>\n    "]);return _templateObject300=function(){return C},C}function _templateObject301(){var C=_taggedTemplateLiteral(['<li>\n      <label for="','">\n        <span class="name">','</span>\n        <input\n          type="checkbox"\n          name="','"\n          id="','"\n          @change=',"\n          ?checked=",'\n        />\n        <span class="icon"></span>\n      </label>\n      ',"\n    </li>"]);return _templateObject301=function(){return C},C}function _templateObject302(){var C=_taggedTemplateLiteral(["<p>("," active)</p>"]);return _templateObject302=function(){return C},C}function _templateObject303(){var C=_taggedTemplateLiteral(["<header>\n      <h3>Visual adjustments</h3>\n      ","\n    </header>"]);return _templateObject303=function(){return C},C}function _templateObject304(){var C=_taggedTemplateLiteral(['\n      <h4>Zoom</h4>\n      <button class="zoom_out" @click=',' title="zoom out">\n        <ia-icon-magnify-minus></ia-icon-magnify-minus>\n      </button>\n      <button class="zoom_in" @click=',' title="zoom in">\n        <ia-icon-magnify-plus></ia-icon-magnify-plus>\n      </button>\n    ']);return _templateObject304=function(){return C},C}function _templateObject305(){var C=_taggedTemplateLiteral(["\n      ","\n      <ul>\n        ","\n      </ul>\n      ","\n    "]);return _templateObject305=function(){return C},C}function _templateObject306(){var C=_taggedTemplateLiteral(['\n    :host {\n      display: block;\n      height: 100%;\n      overflow-y: auto;\n      font-size: 1.4rem;\n      box-sizing: border-box;\n    }\n\n    header {\n      display: flex;\n      align-items: baseline;\n    }\n\n    h3 {\n      padding: 0;\n      margin: 0 1rem 0 0;\n      font-size: 1.6rem;\n    }\n\n    header p {\n      padding: 0;\n      margin: 0;\n      font-size: 1.2rem;\n      font-weight: bold;\n      font-style: italic;\n    }\n\n    ul {\n      padding: 1rem 2rem 0 0;\n      list-style: none;\n      margin-top: 0;\n    }\n\n    [type="checkbox"] {\n      display: none;\n    }\n\n    label {\n      display: flex;\n      justify-content: space-between;\n      align-items: baseline;\n      font-size: 1.4rem;\n      font-weight: bold;\n      line-height: 150%;\n      vertical-align: middle;\n    }\n\n    .icon {\n      display: inline-block;\n      width: 14px;\n      height: 14px;\n      margin-left: .7rem;\n      border: 1px solid var(--primaryTextColor);\n      border-radius: 2px;\n      background: var(--activeButtonBg) 50% 50% no-repeat;\n    }\n    :checked + .icon {\n      background-image: url(\'',"');\n    }\n\n    .range {\n      display: none;\n      padding-top: .5rem;\n    }\n    .range.visible {\n      display: flex;\n    }\n\n    .range p {\n      margin-left: 1rem;\n    }\n\n    h4 {\n      padding: 1rem 0;\n      margin: 0;\n      font-size: 1.4rem;\n    }\n\n    button {\n      -webkit-appearance: none;\n      appearance: none;\n      border: none;\n      border-radius: 0;\n      background: transparent;\n      outline: none;\n      cursor: pointer;\n      --iconFillColor: var(--primaryTextColor);\n      --iconStrokeColor: var(--primaryTextColor);\n      height: 4rem;\n      width: 4rem;\n    }\n\n    button * {\n      display: inline-block;\n    }"]);return _templateObject306=function(){return C},C}function _templateObject307(){var C=_taggedTemplateLiteral(['<ia-icon-visual-adjustment style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-visual-adjustment>']);return _templateObject307=function(){return C},C}function _templateObject308(){var C=_taggedTemplateLiteral(["\n      <ia-book-visual-adjustments\n        .options=","\n        @visualAdjustmentOptionChanged=","\n        @visualAdjustmentZoomIn=","\n        @visualAdjustmentZoomOut=","\n      ></ia-book-visual-adjustments>\n    "]);return _templateObject308=function(){return C},C}function _templateObject309(){var C=_taggedTemplateLiteral(['\n      div {\n        display: flex;\n        justify-content: center;\n        padding-top: 2rem;\n      }\n\n      button {\n        appearance: none;\n        padding: 0.5rem 1rem;\n        margin: 0 .5rem;\n        box-sizing: border-box;\n        font: 1.3rem "Helvetica Neue", Helvetica, Arial, sans-serif;\n        color: var(--primaryTextColor);\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n        background: var(--primaryCTAFill);\n      }\n\n      .delete {\n        background: var(--primaryErrorCTAFill);\n      }\n    ']);return _templateObject309=function(){return C},C}function _templateObject310(){var C=_taggedTemplateLiteral(['\n      <div>\n        <button class="delete" @click=',">Delete</button>\n        <button @click=",">Cancel</button>\n      </div>\n    "]);return _templateObject310=function(){return C},C}function _templateObject311(){var C=_taggedTemplateLiteral(["\n      button {\n        -webkit-appearance: none;\n        appearance: none;\n        outline: 0;\n        border: none;\n        padding: 0;\n        height: 4rem;\n        width: 4rem;\n        background: transparent;\n        cursor: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 16 24' width='16'%3E%3Cg fill='%23333' fill-rule='evenodd'%3E%3Cpath d='m15 0c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1zm-2 2h-10c-.51283584 0-.93550716.38604019-.99327227.88337887l-.00672773.11662113v18l6-4.3181818 6 4.3181818v-18c0-.51283584-.3860402-.93550716-.8833789-.99327227z'/%3E%3Cpath d='m8.75 6v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25v-2.25z' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\"), pointer;\n        position: relative;\n      }\n      button > * {\n        display: block;\n        position: absolute;\n        top: 0.2rem;\n      }\n      button.left > * {\n        left: 0.2rem;\n      }\n\n      button.right > * {\n        right: 0.2rem;\n      }\n    "]);return _templateObject311=function(){return C},C}function _templateObject312(){var C=_taggedTemplateLiteral(["\n      <button title="," @click="," class=",">\n        <icon-bookmark state=","></icon-bookmark>\n      </button>\n    "]);return _templateObject312=function(){return C},C}function _templateObject313(){var C=_taggedTemplateLiteral(['\n      <p>A free account is required to save and access bookmarks.</p>\n      <a class="ia-button link primary" href="','">Log in</a>\n    ']);return _templateObject313=function(){return C},C}function _templateObject314(){var C=_taggedTemplateLiteral(["\n      .bookmarks {\n        height: 100%;\n        overflow: hidden;\n        padding-bottom: 20px;\n      }\n\n      .list ia-bookmark-edit {\n        display: none;\n      }\n\n      .edit ia-bookmarks-list {\n        display: none;\n      }\n    "]);return _templateObject314=function(){return C},C}function _templateObject315(){var C=_taggedTemplateLiteral(["\n        <bookmark-button\n          @bookmarkButtonClicked=","\n          state=","\n          side=","\n        ></bookmark-button>"]);return _templateObject315=function(){return C},C}function _templateObject316(){var C=_taggedTemplateLiteral(["\n      <delete-modal-actions\n        .deleteAction=","\n        .cancelAction=","\n        .pageID=","\n      ></delete-modal-actions>\n    "]);return _templateObject316=function(){return C},C}function _templateObject317(){var C=_taggedTemplateLiteral(['\n      <button\n        class="ia-button primary"\n        tabindex="-1"\n        ?disabled=',"\n        @click=",">\n        Add bookmark\n      </button>\n    "]);return _templateObject317=function(){return C},C}function _templateObject318(){var C=_taggedTemplateLiteral(["\n      <ia-bookmarks-list\n        @bookmarkEdited=","\n        @bookmarkSelected=","\n        @saveBookmark=","\n        @deleteBookmark=","\n        .editedBookmark=","\n        .bookmarks=","\n        .activeBookmarkID=","\n        .bookmarkColors=","\n        .defaultBookmarkColor=",">\n      </ia-bookmarks-list>\n    "]);return _templateObject318=function(){return C},C}function _templateObject319(){var C=_taggedTemplateLiteral(["<p>Please use 1up or 2up view modes to add bookmark.</p>"]);return _templateObject319=function(){return C},C}function _templateObject320(){var C=_taggedTemplateLiteral(["\n      ","\n      ","\n    "]);return _templateObject320=function(){return C},C}function _templateObject321(){var C=_taggedTemplateLiteral(["<bookmarks-login\n        @click=","\n        .url=","></bookmarks-login>"]);return _templateObject321=function(){return C},C}function _templateObject322(){var C=_taggedTemplateLiteral(['\n      <section class="bookmarks">\n      ',"\n      </section>\n    "]);return _templateObject322=function(){return C},C}function _templateObject323(){var C=_taggedTemplateLiteral(["\n  .blue {\n    --iconFillColor: var(--blueBookmarkColor, #0023f5);\n  }\n\n  .red {\n    --iconFillColor: var(--redBookmarkColor, #eb3223);\n  }\n\n  .green {\n    --iconFillColor: var(--greenBookmarkColor, #75ef4c);\n  }\n"]);return _templateObject323=function(){return C},C}function _templateObject324(){var C=_taggedTemplateLiteral(["<header>\n      <h3>Edit Bookmark</h3>\n    </header>"]);return _templateObject324=function(){return C},C}function _templateObject325(){var C=_taggedTemplateLiteral(['\n      <li>\n        <input type="radio" name="color" id="color_','" .value='," @change="," ?checked=",'>\n        <label for="color_','">\n          <icon-bookmark class=',"></icon-bookmark>\n        </label>\n      </li>\n    "]);return _templateObject325=function(){return C},C}function _templateObject326(){var C=_taggedTemplateLiteral(['\n      <div class="bookmark">\n        <img src='," />\n        <h4>Page ","</h4>\n      </div>\n    "]);return _templateObject326=function(){return C},C}function _templateObject327(){var C=_taggedTemplateLiteral(["\n      ","\n      ",'\n      <form action="" method="put" @submit=','>\n        <fieldset>\n          <label for="note">Note <small>(optional)</small></label>\n          <textarea rows="4" cols="80" name="note" id="note" @change=',">",'</textarea>\n          <label for="color">Bookmark color</label>\n          <ul>\n            ','\n          </ul>\n          <div class="actions">\n            <button type="button" class="ia-button cancel" @click=','>Delete</button>\n            <input class="ia-button" type="submit" value="Save">\n          </div>\n        </fieldset>\n      </form>\n    ']);return _templateObject327=function(){return C},C}function _templateObject328(){var C=_taggedTemplateLiteral(['\n    :host {\n      display: block;\n      padding: 0 1rem 2rem 1rem;\n      color: var(--primaryTextColor);\n    }\n\n    small {\n      font-style: italic;\n    }\n\n    .bookmark {\n      display: grid;\n      grid-template-columns: 37px 1fr;\n      grid-gap: 0 1rem;\n      align-items: center;\n    }\n\n    h4 {\n      margin: 0;\n      font-size: 1.4rem;\n    }\n\n    fieldset {\n      padding: 2rem 0 0 0;\n      border: none;\n    }\n\n    label {\n      display: block;\n      font-weight: bold;\n    }\n\n    p {\n      padding: 0;\n      margin: .5rem 0;\n      font-size: 1.2rem;\n      line-height: 120%;\n    }\n\n    textarea {\n      width: 100%;\n      margin-bottom: 2rem;\n      box-sizing: border-box;\n      font: normal 1.4rem "Helvetica Neue", Helvetica, Arial, sans-serif;\n      resize: vertical;\n    }\n\n    ul {\n      display: grid;\n      grid-template-columns: repeat(3, auto);\n      grid-gap: 0 2rem;\n      justify-content: start;\n      padding: 1rem 0 0 0;\n      margin: 0 0 2rem 0;\n      list-style: none;\n    }\n\n    li input {\n      display: none;\n    }\n\n    li label {\n      display: block;\n      min-width: 50px;\n      padding-top: .4rem;\n      text-align: center;\n      border: 1px solid transparent;\n      border-radius: 4px;\n      cursor: pointer;\n    }\n\n    li input:checked + label {\n      border-color: var(--primaryTextColor);\n    }\n\n    input[type="submit"] {\n      background: var(--primaryCTAFill);\n      border-color: var(--primaryCTABorder);\n    }\n\n    button {\n      background: var(--primaryErrorCTAFill);\n      border-color: var(--primaryErrorCTABorder);\n    }\n\n    .button {\n      -webkit-appearance: none;\n      appearance: none;\n      padding: .5rem 1rem;\n      box-sizing: border-box;\n      color: var(--primaryTextColor);\n      border: none;\n      border-radius: 4px;\n      cursor: pointer;\n    }\n\n    .actions {\n      display: grid;\n      grid-template-columns: auto auto;\n      grid-gap: 0 1rem;\n      justify-items: stretch;\n    }\n    ']);return _templateObject328=function(){return C},C}function _templateObject329(){var C=_taggedTemplateLiteral(["<p>","</p>"]);return _templateObject329=function(){return C},C}function _templateObject330(){var C=_taggedTemplateLiteral(["\n      <li\n        @click=",'\n        tabindex="0"\n        data-pageIndex=','\n      >\n        <div class="separator"></div>\n        <div class="content ','">\n          <button\n            class="edit"\n            @click=','\n            title="Edit this bookmark"\n          >\n            <ia-icon-edit-pencil></ia-icon-edit-pencil>\n          </button>\n          <h4>\n            <icon-bookmark class=',"></icon-bookmark>\n            <span> Page ","</span>\n          </h4>\n          ","\n          ","\n        </div>\n      </li>\n    "]);return _templateObject330=function(){return C},C}function _templateObject331(){var C=_taggedTemplateLiteral(["\n      <ia-bookmark-edit\n        .bookmark=","\n        .bookmarkColors=","\n        .defaultBookmarkColor=","\n        .showBookmark=","\n        @saveBookmark=","\n        @deleteBookmark=","\n        @bookmarkColorChanged=","\n      ></ia-bookmark-edit>\n    "]);return _templateObject331=function(){return C},C}function _templateObject332(){var C=_taggedTemplateLiteral(["<small>(",")</small>"]);return _templateObject332=function(){return C},C}function _templateObject333(){var C=_taggedTemplateLiteral(["<header>\n      <h3>\n        Bookmarks\n        ","\n      </h3>\n    </header>"]);return _templateObject333=function(){return C},C}function _templateObject334(){var C=_taggedTemplateLiteral(["\n      <ul>\n        ",'\n        <div class="separator"></div>\n      </ul>\n    ']);return _templateObject334=function(){return C},C}function _templateObject335(){var C=_taggedTemplateLiteral(["\n      ","\n      ","\n    "]);return _templateObject335=function(){return C},C}function _templateObject336(){var C=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        overflow-y: auto;\n        box-sizing: border-box;\n        color: var(--primaryTextColor);\n        margin-bottom: 2rem;\n        --activeBorderWidth: 2px;\n      }\n\n      icon-bookmark {\n        width: 16px;\n        height: 24px;\n      }\n\n      .separator {\n        background-color: var(--secondaryBGColor);\n        width: 98%;\n        margin: 1px auto;\n        height: 1px;\n      }\n\n      small {\n        font-style: italic;\n      }\n\n      h4 {\n        margin: 0;\n        font-size: 1.4rem;\n      }\n      h4 * {\n        display: inline-block;\n      }\n      h4 icon-bookmark {\n        vertical-align: bottom;\n      }\n      h4 span {\n        vertical-align: top;\n        padding-top: 1%;\n      }\n\n      p {\n        padding: 0;\n        margin: 5px 0 0 0;\n        width: 98%;\n        overflow-wrap: break-word;\n      }\n\n      ia-bookmark-edit {\n        margin: 5px 5px 3px 6px;\n      }\n\n      ul {\n        padding: 0;\n        list-style: none;\n        margin: var(--activeBorderWidth) 0.5rem 1rem 0;\n      }\n      ul > li:first-child .separator {\n        display: none;\n      }\n      li {\n        cursor: pointer;\n        outline: none;\n        position: relative;\n      }\n      li .content {\n        padding: 2px 0 4px 2px;\n        border: var(--activeBorderWidth) solid transparent;\n        padding: .2rem 0 .4rem .2rem;\n      }\n      li .content.active {\n        border: var(--activeBorderWidth) solid #538bc5;\n      }\n      li button.edit {\n        padding: 5px 2px 0 0;\n        background: transparent;\n        cursor: pointer;\n        height: 40px;\n        width: 40px;\n        position: absolute;\n        right: 2px;\n        top: 2px;\n        text-align: right;\n        -webkit-appearance: none;\n        appearance: none;\n        outline: none;\n        box-sizing: border-box;\n        border: none;\n      }\n      li button.edit > * {\n        display: block;\n        height: 100%;\n        width: 100%;\n      }\n    "]);return _templateObject336=function(){return C},C}function _templateObject337(){var C=_taggedTemplateLiteral(['<icon-bookmark state="hollow" style="--iconWidth: 16px; --iconHeight: 24px;"></icon-bookmark>']);return _templateObject337=function(){return C},C}function _templateObject338(){var C=_taggedTemplateLiteral(["",""]);return _templateObject338=function(){return C},C}function _templateObject339(){var C=_taggedTemplateLiteral(["<iaux-in-share-panel\n      .identifier=","\n      .type=","\n      .creator=","\n      .description=","\n      .baseHost=","\n      .fileSubPrefix=","\n    ></iaux-in-share-panel>"]);return _templateObject339=function(){return C},C}function _templateObject340(){var C=_taggedTemplateLiteral(["",""]);return _templateObject340=function(){return C},C}function _templateObject341(){var C=_taggedTemplateLiteral(['\n  <svg class="ia-logo" width="27" height="30" viewBox="0 0 27 30" xmlns="http://www.w3.org/2000/svg" aria-labelledby="logoTitleID logoDescID">\n    <title id="logoTitleID">Internet Archive logo</title>\n    <desc id="logoDescID">A line drawing of the Internet Archive headquarters building fa\xE7ade.</desc>\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <mask id="mask-2" fill="white">\n        <path d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z" id="path-1"></path>\n      </mask>\n      <use fill="#FFFFFF" xlink:href="#path-1"></use>\n      <g mask="url(#mask-2)" fill="#FFFFFF">\n        <path d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z" id="swatch"></path>\n      </g>\n    </g>\n  </svg>\n']);return _templateObject341=function(){return C},C}function _templateObject342(){var C=_taggedTemplateLiteral(["\n      <button\n        @click=",'\n        title="Exit fullscreen view"\n      >',"</button>\n    "]);return _templateObject342=function(){return C},C}function _templateObject343(){var C=_taggedTemplateLiteral(['<img class="cover-img" src=',' alt="cover image for ','">']);return _templateObject343=function(){return C},C}function _templateObject344(){var C=_taggedTemplateLiteral(['<div class="placeholder">',"</div>"]);return _templateObject344=function(){return C},C}function _templateObject345(){var C=_taggedTemplateLiteral(['<slot name="main"></slot>']);return _templateObject345=function(){return C},C}function _templateObject346(){var C=_taggedTemplateLiteral(['<div id="book-navigator__root">\n      ',"\n      ","\n    </div>\n  "]);return _templateObject346=function(){return C},C}function _templateObject347(){var C=_taggedTemplateLiteral(["\n    :host,\n    #book-navigator__root,\n    slot,\n    slot > * {\n      display: block;\n      height: inherit;\n      width: inherit;\n    }\n    .placeholder {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-direction: column;\n      margin: 5%;\n    }\n    .cover-img {\n      max-height: 300px;\n    }\n  "]);return _templateObject347=function(){return C},C}function _templateObject348(){var C=_taggedTemplateLiteral(['\n      <div class="main-component">\n        <iaux-item-navigator\n          ?viewportInFullscreen=',"\n          .basehost=","\n          .item=","\n          .modal=","\n          .loaded=","\n          .sharedObserver=","\n          ?signedIn=","\n          .menuShortcuts=","\n          .menuContents=","\n          .openMenu=",'\n        >\n          <div slot="header">\n            <slot name="header"></slot>\n          </div>\n          <div slot="main">\n            <book-navigator\n              .modal=',"\n              .baseHost=","\n              .itemMD=","\n              ?signedIn=","\n              ?sideMenuOpen=","\n              .sharedObserver=","\n              @ViewportInFullScreen=","\n              @loadingStateUpdated=","\n              @updateSideMenu=","\n              @menuUpdated=","\n              @menuShortcutsUpdated=",'\n            >\n              <div slot="main">\n                <slot name="main"></slot>\n              </div>\n            </book-navigator>\n          </div>\n        </iaux-item-navigator>\n      </div>\n    ']);return _templateObject348=function(){return C},C}function _templateObject349(){var C=_taggedTemplateLiteral(['\n      :host {\n        display: block;\n        --primaryBGColor: var(--black, #000);\n        --secondaryBGColor: #222;\n        --tertiaryBGColor: #333;\n        --primaryTextColor: var(--white, #fff);\n        --primaryCTAFill: #194880;\n        --primaryCTABorder: #c5d1df;\n        --secondaryCTAFill: #333;\n        --secondaryCTABorder: #999;\n        --primaryErrorCTAFill: #e51c26;\n        --primaryErrorCTABorder: #f8c6c8;\n        background-color: var(--primaryBGColor);\n        position: relative;\n      }\n\n      :host([fullscreen]),\n      iaux-item-navigator[viewportinfullscreen] {\n        position: fixed;\n        inset: 0;\n        height: 100%;\n        min-height: unset;\n      }\n\n      .main-component {\n        height: 100%;\n        width: 100%;\n        min-height: inherit;\n      }\n\n      div[slot="header"],\n      div[slot="main"] {\n        display: flex;\n        width: 100%;\n      }\n\n      slot {\n        display: block;\n        flex: 1;\n      }\n\n      iaux-item-navigator {\n        min-height: var(--br-height, inherit);\n        height: var(--br-height, inherit);\n        display: block;\n        width: 100%;\n        color: var(--primaryTextColor);\n        --menuButtonLabelDisplay: block;\n        --menuWidth: 320px;\n        --menuSliderBg: var(--secondaryBGColor);\n        --activeButtonBg: var(--tertiaryBGColor);\n        --subpanelRightBorderColor: var(--secondaryCTABorder);\n        --animationTiming: 100ms;\n        --iconFillColor: var(--primaryTextColor);\n        --iconStrokeColor: var(--primaryTextColor);\n        --menuSliderHeaderIconHeight: 2rem;\n        --menuSliderHeaderIconWidth: 2rem;\n        --iconWidth: 2.4rem;\n        --iconHeight: 2.4rem;\n        --shareLinkColor: var(--primaryTextColor);\n        --shareIconBorder: var(--primaryTextColor);\n        --shareIconBg: var(--secondaryBGColor);\n        --activityIndicatorLoadingDotColor: var(--primaryTextColor);\n        --activityIndicatorLoadingRingColor: var(--primaryTextColor);\n      }\n    ']);return _templateObject349=function(){return C},C}function _templateObject350(){var C=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 40 40"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="audioTitleID audioDescID"\n>\n  <title id="audioTitleID">Audio icon</title>\n  <desc id="audioDescID">An illustration of an audio speaker.</desc>\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g transform="translate(10, 8)" class="fill-color">\n      <path\n        d="M19.4264564,11.8585048 L19.4264564,20.7200433 C19.4264564,22.3657576 18.8838179,23.2519114 16.8489237,23.2519114 C12.2364969,23.125318 7.75972977,23.125318 3.14730298,23.2519114 C1.24806842,23.2519114 0.569770368,22.492351 0.569770368,20.7200433 L0.569770368,2.74377955 C0.569770368,1.09806526 1.11240881,0.211911416 3.14730298,0.211911416 C7.75972977,0.338504822 12.2364969,0.338504822 16.8489237,0.211911416 C18.7481583,0.211911416 19.4264564,0.971471855 19.4264564,2.74377955 C19.2907967,5.78202131 19.4264564,8.82026306 19.4264564,11.8585048 L19.4264564,11.8585048 Z M10.0659432,2.74377955 C8.16670861,2.74377955 6.67445288,4.13630702 6.67445288,5.90861471 C6.67445288,7.6809224 8.16670861,9.07344988 10.0659432,9.07344988 C11.9651777,9.07344988 13.4574335,7.6809224 13.4574335,5.90861471 C13.4574335,4.13630702 11.8295181,2.74377955 10.0659432,2.74377955 L10.0659432,2.74377955 Z M10.0659432,11.4787246 C7.21709133,11.4787246 5.04653754,13.6308125 5.04653754,16.1626806 C5.04653754,18.8211422 7.35275094,20.8466367 10.0659432,20.8466367 C12.914795,20.8466367 15.0853488,18.6945488 15.0853488,16.1626806 C15.0853488,13.6308125 12.7791354,11.4787246 10.0659432,11.4787246 L10.0659432,11.4787246 Z"\n      ></path>\n      <ellipse cx="10.2016028" cy="16.5690777" rx="1.35659611" ry="1.34075134"></ellipse>\n    </g>\n  </g>\n</svg>\n']);return _templateObject350=function(){return C},C}function _templateObject351(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject351=function(){return C},C}function _templateObject352(){var C=_taggedTemplateLiteral(['\n  <svg\n    height="12"\n    viewBox="0 0 12 12"\n    width="12"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="closeCircleTitleID closeCircleDescID"\n  >\n    <title id="closeCircleTitleID">Close circle icon</title>\n    <desc id="closeCircleDescID">A line drawing of an X in a circle</desc>\n    <path\n      d="m6 0c3.3137085 0 6 2.6862915 6 6s-2.6862915 6-6 6-6-2.6862915-6-6 2.6862915-6 6-6zm-2.3406945 2.96359116c-.19486814-.13499605-.46429254-.1157109-.63785889.05785545-.19526215.19526215-.19526215.51184463 0 .70710678l2.27155339 2.27144661-2.20567981 2.20557302-.05785545.06924789c-.13499605.19486814-.1157109.46429254.05785545.6378589.19526215.19526214.51184464.19526214.70710679 0l2.20557302-2.20567981 2.20557302 2.20567981.06924789.05785545c.19486814.13499605.46429254.1157109.6378589-.05785545.19526214-.19526215.19526214-.51184464 0-.70710679l-2.20567981-2.20557302 2.27155339-2.27144661.05785545-.06924789c.13499605-.19486814.1157109-.46429254-.05785545-.63785889-.19526215-.19526215-.51184463-.19526215-.70710678 0l-2.27144661 2.27155339-2.27144661-2.27155339z"\n      class="fill-color"\n      fill-rule="evenodd"\n    />\n  </svg>\n']);return _templateObject352=function(){return C},C}function _templateObject353(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor, #999);\n      }\n    "]);return _templateObject353=function(){return C},C}function _templateObject354(){var C=_taggedTemplateLiteral(["<a\n        href=","\n        @click=","\n        >","</a\n      >"]);return _templateObject354=function(){return C},C}function _templateObject355(){var C=_taggedTemplateLiteral(["<button\n        @click=","\n      >\n        ","\n      </button>"]);return _templateObject355=function(){return C},C}function _templateObject356(){var C=_taggedTemplateLiteral(["<li class=",">","</li>"]);return _templateObject356=function(){return C},C}function _templateObject357(){var C=_taggedTemplateLiteral(['<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"\n      fill=""></path>\n  </svg>']);return _templateObject357=function(){return C},C}function _templateObject358(){var C=_taggedTemplateLiteral(['<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"\n    fill=""></path>\n  </svg>']);return _templateObject358=function(){return C},C}function _templateObject359(){var C=_taggedTemplateLiteral(['<span class="caret">',"</span>"]);return _templateObject359=function(){return C},C}function _templateObject360(){var C=_taggedTemplateLiteral(['\n      <div class="ia-dropdown-group">\n        <button @click=',' class="click-main">\n          <span class="cta sr-only">Toggle ','</span>\n          <slot name="dropdown-label"></slot>\n          ','\n        </button>\n\n        <ul class="dropdown-main ','">\n          ',"\n        </ul>\n      </div>\n    "]);return _templateObject360=function(){return C},C}function _templateObject361(){var C=_taggedTemplateLiteral(["\n    :host {\n      display: inline;\n      color: var(--dropdownTextColor, #fff);\n    }\n\n    svg.caret-up-svg,\n    svg.caret-down-svg {\n      fill: var(--dropdownCaretColor, #fff);\n      vertical-align: middle;\n    }\n\n    button.click-main {\n      background: transparent;\n      color: inherit;\n      border: none;\n      cursor: pointer;\n      outline: inherit;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      align-content: center;\n      flex-wrap: nowrap;\n      flex-direction: row;\n      padding-left: 0;\n    }\n\n    button slot {\n      padding-right: 5px;\n      display: inline-block;\n    }\n\n    .ia-dropdown-group {\n      width: inherit;\n      height: inherit;\n      position: relative;\n    }\n\n    .sr-only {\n      border: 0 !important;\n      clip: rect(1px, 1px, 1px, 1px) !important;\n      -webkit-clip-path: inset(50%) !important;\n      clip-path: inset(50%) !important;\n      height: 1px !important;\n      margin: -1px !important;\n      overflow: hidden !important;\n      padding: 0 !important;\n      position: absolute !important;\n      width: 1px !important;\n      white-space: nowrap !important;\n    }\n\n    .caret svg {\n      height: var(--caretHeight, 10px);\n      width: var(--caretWidth, 20px);\n    }\n\n    ul {\n      z-index: var(--dropdownListZIndex, 1);\n    }\n\n    ul.dropdown-main.closed {\n      visibility: hidden;\n      height: 1px;\n      width: 1px;\n    }\n\n    ul.dropdown-main {\n      position: absolute;\n      list-style: none;\n      margin: 5px 0 0 0;\n      padding: 0;\n      color: var(--dropdownTextColor, #fff);\n      border-radius: 4px;\n      border: 1px solid var(--dropdownBorderColor, #fff);\n    }\n\n    ul.dropdown-main {\n      background: var(--dropdownBgColor, #333);\n    }\n\n    ul.dropdown-main li:hover:first-child {\n      border-top-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));\n    }\n\n    ul.dropdown-main li:hover:last-child {\n      border-bottom-color: var(\n        --dropdownHoverBgColor,\n        rgba(255, 255, 255, 0.3)\n      );\n    }\n\n    ul.dropdown-main li:hover:not(:first-child) {\n      border-top: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);\n    }\n    ul.dropdown-main li:hover:not(:last-child) {\n      border-bottom: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);\n    }\n\n    ul.dropdown-main li.selected:last-child {\n      border-bottom-color: var(--dropdownSelectedBgColor, #fff);\n    }\n\n    ul.dropdown-main li.selected:first-child {\n      border-top-color: var(--dropdownSelectedBgColor, #fff);\n    }\n\n    ul.dropdown-main li.selected > * {\n      background-color: var(--dropdownSelectedBgColor, #fff);\n      color: var(--dropdownSelectedTextColor, #2c2c2c);\n    }\n\n    ul.dropdown-main li:hover {\n      background-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));\n      color: var(--dropdownHoverTextColor, #fff);\n      list-style: none;\n      cursor: pointer;\n    }\n\n    ul.dropdown-main li:hover > * {\n      background-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));\n      color: var(--dropdownHoverTextColor, #fff);\n    }\n\n    ul.dropdown-main li {\n      background: var(--dropdownBgColor, #333);\n      list-style: none;\n      height: 30px;\n      cursor: pointer;\n      border-bottom: 0.5px solid var(--dropdownBgColor, #333);\n      border-top: 0.5px solid var(--dropdownBgColor, #333);\n    }\n\n    ul.dropdown-main li button {\n      background: none;\n      color: inherit;\n      border: none;\n      font: inherit;\n      cursor: pointer;\n      outline: inherit;\n    }\n\n    ul.dropdown-main li a {\n      text-decoration: none;\n      display: block;\n      box-sizing: border-box;\n    }\n\n    ul.dropdown-main li:first-child {\n      border-top-left-radius: 4px;\n      border-top-right-radius: 4px;\n    }\n\n    ul.dropdown-main li:last-child {\n      border-bottom-right-radius: 4px;\n      border-bottom-left-radius: 4px;\n    }\n\n    /* cover the list with the label */\n    ul.dropdown-main li > * > :first-child {\n      margin: 0;\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      height: 100%;\n      padding: 5px 10px;\n      box-sizing: border-box;\n    }\n\n    ul.dropdown-main li > * {\n      width: 100%;\n      height: inherit;\n      color: var(--dropdownTextColor, #fff);\n      background: transparent;\n      padding: 0;\n    }\n  "]);return _templateObject361=function(){return C},C}function _templateObject362(){var C=_taggedTemplateLiteral(['\n      <div class="icon-label-container">\n        <slot name="icon"></slot>\n        <slot></slot>\n      </div>\n    ']);return _templateObject362=function(){return C},C}function _templateObject363(){var C=_taggedTemplateLiteral(["\n    :host {\n      display: block;\n      width: 100%;\n      height: 100%;\n      position: relative;\n    }\n\n    :host(.invert-icon-at-hover:hover) slot[name='icon'] {\n      filter: invert(1);\n    }\n\n    :host(.selected) {\n      background-color: var(--selectedBgColor, #fff);\n      color: var(--selectedTextColor, #2c2c2c);\n    }\n\n    :host(.invert-icon-at-selected.selected) slot[name='icon'] {\n      filter: invert(1);\n    }\n\n    div.icon-label-container {\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      height: 100%;\n    }\n\n    slot[name='icon'] {\n      width: var(--iconWidth, 20px);\n      margin-right: var(--iconLabelGutterWidth, 10px);\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      height: 100%;\n    }\n  "]);return _templateObject363=function(){return C},C}function _templateObject364(){var C=_taggedTemplateLiteral(["\n  section#radio {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  #radio #selector-title {\n    margin-right: 5px;\n  }\n\n  #radio ul {\n    display: inline-block;\n  }\n\n  #radio ul {\n    border-radius: 50px;\n    display: inline-flex;\n    align-content: flex-start;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center;\n  }\n\n  #radio li {\n    border: 1px solid #fff;\n  }\n\n  #radio li:first-child {\n    border-top-left-radius: 50px;\n    border-bottom-left-radius: 50px;\n    padding-left: 5px;\n  }\n  #radio li:first-child ia-icon-label {\n    margin-left: 5px;\n  }\n\n  #radio li:last-child {\n    border-top-right-radius: 50px;\n    border-bottom-right-radius: 50px;\n    padding-right: 10px;\n    padding-left: 5px;\n  }\n\n  #radio li:last-child ia-icon-label {\n    margin-right: 5px;\n  }\n\n  #radio li:not(:last-child) {\n    border-right: none;\n    padding-right: 5px;\n    padding-left: 5px;\n  }\n\n  /* Demarcate when hovering next to selected channel */\n  #radio li > ia-icon-label {\n    height: 30px;\n    padding: 5px;\n    box-sizing: border-box;\n  }\n  /* End demarcation */\n"]);return _templateObject364=function(){return C},C}function _templateObject365(){var C=_taggedTemplateLiteral(['<img\n    class="ia"\n    src="https://archive.org/images/music-theater/internet-archive.svg"\n    alt="Internet Archive logo"\n    style="height: 20px; width: 20px;"\n  />']);return _templateObject365=function(){return C},C}function _templateObject366(){var C=_taggedTemplateLiteral(['<img\n    class="ia-beta"\n    src="https://archive.org/images/music-theater/streaming.svg"\n    alt="Internet Archive beta player logo"\n    style="height: 20px; width: 20px;"\n  />']);return _templateObject366=function(){return C},C}function _templateObject367(){var C=_taggedTemplateLiteral(['<img\n    class="spotify"\n    src="https://archive.org/images/music-theater/spotify.svg"\n    alt="Spotify logo"\n    style="display: block;"\n  />']);return _templateObject367=function(){return C},C}function _templateObject368(){var C=_taggedTemplateLiteral(['<img\n    class="webamp"\n    src="https://archive.org/images/music-theater/webamp.svg"\n    alt="webamp logo"\n    style="height: 20px;"\n  />']);return _templateObject368=function(){return C},C}function _templateObject369(){var C=_taggedTemplateLiteral(['<img\n    class="youtube"\n    src="https://archive.org/images/music-theater/youtube.svg"\n    alt="youtube logo"\n    style="height: 20px; width: 20px; display: block;"\n  />']);return _templateObject369=function(){return C},C}function _templateObject370(){var C=_taggedTemplateLiteral(["\n    <ia-icon-label class=",'>\n      <span slot="icon" style=',">","</span>\n      <span>","</span>\n    </ia-icon-label>\n  "]);return _templateObject370=function(){return C},C}function _templateObject371(){var C=_taggedTemplateLiteral(["\n    <ia-icon-label class=",'>\n      <span slot="icon" style=',">","</span>\n      <span>","</span>\n    </ia-icon-label>\n  "]);return _templateObject371=function(){return C},C}function _templateObject372(){var C=_taggedTemplateLiteral(['\n  <ia-icon-label class="','">\n    <span slot="icon">',"</span>\n    <span>","</span>\n  </ia-icon-label>\n"]);return _templateObject372=function(){return C},C}function _templateObject373(){var C=_taggedTemplateLiteral(["\n    <ia-icon-label class=",'>\n      <span slot="icon" style=',">","</span>\n      <span>Webamp</span>\n    </ia-icon-label>\n  "]);return _templateObject373=function(){return C},C}function _templateObject374(){var C=_taggedTemplateLiteral(['\n  <ia-icon-label class="','">\n    <span slot="icon">',"</span>\n    <span>","</span>\n  </ia-icon-label>\n"]);return _templateObject374=function(){return C},C}function _templateObject375(){var C=_taggedTemplateLiteral(["\n    <a href="," @click=",">","</button>\n  "]);return _templateObject375=function(){return C},C}function _templateObject376(){var C=_taggedTemplateLiteral(["\n    <button @click=",' class="ia">\n      ',"\n    </button>\n  "]);return _templateObject376=function(){return C},C}function _templateObject377(){var C=_taggedTemplateLiteral(["<button\n  @click=",'\n  class="ia-beta"\n>\n  ',"\n</button>"]);return _templateObject377=function(){return C},C}function _templateObject378(){var C=_taggedTemplateLiteral(["<button\n  @click=",'\n  class="sp"\n>\n  ',"\n</button>"]);return _templateObject378=function(){return C},C}function _templateObject379(){var C=_taggedTemplateLiteral(["\n    <a href="," @click=",' class="wa">',"</button>\n  "]);return _templateObject379=function(){return C},C}function _templateObject380(){var C=_taggedTemplateLiteral(["<button\n  @click=",'\n  class="yt"\n>\n  ',"\n</button>"]);return _templateObject380=function(){return C},C}function _templateObject381(){var C=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject381=function(){return C},C}function _templateObject382(){var C=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject382=function(){return C},C}function _templateObject383(){var C=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject383=function(){return C},C}function _templateObject384(){var C=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject384=function(){return C},C}function _templateObject385(){var C=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject385=function(){return C},C}function _templateObject386(){var C=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject386=function(){return C},C}function _templateObject387(){var C=_taggedTemplateLiteral(["\n      <ia-dropdown\n        displayCaret\n        .options=","\n        .selectedOption=","\n        class=",'\n      >\n        <span slot="dropdown-label">',"</span>\n      </ia-dropdown>\n    "]);return _templateObject387=function(){return C},C}function _templateObject388(){var C=_taggedTemplateLiteral(['\n      <div id="selector-title"><h4>Play from:</h4></div>\n      <div>\n        <ul>\n          '," ","\n          ","\n          ","\n          ","\n        </ul>\n      </div>\n    "]);return _templateObject388=function(){return C},C}function _templateObject389(){var C=_taggedTemplateLiteral(["\n      <section\n        id=",'\n        class="'," ",'"\n      >\n        ',"\n      </section>\n    "]);return _templateObject389=function(){return C},C}function _templateObject390(){var C=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n      }\n\n      :host(:focus) {\n        outline: none;\n      }\n\n      section.radio ul,\n      section.radio h4 {\n        color: #fff;\n      }\n\n      section.radio.light h4 {\n        color: #222;\n      }\n\n      ia-dropdown.light {\n        --channel-selector-dropdown-text-color: #222;\n        color: var(--channel-selector-dropdown-text-color, #222);\n        --dropdownCaretColor: var(--channel-selector-dropdown-text-color, #222);\n      }\n\n      ia-dropdown {\n        --dropdownBgColor: #333;\n        --dropdownHoverBgColor: #474747;\n        color: var(--channel-selector-dropdown-text-color, #fff);\n        --dropdownCaretColor: var(--channel-selector-dropdown-text-color, #fff);\n      }\n\n      ia-dropdown.light img.ia,\n      ia-dropdown.light img.ia-beta,\n      ia-dropdown.light img.webamp {\n        filter: invert(1);\n      }\n\n      h4 {\n        margin: 0;\n      }\n\n      a:link,\n      a:visited,\n      a:active,\n      a {\n        color: inherit;\n        text-decoration: none;\n      }\n\n      button {\n        color: inherit;\n        background: none;\n        border: none;\n        padding: 0;\n        font: inherit;\n        cursor: pointer;\n        outline: inherit;\n        margin: 0;\n      }\n\n      li > *,\n      #dropdown .selected-option {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: nowrap;\n        align-content: center;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n      }\n\n      li:hover {\n        background-color: var(--channel-selector-hover-bg-color, #474747);\n      }\n\n      li.selected {\n        background-color: #fff;\n        color: #2c2c2c;\n      }\n\n      ul,\n      li {\n        list-style-type: none;\n        padding: 0;\n        margin: 0;\n      }\n\n      li {\n        display: flex;\n        height: 30px;\n        background-color: #333;\n      }\n\n      #dropdown .close,\n      .sr-only {\n        width: 1px;\n        height: 1px;\n        padding: 0px;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0px, 0px, 0px, 0px);\n        border: 0px;\n        display: block;\n      }\n\n      #radio .selected-option {\n        display: none;\n      }\n\n      li a.ia {\n        display: flex;\n      }\n\n      *[slot='dropdown-label'] img {\n        height: 30px !important;\n        width: 30px !important;\n        display: block;\n      }\n    "]);return _templateObject390=function(){return C},C}function _templateObject391(){var C=_taggedTemplateLiteral(['\n      <div class="no-image">\n        <ia-icon-audio class=',"></ia-icon-audio>\n      </div>\n    "]);return _templateObject391=function(){return C},C}function _templateObject392(){var C=_taggedTemplateLiteral(["\n    ia-icon-audio {\n      margin: auto;\n      display: block;\n      height: var(--imageHeight, 100%);\n      width: var(--imageWidth, 100%);\n      opacity: 0.8;\n    }\n    :host {\n      height: 100%;\n      width: 100%;\n    }\n\n    ia-icon-audio {\n      border: 1px solid #fff8;\n    }\n\n    ia-icon-audio.grad0 {\n      background: linear-gradient(\n        hsl(300, 80%, 55%),\n        hsl(330, 80%, 33%) 35%,\n        hsl(330, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad1 {\n      background: linear-gradient(\n        hsl(200, 80%, 55%),\n        hsl(230, 80%, 33%) 35%,\n        hsl(230, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad2 {\n      background: linear-gradient(\n        hsl(160, 80%, 55%),\n        hsl(190, 80%, 33%) 35%,\n        hsl(190, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad3 {\n      background: linear-gradient(\n        hsl(250, 80%, 55%),\n        hsl(280, 80%, 33%) 35%,\n        hsl(280, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad4 {\n      background: linear-gradient(\n        hsl(280, 80%, 55%),\n        hsl(310, 80%, 33%) 35%,\n        hsl(310, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad5 {\n      background: linear-gradient(\n        hsl(340, 80%, 55%),\n        hsl(0, 80%, 33%) 35%,\n        hsl(0, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n  "]);return _templateObject392=function(){return C},C}function _templateObject393(){var C=_taggedTemplateLiteral(['\n  <svg\n    id="more-inside-icon"\n    xmlns="http://www.w3.org/2000/svg"\n    viewBox="0 0 100 100"\n  >\n    <path\n      d="m96.8125698 30.0518396-12.4391845 11.1531924c-6.4532715-6.3905169-12.9677985-11.5730208-19.5435809-15.5475116s-12.5677954-6.5813314-17.976039-7.8205218c-5.4082436-1.2391903-10.6069142-1.851437-15.5960116-1.8369986-4.9890974.0149552-9.3415934.6580779-13.0574879 1.9296264-3.7158945 1.2715486-6.9635733 2.5779337-9.74303641 3.9191553-2.77946307 1.3412217-4.90933068 2.5788117-6.38960283 3.7127699l-2.06762666 1.7089107c7.29513996.9354669 14.2472986 2.8747038 20.856476 5.8177108 6.6091773 2.9430069 12.0620941 6.1781707 16.3587501 9.7054913 4.2966561 3.5273205 8.0790367 6.9908189 11.3471418 10.3904951 3.2681052 3.3996761 5.6276868 6.2214567 7.0787448 8.4653416l2.1765871 3.3658274-13.0786842 11.7265792 55.2609844 8.2580923z"\n      fill-rule="evenodd"\n      class="fill-color"\n    />\n  </svg>\n']);return _templateObject393=function(){return C},C}function _templateObject394(){var C=_taggedTemplateLiteral(['\n        <div class="no-images">\n          <iamusic-noimage .iaIdentifier=',"\n            >no image available</iamusic-noimage\n          >\n        </div>\n      "]);return _templateObject394=function(){return C},C}function _templateObject395(){var C=_taggedTemplateLiteral(["\n      <div\n        class=",'\n      >\n        <div class="flip-card-inner">\n          <div class="flip-card-front">','</div>\n          <div class="flip-card-back">',"</div>\n        </div>\n      </div>\n    "]);return _templateObject395=function(){return C},C}function _templateObject396(){var C=_taggedTemplateLiteral(["\n      <div class=",'>\n        <button\n          id="close-photo-viewer"\n          @click=','\n        >\n          <span class="sr-only">Click to close Photo Viewer.</span>\n          <ia-icon-close-circle></ia-icon-close-circle>\n        </button>\n        <ia-bookreader\n          .item=',"\n          .baseHost=","\n          .signedIn=",'\n          ><div slot="main"><slot name="main"></slot></div\n        ></ia-bookreader>\n      </div>\n    ']);return _templateObject396=function(){return C},C}function _templateObject397(){var C=_taggedTemplateLiteral(['\n      <div class="cover-art">\n        <button\n          class="click-for-photos"\n          @click=',"\n        >\n          <img\n            src=","\n            alt=","\n            @load=",'\n          />\n          <span class="sr-only">See all photos for ','</span>\n          <div id="see-more-cta">\n            <p><span>See more</span> <span>',"</span></p>\n          </div>\n        </button>\n      </div>\n    "]);return _templateObject397=function(){return C},C}function _templateObject398(){var C=_taggedTemplateLiteral(["\n    :host {\n      display: block;\n    }\n\n    :host[fullscreenactive],\n    .flip-card.fullscreenActive {\n      position: absolute;\n      inset: 0;\n      height: var(--linerNotesFullscreenHeight, 100vh);\n    }\n\n    div.no-images {\n      display: flex;\n      height: inherit;\n    }\n    div.no-images * {\n      --iconFillColor: white;\n      --iconHeight: 250px;\n      --iconWidth: 250px;\n      margin: auto;\n    }\n\n    ia-icon-texts {\n      height: 50px;\n      width: 50px;\n      --iconFillColor: white;\n      display: block;\n    }\n\n    button {\n      cursor: pointer;\n      border: 1px solid transparent;\n      background-color: transparent;\n    }\n\n    .cover-art,\n    button.click-for-photos {\n      height: inherit;\n      position: relative;\n      padding: 0;\n    }\n\n    button.click-for-photos {\n      display: flex;\n      margin: auto;\n      min-height: 30%;\n      min-width: 25%;\n    }\n\n    button.click-for-photos img {\n      display: block;\n      overflow: hidden;\n      object-fit: contain;\n      object-position: top;\n      max-width: 100%;\n      margin-top: 18px;\n      max-height: calc(var(--linerNotesInTheaterHeight, 100%) - 30px);\n    }\n\n    button.click-for-photos ia-icon-texts,\n    button#close-photo-viewer {\n      position: absolute;\n      top: 0;\n      right: 0;\n    }\n\n    button span.sr-only {\n      position: absolute;\n      height: 1px;\n      width: 1px;\n      top: 0;\n      left: 0;\n      visibility: hidden;\n    }\n\n    button#close-photo-viewer {\n      border: none;\n      z-index: 2;\n      padding: 0;\n    }\n\n    button#close-photo-viewer ia-icon-close-circle {\n      display: block;\n      padding: 10px;\n      --iconHeight: 20px;\n      --iconWidth: 20px;\n      --iconFillColor: #fff;\n    }\n\n    .flip-card {\n      width: 100%;\n      height: 100%;\n      perspective: 1000px;\n    }\n\n    .flip-card-inner {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      text-align: center;\n      transition: transform 0.6s;\n      transform-style: preserve-3d;\n    }\n\n    .flip-card.show-back .flip-card-inner {\n      transform: rotateY(180deg);\n    }\n\n    .flip-card.show-back .flip-card-front .cover-art {\n      transition: height 0.5s;\n      height: 100%;\n      visibility: hidden;\n    }\n\n    .flip-card-front,\n    .flip-card-back {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      background-color: transparent;\n      -webkit-backface-visibility: hidden;\n      backface-visibility: hidden;\n    }\n\n    .flip-card-back {\n      transform: rotateY(180deg);\n    }\n\n    .photo-viewer-container {\n      height: inherit;\n    }\n\n    ia-bookreader {\n      display: block;\n      background-color: transparent;\n    }\n\n    /* see more cta */\n    .flip-card #see-more-cta {\n      font-family: 'Helvetica Neue Bold', Helvetica, Arial, sans-serif;\n      font-weight: bold;\n      font-size: 14px;\n      align-self: end;\n      margin: 0;\n      position: absolute;\n      top: 0;\n      right: 0;\n    }\n    .flip-card #see-more-cta p {\n      display: inline-block;\n      margin: 0;\n      width: 90px;\n    }\n    .flip-card #see-more-cta svg {\n      position: absolute;\n      width: 16px;\n      margin-left: 0px;\n      top: 0;\n      right: 0;\n      margin-top: -2px;\n    }\n\n    .flip-card #see-more-cta {\n      color: white;\n    }\n    .flip-card #see-more-cta .fill-color {\n      fill: white;\n    }\n\n    .flip-card.light #see-more-cta {\n      color: #222;\n    }\n    .flip-card.light #see-more-cta .fill-color {\n      fill: #222;\n    }\n  "]);return _templateObject398=function(){return C},C}function _templateObject399(){var C=_taggedTemplateLiteral(['\n      <iframe\n        id="embed-iframe"\n        src="','"\n        width="100%"\n        height="200"\n        frameborder="0"\n        allowtransparency="true"\n        allow="encrypted-media"\n        title="YouTube Player"\n      ></iframe>\n    ']);return _templateObject399=function(){return C},C}function _templateObject400(){var C=_taggedTemplateLiteral(["\n        :host {\n          display: block;\n          width: 100%;\n          height: 100%;\n        }\n      "]);return _templateObject400=function(){return C},C}function _templateObject401(){var C=_taggedTemplateLiteral(['\n      <iframe\n        id="embed-iframe"\n        src="','"\n        width="100%"\n        height="80"\n        frameborder="0"\n        allowtransparency="true"\n        allow="encrypted-media"\n        title="Spotify Player"\n      ></iframe>\n    ']);return _templateObject401=function(){return C},C}function _templateObject402(){var C=_taggedTemplateLiteral(["<h3>Invalid Spotify URI: ","</h3>"]);return _templateObject402=function(){return C},C}function _templateObject403(){var C=_taggedTemplateLiteral(["\n        :host {\n          display: block;\n          width: 100%;\n          height: 100%;\n        }\n      "]);return _templateObject403=function(){return C},C}function _templateObject404(){var C=_taggedTemplateLiteral(["\n          <spotify-player .iaUrn=","></spotify-player>\n        "]);return _templateObject404=function(){return C},C}function _templateObject405(){var C=_taggedTemplateLiteral(["\n          <youtube-player .iaUrn=","></youtube-player>\n        "]);return _templateObject405=function(){return C},C}function _templateObject406(){var C=_taggedTemplateLiteral(["<iaux-photo-viewer\n            noimageavailable\n            .itemIdentifier=","></iaux-photo-viewer>"]);return _templateObject406=function(){return C},C}function _templateObject407(){var C=_taggedTemplateLiteral(["<iaux-photo-viewer\n            ?noimageavailable=","\n            class=","\n            .backgroundTheme=","\n            .baseHost=","\n            .itemIdentifier=","\n            .itemMD=","\n            .signedIn=","\n            .linerNotesManifest=","\n            .lightDomHook=","\n            .sharedRO=","\n            @fullscreenOpened=","\n            @fullscreenClosed=","\n            @showingAllPhotos=","\n            @coverImageLoaded=",'\n          >\n            <div slot="main" class="main">\n              <slot name="main"></slot>\n            </div>\n          </iaux-photo-viewer>']);return _templateObject407=function(){return C},C}function _templateObject408(){var C=_taggedTemplateLiteral(['<div class="image"><slot name="image"></slot></div>']);return _templateObject408=function(){return C},C}function _templateObject409(){var C=_taggedTemplateLiteral(['\n      <section\n        id="music-theater"\n        class=',"\n      >\n        <channel-selector\n          .backgroundTheme=","\n          webamp\n          .youtube=","\n          .spotify=","\n          .url=","\n          .selected=","\n          @channelChange=","\n          .displayStyle=","\n        ></channel-selector>\n        ","\n        ",'\n        <div class="player">\n          <div id="ext-channels-section">\n            <externalchannels-player\n                .album=',"\n                selectedChannel=","\n                .playerApi=","\n                @externalChannelsPlayerLoaded=","\n                @externalChannelsSelectedTrack=",'\n              ></external-channels-player>\n          </div>\n          <slot class="player"></slot>\n        </div>\n      </section>\n    ']);return _templateObject409=function(){return C},C}function _templateObject410(){var C=_taggedTemplateLiteral(['\n      :host {\n        display: block;\n        position: relative;\n        overflow: hidden;\n        /* petabox styling is very sticky for outlines, let\'s remove */\n        outline: none !important;\n        font-size: 16px;\n        height: 100%;\n        min-height: inherit;\n        --imageWidth: 350px;\n        --imageHeight: 350px;\n      }\n\n      :host[bgtheme="dark"],\n      #music-theater.dark {\n        color: white;\n      }\n\n      .hide {\n        display: none;\n      }\n\n      .linerNotesFullscreen channel-selector {\n        visibility: hidden;\n      }\n\n      channel-selector {\n        z-index: 1;\n        position: relative;\n      }\n\n      channel-selector[displaystyle="dropdown"] {\n        padding-left: 5px;\n        padding-bottom: 10px;\n        padding-top: 10px;\n        z-index: 3;\n        display: inline-block;\n        position: absolute;\n        top: 0;\n      }\n\n      #music-theater.dropdown {\n        margin-top: 5px;\n      }\n\n      @media(max-width: 768px) {\n        #music-theater.one-col.hasimage slot[name="image"],\n        #music-theater.one-col.hasimage iaux-photo-viewer {\n          overflow: hidden;\n          height: 268px;\n          margin-top: 20px;\n        }\n\n        #music-theater.one-col.noimageavailable channel-selector {\n          position: absolute;\n        }\n\n        #music-theater.one-col.noimageavailable iaux-photo-viewer {\n          overflow: hidden;\n          --imageHeight: 190px;\n          --imageWidth: 190px;\n          --linerNotesHeight: 200px;\n          height: 200px !important;\n          padding-top: 10px;\n        }\n\n        #music-theater.one-col slot.player {\n          padding: 0 5px;\n        }\n      }\n\n      @media(min-width: 1201px) {\n        #music-theater.two-col {\n          margin: 10px auto;\n        }\n      }\n\n      #music-theater.two-col {\n        display: grid;\n        grid-template-columns: 0.7fr 1.3fr;\n        grid-template-rows: 0.2fr;\n        gap: 0;\n        column-gap: 0;\n        grid-template-areas: "image channel-selector" "image player";\n        column-gap: 20px;\n        margin: 10px 30px;\n      }\n\n      #music-theater.two-col .image,\n      #music-theater.two-col iaux-photo-viewer {\n        grid-area: image;\n        z-index: 2;\n        max-height: var(--linerNotesInTheaterHeight, 100%);\n        margin-top: 10px;\n        height: auto;\n      }\n      #music-theater.two-col .player {\n        grid-area: player;\n      }\n      #music-theater.two-col channel-selector[displaystyle="radio"] {\n        grid-area: channel-selector;\n      }\n\n      @media(min-width: 768px) and (max-width: 1200px) {\n        #music-theater.two-col.hasimage {\n          grid-template-columns: 1fr 1fr;\n        }\n      }\n\n      slot {\n        display: block;\n      }\n\n      slot[name="image"] {\n        max-height: 400px;\n        display: block;\n        max-width: 100%;\n        height: inherit;\n        object-fit: contain;\n        position: relative;\n      }\n\n      div#ext-channels-section {\n        margin-top: 5px;\n      }\n    ']);return _templateObject410=function(){return C},C}function _templateObject411(){var C=_taggedTemplateLiteral(['\n      <div class="jw-reset jw-settings-submenu-items">\n        <button type="button"\n          aria-checked="','"\n          class="jw-reset-text jw-settings-content-item ','"\n          role="menuitemradio" dir="auto"\n          aria-label="Background Play ON"\n          @click=','\n          >Background Play ON</button>\n        <button type="button"\n          aria-checked="','"\n          class="jw-reset-text jw-settings-content-item ','"\n          role="menuitemradio" dir="auto"\n          aria-label="Background Play OFF"\n          @click=','\n          >Background Play OFF</button>\n        <div class="jw-reset-text jw-settings-content-item">\n          It appears your browser supports background audio playback.  You can turn this feature off if you find the network startup times are delaying your audio experience.  After changing this setting, reload this browser tab.\n        </div>\n      </div>']);return _templateObject411=function(){return C},C}function _templateObject412(){var C=_taggedTemplateLiteral(["\n      ","\n    "]);return _templateObject412=function(){return C},C}function _templateObject413(){var C=_taggedTemplateLiteral(["\n      ","\n    "]);return _templateObject413=function(){return C},C}function _templateObject414(){var C=_taggedTemplateLiteral(['\n      <div class="container">\n        ','\n\n        <div\n          class="scroll-container"\n          id="scroll-container"\n          @wheel=',"\n          @touchmove=",'\n        >\n          <div class="col time">\n            ','\n          </div>\n\n          <div class="col">\n            ',"\n            ","\n          </div>\n        </div>\n      </div>\n    "]);return _templateObject414=function(){return C},C}function _templateObject415(){var C=_taggedTemplateLiteral(["\n      <button\n        @click=",'\n        class="auto-scroll-button ','"\n      >\n        Scroll text with audio\n      </button>\n    ']);return _templateObject415=function(){return C},C}function _templateObject416(){var C=_taggedTemplateLiteral(['\n      <div class="time-display" style="top: ','px">\n        <duration-formatter .seconds=',"> </duration-formatter>\n      </div>\n    "]);return _templateObject416=function(){return C},C}function _templateObject417(){var C=_taggedTemplateLiteral(["\n      <transcript-entry\n        .entry=","\n        ?isSelected=","\n        ?isActive=","\n        ?isSearchResult=","\n        ?isMusicEntry=",'\n        isClickable="true"\n        data-search-result-index=',"\n        data-identifier=","\n        @click=","\n      >\n      </transcript-entry>\n    "]);return _templateObject417=function(){return C},C}function _templateObject418(){var C=_taggedTemplateLiteral(["\n      "," ","\n    "]);return _templateObject418=function(){return C},C}function _templateObject419(){var C=_taggedTemplateLiteral(['\n      <div class="top context-overlay" style="height: ','px"></div>\n    ']);return _templateObject419=function(){return C},C}function _templateObject420(){var C=_taggedTemplateLiteral(['\n      <div class="bottom context-overlay" style="height: ','px"></div>\n    ']);return _templateObject420=function(){return C},C}function _templateObject421(){var C=_taggedTemplateLiteral(["var(--transcriptHeight, 200px)"]);return _templateObject421=function(){return C},C}function _templateObject422(){var C=_taggedTemplateLiteral(["var(--timeFontSize, 1em)"]);return _templateObject422=function(){return C},C}function _templateObject423(){var C=_taggedTemplateLiteral(["var(--timeLineHeight, 1em)"]);return _templateObject423=function(){return C},C}function _templateObject424(){var C=_taggedTemplateLiteral(["var(--timeColor, white)"]);return _templateObject424=function(){return C},C}function _templateObject425(){var C=_taggedTemplateLiteral(["var(--timeColumnWidth, 3rem)"]);return _templateObject425=function(){return C},C}function _templateObject426(){var C=_taggedTemplateLiteral(["var(--timeDisplay, block)"]);return _templateObject426=function(){return C},C}function _templateObject427(){var C=_taggedTemplateLiteral(["var(--autoScrollButtonFontColor, black)"]);return _templateObject427=function(){return C},C}function _templateObject428(){var C=_taggedTemplateLiteral(["var(--autoScrollButtonBackgroundColor, white)"]);return _templateObject428=function(){return C},C}function _templateObject429(){var C=_taggedTemplateLiteral(["var(--autoScrollButtonWidth, 12rem)"]);return _templateObject429=function(){return C},C}function _templateObject430(){var C=_taggedTemplateLiteral(["var(--autoScrollButtonFontSize, 1em)"]);return _templateObject430=function(){return C},C}function _templateObject431(){var C=_taggedTemplateLiteral(["var(--transcriptNormalTextColor, gray)"]);return _templateObject431=function(){return C},C}function _templateObject432(){var C=_taggedTemplateLiteral(["var(--transcriptActiveTextColor, white)"]);return _templateObject432=function(){return C},C}function _templateObject433(){var C=_taggedTemplateLiteral(["var(--transcriptHoverTextColor, silver)"]);return _templateObject433=function(){return C},C}function _templateObject434(){var C=_taggedTemplateLiteral(["var(--transcriptMusicNormalTextColor, gray)"]);return _templateObject434=function(){return C},C}function _templateObject435(){var C=_taggedTemplateLiteral(["var(--transcriptMusicActiveTextColor, white)"]);return _templateObject435=function(){return C},C}function _templateObject436(){var C=_taggedTemplateLiteral(["var(--transcriptMusicActiveTextColor, silver)"]);return _templateObject436=function(){return C},C}function _templateObject437(){var C=_taggedTemplateLiteral(["var(--transcriptSearchResultInactiveBorderColor, gray)"]);return _templateObject437=function(){return C},C}function _templateObject438(){var C=_taggedTemplateLiteral(["var(--transcriptSearchResultActiveBorderColor, green)"]);return _templateObject438=function(){return C},C}function _templateObject439(){var C=_taggedTemplateLiteral(["\n      :host {\n        color: ",";\n      }\n\n      .container {\n        position: relative;\n      }\n\n      .auto-scroll-button.hidden {\n        display: none;\n      }\n\n      .auto-scroll-button {\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 1rem;\n        margin: auto;\n        width: ",";\n        border-radius: 1em;\n        border: 0;\n        display: inline-block;\n        color: ",";\n        background-color: ",";\n        font-size: ",";\n        z-index: 10;\n      }\n\n      .context-overlay {\n        position: absolute;\n        left: 0;\n        width: 100%;\n        height: 0;\n        z-index: -1;\n      }\n\n      .context-overlay.top {\n        top: 0;\n        border-bottom: 1px solid green;\n      }\n\n      .context-overlay.bottom {\n        bottom: 0;\n        border-top: 1px solid green;\n      }\n\n      .time {\n        display: ",";\n        flex: 0 0 ",";\n        color: ",";\n        position: relative;\n      }\n\n      .time-display {\n        position: absolute;\n        top: 0;\n        font-size: ",";\n        line-height: ",";\n        transition: top 1s;\n      }\n\n      .scroll-container {\n        display: flex;\n        overflow-y: auto;\n        -ms-overflow-style: none;\n        scrollbar-width: none;\n        height: ",";\n      }\n\n      .scroll-container::-webkit-scrollbar {\n        display: none;\n      }\n\n      transcript-entry {\n        cursor: pointer;\n      }\n\n      transcript-entry:hover {\n        color: ",";\n      }\n\n      transcript-entry[ismusicentry] {\n        color: ",";\n        display: block;\n        font-style: italic;\n      }\n\n      transcript-entry[ismusicentry]:hover {\n        color: ",";\n      }\n\n      transcript-entry[ismusicentry][isactive] {\n        color: ",";\n      }\n\n      transcript-entry[isactive] {\n        color: ",";\n      }\n\n      transcript-entry[issearchresult] {\n        display: inline-block; /* without this, the outline adds an extra space to the right of the text */\n        padding: 0 5px;\n        position: relative;\n      }\n\n      transcript-entry[issearchresult]:after {\n        content: '';\n        display: block;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        border: 2px solid ",";\n        border-radius: 5px;\n      }\n\n      transcript-entry[issearchresult][isselected]:after {\n        border: 2px solid ",";\n      }\n    "]);return _templateObject439=function(){return C},C}function _templateObject440(){var C=_taggedTemplateLiteral([""]);return _templateObject440=function(){return C},C}function _templateObject441(){var C=_taggedTemplateLiteral(['<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"></path></svg>']);return _templateObject441=function(){return C},C}function _templateObject442(){var C=_taggedTemplateLiteral(['<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"></path></svg>']);return _templateObject442=function(){return C},C}function _templateObject443(){var C=_taggedTemplateLiteral(['\n    <div class="','">\n      <div style="display:none; float:right; font-size:200%; margin-top:14px; padding-right:10px">\u21F3</div>\n        <button type="button" @click="','"\n          class="','">\n\n        <div>\n          <svg class="transcript-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="m100 9.78013601c0-2.14552613-.7593357-3.978597-2.278007-5.4992126-1.5186713-1.52061561-3.3493984-2.28092341-5.4921813-2.28092341h-84.54977287c-2.08268321 0-3.88336049.7603078-5.40203183 2.28092341-1.51867133 1.5206156-2.278007 3.35368647-2.278007 5.4992126v61.92273459c0 2.0853495.75933567 3.8883321 2.278007 5.4089477 1.51867134 1.5206156 3.31934862 2.2809234 5.40203183 2.2809234l21.48662787-.209946 20.8333333 19.8172043 20.8333333-19.8172043 21.3930111.209946c2.1427829 0 3.97351-.7603078 5.4921813-2.2809234s2.278007-3.3235982 2.278007-5.4089477zm-17.2522403 32.16155839c-2.3653389 7.801758-5.8499089 13.6695526-10.4537101 17.6033839-4.4180179 4.1201827-9.3344788 5.6496272-14.7493828 4.5883336-.3103941-.1863514-.1857833-.5295105.3738323-1.0294775l1.4110469-1.2361912c.4032857-.3494315.8663846-.7486779 1.3892967-1.1977391 1.3072802-1.1226532 2.3959251-2.2464427 3.2659348-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4520203-2.1700157.3146711-2.7685731l-.0359961-.1323719c-.188049-.5908701-.188049-1.2306006 0-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2608343-5.4303235-.7918447-8.5187561c.4689896-3.0884325 1.7286911-5.8507502 3.7791045-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.3197467.5295105 9.2869002 2.7918612 11.9014606 6.7870521 1.6176742 2.247579 2.5511221 5.0564845 2.8003436 8.4267167.2492216 3.3702321-.0928916 6.3666253-1.0263395 8.9891795zm-36.2141529 0c-2.3019006 7.6154066-5.8181897 13.4832012-10.5488674 17.6033839-4.3568453 4.1201827-9.2415872 5.6496272-14.6542255 4.5883336-.3738323-.1863514-.2956674-.5295105.2344948-1.0294775l.5067806-.4663935c.5403123-.4884122 1.2889737-1.1442578 2.2459844-1.9675368 1.3050145-1.1226532 2.4253785-2.2464427 3.3610921-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4656952-2.1700157.3556955-2.7685731l-.0294419-.1323719c-.1563298-.5908701-.1404703-1.2306006.0475787-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2766939-5.4303235-.8394234-8.5187561c.4372705-3.0884325 1.7128316-5.8507502 3.8266832-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.171976.5148018 9.0654591 2.6675121 11.6804495 6.4581307l.2210111.3289214c1.5565017 2.247579 2.4593633 5.0564845 2.7085848 8.4267167.2345614 3.1719832-.0275955 6.0128149-.7864707 8.5224951z"/></svg>\n        </div>\n        <div>\n          ','\n        </div>\n        <div style="display:none; ','">',"</div>\n\n        <div>\n          ",'\n        </div>\n      </button>\n\n      <div class="transcript-view-wrap  ','">\n        <transcript-view\n          .config=',"\n          .currentTime=","\n          @transcriptEntrySelected=","\n        ></transcript-view>\n      </div>\n    </div>\n    "]);return _templateObject443=function(){return C},C}function _templateObject444(){var C=_taggedTemplateLiteral(["\n:host {\n  --timeColumnWidth: 4.5rem;\n  --transcriptHeight: ","px;\n}\n:host > div {\n  padding: 3px 5px;\n  margin: 4px 4px 0 8px;\n}\n.caret-up-svg, .caret-down-svg {\n  width: 25px;\n  display: inline-block;\n}\n.transcript-svg {\n  width: 14px;\n  display: inline-block;\n  margin-top: 6px;\n}\n\ntranscript-view {\n  display: block;\n  padding: ","px 10px;\n  background-color: #000000cc !important;\n  border: ","px solid #ffffff33;\n  border-radius: 5px;\n  box-sizing: border-box;\n}\n.transcript-view-wrap {\n  height: ","px;\n  overflow-y: hidden;\n  transition: height 0.5s ease;\n}\n.not-showing {\n  height: 0px;\n}\n.dimmed {\n  opacity: 0.4;\n}\nbutton {\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n}\nbutton div {\n  display: inline-block;\n  vertical-align: top;\n  margin-left: 5px;\n  color: white;\n}\nbutton svg {\n  fill: white;\n}\nbutton.light, button.light div {\n  color: black;\n}\nbutton.light svg {\n  fill: black;\n}\n.dimmed button {\n  cursor: default;\n}\n    "]);return _templateObject444=function(){return C},C}function _templateObject445(){var C=_taggedTemplateLiteral(['<span class="track-number">',"</span>"]);return _templateObject445=function(){return C},C}function _templateObject446(){var C=_taggedTemplateLiteral(['<i class="track-artist">- ',"</i>"]);return _templateObject446=function(){return C},C}function _templateObject447(){var C=_taggedTemplateLiteral(['\n      <button\n        @click="','"\n        type="button"\n        class="track ','"\n        data-track-number="','"\n        data-event-click-tracking="TrackList|Item">\n        ','\n        <span class="track-title">',"\n          ",'\n        </span>\n        <span class="track-length">\n          ',"\n          ","\n        </span>\n      </button>"]);return _templateObject447=function(){return C},C}function _templateObject448(){var C=_taggedTemplateLiteral(['\n        <button type="button"\n          @click="','"\n          data-page-number="','"\n          class="page-button ','"\n          data-event-click-tracking="Play-AV|Paginator-Button"\n          tabindex="-1">\n          <span class="sr-only">',"</span>\n        </button>"]);return _templateObject448=function(){return C},C}function _templateObject449(){var C=_taggedTemplateLiteral(['\n<div class="playlist">\n  <button type="button" class="page-left page-arrow iconochive iconochive-left"\n    @click="','"\n    data-event-click-tracking="Play-AV|Paginator-Arrow-Left" tabindex="-1">\n    <span class="sr-only">prior page</span>\n  </button>\n\n  <div class="track-list">\n    <div class="flexbox-pages column">\n      ','\n    </div>\n\n    <div class="page-buttons">\n      ','\n    </div>\n  </div>\n\n  <button type="button" class="page-right page-arrow iconochive iconochive-right"\n    @click="','"\n    data-event-click-tracking="Play-AV|Paginator-Arrow-Right" tabindex="-1">\n    <span class="sr-only">next page</span>\n  </button>\n\n</div>\n']);return _templateObject449=function(){return C},C}function _templateObject450(){var C=_taggedTemplateLiteral(["\n:host {\n  outline: 0 !important;\n  outline-offset: unset !important;\n}\n\n.av-pill {\n  margin-top: 5px;\n  display: flex;\n  flex-shrink: 0;\n}\n\n#waveformer-wrap {\n  flex-grow: 1;\n  position: relative;\n  display: inline-block;\n  height: ","px;\n  border-radius: 0 ","px ","px 0;\n  border-right: ","px solid black;\n  cursor: pointer;\n\n  background-color: white; /* would be supercool transparent otherwise... */\n}\n#waveformer {\n  position: absolute;\n  height: ","px;\n  width: 0;\n  background-color: #ddd; /* fallback in case no imagery or colorthief fails */\n}\n#waveformer-wrap img {\n  position: absolute;\n  height: ","px;\n  width: 100%;\n  background-color: transparent;\n}\n\n::slotted(#ia-scrubber) {\n  z-index: 1;\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 17px;\n  top: ","px;\n}\n\n\n\n@media (max-width: ","px) {\n  .media-section {\n    margin-bottom: 1rem;\n  }\n  .playlist {\n    max-height: 340px; /* xxxhls revisit hardcode & in 'archive.less', min-height for audio, etc. */\n    margin: 0;\n  }\n  .page-buttons,\n  .page-arrow {\n    display: none;\n  }\n}\n\n\n.playlist {\n  color: #fff;\n  margin-top: 1rem;\n  padding-bottom: 4rem;\n  overflow-y: auto;\n  overflow-x: hidden;\n  position: relative;\n\n  /* max-height: 90%;  overflow: auto; */ /* for desktop at least xxxhls */\n}\n\n.track-list {\n  /* split overflow declaration needed for Safari */\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: auto;\n  box-sizing: border-box;\n  margin: 0 2.5rem; /* space for left & right [<] paging buttons */\n}\n\n.track {\n  vertical-align: top;\n  cursor: pointer;\n  border-width: 0.3rem;\n  border-style: solid;\n  border-color: transparent;\n  text-align: left;\n  background: transparent;\n  color: inherit;\n  padding-right: 0;\n  padding-left: 0;\n  min-height: 4rem;\n  margin-left: 0.5%;\n  margin-right: 0.5%;\n  box-sizing: border-box;\n  font-weight: 400;  /* being explicit keeps safari consistent w/ chrome, etc. */\n  font-size: 13.3px; /* safari consistent w/ chrome */\n}\n\n.track.selected {\n  border-color: #00A1DD;\n  border-radius: .5rem;\n}\n.track.selected:focus {\n  outline: none;\n}\n\n.track-number,\n.track-title,\n.track-length {\n  display: inline-block;\n  box-sizing: border-box;\n  border-right: 10px solid transparent;\n  vertical-align: top;\n}\n\n.track-number {\n  text-align: right;\n  font-weight: 100;\n  width: 9%;\n}\n\n.track-title {\n  width: 60%;\n}\n\n.track-artist {\n  font-weight: 200;\n}\n\n.track-length {\n  text-align: right;\n  font-weight: 100;\n  float: right;\n}\n\n\n\n.flexbox-pages {\n  display: flex;\n  align-items: stretch;\n  flex-direction: column;\n  flex-wrap: wrap;\n  height: inherit; /* must set with parent to wrap columns */\n  overflow: hidden;\n  scroll-snap-type: x mandatory;\n  scroll-behavior: smooth;\n}\n\n.flexbox-pages.column > * {\n  width: inherit; /* set at parent, for better display control */ /*xxxhls*/\n}\n\n@media (max-width: 500px) { /* xxxhls number */\n  .flexbox-pages {\n    flex-wrap: nowrap;\n  }\n}\n\n@media (min-width: ","px) {\n  .flexbox-pages {\n    height: 350px; /*calc(400px - 50px);*/\n    float: unset;\n  }\n\n  .flexbox-pages.column > * {\n    width: 49%;\n  }\n}\n\n.page-buttons {\n  width: 100%;\n  text-align: center;\n}\n.page-button {\n  border-radius: 50%;\n  border-color: inherit;\n  border-style: solid;\n  border-width: 0.1rem;\n  color: white;\n  background-color: transparent;\n  height: 1.5rem;\n  width: 1.5rem;\n  margin: 0 .5rem;\n}\n.page-button.selected {\n  background-color: white;\n}\n.page-button.selected:focus {\n  outline: none;\n}\n\n.page-arrow {\n  background: transparent;\n  border: none;\n  position: absolute;\n  top: 35%;\n  font-size: 2.5rem;\n  color: white;\n  opacity: 0.6;\n}\n.page-arrow:hover {\n  cursor: pointer;\n  opacity: 1.0;\n}\n\n.page-left {\n  left: -1rem;\n}\n.page-right {\n  right: -1rem;\n}\n\n.sr-only {\n  position: absolute;\n  clip: rect(0, 0, 0, 0);\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n}\n"]);return _templateObject450=function(){return C},C}function _templateObject451(){var C=_taggedTemplateLiteral(['<img src="','" @click="','">']);return _templateObject451=function(){return C},C}function _templateObject452(){var C=_taggedTemplateLiteral(['<img src="https://archive.org/images/black.jpg">']);return _templateObject452=function(){return C},C}function _templateObject453(){var C=_taggedTemplateLiteral(['\n          <div id="waveformer-wrap">\n            <div id="waveformer"></div>\n            ','\n            <slot name="ia-scrubber"></slot>\n          </div>']);return _templateObject453=function(){return C},C}function _templateObject454(){var C=_taggedTemplateLiteral(['\n        <transcript-viewer identifier="','" trackno=',"\n          playlist='","' bgTheme=",">\n        </transcript-viewer>\n      "]);return _templateObject454=function(){return C},C}function _templateObject455(){var C=_taggedTemplateLiteral(['\n      <link rel="stylesheet" href="https://av.prod.archive.org/css/iconochive.css">\n      <div class="av-pill">\n        <slot></slot>\n\n        ',"\n      </div>\n\n      ","\n\n      ","\n    "]);return _templateObject455=function(){return C},C}function _templateObject456(){var C=_taggedTemplateLiteral(['\n      <div class="jw-reset jw-settings-submenu-items">\n        <button type="button"\n          aria-checked="','"\n          class="jw-reset-text jw-settings-content-item ','"\n          role="menuitemradio" dir="auto"\n          aria-label="Background Play ON"\n          @click=','\n          >Background Play ON</button>\n        <button type="button"\n          aria-checked="','"\n          class="jw-reset-text jw-settings-content-item ','"\n          role="menuitemradio" dir="auto"\n          aria-label="Background Play OFF"\n          @click=','\n          >Background Play OFF</button>\n        <div class="jw-reset-text jw-settings-content-item">\n          It appears your browser supports background audio playback.  You can turn this feature off if you find the network startup times are delaying your audio experience.  After changing this setting, reload this browser tab.\n        </div>\n      </div>']);return _templateObject456=function(){return C},C}function _templateObject457(){var C=_taggedTemplateLiteral([""]);return _templateObject457=function(){return C},C}function _templateObject458(){var C=_taggedTemplateLiteral(['<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"></path></svg>']);return _templateObject458=function(){return C},C}function _templateObject459(){var C=_taggedTemplateLiteral(['<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"></path></svg>']);return _templateObject459=function(){return C},C}function _templateObject460(){var C=_taggedTemplateLiteral(['\n    <div class="','">\n      <div style="display:none; float:right; font-size:200%; margin-top:14px; padding-right:10px">\u21F3</div>\n        <button type="button" @click="','"\n          class="','">\n\n        <div>\n          <svg class="transcript-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="m100 9.78013601c0-2.14552613-.7593357-3.978597-2.278007-5.4992126-1.5186713-1.52061561-3.3493984-2.28092341-5.4921813-2.28092341h-84.54977287c-2.08268321 0-3.88336049.7603078-5.40203183 2.28092341-1.51867133 1.5206156-2.278007 3.35368647-2.278007 5.4992126v61.92273459c0 2.0853495.75933567 3.8883321 2.278007 5.4089477 1.51867134 1.5206156 3.31934862 2.2809234 5.40203183 2.2809234l21.48662787-.209946 20.8333333 19.8172043 20.8333333-19.8172043 21.3930111.209946c2.1427829 0 3.97351-.7603078 5.4921813-2.2809234s2.278007-3.3235982 2.278007-5.4089477zm-17.2522403 32.16155839c-2.3653389 7.801758-5.8499089 13.6695526-10.4537101 17.6033839-4.4180179 4.1201827-9.3344788 5.6496272-14.7493828 4.5883336-.3103941-.1863514-.1857833-.5295105.3738323-1.0294775l1.4110469-1.2361912c.4032857-.3494315.8663846-.7486779 1.3892967-1.1977391 1.3072802-1.1226532 2.3959251-2.2464427 3.2659348-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4520203-2.1700157.3146711-2.7685731l-.0359961-.1323719c-.188049-.5908701-.188049-1.2306006 0-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2608343-5.4303235-.7918447-8.5187561c.4689896-3.0884325 1.7286911-5.8507502 3.7791045-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.3197467.5295105 9.2869002 2.7918612 11.9014606 6.7870521 1.6176742 2.247579 2.5511221 5.0564845 2.8003436 8.4267167.2492216 3.3702321-.0928916 6.3666253-1.0263395 8.9891795zm-36.2141529 0c-2.3019006 7.6154066-5.8181897 13.4832012-10.5488674 17.6033839-4.3568453 4.1201827-9.2415872 5.6496272-14.6542255 4.5883336-.3738323-.1863514-.2956674-.5295105.2344948-1.0294775l.5067806-.4663935c.5403123-.4884122 1.2889737-1.1442578 2.2459844-1.9675368 1.3050145-1.1226532 2.4253785-2.2464427 3.3610921-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4656952-2.1700157.3556955-2.7685731l-.0294419-.1323719c-.1563298-.5908701-.1404703-1.2306006.0475787-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2766939-5.4303235-.8394234-8.5187561c.4372705-3.0884325 1.7128316-5.8507502 3.8266832-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.171976.5148018 9.0654591 2.6675121 11.6804495 6.4581307l.2210111.3289214c1.5565017 2.247579 2.4593633 5.0564845 2.7085848 8.4267167.2345614 3.1719832-.0275955 6.0128149-.7864707 8.5224951z"/></svg>\n        </div>\n        <div>\n          ','\n        </div>\n        <div style="display:none; ','">',"</div>\n\n        <div>\n          ",'\n        </div>\n      </button>\n\n      <div class="transcript-view-wrap  ','">\n        <transcript-view\n          .config=',"\n          .currentTime=","\n          @transcriptEntrySelected=","\n        ></transcript-view>\n      </div>\n    </div>\n    "]);return _templateObject460=function(){return C},C}function _templateObject461(){var C=_taggedTemplateLiteral(["\n:host {\n  --timeColumnWidth: 4.5rem;\n  --transcriptHeight: ","px;\n}\n:host > div {\n  padding: 3px 5px;\n  margin: 4px 4px 0 8px;\n}\n.caret-up-svg, .caret-down-svg {\n  width: 25px;\n  display: inline-block;\n}\n.transcript-svg {\n  width: 14px;\n  display: inline-block;\n  margin-top: 6px;\n}\n\ntranscript-view {\n  display: block;\n  padding: ","px 10px;\n  background-color: #000000cc !important;\n  border: ","px solid #ffffff33;\n  border-radius: 5px;\n  box-sizing: border-box;\n}\n.transcript-view-wrap {\n  height: ","px;\n  overflow-y: hidden;\n  transition: height 0.5s ease;\n}\n.not-showing {\n  height: 0px;\n}\n.dimmed {\n  opacity: 0.4;\n}\nbutton {\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n}\nbutton div {\n  display: inline-block;\n  vertical-align: top;\n  margin-left: 5px;\n  color: white;\n}\nbutton svg {\n  fill: white;\n}\nbutton.light, button.light div {\n  color: black;\n}\nbutton.light svg {\n  fill: black;\n}\n.dimmed button {\n  cursor: default;\n}\n    "]);return _templateObject461=function(){return C},C}function _templateObject462(){var C=_taggedTemplateLiteral(['<span class="track-number">',"</span>"]);return _templateObject462=function(){return C},C}function _templateObject463(){var C=_taggedTemplateLiteral(['<i class="track-artist">- ',"</i>"]);return _templateObject463=function(){return C},C}function _templateObject464(){var C=_taggedTemplateLiteral(['\n      <button\n        @click="','"\n        type="button"\n        class="track ','"\n        data-track-number="','"\n        data-event-click-tracking="TrackList|Item">\n        ','\n        <span class="track-title">',"\n          ",'\n        </span>\n        <span class="track-length">\n          ',"\n          ","\n        </span>\n      </button>"]);return _templateObject464=function(){return C},C}function _templateObject465(){var C=_taggedTemplateLiteral(['\n        <button type="button"\n          @click="','"\n          data-page-number="','"\n          class="page-button ','"\n          data-event-click-tracking="Play-AV|Paginator-Button"\n          tabindex="-1">\n          <span class="sr-only">',"</span>\n        </button>"]);return _templateObject465=function(){return C},C}function _templateObject466(){var C=_taggedTemplateLiteral(['\n<div class="playlist">\n  <button type="button" class="page-left page-arrow iconochive iconochive-left"\n    @click="','"\n    data-event-click-tracking="Play-AV|Paginator-Arrow-Left" tabindex="-1">\n    <span class="sr-only">prior page</span>\n  </button>\n\n  <div class="track-list">\n    <div class="flexbox-pages column">\n      ','\n    </div>\n\n    <div class="page-buttons">\n      ','\n    </div>\n  </div>\n\n  <button type="button" class="page-right page-arrow iconochive iconochive-right"\n    @click="','"\n    data-event-click-tracking="Play-AV|Paginator-Arrow-Right" tabindex="-1">\n    <span class="sr-only">next page</span>\n  </button>\n\n</div>\n']);return _templateObject466=function(){return C},C}function _templateObject467(){var C=_taggedTemplateLiteral(["\n:host {\n  outline: 0 !important;\n  outline-offset: unset !important;\n}\n\n.av-pill {\n  margin-top: 5px;\n  display: flex;\n  flex-shrink: 0;\n}\n\n#waveformer-wrap {\n  flex-grow: 1;\n  position: relative;\n  display: inline-block;\n  height: ","px;\n  border-radius: 0 ","px ","px 0;\n  border-right: ","px solid black;\n  cursor: pointer;\n\n  background-color: white; /* would be supercool transparent otherwise... */\n}\n#waveformer {\n  position: absolute;\n  height: ","px;\n  width: 0;\n  background-color: #ddd; /* fallback in case no imagery or colorthief fails */\n}\n#waveformer-wrap img {\n  position: absolute;\n  height: ","px;\n  width: 100%;\n  background-color: transparent;\n}\n\n::slotted(#ia-scrubber) {\n  z-index: 1;\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 17px;\n  top: ","px;\n}\n\n\n\n@media (max-width: ","px) {\n  .media-section {\n    margin-bottom: 1rem;\n  }\n  .playlist {\n    max-height: 340px; /* xxxhls revisit hardcode & in 'archive.less', min-height for audio, etc. */\n    margin: 0;\n  }\n  .page-buttons,\n  .page-arrow {\n    display: none;\n  }\n}\n\n\n.playlist {\n  color: #fff;\n  margin-top: 1rem;\n  padding-bottom: 4rem;\n  overflow-y: auto;\n  overflow-x: hidden;\n  position: relative;\n\n  /* max-height: 90%;  overflow: auto; */ /* for desktop at least xxxhls */\n}\n\n.track-list {\n  /* split overflow declaration needed for Safari */\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: auto;\n  box-sizing: border-box;\n  margin: 0 2.5rem; /* space for left & right [<] paging buttons */\n}\n\n.track {\n  vertical-align: top;\n  cursor: pointer;\n  border-width: 0.3rem;\n  border-style: solid;\n  border-color: transparent;\n  text-align: left;\n  background: transparent;\n  color: inherit;\n  padding-right: 0;\n  padding-left: 0;\n  min-height: 4rem;\n  margin-left: 0.5%;\n  margin-right: 0.5%;\n  box-sizing: border-box;\n  font-weight: 400;  /* being explicit keeps safari consistent w/ chrome, etc. */\n  font-size: 13.3px; /* safari consistent w/ chrome */\n}\n\n.track.selected {\n  border-color: #00A1DD;\n  border-radius: .5rem;\n}\n.track.selected:focus {\n  outline: none;\n}\n\n.track-number,\n.track-title,\n.track-length {\n  display: inline-block;\n  box-sizing: border-box;\n  border-right: 10px solid transparent;\n  vertical-align: top;\n}\n\n.track-number {\n  text-align: right;\n  font-weight: 100;\n  width: 9%;\n}\n\n.track-title {\n  width: 60%;\n}\n\n.track-artist {\n  font-weight: 200;\n}\n\n.track-length {\n  text-align: right;\n  font-weight: 100;\n  float: right;\n}\n\n\n\n.flexbox-pages {\n  display: flex;\n  align-items: stretch;\n  flex-direction: column;\n  flex-wrap: wrap;\n  height: inherit; /* must set with parent to wrap columns */\n  overflow: hidden;\n  scroll-snap-type: x mandatory;\n  scroll-behavior: smooth;\n}\n\n.flexbox-pages.column > * {\n  width: inherit; /* set at parent, for better display control */ /*xxxhls*/\n}\n\n@media (max-width: 500px) { /* xxxhls number */\n  .flexbox-pages {\n    flex-wrap: nowrap;\n  }\n}\n\n@media (min-width: ","px) {\n  .flexbox-pages {\n    height: 350px; /*calc(400px - 50px);*/\n    float: unset;\n  }\n\n  .flexbox-pages.column > * {\n    width: 49%;\n  }\n}\n\n.page-buttons {\n  width: 100%;\n  text-align: center;\n}\n.page-button {\n  border-radius: 50%;\n  border-color: inherit;\n  border-style: solid;\n  border-width: 0.1rem;\n  color: white;\n  background-color: transparent;\n  height: 1.5rem;\n  width: 1.5rem;\n  margin: 0 .5rem;\n}\n.page-button.selected {\n  background-color: white;\n}\n.page-button.selected:focus {\n  outline: none;\n}\n\n.page-arrow {\n  background: transparent;\n  border: none;\n  position: absolute;\n  top: 35%;\n  font-size: 2.5rem;\n  color: white;\n  opacity: 0.6;\n}\n.page-arrow:hover {\n  cursor: pointer;\n  opacity: 1.0;\n}\n\n.page-left {\n  left: -1rem;\n}\n.page-right {\n  right: -1rem;\n}\n\n.sr-only {\n  position: absolute;\n  clip: rect(0, 0, 0, 0);\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n}\n"]);return _templateObject467=function(){return C},C}function _templateObject468(){var C=_taggedTemplateLiteral(['<img src="','" @click="','">']);return _templateObject468=function(){return C},C}function _templateObject469(){var C=_taggedTemplateLiteral(['<img src="https://archive.org/images/black.jpg">']);return _templateObject469=function(){return C},C}function _templateObject470(){var C=_taggedTemplateLiteral(['\n          <div id="waveformer-wrap">\n            <div id="waveformer"></div>\n            ','\n            <slot name="ia-scrubber"></slot>\n          </div>']);return _templateObject470=function(){return C},C}function _templateObject471(){var C=_taggedTemplateLiteral(['\n        <transcript-viewer identifier="','" trackno=',"\n          playlist='","' bgTheme=",">\n        </transcript-viewer>\n      "]);return _templateObject471=function(){return C},C}function _templateObject472(){var C=_taggedTemplateLiteral(['\n      <link rel="stylesheet" href="https://av.prod.archive.org/css/iconochive.css">\n      <div class="av-pill">\n        <slot></slot>\n\n        ',"\n      </div>\n\n      ","\n\n      ","\n    "]);return _templateObject472=function(){return C},C}function _templateObject473(){var C=_taggedTemplateLiteral(['\n<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n  <title id="linkTitleID">Get more information</title>\n  <desc id="linkDescID">Informative icon</desc>\n    <path d="m0 0h100v100h-100z" fill="#000"/>\n    <path d="m49.8315487 0h.1702245c6.7356878 0 13.1853038 1.31117332 19.3488483 3.93351997 6.1635444 2.62234664 11.4854233 6.15778963 15.9656369 10.60632903 4.4802135 4.4485394 8.0478347 9.7522946 10.7028636 15.9112655 2.655029 6.1589709 3.980878 12.6038012 3.9789971 19.3344909.0567419 6.6716279-1.1702933 13.0585776-3.6811042 19.1608491-2.510811 6.1022715-6.106803 11.5206067-10.7879759 16.2550055-9.7027949 9.7522946-21.4884754 14.6851412-35.3570414 14.79854h-.1702244c-6.7333236 0-13.1829397-1.3111733-19.3488483-3.93352-6.1659087-2.6223466-11.4877876-6.1577896-15.9656369-10.606329s-8.04547055-9.7522946-10.7028637-15.9112655c-2.65739314-6.1589709-3.9844243-12.6038012-3.98254337-19.3344909-.05674149-6.6716279 1.17029325-13.0585776 3.68110421-19.1608491 2.51081095-6.1022715 6.10680292-11.5206067 10.78797586-16.2550055 9.7027949-9.75229456 21.4884754-14.68514123 35.3570414-14.79854zm12.6566146 26.4757998c1.6745578-1.6828001 2.5118367-3.6747334 2.5118367-5.9757998 0-2.4126333-.8095238-4.4324583-2.4285714-6.059475s-3.6289796-2.440525-6.0297959-2.440525c-2.4008164 0-4.4107483.8135083-6.029796 2.440525-1.6745578 1.6270167-2.5118367 3.6468417-2.5118367 6.059475 0 2.1871753.8372789 4.1791086 2.5118367 5.9757998 1.6745579 1.6828001 3.6844898 2.5242002 6.029796 2.5242002 2.3453061 0 4.3274829-.8414001 5.9465306-2.5242002zm-12.1370589 52.7776981-1.2815282-.9486968c0-.4588935.398855-1.8938272 1.196565-4.3048011l12.7338588-39-23.0745876 3.6164609.2548896 3.873251c0-.1141289.4554971-.1997256 1.3664914-.2567901.9109942 0 1.623741.1723823 2.1382404.5171468.5121392.2306356.7965299.6039323.8531721 1.1198902 0 .8607225-.6549247 3.2134431-1.9647739 7.0581619l-8.1175252 24.1061729c-1.0242785 3.2716963-1.5080967 5.5388203-1.4514546 6.8013717.0566421 1.6643804.8826732 2.9839963 2.4780932 3.9588477 1.2532071.803658 2.8769482 1.205487 4.8712231 1.205487h.5982825c1.7653464-.0570645 3.8445846-.3875629 6.2377146-.9914952 2.3931299-.6039323 4.3590839-1.3933242 5.8978617-2.3681756 1.3098493-.803658 2.3919499-1.5359853 3.2463021-2.1969821.8543521-.6609968 1.3959925-1.1341564 1.6249211-1.4194788l.3433929-.3459533-2.8214861-3.3596708-2.9914125 2.0650205c-.79771.4588935-1.5104568.7454047-2.1382404.8595337z" class="fill-color" fill-rule="nonzero"/>\n</svg>\n']);return _templateObject473=function(){return C},C}function _templateObject474(){var C=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject474=function(){return C},C}function _templateObject475(){var C=_taggedTemplateLiteral(["var(--white, #fff)"]);return _templateObject475=function(){return C},C}function _templateObject476(){var C=_taggedTemplateLiteral(["var(--primaryDisableCTAFill, #767676)"]);return _templateObject476=function(){return C},C}function _templateObject477(){var C=_taggedTemplateLiteral(["var(--secondaryCTABorder, #999)"]);return _templateObject477=function(){return C},C}function _templateObject478(){var C=_taggedTemplateLiteral(["var(--primaryCTAFill, #194880)"]);return _templateObject478=function(){return C},C}function _templateObject479(){var C=_taggedTemplateLiteral(["var(--primaryCTAFillRGB, 25, 72, 128)"]);return _templateObject479=function(){return C},C}function _templateObject480(){var C=_taggedTemplateLiteral(["var(--primaryCTABorder, #c5d1df)"]);return _templateObject480=function(){return C},C}function _templateObject481(){var C=_taggedTemplateLiteral(["var(--primaryErrorCTAFill, #d9534f)"]);return _templateObject481=function(){return C},C}function _templateObject482(){var C=_taggedTemplateLiteral(["var(--primaryErrorCTAFillRGB, 229, 28, 38)"]);return _templateObject482=function(){return C},C}function _templateObject483(){var C=_taggedTemplateLiteral(["var(--primaryErrorCTABorder, #d43f3a)"]);return _templateObject483=function(){return C},C}function _templateObject484(){var C=_taggedTemplateLiteral(["var(--secondaryCTAFill, #333)"]);return _templateObject484=function(){return C},C}function _templateObject485(){var C=_taggedTemplateLiteral(["var(--secondaryCTAFillRGB, 51, 51, 51)"]);return _templateObject485=function(){return C},C}function _templateObject486(){var C=_taggedTemplateLiteral(["var(--primaryCTABorder, #979797)"]);return _templateObject486=function(){return C},C}function _templateObject487(){var C=_taggedTemplateLiteral(["#ee8950"]);return _templateObject487=function(){return C},C}function _templateObject488(){var C=_taggedTemplateLiteral(["#ec7939"]);return _templateObject488=function(){return C},C}function _templateObject489(){var C=_taggedTemplateLiteral(["\n  .ia-button {\n    min-height: 3rem;\n    cursor: pointer;\n    color: ",";\n    line-height: normal;\n    border-radius: 0.4rem;\n    font-size: 1.4rem;\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    border: 1px solid transparent;\n    white-space: nowrap;\n    appearance: auto;\n    box-sizing: border-box;\n    display: flex;\n    align-items: center;\n    transition: all 0.1s ease 0s;\n    vertical-align: middle;\n    padding: 0 1rem;\n    outline-color: ",";\n    outline-offset: -4px;\n    user-select: none;\n    text-decoration: none;\n    width: fit-content;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n  }\n  .ia-button:focus-visible {\n    outline-style: double;\n  }\n  .ia-button:disabled {\n    cursor: not-allowed;\n    background-color: ",";\n    border: 1px solid ",";\n  }\n  .ia-button.transparent {\n    background-color: transparent;\n  }\n  .ia-button.warning {\n    background-color: ","\n    border-color: ",";\n  }\n\n  .ia-button.primary {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.primary:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.primary:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.primary:active {\n    background-color: rgba(",", 0.7);\n  }\n\n  .ia-button.danger {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.danger:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.danger:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.danger:active {\n    background-color: rgba(",", 0.7);\n  }\n\n  .ia-button.dark {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.dark:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.dark:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.dark:active {\n    background-color: rgba(",", 0.7);\n  }\n"]);return _templateObject489=function(){return C},C}function _templateObject490(){var C=_taggedTemplateLiteral(["var(--white, #fff)"]);return _templateObject490=function(){return C},C}function _templateObject491(){var C=_taggedTemplateLiteral(["var(--primaryBGColor, #000)"]);return _templateObject491=function(){return C},C}function _templateObject492(){var C=_taggedTemplateLiteral(["var(--iaBookActionsDropdownBGColor, #2d2d2d)"]);return _templateObject492=function(){return C},C}function _templateObject493(){var C=_taggedTemplateLiteral(["\n  :host {\n    display: inline-flex;\n    height: 3.5rem;\n    padding: 1rem 0;\n  }\n  .actiongroup {\n    display: flex;\n    margin-right: 10px;\n  }\n  .action-buttons {\n    display: inline-flex;\n    align-items: center;\n  }\n  .action-buttons .ia-button {\n    margin: 0;\n    height: 3.5rem;\n    padding: 0 2rem;\n  }\n  .action-buttons .desktop {\n    background-color: ",";\n    border-radius: 10px;\n  }\n  .action-buttons .desktop.purchase {\n    margin-left: 5px;\n  }\n  .action-buttons .mobile.purchase.dark {\n    padding-left: 0;\n  }\n  .primary {\n    background-color: ",";\n    margin-right: 4px;\n  }\n  .primary,\n  .secondary {\n    position: relative;\n    border-radius: 5px;\n  }\n  .primary .initial {\n    border-radius: 4px 0 0 4px;\n    margin-right: 0;\n  }\n  .primary svg {\n    vertical-align: middle;\n  }\n\n  .secondary .ia-button.purchase {\n    padding: 2px 10px 2px 35px;\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n  }\n  .secondary .ia-button.exit-admin {\n    background-color: ",";\n    border: 1px solid ",";\n  }\n\n  .dropdown-content {\n    position: absolute;\n    min-width: 14rem;\n    margin: 0;\n    padding: 0;\n    background: ",";\n    border-radius: 4px;\n    border: 1px solid var(--primaryCTABorder);\n    top: 3.4rem;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n    transform: translateX(-50%);\n  }\n  .dropdown-content li {\n    color: ",";\n    list-style: none;\n    height: 3rem;\n  }\n  .dropdown-content .ia-button {\n    background: none;\n    color: ",";\n    border: none;\n    box-sizing: border-box;\n    width: 100%;\n    text-align: left;\n    height: 3rem;\n    position: relative;\n    padding: 0.6rem 1.2rem;\n    margin: 0;\n  }\n  .dropdown-content .ia-button:is(:focus-visible, :hover) {\n    background: unset;\n  }\n  .dropdown-content li .ia-button {\n    border-radius: 0;\n  }\n  .dropdown-content li .ia-button:hover {\n    background: ",";\n    color: rgb(45, 45, 45);\n  }\n  .dropdown-content li:first-child .ia-button {\n    border-radius: 0.3rem 0.3rem 0 0;\n  }\n  .dropdown-content li:last-child .ia-button {\n    border-radius: 0;\n    border-radius: 0 0 0.3rem 0.3rem;\n  }\n  .dropdown-content .purchase:hover svg g {\n    fill: black;\n  }\n  .dropdown-content .purchase {\n    padding-left: 35px;\n    margin: 0;\n  }\n  .dropdown-content .purchase small {\n    display: initial;\n    font-size: 1.4rem;\n  }\n\n  .ia-button.down-arrow {\n    border-radius: 0 0.4rem 0.4rem 0;\n    padding: 0 0.6rem;\n    margin-left: 0;\n  }\n  .actionloader {\n    vertical-align: middle;\n    visibility: hidden;\n    padding: 0.9rem 0.2rem;\n  }\n  .close {\n    display: none;\n  }\n  .open {\n    display: block;\n    z-index: 2;\n  }\n  .visible {\n    display: inline-block;\n  }\n  .btn:hover,\n  .dropdown:hover .btn {\n    background-color: ",";\n  }\n  a {\n    text-decoration: none;\n  }\n  .purchase small {\n    display: block;\n    font-size: 1rem;\n  }\n  .purchase svg {\n    position: absolute;\n    left: 10px;\n    top: 20%;\n  }\n  .unavailable {\n    opacity: 0.7;\n    pointer-events: none;\n  }\n  .disabled {\n    opacity: 0.8;\n    pointer-events: none;\n    visibility: visible;\n  }\n"]);return _templateObject493=function(){return C},C}function _templateObject494(){var C=_taggedTemplateLiteral(['<svg\n  height="20"\n  viewBox="0 0 75 75"\n  width="20"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <g fill="#fff" fill-rule="evenodd" transform="translate(0 13.736264)">\n    <path\n      d="m22.8463837 18.2119173c6.5756797.1478113 10.585751 1.8020104 13.0298545 3.5887422l3.9291669 17.6234408c-4.8169735 1.3742664-9.2153954 4.1561307-12.6728799 7.9003587-5.9346575-9.1046945-13.627732-14.2752618-26.92576083-19.445829l.0576431-.0724863.08436419-.1026121c1.1105031-1.331793 8.72437099-9.8023542 22.49761204-9.4916143z"\n    />\n    <path\n      d="m74.9439846 1.1046788c-8.1318682 11.7830147-14.8351649 24.4553135-17.2527473 38.4615385-2.8571429-1.0004447-5.9340659-1.5562473-9.1208791-1.5562473-1.3812656 0-2.7625312.1317192-4.0892393.3399693l-2.9788221-18.0144913c6.444022-11.67552841 19.228784-18.40456144 32.9707606-19.20539059z"\n    />\n    <path\n      d="m36.8571258 21.719357 3.6273911-.8052884 2.5793903 17.8073684c-.7020757.1150413-1.4041514.2300825-2.1062271.4601649z"\n    />\n    <path\n      d="m70.1594803.55538282c-13.7069528 2.06173881-23.764449 8.35192747-29.6753948 19.07620888l-.2624906.5200262-3.7425669.8013234c-2.8059684-1.7413364-5.5070193-3.8778459-12.5979079-4.0336896-7.5995702-.1676376-12.2045639 1.9616824-16.46353768 3.7996974l.57415955-.5673312c4.03313533-3.936109 8.45564043-7.3737923 14.98104763-8.4391649 4.9512458-.776666 10.8981852.1535901 14.8163388 6.4911269.6044492-19.13367701 23.3058132-18.5735241 32.3703519-17.64819708z"\n    />\n  </g>\n</svg>']);return _templateObject494=function(){return C},C}function _templateObject495(){var C=_taggedTemplateLiteral(['<svg\n  height="4"\n  viewBox="0 0 8 4"\n  width="8"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"\n    fill="#fff"\n  />\n</svg>']);return _templateObject495=function(){return C},C}function _templateObject496(){var C=_taggedTemplateLiteral(['<svg\n  height="4"\n  viewBox="0 0 8 4"\n  width="8"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"\n    fill="#fff"\n  />\n</svg>']);return _templateObject496=function(){return C},C}function _templateObject497(){var C=_taggedTemplateLiteral(['\n      <div\n        class="','"\n      >\n        ','\n        <section class="action-buttons primary">\n          ','\n        </section>\n        <section class="action-buttons secondary">\n          ',"\n        </section>\n      </div>\n    "]);return _templateObject497=function(){return C},C}function _templateObject498(){var C=_taggedTemplateLiteral(["\n      ",'\n      <button\n        class="ia-button ',' down-arrow"\n        @click=',"\n      >\n        ",'\n      </button>\n\n      <ul class="dropdown-content ','">\n        ',"\n      </ul>\n    "]);return _templateObject498=function(){return C},C}function _templateObject499(){var C=_taggedTemplateLiteral(['<span class="'," ",'">\n      <a\n        class="ia-button '," ",'"\n        href="','"\n        target=',"\n        @click=","\n      >\n        "," ","\n        <small>","</small>\n      </a>\n    </span>"]);return _templateObject499=function(){return C},C}function _templateObject500(){var C=_taggedTemplateLiteral(['<button\n      class="ia-button '," ",'"\n      @click=',"\n    >\n      ","\n    </button>"]);return _templateObject500=function(){return C},C}function _templateObject501(){var C=_taggedTemplateLiteral(["<li>","</li>"]);return _templateObject501=function(){return C},C}function _templateObject502(){var C=_taggedTemplateLiteral(['<img\n      class="','"\n      alt=""\n      src="','"\n    />']);return _templateObject502=function(){return C},C}function _templateObject503(){var C=_taggedTemplateLiteral(['\n  <svg\n    class="ia-logo"\n    width="26"\n    height="26"\n    viewBox="0 0 27 30"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="logoTitleID logoDescID"\n  >\n    <title id="logoTitleID">Internet Archive logo</title>\n    <desc id="logoDescID">\n      A line drawing of the Internet Archive headquarters building fa\xE7ade.\n    </desc>\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <mask id="mask-2" fill="white">\n        <path\n          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"\n          id="path-1"\n        ></path>\n      </mask>\n      <use fill="#FFFFFF" xlink:href="#path-1"></use>\n      <g mask="url(#mask-2)" fill="#FFFFFF">\n        <path\n          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"\n          id="swatch"\n        ></path>\n      </g>\n    </g>\n  </svg>\n']);return _templateObject503=function(){return C},C}function _templateObject504(){var C=_taggedTemplateLiteral(['\n      <a\n        class="embed-link"\n        @click=','\n        href="/details/','"\n      >\n        <span>','</span>\n        <span class="title">',"</span>\n      </a>\n    "]);return _templateObject504=function(){return C},C}function _templateObject505(){var C=_taggedTemplateLiteral(["\n      :host {\n        padding: 0 10px;\n        height: 3.4rem;\n        display: flex;\n      }\n      .embed-link {\n        display: inline-flex;\n        align-items: center;\n        text-decoration: none;\n        color: var(--primaryTextColor, #fff);\n        font-size: 1.4rem;\n      }\n      .embed-link .title {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        overflow: hidden;\n        text-align: left;\n        line-height: initial;\n      }\n      .embed-link svg {\n        margin-right: 0.5rem;\n        display: block;\n      }\n      .embed-link:hover {\n        text-decoration: underline;\n      }\n    "]);return _templateObject505=function(){return C},C}function _templateObject506(){var C=_taggedTemplateLiteral(['\n      <span class="variable-texts ','">',"</span>\n    "]);return _templateObject506=function(){return C},C}function _templateObject507(){var C=_taggedTemplateLiteral(["\n      :host {\n        display: inline-block;\n      }\n      .variable-texts {\n        margin-right: 10px;\n        vertical-align: middle;\n        font-size: 1.7rem;\n      }\n      .hidden {\n        display: none;\n      }\n      .visible {\n        display: inline-block;\n      }\n    "]);return _templateObject507=function(){return C},C}function _templateObject508(){var C=_taggedTemplateLiteral(['\n      <a\n        class="more-info-icon ','"\n        href=','\n        target="_blank"\n        title="Get more info on borrowing from The Lending Library"\n        data-event-click-tracking="BookReader|BrowsableMoreInfo"\n      >\n        <ia-icon-info></ia-icon-info>\n      </a>\n    ']);return _templateObject508=function(){return C},C}function _templateObject509(){var C=_taggedTemplateLiteral(["",""]);return _templateObject509=function(){return C},C}function _templateObject510(){var C=_taggedTemplateLiteral(["\n      ia-icon-info {\n        display: inline-block;\n        width: 18px;\n        height: 20px;\n        vertical-align: middle;\n        --iconFillColor: white;\n      }\n      .more-info-icon img {\n        width: 24px;\n        height: 24px;\n        vertical-align: middle;\n        background: white;\n      }\n      .hidden {\n        display: none;\n      }\n      .visible {\n        display: inline-block;\n      }\n    "]);return _templateObject510=function(){return C},C}function _templateObject511(){var C=_taggedTemplateLiteral(['\n      <button\n        id="timer-counter"\n        class=',"\n        @click=",'\n        role="timer"\n      >\n        <span>',' - </span>\n        <span class="second">','</span>\n        <span class="sr-only">'," left</span>\n      </button>\n    "]);return _templateObject511=function(){return C},C}function _templateObject512(){var C=_taggedTemplateLiteral(["\n      :host {\n        right: 0;\n        margin-right: 10px;\n        position: absolute;\n      }\n\n      .sr-only {\n        position: absolute;\n        left: -9999px;\n        width: 1px;\n        height: 1px;\n        margin: 0;\n        padding: 0;\n        border: none;\n        overflow: hidden;\n      }\n\n      button#timer-counter {\n        cursor: pointer;\n      }\n\n      .hide {\n        opacity: 0;\n      }\n\n      .show {\n        opacity: 1;\n      }\n    "]);return _templateObject512=function(){return C},C}function _templateObject513(){var C=_taggedTemplateLiteral(['<br />\n      <div\n        id="book-action-bar-custom-buttons"\n        style="display:flex;justify-content:center;"\n      >\n        <button\n          style="'," ",'"\n          @click=','\n        >\n          Keep reading\n        </button>\n        <button\n          style="'," ",'"\n          @click=',"\n        >\n          Return the book\n        </button>\n      </div> "]);return _templateObject513=function(){return C},C}function _templateObject514(){var C=_taggedTemplateLiteral(['<ia-activity-indicator\n                mode="processing"\n                style=',"\n              ></ia-activity-indicator>"]);return _templateObject514=function(){return C},C}function _templateObject515(){var C=_taggedTemplateLiteral(['<ia-activity-indicator\n                mode="processing"\n                style=',"\n              ></ia-activity-indicator>"]);return _templateObject515=function(){return C},C}function _templateObject516(){var C=_taggedTemplateLiteral(['<br />\n      <div\n        id="disabled-book-action-bar-custom-buttons"\n        style="display:flex;justify-content:center; opacity:0.8; pointer-events:none;"\n      >\n        <button\n          disabled\n          style="'," ",'"\n        >\n          ','\n        </button>\n        <span\n          style="position: absolute; visibility: none; height: 1px; width: 1px; overflow: hidden;"\n          >Renewing loan, one moment please.</span\n        >\n        <button\n          disabled\n          style="'," ",'"\n        >\n          ',"\n        </button>\n      </div> "]);return _templateObject516=function(){return C},C}function _templateObject517(){var C=_taggedTemplateLiteral(['<br />\n      <div style="text-align: center">\n        <button\n          style="'," ",'"\n          @click=',"\n        >\n          Okay\n        </button>\n      </div> "]);return _templateObject517=function(){return C},C}function _templateObject518(){var C=_taggedTemplateLiteral(['<section class="lending-wrapper">\n        ',"\n      </section>"]);return _templateObject518=function(){return C},C}function _templateObject519(){var C=_taggedTemplateLiteral(['<section class="lending-wrapper">\n      ',"\n    </section>"]);return _templateObject519=function(){return C},C}function _templateObject520(){var C=_taggedTemplateLiteral(["<book-title-bar\n      .identifier=","\n      .bookTitle=","\n    ></book-title-bar>"]);return _templateObject520=function(){return C},C}function _templateObject521(){var C=_taggedTemplateLiteral(["\n      <collapsible-action-group\n        .userid=","\n        .identifier=","\n        .primaryColor=","\n        .primaryActions=","\n        .secondaryActions=","\n        .width=","\n        .borrowType=","\n        .returnUrl=","\n        .localCache=","\n        .loanTotalTime=","\n        ?hasAdminAccess=","\n        ?disabled=","\n        ?autoRenew=","\n        ?autoReturn=","\n        ?returnNow=","\n        @loanAutoRenewed=","\n        @lendingActionError=","\n        @toggleActionGroup=","\n      >\n      </collapsible-action-group>\n      "," ","\n      <timer-countdown\n        .secondsLeftOnLoan=","\n      ></timer-countdown>\n    "]);return _templateObject521=function(){return C},C}function _templateObject522(){var C=_taggedTemplateLiteral(['<button\n        style="','"\n        @click=',"\n      >\n        refresh\n      </button>"]);return _templateObject522=function(){return C},C}function _templateObject523(){var C=_taggedTemplateLiteral([" Uh oh, something went wrong trying to access\n        this book.<br />\n        Please ",' to try again or send us an email to\n        <a\n          href="mailto:info@archive.org?subject=Help: cannot access my borrowed book: ','"\n          >info@archive.org</a\n        ><br /><br />\n        <code>errorLog: ',"</code>"]);return _templateObject523=function(){return C},C}function _templateObject524(){var C=_taggedTemplateLiteral(["<info-icon iconClass=","></info-icon>"]);return _templateObject524=function(){return C},C}function _templateObject525(){var C=_taggedTemplateLiteral(["<text-group\n          textClass=","\n          .texts=","\n        >\n        </text-group>"]);return _templateObject525=function(){return C},C}function _templateObject526(){var C=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n      }\n\n      .hide {\n        display: none;\n      }\n\n      .lending-wrapper {\n        width: 100%;\n        margin: 0 auto;\n        background: var(--primaryBGColor, #000);\n        color: var(--primaryTextColor, #fff);\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        flex-wrap: wrap;\n      }\n    "]);return _templateObject526=function(){return C},C}function _templateObject527(){var C=_taggedTemplateLiteral(['\n      div[slot="main"] {\n        height: inherit;\n        width: inherit;\n      }\n      ia-bookreader {\n        height: 100%;\n        width: 100%;\n        min-height: inherit;\n      }\n\n      div[slot="header"],\n      div[slot="main"] {\n        width: 100%;\n      }\n    ']);return _templateObject527=function(){return C},C}function _templateObject528(){var C=_taggedTemplateLiteral(["\n      <ia-bookreader\n      .item=","\n      .baseHost=","\n      ?signedIn=",'\n      class="focus-on-child-only"\n      style="min-height: inherit;"\n      .sharedObserver=',"\n      .modal=","\n      @fullscreenStateUpdated=",'\n      >\n        <div slot="header">\n          <slot name="header"></slot>\n        </div>\n        <!--\n          This width is set via CSS, but is not working on older browsers\n          for some reason, resulting in black screen. So set explicitly.\n        -->\n        <div slot="main" style="width:100%">\n          <slot name="main"></slot>\n        </div>\n      </ia-bookreader>\n    ']);return _templateObject528=function(){return C},C}function _templateObject529(){var C=_taggedTemplateLiteral(['<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n<path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"\n  fill=""></path>\n</svg>']);return _templateObject529=function(){return C},C}function _templateObject530(){var C=_taggedTemplateLiteral(['<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n<path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"\nfill=""></path>\n</svg>']);return _templateObject530=function(){return C},C}function _templateObject531(){var C=_taggedTemplateLiteral(["<a\n        href=","\n        @click=","\n        >","</a\n      >"]);return _templateObject531=function(){return C},C}function _templateObject532(){var C=_taggedTemplateLiteral(["<button\n        @click=","\n      >\n        ","\n      </button>"]);return _templateObject532=function(){return C},C}function _templateObject533(){var C=_taggedTemplateLiteral(["<li class=",">","</li>"]);return _templateObject533=function(){return C},C}function _templateObject534(){var C=_taggedTemplateLiteral([""]);return _templateObject534=function(){return C},C}function _templateObject535(){var C=_taggedTemplateLiteral(['\n      <span\n        class="caret"\n        tabindex=',"\n        role=","\n        @click=","\n        @keydown=","\n      >\n        <span ?hidden=",' class="caret-up">\n          <slot name="caret-up">',"</slot>\n        </span>\n        <span ?hidden=",' class="caret-down">\n          <slot name="caret-down">',"</slot>\n        </span>\n      </span>\n    "]);return _templateObject535=function(){return C},C}function _templateObject536(){var C=_taggedTemplateLiteral(['<slot name="list"></slot>']);return _templateObject536=function(){return C},C}function _templateObject537(){var C=_taggedTemplateLiteral(["",""]);return _templateObject537=function(){return C},C}function _templateObject538(){var C=_taggedTemplateLiteral(['\n      <div\n        id="dropdown-backdrop"\n        @keyup=',"\n        @click=","\n      ></div>\n    "]);return _templateObject538=function(){return C},C}function _templateObject539(){var C=_taggedTemplateLiteral([""]);return _templateObject539=function(){return C},C}function _templateObject540(){var C=_taggedTemplateLiteral([""]);return _templateObject540=function(){return C},C}function _templateObject541(){var C=_taggedTemplateLiteral(['\n      <div class="ia-dropdown-group">\n        <button\n          class="click-main"\n          @click=',"\n          ?disabled=",'\n        >\n          <span class="sr-only">Toggle ','</span>\n          <slot name="dropdown-label"></slot>\n          ','\n        </button>\n\n        <ul class="dropdown-main ','">\n          ',"\n        </ul>\n\n        ","\n      </div>\n    "]);return _templateObject541=function(){return C},C}function _templateObject542(){var C=_taggedTemplateLiteral(["var(--dropdownBorderWidth, 1px)"]);return _templateObject542=function(){return C},C}function _templateObject543(){var C=_taggedTemplateLiteral(["var(--dropdownBorderRadius, 4px)"]);return _templateObject543=function(){return C},C}function _templateObject544(){var C=_taggedTemplateLiteral(["var(--dropdownBorderColor, #fff)"]);return _templateObject544=function(){return C},C}function _templateObject545(){var C=_taggedTemplateLiteral(["var(--dropdownBgColor, #333)"]);return _templateObject545=function(){return C},C}function _templateObject546(){var C=_taggedTemplateLiteral(["var(--dropdownTextColor, #fff)"]);return _templateObject546=function(){return C},C}function _templateObject547(){var C=_taggedTemplateLiteral(["var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3))"]);return _templateObject547=function(){return C},C}function _templateObject548(){var C=_taggedTemplateLiteral(["var(--dropdownSelectedBgColor, #fff)"]);return _templateObject548=function(){return C},C}function _templateObject549(){var C=_taggedTemplateLiteral(["\n      :host {\n        display: inline;\n        color: ",";\n      }\n\n      svg.caret-up-svg,\n      svg.caret-down-svg,\n      ::slotted(svg.caret-up-svg),\n      ::slotted(svg.caret-down-svg) {\n        fill: var(--dropdownCaretColor, #fff);\n        vertical-align: middle;\n      }\n\n      button.click-main {\n        background: transparent;\n        color: inherit;\n        padding: var(--dropdownMainButtonPadding, 0px);\n        border: var(--dropdownMainButtonBorder, none);\n        border-radius: var(--dropdownMainButtonBorderRadius, none);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        align-content: center;\n        flex-wrap: nowrap;\n        flex-direction: var(--dropdownMainButtonFlexDirection, row);\n        z-index: var(--dropdownListZIndex, 2);\n      }\n\n      button.click-main:disabled {\n        pointer-events: none;\n        cursor: not-allowed;\n        opacity: 0.5;\n        /* Disable text selection on disabled button */\n        -webkit-user-select: none; /* Safari */\n        -ms-user-select: none; /* IE 10 and IE 11 */\n        user-select: none; /* Standard syntax */\n      }\n\n      button.click-main:hover {\n        background-color: var(--dropdownMainButtonHoverBgColor, inherit);\n      }\n\n      button.click-main:focus,\n      button.click-main:focus-visible {\n        background-color: var(--dropdownMainButtonFocusBgColor, inherit);\n      }\n\n      button.click-main:active {\n        background-color: var(--dropdownMainButtonActiveBgColor, inherit);\n      }\n\n      button slot[name='dropdown-label'] {\n        /* Set var to 0px for column layout */\n        padding-right: var(--buttonSlotPaddingRight, 5px);\n        display: inline-block;\n      }\n\n      .ia-dropdown-group {\n        width: inherit;\n        height: inherit;\n        position: relative;\n      }\n\n      .sr-only {\n        border: 0 !important;\n        clip: rect(1px, 1px, 1px, 1px) !important;\n        -webkit-clip-path: inset(50%) !important;\n        clip-path: inset(50%) !important;\n        height: 1px !important;\n        margin: -1px !important;\n        overflow: hidden !important;\n        padding: 0 !important;\n        position: absolute !important;\n        width: 1px !important;\n        white-space: nowrap !important;\n        -webkit-user-select: none !important;\n        user-select: none !important;\n      }\n\n      .caret {\n        /* Maintain centered caret position but with a full-height clickable region */\n        display: flex;\n        align-self: stretch;\n        align-items: center;\n        padding: var(--caretPadding, 0px);\n      }\n\n      .caret svg {\n        height: var(--caretHeight, 10px);\n        width: var(--caretWidth, 20px);\n      }\n\n      #dropdown-backdrop {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100vw;\n        height: 100vh;\n        background-color: transparent;\n        z-index: 1;\n      }\n\n      ul {\n        z-index: var(--dropdownListZIndex, 2);\n      }\n\n      ul.dropdown-main.closed {\n        visibility: hidden;\n        height: 1px;\n        width: 1px;\n      }\n\n      ul.dropdown-main {\n        position: var(--dropdownListPosition, absolute);\n        list-style: none;\n        margin: var(--dropdownOffsetTop, 5px) 0 0 0;\n        padding: 0;\n        color: ",";\n        background: ",";\n\n        font-size: var(--dropdownFontSize, inherit);\n\n        border-top: var(--dropdownBorderTopWidth, ",");\n        border-right: var(--dropdownBorderRightWidth, ",");\n        border-bottom: var(--dropdownBorderBottomWidth, ",");\n        border-left: var(--dropdownBorderLeftWidth, ",");\n        /* Must be after border-width settings for specificity */\n        border-style: solid;\n        border-color: ",";\n\n        border-radius: var(\n            --dropdownBorderTopLeftRadius,\n            ","\n          )\n          var(--dropdownBorderTopRightRadius, ",")\n          var(--dropdownBorderBottomRightRadius, ",")\n          var(--dropdownBorderBottomLeftRadius, ",");\n\n        white-space: var(--dropdownWhiteSpace, normal);\n\n        /* Prevent top/bottom inner li from overlapping inner border */\n        overflow: hidden;\n      }\n\n      ul.dropdown-main li:hover {\n        background-color: ",";\n        color: var(--dropdownHoverTextColor, #fff);\n        list-style: none;\n        cursor: pointer;\n      }\n\n      ul.dropdown-main li:hover:first-child {\n        border-top-color: ",";\n      }\n\n      ul.dropdown-main li:hover:last-child {\n        border-bottom-color: ",";\n      }\n\n      ul.dropdown-main li:hover:not(:first-child) {\n        border-top: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);\n      }\n      ul.dropdown-main li:hover:not(:last-child) {\n        border-bottom: 0.5px solid\n          var(--dropdownHoverTopBottomBorderColor, #333);\n      }\n\n      ul.dropdown-main li.selected:last-child {\n        border-bottom-color: ",";\n      }\n\n      ul.dropdown-main li.selected:first-child {\n        border-top-color: ",";\n      }\n\n      ul.dropdown-main li:hover > *,\n      ul.dropdown-main li:focus-within > * {\n        background-color: ",";\n        color: var(--dropdownHoverTextColor, #fff);\n      }\n\n      ul.dropdown-main li.selected > * {\n        background-color: ",";\n        color: var(--dropdownSelectedTextColor, #2c2c2c);\n      }\n\n      ul.dropdown-main li {\n        background: ",";\n        list-style: none;\n        height: 30px;\n        cursor: pointer;\n        border-bottom: 0.5px solid ",";\n        border-top: 0.5px solid ",";\n      }\n\n      ul.dropdown-main li button {\n        background: none;\n        color: inherit;\n        border: none;\n        font: inherit;\n        cursor: pointer;\n        outline: inherit;\n      }\n\n      ul.dropdown-main li a {\n        text-decoration: none;\n        display: block;\n        box-sizing: border-box;\n      }\n\n      ul.dropdown-main li:first-child {\n        border-top-left-radius: var(--dropdownBorderTopLeftRadius, 4px);\n        border-top-right-radius: var(--dropdownBorderTopRightRadius, 4px);\n      }\n\n      ul.dropdown-main li:last-child {\n        border-bottom-right-radius: var(--dropdownBorderBottomRightRadius, 4px);\n        border-bottom-left-radius: var(--dropdownBorderBottomLeftRadius, 4px);\n      }\n\n      /* cover the list with the label */\n      ul.dropdown-main li > * > :first-child {\n        margin: 0;\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n        align-content: center;\n        flex-wrap: nowrap;\n        height: 100%;\n        padding: var(--dropdownItemPaddingTop, 5px)\n          var(--dropdownItemPaddingRight, 10px)\n          var(--dropdownItemPaddingBottom, 5px)\n          var(--dropdownItemPaddingLeft, 10px);\n        box-sizing: border-box;\n      }\n\n      ul.dropdown-main li > * {\n        width: 100%;\n        height: inherit;\n        color: ",";\n        background: transparent;\n        padding: 0;\n      }\n    "]);return _templateObject549=function(){return C},C}function _templateObject550(){var C=_taggedTemplateLiteral(['\n      <div class="icon-label-container">\n        <slot name="icon"></slot>\n        <slot></slot>\n      </div>\n    ']);return _templateObject550=function(){return C},C}function _templateObject551(){var C=_taggedTemplateLiteral(["\n    :host {\n      display: block;\n      width: 100%;\n      height: 100%;\n      position: relative;\n    }\n\n    :host(.invert-icon-at-hover:hover) slot[name='icon'] {\n      filter: invert(1);\n    }\n\n    :host(.selected) {\n      background-color: var(--selectedBgColor, #fff);\n      color: var(--selectedTextColor, #2c2c2c);\n    }\n\n    :host(.invert-icon-at-selected.selected) slot[name='icon'] {\n      filter: invert(1);\n    }\n\n    div.icon-label-container {\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      flex-direction: var(--iconLabelFlexDirection, row);\n      height: 100%;\n    }\n\n    slot[name='icon'] {\n      width: var(--iconWidth, 20px);\n      margin-right: var(--iconLabelGutterWidth, 10px);\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      white-space: nowrap;\n      height: 100%;\n    }\n\n    /* https://css-tricks.com/flexbox-truncated-text/ */\n    ::slotted(div.truncate) {\n      display: flex;\n      width: var(--labelWidth, 100%);\n      text-align: left;\n      word-wrap: break-word; /* Important for long words! */\n      overflow: hidden;\n      text-overflow: ellipsis;\n      min-width: 0;\n    }\n\n    @supports not (-webkit-line-clamp: 2) {\n      ::slotted(div.truncate) {\n        min-width: 0;\n      }\n    }\n    @supports (-webkit-line-clamp: 2) {\n      ::slotted(div.truncate) {\n        min-width: 0;\n        display: -webkit-box;\n        overflow-wrap: break-word;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n        /* Fixed line-height needed to fit unicode and emojis\n          https://stackoverflow.com/a/67807146\n        */\n        line-height: 1.2em;\n        /* max-height needed for Safari browser */\n        max-height: var(--labelTruncateHeight, 30px);\n        max-width: var(--labelWidth, 100%);\n      }\n    }\n  "]);return _templateObject551=function(){return C},C}function _templateObject552(){var C=_taggedTemplateLiteral(["var(--white, #fff)"]);return _templateObject552=function(){return C},C}function _templateObject553(){var C=_taggedTemplateLiteral(["var(--primaryDisableCTAFill, #767676)"]);return _templateObject553=function(){return C},C}function _templateObject554(){var C=_taggedTemplateLiteral(["var(--secondaryCTABorder, #999)"]);return _templateObject554=function(){return C},C}function _templateObject555(){var C=_taggedTemplateLiteral(["var(--primaryCTAFill, #194880)"]);return _templateObject555=function(){return C},C}function _templateObject556(){var C=_taggedTemplateLiteral(["var(--primaryCTAFillRGB, 25, 72, 128)"]);return _templateObject556=function(){return C},C}function _templateObject557(){var C=_taggedTemplateLiteral(["var(--primaryCTABorder, #c5d1df)"]);return _templateObject557=function(){return C},C}function _templateObject558(){var C=_taggedTemplateLiteral(["var(--primaryErrorCTAFill, #d9534f)"]);return _templateObject558=function(){return C},C}function _templateObject559(){var C=_taggedTemplateLiteral(["var(--primaryErrorCTAFillRGB, 229, 28, 38)"]);return _templateObject559=function(){return C},C}function _templateObject560(){var C=_taggedTemplateLiteral(["var(--primaryErrorCTABorder, #d43f3a)"]);return _templateObject560=function(){return C},C}function _templateObject561(){var C=_taggedTemplateLiteral(["var(--secondaryCTAFill, #333)"]);return _templateObject561=function(){return C},C}function _templateObject562(){var C=_taggedTemplateLiteral(["var(--secondaryCTAFillRGB, 51, 51, 51)"]);return _templateObject562=function(){return C},C}function _templateObject563(){var C=_taggedTemplateLiteral(["var(--primaryCTABorder, #979797)"]);return _templateObject563=function(){return C},C}function _templateObject564(){var C=_taggedTemplateLiteral(["#ee8950"]);return _templateObject564=function(){return C},C}function _templateObject565(){var C=_taggedTemplateLiteral(["#ec7939"]);return _templateObject565=function(){return C},C}function _templateObject566(){var C=_taggedTemplateLiteral(["\n  .ia-button {\n    min-height: 3rem;\n    cursor: pointer;\n    color: ",";\n    line-height: normal;\n    border-radius: 0.4rem;\n    font-size: 1.4rem;\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    border: 1px solid transparent;\n    white-space: nowrap;\n    appearance: auto;\n    box-sizing: border-box;\n    display: flex;\n    align-items: center;\n    transition: all 0.1s ease 0s;\n    vertical-align: middle;\n    padding: 0 3rem;\n    outline-color: ",";\n    outline-offset: -4px;\n    user-select: none;\n    text-decoration: none;\n    width: fit-content;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n  }\n  .ia-button:focus-visible {\n    outline-style: double;\n  }\n  .ia-button:disabled {\n    cursor: not-allowed;\n    background-color: ",";\n    border: 1px solid ",";\n  }\n  .ia-button.transparent {\n    background-color: transparent;\n  }\n  .ia-button.warning {\n    background-color: ","\n    border-color: ",";\n  }\n\n  .ia-button.primary {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.primary:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.primary:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.primary:active {\n    background-color: rgba(",", 0.7);\n  }\n\n  .ia-button.danger {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.danger:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.danger:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.danger:active {\n    background-color: rgba(",", 0.7);\n  }\n\n  .ia-button.dark {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.dark:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.dark:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.dark:active {\n    background-color: rgba(",", 0.7);\n  }\n"]);return _templateObject566=function(){return C},C}function _templateObject567(){var C=_taggedTemplateLiteral(['\n      <section class="new-list">\n        <form id="user-list-form" @submit=','>\n          <div class="field">\n            <input type="hidden" id="id" .value=',' />\n            <label for="name">List name*</label>\n            <input\n              type="text"\n              id="name"\n              .value=','\n              required\n            />\n          </div>\n          <div class="field">\n            <label for="description">Description</label>\n            <textarea\n              id="description"\n              .value=','\n            ></textarea>\n          </div>\n          <div class="field">\n            <label for="private">Private list</label>\n            <input\n              type="checkbox"\n              id="private"\n              .checked="','"\n            />\n          </div>\n          <div class="footer field">\n            <button\n              type="button"\n              class="ia-button dark"\n              id="cancel"\n              @click=','\n            >\n              Cancel\n            </button>\n            <button\n              type="submit"\n              id="save-list-settings"\n              class="ia-button primary"\n            >\n              Save\n            </button>\n          </div>\n        </form>\n      </section>\n    ']);return _templateObject567=function(){return C},C}function _templateObject568(){var C=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        padding: 15px 0 0 0;\n        font-size: 14px;\n        position: relative;\n      }\n\n      .field {\n        margin-bottom: 10px;\n        display: flex;\n        align-items: center;\n      }\n\n      label {\n        display: inline-block;\n        width: 90px;\n        text-align: left;\n        margin-right: 10px;\n        font-weight: 700;\n      }\n\n      input[type='text'],\n      textarea {\n        line-height: 20px;\n        padding: 5px;\n        border-radius: 5px;\n        width: 270px;\n        font-family: inherit;\n        font-size: inherit;\n        resize: none;\n        border-style: solid;\n        outline: none;\n        border-radius: 4px;\n        border-width: 1px;\n        border-color: #999;\n      }\n\n      input[type='checkbox'] {\n        cursor: pointer;\n        margin: 0;\n      }\n\n      label[for='private'] {\n        cursor: pointer;\n      }\n\n      .footer {\n        display: block;\n        text-align: center;\n        margin: 10px 0 0 0;\n      }\n\n      .ia-button {\n        display: initial;\n        padding: 0 15px;\n        height: 3.5rem;\n      }\n    "]);return _templateObject568=function(){return C},C}function _templateObject569(){var C=_taggedTemplateLiteral(['<svg\n      viewBox="0 0 100 100"\n      xmlns="http://www.w3.org/2000/svg"\n      >\n    <g fill="currentColor" fill-rule="nonzero">\n      <path d="m49.9459358 0c13.7978412 0 25.5896453 4.88776371 35.3754122 14.6632911 9.7857669 9.7755275 14.678652 21.554993 14.678652 35.3383967 0 13.7800281-4.8928851 25.5594936-14.678652 35.3350211-9.7857669 9.7755274-21.577571 14.6632911-35.3754122 14.6632911s-25.5716235-4.8877637-35.3213471-14.6632911c-9.74972353-9.7755275-14.6245887-21.554993-14.6245887-35.3383967-.00224931-9.0014064 2.23243779-17.3524613 6.70406469-25.0531645 4.47162691-7.7007033 10.54380341-13.7834037 18.21652941-18.24810129 7.6727261-4.46469761 16.0145067-6.69704641 25.0253417-6.69704641zm0 6c-7.9548389 0-15.2549008 1.95357387-22.0076943 5.8829701-6.7720278 3.9405885-12.0963254 9.2741139-16.0455165 16.0751171-3.93842488 6.7824623-5.89471047 14.0931257-5.89272481 22.040225 0 12.1941053 4.24437231 22.4500702 12.87283241 31.1013666 8.6242501 8.6470752 18.8695883 12.9003212 31.0731032 12.9003212 12.2065273 0 22.4734846-4.2557068 31.1349929-12.9081521 8.6603017-8.6512398 12.9190715-18.9040965 12.9190715-31.0935357l-.0036695-.6147591c-.1419586-11.9183989-4.4018851-21.9707923-12.915402-30.475401-8.6615083-8.6524453-18.9284656-12.9081521-31.1349929-12.9081521z" />\n      <path d="m56 23v22h22v11h-22v22h-11l-.001-22h-21.999v-11h21.999l.001-22z" />\n    </g>\n  </svg>']);return _templateObject569=function(){return C},C}function _templateObject570(){var C=_taggedTemplateLiteral(['<svg viewBox="0 0 100 100"\nxmlns="http://www.w3.org/2000/svg"\n>\n<path\n  d="m33.3333333 90-33.3333333-33.3333333 13.3333333-13.3333334 20 20 53.3333334-53.3333333 13.3333333 13.3333333z"\n  fill-rule="evenodd" fill="currentColor"\n/>\n</svg>']);return _templateObject570=function(){return C},C}function _templateObject571(){var C=_taggedTemplateLiteral([' <ia-icon-label>\n        <div slot="icon" class="icon-size">',"</div>\n        Create new list\n      </ia-icon-label>"]);return _templateObject571=function(){return C},C}function _templateObject572(){var C=_taggedTemplateLiteral(['\n      <ia-icon-label>\n        <div slot="icon" class="icon-size">\n          ','\n        </div>\n        <div class="truncate">',"</div>\n      </ia-icon-label>\n    "]);return _templateObject572=function(){return C},C}function _templateObject573(){var C=_taggedTemplateLiteral([' <li class="','">\n      ',"\n    </li>"]);return _templateObject573=function(){return C},C}function _templateObject574(){var C=_taggedTemplateLiteral(["\n      <button @click=",">\n        ","\n      </button>\n    "]);return _templateObject574=function(){return C},C}function _templateObject575(){var C=_taggedTemplateLiteral([" "," "]);return _templateObject575=function(){return C},C}function _templateObject576(){var C=_taggedTemplateLiteral(["\n      :host {\n        display: inline;\n        background-color: #fff;\n      }\n\n      li:hover {\n        list-style: none;\n        cursor: pointer;\n      }\n\n      li {\n        background: #fff;\n        list-style: none;\n        height: 30px;\n        cursor: pointer;\n        border-bottom: 1px #f1f1f1 solid;\n        color: #2c2c2c;\n        width: 140px;\n        text-overflow: ellipsis;\n      }\n\n      li button {\n        background: none;\n        color: inherit;\n        border: none;\n        font: inherit;\n        cursor: pointer;\n        width: 100%;\n        padding: 0px 10px;\n        font-size: 12px;\n        --iconLabelGutterWidth: 8px;\n        --iconWidth: 12px;\n        margin: 0;\n      }\n\n      /* cover the list with the label */\n      li > * > :first-child {\n        margin: 0;\n        display: inline-block;\n        height: 30px;\n        box-sizing: border-box;\n        text-align: left;\n        line-height: initial;\n      }\n\n      /* color opacity calculator: https://codepen.io/quyenvsp/pen/jOLBBmX\n        foreground: #2c2c2c 44;\n        background: #fff;\n      */\n      button:hover {\n        /* 10% 234 */\n        background-color: #eaeaea;\n      }\n\n      button:focus,\n      button:focus-visible {\n        /* 20% 213 */\n        background-color: #d5d5d5;\n      }\n\n      button:active {\n        /* 30% 192 */\n        background-color: #c0c0c0;\n      }\n\n      .icon-size {\n        width: 12px;\n        height: 12px;\n      }\n    "]);return _templateObject576=function(){return C},C}function _templateObject577(){var C=_taggedTemplateLiteral(['<img\n  src="https://archive.org/images/loading.gif"\n  alt="Loading..."\n/>']);return _templateObject577=function(){return C},C}function _templateObject578(){var C=_taggedTemplateLiteral(['\n      <div slot="icon" class="icon-img">','</div>\n      <div class="label">Add to list</div>\n      <div class="label-sm">Lists</div>\n    ']);return _templateObject578=function(){return C},C}function _templateObject579(){var C=_taggedTemplateLiteral(['\n      <div class="label">User Lists<br />Load Error</div>\n      <div class="label-sm">Load<br />Error</div>\n    ']);return _templateObject579=function(){return C},C}function _templateObject580(){var C=_taggedTemplateLiteral(['\n      <div class="action-bar-text">\n        <ia-icon-label>\n          ',"\n        </ia-icon-label>\n      </div>\n    "]);return _templateObject580=function(){return C},C}function _templateObject581(){var C=_taggedTemplateLiteral(['\n      <item-user-lists\n        slot="list"\n        .itemId=',"\n        .lists=","\n        .userListsService=","\n        @addMember=","\n        @removeMember=","\n        @userListError=","\n        @listCreated=","\n      >\n      </item-user-lists>\n    "]);return _templateObject581=function(){return C},C}function _templateObject582(){var C=_taggedTemplateLiteral(['\n      <div class="list-container">\n        <ia-dropdown\n          class="list-dropdown"\n          ?isDisabled=',"\n          ?openViaCaret=","\n          ?isCustomList=","\n          ?closeOnEscape=","\n          ?closeOnBackdropClick=","\n          ?hasCustomClickHandler=","\n          @click=",'\n        >\n          <div class="list-title" slot="dropdown-label">\n            ',"\n          </div>\n          ","\n        </ia-dropdown>\n      </div>\n    "]);return _templateObject582=function(){return C},C}function _templateObject583(){var C=_taggedTemplateLiteral(["\n    :host {\n      display: block;\n    }\n\n    ia-icon-label {\n      cursor: pointer;\n      display: flex;\n    }\n\n    .icon-img {\n      height: 16px;\n      width: 16px;\n      padding-bottom: 3px;\n    }\n\n    div.list-title {\n      font-weight: 600;\n      color: #2c2c2c;\n    }\n\n    ia-dropdown {\n      --dropdownBgColor: #fff;\n      --dropdownItemPaddingRight: 0;\n      --dropdownItemPaddingLeft: 2px;\n      --dropdownBorderColor: #2c2c2c;\n      --dropdownBorderWidth: 2px;\n      --iconLabelGutterWidth: 4px;\n      --iconWidth: 10px;\n      --dropdownOffsetTop: 2px;\n      --buttonSlotPaddingRight: 0;\n      --dropdownMainButtonFlexDirection: column;\n      --dropdownMainButtonPadding: 6px 4px;\n      --dropdownMainButtonHoverBgColor: rgba(44, 44, 44, 0.1);\n      --dropdownMainButtonActiveBgColor: rgba(44, 44, 44, 0.3);\n      --iconLabelGutterWidth: 0;\n      --iconWidth: 16px;\n      --dropdownMainButtonBorder: 2px solid #2c2c2c;\n      --dropdownMainButtonBorderRadius: 3px;\n    }\n\n    .action-bar-text {\n      font-weight: normal;\n      -webkit-user-select: none;\n      user-select: none;\n      --iconLabelFlexDirection: column;\n      --iconLabelGutterWidth: 0;\n      --iconWidth: 16px;\n    }\n\n    /* inside button.click-main, classname from details.inc buttons */\n    @media (min-width: 985px) {\n      .action-bar-text .label-sm {\n        display: none;\n      }\n      .action-bar-text .label {\n        padding-bottom: 2px;\n        padding-top: 2px;\n      }\n    }\n\n    @media (max-width: 984px) {\n      .action-bar-text .label {\n        display: none;\n        padding-top: 2px;\n        padding-bottom: 0px;\n      }\n    }\n\n    .click-backdrop {\n      position: fixed;\n      top: 0px;\n      left: 0px;\n      width: 100vw;\n      height: 100vh;\n      z-index: 1;\n      background-color: transparent;\n    }\n  "]);return _templateObject583=function(){return C},C}(function(){var C=_regeneratorRuntime.default.mark(xd),fe=function(t,e,n){var o=n||{},l=o.noTrailing,a=l===void 0?!1:l,s=o.noLeading,r=s===void 0?!1:s,c=o.debounceMode,d=c===void 0?void 0:c,h,f=!1,v=0;function _(){h&&clearTimeout(h)}function b(A){var E=A||{},O=E.upcomingOnly,P=O===void 0?!1:O;_(),f=!P}function w(){for(var A=arguments.length,E=new Array(A),O=0;O<A;O++)E[O]=arguments[O];var P=this,y=Date.now()-v;if(f)return;function u(){v=Date.now(),e.apply(P,E)}function p(){h=void 0}!r&&d&&!h&&u(),_(),d===void 0&&y>t?r?(v=Date.now(),a||(h=setTimeout(d?p:u,t))):u():a!==!0&&(h=setTimeout(d?p:u,d===void 0?t-y:t))}return w.cancel=b,w},Xe=function(t,e,n,o){var l=arguments.length,a=l<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(a=(l<3?s(a):l>3?s(e,n,a):s(e,n))||a);return l>3&&a&&Object.defineProperty(e,n,a),a},Er=function(t,e,n,o){function l(a){return _instanceof(a,n)?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function r(h){try{d(o.next(h))}catch(f){s(f)}}function c(h){try{d(o.throw(h))}catch(f){s(f)}}function d(h){h.done?a(h.value):l(h.value).then(r,c)}d((o=o.apply(t,e||[])).next())})},mi=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ep!==void 0?Ep.createHTML(e):e},Kt=function(t){return function(e,n){return n!==void 0?E5(t,e,n):j5(t,e)}},Vi=function(t){return Kt(oi(Dr({},t),{state:!0}))},Hr=function(t,e){return P5({descriptor:function(n){var o={get:function(){var s,r;return(r=(s=this.renderRoot)===null||s===void 0?void 0:s.querySelector(t))!==null&&r!==void 0?r:null},enumerable:!0,configurable:!0};if(e){var l=(typeof n=="undefined"?"undefined":_typeof(n))=="symbol"?Symbol():"__"+n;o.get=function(){var a,s;return this[l]===void 0&&(this[l]=(s=(a=this.renderRoot)===null||a===void 0?void 0:a.querySelector(t))!==null&&s!==void 0?s:null),this[l]}}return o}})},la=function(){return _toConsumableArray(xd()).pop()},Fu=function(t){var e=Wp.get(t);return e||(e=window.getComputedStyle(t,null),Wp.set(t,e)),e},cT=function(t){if("checkVisibility"in t&&typeof t.checkVisibility=="function")return t.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});var e=Fu(t);return e.visibility!=="hidden"&&e.display!=="none"},dT=function(t){var e=Fu(t),n=e.overflowY,o=e.overflowX;return n==="scroll"||o==="scroll"?!0:n!=="auto"||o!=="auto"?!1:t.scrollHeight>t.clientHeight&&n==="auto"||t.scrollWidth>t.clientWidth&&o==="auto"},hT=function(t){var e=t.tagName.toLowerCase(),n=Number(t.getAttribute("tabindex"));return t.hasAttribute("tabindex")&&(isNaN(n)||n<=-1)||t.hasAttribute("disabled")||t.closest("[inert]")||e==="input"&&t.getAttribute("type")==="radio"&&!t.hasAttribute("checked")||!cT(t)?!1:(e==="audio"||e==="video")&&t.hasAttribute("controls")||t.hasAttribute("tabindex")||t.hasAttribute("contenteditable")&&t.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(e)?!0:dT(t)},fT=function(t,e){var n;return((n=t.getRootNode({composed:!0}))===null||n===void 0?void 0:n.host)!==e},qk=function(t){var e=new WeakMap,n=[];function o(l){if(_instanceof(l,Element)){if(l.hasAttribute("inert")||l.closest("[inert]")||e.has(l))return;e.set(l,!0),!n.includes(l)&&hT(l)&&n.push(l),_instanceof(l,HTMLSlotElement)&&fT(l,t)&&l.assignedElements({flatten:!0}).forEach(function(f){o(f)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&o(l.shadowRoot)}var a=!0,s=!1,r=void 0;try{for(var c=Array.from(l.children)[Symbol.iterator](),d;!(a=(d=c.next()).done);a=!0){var h=d.value;o(h)}}catch(f){s=!0,r=f}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw r}}}return o(t),n.sort(function(l,a){var s=Number(l.getAttribute("tabindex"))||0;return(Number(a.getAttribute("tabindex"))||0)-s})},pT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(typeof location=="undefined")return"";for(var n=e&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&"),o=0;o<n.length;o++)if(n[o].slice(0,n[o].indexOf("="))===t){var l=n[o].slice(n[o].indexOf("=")+1);return l.length>0?unescape(l):""}return""},vT=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(typeof t!="string")throw new Error("first arg should be a string");$(t).on("click",o,function(l){var a=e(l);return n==="callback"&&a?a:n==="default"?!0:(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),!1)})},sd=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t},dp=function(){Z(".row .tilebars").find(".results").parents(".row").each(function(t,e){var n=!1;Z(e).find(".results").each(function(o,l){Z(l).show().css({visibility:"hidden"}),n||(n=Z(l).offset()),Z(l).offset().top!==n.top?Z(l).hide():Z(l).css({visibility:"visible"})})})},Gk=function(t,e){var n=t.querySelector("output");n||(n=document.createElement("output"),n.setAttribute("role","alert"),t.appendChild(n)),n.textContent="",n.textContent=e},gT=function(t){var e=document.createElement("button");return e.type="button",e.textContent="Copy",e.title="Copy to clipboard",e.setAttribute("data-clipboard-target","#".concat(t.querySelector("input").id)),e},mT=function(t){t.querySelector("input")&&(t.appendChild(gT(t)),t.setAttribute("data-copyable-text-ready",""))},yT=function(){var t=new Ld("[data-copyable-text] [data-clipboard-target]");t.on("success",function(e){var n=e.trigger.parentElement,o=n.getAttribute("data-copyable-text-success-message")||"Text copied to clipboard.";Gk(n,o)}),t.on("error",function(e){var n=e.trigger.parentElement,o=n.getAttribute("data-copyable-text-error-message")||"Something went wrong.";Gk(n,o)})},bT=function(){var t=document.querySelectorAll("[data-copyable-text]:not([data-copyable-text-ready])");t.length<=0||Ld.isSupported()&&(_toConsumableArray(t).forEach(mT),yT())},Yk=function(t,e){var n=t.querySelector(e);return n?n.value:""},wT=function(){yn("setUpDisabilityEligibility()"),Array.from(document.querySelectorAll(".js-disability-eligibility")).forEach(function(t){var e=t.dataset.disabilityEligibilityType;t.addEventListener("submit",function(n){var o=Yk(t,".disability-eligibility-password"),l=Yk(t,".disability-eligibility-token"),a={type:e,password:o,token:l},s=/\?.*login=([^&]+)/,r=location.href.match(s),c;r&&(c=_slicedToArray(r,2),a.login=c[1]);var d=document.createElement("img");d.src="/images/loading.gif";var h=t.querySelector('input[type="submit"]').parentNode;h.appendChild(d),Z.ajax({type:"POST",url:"/services/disability_eligibility.php",dataType:"json",data:a,success:function(f){if(f.status==="success"){alert("Success! Your eligibility has been verified.");return}if(f.message==="not logged in"){alert("Please login first.");return}alert("Sorry. We could not verify your eligibility at this time."),console.log("Verification error: ".concat(f.status_code,", ").concat(f.message))},error:function(f,v,_){alert("Sorry. We could not verify your eligibility at this time."),console.log("Verification error: ".concat(v,", ").concat(_))},complete:function(){d.remove()}}),n.preventDefault()})})},ni=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(typeof t!="string")throw new Error("first arg should be a string");Z(t).on("click",o,function(l){var a=e(l);return n==="callback"&&a?a:n==="default"?!0:(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),!1)})},hp=function(t,e){for(var n=e&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&"),o=0;o<n.length;o++)if(n[o].slice(0,n[o].indexOf("="))===t){var l=n[o].slice(n[o].indexOf("=")+1);return l.length>0?unescape(l):""}return""},ua=function(t){for(var e="".concat(t).split("."),n=e[0],o=e.length>1?".".concat(e[1]):"",l=/(\d+)(\d{3})/;l.test(n);)n=n.replace(l,"$1,$2");return n+o},_T=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false";if(typeof t!="string")throw new Error("first arg should be a string");Z(t).on("change",function(o){var l=e(o);return n==="callback"&&l?l:n==="default"?!0:(o&&o.preventDefault&&o.preventDefault(),o&&o.stopPropagation&&o.stopPropagation(),!1)})},kT=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false";if(typeof t!="string")throw new Error("first arg should be a string");Z(t).on("submit",function(o){var l=e(o);return n==="callback"&&l?l:n==="default"?!0:(o&&o.preventDefault&&o.preventDefault(),o&&o.stopPropagation&&o.stopPropagation(),!1)})},xT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o;return function(){var a=this,s=arguments;function r(){var d;n||(d=t).apply.apply(d,[a].concat(_toConsumableArray(s))),o=null}if(o)clearTimeout(o);else if(n){var c;(c=t).apply.apply(c,[a].concat(_toConsumableArray(s)))}o=setTimeout(r,e)}},js=function(t,e){Object.keys(e).forEach(function(n){var o=n;$d&&n.search("animation")>-1&&(o=$d+n[0].toUpperCase()+n.substr(1)),t.style[o]=e[n]})},Xk=function(t){js(t,{display:"block"})},Kk=function(t){js(t,{display:"none"})},ST=function(){var t=document.body,e=document.documentElement,n;return window.innerHeight?n=window.innerHeight:e&&e.clientHeight?n=e.clientHeight:t&&(n=t.clientHeight),n||0},CT=function(){var t=document.body,e=document.documentElement,n;return window.innerWidth?n=window.innerWidth:e&&e.clientWidth?n=e.clientWidth:t&&(n=t.clientWidth),n||0},AT=function(t,e){return e||(e=document.createElement("style"),document.body.appendChild(e)),e.textContent=t,e},ld=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},OT=function(t){return t===document.body},lo=function(t,e){t.classList.add(e)},Qk=function(t,e){t.classList.remove(e)},Jk=function(t,e){return t+Math.floor(Math.random()*(e-t))},fp=function(t,e,n,o,l){return o+(l-o)*(t-e)/(n-e)},Zk=function(t,e,n){return Math.floor(fp(t,0,Bd,e,n))},ud=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=0,l=e.decimal,a=e.errorOnInvalid,s=e.precision,r=e.fromCents,c=zd(s),d=typeof t=="number",h=_instanceof(t,Do);if(h&&r)return t.intValue;if(d||h)o=h?t.value:t;else if(typeof t=="string"){var f=new RegExp("[^-\\d"+l+"]","g"),v=new RegExp("\\"+l,"g");o=t.replace(/\((.*)\)/,"-$1").replace(f,"").replace(v,"."),o=o||0}else{if(a)throw Error("Invalid Input");o=0}return r||(o*=c,o=o.toFixed(4)),n?gv(o):o},jT=function(t,e){var n=e.pattern,o=e.negativePattern,l=e.symbol,a=e.separator,s=e.decimal,r=e.groups,c=(""+t).replace(/^-/,"").split("."),d=c[0],h=c[1];return(t.value>=0?n:o).replace("!",l).replace("#",d.replace(r,"$1"+a)+(h?s+h:""))},Vt=function(t){var e,n,o;return typeof t=="object"?(e=t.hashFunction,n=t.expiring,o=t.tags):e=t,function(l,a,s){if(s.value!=null)s.value=e5(s.value,e,n,o);else if(s.get!=null)s.get=e5(s.get,e,n,o);else throw"Only put a Memoize() decorator on a method or get accessor."}},e5=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,l=Symbol("__memoized_map__");return function(){for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];var c;this.hasOwnProperty(l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!1,value:new Map});var d=this[l],h=!0,f=!1,v=void 0;if(Array.isArray(o))try{for(var _=o[Symbol.iterator](),b;!(h=(b=_.next()).done);h=!0){var w=b.value;sh.has(w)?sh.get(w).push(d):sh.set(w,[d])}}catch(u){f=!0,v=u}finally{try{!h&&_.return!=null&&_.return()}finally{if(f)throw v}}if(e||s.length>0||n>0){var A;e===!0?A=s.map(function(u){return u.toString()}).join("!"):e?A=e.apply(this,s):A=s[0];var E="".concat(A,"__timestamp"),O=!1;if(n>0)if(!d.has(E))O=!0;else{var P=d.get(E);O=Date.now()-P>n}d.has(A)&&!O?c=d.get(A):(c=t.apply(this,s),d.set(A,c),n>0&&d.set(E,Date.now()))}else{var y=this;d.has(y)?c=d.get(y):(c=t.apply(this,s),d.set(y,c))}return c}},ET=function(t,e,n){if(typeof window.archive_analytics!="undefined"){var o={bookreader:"error",description:t,page:e,line:n};document.referrer==""?o.referrer="-":o.referrer=document.referrer,typeof br!="undefined"&&(o.itemid=br.bookId,o.subPrefix=br.subPrefix,o.server=br.server,o.bookPath=br.bookPath),archive_analytics.send_ping(o)}return!1},t5=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return hm!==void 0?hm.createHTML(e):e},n5=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Im!==void 0?Im.createHTML(e):e},r5=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Qm!==void 0?Qm.createHTML(e):e},TT=function(){return{el:"#BookReader",showToolbar:!1,onePage:{autofit:"height"},enableFSLogoShortcut:!0,enableBookmarks:!1,enablePageResume:!1,enableTtsPlugin:!1,enableUrlPlugin:!1,defaults:"mode/1up",enableSearch:!0,searchInsideUrl:"/fulltext/inside.php",initialSearchTerm:null,imagesBaseURL:"/bookreader/BookReader/images/",defaultStartLeaf:0,titleLeaf:0,controls:{twoPage:{visible:!1},viewmode:{visible:!1}},bookType:"linerNotes"}},PT=function(t){return On(this,null,_regeneratorRuntime.default.mark(function e(){return _regeneratorRuntime.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,new Promise(function(l,a){var s=new Image;s.onload=function(){return l(s)},s.onerror=a,s.src=t});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},e)}))},IT=function(t){return On(this,null,_regeneratorRuntime.default.mark(function e(){var n,o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=this,o=[],a.next=4,Promise.all(t.map(function(s){return On(n,null,_regeneratorRuntime.default.mark(function r(){var c,d;return _regeneratorRuntime.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=1,f.next=4,PT(s.uri);case 4:c=f.sent,f.next=10;break;case 7:f.prev=7,f.t0=f.catch(1),c=new Image(300,300);case 10:console.log("^^^^^^^^^^^^^^ FETCH IMAGE ~~~~~~~",c,c.height,c.width),d=t.indexOf(s),o[d]=oi(Dr({},s),{width:c.width,height:c.height});case 13:case"end":return f.stop()}},r,null,[[1,7]])}))}));case 4:return a.abrupt("return",(a.sent,o));case 5:case"end":return a.stop()}},e,this)}))},MT=function(t){return On(this,arguments,_regeneratorRuntime.default.mark(function e(n){var o,l,a,s,r,c,d,h,f,v,_,b,w,A;return _regeneratorRuntime.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return o=n.images,l=o===void 0?[]:o,a=n.itemIdentifier,s=a===void 0?"":a,r=n.itemTitle,c=r===void 0?"":r,d=n.baseHost,h=d===void 0?"archive.org":d,O.next=3,fetch("https://".concat(h,"/metadata/").concat(s,"/metadata")).then(function(P){return P.json()});case 3:if(O.t0=O.sent.result,O.t0){O.next=6;break}O.t0={};case 6:return f=O.t0,v=l.map(function(P,y){var u=y%2===1?"L":"R";return console.log("imgPath",P),{uri:"https://".concat(h,"/download/").concat(s).concat(P),leafNum:y,pageType:"Normal",pageSide:u}}),O.next=10,IT(v);case 10:return _=O.sent,b=[],_.forEach(function(P,y){if(y===0){b.push([P]);return}if(y%2===1){b.push([P]);return}y%2===0&&b[b.length-1].push(P)}),w=oi(Dr(Dr({},{bookId:s,bookPath:"/download/".concat(s),bookTitle:c,defaults:"mode/1up",dfaultStartLeaf:0,ppi:200,data:b}),TT()),{enableSearch:!1,plugins:{textSelection:{enabled:!1}}}),A={data:{streamOnly:!1,isRestricted:!1,id:s,subPrefix:s,bookUrl:"/details/".concat(s)},brOptions:w,metadata:f},O.abrupt("return",(console.log("**** MANIFEST _---",A,w),A));case 15:case"end":return O.stop()}},e)}))},i5=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Wy!==void 0?Wy.createHTML(e):e},o5=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return i0!==void 0?i0.createHTML(e):e},a5=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return y0!==void 0?y0.createHTML(e):e},LT=function(){return{el:"#BookReader",showToolbar:!1,onePage:{autofit:"height"},enableFSLogoShortcut:!0,enableBookmarks:!1,enablePageResume:!1,enableTtsPlugin:!1,enableUrlPlugin:!1,defaults:"mode/1up",enableSearch:!0,searchInsideUrl:"/fulltext/inside.php",initialSearchTerm:null,imagesBaseURL:"/bookreader/BookReader/images/",defaultStartLeaf:0,titleLeaf:0,controls:{twoPage:{visible:!1},viewmode:{visible:!1}},bookType:"linerNotes"}},RT=function(t){var e,n=t.brOptions,o=Dr(Dr({},LT()),n),l=new window.BookReader(o),a=window.BookReader.prototype.getPageURI;l.getPageURI=function(r){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=Math.pow(2,Math.floor(Math.log2(Math.max(1,c)))),f=a.call(l,r,h,d);return f+=f.indexOf("?")>-1?"&":"?",f="".concat(f,"scale=").concat(h,"&rotate=").concat(d),f},window.br=l;var s=(e=t==null?void 0:t.data)===null||e===void 0?void 0:e.isRestricted;return window.dispatchEvent(new CustomEvent("contextmenu",{detail:{isRestricted:s}})),l},pp=function(){Z(".row .tilebars").find(".results").parents(".row").each(function(t,e){var n=!1;Z(e).find(".results").each(function(o,l){Z(l).show().css({visibility:"hidden"}),n||(n=Z(l).offset()),Z(l).offset().top!==n.top?Z(l).hide():Z(l).css({visibility:"visible"})})})},s5=function(t,e){if(!gf(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return $0!==void 0?$0.createHTML(e):e},DT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(typeof location=="undefined")return"";for(var n=e&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&"),o=0;o<n.length;o++)if(n[o].slice(0,n[o].indexOf("="))===t){var l=n[o].slice(n[o].indexOf("=")+1);return l.length>0?unescape(l):""}return""},$T=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:300,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=_toConsumableArray(t);if(o.length<=e)return t;var l=o.slice(0,e).join(""),a=l.lastIndexOf(" ");return a>=0?n?t:"".concat(l.slice(0,a),"..."):"".concat(o.slice(0,e-2).join(""),"..")},BT=function(t){var e={};return Object.entries(t).map(function(n){e[n[1]]=n[0]}),e},l5=function(){return location.hostname||location.host},vp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;return e&&(n=t.match(/^(\d+):(\d+):([\d.]+),(\d+)$/))?Number(n[1])*3600+Number(n[2])*60+Number(n[3])+Number("0.".concat(n[4])):(n=t.match(/^(\d+):(\d+):([\d+.]+)$/))?(n=n.map(function(o){return parseFloat(o)}),n[1]*3600+n[2]*60+n[3]):(n=t.match(/^(\d+):([\d+.]+)$/))?(n=n.map(function(o){return parseFloat(o)}),n[1]*60+n[2]):(n=t.match(/^([\d+.]+)$/))?parseFloat(n[1]):!1},NT=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(typeof t!="string")throw new Error("first arg should be a string");$(t).on("click",o,function(l){var a=e(l);return n==="callback"&&a?a:n==="default"?!0:(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),!1)})},zT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return On(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=typeof window!="undefined"&&window.navigator.onLine===!1,l=o?"".concat(location.origin,"/json/").concat(t,".json"):"https://archive.org/metadata/".concat(t).concat(e?"/".concat(e):""),r.next=4,fetch(l);case 4:return a=r.sent,r.abrupt("return",a.json());case 6:case"end":return r.stop()}},n)}))},FT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:300,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=_toConsumableArray(t);if(o.length<=e)return t;var l=o.slice(0,e).join(""),a=l.lastIndexOf(" ");return a>=0?n?t:"".concat(l.slice(0,a),"..."):"".concat(o.slice(0,e-2).join(""),"..")},HT=function(t){var e={};return Object.entries(t).map(function(n){e[n[1]]=n[0]}),e},u5=function(){return location.hostname||location.host},gp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;return e&&(n=t.match(/^(\d+):(\d+):([\d.]+),(\d+)$/))?Number(n[1])*3600+Number(n[2])*60+Number(n[3])+Number("0.".concat(n[4])):(n=t.match(/^(\d+):(\d+):([\d+.]+)$/))?(n=n.map(function(o){return parseFloat(o)}),n[1]*3600+n[2]*60+n[3]):(n=t.match(/^(\d+):([\d+.]+)$/))?(n=n.map(function(o){return parseFloat(o)}),n[1]*60+n[2]):(n=t.match(/^([\d+.]+)$/))?parseFloat(n[1]):!1},UT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return On(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=typeof window!="undefined"&&window.navigator.onLine===!1,l=o?"".concat(location.origin,"/json/").concat(t,".json"):"https://archive.org/metadata/".concat(t).concat(e?"/".concat(e):""),r.next=4,fetch(l);case 4:return a=r.sent,r.abrupt("return",a.json());case 6:case"end":return r.stop()}},n)}))},Cl=function(t){return new Promise(function(e,n){t.oncomplete=t.onsuccess=function(){return e(t.result)},t.onabort=t.onerror=function(){return n(t.error)}})},VT=function(t,e){var n=indexedDB.open(t);n.onupgradeneeded=function(){return n.result.createObjectStore(e)};var o=Cl(n);return function(l,a){return o.then(function(s){return a(s.transaction(e,l).objectStore(e))})}},cd=function(){return hk||(hk=VT("keyval-store","keyval")),hk},WT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cd();return e("readonly",function(n){return Cl(n.get(t))})},qT=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cd();return n("readwrite",function(o){return o.put(e,t),Cl(o.transaction)})},GT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cd();return e("readwrite",function(n){return n.delete(t),Cl(n.transaction)})},YT=function(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Cl(t.transaction)},XT=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cd();return t("readonly",function(e){if(e.getAllKeys)return Cl(e.getAllKeys());var n=[];return YT(e,function(o){return n.push(o.key)}).then(function(){return n})})},KT=function(t,e){return t.setMilliseconds(t.getMilliseconds()+e*1e3),t},Es=function(t){return On(this,null,_regeneratorRuntime.default.mark(function e(){var n,o,l,a,s,r,c,d,h,f,v,_,b;return _regeneratorRuntime.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return l=Dr({action:null,identifier:"",success:function(){},error:function(){}},t),a="/services/loans/loan",s=window==null?void 0:window.location,r="loan token not found. please try again later.",c="This book is not available to borrow at this time. Please try again later.",d=["browse_book","borrow_book","create_token","renew_loan","return_loan"],h=((n=s==null?void 0:s.href)==null?void 0:n.indexOf("?error=true"))!==-1&&(s==null?void 0:s.hostname)!=="archive.org",f=["localhost","internetarchive.github.io"],v=!1,f.includes(s.hostname)&&(v=!0,a=s.href),_=new FormData,_.append("action",l.action),_.append("identifier",l.identifier),A.prev=5,b=this,A.next=9,fetch(a,{method:"POST",body:_}).then(function(E){return On(b,null,_regeneratorRuntime.default.mark(function O(){return _regeneratorRuntime.default.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!(h&&d.includes(l==null?void 0:l.action))){y.next=4;break}y.t0={success:!1,error:(l==null?void 0:l.action)==="create_token"?r:c},y.next=17;break;case 4:if(!v){y.next=15;break}if(!((l==null?void 0:l.action)=="renew_loan"||(l==null?void 0:l.action)=="return_loan")){y.next=11;break}return y.next=8,new Promise(function(u){return setTimeout(u,5e3)});case 8:y.t2=(y.sent,{success:!0,loan:{renewal:!0}}),y.next=12;break;case 11:y.t2={success:!0,message:"operation executed successfully!"};case 12:y.t1=y.t2,y.next=16;break;case 15:y.t1=E.json();case 16:y.t0=y.t1;case 17:return y.abrupt("return",y.t0);case 18:case"end":return y.stop()}},O)}))}).then(function(E){E!=null&&E.error?l==null||l.error(E):l==null||l.success(E)});case 9:A.next=14;break;case 11:A.prev=11,A.t0=A.catch(5),(o=window==null?void 0:window.Sentry)==null||o.captureException("".concat(Jo.actionsHandlerService," - Error: ").concat(A.t0));case 14:case"end":return A.stop()}},e,this,[[5,11]])}))},QT=function(t){return t&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},dd=function(t,e,n,o,l,a){return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+(n?"; expires=".concat(n.toUTCString()):"")+(l?"; domain=".concat(l):"")+(o?"; path=".concat(o):"")+(a?"; secure":""),!0},ca=function(t,e,n){this.maxAge=18e4,this.postInitCB=null,this.requestCount=0,this.maxRequests=3,this.br=t,this.bookId=e||"",this.postInitCB=n,this.tokenErrorMessage="no access token"},JT=function(){try{return document.cookie,!0}catch(t){return!1}},Tr=function(t,e,n,o){var l=arguments.length,a=l<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(a=(l<3?s(a):l>3?s(e,n,a):s(e,n))||a);return l>3&&a&&Object.defineProperty(e,n,a),a},Al=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},c5=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return RE!==void 0?RE.createHTML(e):e},ZT=function(t){var e=t.slice(0,4),n=t.slice(4,6),o=t.slice(6,8),l=t.slice(8,10),a=t.slice(10,12),s=t.slice(12,14);return"".concat(e,"-").concat(n,"-").concat(o,"T").concat(l,":").concat(a,":").concat(s,"Z")},e1=function(t){var e,n=[],o=!0,l=!1,a=void 0;try{for(var s=t[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var c=r.value;if(!((e=c.captures)===null||e===void 0)&&e.length){var d=encodeURIComponent(c.url),h="https://web.archive.org/web/".concat(c.captures[0],"/").concat(d);n.push({hit_type:"web_archive",fields:{url:c.url,capture_dates:c.captures.map(function(f){return ZT(f)}),__href__:h}})}}}catch(f){l=!0,a=f}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}return n},t1=function(t){var e=[],n="";for(n in t)e.push(n);return e},mp=function(t){return t=JSON.stringify(t),!(typeof t!="string"||!/^\{[\s\S]*\}$/.test(t))},n1=function(t){return _instanceof(t,Array)},r1=function(t){return Array.prototype.slice.call(t)},i1=function(t,e,n){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:l=this,a=document.querySelector("modal-manager"),a||(s=document.querySelector("body"),a=document.createElement("modal-manager"),s==null||s.appendChild(a)),r=function(){var h=a!=null?a:document.querySelector("modal-manager");h==null||h.showModal({config:new ha,customModalContent:void 0,userClosedModalCallback:void 0}),h==null||h.closeModal(),a==null||a.removeAttribute("id")},a==null||a.setAttribute("id","create-user-list-modal"),a.showModal({config:new ha({title:St(_templateObject()),headerColor:"#194880",showCloseButton:!0,showHeaderLogo:!1,closeOnBackdropClick:!0}),userClosedModalCallback:function(){return r()},customModalContent:St(_templateObject1(),{id:void 0,list_name:"",description:"",is_private:!1},t,function(){return r()},function(h){var f,v,_,b,w=(b=(v=(f=h.detail.error)===null||f===void 0?void 0:f.reason)!==null&&v!==void 0?v:(_=h.detail.error)===null||_===void 0?void 0:_.message)!==null&&b!==void 0?b:"Unknown error from iaux-userlist-settings";console==null||console.error("userListSettingsError",w)},function(){return On(l,null,_regeneratorRuntime.default.mark(function h(){return _regeneratorRuntime.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:e==null||e();case 1:case"end":return v.stop()}},h)}))},function(h){return On(l,null,_regeneratorRuntime.default.mark(function f(){return _regeneratorRuntime.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,n==null?void 0:n(h.detail.id);case 2:r();case 3:case"end":return _.stop()}},f)}))})});case 5:case"end":return d.stop()}},o,this)}))},d5=Object.defineProperty,o1=Object.defineProperties,a1=Object.getOwnPropertyDescriptors,s1=Object.getOwnPropertyNames,hd=Object.getOwnPropertySymbols,h5=Object.prototype.hasOwnProperty,f5=Object.prototype.propertyIsEnumerable,yp=function(m,t){return(t=Symbol[m])?t:Symbol.for("Symbol."+m)},ki=Math.pow,p5=function(m,t,e){return t in m?d5(m,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):m[t]=e},Dr=function(m,t){for(var e in t||(t={}))h5.call(t,e)&&p5(m,e,t[e]);var n=!0,o=!1,l=void 0;if(hd)try{for(var a=hd(t)[Symbol.iterator](),s;!(n=(s=a.next()).done);n=!0){var e=s.value;f5.call(t,e)&&p5(m,e,t[e])}}catch(r){o=!0,l=r}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw l}}return m},oi=function(m,t){return o1(m,a1(t))},Ai=function(m,t){var e={};for(var n in m)h5.call(m,n)&&t.indexOf(n)<0&&(e[n]=m[n]);var o=!0,l=!1,a=void 0;if(m!=null&&hd)try{for(var s=hd(m)[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var n=r.value;t.indexOf(n)<0&&f5.call(m,n)&&(e[n]=m[n])}}catch(c){l=!0,a=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}return e},Mt=function(m,t){return function(){return m&&(t=(0,m[s1(m)[0]])(m=0)),t}},ai=function(m,t){for(var e in t)d5(m,e,{get:t[e],enumerable:!0})},On=function(m,t,e){return new Promise(function(n,o){var l=function(r){try{s(e.next(r))}catch(c){o(c)}},a=function(r){try{s(e.throw(r))}catch(c){o(c)}},s=function(r){return r.done?n(r.value):Promise.resolve(r.value).then(l,a)};s((e=e.apply(m,t)).next())})},l1=function(t,e){this[0]=t,this[1]=e},u1=function(m){var t=m[yp("asyncIterator")],e=!1,n,o={};return t==null?(t=m[yp("iterator")](),n=function(l){return o[l]=function(a){return t[l](a)}}):(t=t.call(m),n=function(l){return o[l]=function(a){if(e){if(e=!1,l==="throw")throw a;return a}return e=!0,{done:!1,value:new l1(new Promise(function(s){var r=t[l](a);if(!_instanceof(r,Object))throw TypeError("Object expected");s(r)}),1)}}}),o[yp("iterator")]=function(){return o},n("next"),"throw"in t?n("throw"):o.throw=function(l){throw l},"return"in t&&n("return"),o},bp=Mt({"https-url:https://esm.archive.org/v135/throttle-debounce@5.0.0/esnext/throttle-debounce.mjs":function(){}}),Cr=Mt({"https-url:https://esm.archive.org/v135/tslib@2.6.2/esnext/tslib.mjs":function(){}}),Hu,fd,pd,wp,_p,v5,Lt,g5,kp,m5=Mt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/css-tag.js":function(){Hu=window,fd=Hu.ShadowRoot&&(Hu.ShadyCSS===void 0||Hu.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,pd=Symbol(),wp=new WeakMap,_p=function(){"use strict";function m(t,e,n){if(_classCallCheck(this,m),this._$cssResult$=!0,n!==pd)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}return _createClass(m,[{key:"styleSheet",get:function(){var e=this.o,n=this.t;if(fd&&e===void 0){var o=n!==void 0&&n.length===1;o&&(e=wp.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),o&&wp.set(n,e))}return e}},{key:"toString",value:function(){return this.cssText}}]),m}(),v5=function(m){return new _p(typeof m=="string"?m:m+"",void 0,pd)},Lt=function(m){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var o=m.length===1?m[0]:e.reduce(function(l,a,s){return l+function(r){if(r._$cssResult$===!0)return r.cssText;if(typeof r=="number")return r;throw Error("Value passed to 'css' function must be a 'css' function result: "+r+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(a)+m[s+1]},m[0]);return new _p(o,m,pd)},g5=function(m,t){fd?m.adoptedStyleSheets=t.map(function(e){return _instanceof(e,CSSStyleSheet)?e:e.styleSheet}):t.forEach(function(e){var n=document.createElement("style"),o=Hu.litNonce;o!==void 0&&n.setAttribute("nonce",o),n.textContent=e.cssText,m.appendChild(n)})},kp=fd?function(m){return m}:function(m){return _instanceof(m,CSSStyleSheet)?function(t){var e="",n=!0,o=!1,l=void 0;try{for(var a=t.cssRules[Symbol.iterator](),s;!(n=(s=a.next()).done);n=!0){var r=s.value;e+=r.cssText}}catch(c){o=!0,l=c}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw l}}return v5(e)}(m):m}}}),xp,Uu,Sp,y5,Cp,vd,Ap,gd,md,Ts,Op=Mt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/reactive-element.mjs":function(){m5(),m5(),Uu=window,Sp=Uu.trustedTypes,y5=Sp?Sp.emptyScript:"",Cp=Uu.reactiveElementPolyfillSupport,vd={toAttribute:function(t,e){switch(e){case Boolean:t=t?y5:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute:function(t,e){var n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(o){n=null}}return n}},Ap=function(m,t){return t!==m&&(t==t||m==m)},gd={attribute:!0,type:String,converter:vd,reflect:!1,hasChanged:Ap},md="finalized",Ts=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n._$Ei=new Map,n.isUpdatePending=!1,n.hasUpdated=!1,n._$El=null,n._$Eu(),_possibleConstructorReturn(n)}return _createClass(e,[{key:"_$Eu",value:function(){var o=this,l;this._$E_=new Promise(function(a){return o.enableUpdating=a}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(l=this.constructor.h)===null||l===void 0||l.forEach(function(a){return a(o)})}},{key:"addController",value:function(o){var l,a;((l=this._$ES)!==null&&l!==void 0?l:this._$ES=[]).push(o),this.renderRoot!==void 0&&this.isConnected&&((a=o.hostConnected)===null||a===void 0||a.call(o))}},{key:"removeController",value:function(o){var l;(l=this._$ES)===null||l===void 0||l.splice(this._$ES.indexOf(o)>>>0,1)}},{key:"_$Eg",value:function(){var o=this;this.constructor.elementProperties.forEach(function(l,a){o.hasOwnProperty(a)&&(o._$Ei.set(a,o[a]),delete o[a])})}},{key:"createRenderRoot",value:function(){var o,l=(o=this.shadowRoot)!==null&&o!==void 0?o:this.attachShadow(this.constructor.shadowRootOptions);return g5(l,this.constructor.elementStyles),l}},{key:"connectedCallback",value:function(){var o;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(o=this._$ES)===null||o===void 0||o.forEach(function(l){var a;return(a=l.hostConnected)===null||a===void 0?void 0:a.call(l)})}},{key:"enableUpdating",value:function(o){}},{key:"disconnectedCallback",value:function(){var o;(o=this._$ES)===null||o===void 0||o.forEach(function(l){var a;return(a=l.hostDisconnected)===null||a===void 0?void 0:a.call(l)})}},{key:"attributeChangedCallback",value:function(o,l,a){this._$AK(o,a)}},{key:"_$EO",value:function(o,l){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gd,s,r=this.constructor._$Ep(o,a);if(r!==void 0&&a.reflect===!0){var c=(((s=a.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?a.converter:vd).toAttribute(l,a.type);this._$El=o,c==null?this.removeAttribute(r):this.setAttribute(r,c),this._$El=null}}},{key:"_$AK",value:function(o,l){var a,s=this.constructor,r=s._$Ev.get(o);if(r!==void 0&&this._$El!==r){var c=s.getPropertyOptions(r),d=typeof c.converter=="function"?{fromAttribute:c.converter}:((a=c.converter)===null||a===void 0?void 0:a.fromAttribute)!==void 0?c.converter:vd;this._$El=r,this[r]=d.fromAttribute(l,c.type),this._$El=null}}},{key:"requestUpdate",value:function(o,l,a){var s=!0;o!==void 0&&(((a=a||this.constructor.getPropertyOptions(o)).hasChanged||Ap)(this[o],l)?(this._$AL.has(o)||this._$AL.set(o,l),a.reflect===!0&&this._$El!==o&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(o,a))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.isUpdatePending=!0,s.prev=1,s.next=4,this._$E_;case 4:s.next=9;break;case 6:s.prev=6,s.t0=s.catch(1),Promise.reject(s.t0);case 9:if(l=this.scheduleUpdate(),s.t1=l!=null,!s.t1){s.next=14;break}return s.next=14,l;case 14:return s.abrupt("return",(s.t1&&s.sent,!this.isUpdatePending));case 15:case"end":return s.stop()}},o,this,[[1,6]])}))}},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var o=this,l;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(r,c){return o[c]=r}),this._$Ei=void 0);var a=!1,s=this._$AL;try{a=this.shouldUpdate(s),a?(this.willUpdate(s),(l=this._$ES)===null||l===void 0||l.forEach(function(r){var c;return(c=r.hostUpdate)===null||c===void 0?void 0:c.call(r)}),this.update(s)):this._$Ek()}catch(r){throw a=!1,this._$Ek(),r}a&&this._$AE(s)}}},{key:"willUpdate",value:function(o){}},{key:"_$AE",value:function(o){var l;(l=this._$ES)===null||l===void 0||l.forEach(function(a){var s;return(s=a.hostUpdated)===null||s===void 0?void 0:s.call(a)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(o)),this.updated(o)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(o){return!0}},{key:"update",value:function(o){var l=this;this._$EC!==void 0&&(this._$EC.forEach(function(a,s){return l._$EO(s,l[s],a)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(o){}},{key:"firstUpdated",value:function(o){}}],[{key:"addInitializer",value:function(o){var l;this.finalize(),((l=this.h)!==null&&l!==void 0?l:this.h=[]).push(o)}},{key:"observedAttributes",get:function(){var o=this;this.finalize();var l=[];return this.elementProperties.forEach(function(a,s){var r=o._$Ep(s,a);r!==void 0&&(o._$Ev.set(r,s),l.push(r))}),l}},{key:"createProperty",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gd;if(l.state&&(l.attribute=!1),this.finalize(),this.elementProperties.set(o,l),!l.noAccessor&&!this.prototype.hasOwnProperty(o)){var a=(typeof o=="undefined"?"undefined":_typeof(o))=="symbol"?Symbol():"__"+o,s=this.getPropertyDescriptor(o,a,l);s!==void 0&&Object.defineProperty(this.prototype,o,s)}}},{key:"getPropertyDescriptor",value:function(o,l,a){return{get:function(){return this[l]},set:function(r){var c=this[o];this[l]=r,this.requestUpdate(o,c,a)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(o){return this.elementProperties.get(o)||gd}},{key:"finalize",value:function(){if(this.hasOwnProperty(md))return!1;this[md]=!0;var o=Object.getPrototypeOf(this);if(o.finalize(),o.h!==void 0&&(this.h=_toConsumableArray(o.h)),this.elementProperties=new Map(o.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var l=this.properties,a=_toConsumableArray(Object.getOwnPropertyNames(l)).concat(_toConsumableArray(Object.getOwnPropertySymbols(l))),s=!0,r=!1,c=void 0;try{for(var d=a[Symbol.iterator](),h;!(s=(h=d.next()).done);s=!0){var f=h.value;this.createProperty(f,l[f])}}catch(v){r=!0,c=v}finally{try{!s&&d.return!=null&&d.return()}finally{if(r)throw c}}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(o){var l=[];if(Array.isArray(o)){var a=new Set(o.flat(1/0).reverse()),s=!0,r=!1,c=void 0;try{for(var d=a[Symbol.iterator](),h;!(s=(h=d.next()).done);s=!0){var f=h.value;l.unshift(kp(f))}}catch(v){r=!0,c=v}finally{try{!s&&d.return!=null&&d.return()}finally{if(r)throw c}}}else o!==void 0&&l.push(kp(o));return l}},{key:"_$Ep",value:function(o,l){var a=l.attribute;return a===!1?void 0:typeof a=="string"?a:typeof o=="string"?o.toLowerCase():void 0}}]),e}(_wrapNativeSuper(HTMLElement)),Ts[md]=!0,Ts.elementProperties=new Map,Ts.elementStyles=[],Ts.shadowRootOptions={mode:"open"},Cp==null||Cp({ReactiveElement:Ts}),((xp=Uu.reactiveElementVersions)!==null&&xp!==void 0?xp:Uu.reactiveElementVersions=[]).push("1.6.3")}});function Ol(m,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===Is)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,c=El(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(m),r._$AT(m,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=Ol(m,r._$AS(m,t.values),r,n)),t}var jp,Vu,Ps,Ep,yd,da,Tp,b5,$a,jl,El,Pp,w5,bd,Tl,Ip,Mp,Ba,Lp,Rp,Dp,$p,St,So,Is,Rn,Bp,Na,_5,wd,k5,_d,Wu,x5,S5,C5,A5,O5,Np,zp,kd=Mt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/lit-html.mjs":function(){Vu=window,Ps=Vu.trustedTypes,Ep=Ps?Ps.createPolicy("lit-html",{createHTML:function(m){return m}}):void 0,yd="$lit$",da="lit$".concat((Math.random()+"").slice(9),"$"),Tp="?"+da,b5="<".concat(Tp,">"),$a=document,jl=function(){return $a.createComment("")},El=function(m){return m===null||typeof m!="object"&&typeof m!="function"},Pp=Array.isArray,w5=function(m){return Pp(m)||typeof(m==null?void 0:m[Symbol.iterator])=="function"},bd="[ 	\n\f\r]",Tl=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ip=/-->/g,Mp=/>/g,Ba=RegExp(">|".concat(bd,"(?:([^\\s\"'>=/]+)(").concat(bd,"*=").concat(bd,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),Lp=/'/g,Rp=/"/g,Dp=/^(?:script|style|textarea|title)$/i,$p=function(m){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:m,strings:t,values:n}}},St=$p(1),So=$p(2),Is=Symbol.for("lit-noChange"),Rn=Symbol.for("lit-nothing"),Bp=new WeakMap,Na=$a.createTreeWalker($a,129,null,!1),_5=function(m,t){for(var e=m.length-1,n=[],o,l=t===2?"<svg>":"",a=Tl,s=0;s<e;s++){for(var r=m[s],c=void 0,d=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,d=a.exec(r),d!==null);)f=a.lastIndex,a===Tl?d[1]==="!--"?a=Ip:d[1]!==void 0?a=Mp:d[2]!==void 0?(Dp.test(d[2])&&(o=RegExp("</"+d[2],"g")),a=Ba):d[3]!==void 0&&(a=Ba):a===Ba?d[0]===">"?(a=o!=null?o:Tl,h=-1):d[1]===void 0?h=-2:(h=a.lastIndex-d[2].length,c=d[1],a=d[3]===void 0?Ba:d[3]==='"'?Rp:Lp):a===Rp||a===Lp?a=Ba:a===Ip||a===Mp?a=Tl:(a=Ba,o=void 0);var v=a===Ba&&m[s+1].startsWith("/>")?" ":"";l+=a===Tl?r+b5:h>=0?(n.push(c),r.slice(0,h)+yd+r.slice(h)+da+v):r+da+(h===-2?(n.push(void 0),s):v)}return[mi(m,l+(m[e]||"<?>")+(t===2?"</svg>":"")),n]},wd=function(){"use strict";function m(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,m);var l;this.parts=[];var a=0,s=0,r=n.length-1,c=this.parts,d=_slicedToArray(_5(n,o),2),h=d[0],f=d[1];if(this.el=m.createElement(h,e),Na.currentNode=this.el.content,o===2){var v,_=this.el.content,b=_.firstChild;b.remove(),(v=_).append.apply(v,_toConsumableArray(b.childNodes))}for(;(l=Na.nextNode())!==null&&c.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var w=[],A=!0,E=!1,O=void 0;try{for(var P=l.getAttributeNames()[Symbol.iterator](),y;!(A=(y=P.next()).done);A=!0){var u=y.value;if(u.endsWith(yd)||u.startsWith(da)){var p=f[s++];if(w.push(u),p!==void 0){var g=l.getAttribute(p.toLowerCase()+yd).split(da),k=/([.?@])?(.*)/.exec(p);c.push({type:1,index:a,name:k[2],strings:g,ctor:k[1]==="."?x5:k[1]==="?"?C5:k[1]==="@"?A5:Wu})}else c.push({type:6,index:a})}}}catch(V){E=!0,O=V}finally{try{!A&&P.return!=null&&P.return()}finally{if(E)throw O}}var x=!0,j=!1,L=void 0;try{for(var D=w[Symbol.iterator](),F;!(x=(F=D.next()).done);x=!0){var X=F.value;l.removeAttribute(X)}}catch(V){j=!0,L=V}finally{try{!x&&D.return!=null&&D.return()}finally{if(j)throw L}}}if(Dp.test(l.tagName)){var Q=l.textContent.split(da),H=Q.length-1;if(H>0){l.textContent=Ps?Ps.emptyScript:"";for(var ce=0;ce<H;ce++)l.append(Q[ce],jl()),Na.nextNode(),c.push({type:2,index:++a});l.append(Q[H],jl())}}}else if(l.nodeType===8)if(l.data===Tp)c.push({type:2,index:a});else for(var ne=-1;(ne=l.data.indexOf(da,ne+1))!==-1;)c.push({type:7,index:a}),ne+=da.length-1;a++}}return _createClass(m,null,[{key:"createElement",value:function(e,n){var o=$a.createElement("template");return o.innerHTML=e,o}}]),m}(),k5=function(){"use strict";function m(t,e){_classCallCheck(this,m),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(m,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:$a).importNode(a,!0);Na.currentNode=r;for(var c=Na.nextNode(),d=0,h=0,f=s[0];f!==void 0;){if(d===f.index){var v=void 0;f.type===2?v=new _d(c,c.nextSibling,this,e):f.type===1?v=new f.ctor(c,f.name,f.strings,this,e):f.type===6&&(v=new O5(c,this,e)),this._$AV.push(v),f=s[++h]}d!==(f==null?void 0:f.index)&&(c=Na.nextNode(),d++)}return Na.currentNode=$a,r}},{key:"v",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,n),n+=c.strings.length-2):c._$AI(e[n])),n++}}catch(d){l=!0,a=d}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),m}(),_d=function(){"use strict";function m(t,e,n,o){_classCallCheck(this,m);var l;this.type=2,this._$AH=Rn,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(m,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=Ol(this,e,n),El(e)?e===Rn||e==null||e===""?(this._$AH!==Rn&&this._$AR(),this._$AH=Rn):e!==this._$AH&&e!==Is&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):w5(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Rn&&El(this._$AH)?this._$AA.nextSibling.data=e:this.$($a.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=wd.createElement(mi(l.h,l.h[0]),this.options)),l);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.v(o);else{var s=new k5(a,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=Bp.get(e.strings);return n===void 0&&Bp.set(e.strings,n=new wd(e)),n}},{key:"T",value:function(e){Pp(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(a=(d=c.next()).done);a=!0){var h=d.value;l===n.length?n.push(o=new m(this.k(jl()),this.k(jl()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),m}(),Wu=function(){"use strict";function m(t,e,n,o,l){_classCallCheck(this,m),this.type=1,this._$AH=Rn,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Rn}return _createClass(m,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=Ol(this,e,n,0),s=!El(e)||e!==this._$AH&&e!==Is,s&&(this._$AH=e);else{var r=e,c,d;for(e=a[0],c=0;c<a.length-1;c++)d=Ol(this,r[o+c],n,c),d===Is&&(d=this._$AH[c]),s||(s=!El(d)||d!==this._$AH[c]),d===Rn?e=Rn:e!==Rn&&(e+=(d!=null?d:"")+a[c+1]),this._$AH[c]=d}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===Rn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),m}(),x5=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Rn?void 0:o}}]),e}(Wu),S5=Ps?Ps.emptyScript:"",C5=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Rn?this.element.setAttribute(this.name,S5):this.element.removeAttribute(this.name)}}]),e}(Wu),A5=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=Ol(this,o,l,0))!==null&&a!==void 0?a:Rn)!==Is){var s=this._$AH,r=o===Rn&&s!==Rn||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,c=o!==Rn&&(s===Rn||r);r&&this.element.removeEventListener(this.name,this,s),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(Wu),O5=function(){"use strict";function m(t,e,n){_classCallCheck(this,m),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(m,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){Ol(this,e)}}]),m}(),Np=Vu.litHtmlPolyfillSupport,Np==null||Np(wd,_d),((jp=Vu.litHtmlVersions)!==null&&jp!==void 0?jp:Vu.litHtmlVersions=[]).push("2.8.0"),zp=function(m,t,e){var n,o,l=(n=e==null?void 0:e.renderBefore)!==null&&n!==void 0?n:t,a=l._$litPart$;if(a===void 0){var s=(o=e==null?void 0:e.renderBefore)!==null&&o!==void 0?o:null;l._$litPart$=a=new _d(t.insertBefore(jl(),s),s,void 0,e!=null?e:{})}return a._$AI(m),a}}}),Fp,Hp,Vn,Up,c1=Mt({"https-url:https://esm.archive.org/v135/lit-element@3.3.3/esnext/lit-element.js":function(){Op(),Op(),kd(),kd(),Vn=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.renderOptions={host:_assertThisInitialized(n)},n._$Do=void 0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"createRenderRoot",value:function(){var o,l,a=_get(_getPrototypeOf(e.prototype),"createRenderRoot",this).call(this);return(o=(l=this.renderOptions).renderBefore)!==null&&o!==void 0||(l.renderBefore=a.firstChild),a}},{key:"update",value:function(o){var l=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(e.prototype),"update",this).call(this,o),this._$Do=zp(l,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"connectedCallback",this).call(this),(o=this._$Do)===null||o===void 0||o.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),(o=this._$Do)===null||o===void 0||o.setConnected(!1)}},{key:"render",value:function(){return Is}}]),e}(Ts),Vn.finalized=!0,Vn._$litElement$=!0,(Fp=globalThis.litElementHydrateSupport)===null||Fp===void 0||Fp.call(globalThis,{LitElement:Vn}),Up=globalThis.litElementPolyfillSupport,Up==null||Up({LitElement:Vn}),((Hp=globalThis.litElementVersions)!==null&&Hp!==void 0?Hp:globalThis.litElementVersions=[]).push("3.3.3")}}),d1=Mt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/is-server.js":function(){}}),vn=Mt({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/lit.mjs":function(){Op(),kd(),c1(),d1()}}),Mr,h1=Mt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/custom-element.js":function(){Mr=function(m){return function(t){return typeof t=="function"?function(e,n){return customElements.define(e,n),n}(m,t):function(e,n){var o=n.kind,l=n.elements;return{kind:o,elements:l,finisher:function(s){customElements.define(e,s)}}}(m,t)}}}}),j5,E5,T5=Mt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/property.js":function(){j5=function(m,t){return t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?oi(Dr({},t),{finisher:function(n){n.createProperty(t.key,m)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer:function(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher:function(n){n.createProperty(t.key,m)}}},E5=function(m,t,e){t.constructor.createProperty(e,m)}}}),f1=Mt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/state.js":function(){T5()}}),P5,Pl=Mt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/base.js":function(){P5=function(m){var t=m.finisher,e=m.descriptor;return function(n,o){var l;if(o===void 0){var a=(l=n.originalKey)!==null&&l!==void 0?l:n.key,s=e!=null?{kind:"method",placement:"prototype",key:a,descriptor:e(n.key)}:oi(Dr({},n),{key:a});return t!=null&&(s.finisher=function(c){t(c,a)}),s}{var r=n.constructor;e!==void 0&&Object.defineProperty(n,o,e(o)),t==null||t(r,o)}}}}}),p1=Mt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/event-options.js":function(){Pl()}}),v1=Mt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/query.js":function(){Pl()}}),g1=Mt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/query-all.js":function(){Pl()}}),m1=Mt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/query-async.js":function(){Pl()}}),Vp,y1,I5=Mt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/query-assigned-elements.js":function(){Pl(),y1=((Vp=window.HTMLSlotElement)===null||Vp===void 0?void 0:Vp.prototype.assignedElements)!=null?function(m,t){return m.assignedElements(t)}:function(m,t){return m.assignedNodes(t).filter(function(e){return e.nodeType===Node.ELEMENT_NODE})}}}),b1=Mt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/query-assigned-nodes.js":function(){Pl(),I5()}}),Or=Mt({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/decorators.js":function(){h1(),T5(),f1(),p1(),v1(),g1(),m1(),I5(),b1()}}),M5,L5,qu=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-activity-indicator@0.0.4/esnext/ia-activity-indicator.js":function(){vn(),M5=Object.freeze({processing:"processing",complete:"complete"}),L5=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.mode=M5.processing,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return St(_templateObject2(),this.mode)}}],[{key:"properties",get:function(){return{mode:{type:String}}}},{key:"styles",get:function(){var o=Lt(_templateObject3()),l=Lt(_templateObject4()),a=Lt(_templateObject5()),s=Lt(_templateObject6());return Lt(_templateObject7(),l,o,a,s)}}]),e}(Vn),window.customElements.define("ia-activity-indicator",L5)}}),R5,D5,$5=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-close@1.3.4/esnext/icon-close.mjs":function(){vn(),vn(),R5=St(_templateObject8()),D5=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return R5}}],[{key:"styles",get:function(){return Lt(_templateObject9())}}]),e}(Vn),customElements.define("ia-icon-close",D5)}});function xd(){var m,t=arguments;return _regeneratorRuntime.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(m=t.length>0&&t[0]!==void 0?t[0]:document.activeElement,n.t0=m!=null,!n.t0){n.next=8;break}return n.next=5,m;case 5:if(n.t1="shadowRoot"in m&&m.shadowRoot&&m.shadowRoot.mode!=="closed",!n.t1){n.next=8;break}return n.delegateYield(u1(xd(m.shadowRoot.activeElement)),"t2",8);case 8:case"end":return n.stop()}},C)}var ha,Wp,Il,B5,N5,Sd,Ms,z5,Ls,Gu=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/modal-manager@2.0.0/esnext/modal-manager.mjs":function(){Cr(),vn(),Or(),Cr(),vn(),Or(),qu(),$5(),vn(),bp(),ha=function m(t){"use strict";_classCallCheck(this,m);var e,n,o,l,a,s,r;this.title=t==null?void 0:t.title,this.subtitle=t==null?void 0:t.subtitle,this.headline=t==null?void 0:t.headline,this.message=t==null?void 0:t.message,this.headerColor=(e=t==null?void 0:t.headerColor)!==null&&e!==void 0?e:"#55A183",this.bodyColor=(n=t==null?void 0:t.bodyColor)!==null&&n!==void 0?n:"#f5f5f7",this.showProcessingIndicator=(o=t==null?void 0:t.showProcessingIndicator)!==null&&o!==void 0?o:!1,this.processingImageMode=(l=t==null?void 0:t.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(a=t==null?void 0:t.showCloseButton)!==null&&a!==void 0?a:!0,this.showHeaderLogo=(s=t==null?void 0:t.showHeaderLogo)!==null&&s!==void 0?s:!0,this.closeOnBackdropClick=(r=t==null?void 0:t.closeOnBackdropClick)!==null&&r!==void 0?r:!0},Wp=new WeakMap,Il=[],B5=function(){"use strict";function m(t){var e=this;_classCallCheck(this,m),this.isExternalActivated=!1,this.tabDirection="forward",this.currentFocus=null,this.previousFocus=null,this.handleFocusIn=function(){e.isActive()&&e.checkFocus()},this.handleKeyDown=function(n){var o=e,l;if(!(n.key!=="Tab"||e.isExternalActivated||!e.isActive())){var a=la();if(e.previousFocus=a,!(e.previousFocus&&e.possiblyHasTabbableChildren(e.previousFocus))){n.shiftKey?e.tabDirection="backward":e.tabDirection="forward";var s=qk(e.element),r=s.findIndex(function(f){return f===a});e.previousFocus=e.currentFocus;for(var c=e.tabDirection==="forward"?1:-1;;){r+c>=s.length?r=0:r+c<0?r=s.length-1:r+=c,e.previousFocus=e.currentFocus;var d=s[r];if(e.tabDirection==="backward"&&e.previousFocus&&e.possiblyHasTabbableChildren(e.previousFocus)||d&&e.possiblyHasTabbableChildren(d))return;n.preventDefault(),e.currentFocus=d,(l=e.currentFocus)===null||l===void 0||l.focus({preventScroll:!1});var h=_toConsumableArray(xd());if(h.includes(e.currentFocus)||!h.includes(e.previousFocus))break}setTimeout(function(){return o.checkFocus()})}}},this.handleKeyUp=function(){e.tabDirection="forward"},this.element=t,this.elementsWithTabbableControls=["iframe"]}return _createClass(m,[{key:"activate",value:function(){Il.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}},{key:"deactivate",value:function(){var e=this;Il=Il.filter(function(n){return n!==e.element}),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}},{key:"isActive",value:function(){return Il[Il.length-1]===this.element}},{key:"activateExternal",value:function(){this.isExternalActivated=!0}},{key:"deactivateExternal",value:function(){this.isExternalActivated=!1}},{key:"checkFocus",value:function(){if(this.isActive()&&!this.isExternalActivated){var e=qk(this.element);if(!this.element.matches(":focus-within")){var n=e[0],o=e[e.length-1],l=this.tabDirection==="forward"?n:o;typeof(l==null?void 0:l.focus)=="function"&&(this.currentFocus=l,l.focus({preventScroll:!1}))}}}},{key:"possiblyHasTabbableChildren",value:function(e){return this.elementsWithTabbableControls.includes(e.tagName.toLowerCase())||e.hasAttribute("controls")}}]),m}(),N5=St(_templateObject10()),Sd=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.config=new ha,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return St(_templateObject16(),this.config.headerColor,this.config.showCloseButton?this.closeButtonTemplate:"",this.config.showHeaderLogo?St(_templateObject11(),N5):Rn,this.config.title?St(_templateObject12(),this.config.title):"",this.config.subtitle?St(_templateObject13(),this.config.subtitle):"",this.config.bodyColor,this.config.showProcessingIndicator?"":"hidden",this.config.processingImageMode,this.config.headline?St(_templateObject14(),this.config.headline):"",this.config.message?St(_templateObject15(),this.config.message):"")}},{key:"handleCloseButton",value:function(o){if(o.preventDefault(),!(o.type==="keydown"&&o.key!==" "&&o.key!=="Enter")){var l=new Event("closeButtonPressed");this.dispatchEvent(l)}}},{key:"closeButtonTemplate",get:function(){return St(_templateObject17(),this.handleCloseButton,this.handleCloseButton)}}],[{key:"styles",get:function(){var o=Lt(_templateObject18()),l=Lt(_templateObject19()),a=Lt(_templateObject20()),s=Lt(_templateObject21()),r=Lt(_templateObject22()),c=Lt(_templateObject23()),d=Lt(_templateObject24()),h=Lt(_templateObject25()),f=Lt(_templateObject26()),v=Lt(_templateObject27()),_=Lt(_templateObject28()),b=Lt(_templateObject29()),w=Lt(_templateObject30()),A=Lt(_templateObject31()),E=Lt(_templateObject32()),O=Lt(_templateObject33()),P=Lt(_templateObject34());return Lt(_templateObject35(),l,l,a,c,a,a,s,d,v,A,_,E,a,a,s,h,f,r,f,b,O,w,P,o,o,o,o)}}]),e}(Vn),Xe([Kt({type:Object})],Sd.prototype,"config",void 0),Sd=Xe([Mr("modal-template")],Sd),function(m){m.Open="open",m.Closed="closed"}(Ms||(Ms={})),z5=function(){"use strict";function m(t){_classCallCheck(this,m),this.windowResizeThrottler=fe(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=t}return _createClass(m,[{key:"handleModeChange",value:function(e){switch(e){case Ms.Open:this.startResizeListener(),this.stopDocumentScroll();break;case Ms.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}},{key:"updateModalContainerHeight",value:function(){this.modalManager.style.setProperty("--containerHeight","".concat(window.innerHeight,"px"))}},{key:"stopDocumentScroll",value:function(){document.body.classList.add("modal-manager-open")}},{key:"resumeDocumentScroll",value:function(){document.body.classList.remove("modal-manager-open")}},{key:"startResizeListener",value:function(){window.addEventListener("resize",this.windowResizeThrottler)}},{key:"stopResizeListener",value:function(){window.removeEventListener("resize",this.windowResizeThrottler)}}]),m}(),Ls=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.mode=Ms.Closed,n.hostBridge=new z5(_assertThisInitialized(n)),n.modal=new B5(_assertThisInitialized(n)),n.closeOnBackdropClick=!0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"firstUpdated",value:function(){return Er(this,void 0,void 0,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l=this,s.next=3,new Promise(function(r){return setTimeout(r,0)});case 3:this.closeOnBackdropClick&&this.addEventListener("keydown",function(r){r.key==="Escape"&&l.backdropClicked()});case 4:case"end":return s.stop()}},o,this)}))}},{key:"disconnectedCallback",value:function(){_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),this.modal.deactivate()}},{key:"render",value:function(){return St(_templateObject36(),this.backdropClicked,this.closeButtonPressed,this.customModalContent)}},{key:"getMode",value:function(){return this.mode}},{key:"closeModal",value:function(){this.mode=Ms.Closed,this.customModalContent=void 0,this.modalTemplate.config=new ha,this.modal.deactivate()}},{key:"callUserClosedModalCallback",value:function(){var o=this.userClosedModalCallback;this.userClosedModalCallback=void 0,o&&o()}},{key:"showModal",value:function(o){return Er(this,void 0,void 0,_regeneratorRuntime.default.mark(function l(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.closeOnBackdropClick=o.config.closeOnBackdropClick,this.userClosedModalCallback=o.userClosedModalCallback,this.modalTemplate.config=o.config,this.customModalContent=o.customModalContent,this.mode=Ms.Open,s.next=7,this.modalTemplate.updateComplete;case 7:this.modalTemplate.focus(),this.modal.activate();case 9:case"end":return s.stop()}},l,this)}))}},{key:"updated",value:function(o){o.has("mode")&&this.handleModeChange()}},{key:"backdropClicked",value:function(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}},{key:"handleModeChange",value:function(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}},{key:"emitModeChangeEvent",value:function(){var o=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(o)}},{key:"closeButtonPressed",value:function(){this.closeModal(),this.callUserClosedModalCallback()}}],[{key:"styles",get:function(){var o=Lt(_templateObject37()),l=Lt(_templateObject38()),a=Lt(_templateObject39()),s=Lt(_templateObject40()),r=Lt(_templateObject41());return Lt(_templateObject42(),o,l,r,a,s)}}]),e}(Vn),Xe([Kt({type:String,reflect:!0})],Ls.prototype,"mode",void 0),Xe([Kt({type:Object})],Ls.prototype,"customModalContent",void 0),Xe([Kt({type:Object})],Ls.prototype,"hostBridge",void 0),Xe([Hr("modal-template")],Ls.prototype,"modalTemplate",void 0),Ls=Xe([Mr("modal-manager")],Ls)}}),F5={};ai(F5,{default:function(){return Z}});var H5,Cd,U5,V5,W5,q5,G5,Y5,Ad,X5,qp,Gp,Yp,K5,Wn,Xp,Q5,Z,Od=Mt({"https-url:https://esm.archive.org/v135/jquery@3.6.1/esnext/jquery.mjs":function(){H5=Object.create,Cd=Object.defineProperty,U5=Object.getOwnPropertyDescriptor,V5=Object.getOwnPropertyNames,W5=Object.getPrototypeOf,q5=Object.prototype.hasOwnProperty,G5=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},Y5=function(t,e){for(var n in e)Cd(t,n,{get:e[n],enumerable:!0})},Ad=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!q5.call(t,v)&&v!==n&&Cd(t,v,{get:function(){return e[v]},enumerable:!(o=U5(e,v))||o.enumerable})},c=V5(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},X5=function(t,e,n){return Ad(t,e,"default"),n&&Ad(n,e,"default")},qp=function(t,e,n){return n=t!=null?H5(W5(t)):{},Ad(e||!t||!t.__esModule?Cd(n,"default",{value:t,enumerable:!0}):n,t)},Gp=G5(function(t,e){(function(n,o){"use strict";typeof e=="object"&&typeof e.exports=="object"?e.exports=n.document?o(n,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return o(l)}:o(n)})((typeof window=="undefined"?"undefined":_typeof(window))<"u"?window:t,function(n,o){"use strict";var l=function(S,T,I){I=I||xt;var z,U,re=I.createElement("script");if(re.text=S,T)for(z in ut)U=T[z]||T.getAttribute&&T.getAttribute(z),U&&re.setAttribute(z,U);I.head.appendChild(re).parentNode.removeChild(re)},a=function(S){return S==null?S+"":typeof S=="object"||typeof S=="function"?ct[Ge.call(S)]||"object":typeof S=="undefined"?"undefined":_typeof(S)},s=function(S){var T=!!S&&"length"in S&&S.length,I=a(S);return wt(S)||_t(S)?!1:I==="array"||T===0||typeof T=="number"&&T>0&&T-1 in S},r=function(S,T){return S.nodeName&&S.nodeName.toLowerCase()===T.toLowerCase()},c=function(S,T,I){return wt(T)?N.grep(S,function(z,U){return!!T.call(z,U,z)!==I}):T.nodeType?N.grep(S,function(z){return z===T!==I}):typeof T!="string"?N.grep(S,function(z){return lt.call(T,z)>-1!==I}):N.filter(T,S,I)},d=function(S,T){for(;(S=S[T])&&S.nodeType!==1;);return S},h=function(S){var T={};return N.each(S.match(Ee)||[],function(I,z){T[z]=!0}),T},f=function(S){return S},v=function(S){throw S},_=function(S,T,I,z){var U;try{S&&wt(U=S.promise)?U.call(S).done(T).fail(I):S&&wt(U=S.then)?U.call(S,T,I):T.apply(void 0,[S].slice(z))}catch(re){I.apply(void 0,[re])}},b=function(S,T){return T.toUpperCase()},w=function(S){return S.replace(Tt,"ms-").replace(jt,b)},A=function(S){return S==="true"?!0:S==="false"?!1:S==="null"?null:S===+S+""?+S:Dt.test(S)?JSON.parse(S):S},E=function(S,T,I){var z;if(I===void 0&&S.nodeType===1)if(z="data-"+T.replace(Jt,"-$&").toLowerCase(),I=S.getAttribute(z),typeof I=="string"){try{I=A(I)}catch(U){}Ft.set(S,T,I)}else I=void 0;return I},O=function(S,T,I,z){var U,re,he=20,Se=z?function(){return z.cur()}:function(){return N.css(S,T,"")},We=Se(),kt=I&&I[3]||(N.cssNumber[T]?"":"px"),Pt=S.nodeType&&(N.cssNumber[T]||kt!=="px"&&+We)&&gn.exec(N.css(S,T));if(Pt&&Pt[3]!==kt){for(We=We/2,kt=kt||Pt[3],Pt=+We||1;he--;)N.style(S,T,Pt+kt),(1-re)*(1-(re=Se()/We||.5))<=0&&(he=0),Pt=Pt/re;Pt=Pt*2,N.style(S,T,Pt+kt),I=I||[]}return I&&(Pt=+Pt||+We||0,U=I[1]?Pt+(I[1]+1)*I[2]:+I[2],z&&(z.unit=kt,z.start=Pt,z.end=U)),U},P=function(S){var T,I=S.ownerDocument,z=S.nodeName,U=Re[z];return U||(T=I.body.appendChild(I.createElement(z)),U=N.css(T,"display"),T.parentNode.removeChild(T),U==="none"&&(U="block"),Re[z]=U,U)},y=function(S,T){for(var I,z,U=[],re=0,he=S.length;re<he;re++)z=S[re],z.style&&(I=z.style.display,T?(I==="none"&&(U[re]=Nt.get(z,"display")||null,U[re]||(z.style.display="")),z.style.display===""&&Wt(z)&&(U[re]=P(z))):I!=="none"&&(U[re]="none",Nt.set(z,"display",I)));for(re=0;re<he;re++)U[re]!=null&&(S[re].style.display=U[re]);return S},u=function(S,T){var I;return _typeof(S.getElementsByTagName)<"u"?I=S.getElementsByTagName(T||"*"):_typeof(S.querySelectorAll)<"u"?I=S.querySelectorAll(T||"*"):I=[],T===void 0||T&&r(S,T)?N.merge([S],I):I},p=function(S,T){for(var I=0,z=S.length;I<z;I++)Nt.set(S[I],"globalEval",!T||Nt.get(T[I],"globalEval"))},g=function(S,T,I,z,U){for(var re,he,Se,We,kt,Pt,Ht=T.createDocumentFragment(),Yt=[],It=0,nn=S.length;It<nn;It++)if(re=S[It],re||re===0)if(a(re)==="object")N.merge(Yt,re.nodeType?[re]:re);else if(!dt.test(re))Yt.push(T.createTextNode(re));else{for(he=he||Ht.appendChild(T.createElement("div")),Se=(xe.exec(re)||["",""])[1].toLowerCase(),We=ot[Se]||ot._default,he.innerHTML=We[1]+N.htmlPrefilter(re)+We[2],Pt=We[0];Pt--;)he=he.lastChild;N.merge(Yt,he.childNodes),he=Ht.firstChild,he.textContent=""}for(Ht.textContent="",It=0;re=Yt[It++];){if(z&&N.inArray(re,z)>-1){U&&U.push(re);continue}if(kt=tn(re),he=u(Ht.appendChild(re),"script"),kt&&p(he),I)for(Pt=0;re=he[Pt++];)$e.test(re.type||"")&&I.push(re)}return Ht},k=function(){return!0},x=function(){return!1},j=function(S,T){return S===L()==(T==="focus")},L=function(){try{return xt.activeElement}catch(S){}},D=function(S,T,I){if(!I){Nt.get(S,T)===void 0&&N.event.add(S,T,k);return}Nt.set(S,T,!1),N.event.add(S,T,{namespace:!1,handler:function(U){var re,he,Se=Nt.get(this,T);if(U.isTrigger&1&&this[T]){if(Se.length)(N.event.special[T]||{}).delegateType&&U.stopPropagation();else if(Se=Pe.call(arguments),Nt.set(this,T,Se),re=I(this,T),this[T](),he=Nt.get(this,T),Se!==he||re?Nt.set(this,T,!1):he={},Se!==he)return U.stopImmediatePropagation(),U.preventDefault(),he&&he.value}else Se.length&&(Nt.set(this,T,{value:N.event.trigger(N.extend(Se[0],N.Event.prototype),Se.slice(1),this)}),U.stopImmediatePropagation())}})},F=function(S,T){return r(S,"table")&&r(T.nodeType!==11?T:T.firstChild,"tr")&&N(S).children("tbody")[0]||S},X=function(S){return S.type=(S.getAttribute("type")!==null)+"/"+S.type,S},Q=function(S){return(S.type||"").slice(0,5)==="true/"?S.type=S.type.slice(5):S.removeAttribute("type"),S},H=function(S,T){var I,z,U,re,he,Se,We;if(T.nodeType===1){if(Nt.hasData(S)&&(re=Nt.get(S),We=re.events,We)){Nt.remove(T,"handle events");for(U in We)for(I=0,z=We[U].length;I<z;I++)N.event.add(T,U,We[U][I])}Ft.hasData(S)&&(he=Ft.access(S),Se=N.extend({},he),Ft.set(T,Se))}},ce=function(S,T){var I=T.nodeName.toLowerCase();I==="input"&&pe.test(S.type)?T.checked=S.checked:(I==="input"||I==="textarea")&&(T.defaultValue=S.defaultValue)},ne=function(S,T,I){for(var z,U=T?N.filter(T,S):S,re=0;(z=U[re])!=null;re++)!I&&z.nodeType===1&&N.cleanData(u(z)),z.parentNode&&(I&&tn(z)&&p(u(z,"script")),z.parentNode.removeChild(z));return S},V=function(S,T,I){var z,U,re,he,Se=Pr.test(T),We=S.style;return I=I||Li(S),I&&(he=I.getPropertyValue(T)||I[T],Se&&(he=he.replace(hi,"$1")),he===""&&!tn(S)&&(he=N.style(S,T)),!it.pixelBoxStyles()&&ui.test(he)&&ho.test(T)&&(z=We.width,U=We.minWidth,re=We.maxWidth,We.minWidth=We.maxWidth=We.width=he,he=I.width,We.width=z,We.minWidth=U,We.maxWidth=re)),he!==void 0?he+"":he},Y=function(S,T){return{get:function(){if(S()){delete this.get;return}return(this.get=T).apply(this,arguments)}}},oe=function(S){for(var T=S[0].toUpperCase()+S.slice(1),I=qi.length;I--;)if(S=qi[I]+T,S in bi)return S},q=function(S){var T=N.cssProps[S]||ci[S];return T||(S in bi?S:ci[S]=oe(S)||S)},G=function(S,T,I){var z=gn.exec(T);return z?Math.max(0,z[2]-(I||0))+(z[3]||"px"):T},J=function(S,T,I,z,U,re){var he=T==="width"?1:0,Se=0,We=0;if(I===(z?"border":"content"))return 0;for(;he<4;he+=2)I==="margin"&&(We+=N.css(S,I+Bt[he],!0,U)),z?(I==="content"&&(We-=N.css(S,"padding"+Bt[he],!0,U)),I!=="margin"&&(We-=N.css(S,"border"+Bt[he]+"Width",!0,U))):(We+=N.css(S,"padding"+Bt[he],!0,U),I!=="padding"?We+=N.css(S,"border"+Bt[he]+"Width",!0,U):Se+=N.css(S,"border"+Bt[he]+"Width",!0,U));return!z&&re>=0&&(We+=Math.max(0,Math.ceil(S["offset"+T[0].toUpperCase()+T.slice(1)]-re-We-Se-.5))||0),We},ae=function(S,T,I){var z=Li(S),U=!it.boxSizingReliable()||I,re=U&&N.css(S,"boxSizing",!1,z)==="border-box",he=re,Se=V(S,T,z),We="offset"+T[0].toUpperCase()+T.slice(1);if(ui.test(Se)){if(!I)return Se;Se="auto"}return(!it.boxSizingReliable()&&re||!it.reliableTrDimensions()&&r(S,"tr")||Se==="auto"||!parseFloat(Se)&&N.css(S,"display",!1,z)==="inline")&&S.getClientRects().length&&(re=N.css(S,"boxSizing",!1,z)==="border-box",he=We in S,he&&(Se=S[We])),Se=parseFloat(Se)||0,Se+J(S,T,I||(re?"border":"content"),he,z,Se)+"px"},ie=function(){return n.setTimeout(function(){en=void 0}),en=Date.now()},Oe=function(S,T){var I,z=0,U={height:S};for(T=T?1:0;z<4;z+=2-T)I=Bt[z],U["margin"+I]=U["padding"+I]=S;return T&&(U.opacity=U.width=S),U},De=function(S,T,I){for(var z,U=(An.tweeners[T]||[]).concat(An.tweeners["*"]),re=0,he=U.length;re<he;re++)if(z=U[re].call(I,T,S))return z},ke=function(S,T,I){var z,U,re,he,Se,We,kt,Pt,Ht="width"in T||"height"in T,Yt=this,It={},nn=S.style,xn=S.nodeType&&Wt(S),Mn=Nt.get(S,"fxshow");I.queue||(he=N._queueHooks(S,"fx"),he.unqueued==null&&(he.unqueued=0,Se=he.empty.fire,he.empty.fire=function(){he.unqueued||Se()}),he.unqueued++,Yt.always(function(){Yt.always(function(){he.unqueued--,N.queue(S,"fx").length||he.empty.fire()})}));for(z in T)if(U=T[z],In.test(U)){if(delete T[z],re=re||U==="toggle",U===(xn?"hide":"show"))if(U==="show"&&Mn&&Mn[z]!==void 0)xn=!0;else continue;It[z]=Mn&&Mn[z]||N.style(S,z)}if(We=!N.isEmptyObject(T),!(!We&&N.isEmptyObject(It))){var Sn=function(Yn){We||(Mn?"hidden"in Mn&&(xn=Mn.hidden):Mn=Nt.access(S,"fxshow",{display:kt}),re&&(Mn.hidden=!xn),xn&&y([S],!0),Yt.done(function(){xn||y([S]),Nt.remove(S,"fxshow");for(Yn in It)N.style(S,Yn,It[Yn])})),We=De(xn?Mn[Yn]:0,Yn,Yt),Yn in Mn||(Mn[Yn]=We.start,xn&&(We.end=We.start,We.start=0))};Ht&&S.nodeType===1&&(I.overflow=[nn.overflow,nn.overflowX,nn.overflowY],kt=Mn&&Mn.display,kt==null&&(kt=Nt.get(S,"display")),Pt=N.css(S,"display"),Pt==="none"&&(kt?Pt=kt:(y([S],!0),kt=S.style.display||kt,Pt=N.css(S,"display"),y([S]))),(Pt==="inline"||Pt==="inline-block"&&kt!=null)&&N.css(S,"float")==="none"&&(We||(Yt.done(function(){nn.display=kt}),kt==null&&(Pt=nn.display,kt=Pt==="none"?"":Pt)),nn.display="inline-block")),I.overflow&&(nn.overflow="hidden",Yt.always(function(){nn.overflow=I.overflow[0],nn.overflowX=I.overflow[1],nn.overflowY=I.overflow[2]})),We=!1;for(z in It)Sn(z)}},tt=function(S,T){var I,z,U,re,he;for(I in S)if(z=w(I),U=T[z],re=S[I],Array.isArray(re)&&(U=re[1],re=S[I]=re[0]),I!==z&&(S[z]=re,delete S[I]),he=N.cssHooks[z],he&&"expand"in he){re=he.expand(re),delete S[z];for(I in re)I in S||(S[I]=re[I],T[I]=U)}else T[z]=U},Ve=function(S){var T=S.match(Ee)||[];return T.join(" ")},Qe=function(S){return S.getAttribute&&S.getAttribute("class")||""},ht=function(S){return Array.isArray(S)?S:typeof S=="string"?S.match(Ee)||[]:[]},bt=function(S){return function(T,I){typeof T!="string"&&(I=T,T="*");var z,U=0,re=T.toLowerCase().match(Ee)||[];if(wt(I))for(;z=re[U++];)z[0]==="+"?(z=z.slice(1)||"*",(S[z]=S[z]||[]).unshift(I)):(S[z]=S[z]||[]).push(I)}},vt=function(S,T,I,z){var U={},re=S===fo;function he(Se){var We;return U[Se]=!0,N.each(S[Se]||[],function(kt,Pt){var Ht=Pt(T,I,z);if(typeof Ht=="string"&&!re&&!U[Ht])return T.dataTypes.unshift(Ht),he(Ht),!1;if(re)return!(We=Ht)}),We}return he(T.dataTypes[0])||!U["*"]&&he("*")},Le=function(S,T){var I,z,U=N.ajaxSettings.flatOptions||{};for(I in T)T[I]!==void 0&&((U[I]?S:z||(z={}))[I]=T[I]);return z&&N.extend(!0,S,z),S},_e=function(S,T,I){for(var z,U,re,he,Se=S.contents,We=S.dataTypes;We[0]==="*";)We.shift(),z===void 0&&(z=S.mimeType||T.getResponseHeader("Content-Type"));if(z){for(U in Se)if(Se[U]&&Se[U].test(z)){We.unshift(U);break}}if(We[0]in I)re=We[0];else{for(U in I){if(!We[0]||S.converters[U+" "+We[0]]){re=U;break}he||(he=U)}re=re||he}if(re)return re!==We[0]&&We.unshift(re),I[re]},Ne=function(S,T,I,z){var U,re,he,Se,We,kt={},Pt=S.dataTypes.slice();if(Pt[1])for(he in S.converters)kt[he.toLowerCase()]=S.converters[he];for(re=Pt.shift();re;)if(S.responseFields[re]&&(I[S.responseFields[re]]=T),!We&&z&&S.dataFilter&&(T=S.dataFilter(T,S.dataType)),We=re,re=Pt.shift(),re){if(re==="*")re=We;else if(We!=="*"&&We!==re){if(he=kt[We+" "+re]||kt["* "+re],!he){for(U in kt)if(Se=U.split(" "),Se[1]===re&&(he=kt[We+" "+Se[0]]||kt["* "+Se[0]],he)){he===!0?he=kt[U]:kt[U]!==!0&&(re=Se[0],Pt.unshift(Se[1]));break}}if(he!==!0)if(he&&S.throws)T=he(T);else try{T=he(T)}catch(Ht){return{state:"parsererror",error:he?Ht:"No conversion from "+We+" to "+re}}}}return{state:"success",data:T}},Ze=[],Ke=Object.getPrototypeOf,Pe=Ze.slice,at=Ze.flat?function(S){return Ze.flat.call(S)}:function(M){return Ze.concat.apply([],M)},pt=Ze.push,lt=Ze.indexOf,ct={},Ge=ct.toString,ze=ct.hasOwnProperty,He=ze.toString,rt=He.call(Object),it={},wt=function(S){return typeof S=="function"&&typeof S.nodeType!="number"&&typeof S.item!="function"},_t=function(S){return S!=null&&S===S.window},xt=n.document,ut={type:!0,src:!0,nonce:!0,noModule:!0},we="3.6.1",N=function(M,S){return new N.fn.init(M,S)};N.fn=N.prototype={jquery:we,constructor:N,length:0,toArray:function(){return Pe.call(this)},get:function(S){return S==null?Pe.call(this):S<0?this[S+this.length]:this[S]},pushStack:function(S){var T=N.merge(this.constructor(),S);return T.prevObject=this,T},each:function(S){return N.each(this,S)},map:function(S){return this.pushStack(N.map(this,function(T,I){return S.call(T,I,T)}))},slice:function(){return this.pushStack(Pe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(N.grep(this,function(S,T){return(T+1)%2}))},odd:function(){return this.pushStack(N.grep(this,function(S,T){return T%2}))},eq:function(S){var T=this.length,I=+S+(S<0?T:0);return this.pushStack(I>=0&&I<T?[this[I]]:[])},end:function(){return this.prevObject||this.constructor()},push:pt,sort:Ze.sort,splice:Ze.splice},N.extend=N.fn.extend=function(){var M,S,T,I,z,U,re=arguments[0]||{},he=1,Se=arguments.length,We=!1;for(typeof re=="boolean"&&(We=re,re=arguments[he]||{},he++),typeof re!="object"&&!wt(re)&&(re={}),he===Se&&(re=this,he--);he<Se;he++)if((M=arguments[he])!=null)for(S in M)I=M[S],!(S==="__proto__"||re===I)&&(We&&I&&(N.isPlainObject(I)||(z=Array.isArray(I)))?(T=re[S],z&&!Array.isArray(T)?U=[]:!z&&!N.isPlainObject(T)?U={}:U=T,z=!1,re[S]=N.extend(We,U,I)):I!==void 0&&(re[S]=I));return re},N.extend({expando:"jQuery"+(we+Math.random()).replace(/\D/g,""),isReady:!0,error:function(S){throw new Error(S)},noop:function(){},isPlainObject:function(S){var T,I;return!S||Ge.call(S)!=="[object Object]"?!1:(T=Ke(S),T?(I=ze.call(T,"constructor")&&T.constructor,typeof I=="function"&&He.call(I)===rt):!0)},isEmptyObject:function(S){var T;for(T in S)return!1;return!0},globalEval:function(S,T,I){l(S,{nonce:T&&T.nonce},I)},each:function(S,T){var I,z=0;if(s(S))for(I=S.length;z<I&&T.call(S[z],z,S[z])!==!1;z++);else for(z in S)if(T.call(S[z],z,S[z])===!1)break;return S},makeArray:function(S,T){var I=T||[];return S!=null&&(s(Object(S))?N.merge(I,typeof S=="string"?[S]:S):pt.call(I,S)),I},inArray:function(S,T,I){return T==null?-1:lt.call(T,S,I)},merge:function(S,T){for(var I=+T.length,z=0,U=S.length;z<I;z++)S[U++]=T[z];return S.length=U,S},grep:function(S,T,I){for(var z,U=[],re=0,he=S.length,Se=!I;re<he;re++)z=!T(S[re],re),z!==Se&&U.push(S[re]);return U},map:function(S,T,I){var z,U,re=0,he=[];if(s(S))for(z=S.length;re<z;re++)U=T(S[re],re,I),U!=null&&he.push(U);else for(re in S)U=T(S[re],re,I),U!=null&&he.push(U);return at(he)},guid:1,support:it}),typeof Symbol=="function"&&(N.fn[Symbol.iterator]=Ze[Symbol.iterator]),N.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(M,S){ct["[object "+S+"]"]=S.toLowerCase()});var qe=function(M){var S=function(At,Rt,Xt,Cn){var fn,pn,wn,qn,Bn,nr,gr,yr=Rt&&Rt.ownerDocument,Br=Rt?Rt.nodeType:9;if(Xt=Xt||[],typeof At!="string"||!At||Br!==1&&Br!==9&&Br!==11)return Xt;if(!Cn&&(ur(Rt),Rt=Rt||Me,Te)){if(Br!==11&&(Bn=$k.exec(At)))if(fn=Bn[1]){if(Br===9)if(wn=Rt.getElementById(fn)){if(wn.id===fn)return Xt.push(wn),Xt}else return Xt;else if(yr&&(wn=yr.getElementById(fn))&&sn(Rt,wn)&&wn.id===fn)return Xt.push(wn),Xt}else{if(Bn[2])return Di.apply(Xt,Rt.getElementsByTagName(At)),Xt;if((fn=Bn[3])&&Un.getElementsByClassName&&Rt.getElementsByClassName)return Di.apply(Xt,Rt.getElementsByClassName(fn)),Xt}if(Un.qsa&&!vo[At+" "]&&(!ft||!ft.test(At))&&(Br!==1||Rt.nodeName.toLowerCase()!=="object")){if(gr=At,yr=Rt,Br===1&&(ml.test(At)||ap.test(At))){for(yr=nd.test(At)&&Pt(Rt.parentNode)||Rt,(yr!==Rt||!Un.scope)&&((qn=Rt.getAttribute("id"))?qn=qn.replace(bl,Cs):Rt.setAttribute("id",qn=cn)),nr=tr(At),pn=nr.length;pn--;)nr[pn]=(qn?"#"+qn:":scope")+" "+Yt(nr[pn]);gr=nr.join(",")}try{return Di.apply(Xt,yr.querySelectorAll(gr)),Xt}catch(Nr){vo(At,!0)}finally{qn===cn&&Rt.removeAttribute("id")}}}return Qn(At.replace(na,"$1"),Rt,Xt,Cn)},T=function(){var At=[];function Rt(Xt,Cn){return At.push(Xt+" ")>Pn.cacheLength&&delete Rt[At.shift()],Rt[Xt+" "]=Cn}return Rt},I=function(At){return At[cn]=!0,At},z=function(At){var Rt=Me.createElement("fieldset");try{return!!At(Rt)}catch(Xt){return!1}finally{Rt.parentNode&&Rt.parentNode.removeChild(Rt),Rt=null}},U=function(At,Rt){for(var Xt=At.split("|"),Cn=Xt.length;Cn--;)Pn.attrHandle[Xt[Cn]]=Rt},re=function(At,Rt){var Xt=Rt&&At,Cn=Xt&&At.nodeType===1&&Rt.nodeType===1&&At.sourceIndex-Rt.sourceIndex;if(Cn)return Cn;if(Xt){for(;Xt=Xt.nextSibling;)if(Xt===Rt)return-1}return At?1:-1},he=function(At){return function(Rt){var Xt=Rt.nodeName.toLowerCase();return Xt==="input"&&Rt.type===At}},Se=function(At){return function(Rt){var Xt=Rt.nodeName.toLowerCase();return(Xt==="input"||Xt==="button")&&Rt.type===At}},We=function(At){return function(Rt){return"form"in Rt?Rt.parentNode&&Rt.disabled===!1?"label"in Rt?"label"in Rt.parentNode?Rt.parentNode.disabled===At:Rt.disabled===At:Rt.isDisabled===At||Rt.isDisabled!==!At&&Bk(Rt)===At:Rt.disabled===At:"label"in Rt?Rt.disabled===At:!1}},kt=function(At){return I(function(Rt){return Rt=+Rt,I(function(Xt,Cn){for(var fn,pn=At([],Xt.length,Rt),wn=pn.length;wn--;)Xt[fn=pn[wn]]&&(Xt[fn]=!(Cn[fn]=Xt[fn]))})})},Pt=function(At){return At&&_typeof(At.getElementsByTagName)<"u"&&At},Ht=function(){},Yt=function(At){for(var Rt=0,Xt=At.length,Cn="";Rt<Xt;Rt++)Cn+=At[Rt].value;return Cn},It=function(At,Rt,Xt){var Cn=Rt.dir,fn=Rt.next,pn=fn||Cn,wn=Xt&&pn==="parentNode",qn=ir++;return Rt.first?function(Bn,nr,gr){for(;Bn=Bn[Cn];)if(Bn.nodeType===1||wn)return At(Bn,nr,gr);return!1}:function(Bn,nr,gr){var yr,Br,Nr,kr=[rr,qn];if(gr){for(;Bn=Bn[Cn];)if((Bn.nodeType===1||wn)&&At(Bn,nr,gr))return!0}else for(;Bn=Bn[Cn];)if(Bn.nodeType===1||wn)if(Nr=Bn[cn]||(Bn[cn]={}),Br=Nr[Bn.uniqueID]||(Nr[Bn.uniqueID]={}),fn&&fn===Bn.nodeName.toLowerCase())Bn=Bn[Cn]||Bn;else{if((yr=Br[pn])&&yr[0]===rr&&yr[1]===qn)return kr[2]=yr[2];if(Br[pn]=kr,kr[2]=At(Bn,nr,gr))return!0}return!1}},nn=function(At){return At.length>1?function(Rt,Xt,Cn){for(var fn=At.length;fn--;)if(!At[fn](Rt,Xt,Cn))return!1;return!0}:At[0]},xn=function(At,Rt,Xt){for(var Cn=0,fn=Rt.length;Cn<fn;Cn++)S(At,Rt[Cn],Xt);return Xt},Mn=function(At,Rt,Xt,Cn,fn){for(var pn,wn=[],qn=0,Bn=At.length,nr=Rt!=null;qn<Bn;qn++)(pn=At[qn])&&(!Xt||Xt(pn,Cn,fn))&&(wn.push(pn),nr&&Rt.push(qn));return wn},Sn=function(At,Rt){var Xt=Rt.length>0,Cn=At.length>0,fn=function(wn,qn,Bn,nr,gr){var yr,Br,Nr,kr=0,ti="0",Hi=wn&&[],Ir=[],oa=wr,_l=wn||Cn&&Pn.find.TAG("*",gr),Ra=rr+=oa==null?1:Math.random()||.1,Ui=_l.length;for(gr&&(wr=qn==Me||qn||gr);ti!==Ui&&(yr=_l[ti])!=null;ti++){if(Cn&&yr){for(Br=0,!qn&&yr.ownerDocument!=Me&&(ur(yr),Bn=!Te);Nr=At[Br++];)if(Nr(yr,qn||Me,Bn)){nr.push(yr);break}gr&&(rr=Ra)}Xt&&((yr=!Nr&&yr)&&kr--,wn&&Hi.push(yr))}if(kr+=ti,Xt&&ti!==kr){for(Br=0;Nr=Rt[Br++];)Nr(Hi,Ir,qn,Bn);if(wn){if(kr>0)for(;ti--;)Hi[ti]||Ir[ti]||(Ir[ti]=oo.call(nr));Ir=Mn(Ir)}Di.apply(nr,Ir),gr&&!wn&&Ir.length>0&&kr+Rt.length>1&&S.uniqueSort(nr)}return gr&&(rr=Ra,wr=oa),Hi};return Xt?I(fn):fn},Yn,Un,Pn,Xn,Gn,tr,Zn,Qn,wr,pr,Jn,ur,Me,ye,Te,ft,Ot,Ct,sn,cn="sizzle"+1*new Date,jn=M.document,rr=0,ir=0,sr=T(),_s=T(),Lo=T(),vo=T(),xo=function(At,Rt){return At===Rt&&(Jn=!0),0},Ru={}.hasOwnProperty,Ki=[],oo=Ki.pop,Ro=Ki.push,Di=Ki.push,Du=Ki.slice,Qi=function(At,Rt){for(var Xt=0,Cn=At.length;Xt<Cn;Xt++)if(At[Xt]===Rt)return Xt;return-1},ta="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",$r="[\\x20\\t\\r\\n\\f]",Fi="(?:\\\\[\\da-fA-F]{1,6}"+$r+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ks="\\["+$r+"*("+Fi+")(?:"+$r+"*([*^$|!~]?=)"+$r+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Fi+"))|)"+$r+"*\\]",Ma=":("+Fi+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ks+")*)|.*)\\)|)",La=new RegExp($r+"+","g"),na=new RegExp("^"+$r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+$r+"+$","g"),ed=new RegExp("^"+$r+"*,"+$r+"*"),ap=new RegExp("^"+$r+"*([>+~]|"+$r+")"+$r+"*"),ml=new RegExp($r+"|>"),td=new RegExp(Ma),yl=new RegExp("^"+Fi+"$"),xs={ID:new RegExp("^#("+Fi+")"),CLASS:new RegExp("^\\.("+Fi+")"),TAG:new RegExp("^("+Fi+"|[*])"),ATTR:new RegExp("^"+ks),PSEUDO:new RegExp("^"+Ma),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+$r+"*(even|odd|(([+-]|)(\\d*)n|)"+$r+"*(?:([+-]|)"+$r+"*(\\d+)|))"+$r+"*\\)|)","i"),bool:new RegExp("^(?:"+ta+")$","i"),needsContext:new RegExp("^"+$r+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+$r+"*((?:-\\d)?\\d*)"+$r+"*\\)|)(?=[^-]|$)","i")},ra=/HTML$/i,Dk=/^(?:input|select|textarea|button)$/i,$i=/^h\d$/i,Ss=/^[^{]+\{\s*\[native \w/,$k=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,nd=/[+~]/,ao=new RegExp("\\\\[\\da-fA-F]{1,6}"+$r+"?|\\\\([^\\r\\n\\f])","g"),so=function(At,Rt){var Xt="0x"+At.slice(1)-65536;return Rt||(Xt<0?String.fromCharCode(Xt+65536):String.fromCharCode(Xt>>10|55296,Xt&1023|56320))},bl=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Cs=function(At,Rt){return Rt?At==="\0"?"\uFFFD":At.slice(0,-1)+"\\"+At.charCodeAt(At.length-1).toString(16)+" ":"\\"+At},wl=function(){ur()},Bk=It(function(rn){return rn.disabled===!0&&rn.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Di.apply(Ki=Du.call(jn.childNodes),jn.childNodes),Ki[jn.childNodes.length].nodeType}catch(rn){Di={apply:Ki.length?function(At,Rt){Ro.apply(At,Du.call(Rt))}:function(At,Rt){for(var Xt=At.length,Cn=0;At[Xt++]=Rt[Cn++];);At.length=Xt-1}}}Un=S.support={},Gn=S.isXML=function(At){var Rt=At&&At.namespaceURI,Xt=At&&(At.ownerDocument||At).documentElement;return!ra.test(Rt||Xt&&Xt.nodeName||"HTML")},ur=S.setDocument=function(At){var Rt,Xt,Cn=At?At.ownerDocument||At:jn;return Cn==Me||Cn.nodeType!==9||!Cn.documentElement||(Me=Cn,ye=Me.documentElement,Te=!Gn(Me),jn!=Me&&(Xt=Me.defaultView)&&Xt.top!==Xt&&(Xt.addEventListener?Xt.addEventListener("unload",wl,!1):Xt.attachEvent&&Xt.attachEvent("onunload",wl)),Un.scope=z(function(fn){return ye.appendChild(fn).appendChild(Me.createElement("div")),_typeof(fn.querySelectorAll)<"u"&&!fn.querySelectorAll(":scope fieldset div").length}),Un.attributes=z(function(fn){return fn.className="i",!fn.getAttribute("className")}),Un.getElementsByTagName=z(function(fn){return fn.appendChild(Me.createComment("")),!fn.getElementsByTagName("*").length}),Un.getElementsByClassName=Ss.test(Me.getElementsByClassName),Un.getById=z(function(fn){return ye.appendChild(fn).id=cn,!Me.getElementsByName||!Me.getElementsByName(cn).length}),Un.getById?(Pn.filter.ID=function(fn){var pn=fn.replace(ao,so);return function(wn){return wn.getAttribute("id")===pn}},Pn.find.ID=function(fn,pn){if(_typeof(pn.getElementById)<"u"&&Te){var wn=pn.getElementById(fn);return wn?[wn]:[]}}):(Pn.filter.ID=function(fn){var pn=fn.replace(ao,so);return function(wn){var qn=_typeof(wn.getAttributeNode)<"u"&&wn.getAttributeNode("id");return qn&&qn.value===pn}},Pn.find.ID=function(fn,pn){if(_typeof(pn.getElementById)<"u"&&Te){var wn,qn,Bn,nr=pn.getElementById(fn);if(nr){if(wn=nr.getAttributeNode("id"),wn&&wn.value===fn)return[nr];for(Bn=pn.getElementsByName(fn),qn=0;nr=Bn[qn++];)if(wn=nr.getAttributeNode("id"),wn&&wn.value===fn)return[nr]}return[]}}),Pn.find.TAG=Un.getElementsByTagName?function(fn,pn){if(_typeof(pn.getElementsByTagName)<"u")return pn.getElementsByTagName(fn);if(Un.qsa)return pn.querySelectorAll(fn)}:function(fn,pn){var wn,qn=[],Bn=0,nr=pn.getElementsByTagName(fn);if(fn==="*"){for(;wn=nr[Bn++];)wn.nodeType===1&&qn.push(wn);return qn}return nr},Pn.find.CLASS=Un.getElementsByClassName&&function(fn,pn){if(_typeof(pn.getElementsByClassName)<"u"&&Te)return pn.getElementsByClassName(fn)},Ot=[],ft=[],(Un.qsa=Ss.test(Me.querySelectorAll))&&(z(function(fn){var pn;ye.appendChild(fn).innerHTML="<a id='"+cn+"'></a><select id='"+cn+"-\r\\' msallowcapture=''><option selected=''></option></select>",fn.querySelectorAll("[msallowcapture^='']").length&&ft.push("[*^$]="+$r+"*(?:''|\"\")"),fn.querySelectorAll("[selected]").length||ft.push("\\["+$r+"*(?:value|"+ta+")"),fn.querySelectorAll("[id~="+cn+"-]").length||ft.push("~="),pn=Me.createElement("input"),pn.setAttribute("name",""),fn.appendChild(pn),fn.querySelectorAll("[name='']").length||ft.push("\\["+$r+"*name"+$r+"*="+$r+"*(?:''|\"\")"),fn.querySelectorAll(":checked").length||ft.push(":checked"),fn.querySelectorAll("a#"+cn+"+*").length||ft.push(".#.+[+~]"),fn.querySelectorAll("\\\f"),ft.push("[\\r\\n\\f]")}),z(function(fn){fn.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var pn=Me.createElement("input");pn.setAttribute("type","hidden"),fn.appendChild(pn).setAttribute("name","D"),fn.querySelectorAll("[name=d]").length&&ft.push("name"+$r+"*[*^$|!~]?="),fn.querySelectorAll(":enabled").length!==2&&ft.push(":enabled",":disabled"),ye.appendChild(fn).disabled=!0,fn.querySelectorAll(":disabled").length!==2&&ft.push(":enabled",":disabled"),fn.querySelectorAll("*,:x"),ft.push(",.*:")})),(Un.matchesSelector=Ss.test(Ct=ye.matches||ye.webkitMatchesSelector||ye.mozMatchesSelector||ye.oMatchesSelector||ye.msMatchesSelector))&&z(function(fn){Un.disconnectedMatch=Ct.call(fn,"*"),Ct.call(fn,"[s!='']:x"),Ot.push("!=",Ma)}),ft=ft.length&&new RegExp(ft.join("|")),Ot=Ot.length&&new RegExp(Ot.join("|")),Rt=Ss.test(ye.compareDocumentPosition),sn=Rt||Ss.test(ye.contains)?function(pn,wn){var qn=pn.nodeType===9?pn.documentElement:pn,Bn=wn&&wn.parentNode;return pn===Bn||!!(Bn&&Bn.nodeType===1&&(qn.contains?qn.contains(Bn):pn.compareDocumentPosition&&pn.compareDocumentPosition(Bn)&16))}:function(fn,pn){if(pn){for(;pn=pn.parentNode;)if(pn===fn)return!0}return!1},xo=Rt?function(pn,wn){if(pn===wn)return Jn=!0,0;var qn=!pn.compareDocumentPosition-!wn.compareDocumentPosition;return qn||(qn=(pn.ownerDocument||pn)==(wn.ownerDocument||wn)?pn.compareDocumentPosition(wn):1,qn&1||!Un.sortDetached&&wn.compareDocumentPosition(pn)===qn?pn==Me||pn.ownerDocument==jn&&sn(jn,pn)?-1:wn==Me||wn.ownerDocument==jn&&sn(jn,wn)?1:pr?Qi(pr,pn)-Qi(pr,wn):0:qn&4?-1:1)}:function(fn,pn){if(fn===pn)return Jn=!0,0;var wn,qn=0,Bn=fn.parentNode,nr=pn.parentNode,gr=[fn],yr=[pn];if(!Bn||!nr)return fn==Me?-1:pn==Me?1:Bn?-1:nr?1:pr?Qi(pr,fn)-Qi(pr,pn):0;if(Bn===nr)return re(fn,pn);for(wn=fn;wn=wn.parentNode;)gr.unshift(wn);for(wn=pn;wn=wn.parentNode;)yr.unshift(wn);for(;gr[qn]===yr[qn];)qn++;return qn?re(gr[qn],yr[qn]):gr[qn]==jn?-1:yr[qn]==jn?1:0}),Me},S.matches=function(rn,At){return S(rn,null,null,At)},S.matchesSelector=function(rn,At){if(ur(rn),Un.matchesSelector&&Te&&!vo[At+" "]&&(!Ot||!Ot.test(At))&&(!ft||!ft.test(At)))try{var Rt=Ct.call(rn,At);if(Rt||Un.disconnectedMatch||rn.document&&rn.document.nodeType!==11)return Rt}catch(Xt){vo(At,!0)}return S(At,Me,null,[rn]).length>0},S.contains=function(rn,At){return(rn.ownerDocument||rn)!=Me&&ur(rn),sn(rn,At)},S.attr=function(rn,At){(rn.ownerDocument||rn)!=Me&&ur(rn);var Rt=Pn.attrHandle[At.toLowerCase()],Xt=Rt&&Ru.call(Pn.attrHandle,At.toLowerCase())?Rt(rn,At,!Te):void 0;return Xt!==void 0?Xt:Un.attributes||!Te?rn.getAttribute(At):(Xt=rn.getAttributeNode(At))&&Xt.specified?Xt.value:null},S.escape=function(rn){return(rn+"").replace(bl,Cs)},S.error=function(rn){throw new Error("Syntax error, unrecognized expression: "+rn)},S.uniqueSort=function(rn){var At,Rt=[],Xt=0,Cn=0;if(Jn=!Un.detectDuplicates,pr=!Un.sortStable&&rn.slice(0),rn.sort(xo),Jn){for(;At=rn[Cn++];)At===rn[Cn]&&(Xt=Rt.push(Cn));for(;Xt--;)rn.splice(Rt[Xt],1)}return pr=null,rn},Xn=S.getText=function(rn){var At,Rt="",Xt=0,Cn=rn.nodeType;if(Cn){if(Cn===1||Cn===9||Cn===11){if(typeof rn.textContent=="string")return rn.textContent;for(rn=rn.firstChild;rn;rn=rn.nextSibling)Rt+=Xn(rn)}else if(Cn===3||Cn===4)return rn.nodeValue}else for(;At=rn[Xt++];)Rt+=Xn(At);return Rt},Pn=S.selectors={cacheLength:50,createPseudo:I,match:xs,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(At){return At[1]=At[1].replace(ao,so),At[3]=(At[3]||At[4]||At[5]||"").replace(ao,so),At[2]==="~="&&(At[3]=" "+At[3]+" "),At.slice(0,4)},CHILD:function(At){return At[1]=At[1].toLowerCase(),At[1].slice(0,3)==="nth"?(At[3]||S.error(At[0]),At[4]=+(At[4]?At[5]+(At[6]||1):2*(At[3]==="even"||At[3]==="odd")),At[5]=+(At[7]+At[8]||At[3]==="odd")):At[3]&&S.error(At[0]),At},PSEUDO:function(At){var Rt,Xt=!At[6]&&At[2];return xs.CHILD.test(At[0])?null:(At[3]?At[2]=At[4]||At[5]||"":Xt&&td.test(Xt)&&(Rt=tr(Xt,!0))&&(Rt=Xt.indexOf(")",Xt.length-Rt)-Xt.length)&&(At[0]=At[0].slice(0,Rt),At[2]=Xt.slice(0,Rt)),At.slice(0,3))}},filter:{TAG:function(At){var Rt=At.replace(ao,so).toLowerCase();return At==="*"?function(){return!0}:function(Xt){return Xt.nodeName&&Xt.nodeName.toLowerCase()===Rt}},CLASS:function(At){var Rt=sr[At+" "];return Rt||(Rt=new RegExp("(^|"+$r+")"+At+"("+$r+"|$)"))&&sr(At,function(Xt){return Rt.test(typeof Xt.className=="string"&&Xt.className||_typeof(Xt.getAttribute)<"u"&&Xt.getAttribute("class")||"")})},ATTR:function(At,Rt,Xt){return function(Cn){var fn=S.attr(Cn,At);return fn==null?Rt==="!=":Rt?(fn+="",Rt==="="?fn===Xt:Rt==="!="?fn!==Xt:Rt==="^="?Xt&&fn.indexOf(Xt)===0:Rt==="*="?Xt&&fn.indexOf(Xt)>-1:Rt==="$="?Xt&&fn.slice(-Xt.length)===Xt:Rt==="~="?(" "+fn.replace(La," ")+" ").indexOf(Xt)>-1:Rt==="|="?fn===Xt||fn.slice(0,Xt.length+1)===Xt+"-":!1):!0}},CHILD:function(At,Rt,Xt,Cn,fn){var pn=At.slice(0,3)!=="nth",wn=At.slice(-4)!=="last",qn=Rt==="of-type";return Cn===1&&fn===0?function(Bn){return!!Bn.parentNode}:function(Bn,nr,gr){var yr,Br,Nr,kr,ti,Hi,Ir=pn!==wn?"nextSibling":"previousSibling",oa=Bn.parentNode,_l=qn&&Bn.nodeName.toLowerCase(),Ra=!gr&&!qn,Ui=!1;if(oa){if(pn){for(;Ir;){for(kr=Bn;kr=kr[Ir];)if(qn?kr.nodeName.toLowerCase()===_l:kr.nodeType===1)return!1;Hi=Ir=At==="only"&&!Hi&&"nextSibling"}return!0}if(Hi=[wn?oa.firstChild:oa.lastChild],wn&&Ra){for(kr=oa,Nr=kr[cn]||(kr[cn]={}),Br=Nr[kr.uniqueID]||(Nr[kr.uniqueID]={}),yr=Br[At]||[],ti=yr[0]===rr&&yr[1],Ui=ti&&yr[2],kr=ti&&oa.childNodes[ti];kr=++ti&&kr&&kr[Ir]||(Ui=ti=0)||Hi.pop();)if(kr.nodeType===1&&++Ui&&kr===Bn){Br[At]=[rr,ti,Ui];break}}else if(Ra&&(kr=Bn,Nr=kr[cn]||(kr[cn]={}),Br=Nr[kr.uniqueID]||(Nr[kr.uniqueID]={}),yr=Br[At]||[],ti=yr[0]===rr&&yr[1],Ui=ti),Ui===!1)for(;(kr=++ti&&kr&&kr[Ir]||(Ui=ti=0)||Hi.pop())&&!((qn?kr.nodeName.toLowerCase()===_l:kr.nodeType===1)&&++Ui&&(Ra&&(Nr=kr[cn]||(kr[cn]={}),Br=Nr[kr.uniqueID]||(Nr[kr.uniqueID]={}),Br[At]=[rr,Ui]),kr===Bn)););return Ui-=fn,Ui===Cn||Ui%Cn===0&&Ui/Cn>=0}}},PSEUDO:function(At,Rt){var Xt,Cn=Pn.pseudos[At]||Pn.setFilters[At.toLowerCase()]||S.error("unsupported pseudo: "+At);return Cn[cn]?Cn(Rt):Cn.length>1?(Xt=[At,At,"",Rt],Pn.setFilters.hasOwnProperty(At.toLowerCase())?I(function(fn,pn){for(var wn,qn=Cn(fn,Rt),Bn=qn.length;Bn--;)wn=Qi(fn,qn[Bn]),fn[wn]=!(pn[wn]=qn[Bn])}):function(fn){return Cn(fn,0,Xt)}):Cn}},pseudos:{not:I(function(rn){var At=[],Rt=[],Xt=Zn(rn.replace(na,"$1"));return Xt[cn]?I(function(Cn,fn,pn,wn){for(var qn,Bn=Xt(Cn,null,wn,[]),nr=Cn.length;nr--;)(qn=Bn[nr])&&(Cn[nr]=!(fn[nr]=qn))}):function(Cn,fn,pn){return At[0]=Cn,Xt(At,null,pn,Rt),At[0]=null,!Rt.pop()}}),has:I(function(rn){return function(At){return S(rn,At).length>0}}),contains:I(function(rn){return rn=rn.replace(ao,so),function(At){return(At.textContent||Xn(At)).indexOf(rn)>-1}}),lang:I(function(rn){return yl.test(rn||"")||S.error("unsupported lang: "+rn),rn=rn.replace(ao,so).toLowerCase(),function(At){var Rt;do if(Rt=Te?At.lang:At.getAttribute("xml:lang")||At.getAttribute("lang"))return Rt=Rt.toLowerCase(),Rt===rn||Rt.indexOf(rn+"-")===0;while((At=At.parentNode)&&At.nodeType===1);return!1}}),target:function(At){var Rt=M.location&&M.location.hash;return Rt&&Rt.slice(1)===At.id},root:function(At){return At===ye},focus:function(At){return At===Me.activeElement&&(!Me.hasFocus||Me.hasFocus())&&!!(At.type||At.href||~At.tabIndex)},enabled:We(!1),disabled:We(!0),checked:function(At){var Rt=At.nodeName.toLowerCase();return Rt==="input"&&!!At.checked||Rt==="option"&&!!At.selected},selected:function(At){return At.parentNode&&At.parentNode.selectedIndex,At.selected===!0},empty:function(At){for(At=At.firstChild;At;At=At.nextSibling)if(At.nodeType<6)return!1;return!0},parent:function(At){return!Pn.pseudos.empty(At)},header:function(At){return $i.test(At.nodeName)},input:function(At){return Dk.test(At.nodeName)},button:function(At){var Rt=At.nodeName.toLowerCase();return Rt==="input"&&At.type==="button"||Rt==="button"},text:function(At){var Rt;return At.nodeName.toLowerCase()==="input"&&At.type==="text"&&((Rt=At.getAttribute("type"))==null||Rt.toLowerCase()==="text")},first:kt(function(){return[0]}),last:kt(function(rn,At){return[At-1]}),eq:kt(function(rn,At,Rt){return[Rt<0?Rt+At:Rt]}),even:kt(function(rn,At){for(var Rt=0;Rt<At;Rt+=2)rn.push(Rt);return rn}),odd:kt(function(rn,At){for(var Rt=1;Rt<At;Rt+=2)rn.push(Rt);return rn}),lt:kt(function(rn,At,Rt){for(var Xt=Rt<0?Rt+At:Rt>At?At:Rt;--Xt>=0;)rn.push(Xt);return rn}),gt:kt(function(rn,At,Rt){for(var Xt=Rt<0?Rt+At:Rt;++Xt<At;)rn.push(Xt);return rn})}},Pn.pseudos.nth=Pn.pseudos.eq;for(Yn in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Pn.pseudos[Yn]=he(Yn);for(Yn in{submit:!0,reset:!0})Pn.pseudos[Yn]=Se(Yn);Ht.prototype=Pn.filters=Pn.pseudos,Pn.setFilters=new Ht,tr=S.tokenize=function(At,Rt){var Xt,Cn,fn,pn,wn,qn,Bn,nr=_s[At+" "];if(nr)return Rt?0:nr.slice(0);for(wn=At,qn=[],Bn=Pn.preFilter;wn;){(!Xt||(Cn=ed.exec(wn)))&&(Cn&&(wn=wn.slice(Cn[0].length)||wn),qn.push(fn=[])),Xt=!1,(Cn=ap.exec(wn))&&(Xt=Cn.shift(),fn.push({value:Xt,type:Cn[0].replace(na," ")}),wn=wn.slice(Xt.length));for(pn in Pn.filter)(Cn=xs[pn].exec(wn))&&(!Bn[pn]||(Cn=Bn[pn](Cn)))&&(Xt=Cn.shift(),fn.push({value:Xt,type:pn,matches:Cn}),wn=wn.slice(Xt.length));if(!Xt)break}return Rt?wn.length:wn?S.error(At):_s(At,qn).slice(0)};function rd(rn,At,Rt,Xt,Cn,fn){return Xt&&!Xt[cn]&&(Xt=rd(Xt)),Cn&&!Cn[cn]&&(Cn=rd(Cn,fn)),I(function(pn,wn,qn,Bn){var nr,gr,yr,Br=[],Nr=[],kr=wn.length,ti=pn||xn(At||"*",qn.nodeType?[qn]:qn,[]),Hi=rn&&(pn||!At)?Mn(ti,Br,rn,qn,Bn):ti,Ir=Rt?Cn||(pn?rn:kr||Xt)?[]:wn:Hi;if(Rt&&Rt(Hi,Ir,qn,Bn),Xt)for(nr=Mn(Ir,Nr),Xt(nr,[],qn,Bn),gr=nr.length;gr--;)(yr=nr[gr])&&(Ir[Nr[gr]]=!(Hi[Nr[gr]]=yr));if(pn){if(Cn||rn){if(Cn){for(nr=[],gr=Ir.length;gr--;)(yr=Ir[gr])&&nr.push(Hi[gr]=yr);Cn(null,Ir=[],nr,Bn)}for(gr=Ir.length;gr--;)(yr=Ir[gr])&&(nr=Cn?Qi(pn,yr):Br[gr])>-1&&(pn[nr]=!(wn[nr]=yr))}}else Ir=Mn(Ir===wn?Ir.splice(kr,Ir.length):Ir),Cn?Cn(null,wn,Ir,Bn):Di.apply(wn,Ir)})}function ia(rn){for(var At,Rt,Xt,Cn=rn.length,fn=Pn.relative[rn[0].type],pn=fn||Pn.relative[" "],wn=fn?1:0,qn=It(function(gr){return gr===At},pn,!0),Bn=It(function(gr){return Qi(At,gr)>-1},pn,!0),nr=[function(gr,yr,Br){var Nr=!fn&&(Br||yr!==wr)||((At=yr).nodeType?qn(gr,yr,Br):Bn(gr,yr,Br));return At=null,Nr}];wn<Cn;wn++)if(Rt=Pn.relative[rn[wn].type])nr=[It(nn(nr),Rt)];else{if(Rt=Pn.filter[rn[wn].type].apply(null,rn[wn].matches),Rt[cn]){for(Xt=++wn;Xt<Cn&&!Pn.relative[rn[Xt].type];Xt++);return rd(wn>1&&nn(nr),wn>1&&Yt(rn.slice(0,wn-1).concat({value:rn[wn-2].type===" "?"*":""})).replace(na,"$1"),Rt,wn<Xt&&ia(rn.slice(wn,Xt)),Xt<Cn&&ia(rn=rn.slice(Xt)),Xt<Cn&&Yt(rn))}nr.push(Rt)}return nn(nr)}return Zn=S.compile=function(At,Rt){var Xt,Cn=[],fn=[],pn=Lo[At+" "];if(!pn){for(Rt||(Rt=tr(At)),Xt=Rt.length;Xt--;)pn=ia(Rt[Xt]),pn[cn]?Cn.push(pn):fn.push(pn);pn=Lo(At,Sn(fn,Cn)),pn.selector=At}return pn},Qn=S.select=function(At,Rt,Xt,Cn){var fn,pn,wn,qn,Bn,nr=typeof At=="function"&&At,gr=!Cn&&tr(At=nr.selector||At);if(Xt=Xt||[],gr.length===1){if(pn=gr[0]=gr[0].slice(0),pn.length>2&&(wn=pn[0]).type==="ID"&&Rt.nodeType===9&&Te&&Pn.relative[pn[1].type]){if(Rt=(Pn.find.ID(wn.matches[0].replace(ao,so),Rt)||[])[0],Rt)nr&&(Rt=Rt.parentNode);else return Xt;At=At.slice(pn.shift().value.length)}for(fn=xs.needsContext.test(At)?0:pn.length;fn--&&(wn=pn[fn],!Pn.relative[qn=wn.type]);)if((Bn=Pn.find[qn])&&(Cn=Bn(wn.matches[0].replace(ao,so),nd.test(pn[0].type)&&Pt(Rt.parentNode)||Rt))){if(pn.splice(fn,1),At=Cn.length&&Yt(pn),!At)return Di.apply(Xt,Cn),Xt;break}}return(nr||Zn(At,gr))(Cn,Rt,!Te,Xt,!Rt||nd.test(At)&&Pt(Rt.parentNode)||Rt),Xt},Un.sortStable=cn.split("").sort(xo).join("")===cn,Un.detectDuplicates=!!Jn,ur(),Un.sortDetached=z(function(rn){return rn.compareDocumentPosition(Me.createElement("fieldset"))&1}),z(function(rn){return rn.innerHTML="<a href='#'></a>",rn.firstChild.getAttribute("href")==="#"})||U("type|href|height|width",function(rn,At,Rt){if(!Rt)return rn.getAttribute(At,At.toLowerCase()==="type"?1:2)}),(!Un.attributes||!z(function(rn){return rn.innerHTML="<input/>",rn.firstChild.setAttribute("value",""),rn.firstChild.getAttribute("value")===""}))&&U("value",function(rn,At,Rt){if(!Rt&&rn.nodeName.toLowerCase()==="input")return rn.defaultValue}),z(function(rn){return rn.getAttribute("disabled")==null})||U(ta,function(rn,At,Rt){var Xt;if(!Rt)return rn[At]===!0?At.toLowerCase():(Xt=rn.getAttributeNode(At))&&Xt.specified?Xt.value:null}),S}(n);N.find=qe,N.expr=qe.selectors,N.expr[":"]=N.expr.pseudos,N.uniqueSort=N.unique=qe.uniqueSort,N.text=qe.getText,N.isXMLDoc=qe.isXML,N.contains=qe.contains,N.escapeSelector=qe.escape;var Ie=function(S,T,I){for(var z=[],U=I!==void 0;(S=S[T])&&S.nodeType!==9;)if(S.nodeType===1){if(U&&N(S).is(I))break;z.push(S)}return z},nt=function(S,T){for(var I=[];S;S=S.nextSibling)S.nodeType===1&&S!==T&&I.push(S);return I},R=N.expr.match.needsContext,le=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;N.filter=function(M,S,T){var I=S[0];return T&&(M=":not("+M+")"),S.length===1&&I.nodeType===1?N.find.matchesSelector(I,M)?[I]:[]:N.find.matches(M,N.grep(S,function(z){return z.nodeType===1}))},N.fn.extend({find:function(S){var T,I,z=this.length,U=this;if(typeof S!="string")return this.pushStack(N(S).filter(function(){for(T=0;T<z;T++)if(N.contains(U[T],this))return!0}));for(I=this.pushStack([]),T=0;T<z;T++)N.find(S,U[T],I);return z>1?N.uniqueSort(I):I},filter:function(S){return this.pushStack(c(this,S||[],!1))},not:function(S){return this.pushStack(c(this,S||[],!0))},is:function(S){return!!c(this,typeof S=="string"&&R.test(S)?N(S):S||[],!1).length}});var ue,ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,de=N.fn.init=function(S,T,I){var z,U;if(!S)return this;if(I=I||ue,typeof S=="string")if(S[0]==="<"&&S[S.length-1]===">"&&S.length>=3?z=[null,S,null]:z=ve.exec(S),z&&(z[1]||!T))if(z[1]){if(T=_instanceof(T,N)?T[0]:T,N.merge(this,N.parseHTML(z[1],T&&T.nodeType?T.ownerDocument||T:xt,!0)),le.test(z[1])&&N.isPlainObject(T))for(z in T)wt(this[z])?this[z](T[z]):this.attr(z,T[z]);return this}else return U=xt.getElementById(z[2]),U&&(this[0]=U,this.length=1),this;else return!T||T.jquery?(T||I).find(S):this.constructor(T).find(S);else{if(S.nodeType)return this[0]=S,this.length=1,this;if(wt(S))return I.ready!==void 0?I.ready(S):S(N)}return N.makeArray(S,this)};de.prototype=N.fn,ue=N(xt);var K=/^(?:parents|prev(?:Until|All))/,ge={children:!0,contents:!0,next:!0,prev:!0};N.fn.extend({has:function(S){var T=N(S,this),I=T.length;return this.filter(function(){for(var z=0;z<I;z++)if(N.contains(this,T[z]))return!0})},closest:function(S,T){var I,z=0,U=this.length,re=[],he=typeof S!="string"&&N(S);if(!R.test(S)){for(;z<U;z++)for(I=this[z];I&&I!==T;I=I.parentNode)if(I.nodeType<11&&(he?he.index(I)>-1:I.nodeType===1&&N.find.matchesSelector(I,S))){re.push(I);break}}return this.pushStack(re.length>1?N.uniqueSort(re):re)},index:function(S){return S?typeof S=="string"?lt.call(N(S),this[0]):lt.call(this,S.jquery?S[0]:S):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(S,T){return this.pushStack(N.uniqueSort(N.merge(this.get(),N(S,T))))},addBack:function(S){return this.add(S==null?this.prevObject:this.prevObject.filter(S))}}),N.each({parent:function(S){var T=S.parentNode;return T&&T.nodeType!==11?T:null},parents:function(S){return Ie(S,"parentNode")},parentsUntil:function(S,T,I){return Ie(S,"parentNode",I)},next:function(S){return d(S,"nextSibling")},prev:function(S){return d(S,"previousSibling")},nextAll:function(S){return Ie(S,"nextSibling")},prevAll:function(S){return Ie(S,"previousSibling")},nextUntil:function(S,T,I){return Ie(S,"nextSibling",I)},prevUntil:function(S,T,I){return Ie(S,"previousSibling",I)},siblings:function(S){return nt((S.parentNode||{}).firstChild,S)},children:function(S){return nt(S.firstChild)},contents:function(S){return S.contentDocument!=null&&Ke(S.contentDocument)?S.contentDocument:(r(S,"template")&&(S=S.content||S),N.merge([],S.childNodes))}},function(M,S){N.fn[M]=function(T,I){var z=N.map(this,S,T);return M.slice(-5)!=="Until"&&(I=T),I&&typeof I=="string"&&(z=N.filter(I,z)),this.length>1&&(ge[M]||N.uniqueSort(z),K.test(M)&&z.reverse()),this.pushStack(z)}});var Ee=/[^\x20\t\r\n\f]+/g;N.Callbacks=function(M){M=typeof M=="string"?h(M):N.extend({},M);var S,T,I,z,U=[],re=[],he=-1,Se=function(){for(z=z||M.once,I=S=!0;re.length;he=-1)for(T=re.shift();++he<U.length;)U[he].apply(T[0],T[1])===!1&&M.stopOnFalse&&(he=U.length,T=!1);M.memory||(T=!1),S=!1,z&&(T?U=[]:U="")},We={add:function(){return U&&(T&&!S&&(he=U.length-1,re.push(T)),function Pt(Ht){N.each(Ht,function(Yt,It){wt(It)?(!M.unique||!We.has(It))&&U.push(It):It&&It.length&&a(It)!=="string"&&Pt(It)})}(arguments),T&&!S&&Se()),this},remove:function(){return N.each(arguments,function(Pt,Ht){for(var Yt;(Yt=N.inArray(Ht,U,Yt))>-1;)U.splice(Yt,1),Yt<=he&&he--}),this},has:function(Pt){return Pt?N.inArray(Pt,U)>-1:U.length>0},empty:function(){return U&&(U=[]),this},disable:function(){return z=re=[],U=T="",this},disabled:function(){return!U},lock:function(){return z=re=[],!T&&!S&&(U=T=""),this},locked:function(){return!!z},fireWith:function(Pt,Ht){return z||(Ht=Ht||[],Ht=[Pt,Ht.slice?Ht.slice():Ht],re.push(Ht),S||Se()),this},fire:function(){return We.fireWith(this,arguments),this},fired:function(){return!!I}};return We},N.extend({Deferred:function(S){var T=[["notify","progress",N.Callbacks("memory"),N.Callbacks("memory"),2],["resolve","done",N.Callbacks("once memory"),N.Callbacks("once memory"),0,"resolved"],["reject","fail",N.Callbacks("once memory"),N.Callbacks("once memory"),1,"rejected"]],I="pending",z={state:function(){return I},always:function(){return U.done(arguments).fail(arguments),this},catch:function(he){return z.then(null,he)},pipe:function(){var he=arguments;return N.Deferred(function(Se){N.each(T,function(We,kt){var Pt=wt(he[kt[4]])&&he[kt[4]];U[kt[1]](function(){var Ht=Pt&&Pt.apply(this,arguments);Ht&&wt(Ht.promise)?Ht.promise().progress(Se.notify).done(Se.resolve).fail(Se.reject):Se[kt[0]+"With"](this,Pt?[Ht]:arguments)})}),he=null}).promise()},then:function(he,Se,We){var kt=0;function Pt(Ht,Yt,It,nn){return function(){var xn=this,Mn=arguments,Sn=function(){var Pn,Xn;if(!(Ht<kt)){if(Pn=It.apply(xn,Mn),Pn===Yt.promise())throw new TypeError("Thenable self-resolution");Xn=Pn&&(typeof Pn=="object"||typeof Pn=="function")&&Pn.then,wt(Xn)?nn?Xn.call(Pn,Pt(kt,Yt,f,nn),Pt(kt,Yt,v,nn)):(kt++,Xn.call(Pn,Pt(kt,Yt,f,nn),Pt(kt,Yt,v,nn),Pt(kt,Yt,f,Yt.notifyWith))):(It!==f&&(xn=void 0,Mn=[Pn]),(nn||Yt.resolveWith)(xn,Mn))}},Yn=nn?Sn:function(){try{Sn()}catch(Un){N.Deferred.exceptionHook&&N.Deferred.exceptionHook(Un,Yn.stackTrace),Ht+1>=kt&&(It!==v&&(xn=void 0,Mn=[Un]),Yt.rejectWith(xn,Mn))}};Ht?Yn():(N.Deferred.getStackHook&&(Yn.stackTrace=N.Deferred.getStackHook()),n.setTimeout(Yn))}}return N.Deferred(function(Ht){T[0][3].add(Pt(0,Ht,wt(We)?We:f,Ht.notifyWith)),T[1][3].add(Pt(0,Ht,wt(he)?he:f)),T[2][3].add(Pt(0,Ht,wt(Se)?Se:v))}).promise()},promise:function(he){return he!=null?N.extend(he,z):z}},U={};return N.each(T,function(re,he){var Se=he[2],We=he[5];z[he[1]]=Se.add,We&&Se.add(function(){I=We},T[3-re][2].disable,T[3-re][3].disable,T[0][2].lock,T[0][3].lock),Se.add(he[3].fire),U[he[0]]=function(){return U[he[0]+"With"](this===U?void 0:this,arguments),this},U[he[0]+"With"]=Se.fireWith}),z.promise(U),S&&S.call(U,U),U},when:function(S){var T=arguments.length,I=T,z=Array(I),U=Pe.call(arguments),re=N.Deferred(),he=function(We){return function(kt){z[We]=this,U[We]=arguments.length>1?Pe.call(arguments):kt,--T||re.resolveWith(z,U)}};if(T<=1&&(_(S,re.done(he(I)).resolve,re.reject,!T),re.state()==="pending"||wt(U[I]&&U[I].then)))return re.then();for(;I--;)_(U[I],he(I),re.reject);return re.promise()}});var Ce=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;N.Deferred.exceptionHook=function(M,S){n.console&&n.console.warn&&M&&Ce.test(M.name)&&n.console.warn("jQuery.Deferred exception: "+M.message,M.stack,S)},N.readyException=function(M){n.setTimeout(function(){throw M})};var Ye=N.Deferred();N.fn.ready=function(M){return Ye.then(M).catch(function(S){N.readyException(S)}),this},N.extend({isReady:!1,readyWait:1,ready:function(S){(S===!0?--N.readyWait:N.isReady)||(N.isReady=!0,!(S!==!0&&--N.readyWait>0)&&Ye.resolveWith(xt,[N]))}}),N.ready.then=Ye.then;function Be(){xt.removeEventListener("DOMContentLoaded",Be),n.removeEventListener("load",Be),N.ready()}xt.readyState==="complete"||xt.readyState!=="loading"&&!xt.documentElement.doScroll?n.setTimeout(N.ready):(xt.addEventListener("DOMContentLoaded",Be),n.addEventListener("load",Be));var Je=function(M,S,T,I,z,U,re){var he=0,Se=M.length,We=T==null;if(a(T)==="object"){z=!0;for(he in T)Je(M,S,he,T[he],!0,U,re)}else if(I!==void 0&&(z=!0,wt(I)||(re=!0),We&&(re?(S.call(M,I),S=null):(We=S,S=function(Pt,Ht,Yt){return We.call(N(Pt),Yt)})),S))for(;he<Se;he++)S(M[he],T,re?I:I.call(M[he],he,S(M[he],T)));return z?M:We?S.call(M):Se?S(M[0],T):U},Tt=/^-ms-/,jt=/-([a-z])/g,Et=function(S){return S.nodeType===1||S.nodeType===9||!+S.nodeType};function Zt(){this.expando=N.expando+Zt.uid++}Zt.uid=1,Zt.prototype={cache:function(S){var T=S[this.expando];return T||(T={},Et(S)&&(S.nodeType?S[this.expando]=T:Object.defineProperty(S,this.expando,{value:T,configurable:!0}))),T},set:function(S,T,I){var z,U=this.cache(S);if(typeof T=="string")U[w(T)]=I;else for(z in T)U[w(z)]=T[z];return U},get:function(S,T){return T===void 0?this.cache(S):S[this.expando]&&S[this.expando][w(T)]},access:function(S,T,I){return T===void 0||T&&typeof T=="string"&&I===void 0?this.get(S,T):(this.set(S,T,I),I!==void 0?I:T)},remove:function(S,T){var I,z=S[this.expando];if(z!==void 0){if(T!==void 0)for(Array.isArray(T)?T=T.map(w):(T=w(T),T=T in z?[T]:T.match(Ee)||[]),I=T.length;I--;)delete z[T[I]];(T===void 0||N.isEmptyObject(z))&&(S.nodeType?S[this.expando]=void 0:delete S[this.expando])}},hasData:function(S){var T=S[this.expando];return T!==void 0&&!N.isEmptyObject(T)}};var Nt=new Zt,Ft=new Zt,Dt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Jt=/[A-Z]/g;N.extend({hasData:function(S){return Ft.hasData(S)||Nt.hasData(S)},data:function(S,T,I){return Ft.access(S,T,I)},removeData:function(S,T){Ft.remove(S,T)},_data:function(S,T,I){return Nt.access(S,T,I)},_removeData:function(S,T){Nt.remove(S,T)}}),N.fn.extend({data:function(S,T){var I,z,U,re=this[0],he=re&&re.attributes;if(S===void 0){if(this.length&&(U=Ft.get(re),re.nodeType===1&&!Nt.get(re,"hasDataAttrs"))){for(I=he.length;I--;)he[I]&&(z=he[I].name,z.indexOf("data-")===0&&(z=w(z.slice(5)),E(re,z,U[z])));Nt.set(re,"hasDataAttrs",!0)}return U}return typeof S=="object"?this.each(function(){Ft.set(this,S)}):Je(this,function(Se){var We;if(re&&Se===void 0)return We=Ft.get(re,S),We!==void 0||(We=E(re,S),We!==void 0)?We:void 0;this.each(function(){Ft.set(this,S,Se)})},null,T,arguments.length>1,null,!0)},removeData:function(S){return this.each(function(){Ft.remove(this,S)})}}),N.extend({queue:function(S,T,I){var z;if(S)return T=(T||"fx")+"queue",z=Nt.get(S,T),I&&(!z||Array.isArray(I)?z=Nt.access(S,T,N.makeArray(I)):z.push(I)),z||[]},dequeue:function(S,T){T=T||"fx";var I=N.queue(S,T),z=I.length,U=I.shift(),re=N._queueHooks(S,T),he=function(){N.dequeue(S,T)};U==="inprogress"&&(U=I.shift(),z--),U&&(T==="fx"&&I.unshift("inprogress"),delete re.stop,U.call(S,he,re)),!z&&re&&re.empty.fire()},_queueHooks:function(S,T){var I=T+"queueHooks";return Nt.get(S,I)||Nt.access(S,I,{empty:N.Callbacks("once memory").add(function(){Nt.remove(S,[T+"queue",I])})})}}),N.fn.extend({queue:function(S,T){var I=2;return typeof S!="string"&&(T=S,S="fx",I--),arguments.length<I?N.queue(this[0],S):T===void 0?this:this.each(function(){var z=N.queue(this,S,T);N._queueHooks(this,S),S==="fx"&&z[0]!=="inprogress"&&N.dequeue(this,S)})},dequeue:function(S){return this.each(function(){N.dequeue(this,S)})},clearQueue:function(S){return this.queue(S||"fx",[])},promise:function(S,T){var I,z=1,U=N.Deferred(),re=this,he=this.length,Se=function(){--z||U.resolveWith(re,[re])};for(typeof S!="string"&&(T=S,S=void 0),S=S||"fx";he--;)I=Nt.get(re[he],S+"queueHooks"),I&&I.empty&&(z++,I.empty.add(Se));return Se(),U.promise(T)}});var Qt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,gn=new RegExp("^(?:([+-])=|)("+Qt+")([a-z%]*)$","i"),Bt=["Top","Right","Bottom","Left"],an=xt.documentElement,tn=function(S){return N.contains(S.ownerDocument,S)},_n={composed:!0};an.getRootNode&&(tn=function(S){return N.contains(S.ownerDocument,S)||S.getRootNode(_n)===S.ownerDocument});var Wt=function(S,T){return S=T||S,S.style.display==="none"||S.style.display===""&&tn(S)&&N.css(S,"display")==="none"},Re={};N.fn.extend({show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(S){return typeof S=="boolean"?S?this.show():this.hide():this.each(function(){Wt(this)?N(this).show():N(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,xe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,$e=/^$|^module$|\/(?:java|ecma)script/i;(function(){var M=xt.createDocumentFragment(),S=M.appendChild(xt.createElement("div")),T=xt.createElement("input");T.setAttribute("type","radio"),T.setAttribute("checked","checked"),T.setAttribute("name","t"),S.appendChild(T),it.checkClone=S.cloneNode(!0).cloneNode(!0).lastChild.checked,S.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!S.cloneNode(!0).lastChild.defaultValue,S.innerHTML="<option></option>",it.option=!!S.lastChild})();var ot={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ot.tbody=ot.tfoot=ot.colgroup=ot.caption=ot.thead,ot.th=ot.td,it.option||(ot.optgroup=ot.option=[1,"<select multiple='multiple'>","</select>"]);var dt=/<|&#?\w+;/,zt=/^([^.]*)(?:\.(.+)|)/;function mn(M,S,T,I,z,U){var re,he;if(typeof S=="object"){typeof T!="string"&&(I=I||T,T=void 0);for(he in S)mn(M,he,T,I,S[he],U);return M}if(I==null&&z==null?(z=T,I=T=void 0):z==null&&(typeof T=="string"?(z=I,I=void 0):(z=I,I=T,T=void 0)),z===!1)z=x;else if(!z)return M;return U===1&&(re=z,z=function(We){return N().off(We),re.apply(this,arguments)},z.guid=re.guid||(re.guid=N.guid++)),M.each(function(){N.event.add(this,S,z,I,T)})}N.event={global:{},add:function(S,T,I,z,U){var re,he,Se,We,kt,Pt,Ht,Yt,It,nn,xn,Mn=Nt.get(S);if(Et(S))for(I.handler&&(re=I,I=re.handler,U=re.selector),U&&N.find.matchesSelector(an,U),I.guid||(I.guid=N.guid++),(We=Mn.events)||(We=Mn.events=Object.create(null)),(he=Mn.handle)||(he=Mn.handle=function(Yn){return(typeof N=="undefined"?"undefined":_typeof(N))<"u"&&N.event.triggered!==Yn.type?N.event.dispatch.apply(S,arguments):void 0}),T=(T||"").match(Ee)||[""],kt=T.length;kt--;)Se=zt.exec(T[kt])||[],It=xn=Se[1],nn=(Se[2]||"").split(".").sort(),It&&(Ht=N.event.special[It]||{},It=(U?Ht.delegateType:Ht.bindType)||It,Ht=N.event.special[It]||{},Pt=N.extend({type:It,origType:xn,data:z,handler:I,guid:I.guid,selector:U,needsContext:U&&N.expr.match.needsContext.test(U),namespace:nn.join(".")},re),(Yt=We[It])||(Yt=We[It]=[],Yt.delegateCount=0,(!Ht.setup||Ht.setup.call(S,z,nn,he)===!1)&&S.addEventListener&&S.addEventListener(It,he)),Ht.add&&(Ht.add.call(S,Pt),Pt.handler.guid||(Pt.handler.guid=I.guid)),U?Yt.splice(Yt.delegateCount++,0,Pt):Yt.push(Pt),N.event.global[It]=!0)},remove:function(S,T,I,z,U){var re,he,Se,We,kt,Pt,Ht,Yt,It,nn,xn,Mn=Nt.hasData(S)&&Nt.get(S);if(!(!Mn||!(We=Mn.events))){for(T=(T||"").match(Ee)||[""],kt=T.length;kt--;){if(Se=zt.exec(T[kt])||[],It=xn=Se[1],nn=(Se[2]||"").split(".").sort(),!It){for(It in We)N.event.remove(S,It+T[kt],I,z,!0);continue}for(Ht=N.event.special[It]||{},It=(z?Ht.delegateType:Ht.bindType)||It,Yt=We[It]||[],Se=Se[2]&&new RegExp("(^|\\.)"+nn.join("\\.(?:.*\\.|)")+"(\\.|$)"),he=re=Yt.length;re--;)Pt=Yt[re],(U||xn===Pt.origType)&&(!I||I.guid===Pt.guid)&&(!Se||Se.test(Pt.namespace))&&(!z||z===Pt.selector||z==="**"&&Pt.selector)&&(Yt.splice(re,1),Pt.selector&&Yt.delegateCount--,Ht.remove&&Ht.remove.call(S,Pt));he&&!Yt.length&&((!Ht.teardown||Ht.teardown.call(S,nn,Mn.handle)===!1)&&N.removeEvent(S,It,Mn.handle),delete We[It])}N.isEmptyObject(We)&&Nt.remove(S,"handle events")}},dispatch:function(S){var T,I,z,U,re,he,Se=new Array(arguments.length),We=N.event.fix(S),kt=(Nt.get(this,"events")||Object.create(null))[We.type]||[],Pt=N.event.special[We.type]||{};for(Se[0]=We,T=1;T<arguments.length;T++)Se[T]=arguments[T];if(We.delegateTarget=this,!(Pt.preDispatch&&Pt.preDispatch.call(this,We)===!1)){for(he=N.event.handlers.call(this,We,kt),T=0;(U=he[T++])&&!We.isPropagationStopped();)for(We.currentTarget=U.elem,I=0;(re=U.handlers[I++])&&!We.isImmediatePropagationStopped();)(!We.rnamespace||re.namespace===!1||We.rnamespace.test(re.namespace))&&(We.handleObj=re,We.data=re.data,z=((N.event.special[re.origType]||{}).handle||re.handler).apply(U.elem,Se),z!==void 0&&(We.result=z)===!1&&(We.preventDefault(),We.stopPropagation()));return Pt.postDispatch&&Pt.postDispatch.call(this,We),We.result}},handlers:function(S,T){var I,z,U,re,he,Se=[],We=T.delegateCount,kt=S.target;if(We&&kt.nodeType&&!(S.type==="click"&&S.button>=1)){for(;kt!==this;kt=kt.parentNode||this)if(kt.nodeType===1&&!(S.type==="click"&&kt.disabled===!0)){for(re=[],he={},I=0;I<We;I++)z=T[I],U=z.selector+" ",he[U]===void 0&&(he[U]=z.needsContext?N(U,this).index(kt)>-1:N.find(U,this,null,[kt]).length),he[U]&&re.push(z);re.length&&Se.push({elem:kt,handlers:re})}}return kt=this,We<T.length&&Se.push({elem:kt,handlers:T.slice(We)}),Se},addProp:function(S,T){Object.defineProperty(N.Event.prototype,S,{enumerable:!0,configurable:!0,get:wt(T)?function(){if(this.originalEvent)return T(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[S]},set:function(z){Object.defineProperty(this,S,{enumerable:!0,configurable:!0,writable:!0,value:z})}})},fix:function(S){return S[N.expando]?S:new N.Event(S)},special:{load:{noBubble:!0},click:{setup:function(S){var T=this||S;return pe.test(T.type)&&T.click&&r(T,"input")&&D(T,"click",k),!1},trigger:function(S){var T=this||S;return pe.test(T.type)&&T.click&&r(T,"input")&&D(T,"click"),!0},_default:function(S){var T=S.target;return pe.test(T.type)&&T.click&&r(T,"input")&&Nt.get(T,"click")||r(T,"a")}},beforeunload:{postDispatch:function(S){S.result!==void 0&&S.originalEvent&&(S.originalEvent.returnValue=S.result)}}}},N.removeEvent=function(M,S,T){M.removeEventListener&&M.removeEventListener(S,T)},N.Event=function(M,S){if(!_instanceof(this,N.Event))return new N.Event(M,S);M&&M.type?(this.originalEvent=M,this.type=M.type,this.isDefaultPrevented=M.defaultPrevented||M.defaultPrevented===void 0&&M.returnValue===!1?k:x,this.target=M.target&&M.target.nodeType===3?M.target.parentNode:M.target,this.currentTarget=M.currentTarget,this.relatedTarget=M.relatedTarget):this.type=M,S&&N.extend(this,S),this.timeStamp=M&&M.timeStamp||Date.now(),this[N.expando]=!0},N.Event.prototype={constructor:N.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var S=this.originalEvent;this.isDefaultPrevented=k,S&&!this.isSimulated&&S.preventDefault()},stopPropagation:function(){var S=this.originalEvent;this.isPropagationStopped=k,S&&!this.isSimulated&&S.stopPropagation()},stopImmediatePropagation:function(){var S=this.originalEvent;this.isImmediatePropagationStopped=k,S&&!this.isSimulated&&S.stopImmediatePropagation(),this.stopPropagation()}},N.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},N.event.addProp),N.each({focus:"focusin",blur:"focusout"},function(M,S){N.event.special[M]={setup:function(){return D(this,M,j),!1},trigger:function(){return D(this,M),!0},_default:function(I){return Nt.get(I.target,M)},delegateType:S}}),N.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(M,S){N.event.special[M]={delegateType:S,bindType:S,handle:function(I){var z,U=this,re=I.relatedTarget,he=I.handleObj;return(!re||re!==U&&!N.contains(U,re))&&(I.type=he.origType,z=he.handler.apply(this,arguments),I.type=S),z}}}),N.fn.extend({on:function(S,T,I,z){return mn(this,S,T,I,z)},one:function(S,T,I,z){return mn(this,S,T,I,z,1)},off:function(S,T,I){var z,U;if(S&&S.preventDefault&&S.handleObj)return z=S.handleObj,N(S.delegateTarget).off(z.namespace?z.origType+"."+z.namespace:z.origType,z.selector,z.handler),this;if(typeof S=="object"){for(U in S)this.off(U,T,S[U]);return this}return(T===!1||typeof T=="function")&&(I=T,T=void 0),I===!1&&(I=x),this.each(function(){N.event.remove(this,S,I,T)})}});var bn=/<script|<style|<link/i,qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ln=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Nn(M,S,T,I){S=at(S);var z,U,re,he,Se,We,kt=0,Pt=M.length,Ht=Pt-1,Yt=S[0],It=wt(Yt);if(It||Pt>1&&typeof Yt=="string"&&!it.checkClone&&qt.test(Yt))return M.each(function(nn){var xn=M.eq(nn);It&&(S[0]=Yt.call(this,nn,xn.html())),Nn(xn,S,T,I)});if(Pt&&(z=g(S,M[0].ownerDocument,!1,M,I),U=z.firstChild,z.childNodes.length===1&&(z=U),U||I)){for(re=N.map(u(z,"script"),X),he=re.length;kt<Pt;kt++)Se=z,kt!==Ht&&(Se=N.clone(Se,!0,!0),he&&N.merge(re,u(Se,"script"))),T.call(M[kt],Se,kt);if(he)for(We=re[re.length-1].ownerDocument,N.map(re,Q),kt=0;kt<he;kt++)Se=re[kt],$e.test(Se.type||"")&&!Nt.access(Se,"globalEval")&&N.contains(We,Se)&&(Se.src&&(Se.type||"").toLowerCase()!=="module"?N._evalUrl&&!Se.noModule&&N._evalUrl(Se.src,{nonce:Se.nonce||Se.getAttribute("nonce")},We):l(Se.textContent.replace(Ln,""),Se,We))}return M}N.extend({htmlPrefilter:function(S){return S},clone:function(S,T,I){var z,U,re,he,Se=S.cloneNode(!0),We=tn(S);if(!it.noCloneChecked&&(S.nodeType===1||S.nodeType===11)&&!N.isXMLDoc(S))for(he=u(Se),re=u(S),z=0,U=re.length;z<U;z++)ce(re[z],he[z]);if(T)if(I)for(re=re||u(S),he=he||u(Se),z=0,U=re.length;z<U;z++)H(re[z],he[z]);else H(S,Se);return he=u(Se,"script"),he.length>0&&p(he,!We&&u(S,"script")),Se},cleanData:function(S){for(var T,I,z,U=N.event.special,re=0;(I=S[re])!==void 0;re++)if(Et(I)){if(T=I[Nt.expando]){if(T.events)for(z in T.events)U[z]?N.event.remove(I,z):N.removeEvent(I,z,T.handle);I[Nt.expando]=void 0}I[Ft.expando]&&(I[Ft.expando]=void 0)}}}),N.fn.extend({detach:function(S){return ne(this,S,!0)},remove:function(S){return ne(this,S)},text:function(S){return Je(this,function(T){return T===void 0?N.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=T)})},null,S,arguments.length)},append:function(){return Nn(this,arguments,function(S){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var T=F(this,S);T.appendChild(S)}})},prepend:function(){return Nn(this,arguments,function(S){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var T=F(this,S);T.insertBefore(S,T.firstChild)}})},before:function(){return Nn(this,arguments,function(S){this.parentNode&&this.parentNode.insertBefore(S,this)})},after:function(){return Nn(this,arguments,function(S){this.parentNode&&this.parentNode.insertBefore(S,this.nextSibling)})},empty:function(){for(var S,T=0;(S=this[T])!=null;T++)S.nodeType===1&&(N.cleanData(u(S,!1)),S.textContent="");return this},clone:function(S,T){return S=S!=null?S:!1,T=T!=null?T:S,this.map(function(){return N.clone(this,S,T)})},html:function(S){return Je(this,function(T){var I=this[0]||{},z=0,U=this.length;if(T===void 0&&I.nodeType===1)return I.innerHTML;if(typeof T=="string"&&!bn.test(T)&&!ot[(xe.exec(T)||["",""])[1].toLowerCase()]){T=N.htmlPrefilter(T);try{for(;z<U;z++)I=this[z]||{},I.nodeType===1&&(N.cleanData(u(I,!1)),I.innerHTML=T);I=0}catch(re){}}I&&this.empty().append(T)},null,S,arguments.length)},replaceWith:function(){var S=[];return Nn(this,arguments,function(T){var I=this.parentNode;N.inArray(this,S)<0&&(N.cleanData(u(this)),I&&I.replaceChild(T,this))},S)}}),N.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(M,S){N.fn[M]=function(T){for(var I,z=[],U=N(T),re=U.length-1,he=0;he<=re;he++)I=he===re?this:this.clone(!0),N(U[he])[S](I),pt.apply(z,I.get());return this.pushStack(z)}});var ui=new RegExp("^("+Qt+")(?!px)[a-z%]+$","i"),Pr=/^--/,Li=function(S){var T=S.ownerDocument.defaultView;return(!T||!T.opener)&&(T=n),T.getComputedStyle(S)},Ri=function(S,T,I){var z,U,re={};for(U in T)re[U]=S.style[U],S.style[U]=T[U];z=I.call(S);for(U in T)S.style[U]=re[U];return z},ho=new RegExp(Bt.join("|"),"i"),Zr="[\\x20\\t\\r\\n\\f]",hi=new RegExp("^"+Zr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Zr+"+$","g");(function(){var M=function(){if(We){Se.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",We.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",an.appendChild(Se).appendChild(We);var Pt=n.getComputedStyle(We);T=Pt.top!=="1%",he=S(Pt.marginLeft)===12,We.style.right="60%",U=S(Pt.right)===36,I=S(Pt.width)===36,We.style.position="absolute",z=S(We.offsetWidth/3)===12,an.removeChild(Se),We=null}},S=function(Pt){return Math.round(parseFloat(Pt))},T,I,z,U,re,he,Se=xt.createElement("div"),We=xt.createElement("div");We.style&&(We.style.backgroundClip="content-box",We.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle=We.style.backgroundClip==="content-box",N.extend(it,{boxSizingReliable:function(){return M(),I},pixelBoxStyles:function(){return M(),U},pixelPosition:function(){return M(),T},reliableMarginLeft:function(){return M(),he},scrollboxSize:function(){return M(),z},reliableTrDimensions:function(){var Pt,Ht,Yt,It;return re==null&&(Pt=xt.createElement("table"),Ht=xt.createElement("tr"),Yt=xt.createElement("div"),Pt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ht.style.cssText="border:1px solid",Ht.style.height="1px",Yt.style.height="9px",Yt.style.display="block",an.appendChild(Pt).appendChild(Ht).appendChild(Yt),It=n.getComputedStyle(Ht),re=parseInt(It.height,10)+parseInt(It.borderTopWidth,10)+parseInt(It.borderBottomWidth,10)===Ht.offsetHeight,an.removeChild(Pt)),re}}))})();var qi=["Webkit","Moz","ms"],bi=xt.createElement("div").style,ci={},ei=/^(none|table(?!-c[ea]).+)/,gt={position:"absolute",visibility:"hidden",display:"block"},et={letterSpacing:"0",fontWeight:"400"};N.extend({cssHooks:{opacity:{get:function(S,T){if(T){var I=V(S,"opacity");return I===""?"1":I}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(S,T,I,z){if(!(!S||S.nodeType===3||S.nodeType===8||!S.style)){var U,re,he,Se=w(T),We=Pr.test(T),kt=S.style;if(We||(T=q(Se)),he=N.cssHooks[T]||N.cssHooks[Se],I!==void 0){if(re=typeof I=="undefined"?"undefined":_typeof(I),re==="string"&&(U=gn.exec(I))&&U[1]&&(I=O(S,T,U),re="number"),I==null||I!==I)return;re==="number"&&!We&&(I+=U&&U[3]||(N.cssNumber[Se]?"":"px")),!it.clearCloneStyle&&I===""&&T.indexOf("background")===0&&(kt[T]="inherit"),(!he||!("set"in he)||(I=he.set(S,I,z))!==void 0)&&(We?kt.setProperty(T,I):kt[T]=I)}else return he&&"get"in he&&(U=he.get(S,!1,z))!==void 0?U:kt[T]}},css:function(S,T,I,z){var U,re,he,Se=w(T),We=Pr.test(T);return We||(T=q(Se)),he=N.cssHooks[T]||N.cssHooks[Se],he&&"get"in he&&(U=he.get(S,!0,I)),U===void 0&&(U=V(S,T,z)),U==="normal"&&T in et&&(U=et[T]),I===""||I?(re=parseFloat(U),I===!0||isFinite(re)?re||0:U):U}}),N.each(["height","width"],function(M,S){N.cssHooks[S]={get:function(I,z,U){if(z)return ei.test(N.css(I,"display"))&&(!I.getClientRects().length||!I.getBoundingClientRect().width)?Ri(I,gt,function(){return ae(I,S,U)}):ae(I,S,U)},set:function(I,z,U){var re,he=Li(I),Se=!it.scrollboxSize()&&he.position==="absolute",We=Se||U,kt=We&&N.css(I,"boxSizing",!1,he)==="border-box",Pt=U?J(I,S,U,kt,he):0;return kt&&Se&&(Pt-=Math.ceil(I["offset"+S[0].toUpperCase()+S.slice(1)]-parseFloat(he[S])-J(I,S,"border",!1,he)-.5)),Pt&&(re=gn.exec(z))&&(re[3]||"px")!=="px"&&(I.style[S]=z,z=N.css(I,S)),G(I,z,Pt)}}}),N.cssHooks.marginLeft=Y(it.reliableMarginLeft,function(M,S){if(S)return(parseFloat(V(M,"marginLeft"))||M.getBoundingClientRect().left-Ri(M,{marginLeft:0},function(){return M.getBoundingClientRect().left}))+"px"}),N.each({margin:"",padding:"",border:"Width"},function(M,S){N.cssHooks[M+S]={expand:function(I){for(var z=0,U={},re=typeof I=="string"?I.split(" "):[I];z<4;z++)U[M+Bt[z]+S]=re[z]||re[z-2]||re[0];return U}},M!=="margin"&&(N.cssHooks[M+S].set=G)}),N.fn.extend({css:function(S,T){return Je(this,function(I,z,U){var re,he,Se={},We=0;if(Array.isArray(z)){for(re=Li(I),he=z.length;We<he;We++)Se[z[We]]=N.css(I,z[We],!1,re);return Se}return U!==void 0?N.style(I,z,U):N.css(I,z)},S,T,arguments.length>1)}});function yt(M,S,T,I,z){return new yt.prototype.init(M,S,T,I,z)}N.Tween=yt,yt.prototype={constructor:yt,init:function(S,T,I,z,U,re){this.elem=S,this.prop=I,this.easing=U||N.easing._default,this.options=T,this.start=this.now=this.cur(),this.end=z,this.unit=re||(N.cssNumber[I]?"":"px")},cur:function(){var S=yt.propHooks[this.prop];return S&&S.get?S.get(this):yt.propHooks._default.get(this)},run:function(S){var T,I=yt.propHooks[this.prop];return this.options.duration?this.pos=T=N.easing[this.easing](S,this.options.duration*S,0,1,this.options.duration):this.pos=T=S,this.now=(this.end-this.start)*T+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),I&&I.set?I.set(this):yt.propHooks._default.set(this),this}},yt.prototype.init.prototype=yt.prototype,yt.propHooks={_default:{get:function(S){var T;return S.elem.nodeType!==1||S.elem[S.prop]!=null&&S.elem.style[S.prop]==null?S.elem[S.prop]:(T=N.css(S.elem,S.prop,""),!T||T==="auto"?0:T)},set:function(S){N.fx.step[S.prop]?N.fx.step[S.prop](S):S.elem.nodeType===1&&(N.cssHooks[S.prop]||S.elem.style[q(S.prop)]!=null)?N.style(S.elem,S.prop,S.now+S.unit):S.elem[S.prop]=S.now}}},yt.propHooks.scrollTop=yt.propHooks.scrollLeft={set:function(S){S.elem.nodeType&&S.elem.parentNode&&(S.elem[S.prop]=S.now)}},N.easing={linear:function(S){return S},swing:function(S){return .5-Math.cos(S*Math.PI)/2},_default:"swing"},N.fx=yt.prototype.init,N.fx.step={};var en,on,In=/^(?:toggle|show|hide)$/,Kn=/queueHooks$/;function dr(){on&&(xt.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(dr):n.setTimeout(dr,N.fx.interval),N.fx.tick())}function An(M,S,T){var I,z,U=0,re=An.prefilters.length,he=N.Deferred().always(function(){delete Se.elem}),Se=function(){if(z)return!1;for(var Ht=en||ie(),Yt=Math.max(0,We.startTime+We.duration-Ht),It=Yt/We.duration||0,nn=1-It,xn=0,Mn=We.tweens.length;xn<Mn;xn++)We.tweens[xn].run(nn);return he.notifyWith(M,[We,nn,Yt]),nn<1&&Mn?Yt:(Mn||he.notifyWith(M,[We,1,0]),he.resolveWith(M,[We]),!1)},We=he.promise({elem:M,props:N.extend({},S),opts:N.extend(!0,{specialEasing:{},easing:N.easing._default},T),originalProperties:S,originalOptions:T,startTime:en||ie(),duration:T.duration,tweens:[],createTween:function(Ht,Yt){var It=N.Tween(M,We.opts,Ht,Yt,We.opts.specialEasing[Ht]||We.opts.easing);return We.tweens.push(It),It},stop:function(Ht){var Yt=0,It=Ht?We.tweens.length:0;if(z)return this;for(z=!0;Yt<It;Yt++)We.tweens[Yt].run(1);return Ht?(he.notifyWith(M,[We,1,0]),he.resolveWith(M,[We,Ht])):he.rejectWith(M,[We,Ht]),this}}),kt=We.props;for(tt(kt,We.opts.specialEasing);U<re;U++)if(I=An.prefilters[U].call(We,M,kt,We.opts),I)return wt(I.stop)&&(N._queueHooks(We.elem,We.opts.queue).stop=I.stop.bind(I)),I;return N.map(kt,De,We),wt(We.opts.start)&&We.opts.start.call(M,We),We.progress(We.opts.progress).done(We.opts.done,We.opts.complete).fail(We.opts.fail).always(We.opts.always),N.fx.timer(N.extend(Se,{elem:M,anim:We,queue:We.opts.queue})),We}N.Animation=N.extend(An,{tweeners:{"*":[function(M,S){var T=this.createTween(M,S);return O(T.elem,M,gn.exec(S),T),T}]},tweener:function(S,T){wt(S)?(T=S,S=["*"]):S=S.match(Ee);for(var I,z=0,U=S.length;z<U;z++)I=S[z],An.tweeners[I]=An.tweeners[I]||[],An.tweeners[I].unshift(T)},prefilters:[ke],prefilter:function(S,T){T?An.prefilters.unshift(S):An.prefilters.push(S)}}),N.speed=function(M,S,T){var I=M&&typeof M=="object"?N.extend({},M):{complete:T||!T&&S||wt(M)&&M,duration:M,easing:T&&S||S&&!wt(S)&&S};return N.fx.off?I.duration=0:typeof I.duration!="number"&&(I.duration in N.fx.speeds?I.duration=N.fx.speeds[I.duration]:I.duration=N.fx.speeds._default),(I.queue==null||I.queue===!0)&&(I.queue="fx"),I.old=I.complete,I.complete=function(){wt(I.old)&&I.old.call(this),I.queue&&N.dequeue(this,I.queue)},I},N.fn.extend({fadeTo:function(S,T,I,z){return this.filter(Wt).css("opacity",0).show().end().animate({opacity:T},S,I,z)},animate:function(S,T,I,z){var U=N.isEmptyObject(S),re=N.speed(T,I,z),he=function(){var We=An(this,N.extend({},S),re);(U||Nt.get(this,"finish"))&&We.stop(!0)};return he.finish=he,U||re.queue===!1?this.each(he):this.queue(re.queue,he)},stop:function(S,T,I){var z=function(re){var he=re.stop;delete re.stop,he(I)};return typeof S!="string"&&(I=T,T=S,S=void 0),T&&this.queue(S||"fx",[]),this.each(function(){var U=!0,re=S!=null&&S+"queueHooks",he=N.timers,Se=Nt.get(this);if(re)Se[re]&&Se[re].stop&&z(Se[re]);else for(re in Se)Se[re]&&Se[re].stop&&Kn.test(re)&&z(Se[re]);for(re=he.length;re--;)he[re].elem===this&&(S==null||he[re].queue===S)&&(he[re].anim.stop(I),U=!1,he.splice(re,1));(U||!I)&&N.dequeue(this,S)})},finish:function(S){return S!==!1&&(S=S||"fx"),this.each(function(){var T,I=Nt.get(this),z=I[S+"queue"],U=I[S+"queueHooks"],re=N.timers,he=z?z.length:0;for(I.finish=!0,N.queue(this,S,[]),U&&U.stop&&U.stop.call(this,!0),T=re.length;T--;)re[T].elem===this&&re[T].queue===S&&(re[T].anim.stop(!0),re.splice(T,1));for(T=0;T<he;T++)z[T]&&z[T].finish&&z[T].finish.call(this);delete I.finish})}}),N.each(["toggle","show","hide"],function(M,S){var T=N.fn[S];N.fn[S]=function(I,z,U){return I==null||typeof I=="boolean"?T.apply(this,arguments):this.animate(Oe(S,!0),I,z,U)}}),N.each({slideDown:Oe("show"),slideUp:Oe("hide"),slideToggle:Oe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(M,S){N.fn[M]=function(T,I,z){return this.animate(S,T,I,z)}}),N.timers=[],N.fx.tick=function(){var M,S=0,T=N.timers;for(en=Date.now();S<T.length;S++)M=T[S],!M()&&T[S]===M&&T.splice(S--,1);T.length||N.fx.stop(),en=void 0},N.fx.timer=function(M){N.timers.push(M),N.fx.start()},N.fx.interval=13,N.fx.start=function(){on||(on=!0,dr())},N.fx.stop=function(){on=null},N.fx.speeds={slow:600,fast:200,_default:400},N.fn.delay=function(M,S){return M=N.fx&&N.fx.speeds[M]||M,S=S||"fx",this.queue(S,function(T,I){var z=n.setTimeout(T,M);I.stop=function(){n.clearTimeout(z)}})},function(){var M=xt.createElement("input"),S=xt.createElement("select"),T=S.appendChild(xt.createElement("option"));M.type="checkbox",it.checkOn=M.value!=="",it.optSelected=T.selected,M=xt.createElement("input"),M.value="t",M.type="radio",it.radioValue=M.value==="t"}();var Gr,Ur=N.expr.attrHandle;N.fn.extend({attr:function(S,T){return Je(this,N.attr,S,T,arguments.length>1)},removeAttr:function(S){return this.each(function(){N.removeAttr(this,S)})}}),N.extend({attr:function(S,T,I){var z,U,re=S.nodeType;if(!(re===3||re===8||re===2)){if(_typeof(S.getAttribute)>"u")return N.prop(S,T,I);if((re!==1||!N.isXMLDoc(S))&&(U=N.attrHooks[T.toLowerCase()]||(N.expr.match.bool.test(T)?Gr:void 0)),I!==void 0){if(I===null){N.removeAttr(S,T);return}return U&&"set"in U&&(z=U.set(S,I,T))!==void 0?z:(S.setAttribute(T,I+""),I)}return U&&"get"in U&&(z=U.get(S,T))!==null?z:(z=N.find.attr(S,T),z!=null?z:void 0)}},attrHooks:{type:{set:function(S,T){if(!it.radioValue&&T==="radio"&&r(S,"input")){var I=S.value;return S.setAttribute("type",T),I&&(S.value=I),T}}}},removeAttr:function(S,T){var I,z=0,U=T&&T.match(Ee);if(U&&S.nodeType===1)for(;I=U[z++];)S.removeAttribute(I)}}),Gr={set:function(S,T,I){return T===!1?N.removeAttr(S,I):S.setAttribute(I,I),I}},N.each(N.expr.match.bool.source.match(/\w+/g),function(M,S){var T=Ur[S]||N.find.attr;Ur[S]=function(I,z,U){var re,he,Se=z.toLowerCase();return U||(he=Ur[Se],Ur[Se]=re,re=T(I,z,U)!=null?Se:null,Ur[Se]=he),re}});var _r=/^(?:input|select|textarea|button)$/i,be=/^(?:a|area)$/i;N.fn.extend({prop:function(S,T){return Je(this,N.prop,S,T,arguments.length>1)},removeProp:function(S){return this.each(function(){delete this[N.propFix[S]||S]})}}),N.extend({prop:function(S,T,I){var z,U,re=S.nodeType;if(!(re===3||re===8||re===2))return(re!==1||!N.isXMLDoc(S))&&(T=N.propFix[T]||T,U=N.propHooks[T]),I!==void 0?U&&"set"in U&&(z=U.set(S,I,T))!==void 0?z:S[T]=I:U&&"get"in U&&(z=U.get(S,T))!==null?z:S[T]},propHooks:{tabIndex:{get:function(S){var T=N.find.attr(S,"tabindex");return T?parseInt(T,10):_r.test(S.nodeName)||be.test(S.nodeName)&&S.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),it.optSelected||(N.propHooks.selected={get:function(S){var T=S.parentNode;return T&&T.parentNode&&T.parentNode.selectedIndex,null},set:function(S){var T=S.parentNode;T&&(T.selectedIndex,T.parentNode&&T.parentNode.selectedIndex)}}),N.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){N.propFix[this.toLowerCase()]=this}),N.fn.extend({addClass:function(S){var T,I,z,U,re,he;return wt(S)?this.each(function(Se){N(this).addClass(S.call(this,Se,Qe(this)))}):(T=ht(S),T.length?this.each(function(){if(z=Qe(this),I=this.nodeType===1&&" "+Ve(z)+" ",I){for(re=0;re<T.length;re++)U=T[re],I.indexOf(" "+U+" ")<0&&(I+=U+" ");he=Ve(I),z!==he&&this.setAttribute("class",he)}}):this)},removeClass:function(S){var T,I,z,U,re,he;return wt(S)?this.each(function(Se){N(this).removeClass(S.call(this,Se,Qe(this)))}):arguments.length?(T=ht(S),T.length?this.each(function(){if(z=Qe(this),I=this.nodeType===1&&" "+Ve(z)+" ",I){for(re=0;re<T.length;re++)for(U=T[re];I.indexOf(" "+U+" ")>-1;)I=I.replace(" "+U+" "," ");he=Ve(I),z!==he&&this.setAttribute("class",he)}}):this):this.attr("class","")},toggleClass:function(S,T){var I,z,U,re,he=typeof S=="undefined"?"undefined":_typeof(S),Se=he==="string"||Array.isArray(S);return wt(S)?this.each(function(We){N(this).toggleClass(S.call(this,We,Qe(this),T),T)}):typeof T=="boolean"&&Se?T?this.addClass(S):this.removeClass(S):(I=ht(S),this.each(function(){if(Se)for(re=N(this),U=0;U<I.length;U++)z=I[U],re.hasClass(z)?re.removeClass(z):re.addClass(z);else(S===void 0||he==="boolean")&&(z=Qe(this),z&&Nt.set(this,"__className__",z),this.setAttribute&&this.setAttribute("class",z||S===!1?"":Nt.get(this,"__className__")||""))}))},hasClass:function(S){var T,I,z=0;for(T=" "+S+" ";I=this[z++];)if(I.nodeType===1&&(" "+Ve(Qe(I))+" ").indexOf(T)>-1)return!0;return!1}});var Gi=/\r/g;N.fn.extend({val:function(S){var T,I,z,U=this[0];return arguments.length?(z=wt(S),this.each(function(re){var he;this.nodeType===1&&(z?he=S.call(this,re,N(this).val()):he=S,he==null?he="":typeof he=="number"?he+="":Array.isArray(he)&&(he=N.map(he,function(Se){return Se==null?"":Se+""})),T=N.valHooks[this.type]||N.valHooks[this.nodeName.toLowerCase()],(!T||!("set"in T)||T.set(this,he,"value")===void 0)&&(this.value=he))})):U?(T=N.valHooks[U.type]||N.valHooks[U.nodeName.toLowerCase()],T&&"get"in T&&(I=T.get(U,"value"))!==void 0?I:(I=U.value,typeof I=="string"?I.replace(Gi,""):I!=null?I:"")):void 0}}),N.extend({valHooks:{option:{get:function(S){var T=N.find.attr(S,"value");return T!=null?T:Ve(N.text(S))}},select:{get:function(S){var T,I,z,U=S.options,re=S.selectedIndex,he=S.type==="select-one",Se=he?null:[],We=he?re+1:U.length;for(re<0?z=We:z=he?re:0;z<We;z++)if(I=U[z],(I.selected||z===re)&&!I.disabled&&(!I.parentNode.disabled||!r(I.parentNode,"optgroup"))){if(T=N(I).val(),he)return T;Se.push(T)}return Se},set:function(S,T){for(var I,z,U=S.options,re=N.makeArray(T),he=U.length;he--;)z=U[he],(z.selected=N.inArray(N.valHooks.option.get(z),re)>-1)&&(I=!0);return I||(S.selectedIndex=-1),re}}}}),N.each(["radio","checkbox"],function(){N.valHooks[this]={set:function(S,T){if(Array.isArray(T))return S.checked=N.inArray(N(S).val(),T)>-1}},it.checkOn||(N.valHooks[this].get=function(M){return M.getAttribute("value")===null?"on":M.value})}),it.focusin="onfocusin"in n;var Vr=/^(?:focusinfocus|focusoutblur)$/,di=function(S){S.stopPropagation()};N.extend(N.event,{trigger:function(S,T,I,z){var U,re,he,Se,We,kt,Pt,Ht,Yt=[I||xt],It=ze.call(S,"type")?S.type:S,nn=ze.call(S,"namespace")?S.namespace.split("."):[];if(re=Ht=he=I=I||xt,!(I.nodeType===3||I.nodeType===8)&&!Vr.test(It+N.event.triggered)&&(It.indexOf(".")>-1&&(nn=It.split("."),It=nn.shift(),nn.sort()),We=It.indexOf(":")<0&&"on"+It,S=S[N.expando]?S:new N.Event(It,typeof S=="object"&&S),S.isTrigger=z?2:3,S.namespace=nn.join("."),S.rnamespace=S.namespace?new RegExp("(^|\\.)"+nn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,S.result=void 0,S.target||(S.target=I),T=T==null?[S]:N.makeArray(T,[S]),Pt=N.event.special[It]||{},!(!z&&Pt.trigger&&Pt.trigger.apply(I,T)===!1))){if(!z&&!Pt.noBubble&&!_t(I)){for(Se=Pt.delegateType||It,Vr.test(Se+It)||(re=re.parentNode);re;re=re.parentNode)Yt.push(re),he=re;he===(I.ownerDocument||xt)&&Yt.push(he.defaultView||he.parentWindow||n)}for(U=0;(re=Yt[U++])&&!S.isPropagationStopped();)Ht=re,S.type=U>1?Se:Pt.bindType||It,kt=(Nt.get(re,"events")||Object.create(null))[S.type]&&Nt.get(re,"handle"),kt&&kt.apply(re,T),kt=We&&re[We],kt&&kt.apply&&Et(re)&&(S.result=kt.apply(re,T),S.result===!1&&S.preventDefault());return S.type=It,!z&&!S.isDefaultPrevented()&&(!Pt._default||Pt._default.apply(Yt.pop(),T)===!1)&&Et(I)&&We&&wt(I[It])&&!_t(I)&&(he=I[We],he&&(I[We]=null),N.event.triggered=It,S.isPropagationStopped()&&Ht.addEventListener(It,di),I[It](),S.isPropagationStopped()&&Ht.removeEventListener(It,di),N.event.triggered=void 0,he&&(I[We]=he)),S.result}},simulate:function(S,T,I){var z=N.extend(new N.Event,I,{type:S,isSimulated:!0});N.event.trigger(z,null,T)}}),N.fn.extend({trigger:function(S,T){return this.each(function(){N.event.trigger(S,T,this)})},triggerHandler:function(S,T){var I=this[0];if(I)return N.event.trigger(S,T,I,!0)}}),it.focusin||N.each({focus:"focusin",blur:"focusout"},function(M,S){var T=function(z){N.event.simulate(S,z.target,N.event.fix(z))};N.event.special[S]={setup:function(){var z=this.ownerDocument||this.document||this,U=Nt.access(z,S);U||z.addEventListener(M,T,!0),Nt.access(z,S,(U||0)+1)},teardown:function(){var z=this.ownerDocument||this.document||this,U=Nt.access(z,S)-1;U?Nt.access(z,S,U):(z.removeEventListener(M,T,!0),Nt.remove(z,S))}}});var Yr=n.location,ln={guid:Date.now()},dn=/\?/;N.parseXML=function(M){var S,T;if(!M||typeof M!="string")return null;try{S=new n.DOMParser().parseFromString(M,"text/xml")}catch(I){}return T=S&&S.getElementsByTagName("parsererror")[0],(!S||T)&&N.error("Invalid XML: "+(T?N.map(T.childNodes,function(I){return I.textContent}).join("\n"):M)),S};var hn=/\[\]$/,Hn=/\r?\n/g,mr=/^(?:submit|button|image|reset|file)$/i,Fr=/^(?:input|select|textarea|keygen)/i;function ri(M,S,T,I){var z;if(Array.isArray(S))N.each(S,function(U,re){T||hn.test(M)?I(M,re):ri(M+"["+(typeof re=="object"&&re!=null?U:"")+"]",re,T,I)});else if(!T&&a(S)==="object")for(z in S)ri(M+"["+z+"]",S[z],T,I);else I(M,S)}N.param=function(M,S){var T,I=[],z=function(re,he){var Se=wt(he)?he():he;I[I.length]=encodeURIComponent(re)+"="+encodeURIComponent(Se!=null?Se:"")};if(M==null)return"";if(Array.isArray(M)||M.jquery&&!N.isPlainObject(M))N.each(M,function(){z(this.name,this.value)});else for(T in M)ri(T,M[T],S,z);return I.join("&")},N.fn.extend({serialize:function(){return N.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var S=N.prop(this,"elements");return S?N.makeArray(S):this}).filter(function(){var S=this.type;return this.name&&!N(this).is(":disabled")&&Fr.test(this.nodeName)&&!mr.test(S)&&(this.checked||!pe.test(S))}).map(function(S,T){var I=N(this).val();return I==null?null:Array.isArray(I)?N.map(I,function(z){return{name:T.name,value:z.replace(Hn,"\r\n")}}):{name:T.name,value:I.replace(Hn,"\r\n")}}).get()}});var Po=/%20/g,Io=/#.*$/,wi=/([?&])_=[^&]*/,Pa=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ia=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Zc=/^(?:GET|HEAD)$/,Yi=/^\/\//,Xi={},fo={},Mo="*/".concat("*"),gl=xt.createElement("a");gl.href=Yr.href,N.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Yr.href,type:"GET",isLocal:Ia.test(Yr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Mo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":N.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(S,T){return T?Le(Le(S,N.ajaxSettings),T):Le(N.ajaxSettings,S)},ajaxPrefilter:bt(Xi),ajaxTransport:bt(fo),ajax:function(S,T){var I=function(Zn,Qn,wr,pr){var Jn,ur,Me,ye,Te,ft=Qn;kt||(kt=!0,Se&&n.clearTimeout(Se),z=void 0,re=pr||"",Gn.readyState=Zn>0?4:0,Jn=Zn>=200&&Zn<300||Zn===304,wr&&(ye=_e(It,Gn,wr)),!Jn&&N.inArray("script",It.dataTypes)>-1&&N.inArray("json",It.dataTypes)<0&&(It.converters["text script"]=function(){}),ye=Ne(It,ye,Gn,Jn),Jn?(It.ifModified&&(Te=Gn.getResponseHeader("Last-Modified"),Te&&(N.lastModified[U]=Te),Te=Gn.getResponseHeader("etag"),Te&&(N.etag[U]=Te)),Zn===204||It.type==="HEAD"?ft="nocontent":Zn===304?ft="notmodified":(ft=ye.state,ur=ye.data,Me=ye.error,Jn=!Me)):(Me=ft,(Zn||!ft)&&(ft="error",Zn<0&&(Zn=0))),Gn.status=Zn,Gn.statusText=(Qn||ft)+"",Jn?Mn.resolveWith(nn,[ur,ft,Gn]):Mn.rejectWith(nn,[Gn,ft,Me]),Gn.statusCode(Yn),Yn=void 0,Pt&&xn.trigger(Jn?"ajaxSuccess":"ajaxError",[Gn,It,Jn?ur:Me]),Sn.fireWith(nn,[Gn,ft]),Pt&&(xn.trigger("ajaxComplete",[Gn,It]),--N.active||N.event.trigger("ajaxStop")))};typeof S=="object"&&(T=S,S=void 0),T=T||{};var z,U,re,he,Se,We,kt,Pt,Ht,Yt,It=N.ajaxSetup({},T),nn=It.context||It,xn=It.context&&(nn.nodeType||nn.jquery)?N(nn):N.event,Mn=N.Deferred(),Sn=N.Callbacks("once memory"),Yn=It.statusCode||{},Un={},Pn={},Xn="canceled",Gn={readyState:0,getResponseHeader:function(Zn){var Qn;if(kt){if(!he)for(he={};Qn=Pa.exec(re);)he[Qn[1].toLowerCase()+" "]=(he[Qn[1].toLowerCase()+" "]||[]).concat(Qn[2]);Qn=he[Zn.toLowerCase()+" "]}return Qn==null?null:Qn.join(", ")},getAllResponseHeaders:function(){return kt?re:null},setRequestHeader:function(Zn,Qn){return kt==null&&(Zn=Pn[Zn.toLowerCase()]=Pn[Zn.toLowerCase()]||Zn,Un[Zn]=Qn),this},overrideMimeType:function(Zn){return kt==null&&(It.mimeType=Zn),this},statusCode:function(Zn){var Qn;if(Zn)if(kt)Gn.always(Zn[Gn.status]);else for(Qn in Zn)Yn[Qn]=[Yn[Qn],Zn[Qn]];return this},abort:function(Zn){var Qn=Zn||Xn;return z&&z.abort(Qn),I(0,Qn),this}};if(Mn.promise(Gn),It.url=((S||It.url||Yr.href)+"").replace(Yi,Yr.protocol+"//"),It.type=T.method||T.type||It.method||It.type,It.dataTypes=(It.dataType||"*").toLowerCase().match(Ee)||[""],It.crossDomain==null){We=xt.createElement("a");try{We.href=It.url,We.href=We.href,It.crossDomain=gl.protocol+"//"+gl.host!=We.protocol+"//"+We.host}catch(tr){It.crossDomain=!0}}if(It.data&&It.processData&&typeof It.data!="string"&&(It.data=N.param(It.data,It.traditional)),vt(Xi,It,T,Gn),kt)return Gn;Pt=N.event&&It.global,Pt&&N.active++===0&&N.event.trigger("ajaxStart"),It.type=It.type.toUpperCase(),It.hasContent=!Zc.test(It.type),U=It.url.replace(Io,""),It.hasContent?It.data&&It.processData&&(It.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(It.data=It.data.replace(Po,"+")):(Yt=It.url.slice(U.length),It.data&&(It.processData||typeof It.data=="string")&&(U+=(dn.test(U)?"&":"?")+It.data,delete It.data),It.cache===!1&&(U=U.replace(wi,"$1"),Yt=(dn.test(U)?"&":"?")+"_="+ln.guid+++Yt),It.url=U+Yt),It.ifModified&&(N.lastModified[U]&&Gn.setRequestHeader("If-Modified-Since",N.lastModified[U]),N.etag[U]&&Gn.setRequestHeader("If-None-Match",N.etag[U])),(It.data&&It.hasContent&&It.contentType!==!1||T.contentType)&&Gn.setRequestHeader("Content-Type",It.contentType),Gn.setRequestHeader("Accept",It.dataTypes[0]&&It.accepts[It.dataTypes[0]]?It.accepts[It.dataTypes[0]]+(It.dataTypes[0]!=="*"?", "+Mo+"; q=0.01":""):It.accepts["*"]);for(Ht in It.headers)Gn.setRequestHeader(Ht,It.headers[Ht]);if(It.beforeSend&&(It.beforeSend.call(nn,Gn,It)===!1||kt))return Gn.abort();if(Xn="abort",Sn.add(It.complete),Gn.done(It.success),Gn.fail(It.error),z=vt(fo,It,T,Gn),!z)I(-1,"No Transport");else{if(Gn.readyState=1,Pt&&xn.trigger("ajaxSend",[Gn,It]),kt)return Gn;It.async&&It.timeout>0&&(Se=n.setTimeout(function(){Gn.abort("timeout")},It.timeout));try{kt=!1,z.send(Un,I)}catch(tr){if(kt)throw tr;I(-1,tr)}}return Gn},getJSON:function(S,T,I){return N.get(S,T,I,"json")},getScript:function(S,T){return N.get(S,void 0,T,"script")}}),N.each(["get","post"],function(M,S){N[S]=function(T,I,z,U){return wt(I)&&(U=U||z,z=I,I=void 0),N.ajax(N.extend({url:T,type:S,dataType:U,data:I,success:z},N.isPlainObject(T)&&T))}}),N.ajaxPrefilter(function(M){var S;for(S in M.headers)S.toLowerCase()==="content-type"&&(M.contentType=M.headers[S]||"")}),N._evalUrl=function(M,S,T){return N.ajax({url:M,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(z){N.globalEval(z,S,T)}})},N.fn.extend({wrapAll:function(S){var T;return this[0]&&(wt(S)&&(S=S.call(this[0])),T=N(S,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&T.insertBefore(this[0]),T.map(function(){for(var I=this;I.firstElementChild;)I=I.firstElementChild;return I}).append(this)),this},wrapInner:function(S){return wt(S)?this.each(function(T){N(this).wrapInner(S.call(this,T))}):this.each(function(){var T=N(this),I=T.contents();I.length?I.wrapAll(S):T.append(S)})},wrap:function(S){var T=wt(S);return this.each(function(I){N(this).wrapAll(T?S.call(this,I):S)})},unwrap:function(S){return this.parent(S).not("body").each(function(){N(this).replaceWith(this.childNodes)}),this}}),N.expr.pseudos.hidden=function(M){return!N.expr.pseudos.visible(M)},N.expr.pseudos.visible=function(M){return!!(M.offsetWidth||M.offsetHeight||M.getClientRects().length)},N.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(M){}};var po={0:200,1223:204},hr=N.ajaxSettings.xhr();it.cors=!!hr&&"withCredentials"in hr,it.ajax=hr=!!hr,N.ajaxTransport(function(M){var S,T;if(it.cors||hr&&!M.crossDomain)return{send:function(z,U){var re,he=M.xhr();if(he.open(M.type,M.url,M.async,M.username,M.password),M.xhrFields)for(re in M.xhrFields)he[re]=M.xhrFields[re];M.mimeType&&he.overrideMimeType&&he.overrideMimeType(M.mimeType),!M.crossDomain&&!z["X-Requested-With"]&&(z["X-Requested-With"]="XMLHttpRequest");for(re in z)he.setRequestHeader(re,z[re]);S=function(Se){return function(){S&&(S=T=he.onload=he.onerror=he.onabort=he.ontimeout=he.onreadystatechange=null,Se==="abort"?he.abort():Se==="error"?typeof he.status!="number"?U(0,"error"):U(he.status,he.statusText):U(po[he.status]||he.status,he.statusText,(he.responseType||"text")!=="text"||typeof he.responseText!="string"?{binary:he.response}:{text:he.responseText},he.getAllResponseHeaders()))}},he.onload=S(),T=he.onerror=he.ontimeout=S("error"),he.onabort!==void 0?he.onabort=T:he.onreadystatechange=function(){he.readyState===4&&n.setTimeout(function(){S&&T()})},S=S("abort");try{he.send(M.hasContent&&M.data||null)}catch(Se){if(S)throw Se}},abort:function(){S&&S()}}}),N.ajaxPrefilter(function(M){M.crossDomain&&(M.contents.script=!1)}),N.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(M){return N.globalEval(M),M}}}),N.ajaxPrefilter("script",function(M){M.cache===void 0&&(M.cache=!1),M.crossDomain&&(M.type="GET")}),N.ajaxTransport("script",function(M){if(M.crossDomain||M.scriptAttrs){var S,T;return{send:function(z,U){S=N("<script>").attr(M.scriptAttrs||{}).prop({charset:M.scriptCharset,src:M.url}).on("load error",T=function(re){S.remove(),T=null,re&&U(re.type==="error"?404:200,re.type)}),xt.head.appendChild(S[0])},abort:function(){T&&T()}}}});var Lr=[],ea=/(=)\?(?=&|$)|\?\?/;N.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var S=Lr.pop()||N.expando+"_"+ln.guid++;return this[S]=!0,S}}),N.ajaxPrefilter("json jsonp",function(M,S,T){var I,z,U,re=M.jsonp!==!1&&(ea.test(M.url)?"url":typeof M.data=="string"&&(M.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ea.test(M.data)&&"data");if(re||M.dataTypes[0]==="jsonp")return I=M.jsonpCallback=wt(M.jsonpCallback)?M.jsonpCallback():M.jsonpCallback,re?M[re]=M[re].replace(ea,"$1"+I):M.jsonp!==!1&&(M.url+=(dn.test(M.url)?"&":"?")+M.jsonp+"="+I),M.converters["script json"]=function(){return U||N.error(I+" was not called"),U[0]},M.dataTypes[0]="json",z=n[I],n[I]=function(){U=arguments},T.always(function(){z===void 0?N(n).removeProp(I):n[I]=z,M[I]&&(M.jsonpCallback=S.jsonpCallback,Lr.push(I)),U&&wt(z)&&z(U[0]),U=z=void 0}),"script"}),it.createHTMLDocument=function(){var M=xt.implementation.createHTMLDocument("").body;return M.innerHTML="<form></form><form></form>",M.childNodes.length===2}(),N.parseHTML=function(M,S,T){if(typeof M!="string")return[];typeof S=="boolean"&&(T=S,S=!1);var I,z,U;return S||(it.createHTMLDocument?(S=xt.implementation.createHTMLDocument(""),I=S.createElement("base"),I.href=xt.location.href,S.head.appendChild(I)):S=xt),z=le.exec(M),U=!T&&[],z?[S.createElement(z[1])]:(z=g([M],S,U),U&&U.length&&N(U).remove(),N.merge([],z.childNodes))},N.fn.load=function(M,S,T){var I,z,U,re=this,he=M.indexOf(" ");return he>-1&&(I=Ve(M.slice(he)),M=M.slice(0,he)),wt(S)?(T=S,S=void 0):S&&typeof S=="object"&&(z="POST"),re.length>0&&N.ajax({url:M,type:z||"GET",dataType:"html",data:S}).done(function(Se){U=arguments,re.html(I?N("<div>").append(N.parseHTML(Se)).find(I):Se)}).always(T&&function(Se,We){re.each(function(){T.apply(this,U||[Se.responseText,We,Se])})}),this},N.expr.pseudos.animated=function(M){return N.grep(N.timers,function(S){return M===S.elem}).length},N.offset={setOffset:function(S,T,I){var z,U,re,he,Se,We,kt,Pt=N.css(S,"position"),Ht=N(S),Yt={};Pt==="static"&&(S.style.position="relative"),Se=Ht.offset(),re=N.css(S,"top"),We=N.css(S,"left"),kt=(Pt==="absolute"||Pt==="fixed")&&(re+We).indexOf("auto")>-1,kt?(z=Ht.position(),he=z.top,U=z.left):(he=parseFloat(re)||0,U=parseFloat(We)||0),wt(T)&&(T=T.call(S,I,N.extend({},Se))),T.top!=null&&(Yt.top=T.top-Se.top+he),T.left!=null&&(Yt.left=T.left-Se.left+U),"using"in T?T.using.call(S,Yt):Ht.css(Yt)}},N.fn.extend({offset:function(S){if(arguments.length)return S===void 0?this:this.each(function(U){N.offset.setOffset(this,S,U)});var T,I,z=this[0];if(z)return z.getClientRects().length?(T=z.getBoundingClientRect(),I=z.ownerDocument.defaultView,{top:T.top+I.pageYOffset,left:T.left+I.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var S,T,I,z=this[0],U={top:0,left:0};if(N.css(z,"position")==="fixed")T=z.getBoundingClientRect();else{for(T=this.offset(),I=z.ownerDocument,S=z.offsetParent||I.documentElement;S&&(S===I.body||S===I.documentElement)&&N.css(S,"position")==="static";)S=S.parentNode;S&&S!==z&&S.nodeType===1&&(U=N(S).offset(),U.top+=N.css(S,"borderTopWidth",!0),U.left+=N.css(S,"borderLeftWidth",!0))}return{top:T.top-U.top-N.css(z,"marginTop",!0),left:T.left-U.left-N.css(z,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var S=this.offsetParent;S&&N.css(S,"position")==="static";)S=S.offsetParent;return S||an})}}),N.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(M,S){var T=S==="pageYOffset";N.fn[M]=function(I){return Je(this,function(z,U,re){var he;if(_t(z)?he=z:z.nodeType===9&&(he=z.defaultView),re===void 0)return he?he[S]:z[U];he?he.scrollTo(T?he.pageXOffset:re,T?re:he.pageYOffset):z[U]=re},M,I,arguments.length)}}),N.each(["top","left"],function(M,S){N.cssHooks[S]=Y(it.pixelPosition,function(T,I){if(I)return I=V(T,S),ui.test(I)?N(T).position()[S]+"px":I})}),N.each({Height:"height",Width:"width"},function(M,S){N.each({padding:"inner"+M,content:S,"":"outer"+M},function(T,I){N.fn[I]=function(z,U){var re=arguments.length&&(T||typeof z!="boolean"),he=T||(z===!0||U===!0?"margin":"border");return Je(this,function(Se,We,kt){var Pt;return _t(Se)?I.indexOf("outer")===0?Se["inner"+M]:Se.document.documentElement["client"+M]:Se.nodeType===9?(Pt=Se.documentElement,Math.max(Se.body["scroll"+M],Pt["scroll"+M],Se.body["offset"+M],Pt["offset"+M],Pt["client"+M])):kt===void 0?N.css(Se,We,he):N.style(Se,We,kt,he)},S,re?z:void 0,re)}})}),N.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(M,S){N.fn[S]=function(T){return this.on(S,T)}}),N.fn.extend({bind:function(S,T,I){return this.on(S,null,T,I)},unbind:function(S,T){return this.off(S,null,T)},delegate:function(S,T,I,z){return this.on(T,S,I,z)},undelegate:function(S,T,I){return arguments.length===1?this.off(S,"**"):this.off(T,S||"**",I)},hover:function(S,T){return this.mouseenter(S).mouseleave(T||S)}}),N.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(M,S){N.fn[S]=function(T,I){return arguments.length>0?this.on(S,null,T,I):this.trigger(S)}});var fi=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;N.proxy=function(M,S){var T,I,z;if(typeof S=="string"&&(T=M[S],S=M,M=T),!!wt(M))return I=Pe.call(arguments,2),z=function(){return M.apply(S||this,I.concat(Pe.call(arguments)))},z.guid=M.guid=M.guid||N.guid++,z},N.holdReady=function(M){M?N.readyWait++:N.ready(!0)},N.isArray=Array.isArray,N.parseJSON=JSON.parse,N.nodeName=r,N.isFunction=wt,N.isWindow=_t,N.camelCase=w,N.type=a,N.now=Date.now,N.isNumeric=function(M){var S=N.type(M);return(S==="number"||S==="string")&&!isNaN(M-parseFloat(M))},N.trim=function(M){return M==null?"":(M+"").replace(fi,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return N});var kn=n.jQuery,Ae=n.$;return N.noConflict=function(M){return n.$===N&&(n.$=Ae),M&&n.jQuery===N&&(n.jQuery=kn),N},(typeof o=="undefined"?"undefined":_typeof(o))>"u"&&(n.jQuery=n.$=N),N})}),Yp={},Y5(Yp,{default:function(){return Z}}),K5=qp(Gp()),X5(Yp,qp(Gp()));var m;Wn=K5,m=Wn,Xp=m.default,Q5=Ai(Wn,["default"]),Z=Xp!==void 0?Xp:Q5}}),jd=Mt({"https-url:https://esm.archive.org/jquery@3.6.1":function(){Od(),Od()}}),J5=Mt({"https-url:https://av.prod.archive.org/js/util/jquery.js":function(){jd(),globalThis.jQuery=Z,globalThis.$=Z}}),fa,Kp=Mt({"https-url:https://av.prod.archive.org/js/util/cgiarg.js":function(){fa=pT}}),Wn,Dn,w1,Rs=Mt({"https-url:https://av.prod.archive.org/js/util/log.js":function(){Dn=typeof Deno!="undefined"||typeof location=="undefined"||location.host==="av.dev.archive.org"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org/)||location.host.endsWith(".code.archive.org")||location.host.startsWith("ia-petabox")||location.host.split(":")[0]==="localhost"||((Wn=globalThis==null?void 0:globalThis.navigator)==null?void 0:Wn.onLine)===!1?console.log.bind(console):function(){},w1=console.error.bind(console)}}),Ed,_1=Mt({"https-url:https://av.prod.archive.org/js/util/onclick.js":function(){Ed=vT}}),k1=Mt({"https-url:https://av.prod.archive.org/jw/8/jwplayer.js":function(){window.jwplayer=function(m){var t=function(d){for(var h,f,v=d[0],_=d[1],b=0,w=[];b<v.length;b++)f=v[b],Object.prototype.hasOwnProperty.call(n,f)&&n[f]&&w.push(n[f][0]),n[f]=0;for(h in _)Object.prototype.hasOwnProperty.call(_,h)&&(m[h]=_[h]);for(r&&r(d);w.length;)w.shift()()},e={},n={0:0};function o(c){if(e[c])return e[c].exports;var d=e[c]={i:c,l:!1,exports:{}};return m[c].call(d.exports,d,d.exports,o),d.l=!0,d.exports}o.e=function(c){var d=[],h=n[c];if(h!==0)if(h)d.push(h[2]);else{var f=new Promise(function(A,E){h=n[c]=[A,E]});d.push(h[2]=f);var v,_=document.createElement("script");_.charset="utf-8",_.timeout=120,o.nc&&_.setAttribute("nonce",o.nc),_.src=function(A){return o.p+""+({1:"jwplayer.controls",2:"jwplayer.controls.tizen",3:"jwplayer.core",4:"jwplayer.core.controls",5:"jwplayer.core.controls.html5",6:"jwplayer.core.controls.polyfills",7:"jwplayer.core.controls.polyfills.html5",8:"polyfills.intersection-observer",9:"polyfills.webvtt",10:"provider.html5",11:"vttparser"}[A]||A)+".js"}(c);var b=new Error;v=function(E){_.onerror=_.onload=null,clearTimeout(w);var O=n[c];if(O!==0){if(O){var P=E&&(E.type==="load"?"missing":E.type),y=E&&E.target&&E.target.src;b.message="Loading chunk "+c+" failed.\n("+P+": "+y+")",b.name="ChunkLoadError",b.type=P,b.request=y,O[1](b)}n[c]=void 0}};var w=setTimeout(function(){v({type:"timeout",target:_})},12e4);_.onerror=_.onload=v,document.head.appendChild(_)}return Promise.all(d)},o.m=m,o.c=e,o.d=function(c,d,h){o.o(c,d)||Object.defineProperty(c,d,{enumerable:!0,get:h})},o.r=function(c){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},o.t=function(c,d){if(1&d&&(c=o(c)),8&d||4&d&&typeof c=="object"&&c&&c.__esModule)return c;var h=Object.create(null);if(o.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:c}),2&d&&typeof c!="string")for(var f in c)o.d(h,f,function(v){return c[v]}.bind(null,f));return h},o.n=function(c){var d=c&&c.__esModule?function(){return c.default}:function(){return c};return o.d(d,"a",d),d},o.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)},o.p="",o.oe=function(c){throw console.error(c),c};var l=window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var r=a;return o(o.s=56)}([function(m,t,e){"use strict";e.d(t,"f",function(){return p}),e.d(t,"v",function(){return k}),e.d(t,"i",function(){return X}),e.d(t,"h",function(){return H}),e.d(t,"z",function(){return Oe}),e.d(t,"b",function(){return De}),e.d(t,"j",function(){return tt}),e.d(t,"e",function(){return Ve}),e.d(t,"l",function(){return Qe}),e.d(t,"a",function(){return bt}),e.d(t,"A",function(){return Ze}),e.d(t,"m",function(){return at}),e.d(t,"d",function(){return pt}),e.d(t,"g",function(){return lt}),e.d(t,"x",function(){return ct}),e.d(t,"p",function(){return wt}),e.d(t,"r",function(){return _t}),e.d(t,"s",function(){return xt}),e.d(t,"o",function(){return ut}),e.d(t,"q",function(){return we}),e.d(t,"n",function(){return N}),e.d(t,"t",function(){return qe}),e.d(t,"k",function(){return nt}),e.d(t,"y",function(){return R}),e.d(t,"w",function(){return le}),e.d(t,"u",function(){return ve});var n=e(16),o={},l=Array.prototype,a=Object.prototype,s=Function.prototype,r=l.slice,c=l.concat,d=a.toString,h=a.hasOwnProperty,f=l.map,v=l.reduce,_=l.forEach,b=l.filter,w=l.every,A=l.some,E=l.indexOf,O=Array.isArray,P=Object.keys,y=s.bind,u=window.isFinite,p=function(K,ge,Ee){var Ce,Ye;if(K==null)return K;if(_&&K.forEach===_)K.forEach(ge,Ee);else if(K.length===+K.length){for(Ce=0,Ye=K.length;Ce<Ye;Ce++)if(ge.call(Ee,K[Ce],Ce,K)===o)return}else{var Be=Ke(K);for(Ce=0,Ye=Be.length;Ce<Ye;Ce++)if(ge.call(Ee,K[Be[Ce]],Be[Ce],K)===o)return}return K},g=p,k=function(K,ge,Ee){var Ce=[];return K==null?Ce:f&&K.map===f?K.map(ge,Ee):(p(K,function(Ye,Be,Je){Ce.push(ge.call(Ee,Ye,Be,Je))}),Ce)},x=k,j="Reduce of empty array with no initial value",L=function(K,ge,Ee,Ce){var Ye=arguments.length>2;if(K==null&&(K=[]),v&&K.reduce===v)return Ce&&(ge=bt(ge,Ce)),Ye?K.reduce(ge,Ee):K.reduce(ge);if(p(K,function(Be,Je,Tt){Ye?Ee=ge.call(Ce,Ee,Be,Je,Tt):(Ee=Be,Ye=!0)}),!Ye)throw new TypeError(j);return Ee},D=L,F=L,X=function(K,ge,Ee){var Ce;return Y(K,function(Ye,Be,Je){if(ge.call(Ee,Ye,Be,Je))return Ce=Ye,!0}),Ce},Q=X,H=function(K,ge,Ee){var Ce=[];return K==null?Ce:b&&K.filter===b?K.filter(ge,Ee):(p(K,function(Ye,Be,Je){ge.call(Ee,Ye,Be,Je)&&Ce.push(Ye)}),Ce)},ce=H,ne=function(K,ge,Ee){ge||(ge=nt);var Ce=!0;return K==null?Ce:w&&K.every===w?K.every(ge,Ee):(p(K,function(Ye,Be,Je){if(!(Ce=Ce&&ge.call(Ee,Ye,Be,Je)))return o}),!!Ce)},V=ne,Y=function(K,ge,Ee){ge||(ge=nt);var Ce=!1;return K==null?Ce:A&&K.some===A?K.some(ge,Ee):(p(K,function(Ye,Be,Je){if(Ce||(Ce=ge.call(Ee,Ye,Be,Je)))return o}),!!Ce)},oe=Y,q=function(K,ge){var Ee;return function(){return--K>0&&(Ee=ge.apply(this,arguments)),K<=1&&(ge=null),Ee}},G=function(K){return K==null?nt:wt(K)?K:R(K)},J=function(K){return function(ge,Ee,Ce){var Ye={};return Ee=G(Ee),p(ge,function(Be,Je){var Tt=Ee.call(Ce,Be,Je,ge);K(Ye,Tt,Be)}),Ye}},ae=J(function(de,K,ge){Ie(de,K)?de[K].push(ge):de[K]=[ge]}),ie=J(function(de,K,ge){de[K]=ge}),Oe=function(K,ge,Ee,Ce){for(var Ye=(Ee=G(Ee)).call(Ce,ge),Be=0,Je=K.length;Be<Je;){var Tt=Be+Je>>>1;Ee.call(Ce,K[Tt])<Ye?Be=Tt+1:Je=Tt}return Be},De=function(K,ge){return K!=null&&(K.length!==+K.length&&(K=Pe(K)),Qe(K,ge)>=0)},ke=De,tt=function(K,ge){return X(K,le(ge))},Ve=function(K){var ge=c.apply(l,r.call(arguments,1));return H(K,function(Ee){return!De(ge,Ee)})},Qe=function(K,ge,Ee){if(K==null)return-1;var Ce=0,Ye=K.length;if(Ee){if(typeof Ee!="number")return K[Ce=Oe(K,ge)]===ge?Ce:-1;Ce=Ee<0?Math.max(0,Ye+Ee):Ee}if(E&&K.indexOf===E)return K.indexOf(ge,Ee);for(;Ce<Ye;Ce++)if(K[Ce]===ge)return Ce;return-1},ht=function(){},bt=function(K,ge){var Ee,Ce;if(y&&K.bind===y)return y.apply(K,r.call(arguments,1));if(!wt(K))throw new TypeError;return Ee=r.call(arguments,2),Ce=function(){if(!_instanceof(this,Ce))return K.apply(ge,Ee.concat(r.call(arguments)));ht.prototype=K.prototype;var Ye=new ht;ht.prototype=null;var Be=K.apply(Ye,Ee.concat(r.call(arguments)));return Object(Be)===Be?Be:Ye}},vt=function(K){var ge=r.call(arguments,1);return function(){for(var Ee=0,Ce=ge.slice(),Ye=0,Be=Ce.length;Ye<Be;Ye++)Ie(Ce[Ye],"partial")&&(Ce[Ye]=arguments[Ee++]);for(;Ee<arguments.length;)Ce.push(arguments[Ee++]);return K.apply(this,Ce)}},Le=vt(q,2),_e=function(K,ge){var Ee=r.call(arguments,2);return setTimeout(function(){return K.apply(null,Ee)},ge)},Ne=vt(_e,{partial:vt},1),Ze=function(K,ge,Ee){var Ce,Ye,Be,Je=null,Tt=0;Ee||(Ee={});var jt=function(){Tt=Ee.leading===!1?0:ue(),Je=null,Be=K.apply(Ce,Ye),Ce=Ye=null};return function(){Tt||Ee.leading!==!1||(Tt=ue);var Et=ge-(ue-Tt);return Ce=this,Ye=arguments,Et<=0?(clearTimeout(Je),Je=null,Tt=ue,Be=K.apply(Ce,Ye),Ce=Ye=null):Je||Ee.trailing===!1||(Je=setTimeout(jt,Et)),Be}},Ke=function(K){if(!ze(K))return[];if(P)return P(K);var ge=[];for(var Ee in K)Ie(K,Ee)&&ge.push(Ee);return ge},Pe=function(K){for(var ge=Ke(K),Ee=Ke.length,Ce=Array(Ee),Ye=0;Ye<Ee;Ye++)Ce[Ye]=K[ge[Ye]];return Ce},at=function(K){for(var ge={},Ee=Ke(K),Ce=0,Ye=Ee.length;Ce<Ye;Ce++)ge[K[Ee[Ce]]]=Ee[Ce];return ge},pt=function(K){return p(r.call(arguments,1),function(ge){if(ge)for(var Ee in ge)K[Ee]===void 0&&(K[Ee]=ge[Ee])}),K},lt=Object.assign||function(de){return p(r.call(arguments,1),function(K){if(K)for(var ge in K)Object.prototype.hasOwnProperty.call(K,ge)&&(de[ge]=K[ge])}),de},ct=function(K){var ge={},Ee=c.apply(l,r.call(arguments,1));return p(Ee,function(Ce){Ce in K&&(ge[Ce]=K[Ce])}),ge},Ge=O||function(de){return d.call(de)=="[object Array]"},ze=function(K){return K===Object(K)},He=[];p(["Function","String","Number","Date","RegExp"],function(de){He[de]=function(K){return d.call(K)=="[object "+de+"]"}}),He.Function=function(de){return typeof de=="function"};var rt=He.Date,it=He.RegExp,wt=He.Function,_t=He.Number,xt=He.String,ut=function(K){return u(K)&&!we(parseFloat(K))},we=function(K){return _t(K)&&K!=+K},N=function(K){return K===!0||K===!1||d.call(K)=="[object Boolean]"},qe=function(K){return K===void 0},Ie=function(K,ge){return h.call(K,ge)},nt=function(K){return K},R=function(K){return function(ge){return ge[K]}},le=function(K){return function(ge){if(ge===K)return!0;for(var Ee in K)if(K[Ee]!==ge[Ee])return!1;return!0}},ue=n.a,ve=function(K){return _t(K)&&!we(K)};t.c={after:function(K,ge){return function(){if(--K<1)return ge.apply(this,arguments)}},all:ne,any:Y,before:q,bind:bt,clone:function(K){return ze(K)?Ge(K)?K.slice():lt({},K):K},collect:x,compact:function(K){return H(K,nt)},constant:function(K){return function(){return K}},contains:De,debounce:function(K,ge){var Ee;return ge===void 0&&(ge=100),function(){for(var Ce=this,Ye=arguments.length,Be=new Array(Ye),Je=0;Je<Ye;Je++)Be[Je]=arguments[Je];clearTimeout(Ee),Ee=setTimeout(function(){K.apply(Ce,Be)},ge)}},defaults:pt,defer:Ne,delay:_e,detect:Q,difference:Ve,each:p,every:V,extend:lt,filter:H,find:X,findWhere:tt,foldl:D,forEach:g,groupBy:ae,has:Ie,identity:nt,include:ke,indexBy:ie,indexOf:Qe,inject:F,invert:at,isArray:Ge,isBoolean:N,isDate:rt,isFinite:ut,isFunction:wt,isNaN:we,isNull:function(K){return K===null},isNumber:_t,isObject:ze,isRegExp:it,isString:xt,isUndefined:qe,isValidNumber:ve,keys:Ke,last:function(K,ge,Ee){if(K!=null)return ge==null||Ee?K[K.length-1]:r.call(K,Math.max(K.length-ge,0))},map:k,matches:le,max:function(K,ge,Ee){if(!ge&&Ge(K)&&K[0]===+K[0]&&K.length<65535)return Math.max.apply(Math,K);var Ce=-1/0,Ye=-1/0;return p(K,function(Be,Je,Tt){var jt=ge?ge.call(Ee,Be,Je,Tt):Be;jt>Ye&&(Ce=Be,Ye=jt)}),Ce},memoize:function(K,ge){var Ee={};return ge||(ge=nt),function(){var Ce=ge.apply(this,arguments);return Ie(Ee,Ce)?Ee[Ce]:Ee[Ce]=K.apply(this,arguments)}},now:ue,omit:function(K){var ge={},Ee=c.apply(l,r.call(arguments,1));for(var Ce in K)De(Ee,Ce)||(ge[Ce]=K[Ce]);return ge},once:Le,partial:vt,pick:ct,pluck:function(K,ge){return k(K,R(ge))},property:R,propertyOf:function(K){return K==null?function(){}:function(ge){return K[ge]}},reduce:L,reject:function(K,ge,Ee){return H(K,function(Ce,Ye,Be){return!ge.call(Ee,Ce,Ye,Be)},Ee)},result:function(K,ge){if(K!=null){var Ee=K[ge];return wt(Ee)?Ee.call(K):Ee}},select:ce,size:function(K){return K==null?0:K.length===+K.length?K.length:Ke(K).length},some:oe,sortedIndex:Oe,throttle:Ze,where:function(K,ge){return H(K,le(ge))},without:function(K){return Ve(K,r.call(arguments,1))}}},function(m,t,e){"use strict";var n=function(F,X,Q){return _instanceof(Q,L)&&Q.code?Q:new L(F,X,Q)},o=function(F,X){var Q=n(j,X,F);return Q.code=(F&&_instanceof(F,L)&&F.code||0)+X,Q},l=function(F){var X=F.name,Q=F.message;switch(X){case"AbortError":return/pause/.test(Q)?303213:/load/.test(Q)?303212:303210;case"NotAllowedError":return 303220;case"NotSupportedError":return 303230;default:return 303200}};e.d(t,"v",function(){return s}),e.d(t,"u",function(){return r}),e.d(t,"t",function(){return c}),e.d(t,"q",function(){return d}),e.d(t,"r",function(){return h}),e.d(t,"p",function(){return f}),e.d(t,"b",function(){return v}),e.d(t,"d",function(){return _}),e.d(t,"s",function(){return b}),e.d(t,"e",function(){return w}),e.d(t,"i",function(){return A}),e.d(t,"a",function(){return E}),e.d(t,"f",function(){return O}),e.d(t,"c",function(){return P}),e.d(t,"g",function(){return y}),e.d(t,"h",function(){return u}),e.d(t,"l",function(){return p}),e.d(t,"j",function(){return g}),e.d(t,"k",function(){return k}),e.d(t,"m",function(){return x}),e.d(t,"n",function(){return j}),e.d(t,"o",function(){return L}),e.d(t,"x",function(){return n}),e.d(t,"w",function(){return o}),e.d(t,"y",function(){return l});var a=e(0),s=1e5,r=100001,c=100002,d=101e3,h=102e3,f=102700,v=200001,_=202e3,b=104e3,w=203e3,A=203640,E=203700,O=204e3,P=306e3,y=308e3,u=308640,p="cantPlayVideo",g="badConnection",k="cantLoadPlayer",x="liveStreamDown",j="technicalError",L=function(){var D=function(X,Q,H){this.code=Object(a.u)(Q)?Q:0,this.sourceError=H||null,X&&(this.key=X)};return D.logMessage=function(F){var X=F%1e3,Q=Math.floor((F-X)/1e3),H=F.toString();return X>=400&&X<600&&(H=Q+"400-"+Q+"599"),"JW Player "+(F>299999&&F<4e5?"Warning":"Error")+" "+F+". For more information see https://developer.jwplayer.com/jw-player/docs/developer-guide/api/errors-reference#"+H},D}()},function(m,t,e){"use strict";var n=function(w){return w.replace(/^\s+|\s+$/g,"")},o=function(w,A,E){for(w=""+w,E=E||"0";w.length<A;)w=E+w;return w},l=function(w,A){for(var E=w.attributes,O=0;O<E.length;O++)if(E[O].name&&E[O].name.toLowerCase()===A.toLowerCase())return E[O].value.toString();return""},a=function(w){if(!w||w.substr(0,4)==="rtmp")return"";var A=/[(,]format=(m3u8|mpd)-/i.exec(w);if(A)return A[1];var E=w.replace(/^.+?\.(\w+)(?:[;].*)?(?:[?#].*)?$/,"$1");return E!==w?E.toLowerCase():(w=w.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?w.substr(w.lastIndexOf(".")+1,w.length).toLowerCase():""},s=function(w){var A=(w/60|0)%60,E=w%60;return o((w/3600|0).toString(),2)+":"+o(A.toString(),2)+":"+o(E.toFixed(3),6)},r=function(w,A){if(!w)return 0;if(Object(v.u)(w))return w;var E=w.replace(",","."),O=E.slice(-1),P=E.split(":"),y=P.length,u=0;if(O==="s")u=_(E);else if(O==="m")u=60*_(E);else if(O==="h")u=3600*_(E);else if(y>1){var p=y-1;y===4&&(A&&(u=_(P[p])/A),p-=1),u+=_(P[p]),u+=60*_(P[p-1]),y>=3&&(u+=3600*_(P[p-2]))}else u=_(E);return Object(v.u)(u)?u:0},c=function(w,A,E){if(Object(v.s)(w)&&w.slice(-1)==="%"){var O=_(w);return A&&Object(v.u)(A)&&Object(v.u)(O)?A*O/100:null}return r(w,E)},d=function(w,A){return w.map(function(E){return A+E})},h=function(w,A){return w.map(function(E){return E+A})},f=function(w){return!!w&&Object(v.s)(w)&&w.slice(-1)==="%"};e.d(t,"i",function(){return n}),e.d(t,"e",function(){return o}),e.d(t,"j",function(){return l}),e.d(t,"a",function(){return a}),e.d(t,"b",function(){return s}),e.d(t,"g",function(){return r}),e.d(t,"d",function(){return c}),e.d(t,"f",function(){return d}),e.d(t,"h",function(){return h}),e.d(t,"c",function(){return f});var v=e(0),_=window.parseFloat},function(m,t,e){"use strict";e.d(t,"jb",function(){return n}),e.d(t,"mb",function(){return o}),e.d(t,"kb",function(){return l}),e.d(t,"ob",function(){return a}),e.d(t,"pb",function(){return s}),e.d(t,"lb",function(){return r}),e.d(t,"nb",function(){return c}),e.d(t,"qb",function(){return d}),e.d(t,"s",function(){return h}),e.d(t,"u",function(){return f}),e.d(t,"t",function(){return v}),e.d(t,"o",function(){return _}),e.d(t,"r",function(){return b}),e.d(t,"Z",function(){return w}),e.d(t,"W",function(){return A}),e.d(t,"v",function(){return E}),e.d(t,"Y",function(){return O}),e.d(t,"w",function(){return P}),e.d(t,"ub",function(){return y}),e.d(t,"a",function(){return u}),e.d(t,"b",function(){return p}),e.d(t,"c",function(){return g}),e.d(t,"d",function(){return k}),e.d(t,"e",function(){return x}),e.d(t,"f",function(){return j}),e.d(t,"i",function(){return L}),e.d(t,"F",function(){return D}),e.d(t,"gb",function(){return F}),e.d(t,"Q",function(){return X}),e.d(t,"C",function(){return Q}),e.d(t,"B",function(){return H}),e.d(t,"E",function(){return ce}),e.d(t,"q",function(){return ne}),e.d(t,"cb",function(){return V}),e.d(t,"n",function(){return Y}),e.d(t,"G",function(){return oe}),e.d(t,"H",function(){return q}),e.d(t,"N",function(){return G}),e.d(t,"O",function(){return J}),e.d(t,"R",function(){return ae}),e.d(t,"ib",function(){return ie}),e.d(t,"bb",function(){return Oe}),e.d(t,"D",function(){return De}),e.d(t,"S",function(){return ke}),e.d(t,"P",function(){return tt}),e.d(t,"T",function(){return Ve}),e.d(t,"V",function(){return Qe}),e.d(t,"M",function(){return ht}),e.d(t,"L",function(){return bt}),e.d(t,"K",function(){return vt}),e.d(t,"I",function(){return Le}),e.d(t,"J",function(){return _e}),e.d(t,"U",function(){return Ne}),e.d(t,"p",function(){return Ze}),e.d(t,"y",function(){return Ke}),e.d(t,"hb",function(){return Pe}),e.d(t,"db",function(){return at}),e.d(t,"eb",function(){return pt}),e.d(t,"g",function(){return lt}),e.d(t,"h",function(){return ct}),e.d(t,"rb",function(){return Ge}),e.d(t,"sb",function(){return ze}),e.d(t,"ab",function(){return He}),e.d(t,"A",function(){return rt}),e.d(t,"m",function(){return it}),e.d(t,"l",function(){return wt}),e.d(t,"fb",function(){return _t}),e.d(t,"tb",function(){return xt}),e.d(t,"z",function(){return ut}),e.d(t,"k",function(){return we}),e.d(t,"X",function(){return N}),e.d(t,"j",function(){return qe}),e.d(t,"x",function(){return Ie});var n="buffering",o="idle",l="complete",a="paused",s="playing",r="error",c="loading",d="stalled",h="drag",f="dragStart",v="dragEnd",_="click",b="doubleClick",w="over",A="move",E="enter",O="out",P=r,y="warning",u="adClick",p="mediaLoaded",g="adPause",k="adPlay",x="adSkipped",j="adTime",L="autostartNotAllowed",D=l,F="ready",X="seek",Q="beforePlay",H="beforeComplete",ce="bufferFull",ne="displayClick",V="playlistComplete",Y="cast",oe="mediaError",q="firstFrame",G="playAttempt",J="playAttemptFailed",ae="seeked",ie="setupError",Oe="state",De="bufferChange",ke="time",tt="ratechange",Ve="mediaType",Qe="volume",ht="mute",bt="metadataCueParsed",vt="meta",Le="levels",_e="levelsChanged",Ne="visualQuality",Ze="controls",Ke="fullscreen",Pe="resize",at="playlistItem",pt="playlist",lt="audioTracks",ct="audioTrackChanged",Ge="subtitlesTracks",ze="subtitlesTrackChanged",He="playbackRateChanged",rt="logoClick",it="captionsList",wt="captionsChanged",_t="providerFirstFrame",xt="userAction",ut="instreamClick",we="breakpoint",N="fullscreenchange",qe="bandwidthEstimate",Ie="float"},function(m,t,e){"use strict";var n=function(c){var d="";return c&&(c.localName?d=c.localName:c.baseName&&(d=c.baseName)),d},o=function(c){var d="";return c&&(c.textContent?d=Object(s.i)(c.textContent):c.text&&(d=Object(s.i)(c.text))),d},l=function(c,d){return c.childNodes[d]},a=function(c){return c.childNodes?c.childNodes.length:0};e.d(t,"b",function(){return n}),e.d(t,"d",function(){return o}),e.d(t,"a",function(){return l}),e.d(t,"c",function(){return a});var s=e(2)},function(m,t,e){"use strict";var n=function(k){return navigator.userAgent.match(k)!==null},o=function(){return!(n(/chrome\/[123456789]/i)&&!n(/chrome\/18/i)&&!s())&&P()},l=function(){try{return window.self!==window.top}catch(k){return!0}};e.d(t,"f",function(){return s}),e.d(t,"l",function(){return r}),e.d(t,"k",function(){return c}),e.d(t,"p",function(){return d}),e.d(t,"g",function(){return h}),e.d(t,"e",function(){return f}),e.d(t,"n",function(){return v}),e.d(t,"r",function(){return _}),e.d(t,"s",function(){return b}),e.d(t,"d",function(){return w}),e.d(t,"i",function(){return A}),e.d(t,"q",function(){return E}),e.d(t,"j",function(){return O}),e.d(t,"c",function(){return o}),e.d(t,"b",function(){return P}),e.d(t,"o",function(){return y}),e.d(t,"m",function(){return l}),e.d(t,"h",function(){return u}),e.d(t,"a",function(){return p});var a=function(){return navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1},s=function(){return n(/gecko\//i)},r=function(){return n(/iP(hone|od)/i)},c=function(){return n(/iPad/i)||a()},d=function(){return n(/Macintosh/i)&&!a()},h=function(){return n(/FBAV/i)},f=function(){return n(/\sEdge?\/\d+/i)},v=function(){return n(/msie/i)},_=function(){return n(/SMART-TV/)},b=function(){return _()&&!n(/SamsungBrowser/)},w=function(){return n(/\s(?:(?:Headless)?Chrome|CriOS)\//i)&&!f()&&!n(/UCBrowser/i)&&!_()},A=function(){return!n(/\sEdg\/\d+/i)&&(f()||n(/trident\/.+rv:\s*11/i)||v())},E=function(){return n(/safari/i)&&!n(/(?:Chrome|CriOS|chromium|android|phantom)/i)||_()},O=function(){return n(/iP(hone|ad|od)/i)||a()},P=function(){return n(/Android/i)&&!n(/Windows Phone/i)},y=function(){return O()||P()||n(/Windows Phone/i)},u=function(){return!1},p=function(){return 0}},function(m,t,e){"use strict";var n=function(V,Y){return V.classList.contains(Y)},o=function(V){return a(V).firstChild},l=function(V,Y){E(V),function(oe,q){if(q){for(var G=document.createDocumentFragment(),J=a(q).childNodes,ae=0;ae<J.length;ae++)G.appendChild(J[ae].cloneNode(!0));oe.appendChild(G)}}(V,Y)},a=function(V){var Y=function(G){if(L||(L=new Q,H=function(){try{if(L.parseFromString("","text/html"))return!0}catch(ae){}return!1}()),H)return L.parseFromString(G,"text/html").body;var J=document.implementation.createHTMLDocument("");return G.toLowerCase().indexOf("<!doctype")>-1?J.documentElement.innerHTML=G:J.body.innerHTML=G,J.body}(V);s(Y);for(var oe=Y.querySelectorAll("*"),q=oe.length;q--;)r(oe[q]);return Y},s=function(V){for(var Y=V.querySelectorAll("script,object,iframe,meta"),oe=Y.length;oe--;){var q=Y[oe];q.parentNode.removeChild(q)}return V},r=function(V){for(var Y=V.attributes,oe=Y.length;oe--;){var q=Y[oe].name;if(/^on/.test(q)&&V.removeAttribute(q),/href/.test(q)){var G=Y[oe].value;/javascript:|javascript&colon;/.test(G)||!ce.test(G)?V.removeAttribute(q):console.warn("Invalid or unsafe URL")}}return V},c=function(V){return V+(V.toString().indexOf("%")>0?"":"px")},d=function(V){return Object(D.s)(V.className)?V.className.split(" "):[]},h=function(V,Y){Y=Object(F.i)(Y),V.className!==Y&&(V.className=Y)},f=function(V){return V.classList?V.classList:d(V)},v=function(V,Y){var oe=d(V);(Array.isArray(Y)?Y:Y.split(" ")).forEach(function(q){Object(D.b)(oe,q)||oe.push(q)}),h(V,oe.join(" "))},_=function(V,Y){var oe=d(V),q=Array.isArray(Y)?Y:Y.split(" ");h(V,Object(D.e)(oe,q).join(" "))},b=function(V,Y,oe){var q=V.className||"";Y.test(q)?q=q.replace(Y,oe):oe&&(q+=" "+oe),h(V,q)},w=function(V,Y,oe){var q=n(V,Y);(oe=Object(D.n)(oe)?oe:!q)!==q&&(oe?v(V,Y):_(V,Y))},A=function(V,Y,oe){V.setAttribute(Y,oe)},E=function(V){for(;V.firstChild;)V.removeChild(V.firstChild)},O=function(V){var Y=document.createElement("link");Y.rel="stylesheet",Y.href=V,document.getElementsByTagName("head")[0].appendChild(Y)},P=function(V){V&&E(V)},y=function(V){var Y={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!V||!document.body.contains(V))return Y;var oe=V.getBoundingClientRect(),q=window.pageYOffset,G=window.pageXOffset;return(oe.width||oe.height||oe.left||oe.top)&&(Y.left=oe.left+G,Y.right=oe.right+G,Y.top=oe.top+q,Y.bottom=oe.bottom+q,Y.width=oe.right-oe.left,Y.height=oe.bottom-oe.top),Y},u=function(V,Y){V.insertBefore(Y,V.firstChild)},p=function(V){return V.nextElementSibling},g=function(V){return V.previousElementSibling},k=function(V,Y,oe){if(oe===void 0&&(oe={}),ce.test(V)){var q=document.createElement("a");q.href=V,q.target=Y,q=r(Object(D.g)(q,oe)),X.Browser.firefox?q.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})):q.click()}},x=function(){var V=window.screen.orientation;return!!V&&(V.type==="landscape-primary"||V.type==="landscape-secondary")||window.orientation===90||window.orientation===-90},j=function(V){return function(Y){var oe=document.createElement("textarea");return oe.innerHTML=Y,oe.value}(V).replace(/&|<|>|"|''/gm,function(Y){return"&#"+Y.charCodeAt(0)+";"}).replace(/&#60;(\/?)(b|strong|i|em|p|br|ul|ol|li|h.)&#62;/gim,"<$1$2>")};e.d(t,"j",function(){return n}),e.d(t,"f",function(){return o}),e.d(t,"r",function(){return l}),e.d(t,"k",function(){return a}),e.d(t,"t",function(){return s}),e.d(t,"s",function(){return r}),e.d(t,"v",function(){return c}),e.d(t,"e",function(){return f}),e.d(t,"b",function(){return v}),e.d(t,"p",function(){return _}),e.d(t,"q",function(){return b}),e.d(t,"w",function(){return w}),e.d(t,"u",function(){return A}),e.d(t,"i",function(){return E}),e.d(t,"c",function(){return O}),e.d(t,"h",function(){return P}),e.d(t,"d",function(){return y}),e.d(t,"n",function(){return u}),e.d(t,"l",function(){return p}),e.d(t,"o",function(){return g}),e.d(t,"m",function(){return k}),e.d(t,"g",function(){return x}),e.d(t,"a",function(){return j});var L,D=e(0),F=e(2),X=e(7),Q=window.DOMParser,H=!0,ce=new RegExp(/^((((https?):\/\/)|(mailto:))(%[0-9A-Fa-f]{2}|[-()_.!~*';/?:@&=+$,A-Za-z0-9])+)([).!';/?:,][[:blank:|:blank:]])?$/)},function(m,t,e){"use strict";var n=function(h,f){var v=h.exec(f);if(v&&v.length>1)return v[1]};e.r(t);var o=e(5);e.d(t,"Browser",function(){return s}),e.d(t,"OS",function(){return r}),e.d(t,"Features",function(){return c});var l=navigator.userAgent,a=function(){},s={get androidNative(){return Object(o.c)()},get chrome(){return Object(o.d)()},get edge(){return Object(o.e)()},get facebook(){return Object(o.g)()},get firefox(){return Object(o.f)()},get ie(){return Object(o.i)()},get msie(){return Object(o.n)()},get safari(){return Object(o.q)()},get version(){return function(d,h){var f,v,_,b;if(d.chrome)f=h.indexOf("Chrome")!==-1?h.substring(h.indexOf("Chrome")+7):h.substring(h.indexOf("CriOS")+6);else if(d.safari)f=h.substring(h.indexOf("Version")+8);else if(d.firefox)f=h.substring(h.indexOf("Firefox")+8);else if(d.edge){var w=h.indexOf("Edge");w===-1?w=h.indexOf("Edg")+4:w+=5,f=h.substring(w)}else d.ie&&(h.indexOf("rv:")!==-1?f=h.substring(h.indexOf("rv:")+3):h.indexOf("MSIE")!==-1&&(f=h.substring(h.indexOf("MSIE")+5)));return f&&((b=f.indexOf(";"))!==-1&&(f=f.substring(0,b)),(b=f.indexOf(" "))!==-1&&(f=f.substring(0,b)),(b=f.indexOf(")"))!==-1&&(f=f.substring(0,b)),v=parseInt(f,10),_=parseInt(f.split(".")[1],10)),{version:f,major:v,minor:_}}(this,l)}},r={get android(){return Object(o.b)()},get iOS(){return Object(o.j)()},get mobile(){return Object(o.o)()},get mac(){return Object(o.p)()},get iPad(){return Object(o.k)()},get iPhone(){return Object(o.l)()},get windows(){return l.indexOf("Windows")>-1},get tizen(){return Object(o.r)()},get tizenApp(){return Object(o.s)()},get version(){return function(d,h){var f,v,_;if(d.windows)switch(f=n(/Windows(?: NT|)? ([._\d]+)/,h)){case"6.1":f="7.0";break;case"6.2":f="8.0";break;case"6.3":f="8.1"}else d.android?f=n(/Android ([._\d]+)/,h):d.iOS?f=n(/OS ([._\d]+)/,h):d.mac?f=n(/Mac OS X ([._\d]+)/,h):d.tizen&&(f=n(/Tizen ([._\d]+)/,h));if(f){v=parseInt(f,10);var b=f.split(/[._]/);b&&(_=parseInt(b[1],10))}return{version:f,major:v,minor:_}}(this,l)}},c={get flash(){return Object(o.h)()},get flashVersion(){return Object(o.a)()},get iframe(){return Object(o.m)()},get passiveEvents(){return function(){var d=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return d=!0}});window.addEventListener("testPassive",a,h),window.removeEventListener("testPassive",a,h)}catch(f){}return d}()},get backgroundLoading(){return!(r.iOS||s.safari||r.tizen)}}},function(m,t,e){"use strict";var n=function(v,_,b,w){if(!b)return!0;if(typeof b=="object"){for(var A in b)Object.prototype.hasOwnProperty.call(b,A)&&v[_].apply(v,[A,b[A]].concat(w));return!1}if(h.test(b)){for(var E=b.split(h),O=0,P=E.length;O<P;O++)v[_].apply(v,[E[O]].concat(w));return!1}return!0},o=function(v,_,b,w){for(var A=-1,E=v.length;++A<E;){var O=v[A];if(w)try{O.callback.apply(O.context||b,_)}catch(P){console.log('Error in "'+w+'" event handler:',P)}else O.callback.apply(O.context||b,_)}};e.d(t,"a",function(){return l}),e.d(t,"c",function(){return a}),e.d(t,"d",function(){return s}),e.d(t,"b",function(){return r}),e.d(t,"e",function(){return c}),e.d(t,"f",function(){return d});var l=function(){var f=function(){},v=f.prototype;return v.on=function(_,b,w){if(!n(this,"on",_,[b,w])||!b)return this;var A=this._events||(this._events={});return(A[_]||(A[_]=[])).push({callback:b,context:w}),this},v.once=function(_,b,w){if(!n(this,"once",_,[b,w])||!b)return this;var A=0,E=this,O=function P(){A++||(E.off(_,P),b.apply(this,arguments))};return O._callback=b,this.on(_,O,w)},v.off=function(_,b,w){if(!this._events||!n(this,"off",_,[b,w]))return this;if(!_&&!b&&!w)return delete this._events,this;for(var A=_?[_]:Object.keys(this._events),E=0,O=A.length;E<O;E++){_=A[E];var P=this._events[_];if(P){var y=this._events[_]=[];if(b||w)for(var u=0,p=P.length;u<p;u++){var g=P[u];(b&&b!==g.callback&&b!==g.callback._callback||w&&w!==g.context)&&y.push(g)}y.length||delete this._events[_]}}return this},v.trigger=function(_){for(var b=arguments.length,w=new Array(b>1?b-1:0),A=1;A<b;A++)w[A-1]=arguments[A];if(!this._events)return this;if(!n(this,"trigger",_,w))return this;var E=this._events[_],O=this._events.all;return E&&o(E,w,this),O&&o(O,arguments,this),this},v.triggerSafe=function(_){for(var b=arguments.length,w=new Array(b>1?b-1:0),A=1;A<b;A++)w[A-1]=arguments[A];if(!this._events)return this;if(!n(this,"trigger",_,w))return this;var E=this._events[_],O=this._events.all;return E&&o(E,w,this,_),O&&o(O,arguments,this,_),this},f}(),a=l.prototype.on,s=l.prototype.once,r=l.prototype.off,c=l.prototype.trigger,d=l.prototype.triggerSafe;l.on=a,l.once=s,l.off=r,l.trigger=c;var h=/\s+/},function(m,t,e){"use strict";var n=function(c,d){return function(){throw new a.o(a.k,c,d)}},o=function(c,d){return function(){throw new a.o(null,c,d)}},l=function(){return e.e(3).then(function(c){return e(54).default}.bind(null,e)).catch(n(a.q+101))};e.d(t,"a",function(){return s}),e.d(t,"b",function(){return n}),e.d(t,"c",function(){return o}),e.d(t,"d",function(){return l});var a=e(1),s={}},function(m,t,e){"use strict";var n=function(f){switch(typeof f=="undefined"?"undefined":_typeof(f)){case"string":return f.length>0;case"object":return f!==null;case"undefined":return!1;default:return!0}},o=function(){return c==="https:"},l=function(){return c==="file:"},a=function(f,v){return f.indexOf("rtmp:")===0||v==="rtmp"},s=function(f,v){return v==="youtube"||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(f)},r=function(f){if(f===null)return"null";var v=typeof f=="undefined"?"undefined":_typeof(f);return v==="object"&&Array.isArray(f)?"array":v};e.r(t),e.d(t,"exists",function(){return n}),e.d(t,"isHTTPS",function(){return o}),e.d(t,"isFileProtocol",function(){return l}),e.d(t,"isRtmp",function(){return a}),e.d(t,"isYouTube",function(){return s}),e.d(t,"typeOf",function(){return r}),e.d(t,"isDeepKeyCompliant",function(){return d});var c=window.location.protocol;function d(h,f,v){var _=Object.keys(h);return Object.keys(f).length>=_.length&&_.every(function(b){var w=h[b],A=f[b];return w&&typeof w=="object"?!(!A||typeof A!="object")&&d(w,A,v):v(b,h)})}},function(m,t,e){"use strict";var n=function(b,w,A,E){A=A||"all-players";var O="";if(typeof w=="object"){var P=document.createElement("div");o(P,w);var y=P.style.cssText;Object.prototype.hasOwnProperty.call(w,"content")&&y&&(y=y+' content: "'+w.content+'";'),E&&y&&(y=y.replace(/;/g," !important;")),O="{"+y+"}"}else typeof w=="string"&&(O=w);O!==""&&O!=="{}"?f.a.style([[b,b+O]],A):f.a.clear(A,b)},o=function(b,w){if(b!=null){var A;b.length===void 0&&(b=[b]);var E={};for(A in w)Object.prototype.hasOwnProperty.call(w,A)&&(E[A]=a(A,w[A]));for(var O=0;O<b.length;O++){var P=b[O],y=void 0;if(P!=null)for(A in E)Object.prototype.hasOwnProperty.call(E,A)&&(y=l(A),P.style[y]!==E[A]&&(P.style[y]=E[A]))}}},l=function(b){b=b.split("-");for(var w=1;w<b.length;w++)b[w]=b[w].charAt(0).toUpperCase()+b[w].slice(1);return b.join("")},a=function(b,w){return w===""||w==null?"":typeof w=="string"&&isNaN(w)?/png|gif|jpe?g/i.test(w)&&w.indexOf("url")<0?"url("+w+")":w:w===0||b==="z-index"||b==="opacity"?""+w:/color/i.test(b)?"#"+Object(d.e)(w.toString(16).replace(/^0x/i,""),6):Math.ceil(w)+"px"},s=function(b,w){o(b,{transform:w})},r=function(b,w){var A="rgb",E=w!==void 0&&w!==100;if(E&&(A+="a"),!c){var O=document.createElement("canvas");O.height=1,O.width=1,c=O.getContext("2d")}b?isNaN(parseInt(b,16))||(b="#"+b):b="#000000",c.clearRect(0,0,1,1),c.fillStyle=b,c.fillRect(0,0,1,1);var P=c.getImageData(0,0,1,1).data;return A+="("+P[0]+", "+P[1]+", "+P[2],E&&(A+=", "+w/100),A+")"};e.d(t,"a",function(){return v}),e.d(t,"b",function(){return n}),e.d(t,"d",function(){return o}),e.d(t,"e",function(){return s}),e.d(t,"c",function(){return r});var c,d=e(2),h=e(31),f=e.n(h),v=f.a.clear},function(m,t,e){"use strict";var n=function(f,v){if(v&&Object(c.exists)(v)||(v=document.location.href),!Object(c.exists)(f))return"";if(o(f))return f;var _,b=v.substring(0,v.indexOf("://")+3),w=v.substring(b.length,v.indexOf("/",b.length+1));if(f.indexOf("/")===0)_=f.split("/");else{var A=v.split("?")[0];_=(A=A.substring(b.length+w.length+1,A.lastIndexOf("/"))).split("/").concat(f.split("/"))}for(var E=[],O=0;O<_.length;O++)_[O]&&Object(c.exists)(_[O])&&_[O]!=="."&&(_[O]===".."?E.pop():E.push(_[O]));return b+w+"/"+E.join("/")},o=function(f){return/^(?:(?:https?|file):)?\/\//.test(f)},l=function(f){var v=null;try{(v=new window.DOMParser().parseFromString(f,"text/xml")).querySelector("parsererror")&&(v=null)}catch(_){}return v},a=function(f){if(f===void 0)return null;if(typeof f=="string"&&f.length<6){var v=f.toLowerCase();if(v==="true")return!0;if(v==="false")return!1;if(!Object(d.q)(Number(f))&&!Object(d.q)(parseFloat(f)))return Number(f)}return f},s=function(f){return Object(d.u)(f)?f:f===""?0:f.lastIndexOf("%")>-1?f:parseInt(f.replace("px",""),10)},r=function(f,v){if(Object(d.q)(f)&&(f=parseInt(f.toString())),Object(d.q)(f)||!isFinite(f)||f<=0&&!v)return"00:00";var _=f<0?"-":"";f=Math.abs(f);var b=Math.floor(f/3600),w=Math.floor((f-3600*b)/60),A=Math.floor(f%60);return _+(b?b+":":"")+(w<10?"0":"")+w+":"+(A<10?"0":"")+A};e.r(t),e.d(t,"getAbsolutePath",function(){return n}),e.d(t,"isAbsolutePath",function(){return o}),e.d(t,"parseXML",function(){return l}),e.d(t,"serialize",function(){return a}),e.d(t,"parseDimension",function(){return s}),e.d(t,"timeFormat",function(){return r});var c=e(10),d=e(0)},function(m,t,e){"use strict";var n=function(k){var x=o(k),j=x.indexOf("_");return j===-1?x:x.substring(0,j)},o=function(k){return k.toLowerCase().replace("-","_")},l=function(k){return k?Object.keys(k).reduce(function(x,j){return x[o(j)]=k[j],x},{}):{}},a=function(k){var x=k.querySelector("html");return x?x.getAttribute("lang"):null},s=function(){var k=a(document);if(!k&&Object(A.m)())try{k=a(window.top.document)}catch(x){}return k||navigator.language||"en"},r=function(k){return k.charCodeAt(0)===8207||/^[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(k)},c=function(k){return p.indexOf(n(k))>=0},d=function(k,x,j){return Object(w.g)({},function(L){var D=L.advertising,F=L.related,X=L.sharing,Q=L.abouttext,H=Object(w.g)({},L.localization);D&&(H.advertising=H.advertising||{},h(H.advertising,D,"admessage"),h(H.advertising,D,"cuetext"),h(H.advertising,D,"loadingAd"),h(H.advertising,D,"podmessage"),h(H.advertising,D,"skipmessage"),h(H.advertising,D,"skiptext")),typeof H.related=="string"?H.related={heading:H.related}:H.related=H.related||{},F&&h(H.related,F,"autoplaymessage"),X&&(H.sharing=H.sharing||{},h(H.sharing,X,"heading"),h(H.sharing,X,"copied")),Q&&h(H,L,"abouttext");var ce=H.close||H.nextUpClose;return ce&&(H.close=ce),H}(k),x[n(j)],x[o(j)])},h=function(k,x,j){var L=k[j]||x[j];L&&(k[j]=L)},f=function(k){return Object(O.isDeepKeyCompliant)(P.a,k,function(x,j){return typeof j[x]=="string"})},v=function(k,x){var j,L=y[x];if(!L){var D=k+"translations/"+(j=n(x),(/^n[bn]$/.test(j)?"no":j)+".json");y[x]=L=new Promise(function(F,X){Object(E.a)({url:D,oncomplete:F,onerror:function(H,ce,ne,V){y[x]=null,X(V)},responseType:"json"})})}return L},_=function(k,x){var j=Object(w.g)({},k,x);return b(j,"errors",k,x),b(j,"related",k,x),b(j,"sharing",k,x),b(j,"advertising",k,x),b(j,"shortcuts",k,x),b(j,"captionsStyles",k,x),j},b=function(k,x,j,L){k[x]=Object(w.g)({},j[x],L[x])};e.d(t,"h",function(){return l}),e.d(t,"c",function(){return s}),e.d(t,"e",function(){return r}),e.d(t,"f",function(){return c}),e.d(t,"b",function(){return d}),e.d(t,"d",function(){return f}),e.d(t,"g",function(){return v}),e.d(t,"a",function(){return _});var w=e(0),A=e(5),E=e(21),O=e(10),P=e(30),y={},u={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish",el:"Greek",fi:"Finnish",id:"Indonesian",ko:"Korean",th:"Thai",vi:"Vietnamese"};Object(w.m)(u);var p=["ar","da","de","el","es","fi","fr","he","id","it","ja","ko","nb","nl","nn","no","oc","pt","ro","ru","sl","sv","th","tr","vi","zh"]},function(m,t,e){"use strict";t.a=[]},function(m,t,e){"use strict";var n=e(49),o=e(10),l=document.createElement("video");e.d(t,"a",function(){return s});var a={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},s=[{name:"html5",supports:function(c){if(!l||!l.canPlayType||Object(n.a)(c)===!1)return!1;var d=c.file,h=c.type;if(Object(o.isRtmp)(d,h))return!1;var f=c.mimeType||a[h];if(!f)return!1;var v=c.mediaTypes;return v&&v.length&&(f=[f].concat(v.slice()).join("; ")),!!l.canPlayType(f)}}]},function(m,t,e){"use strict";e.d(t,"a",function(){return n});var n=Date.now||function(){return new Date().getTime()}},function(m,t,e){"use strict";t.a={debug:!1}},function(m,t,e){"use strict";var n=function(P,y){return v[P]?P:v[y]?y:"metadata"},o=function(P,y,u){var p=Object(f.g)({},u);return delete p.playlist,P.map(function(g){return a(y,g,p)}).filter(function(g){return!!g})},l=function(P){if(!Array.isArray(P)||P.length===0)throw new A.o(A.l,630)},a=function(P,y,u){var p=P.getProviders(),g=P.get("preload"),k=Object(f.g)({},y);if(k.preload=n(y.preload,g),k.allSources=r(k,P),k.sources=c(k.allSources,p),k.sources.length)return k.file=k.sources[0].file,k.feedData=u,function(x){var j=x.sources[0].liveSyncDuration;return j&&(x.liveSyncDuration=x.dvrSeekLimit=j),x}(k)},s=function(P,y){var u=(parseInt(P,10)||0)%y;return u<0&&(u+=y),u},r=function(P,y){var u=y.attributes,p=P.sources,g=P.allSources,k=P.preload,x=P.drm,j=d(P.withCredentials,u.withCredentials);return(g||p).map(function(L){if(L!==Object(L))return null;h(L,u,"androidhls"),h(L,u,"hlsjsdefault"),h(L,u,"safarihlsjs"),function(X,Q,H){if(!X.liveSyncDuration){var ce=Q.liveSyncDuration?Q:H;h(X,ce,"liveSyncDuration")}}(L,P,u),h(L,u,"_hlsjsProgressive"),L.preload=n(L.preload,k);var D=L.drm||x||u.drm;D&&(L.drm=D);var F=d(L.withCredentials,j);return F!==void 0&&(L.withCredentials=F),Object(b.a)(L)}).filter(function(L){return!!L})},c=function(P,y){y&&y.choose||(y=new w.a);var u=function(k,x){for(var j=0;j<k.length;j++){var L=k[j],D=x.choose(L).providerToCheck;if(D)return{type:L.type,provider:D}}return null}(P,y);if(!u)return[];var p=u.provider,g=u.type;return P.filter(function(k){return k.type===g&&y.providerSupports(p,k)})},d=function(P,y){return P===void 0?y:P},h=function(P,y,u){u in y&&(P[u]=y[u])},f=e(0),v={none:!0,metadata:!0,auto:!0},_=e(24),b=e(27),w=e(32),A=e(1);e.d(t,"b",function(){return o}),e.d(t,"e",function(){return l}),e.d(t,"d",function(){return a}),e.d(t,"f",function(){return s}),e.d(t,"c",function(){return E});var E=function(P,y){return c(r(P,y),y.getProviders())};t.a=function(O){return(Array.isArray(O)?O:[O]).map(_.a)}},function(m,t,e){"use strict";e.r(t),e.d(t,"getScriptPath",function(){return o}),e.d(t,"repo",function(){return l}),e.d(t,"versionCheck",function(){return a}),e.d(t,"loadFrom",function(){return s});var n=e(22),o=(e(10),function(c){for(var d=document.getElementsByTagName("script"),h=0;h<d.length;h++){var f=d[h].src;if(f){var v=f.lastIndexOf("/"+c);if(v>=0)return f.substr(0,v+1)}}return""}),l=function(){return o("jwplayer.js")},a=function(c){var d=("0"+c).split(/\W/),h=n.a.split(/\W/),f=parseFloat(d[0]),v=parseFloat(h[0]);return!(f>v)&&!(f===v&&parseFloat("0"+d[1])>parseFloat(h[1]))},s=function(){return o("jwplayer.js")}},function(m,t,e){"use strict";var n=function(c){var d=c.getName().name;if(!o.a[d]){if(!Object(s.i)(l.a,Object(s.w)({name:d}))){if(!Object(s.p)(c.supports))throw new Error("Tried to register a provider with an invalid object");l.a.unshift({name:d,supports:c.supports})}Object(s.d)(c.prototype,a.a),o.a[d]=c}};e.d(t,"a",function(){return n});var o=e(26),l=e(15),a=e(50),s=e(0);e(8)},function(m,t,e){"use strict";var n=function(v){v.onload=null,v.onprogress=null,v.onreadystatechange=null,v.onerror=null,"abort"in v&&v.abort()},o=function(v,_,b,w){v.onerror(_,v.url,v.xhr,new c.o(_,b,w))},l=function(v,_,b){var w=_.documentElement;if(!b.requireValidXML||w.nodeName!=="parsererror"&&!w.getElementsByTagName("parsererror").length)return v.responseXML||(v=Object(a.g)({},v,{responseXML:_})),b.oncomplete(v);o(b,c.l,601)};e.d(t,"a",function(){return h});var a=e(0),s=e(12),r=e(10),c=e(1),d=function(){};function h(f,v,_,b){var w;f===Object(f)&&(f=(b=f).url);var A=Object(a.g)({xhr:null,url:f,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:v||d,onerror:_||d,mimeType:b&&!b.responseType?"text/xml":"",requireValidXML:!1,responseType:b&&b.plainText?"text":"",useDomParser:!1,requestFilter:null},b),E=function(P,y){return function(u,p){var g=u.currentTarget||y.xhr;if(clearTimeout(y.timeoutId),y.retryWithoutCredentials&&y.xhr.withCredentials)return n(g),void h(Object(a.g)({},y,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1}));!p&&g.status>=400&&g.status<600&&(p=g.status),o(y,p?c.l:c.n,p||6,u)}}(0,A);if("XMLHttpRequest"in window){if(w=A.xhr=A.xhr||new window.XMLHttpRequest,typeof A.requestFilter=="function"){var O;try{O=A.requestFilter({url:f,xhr:w})}catch(P){return E(P,5),w}O&&"open"in O&&"send"in O&&(w=A.xhr=O)}w.onreadystatechange=function(P){return function(y){var u=y.currentTarget||P.xhr;if(u.readyState===4){clearTimeout(P.timeoutId);var p=u.status;if(p>=400)return void o(P,c.l,p<600?p:6);if(p===200)return function(g){return function(k){var x=k.currentTarget||g.xhr;if(clearTimeout(g.timeoutId),g.responseType){if(g.responseType==="json")return function(D,F){if(!D.response||typeof D.response=="string"&&D.responseText.substr(1)!=='"')try{D=Object(a.g)({},D,{response:JSON.parse(D.responseText)})}catch(X){return void o(F,c.l,611,X)}return F.oncomplete(D)}(x,g)}else{var j,L=x.responseXML;if(L)try{j=L.firstChild}catch(D){}if(L&&j||g.useDomParser&&x.responseText&&!L&&(L=Object(s.parseXML)(x.responseText))&&L.firstChild)return l(x,L,g);if(g.requireValidXML)return void o(g,c.l,602)}g.oncomplete(x)}}(P)(y);p===0&&Object(r.isFileProtocol)()&&!/^[a-z][a-z0-9+.-]*:/.test(P.url)&&o(P,c.l,7)}}}(A),w.onerror=E,"overrideMimeType"in w?A.mimeType&&w.overrideMimeType(A.mimeType):A.useDomParser=!0;try{f=f.replace(/#.*$/,""),w.open("GET",f,!0)}catch(P){return E(P,3),w}if(A.responseType)try{w.responseType=A.responseType}catch(P){}A.timeout&&(A.timeoutId=setTimeout(function(){n(w),o(A,c.n,1)},A.timeout),w.onabort=function(){clearTimeout(A.timeoutId)});try{A.withCredentials&&"withCredentials"in w&&(w.withCredentials=!0),w.send()}catch(P){E(P,4)}return w}o(A,c.n,2)}},function(m,t,e){"use strict";e.d(t,"a",function(){return n});var n="8.22.0+local.2021-09-01-23-05-40-496"},function(m,t,e){"use strict";var n=function(){return s+a.now()},o=e(0),l=e(16),a=window.performance||{timing:{}},s=a.timing.navigationStart||Object(l.a)();"now"in a||(a.now=function(){return Object(l.a)()-s});var r=function(){var c=function(){this.startTimes={},this.sum={},this.counts={},this.ticks={}},d=c.prototype;return d.start=function(h){this.startTimes[h]=n(),this.counts[h]=this.counts[h]+1||1},d.end=function(h){if(this.startTimes[h]){var f=n()-this.startTimes[h];delete this.startTimes[h],this.sum[h]=this.sum[h]+f||f}},d.dump=function(){var h=Object(o.g)({},this.sum);for(var f in this.startTimes)if(Object.prototype.hasOwnProperty.call(this.startTimes,f)){var v=n()-this.startTimes[f];h[f]=h[f]+v||v}return{counts:Object(o.g)({},this.counts),sums:h,events:Object(o.g)({},this.ticks)}},d.tick=function(h){this.ticks[h]=n()},d.clear=function(h){delete this.ticks[h]},d.between=function(h,f){return this.ticks[f]&&this.ticks[h]?this.ticks[f]-this.ticks[h]:null},c}();t.a=r},function(m,t,e){"use strict";var n=e(0),o=e(27),l=["captions","metadata","thumbnails","chapters"],a=function(d){if(d&&d.file){var h,f=Object(n.g)({},{kind:"captions",default:!1},d);return f.kind=(h=f.kind,l.indexOf(h)!==-1?f.kind:"captions"),f.default=!!f.default,f}},s=e(28),r=Array.isArray;t.a=function(c){r((c=c||{}).tracks)||delete c.tracks;var d=Object(n.g)({},{sources:[],tracks:[],minDvrWindow:s.b},c);d.sources!==Object(d.sources)||r(d.sources)||(d.sources=[Object(o.a)(d.sources)]),r(d.sources)&&d.sources.length!==0||(c.levels?d.sources=c.levels:d.sources=[Object(o.a)(c)]);for(var h=0;h<d.sources.length;h++){var f=d.sources[h];if(f){var v=f.default;f.default=!!v&&v.toString()==="true",d.sources[h].label||(d.sources[h].label=h.toString()),d.sources[h]=Object(o.a)(d.sources[h])}}return d.sources=d.sources.filter(function(_){return!!_}),r(d.tracks)||(d.tracks=[]),r(d.captions)&&(d.tracks=d.tracks.concat(d.captions),delete d.captions),d.tracks=d.tracks.map(a).filter(function(_){return!!_}),d}},function(m,t,e){"use strict";var n=function(P,y){var u=P.get("plugins");return window.jwplayerPluginJsonp=E,(P.pluginLoader=P.pluginLoader||new s).load(y,A,u,P).then(function(p){if(!P.attributes._destroyed)return delete window.jwplayerPluginJsonp,p})},o=e(1),l=e(0),a=function(P){return P.replace(/^(.*\/)?([^-]*)-?.*\.(js)$/,"$2")},s=function(){this.load=function(P,y,u,p){return u&&typeof u=="object"?Promise.all(Object.keys(u).filter(function(g){return g}).map(function(g){var k=u[g];return y.setupPlugin(g).then(function(x){if(!p.attributes._destroyed)return function(j,L,D){var F=j.name,X=Object(l.g)({},L),Q=document.createElement("div");Q.id=D.id+"_"+F,Q.className="jw-plugin jw-reset";var H=j.getNewInstance(D,X,Q);return D.addPlugin(F,H),H}(x,k,P)}).catch(function(x){return y.removePlugin(g),x.code?x:new o.o(null,305e3,x)})})):Promise.resolve()}},r=e(35),c=e(12),d=e(2),h=function(P){if(typeof P=="string"){var y=(P=P.split("?")[0]).indexOf("://");if(y>0)return 0;var u=P.indexOf("/"),p=Object(d.a)(P);return!(y<0&&u<0)||p&&isNaN(p)?1:2}},f=function(P){this.url=P,this.promise_=null};Object.defineProperties(f.prototype,{promise:{get:function(){return this.load()},set:function(){}}}),Object(l.g)(f.prototype,{load:function(){var P=this,y=this.promise_;if(!y){if(h(this.url)===2)return Promise.resolve(this);var u=new r.a(function(p){switch(h(p)){case 0:return p;case 1:return Object(c.getAbsolutePath)(p,window.location.href)}}(this.url));this.loader=u,y=u.load().then(function(){return P}),this.promise_=y}return y},registerPlugin:function(P,y,u){this.name=P,this.target=y,this.js=u},getNewInstance:function(P,y,u){var p=this.js;if(typeof p!="function")throw new o.o(null,(this.url,305100));var g=new p(P,y,u);return g.addToPlayer=function(){var k=this.getContainer().querySelector(".jw-overlays");k&&(u.left=k.style.left,u.top=k.style.top,k.appendChild(u))},g.resizeHandler=function(){var k=this.getContainer().querySelector(".jw-overlays");k&&g.resize(k.clientWidth,k.clientHeight)},g}});var v=f,_=e(36),b={},w=function(){var O=function(){},P=O.prototype;return P.setupPlugin=function(y){var u=this.getPlugin(y);return u?(u.url!==y&&Object(_.a)('JW Plugin "'+a(y)+'" already loaded from "'+u.url+'". Ignoring "'+y+'."'),u.promise):this.addPlugin(y).load()},P.addPlugin=function(y){var u=a(y),p=b[u];return p||(p=new v(y),b[u]=p),p},P.getPlugin=function(y){return b[a(y)]},P.removePlugin=function(y){delete b[a(y)]},P.getPlugins=function(){return b},O}();e.d(t,"b",function(){return E}),e.d(t,"a",function(){return n});var A=new w,E=function(P,y,u){var p=A.addPlugin(P);p.js||p.registerPlugin(P,y,u)}},function(m,t,e){"use strict";e.d(t,"a",function(){return n});var n={}},function(m,t,e){"use strict";var n=e(0),o=e(10),l=e(2);t.a=function(a){if(a&&a.file){var s=Object(n.g)({},{default:!1,type:""},a);s.file=Object(l.i)(""+s.file);var r=/^[^/]+\/(?:x-)?([^/]+)$/,c=s.type;if(r.test(c)&&(s.mimeType=c,s.type=c.replace(r,"$1")),Object(o.isYouTube)(s.file)?s.type="youtube":Object(o.isRtmp)(s.file)?s.type="rtmp":s.type||(s.type=Object(l.a)(s.file)),s.type){switch(s.type){case"m3u8":case"vnd.apple.mpegurl":s.type="hls";break;case"dash+xml":s.type="dash";break;case"m4a":s.type="aac";break;case"smil":s.type="rtmp"}return Object.keys(s).forEach(function(d){s[d]===""&&delete s[d]}),s}}}},function(m,t,e){"use strict";e.d(t,"d",function(){return n}),e.d(t,"c",function(){return o}),e.d(t,"b",function(){return l}),e.d(t,"a",function(){return a});var n={audioMode:!1,itemMeta:{},playbackRate:1,playRejected:!1,state:e(3).mb,itemReady:!1,controlsEnabled:!1},o={position:0,duration:0,buffer:0,currentTime:0},l=120,a=25},function(m,t,e){"use strict";var n=function(){return a||(a=l.OS.tizenApp?e.e(2).then(function(c){var d=e(55).default;return s.controls=d,d}.bind(null,e)).catch(function(){a=null,Object(o.c)(301133)()}):e.e(1).then(function(c){var d=e(52).default;return s.controls=d,d}.bind(null,e)).catch(function(){a=null,Object(o.c)(301130)()})),a};e.d(t,"a",function(){return s}),e.d(t,"b",function(){return n});var o=e(9),l=e(7),a=null,s={}},function(m,t,e){"use strict";t.a={advertising:{admessage:"This ad will end in xx",cuetext:"Advertisement",displayHeading:"Advertisement",loadingAd:"Loading ad",podmessage:"Ad __AD_POD_CURRENT__ of __AD_POD_LENGTH__.",skipmessage:"Skip ad in xx",skiptext:"Skip"},airplay:"AirPlay",audioTracks:"Audio Tracks",auto:"Auto",buffer:"Loading",cast:"Chromecast",cc:"Closed Captions",close:"Close",errors:{badConnection:"This video cannot be played because of a problem with your internet connection.",cantLoadPlayer:"Sorry, the video player failed to load.",cantPlayInBrowser:"The video cannot be played in this browser.",cantPlayVideo:"This video file cannot be played.",errorCode:"Error Code",liveStreamDown:"The live stream is either down or has ended.",protectedContent:"There was a problem providing access to protected content.",technicalError:"This video cannot be played because of a technical error."},exitFullscreen:"Exit Fullscreen",fullscreen:"Fullscreen",hd:"Quality",liveBroadcast:"Live",logo:"Logo",mute:"Mute",next:"Next",nextUp:"Next Up",notLive:"Not Live",off:"Off",pause:"Pause",pipIcon:"Picture in Picture (PiP)",play:"Play",playback:"Play",playbackRates:"Playback Rates",player:"Video Player",poweredBy:"Powered by",prev:"Previous",related:{autoplaymessage:"Next up in xx",heading:"More Videos"},replay:"Replay",rewind:"Rewind 10 Seconds",settings:"Settings",sharing:{copied:"Copied",email:"Email",embed:"Embed",heading:"Share",link:"Link"},slider:"Seek",stop:"Stop",unmute:"Unmute",videoInfo:"About This Video",volume:"Volume",volumeSlider:"Volume",shortcuts:{playPause:"Play/Pause",volumeToggle:"Mute/Unmute",fullscreenToggle:"Fullscreen/Exit Fullscreen",seekPercent:"Seek %",keyboardShortcuts:"Keyboard Shortcuts",increaseVolume:"Increase Volume",decreaseVolume:"Decrease Volume",seekForward:"Seek Forward",seekBackward:"Seek Backward",spacebar:"SPACE",captionsToggle:"Captions On/Off"},captionsStyles:{subtitleSettings:"Subtitle Settings",color:"Font Color",fontOpacity:"Font Opacity",userFontScale:"Font Size",fontFamily:"Font Family",edgeStyle:"Character Edge",backgroundColor:"Background Color",backgroundOpacity:"Background Opacity",windowColor:"Window Color",windowOpacity:"Window Opacity",white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",magenta:"Magenta",cyan:"Cyan",none:"None",raised:"Raised",depressed:"Depressed",uniform:"Uniform",dropShadow:"Drop Shadow"},disabled:"Disabled",enabled:"Enabled",reset:"Reset"}},function(m,t){var e=function(v){var _=document.createElement("style");return _.type="text/css",_.setAttribute("data-jwplayer-id",v),function(b){c().appendChild(b)}(_),_},n=function(v,_){var b,w,A,E=r[v];E||(E=r[v]={element:e(v),counter:0});var O=E.counter++;return b=E.element,A=function(){o(b,O,"")},(w=function(y){o(b,O,y)})(_.css),function(P){if(P){if(P.css===_.css&&P.media===_.media)return;w((_=P).css)}else A()}},o=function(v,_,b){if(v.styleSheet)v.styleSheet.cssText=h(_,b);else{var w=document.createTextNode(b),A=v.childNodes[_];A?v.replaceChild(w,A):v.appendChild(w)}},l,a,s={},r={},c=(l=function(){return document.head||document.getElementsByTagName("head")[0]},function(){return a===void 0&&(a=l.apply(this,arguments)),a});m.exports={style:function(v,_){(function(b,w){for(var A=0;A<w.length;A++){var E=w[A],O=(s[b]||{})[E.id];if(O){for(var P=0;P<O.parts.length;P++)O.parts[P](E.parts[P]);for(;P<E.parts.length;P++)O.parts.push(n(b,E.parts[P]))}else{var y=[];for(P=0;P<E.parts.length;P++)y.push(n(b,E.parts[P]));s[b]=s[b]||{},s[b][E.id]={id:E.id,parts:y}}}})(_,function(b){for(var w=[],A={},E=0;E<b.length;E++){var O=b[E],P=O[0],y=O[1],u=O[2],p={css:y,media:u};A[P]?A[P].parts.push(p):w.push(A[P]={id:P,parts:[p]})}return w}(v))},clear:function(v,_){var b=s[v];if(b){if(_){var w=b[_];if(w)for(var A=0;A<w.parts.length;A+=1)w.parts[A]();return}for(var E=Object.keys(b),O=0;O<E.length;O+=1)for(var P=b[E[O]],y=0;y<P.parts.length;y+=1)P.parts[y]();delete s[v]}}};var d,h=(d=[],function(v,_){return d[v]=_,d.filter(Boolean).join("\n")})},function(m,t,e){"use strict";var n=function(h){this.config=h||{}},o=e(0),l=e(15),a=e(26),s=e(20),r=e(9),c={html5:function(){return e.e(10).then(function(h){var f=e(117).default;return Object(s.a)(f),f}.bind(null,e)).catch(Object(r.b)(152))}};Object(o.g)(n.prototype,{load:function(h){var f=c[h],v=function(){return Promise.reject(new Error("Failed to load media"))};return f?f().then(function(){var _=a.a[h];return _||v()}):v()},providerSupports:function(h,f){return h.supports(f)},choose:function(h){if(h===Object(h))for(var f=l.a.length,v=0;v<f;v++){var _=l.a[v];if(this.providerSupports(_,h))return{priority:f-v-1,name:_.name,type:h.type,providerToCheck:_,provider:a.a[_.name]}}return{}}}),t.a=n},function(m,t,e){"use strict";var n=function(s,r){var c=r.message,d=r.code,h=function(b,w,A,E){return'<div id="'+b+'" class="jw-error jw-reset"><div class="jw-error-msg jw-info-overlay jw-reset"><style>[id="'+b+'"].jw-error{background:#000;overflow:hidden;position:relative}[id="'+b+'"] .jw-error-msg{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}[id="'+b+'"] .jw-error-text{text-align:start;color:#FFF;font:14px/1.35 Arial,Helvetica,sans-serif}</style><div class="jw-icon jw-reset"></div><div class="jw-info-container jw-reset"><div class="jw-error-text jw-reset-text" dir="auto" data-nosnippet>'+(w||"")+'<span class="jw-break jw-reset"></span>'+(E?("("+A+": "+E+")").replace(/\s+/g,"&nbsp;"):"")+"</div></div></div></div>"}(s.get("id"),c,s.get("localization").errors.errorCode,d.toString()),f=s.get("width"),v=s.get("height"),_=Object(o.f)(h);return Object(l.d)(_,{width:f.toString().indexOf("%")>0?f:f+"px",height:v.toString().indexOf("%")>0?v:v+"px"}),_},o=e(6),l=e(11);e.d(t,"a",function(){return n})},function(m,t,e){"use strict";var n=function(a){return a.slice&&a.slice(-2)==="px"&&(a=a.slice(0,-2)),a},o=function(a,s){if(s.toString().indexOf("%")===-1||typeof a!="string"||!a)return 0;if(/^\d*\.?\d+%$/.test(a))return a;var r=a.indexOf(":");if(r===-1)return 0;var c=parseFloat(a.substr(0,r)),d=parseFloat(a.substr(r+1));return c<=0||d<=0?0:d/c*100+"%"};e.d(t,"b",function(){return n}),e.d(t,"a",function(){return o})},function(m,t,e){"use strict";var n=function(h){var f=document.createElement("link");return f.type="text/css",f.rel="stylesheet",f.href=h,f},o=function(h,f){var v=document.createElement("script");return v.type="text/javascript",v.charset="utf-8",v.async=!0,v.timeout=f||45e3,v.src=h,v},l=e(0),a=e(8),s=e(3),r={},c=function(h,f,v){var _=function(O){A=2,w.trigger(s.w,O).off()},b=function(O){A=3,w.trigger(s.kb,O).off()},w=this,A=0;this.getStatus=function(){return A},this.load=function(){var E=r[h];return A!==0||(E&&E.then(b).catch(_),A=1,E=new Promise(function(O,P){var y=(f?n:o)(h,v),u=function(){y.onerror=y.onload=null,clearTimeout(g)},p=function(j){u(),_(j),P(j)},g=setTimeout(function(){p(new Error("Network timeout "+h))},45e3);y.onerror=function(){p(new Error("Failed to load "+h))},y.onload=function(x){u(),b(x),O(x)};var k=document.getElementsByTagName("head")[0]||document.documentElement;k.insertBefore(y,k.firstChild)}),r[h]=E),E}};Object(l.g)(c.prototype,a.a),t.a=c},function(m,t,e){"use strict";e.d(t,"a",function(){return n});var n=typeof console.log=="function"?console.log.bind(console):function(){}},function(m,t,e){"use strict";var n=function(H){return H&&!(F.test(H)||typeof H=="object")},o=function(H){if(!H.handlers.init){var ce=H.el,ne=H.passive,V=!!j&&{passive:ne},Y=function(G){if(H.dragged)f(H,A.s,G);else{var J=v(G),ae=J.pageX,ie=J.pageY,Oe=ae-H.startX,De=ie-H.startY;Oe*Oe+De*De>36&&(f(H,A.u,G),H.dragged=!0,f(H,A.s,G))}var ke;ne||G.type!=="touchmove"||(ke=G).preventDefault&&ke.preventDefault()},oe=function(G){clearTimeout(u),H.el&&(d(H),c(H,"window"),H.dragged&&(H.dragged=!1,f(H,A.t,G)))};a(H,"init"),b(H,"init",function(q){if(Object(P.p)(ce,"jw-tab-focus"),!_(q)){var G=q.target,J=q.type;if(!H.directSelect||G===ce){var ae=v(q),ie=ae.pageX,Oe=ae.pageY;if(H.dragged=!1,H.startX=ie,H.startY=Oe,c(H,"window"),J==="pointerdown"&&q.isPrimary){if(!ne){var De=q.pointerId;H.pointerId=De,ce.setPointerCapture(De)}r(H,"window","pointermove",Y,V),r(H,"window","pointercancel",oe),r(H,"window","pointerup",oe)}else J==="mousedown"?(r(H,"window","mousemove",Y,V),r(H,"window","mouseup",oe)):J==="touchstart"&&(r(H,"window","touchmove",Y,V),r(H,"window","touchcancel",oe),r(H,"window","touchend",oe))}}},V),p||(p=new D(document).on("interaction"))}},l=function(H){if(!H.handlers.select){var ce=H.el;a(H,"select"),b(H,"select",function(ne){var V=ne.target;_(ne)||H.directSelect&&V!==ce||(ne.isPrimary&&V.tageName==="BUTTON"&&V.focus(),H.lastStart=Object(O.a)(),H.clicking=!0)}),r(H,"select","click",function(ne){_(ne)||H.directSelect&&ne.target!==ce||(Object(O.a)()-H.lastStart>500&&H.clicking===!0||(function(V,Y){V.enableDoubleClick&&(Object(O.a)()-V.lastClick<300?(f(V,A.r,Y),V.lastClick=0):V.lastClick=Object(O.a)())}(H,ne),f(H,A.o,ne)),H.clicking=!1)})}},a=function(H,ce){if(!H.handlers.init&&!H.handlers.select){var ne=H.el;r(H,ce,"blur",function(){Object(P.p)(ne,"jw-tab-focus"),H.clicking=!1}),r(H,ce,"focus",function(){p.event&&p.event.type==="keydown"&&Object(P.b)(ne,"jw-tab-focus")})}},s=function(H){var ce=H.ownerDocument||H;return ce.defaultView||ce.parentWindow||window},r=function(H,ce,ne,V,Y){Y===void 0&&(Y=L);var oe=H.handlers[ce],q=H.options[ce];if(oe||(oe=H.handlers[ce]={},q=H.options[ce]={}),oe[ne])throw new Error(ce+" "+ne+" already registered");oe[ne]=V,q[ne]=Y;var G=H.el;(ce==="window"?s(G):G).addEventListener(ne,V,Y)},c=function(H,ce){var ne=H.el,V=H.handlers,Y=H.options,oe=ce==="window"?s(ne):ne,q=V[ce],G=Y[ce];q&&(Object.keys(q).forEach(function(J){var ae=G[J];typeof ae=="boolean"?oe.removeEventListener(J,q[J],ae):oe.removeEventListener(J,q[J])}),V[ce]=null,Y[ce]=null)},d=function(H){var ce=H.el;H.pointerId!==null&&(ce.releasePointerCapture(H.pointerId),H.pointerId=null)},h=function(H,ce,ne){var V=H.el,Y=ne.target;H.trigger(ce,{type:ce,sourceEvent:ne,currentTarget:V,target:Y})},f=function(H,ce,ne){var V=function(Y,oe,q){var G,J=oe.target,ae=oe.touches,ie=oe.changedTouches,Oe=oe.pointerType;ae||ie?(G=ae&&ae.length?ae[0]:ie[0],Oe=Oe||"touch"):(G=oe,Oe=Oe||"mouse");var De=G,ke=De.pageX,tt=De.pageY;return{type:Y,pointerType:Oe,pageX:ke,pageY:tt,sourceEvent:oe,currentTarget:q,target:J}}(ce,ne,H.el);H.trigger(ce,V)},v=function(H){return H.type.indexOf("touch")===0?(H.originalEvent||H).changedTouches[0]:H},_=function(H){return!(!H.ctrlKey||H.type!=="click")||("which"in H?H.which===3:"button"in H&&H.button===2)},b=function(H,ce,ne,V){k?r(H,ce,"pointerdown",ne,V):(x&&r(H,ce,"mousedown",ne,V),r(H,ce,"touchstart",ne,V))};e.d(t,"a",function(){return D}),e.d(t,"b",function(){return s}),e.d(t,"c",function(){return _});var w=e(7),A=e(3),E=e(8),O=e(16),P=e(6);function y(Q,H){return(y=Object.setPrototypeOf||function(ce,ne){return ce.__proto__=ne,ce})(Q,H)}var u,p,g="ontouchstart"in window,k="PointerEvent"in window&&!w.OS.android,x=!(k||g&&w.OS.mobile),j=w.Features.passiveEvents,L=!!j&&{passive:!0},D=function(Q){var H=function(oe,q){var G;G=Q.call(this)||this;var J=!(q=q||{}).preventScrolling;return G.directSelect=!!q.directSelect,G.dragged=!1,G.enableDoubleClick=!1,G.el=oe,G.handlers={},G.options={},G.lastClick=0,G.lastStart=0,G.passive=J,G.pointerId=null,G.startX=0,G.startY=0,G.event=null,G.clicking=!1,G},ce,ne;ne=Q,(ce=H).prototype=Object.create(ne.prototype),ce.prototype.constructor=ce,y(ce,ne);var V=H.prototype;return V.on=function(Y,oe,q){return n(Y)&&(this.handlers[Y]||X[Y](this)),Q.prototype.on.call(this,Y,oe,q)},V.off=function(Y,oe,q){var G=this;if(n(Y))c(this,Y);else if(!Y){var J=this.handlers;Object.keys(J).forEach(function(ae){c(G,ae)})}return Q.prototype.off.call(this,Y,oe,q)},V.destroy=function(){this.el&&(this.off(),k&&d(this),this.el=null)},H}(E.a),F=/\s+/,X={drag:function(H){o(H)},dragStart:function(H){o(H)},dragEnd:function(H){o(H)},click:function(H){l(H)},doubleClick:function(H){H.enableDoubleClick=!0,l(H)},longPress:function(H){if(w.OS.iOS){var ce=function(){clearTimeout(u)};r(H,"longPress","touchstart",function(ne){ce(),u=setTimeout(function(){f(H,"longPress",ne)},500)}),r(H,"longPress","touchmove",ce),r(H,"longPress","touchcancel",ce),r(H,"longPress","touchend",ce)}else H.el.oncontextmenu=function(ne){return f(H,"longPress",ne),!1}},focus:function(H){r(H,"focus","focus",function(ce){h(H,"focus",ce)})},blur:function(H){r(H,"blur","blur",function(ce){h(H,"blur",ce)})},over:function(H){(k||x)&&r(H,A.Z,k?"pointerover":"mouseover",function(ce){ce.pointerType!=="touch"&&f(H,A.Z,ce)})},out:function(H){if(k){var ce=H.el;r(H,A.Y,"pointerout",function(ne){if(ne.pointerType!=="touch"&&"clientX"in ne){var V=document.elementFromPoint(ne.clientX,ne.clientY);ce.contains(V)||f(H,A.Y,ne)}})}else x&&r(H,A.Y,"mouseout",function(ne){f(H,A.Y,ne)})},move:function(H){(k||x)&&r(H,A.W,k?"pointermove":"mousemove",function(ce){ce.pointerType!=="touch"&&f(H,A.W,ce)})},enter:function(H){r(H,A.v,"keydown",function(ce){ce.key!=="Enter"&&ce.keyCode!==13||(ce.stopPropagation(),h(H,A.v,ce))})},keydown:function(H){r(H,"keydown","keydown",function(ce){h(H,"keydown",ce)},!1)},gesture:function(H){var ce=function(V){return f(H,"gesture",V)};r(H,"gesture","click",ce),r(H,"gesture","keydown",ce)},interaction:function(H){var ce=function(V){H.event=V};r(H,"interaction","mousedown",ce,!0),r(H,"interaction","keydown",ce,!0)},tap:function(){},doubleTap:function(){}}},function(m,t,e){"use strict";e.d(t,"b",function(){return n}),e.d(t,"a",function(){return o});var n=window.requestAnimationFrame||function(l){return setTimeout(l,17)},o=window.cancelAnimationFrame||clearTimeout},function(m,t,e){"use strict";var n=function(P,y){this.name=P,this.message=y.message||y.toString(),this.error=y},o=e(0),l=e(19),a=e(10),s=e(12),r=e(2),c=e(23),d=e(17),h=e(5),f=e(6),v=e(11),_=e(21),b=e(40),w=e(36),A=e(41),E=Object(o.g)({},s,a,l,{addClass:f.b,hasClass:f.j,removeClass:f.p,replaceClass:f.q,toggleClass:f.w,classList:f.e,styleDimension:f.v,createElement:f.f,emptyElement:f.i,addStyleSheet:f.c,bounds:f.d,openLink:f.m,replaceInnerHtml:f.r,css:v.b,clearCss:v.a,style:v.d,transform:v.e,getRgba:v.c,ajax:_.a,crossdomain:function(P){var y=window.URL;try{var u=new y(P,location.origin);return location.protocol+"//"+location.host!=u.protocol+"//"+u.host}catch(p){}return!0},tryCatch:function(P,y,u){if(u===void 0&&(u=[]),d.a.debug)return P.apply(y||this,u);try{return P.apply(y||this,u)}catch(p){return new n(P.name,p)}},Error:n,Timer:c.a,log:w.a,genId:A.b,between:b.a,foreach:function(P,y){for(var u in P)Object.prototype.hasOwnProperty.call(P,u)&&y(u,P[u])},flashVersion:h.a,isIframe:h.m,indexOf:o.l,trim:r.i,pad:r.e,extension:r.a,hms:r.b,seconds:r.g,prefix:r.f,suffix:r.h,noop:function(){}});t.a=E},function(m,t,e){"use strict";e.d(t,"a",function(){return n});var n=function(l,a,s){return Math.max(Math.min(l,s),a)}},function(m,t,e){"use strict";var n=function(){try{var s=window.crypto||window.msCrypto;if(s&&s.getRandomValues)return s.getRandomValues(new Uint32Array(1))[0].toString(36)}catch(r){}return Math.random().toString(36).slice(2,9)},o=function(s){for(var r="";r.length<s;)r+=n();return r.slice(0,s)};e.d(t,"a",function(){return l}),e.d(t,"b",function(){return o});var l=12},function(m,t,e){"use strict";var n=function(l,a,s){var r=[],c={};function d(){for(;r.length>0;){var h=r.shift(),f=h.command,v=h.args;(c[f]||l[f]).apply(l,v)}}a.forEach(function(h){var f=l[h];c[h]=f,l[h]=function(){for(var v=arguments.length,_=new Array(v),b=0;b<v;b++)_[b]=arguments[b];s()?r.push({command:h,args:_}):(d(),f&&f.apply(this,_))}}),Object.defineProperty(this,"queue",{enumerable:!0,get:function(){return r}}),this.flush=d,this.empty=function(){r.length=0},this.off=function(){a.forEach(function(h){var f=c[h];f&&(l[h]=f,delete c[h])})},this.destroy=function(){this.off(),this.empty()}};e.d(t,"a",function(){return n})},function(m,t,e){"use strict";function n(l,a){return(n=Object.setPrototypeOf||function(s,r){return s.__proto__=r,s})(l,a)}e.d(t,"a",function(){return o});var o=function(l){var a=function(){var h;return(h=l.call(this)||this).attributes=Object.create(null),h},s,r;r=l,(s=a).prototype=Object.create(r.prototype),s.prototype.constructor=s,n(s,r);var c=a.prototype;return c.addAttributes=function(d){var h=this;Object.keys(d).forEach(function(f){h.add(f,d[f])})},c.add=function(d,h){var f=this;Object.defineProperty(this,d,{get:function(){return f.attributes[d]},set:function(_){return f.set(d,_)},enumerable:!1}),this.attributes[d]=h},c.get=function(d){return this.attributes[d]},c.set=function(d,h){if(this.attributes[d]!==h){var f=this.attributes[d];this.attributes[d]=h,this.trigger("change:"+d,this,h,f)}},c.clone=function(){var d={},h=this.attributes;if(h)for(var f in h)d[f]=h[f];return d},c.change=function(d,h,f){this.on("change:"+d,h,f);var v=this.get(d);return h.call(f,this,v,v),this},a}(e(8).a)},function(m,t,e){"use strict";e.d(t,"c",function(){return n}),e.d(t,"b",function(){return o}),e.d(t,"a",function(){return l});var n=4,o=5,l=1},function(m,t,e){"use strict";var n=function(a,s){return Object(o.g)({},s,{prime:function(){a.src||a.load()},getPrimedElement:function(){return a},clean:function(){s.clean(a)},recycle:function(){s.clean(a)}})};e.d(t,"a",function(){return n});var o=e(0)},function(m,t,e){"use strict";t.a="hidden"in document?function(){return!document.hidden}:"webkitHidden"in document?function(){return!document.webkitHidden}:function(){return!0}},function(m,t,e){"use strict";var n=function(Le){return H||(H=function(_e){var Ne=_e.get("controls"),Ze=o(),Ke=function(at,pt){var lt=at.get("playlist");if(Array.isArray(lt)&&lt.length)for(var ct=Object(L.f)(at.get("item"),lt.length),Ge=Object(L.c)(Object(j.a)(lt[ct]),at),ze=0;ze<Ge.length;ze++)for(var He=Ge[ze],rt=at.getProviders(),it=0;it<D.a.length;it++){var wt=D.a[it];if(rt.providerSupports(wt,He))return wt.name===pt}return!1}(_e,"html5");if(y.OS.tizen)return l();if(Ne&&Ze&&Ke)return Pe=e.e(7).then(function(at){e(116);var pt=e(54).default;return X.a.controls=e(52).default,Object(F.a)(e(117).default),pt}.bind(null,e)).catch(Object(x.b)(Q.q+105)),x.a.html5=Pe,Pe;var Pe;return Ne&&Ke?function(){var at=e.e(5).then(function(pt){var lt=e(54).default;return X.a.controls=e(52).default,Object(F.a)(e(117).default),lt}.bind(null,e)).catch(Object(x.b)(Q.q+104));return x.a.html5=at,at}():Ne&&Ze?e.e(6).then(function(at){e(116);var pt=e(54).default;return X.a.controls=e(52).default,pt}.bind(null,e)).catch(Object(x.b)(Q.q+103)):Ne?e.e(4).then(function(at){var pt=e(54).default;return X.a.controls=e(52).default,pt}.bind(null,e)).catch(Object(x.b)(Q.q+102)):l()}(Le)),H},o=function(){var Le=window.IntersectionObserverEntry;return!Le||!("IntersectionObserver"in window)||!("intersectionRatio"in Le.prototype)},l=function(){return function(){return o()?e.e(8).then(function(Le){return e(116)}.bind(null,e)).catch(Object(x.b)(Q.q+120)):Promise.resolve()}().then(x.d)},a=function(Le,_e,Ne){var Ze=Le.attributes;Ze.playlist=Object(L.a)(_e),Ze.feedData=Ne},s=function(Le){return function(_e){var Ne=_e.get("playlist");return new Promise(function(Ze,Ke){if(typeof Ne!="string"){var Pe=_e.get("feedData")||{};return a(_e,Ne,Pe),Ze()}var at=new ne.a;at.on(ce.eb,function(pt){var lt=pt.playlist;delete pt.playlist,a(_e,lt,pt),Ze()}),at.on(ce.w,function(pt){a(_e,[],{}),Ke(Object(Q.w)(pt,Q.r))}),at.load(Ne)})}(Le).then(function(){if(!d(Le)){var _e=Object(L.b)(Le.get("playlist"),Le);Le.attributes.playlist=_e;try{Object(L.e)(_e)}catch(pt){throw pt.code+=Q.r,pt}var Ne=Le.getProviders(),Ze=Object(L.f)(Le.get("item"),_e.length),Ke=Ne.choose(_e[Ze].sources[0]),Pe=Ke.provider,at=Ke.name;return typeof Pe=="function"?Pe:x.a.html5&&at==="html5"?x.a.html5:Ne.load(at).catch(function(pt){throw Object(Q.w)(pt,Q.s)})}})},r=function(Le){var _e=Le.get("skin")?Le.get("skin").url:void 0;return typeof _e=="string"&&!function(Ne){for(var Ze=document.styleSheets,Ke=0,Pe=Ze.length;Ke<Pe;Ke++)if(Ze[Ke].href===Ne)return!0;return!1}(_e)?new V.a(_e,!0).load().catch(function(Ne){return Ne}):Promise.resolve()},c=function(Le){var _e=Le.attributes,Ne=_e.language,Ze=_e.base,Ke=_e.setupConfig,Pe=_e.intl,at=Object(p.b)(Ke,Pe,Ne);return!Object(p.f)(Ne)||Object(p.d)(at)?Promise.resolve():new Promise(function(pt){return Object(p.g)(Ze,Ne).then(function(lt){var ct=lt.response;if(!d(Le)){if(!ct)throw new Q.o(null,Q.h);_e.localization=Object(p.a)(ct,at),pt()}}).catch(function(lt){pt(lt.code===Q.h?lt:Object(Q.w)(lt,Q.g))})})},d=function(Le){return Le.attributes._destroyed},h=function(Le){Le.src||Le.load()},f=function(Le){var _e=document.createElement("video");return _e.className="jw-video jw-reset",_e.setAttribute("tabindex","-1"),_e.setAttribute("disableRemotePlayback",""),_e.setAttribute("webkit-playsinline",""),_e.setAttribute("playsinline",""),Le&&Object.keys(Le).forEach(function(Ne){_e.setAttribute(Ne,Le[Ne])}),_e},v=function(Le,_e){_e&&_e.code&&(_e.sourceError&&console.error(_e.sourceError),console.error(Q.o.logMessage(_e.code)))},_=function(Le){Le&&Le.code&&console.warn(Q.o.logMessage(Le.code))},b=function(Le,_e){if(!document.body.contains(Le.currentContainer)){var Ne=document.getElementById(Le.get("id"));Ne&&(Le.currentContainer=Ne)}Le.currentContainer.parentElement&&Le.currentContainer.parentElement.replaceChild(_e,Le.currentContainer),Le.currentContainer=_e},w=e(0),A=e(42),E=e(34),O=e(19),P=e(12),y=e(7),u=e(30),p=e(13),g={autoPause:{viewability:!1,pauseAds:!1},autostart:!1,allowFullscreen:!0,bandwidthEstimate:null,bitrateSelection:null,castAvailable:!1,controls:!0,cues:[],defaultPlaybackRate:1,displaydescription:!0,displaytitle:!0,displayPlaybackLabel:!1,enableShortcuts:!0,height:360,intl:{},item:0,language:"en",liveTimeout:null,localization:u.a,mute:!1,nextUpDisplay:!0,playbackRateControls:!1,playbackRates:[.5,1,1.25,1.5,2],renderCaptionsNatively:!1,repeat:!1,stretching:"uniform",volume:90,width:640},k=function(Le,_e){var Ne=Object(w.g)({},(window.jwplayer||{}).defaults,_e,Le);(function(ut){Object.keys(ut).forEach(function(we){we!=="id"&&(ut[we]=Object(P.serialize)(ut[we]))})})(Ne);var Ze=Ne.forceLocalizationDefaults?g.language:Object(p.c)(),Ke=Object(p.h)(Ne.intl);Ne.localization=Object(p.a)(u.a,Object(p.b)(Ne,Ke,Ze));var Pe=Object(w.g)({},g,Ne);Pe.base==="."&&(Pe.base=Object(O.getScriptPath)("jwplayer.js")),Pe.base=(Pe.base||Object(O.loadFrom)()).replace(/\/?$/,"/"),e.p=Pe.base,Pe.width=Object(E.b)(Pe.width),Pe.height=Object(E.b)(Pe.height),Pe.aspectratio=Object(E.a)(Pe.aspectratio,Pe.width),Pe.volume=Object(w.u)(Pe.volume)?Math.min(Math.max(0,Pe.volume),100):g.volume,Pe.mute=!!Pe.mute,Pe.language=Ze,Pe.intl=Ke;var at=Pe.playlistIndex;at&&(Pe.item=at),Object(w.r)(Pe.item)||(Pe.item=0);var pt=Ne.autoPause;pt&&(Pe.autoPause.viewability=!("viewability"in pt)||!!pt.viewability);var lt=Pe.playbackRateControls;if(lt){var ct=Pe.playbackRates;Array.isArray(lt)&&(ct=lt),(ct=ct.filter(function(ut){return Object(w.r)(ut)&&ut>=.25&&ut<=4}).map(function(ut){return Math.round(100*ut)/100})).indexOf(1)<0&&ct.push(1),ct.sort(),Pe.playbackRateControls=!0,Pe.playbackRates=ct}(!Pe.playbackRateControls||Pe.playbackRates.indexOf(Pe.defaultPlaybackRate)<0)&&(Pe.defaultPlaybackRate=1),Pe.playbackRate=Pe.defaultPlaybackRate,Pe.aspectratio||delete Pe.aspectratio;var Ge=Pe.playlist;if(Ge)Array.isArray(Ge.playlist)&&(Pe.feedData=Ge,Pe.playlist=Ge.playlist);else{var ze=Object(w.x)(Pe,["title","description","type","mediaid","image","images","file","sources","tracks","preload","duration"]);Pe.playlist=[ze]}Pe.qualityLabels=Pe.qualityLabels||Pe.hlslabels,delete Pe.duration;var He=Pe.liveTimeout;He!==null&&(Object(w.u)(He)?He!==0&&(He=Math.max(30,He)):He=null,Pe.liveTimeout=He);var rt,it,wt,_t=parseFloat(Pe.bandwidthEstimate),xt=parseFloat(Pe.bitrateSelection);return Pe.bandwidthEstimate=Object(w.u)(_t)?_t:(rt=Pe.defaultBandwidthEstimate,it=parseFloat(rt),Object(w.u)(it)?Math.max(it,1):g.bandwidthEstimate),Pe.bitrateSelection=Object(w.u)(xt)?xt:g.bitrateSelection,Pe.liveSyncDuration=(wt=Pe.liveSyncDuration)<5?5:wt>30?30:wt,Pe.backgroundLoading=Object(w.n)(Pe.backgroundLoading)?Pe.backgroundLoading:y.Features.backgroundLoading,Pe},x=e(9),j=e(24),L=e(18),D=e(15),F=e(20),X=e(29),Q=e(1),H=null,ce=e(3),ne=e(48),V=e(35),Y=e(25),oe=function(Le){var _e;this.start=function(Ne){var Ze=function(at,pt){return Object(Y.a)(at,pt)}(Le,Ne),Ke=Promise.all([n(Le),Ze,s(Le),Promise.resolve(),r(Le),c(Le)]),Pe=new Promise(function(at,pt){_e=setTimeout(function(){pt(new Q.o(Q.k,Q.u))},6e4);var lt=function(){clearTimeout(_e),setTimeout(at,6e4)};Ke.then(lt).catch(lt)});return Promise.race([Ke,Pe]).catch(function(at){var pt=function(){throw at};return Ze.then(pt).catch(pt)}).then(function(at){return function(pt){if(!pt||!pt.length)return{core:null,warnings:[]};var lt=pt.reduce(function(ct,Ge){return ct.concat(Ge)},[]).filter(function(ct){return ct&&ct.code});return{core:pt[0],warnings:lt}}(at)})},this.destroy=function(){clearTimeout(_e),Le.set("_destroyed",!0),Le=null}},q=e(32),G=e(23),J=e(17),ae={removeItem:function(Le){}};try{ae=window.localStorage||ae}catch(vt){}var ie=function(){var vt=function(Ne,Ze){this.namespace=Ne,this.items=Ze},Le=vt.prototype;return Le.getAllItems=function(){var _e=this;return this.items.reduce(function(Ne,Ze){var Ke=ae[_e.namespace+"."+Ze];return Ke&&(Ne[Ze]=Ze!=="captions"?Object(P.serialize)(Ke):JSON.parse(Ke)),Ne},{})},Le.track=function(_e){var Ne=this;this.items.forEach(function(Ze){_e.on("change:"+Ze,function(Ke,Pe){try{Ze==="captions"&&(Pe=JSON.stringify(Pe)),ae[Ne.namespace+"."+Ze]=Pe}catch(at){J.a.debug&&console.error(at)}})})},Le.clear=function(){var _e=this;this.items.forEach(function(Ne){ae.removeItem(_e.namespace+"."+Ne)})},vt}(),Oe=e(43),De=e(28),ke=e(8),tt=e(33),Ve=e(44),Qe=e(45),ht=e(37);e(51),e(53),e.d(t,"b",function(){return b});var bt=function(Le){this._events={},this.modelShim=new Oe.a,this.modelShim._qoeItem=new G.a,this.mediaShim={},this.setup=new oe(this.modelShim),this.currentContainer=this.originalContainer=Le,this.apiQueue=new A.a(this,["load","play","pause","seek","stop","playlistItem","playlistNext","playlistPrev","next","preload","setAllowFullscreen","setConfig","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen","setPip","requestPip","addButton","removeButton","castToggle","setMute","setVolume","setPlaybackRate","addCues","setCues","setPlaylistItem","stopCasting","resize","setCaptions","setControls"],function(){return!0})};Object(w.g)(bt.prototype,{on:ke.a.on,once:ke.a.once,off:ke.a.off,trigger:ke.a.trigger,init:function(Le,_e){var Ne=this,Ze=this.modelShim,Ke=new ie("jwplayer",["volume","mute","captionLabel","captions","bandwidthEstimate","bitrateSelection","qualityLabel","enableShortcuts"]),Pe=Ke&&Ke.getAllItems();Ze.attributes=Ze.attributes||{},Object(w.g)(this.mediaShim,De.c);var at=Le,pt=k(Object(w.g)({},Le),Pe);pt.id=_e.id,pt.setupConfig=at,Object(w.g)(Ze.attributes,pt,De.d),Ze.getProviders=function(){return new q.a(pt)},Ze.setProvider=function(){};var lt=function(){for(var Ge=Ve.c,ze=[],He=[],rt=0;rt<Ge;rt++){var it=f();ze.push(it),He.push(it),h(it)}var wt=He.shift(),_t=He.shift(),xt=!1;return{primed:function(){return xt},prime:function(){ze.forEach(h),xt=!0},played:function(){xt=!0},getPrimedElement:function(){return He.shift()||null},getAdElement:function(){return wt},getTestElement:function(){return _t},clean:function(we){if(we.src){we.removeAttribute("src");try{we.load()}catch(N){}}},recycle:function(we){we&&!He.some(function(N){return N===we})&&(this.clean(we),He.push(we))},syncVolume:function(we){var N=Math.min(Math.max(0,we/100),1);ze.forEach(function(qe){qe.volume=N})},syncMute:function(we){ze.forEach(function(N){N.muted=we})}}}();Ze.get("backgroundLoading")||(lt=Object(Qe.a)(lt.getPrimedElement(),lt));var ct=this.primeUi=new ht.a(Object(ht.b)(this.originalContainer)).once("gesture",function(){lt.prime(),Ne.preload(),ct.destroy()});return Ze.on("change:errorEvent",v),this.setup.start(_e).then(function(Ge){var ze=Ge.core;if(!ze)throw Object(Q.w)(null,Q.t);if(Ne.setup){Ne.on(ce.ub,_),Ge.warnings.forEach(function(wt){Ne.trigger(ce.ub,wt)});var He=Ne.modelShim.clone();if(He.error)throw He.error;var rt=Ne.apiQueue.queue.slice(0);Ne.apiQueue.destroy(),Object(w.g)(Ne,ze.prototype),Ne.playerSetup(He,_e,Ne.originalContainer,Ne._events,rt,lt);var it=Ne._model;return Ze.off("change:errorEvent",v),it.on("change:errorEvent",v),Ke.track(it),Ne.updatePlaylist(it.get("playlist"),it.get("feedData")).catch(function(wt){var _t=wt.code===Q.a?Q.p:Q.r;throw Object(Q.w)(wt,_t)})}}).then(function(){Ne.setup&&Ne.playerReady()}).catch(function(Ge){Ne.setup&&function(ze,He,rt){Promise.resolve().then(function(){var it=Object(Q.x)(Q.n,Q.v,rt),wt=ze._model||ze.modelShim;it.message=it.message||wt.get("localization").errors[it.key],delete it.key;var _t=wt.get("contextual");if(!_t){var xt=Object(tt.a)(ze,it);tt.a.cloneIcon&&xt.querySelector(".jw-icon").appendChild(tt.a.cloneIcon("error")),b(ze,xt)}wt.set("errorEvent",it),wt.set("state",ce.lb),ze.trigger(ce.ib,it),_t&&He.remove()})}(Ne,_e,Ge)})},playerDestroy:function(){this.destroy&&this.destroy(),this.apiQueue&&this.apiQueue.destroy(),this.setup&&this.setup.destroy(),this.primeUi&&this.primeUi.destroy(),this.currentContainer!==this.originalContainer&&b(this,this.originalContainer),this.off(),this._events=this._model=this.modelShim=this.apiQueue=this.primeUi=this.setup=null},getContainer:function(){return this.currentContainer},get:function(Le){if(this.modelShim)return Le in this.mediaShim?this.mediaShim[Le]:this.modelShim.get(Le)},getItemQoe:function(){return this.modelShim._qoeItem},getItemPromise:function(){return null},setItemCallback:function(Le){this.modelShim&&(this.modelShim.attributes.playlistItemCallback=Le)},getConfig:function(){return Object(w.g)({},this.modelShim.attributes,this.mediaShim)},getCurrentCaptions:function(){return this.get("captionsIndex")},getWidth:function(){return this.get("containerWidth")},getHeight:function(){return this.get("containerHeight")},getMute:function(){return this.get("mute")},getProvider:function(){return this.get("provider")},getState:function(){return this.get("state")},getAudioTracks:function(){return null},getCaptionsList:function(){return null},getQualityLevels:function(){return null},getVisualQuality:function(){return null},getCurrentQuality:function(){return-1},getCurrentAudioTrack:function(){return-1},getSafeRegion:function(){return{x:0,y:0,width:0,height:0}},isBeforeComplete:function(){return!1},isBeforePlay:function(){return!1},createInstream:function(){return null},skipAd:function(){},attachMedia:function(){},detachMedia:function(){}}),t.a=bt},function(m,t,e){"use strict";var n=function(E){var O={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return O[E]?O[E]:E},o=function(E){for(var O=[],P=0;P<Object(r.c)(E);P++){var y=E.childNodes[P];y.prefix==="jwplayer"&&Object(r.b)(y).toLowerCase()==="mediatypes"&&O.push(Object(r.d)(y))}return O},l=function(E){for(var O={},P=0;P<E.childNodes.length;P++){var y=E.childNodes[P],u=Object(r.b)(y);if(u)switch(u.toLowerCase()){case"enclosure":O.file=Object(c.j)(y,"url");break;case"title":O.title=Object(r.d)(y);break;case"guid":O.mediaid=Object(r.d)(y);break;case"pubdate":O.date=Object(r.d)(y);break;case"description":O.description=Object(r.d)(y);break;case"link":O.link=Object(r.d)(y);break;case"category":O.tags?O.tags+=Object(r.d)(y):O.tags=Object(r.d)(y)}}return new v.a(f(E,d(E,O)))},a=e(0),s=e(3),r=e(4),c=e(2),d=function A(E,O){for(var P=[],y=0;y<Object(r.c)(E);y++){var u=E.childNodes[y];if(u.prefix==="media"){if(!Object(r.b)(u))continue;switch(Object(r.b)(u).toLowerCase()){case"content":if(Object(c.j)(u,"duration")&&(O.duration=Object(c.g)(Object(c.j)(u,"duration"))),Object(c.j)(u,"url")){O.sources||(O.sources=[]);var p={file:Object(c.j)(u,"url"),type:Object(c.j)(u,"type"),width:Object(c.j)(u,"width"),label:Object(c.j)(u,"label")},g=o(u);g.length&&(p.mediaTypes=g),O.sources.push(p)}Object(r.c)(u)>0&&(O=A(u,O));break;case"title":O.title=Object(r.d)(u);break;case"description":O.description=Object(r.d)(u);break;case"guid":O.mediaid=Object(r.d)(u);break;case"thumbnail":O.image||(O.image=Object(c.j)(u,"url"));break;case"group":A(u,O);break;case"subtitle":var k={file:Object(c.j)(u,"url"),kind:"captions"};Object(c.j)(u,"lang").length>0&&(k.label=n(Object(c.j)(u,"lang"))),P.push(k)}}}O.tracks||(O.tracks=[]);for(var x=0;x<P.length;x++)O.tracks.push(P[x]);return O},h=e(12),f=function(E,O){for(var P="default",y=[],u=[],p=O,g=0;g<E.childNodes.length;g++){var k=E.childNodes[g];if(k.prefix==="jwplayer"){var x=Object(r.b)(k);x==="source"?(delete O.sources,y.push({file:Object(c.j)(k,"file"),default:Object(c.j)(k,P),label:Object(c.j)(k,"label"),type:Object(c.j)(k,"type")})):x==="track"?(delete O.tracks,u.push({file:Object(c.j)(k,"file"),default:Object(c.j)(k,P),kind:Object(c.j)(k,"kind"),label:Object(c.j)(k,"label")})):(O[x]=Object(h.serialize)(Object(r.d)(k)),x==="file"&&O.sources&&delete O.sources)}O.file||(O.file=O.link)}if(y.length){O.sources=[];for(var j=0;j<y.length;j++){var L=y[j];L.file.length>0&&(L[P]=y[j][P]==="true",L.label||delete L.label,p.sources.push(L))}}if(u.length){O.tracks=[];for(var D=0;D<u.length;D++){var F=u[D];F.file&&F.file.length>0&&(F[P]=u[D][P]==="true",F.kind=u[D].kind.length?u[D].kind:"captions",F.label||delete F.label,p.tracks.push(F))}}return p},v=e(24),_=e(21),b=e(8),w=e(1);t.a=function(){var A=function(y){try{var u,p=y.responseXML?y.responseXML.childNodes:null,g=null;if(p){for(var k=0;k<p.length&&(g=p[k]).nodeType===8;k++);if(g&&Object(r.b)(g)==="xml"&&(g=g.nextSibling),g&&Object(r.b)(g)==="rss"){var x=function(L){var D=[];D.feedData={};for(var F=0;F<Object(r.c)(L);F++){var X=Object(r.a)(L,F);if(Object(r.b)(X).toLowerCase()==="channel")for(var Q=0;Q<Object(r.c)(X);Q++){var H=Object(r.a)(X,Q),ce=Object(r.b)(H).toLowerCase();ce==="item"?D.push(l(H)):ce&&(D.feedData[ce]=Object(r.d)(H))}}return D}(g);u=Object(a.g)({playlist:x},x.feedData)}}if(!u)try{var j=JSON.parse(y.responseText);if(Array.isArray(j))u={playlist:j};else{if(!Array.isArray(j.playlist))throw Error("Playlist is not an array");u=j}}catch(L){throw new w.o(w.l,621,L)}O.trigger(s.eb,u)}catch(L){E(L)}},E=function(y){_instanceof(y,w.o)&&!y.code&&(y=new w.o(w.l,0)),O.trigger(s.w,y)},O=Object(a.g)(this,b.a);this.load=function(P){Object(_.a)(P,A,function(y,u,p,g){E(g)})},this.destroy=function(){this.off()}}},function(m,t,e){"use strict";var n=function(a){return a.type==="hls"&&o.OS.android?a.androidhls!==!1&&!o.Browser.firefox&&parseFloat(o.OS.version.version||"0")>=4.4:null};e.d(t,"a",function(){return n});var o=e(7)},function(m,t,e){"use strict";var n=e(3),o=function(){},l=function(){return!1},a={name:"default"},s={supports:l,play:o,pause:o,preload:o,load:o,stop:o,volume:o,mute:o,seek:o,resize:o,remove:o,destroy:o,setVisibility:o,setFullscreen:o,getFullscreen:l,supportsFullscreen:l,getContainer:o,setContainer:o,getName:function(){return a},getQualityLevels:o,getCurrentQuality:o,setCurrentQuality:o,getAudioTracks:o,getCurrentAudioTrack:o,setCurrentAudioTrack:o,getSeekRange:function(){return{start:0,end:this.getDuration()}},setPlaybackRate:o,getPlaybackRate:function(){return 1},getBandwidthEstimate:function(){return null},getLiveLatency:function(){return null},attachMedia:o,detachMedia:o,init:o,setState:function(c){this.state=c,this.trigger(n.bb,{newstate:c})},sendMediaType:function(c){var d=c[0],h=d.type,f=d.mimeType,v=h==="aac"||h==="mp3"||h==="mpeg"||f&&f.indexOf("audio/")===0;this.trigger(n.T,{mediaType:v?"audio":"video"})},getDuration:function(){return 0},trigger:o};t.a=s},function(m,t,e){"use strict";var n=function(P,y){for(var u=y.length;u--;){var p=y[u];if(P.target===p.getContainer()){p.setIntersection(P);break}}},o=function(){f.forEach(function(P){var y=P.model;if(!(y.get("audioMode")||y.get("isFloating")||!y.get("controls")||y.get("visibility")<.75)){var u=y.get("state"),p=Object(h.g)();!p&&u==="paused"&&P.api.getFullscreen()?P.api.setFullscreen(!1):u==="playing"&&P.api.setFullscreen(p)}})},l=function(){f.forEach(function(P){P.model.set("activeTab",Object(c.a)())})},a=function(P,y){var u=y.indexOf(P);u!==-1&&y.splice(u,1)},s=function(P){_.forEach(function(y){y(P)})},r,c=e(46),d=e(7),h=e(6),f=[],v=[],_=[],b={},w="screen"in window&&"orientation"in window.screen,A=d.OS.android&&d.Browser.chrome,E=!1;document.addEventListener("visibilitychange",l),document.addEventListener("webkitvisibilitychange",l),A&&w&&window.screen.orientation.addEventListener("change",o),window.addEventListener("beforeunload",function(){document.removeEventListener("visibilitychange",l),document.removeEventListener("webkitvisibilitychange",l),window.removeEventListener("scroll",s),A&&w&&window.screen.orientation.removeEventListener("change",o)}),t.a={add:function(P){f.push(P)},remove:function(P){a(P,f)},addScrollHandler:function(P){E||(E=!0,window.addEventListener("scroll",s)),_.push(P)},removeScrollHandler:function(P){var y=_.indexOf(P);y!==-1&&_.splice(y,1)},addWidget:function(P){v.push(P)},removeWidget:function(P){a(P,v)},size:function(){return f.length},observe:function(P){var y;y=window.IntersectionObserver,r||(r=new y(function(u){if(u&&u.length)for(var p=u.length;p--;){var g=u[p];n(g,f),n(g,v)}},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})),b[P.id]||(b[P.id]=!0,r.observe(P))},unobserve:function(P){r&&b[P.id]&&(delete b[P.id],r.unobserve(P))}}},,function(m,t,e){"use strict";var n=function(){Object(l.a)(c),c=Object(l.b)(function(){r.forEach(function(f){f.view.updateBounds();var v=f.view.model.get("containerWidth");f.resized=f.width!==v,f.width=v}),r.forEach(function(f){f.contractElement.scrollLeft=2*f.width}),r.forEach(function(f){Object(s.d)(f.expandChild,{width:f.width+1}),f.resized&&f.view.model.get("visibility")&&f.view.updateStyles()}),r.forEach(function(f){f.expandElement.scrollLeft=f.width+1}),r.forEach(function(f){f.resized&&f.view.checkResized()})})};e.d(t,"a",function(){return d});var o=e(0),l=e(38),a=e(6),s=e(11),r=[],c=-1,d=function(){var h=function(v,_,b){var w={display:"block",position:"absolute",top:0,left:0},A={width:"100%",height:"100%"},E=Object(a.f)('<div style="opacity:0;visibility:hidden;overflow:hidden;"><div><div style="height:1px;"></div></div><div class="jw-contract-trigger"></div></div>'),O=E.firstChild,P=O.firstChild,y=O.nextSibling;Object(s.d)([O,y],Object(o.g)({overflow:"auto"},w,A)),Object(s.d)(E,Object(o.g)({},w,A)),this.expandElement=O,this.expandChild=P,this.contractElement=y,this.hiddenElement=E,this.element=v,this.view=_,this.model=b,this.width=0,this.resized=!1,v.firstChild?v.insertBefore(E,v.firstChild):v.appendChild(E),v.addEventListener("scroll",n,!0),r.push(this),n()};return h.prototype.destroy=function(){if(this.view){var f=r.indexOf(this);f!==-1&&r.splice(f,1),this.element.removeEventListener("scroll",n,!0),this.element.removeChild(this.hiddenElement),this.view=this.model=null}},h}()},,,function(m,t,e){"use strict";var n=function(){},o=function(V,Y){for(;V._state===3;)V=V._value;V._state!==0?(V._handled=!0,w._immediateFn(function(){var oe=V._state===1?Y.onFulfilled:Y.onRejected;if(oe!==null){var q;try{q=oe(V._value)}catch(G){return void a(Y.promise,G)}l(Y.promise,q)}else(V._state===1?l:a)(Y.promise,V._value)})):V._deferreds.push(Y)},l=function(V,Y){try{if(Y===V)throw new TypeError("A promise cannot be resolved with itself.");if(Y&&(typeof Y=="object"||typeof Y=="function")){var oe=Y.then;if(_instanceof(Y,w))return V._state=3,V._value=Y,void s(V);if(typeof oe=="function")return void c((q=oe,G=Y,function(){q.apply(G,arguments)}),V)}V._state=1,V._value=Y,s(V)}catch(J){a(V,J)}var q,G},a=function(V,Y){V._state=2,V._value=Y,s(V)},s=function(V){V._state===2&&V._deferreds.length===0&&w._immediateFn(function(){V._handled||w._unhandledRejectionFn(V._value)});for(var Y=0,oe=V._deferreds.length;Y<oe;Y++)o(V,V._deferreds[Y]);V._deferreds=null},r=function(V,Y,oe){this.onFulfilled=typeof V=="function"?V:null,this.onRejected=typeof Y=="function"?Y:null,this.promise=oe},c=function(V,Y){var oe=!1;try{V(function(q){oe||(oe=!0,l(Y,q))},function(q){oe||(oe=!0,a(Y,q))})}catch(q){if(oe)return;oe=!0,a(Y,q)}},d=function(V,Y){var oe=new L.a(Y);return oe.on(D.gb,function(q){V._qoe.tick("ready"),q.setupTime=V._qoe.between("setup","ready")}),oe.on("all",function(q,G){V.trigger(q,G)}),oe},h=function(V,Y){var oe=V.plugins,q=Object.keys(oe).map(function(G){var J=oe[G];return delete oe[G],J});Y.get("setupConfig")&&V.trigger("remove"),V.off(),Y.playerDestroy(),q.forEach(function(G){if(G.destroy)try{G.destroy()}catch(J){}}),Y.getContainer().removeAttribute("data-jwplayer-id")},f=function(V){var Y=++H,oe=V.id||"player-"+Y,q=new F.a,G={},J=d(this,V);q.tick("init"),V.setAttribute("data-jwplayer-id",oe),Object.defineProperties(this,{id:{enumerable:!0,get:function(){return oe}},uniqueId:{enumerable:!0,get:function(){return Y}},plugins:{enumerable:!0,get:function(){return G}},_qoe:{enumerable:!0,get:function(){return q}},version:{enumerable:!0,get:function(){return g.a}},Events:{enumerable:!0,get:function(){return X.a}},utils:{enumerable:!0,get:function(){return Q.a}},_:{enumerable:!0,get:function(){return k.c}}}),Object(k.g)(this,{_events:{},setup:function(ie){return q.clear("ready"),q.tick("setup"),J&&h(this,J),(J=d(this,V)).init(ie,this),this.on(ie.events,null,this)},remove:function(){return this.getPip()&&this.setPip(!1),function(ie){for(var Oe=O.a.length;Oe--;)if(O.a[Oe].uniqueId===ie.uniqueId){O.a.splice(Oe,1);break}}(this),J&&h(this,J),Object.keys(G).forEach(function(ie){delete G[ie]}),this},qoe:function(){var ie=J.getItemQoe();return{setupTime:this._qoe.between("setup","ready"),firstFrame:ie.getFirstFrame?ie.getFirstFrame():null,player:this._qoe.dump(),item:ie.dump()}},addCues:function(ie){return Array.isArray(ie)&&J.addCues(ie),this},getAudioTracks:function(){return J.getAudioTracks()},getBuffer:function(){return J.get("buffer")},getCaptions:function(){return J.get("captions")},getCaptionsList:function(){return J.getCaptionsList()},getConfig:function(){return J.getConfig()},getContainer:function(){return J.getContainer()},getControls:function(){return J.get("controls")},getCues:function(){return J.get("cues")},getCurrentAudioTrack:function(){return J.getCurrentAudioTrack()},getCurrentCaptions:function(){return J.getCurrentCaptions()},getCurrentQuality:function(){return J.getCurrentQuality()},getCurrentTime:function(){return J.get("currentTime")},getDuration:function(){return J.get("duration")},getEnvironment:function(){return j},getFullscreen:function(){return J.get("fullscreen")},getHeight:function(){return J.getHeight()},getItemMeta:function(){return J.get("itemMeta")||{}},getMute:function(){return J.getMute()},getPercentViewable:function(){return J.get("visibility")},getPip:function(){return J.get("pip")},getPlaybackRate:function(){return J.get("playbackRate")},getPlaylist:function(){return J.get("playlist")},getPlaylistIndex:function(){return J.get("item")},getPlaylistItem:function(ie){if(!Q.a.exists(ie))return J.get("playlistItem");var Oe=this.getPlaylist();return Oe?Oe[ie]:null},getPosition:function(){return J.get("position")},getProvider:function(){return J.getProvider()},getQualityLevels:function(){return J.getQualityLevels()},getSafeRegion:function(ie){return ie===void 0&&(ie=!0),J.getSafeRegion(ie)},getState:function(){return J.getState()},getStretching:function(){return J.get("stretching")},getViewable:function(){return J.get("viewable")},getVisualQuality:function(){return J.getVisualQuality()},getVolume:function(){return J.get("volume")},getWidth:function(){return J.getWidth()},setCaptions:function(ie){return J.setCaptions(ie),this},setConfig:function(ie){return J.setConfig(ie),this},setControls:function(ie){return J.setControls(ie),this},setCurrentAudioTrack:function(ie){J.setCurrentAudioTrack(ie)},setCurrentCaptions:function(ie){J.setCurrentCaptions(ie)},setCurrentQuality:function(ie){J.setCurrentQuality(ie)},setFullscreen:function(ie){return J.setFullscreen(ie),this},setAllowFullscreen:function(ie){return J.setAllowFullscreen(ie),this},setMute:function(ie){return J.setMute(ie),this},setPip:function(ie){return J.setPip(ie),this},setPlaybackRate:function(ie){return J.setPlaybackRate(ie),this},setPlaylistItem:function(ie,Oe){return J.setPlaylistItem(ie,Oe),this},setCues:function(ie){return Array.isArray(ie)&&J.setCues(ie),this},setVolume:function(ie){return J.setVolume(ie),this},load:function(ie,Oe){return J.load(ie,Oe),this},play:function(ie){return J.play(ie),this},pause:function(ie){return J.pause(ie),this},playToggle:function(ie){switch(this.getState()){case D.pb:case D.jb:return this.pause(ie);default:return this.play(ie)}},seek:function(ie,Oe){return J.seek(ie,Oe),this},playlistItem:function(ie,Oe){return J.playlistItem(ie,Oe),this},playlistNext:function(ie){return J.playlistNext(ie),this},playlistPrev:function(ie){return J.playlistPrev(ie),this},next:function(ie){return J.next(ie),this},requestPip:function(ie){return J.requestPip(ie),this},castToggle:function(){return J.castToggle(),this},stopCasting:function(){return J.stopCasting(),this},createInstream:function(){return J.createInstream()},stop:function(){return J.stop(),this},resize:function(ie,Oe){return J.resize(ie,Oe),this},addButton:function(ie,Oe,De,ke,tt){return J.addButton(ie,Oe,De,ke,tt),this},removeButton:function(ie){return J.removeButton(ie),this},attachMedia:function(){return J.attachMedia(),this},detachMedia:function(){return J.detachMedia(),this},isBeforeComplete:function(){return J.isBeforeComplete()},isBeforePlay:function(){return J.isBeforePlay()},setPlaylistItemCallback:function(ie,Oe){J.setItemCallback(ie,Oe)},removePlaylistItemCallback:function(){J.setItemCallback(null)},getPlaylistItemPromise:function(ie){return J.getItemPromise(ie)},getFloating:function(){return!!J.get("isFloating")},setFloating:function(ie){J.setConfig({floating:{mode:ie?"always":"never"}})}})},v=function(V){for(var Y=0;Y<O.a.length;Y++)if(O.a[Y].id===V)return O.a[Y];return null},_=function(V){Object.defineProperties(V,{api:{get:function(){return u},set:function(){}},version:{get:function(){return g.a},set:function(){}},debug:{get:function(){return x.a.debug},set:function(oe){x.a.debug=!!oe}}})};e.r(t);var b=setTimeout;function w(ne){if(!_instanceof(this,w))throw new TypeError("Promises must be constructed via new");if(typeof ne!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(ne,this)}w.prototype.catch=function(ne){return this.then(null,ne)},w.prototype.then=function(ne,V){var Y=new this.constructor(n);return o(this,new r(ne,V,Y)),Y},w.prototype.finally=function(ne){var V=this.constructor;return this.then(function(Y){return V.resolve(ne()).then(function(){return Y})},function(Y){return V.resolve(ne()).then(function(){return V.reject(Y)})})},w.all=function(ne){return new w(function(V,Y){if(!ne||ne.length===void 0)throw new TypeError("Promise.all accepts an array");var oe=Array.prototype.slice.call(ne);if(oe.length===0)return V([]);var q=oe.length;function G(ae,ie){try{if(ie&&(typeof ie=="object"||typeof ie=="function")){var Oe=ie.then;if(typeof Oe=="function")return void Oe.call(ie,function(De){G(ae,De)},Y)}oe[ae]=ie,--q==0&&V(oe)}catch(De){Y(De)}}for(var J=0;J<oe.length;J++)G(J,oe[J])})},w.resolve=function(ne){return ne&&typeof ne=="object"&&ne.constructor===w?ne:new w(function(V){V(ne)})},w.reject=function(ne){return new w(function(V,Y){Y(ne)})},w.race=function(ne){return new w(function(V,Y){for(var oe=0,q=ne.length;oe<q;oe++)ne[oe].then(V,Y)})},w._immediateFn=typeof setImmediate=="function"&&function(ne){setImmediate(ne)}||function(ne){b(ne,0)},w._unhandledRejectionFn=function(ne){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",ne)};var A=w;window.Promise||(window.Promise=A);var E=e(19),O=e(14),P=e(15),y=e(20),u={availableProviders:P.a,registerProvider:y.a},p=e(25),g=e(22),k=e(0),x=e(17),j=e(7),L=e(47),D=e(3),F=e(23),X=e(8),Q=e(39),H=0;Object(k.g)(f.prototype,{on:function(V,Y,oe){return X.c.call(this,V,Y,oe)},once:function(V,Y,oe){return X.d.call(this,V,Y,oe)},off:function(V,Y,oe){return X.b.call(this,V,Y,oe)},trigger:function(V,Y){return(Y=k.c.isObject(Y)?Object(k.g)({},Y):{}).type=V,x.a.debug?X.e.call(this,V,Y):X.f.call(this,V,Y)},getPlugin:function(V){return this.plugins[V]},addPlugin:function(V,Y){this.plugins[V]=Y,this.on("ready",Y.addToPlayer),Y.resize&&this.on("resize",Y.resizeHandler)},registerPlugin:function(V,Y,oe){Object(p.b)(V,Y,oe)},getAdBlock:function(){return!1},playAd:function(V){},pauseAd:function(V){},skipAd:function(){}}),e.d(t,"assignLibraryProperties",function(){return _}),e.p=Object(E.loadFrom)();var ce=function(V){var Y,oe;if(V?typeof V=="string"?(Y=v(V))||(oe=document.getElementById(V)):typeof V=="number"?Y=O.a[V]:V.nodeType&&(Y=v((oe=V).id||oe.getAttribute("data-jwplayer-id"))):Y=O.a[0],Y)return Y;if(oe){var q=new f(oe);return O.a.push(q),q}return{registerPlugin:p.b}};_(ce),t.default=ce}]).default}}),Qp,vr,Jp=Mt({"https-url:https://av.prod.archive.org/js/jwplayer.js":function(){k1(),Qp=location.hostname==="av.prod.archive.org"||location.hostname==="av.dev.archive.org"?"/jw/8":"https://av.prod.archive.org/jw/8",vr=window.jwplayer}}),Zp,ev,tv=Mt({"https-url:https://av.prod.archive.org/js/playset.js":function(){J5(),Kp(),Rs(),_1(),Jp(),Zp=function(){"use strict";function m(){if(_classCallCheck(this,m),m.avplayer="#jw6",m.resizer_listening=!1,m.unplayable_timer=null,m.mobile=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0||navigator.userAgent.indexOf("Android")>0,this.id=!1,this.selector_play_items=!1,this.selector_playlist=!1,!!m.is_local_storage_available()){this.selector_play_items=Z(".js-playset-items"),this.selector_playlist=Z(".js-playset-list");var t=Z(".js-playset").attr("data-mediatype");if(this.selector_playlist.length||(this.selector_playlist="body"),this.selector_play_items.length?(!t||["audio","movies","etree"].includes(t))&&(Z(this.selector_play_items).append('<span id="playplayset"/>'),Z("#playplayset").html('<a\n          class="stealth"\n          href="#play-items"\n          data-event-click-tracking="Playset|PlayAllLink"\n        >\n          <span class="iconochive-play" aria-hidden="true"></span>\n          <span class="sr-only">play</span>\n          <span class="hidden-xs-span"> Play All</span>\n          <br />\n        </a>'),Ed("#playplayset",m.create_playlist_goto_first_item),fa("autoplay",!0)&&!fa("playset",!0)&&setTimeout(m.create_playlist_goto_first_item,2500)):this.selector_play_items=!1,fa("playset",!0)){var e;if(e=_slicedToArray(location.href.match(/archive\.org\/details\/([^/&?]+)/),2),this.id=e[1],!this.id)return;Z("#playset-xs").length||Z("#theatre-ia-wrap").after('<div id="playset-xs" class="hidden-sm hidden-md hidden-lg"><div/></div>'),this.show_playlist(),m.skip_unplayable_item(),m.resizer()}Dn("playset ready")}}return _createClass(m,[{key:"show_playlist",value:function(){var e=this,n=m.get_playset();if(n){var o=!1,l="",a=!0,s=!1,r=void 0;try{for(var c=n.list[Symbol.iterator](),d;!(a=(d=c.next()).done);a=!0){var h=d.value;l+=m.playlist_item(h[0],h[1],h[2],h[3]),this.id===h[0]&&(o=!0)}}catch(v){s=!0,r=v}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw r}}if(o){var f="\n".concat(m.playlist_header(n),'\n<div class="playset-list">\n').concat(l,"\n</div>\n");Z("body").addClass("playset"),Z("body").addClass(Z("#theatre-ia-wrap").length?"":" playset-hdr-only"),Z(this.selector_playlist).prepend('<div id="playset-ia">'.concat(f,"</div>")),Ed("#playset-pp .js-playset-play",m.play),Ed("#playset-pp .js-playset-pause",m.pause),setTimeout(function(){e.autoscroll_playlist()},500),Z(document).ready(function(){Z("#texty iframe").on("load",function(){Z("#texty iframe").contents().click(m.pause)})})}}}},{key:"autoscroll_playlist",value:function(){var e=Z('#playset-ia div[data-id="'.concat(this.id,'"')).offset();if(e){var n=Z("#playset-xs:visible").length?10:Z("#topnav").height(),o=e.top-n-Z("#playset-ia .playset-hdr").height();Dn("scrolling playset to ",o),Z("#playset-ia .playset-list").scrollTop(o)}}}],[{key:"create_playlist_goto_first_item",value:function(){Dn("create_playlist_goto_first_item()");var e=[],n=Z("#also-found").length,o=n?"#also-found .item-ia":".item-ia:visible";Z(o).each(function(l,a){var s=Z(a),r=s.data().id;if(!r.match(/^__/)){var c=m.truncate(s.find(".item-ttl,.collection-title a").text(),35),d=m.truncate(s.find(".byv").text(),75),h=s.data().year,f=m.truncate(s.next().find(".C234 > span:first").text(),75);e.push([r,c,d.length?d:f,h])}}),m.set_playset(e),m.mobile?m.play_mobile(e):location.href="/details/".concat(e[0][0],"?autoplay=1&playset=1")}},{key:"play_mobile",value:function(e){var n=[],o=!0,l=!1,a=void 0;try{for(var s=e[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var c=r.value;n.push(c[0])}}catch(d){l=!0,a=d}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}location.href="https://archive.org/services/playset.php?ids=".concat(n.join(","))}},{key:"resizer",value:function(){m.resizer_listening||(m.resizer_listening=!0,Z(window).on("resize  orientationchange",function(){clearTimeout(m.throttler),m.throttler=setTimeout(m.resizer,250)}));var e=Z("#playset-xs:visible").length?"playset-xs":"theatre-ia-wrap",n=Z("#playset-ia").parent().attr("id");Dn("browser resize: ",e," -v- ",n),e!==n&&(e==="playset-xs"?Z("#playset-ia").appendTo("#playset-xs > div"):Z("#playset-ia").prependTo("#".concat(e)),Dn("playset moved"))}},{key:"playlist_header",value:function(e){var n=e.src.match(/\?/)?"&":"?",o="".concat(e.src).concat(n,"autoplay=1");return'\n<div class="playset-hdr">\n<div>\n  <a href='.concat(o,">Playlist</a>\n  ").concat(m.glyph("beta"),'\n</div>\n<div id="playset-pp">\n  <a href="#" class="js-playset-pause">\n    ').concat(m.glyph("Pause"),'\n  </a>\n  <a href="#" class="js-playset-play" style="display:none">\n    ').concat(m.glyph("play"),"\n  </a>\n</div>\n<div>\n  <a href=").concat(o,">\n    ").concat(m.glyph("share"),"\n  </a>\n</div>\n</div>\n")}},{key:"playlist_item",value:function(e,n,o,l){return'\n<div class="playset-item" data-id='.concat(e,'>\n<a href="/details/').concat(e,'?autoplay=1&playset=1">\n  <div class="topinblock playset-img">\n    <img src="/services/img/').concat(e,'"/>\n  </div><div class="topinblock">\n    ').concat(m.item_year(l),"\n    <b>\n      ").concat(n,"\n    </b><br/>\n    ").concat(o,"\n  </div>\n</a>\n</div>")}},{key:"item_year",value:function(e){return e?'\n<div style="float:right">\n('.concat(e,")\n</div>"):""}},{key:"skip_unplayable_item",value:function(){m.unplayable_timer=setTimeout(function(){(typeof vr=="undefined"||!Z(m.avplayer).length)&&m.goto_next_item()},3e3)}},{key:"goto_next_item",value:function(){var e=location.href.match(/\/details\/([^/&?]+)/)[1],n=m.get_playlist(),o="",l=!0,a=!1,s=void 0;try{for(var r=n[Symbol.iterator](),c;!(l=(c=r.next()).done);l=!0){var d=c.value;e===o&&(location.href="/details/".concat(d[0],"?autoplay=1&playset=1"));var h;h=_slicedToArray(d,1),o=h[0]}}catch(f){a=!0,s=f}finally{try{!l&&r.return!=null&&r.return()}finally{if(a)throw s}}}},{key:"onComplete",value:function(e,n){var o=e.getPlaylistIndex(),l=e.getPlaylist().length,a=o+1>=l||n&&n.done;a&&m.goto_next_item()}},{key:"get_playlist",value:function(){var e=m.get_playset();return typeof e.list=="undefined"?e:e.list}},{key:"get_playset",value:function(){return JSON.parse(localStorage.getItem("playset"))}},{key:"set_playset",value:function(e){var n=new Date,o={version:"1.1",src:(location.pathname+location.search).replace(/[&?]autoplay=1/,""),created:n.toJSON(),createdTS:Math.round(n.getTime()/1e3),list:e};localStorage.setItem("playset",JSON.stringify(o))}},{key:"pause",value:function(){if(Dn("playset pause"),typeof vr!="undefined"&&Z(m.avplayer).length){var e=vr(m.avplayer.substr(1));return e&&e.getState()&&(e.getState().toUpperCase()==="PLAYING"?e.pause():e.play(),Z("#playset-pp a").toggle()),!1}return m.unplayable_timer&&(clearTimeout(m.unplayable_timer),m.unplayable_timer=null,Z("#playset-pp a").toggle()),!1}},{key:"play",value:function(){if(Dn("play/resume"),typeof vr!="undefined"&&Z(m.avplayer).length){var e=vr(m.avplayer.substr(1));return e&&e.getState()&&(e.getState().toUpperCase()!=="PLAYING"&&e.play(),Z("#playset-pp a").toggle()),!1}return m.unplayable_timer||(m.skip_unplayable_item(),Z("#playset-pp a").toggle()),!1}},{key:"glyph",value:function(e){return'<span class="iconochive-'.concat(e,'" aria-hidden="true"></span>\n           <span class="sr-only">').concat(e,"</span>")}},{key:"truncate",value:function(e,n){var o=e.trim().replace(/\s+/g," ");return o.length<=n?o:"".concat(o.substr(0,n),"..")}},{key:"is_local_storage_available",value:function(){try{return"localStorage"in window}catch(e){return!1}}}]),m}(),Z(function(){return new Zp}),ev=Zp}});function nv(m,t){function e(o,l,a){if(!((typeof document=="undefined"?"undefined":_typeof(document))>"u")){a=sd({},t,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var r in a)a[r]&&(s+="; "+r,a[r]!==!0&&(s+="="+a[r].split(";")[0]));return document.cookie=o+"="+m.write(l,o)+s}}function n(o){if(!((typeof document=="undefined"?"undefined":_typeof(document))>"u"||arguments.length&&!o)){for(var l=document.cookie?document.cookie.split("; "):[],a={},s=0;s<l.length;s++){var r=l[s].split("="),c=r.slice(1).join("=");try{var d=decodeURIComponent(r[0]);if(a[d]=m.read(c,d),o===d)break}catch(h){}}return o?a[o]:a}}return Object.create({set:e,get:n,remove:function(l,a){e(l,"",sd({},a,{expires:-1}))},withAttributes:function(l){return nv(this.converter,sd({},this.attributes,l))},withConverter:function(l){return nv(sd({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(m)}})}var Z5,Xr,ex=Mt({"https-url:https://esm.archive.org/v135/js-cookie@3.0.5/esnext/js-cookie.mjs":function(){Z5={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},Xr=nv(Z5,{path:"/"})}}),pa=Mt({"https-url:https://esm.archive.org/js-cookie":function(){ex(),ex()}}),pi=Mt({"components/util/jquery.js":function(){jd(),window.jQuery=Z,window.$=Z}}),yn,uo=Mt({"components/util/log.js":function(){yn=location.hostname==="localhost"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org$/)||location.host.match(/\.code\.archive\.org$/)||location.host.match(/\.dev\.archive\.org$/)||location.host.match(/^ia-petabox-/)?console.log.bind(console):function(){}}}),Yu,tx=Mt({"components/util/ios.js":function(){Yu=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0}}),nx=Mt({"components/util/center.js":function(){pi(),uo(),tx(),Z.fn.center=function(){var t=Z(this).innerHeight();yn("myheight",t),yn("mywidth",this.width()),yn("w.height",Z(window).height(),"w.width",Z(window).width(),"w.scrollTop",Z(window).scrollTop(),"w.scrollLeft",Z(window).scrollLeft());var e,n;if(Yu){var o=window.innerWidth,l=window.innerHeight;yn("vpH",l),yn("vpW",o),e=(l-t)/2+Z(window).scrollTop(),n=(o-this.width())/2+Z(window).scrollLeft()}else e=(Z(window).height()-t)/2,n=(Z(window).width()-this.width())/2;return e=Math.max(20,e),n=Math.max(20,n),this.css({position:Yu?"absolute":"fixed",display:"block",top:e,left:n}),this}}}),rx,x1=Mt({"components/util/popup.js":function(){pi(),uo(),rx=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,null,[{key:"params",value:function(e,n){var o={height:n,width:e,scrollbars:"yes",resizable:"yes",toolbar:"no",directories:"no",location:"yes",menubar:"no",status:"yes"};return Object.keys(o).filter(function(l){return o[l]}).reduce(function(l,a){return l.concat("".concat(a,"=").concat(o[a]))},[]).join(",")}},{key:"setupPopupLink",value:function(){var e="popup-link",n="popup-link-width",o="popup-link-height";yn("popup setup"),Z(document.body).off("click.PopupLink").on("click.PopupLink","[data-".concat(e,"]"),function(l){l.preventDefault();var a=Z(l.currentTarget),s=a.data(n)||500,r=a.data(o)||500;window.open(l.currentTarget.href,"popup",m.params(s,r))})}}]),m}(),Z(rx.setupPopupLink)}}),Td,ix=Mt({"components/util/message.js":function(){Td=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,null,[{key:"LoadingMessage",value:function(e){var n=e.message,o=n===void 0?"Loading":n;return'<small class="loading-message">'.concat(o,"</small>")}},{key:"ErrorMessage",value:function(e){var n=e.errorMessage;return"<small>".concat(n,"</small>")}}]),m}()}}),S1=Mt({"components/tilebars/tilebars.js":function(){pi()}}),ox,C1=Mt({"components/util/throttler.js":function(){ox=function(){"use strict";function m(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;_classCallCheck(this,m),this.callback=t,this.threshhold=e,this.context=n,this.last=void 0,this.deferTimeout=void 0}return _createClass(m,[{key:"execute",value:function(){var e=+new Date;this.last&&e<this.last+this.threshhold?(clearTimeout(this.deferTimeout),this.deferTimeout=setTimeout(this.executeCallback.bind(this),this.threshhold)):this.executeCallback.call(this)}},{key:"executeCallback",value:function(){this.last=+new Date,this.callback.apply(this.context)}}]),m}()}}),rv,ax=Mt({"components/util/scroll-proximity-handler.js":function(){pi(),C1(),rv=function(){"use strict";function m(t,e,n){_classCallCheck(this,m),this.identifier=t,this.$targetElement=e,this.callback=n,this.$window=Z(window),this.throttler=new ox(this.scrollListener,100,this)}return _createClass(m,[{key:"startListener",value:function(){this.$window.on("scroll.".concat(this.identifier),this.throttledListener.bind(this)),this.scrollListener()}},{key:"throttledListener",value:function(){return this.throttler.execute()}},{key:"getTargetScrollOffset",value:function(){var e=this.$targetElement.offset().top,n=this.$window.height();return e-n/2}},{key:"scrollListener",value:function(){var e=this.getTargetScrollOffset();this.$window.scrollTop()+this.$window.height()>=e&&(this.$window.off(".".concat(this.identifier)),this.callback())}}]),m}()}}),sx,A1=Mt({"components/util/is-bot.js":function(){sx=/bot|crawl|spider/i.test(navigator.userAgent)}}),Pd,lx=Mt({"components/related/related.js":function(){pi(),ix(),S1(),ax(),A1(),Pd=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,null,[{key:"setup",value:function(){var e=Z("#js-related");if(e.length&&(dp(),Z(window).on("resize  orientationchange",function(o){clearTimeout(m.also_found_throttler),m.also_found_throttler=setTimeout(dp,250)})),!(!e.length||sx)){var n=Z("#also-found");this.scrollProximityHandler=new rv("related_items",n,function(){if(!e.text())return n.find(".tilebars").show(),e.html(Td.LoadingMessage({message:"Fetching items"})),m.doWhenScrolledToRelatedSection()}),this.scrollProximityHandler.startListener()}}},{key:"doWhenScrolledToRelatedSection",value:function(){var e=Z("#also-found").data("identifier"),n=Z("#js-related");return m.getRelatedItems(e).then(function(o){n.html(o),dp()}).catch(function(o){Z("#playplayset").hide(),n.html(Td.ErrorMessage({errorMessage:o.message})).show()})}},{key:"getRelatedItems",value:function(e,n){return new Promise(function(o,l){var a="/details/".concat(encodeURIComponent(e),"?RelatedItemsGet=").concat(n?"json":1),s="Related items temporarily unavailable. Please try back later.";Z.get(a,function(r){r===""&&l(new Error("No similar items found.")),r==="service_disabled"&&l(new Error(s)),o(r)}).fail(function(){l(new Error(s))})})}}]),m}(),Z(function(){return Pd.setup()})}}),ux,Id,cx,dx,hx,fx,px,vx,Md,gx,iv,ov,av,mx,Wn,sv,yx,Ld,bx=Mt({"https-url:https://esm.archive.org/v135/clipboard@2.0.11/esnext/clipboard.mjs":function(){ux=Object.create,Id=Object.defineProperty,cx=Object.getOwnPropertyDescriptor,dx=Object.getOwnPropertyNames,hx=Object.getPrototypeOf,fx=Object.prototype.hasOwnProperty,px=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},vx=function(t,e){for(var n in e)Id(t,n,{get:e[n],enumerable:!0})},Md=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!fx.call(t,v)&&v!==n&&Id(t,v,{get:function(){return e[v]},enumerable:!(o=cx(e,v))||o.enumerable})},c=dx(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},gx=function(t,e,n){return Md(t,e,"default"),n&&Md(n,e,"default")},iv=function(t,e,n){return n=t!=null?ux(hx(t)):{},Md(e||!t||!t.__esModule?Id(n,"default",{value:t,enumerable:!0}):n,t)},ov=px(function(t,e){(function(n,o){typeof t=="object"&&typeof e=="object"?e.exports=o():typeof define=="function"&&define.amd?define([],o):typeof t=="object"?t.ClipboardJS=o():n.ClipboardJS=o()})(t,function(){return function(){var n={686:function(a,s,r){"use strict";var c=function(G){try{return document.execCommand(G)}catch(J){return!1}},d=function(G){var J=document.documentElement.getAttribute("dir")==="rtl",ae=document.createElement("textarea");ae.style.fontSize="12pt",ae.style.border="0",ae.style.padding="0",ae.style.margin="0",ae.style.position="absolute",ae.style[J?"right":"left"]="-9999px";var ie=window.pageYOffset||document.documentElement.scrollTop;return ae.style.top="".concat(ie,"px"),ae.setAttribute("readonly",""),ae.value=G,ae},h=function(G,J){if(!_instanceof(G,J))throw new TypeError("Cannot call a class as a function")},f=function(G,J){for(var ae=0;ae<J.length;ae++){var ie=J[ae];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(G,ie.key,ie)}},v=function(G,J,ae){return J&&f(G.prototype,J),ae&&f(G,ae),G},_=function(G,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(J&&J.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),J&&ne(G,J)},b=function(G){var J=E();return function(){var ae=V(G),ie;if(J){var Oe=V(this).constructor;ie=Reflect.construct(ae,arguments,Oe)}else ie=ae.apply(this,arguments);return w(this,ie)}},w=function(G,J){return J&&(ce(J)==="object"||typeof J=="function")?J:A(G)},A=function(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G},E=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(G){return!1}},O=function(G,J){var ae="data-clipboard-".concat(G);if(J.hasAttribute(ae))return J.getAttribute(ae)};r.d(s,{default:function(){return oe}});var P=r(279),y=r.n(P),u=r(370),p=r.n(u),g=r(817),k=r.n(g),x=function(G){var J=k()(G);return c("cut"),J},j=x,L=function(G,J){var ae=d(G);J.container.appendChild(ae);var ie=k()(ae);return c("copy"),ae.remove(),ie},D=function(G){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},ae="";return typeof G=="string"?ae=L(G,J):_instanceof(G,HTMLInputElement)&&!["text","search","url","tel","password"].includes(G==null?void 0:G.type)?ae=L(G.value,J):(ae=k()(G),c("copy")),ae},F=D;function X(q){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?X=function(J){return typeof J}:X=function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},X(q)}var Q=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=G.action,ae=J===void 0?"copy":J,ie=G.container,Oe=G.target,De=G.text;if(ae!=="copy"&&ae!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(Oe!==void 0)if(Oe&&X(Oe)==="object"&&Oe.nodeType===1){if(ae==="copy"&&Oe.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(ae==="cut"&&(Oe.hasAttribute("readonly")||Oe.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}else throw new Error('Invalid "target" value, use a valid Element');if(De)return F(De,{container:ie});if(Oe)return ae==="cut"?j(Oe):F(Oe,{container:ie})},H=Q;function ce(q){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ce=function(J){return typeof J}:ce=function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},ce(q)}function ne(q,G){return ne=Object.setPrototypeOf||function(J,ae){return J.__proto__=ae,J},ne(q,G)}function V(q){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(J){return J.__proto__||Object.getPrototypeOf(J)},V(q)}var Y=function(q){_(J,q);var G=b(J);function J(ae,ie){var Oe;return h(this,J),Oe=G.call(this),Oe.resolveOptions(ie),Oe.listenClick(ae),Oe}return v(J,[{key:"resolveOptions",value:function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof ie.action=="function"?ie.action:this.defaultAction,this.target=typeof ie.target=="function"?ie.target:this.defaultTarget,this.text=typeof ie.text=="function"?ie.text:this.defaultText,this.container=ce(ie.container)==="object"?ie.container:document.body}},{key:"listenClick",value:function(ie){var Oe=this;this.listener=p()(ie,"click",function(De){return Oe.onClick(De)})}},{key:"onClick",value:function(ie){var Oe=ie.delegateTarget||ie.currentTarget,De=this.action(Oe)||"copy",ke=H({action:De,container:this.container,target:this.target(Oe),text:this.text(Oe)});this.emit(ke?"success":"error",{action:De,text:ke,trigger:Oe,clearSelection:function(){Oe&&Oe.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(ie){return O("action",ie)}},{key:"defaultTarget",value:function(ie){var Oe=O("target",ie);if(Oe)return document.querySelector(Oe)}},{key:"defaultText",value:function(ie){return O("text",ie)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(ie){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return F(ie,Oe)}},{key:"cut",value:function(ie){return j(ie)}},{key:"isSupported",value:function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],Oe=typeof ie=="string"?[ie]:ie,De=!!document.queryCommandSupported;return Oe.forEach(function(ke){De=De&&!!document.queryCommandSupported(ke)}),De}}]),J}(y()),oe=Y},828:function(a){var s=function(h,f){for(;h&&h.nodeType!==r;){if(typeof h.matches=="function"&&h.matches(f))return h;h=h.parentNode}},r=9;if((typeof Element=="undefined"?"undefined":_typeof(Element))<"u"&&!Element.prototype.matches){var c=Element.prototype;c.matches=c.matchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector||c.webkitMatchesSelector}a.exports=s},438:function(a,s,r){var c=function(_,b,w,A,E){var O=h.apply(this,arguments);return _.addEventListener(w,O,E),{destroy:function(){_.removeEventListener(w,O,E)}}},d=function(_,b,w,A,E){return typeof _.addEventListener=="function"?c.apply(null,arguments):typeof w=="function"?c.bind(null,document).apply(null,arguments):(typeof _=="string"&&(_=document.querySelectorAll(_)),Array.prototype.map.call(_,function(O){return c(O,b,w,A,E)}))},h=function(_,b,w,A){return function(E){E.delegateTarget=f(E.target,b),E.delegateTarget&&A.call(_,E)}},f=r(828);a.exports=d},879:function(a,s){s.node=function(r){return r!==void 0&&_instanceof(r,HTMLElement)&&r.nodeType===1},s.nodeList=function(r){var c=Object.prototype.toString.call(r);return r!==void 0&&(c==="[object NodeList]"||c==="[object HTMLCollection]")&&"length"in r&&(r.length===0||s.node(r[0]))},s.string=function(r){return typeof r=="string"||_instanceof(r,String)},s.fn=function(r){var c=Object.prototype.toString.call(r);return c==="[object Function]"}},370:function(a,s,r){var c=function(w,A,E){if(!w&&!A&&!E)throw new Error("Missing required arguments");if(!v.string(A))throw new TypeError("Second argument must be a String");if(!v.fn(E))throw new TypeError("Third argument must be a Function");if(v.node(w))return d(w,A,E);if(v.nodeList(w))return h(w,A,E);if(v.string(w))return f(w,A,E);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")},d=function(w,A,E){return w.addEventListener(A,E),{destroy:function(){w.removeEventListener(A,E)}}},h=function(w,A,E){return Array.prototype.forEach.call(w,function(O){O.addEventListener(A,E)}),{destroy:function(){Array.prototype.forEach.call(w,function(P){P.removeEventListener(A,E)})}}},f=function(w,A,E){return _(document.body,w,A,E)},v=r(879),_=r(438);a.exports=c},817:function(a){var s=function(c){var d;if(c.nodeName==="SELECT")c.focus(),d=c.value;else if(c.nodeName==="INPUT"||c.nodeName==="TEXTAREA"){var h=c.hasAttribute("readonly");h||c.setAttribute("readonly",""),c.select(),c.setSelectionRange(0,c.value.length),h||c.removeAttribute("readonly"),d=c.value}else{c.hasAttribute("contenteditable")&&c.focus();var f=window.getSelection(),v=document.createRange();v.selectNodeContents(c),f.removeAllRanges(),f.addRange(v),d=f.toString()}return d};a.exports=s},279:function(a){var s=function(){};s.prototype={on:function(c,d,h){var f=this.e||(this.e={});return(f[c]||(f[c]=[])).push({fn:d,ctx:h}),this},once:function(c,d,h){var f=this;function v(){f.off(c,v),d.apply(h,arguments)}return v._=d,this.on(c,v,h)},emit:function(c){var d=[].slice.call(arguments,1),h=((this.e||(this.e={}))[c]||[]).slice(),f=0,v=h.length;for(f;f<v;f++)h[f].fn.apply(h[f].ctx,d);return this},off:function(c,d){var h=this.e||(this.e={}),f=h[c],v=[];if(f&&d)for(var _=0,b=f.length;_<b;_++)f[_].fn!==d&&f[_].fn._!==d&&v.push(f[_]);return v.length?h[c]=v:delete h[c],this}},a.exports=s,a.exports.TinyEmitter=s}},o={};function l(a){if(o[a])return o[a].exports;var s=o[a]={exports:{}};return n[a](s,s.exports,l),s.exports}return function(){l.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return l.d(s,{a:s}),s}}(),function(){l.d=function(a,s){for(var r in s)l.o(s,r)&&!l.o(a,r)&&Object.defineProperty(a,r,{enumerable:!0,get:s[r]})}}(),function(){l.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)}}(),l(686)}().default})}),av={},vx(av,{default:function(){return Ld}}),mx=iv(ov()),gx(av,iv(ov()));var m;Wn=mx,m=Wn,sv=m.default,yx=Ai(Wn,["default"]),Ld=sv!==void 0?sv:yx}}),O1=Mt({"https-url:https://esm.archive.org/clipboard":function(){bx(),bx()}}),j1=Mt({"components/setUpCopyableTexts/setUpCopyableTexts.js":function(){O1(),pi(),Z(bT)}}),E1=Mt({"components/disabilityEligibility/disabilityEligibility.js":function(){pi(),uo(),Z(function(){return wT()})}}),wx,T1=Mt({"components/related-music/related-music.js":function(){pi(),ax(),wx=function(){"use strict";function m(t){_classCallCheck(this,m),this.$relatedTable=t,this.itemIdentifier=this.$relatedTable.data("item_identifier"),this.scrollProximityHandler=new rv("related_music",this.$relatedTable,this.startFetch.bind(this))}return _createClass(m,[{key:"startListener",value:function(){this.scrollProximityHandler.startListener()}},{key:"startFetch",value:function(){var e=this,n,o=(n=this.$relatedTable.find("tbody tr").length)!=null?n:0;return window==null||window.archive_analytics.send_event("related-music","start-fetch",o),new Promise(function(l){var a=e;e.$relatedTable.find("tbody tr").each(function(s,r){var c=Z(r).data("filename");a.fetchRelatedMusic(c)}),l()})}},{key:"fetchRelatedMusic",value:function(e){var n=this,o="/services/related-music/?item_identifier=".concat(this.itemIdentifier,"&file_name=").concat(e);Z.ajax({url:o,type:"GET",dataType:"json",crossDomain:!0}).then(function(l){n.handleResponse(e,"versions",l.result.versions),n.handleResponse(e,"compilations",l.result.compilations),n.handleResponse(e,"covers",l.result.covers)})}},{key:"handleResponse",value:function(e,n,o){var l=this.$relatedTable.find('tr[data-filename="'.concat(e,'"] .track-').concat(n)),a=l.find(".related-image"),s=l.find(".badge"),r=l.find(".related-album-image"),c=l.find(".img-container");a.removeClass("loading");var d=o?o.length:0,h=d>=50?"50<sup>+</sup>":d;s.html(h),d!==0&&(a.removeClass("empty"),r.attr("src","/services/img/".concat(o[0])),r.on("load",function(){var f=r.width()/r.height();f===4&&c.addClass("is-waveform")}))}}]),m}(),Z(function(){var m=Z(".related-music-table");if(m.length){var t=new wx(m);setTimeout(function(){t.startListener()},5e3)}Z("#related-music-more-info-btn").on("click",function(){return Z("#related-music-more-info-content").toggle(),!1}),Z(".js-related-music-track-type").on("click",function(e){var n,o,l,a=e.currentTarget,s=(o=(n=a.dataset)==null?void 0:n.trackType)!=null?o:"unknown";(l=window==null?void 0:window.archive_analytics)==null||l.send_event("related-music","track-type-click",s)})})}}),_x,kx,P1=Mt({"components/paramsToJSON/paramsToJSON.js":function(){_x=function(){var m=window.location.search.substring(1),t={};return m.length>0&&m.split("&").forEach(function(e){var n=_slicedToArray(e.split("="),2),o=n[0],l=n[1];t[o]=decodeURIComponent(l)}),t},kx=_x}}),lv=Mt({"components/util/onclick.js":function(){pi()}}),go,I1=Mt({"components/manage/manage.js":function(){uo(),nh(),nx(),lv(),pi(),go=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,null,[{key:"css",value:function(){var e=document.createElement("style");e.textContent="\n#manage-ids {\n  visibility: hidden;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 1px;\n  height: 1px;\n}\n\n#manage-help > div {\n  display: inline-block;\n  font-weight: bold;\n  font-size: 125%;\n  padding-right: 10px;\n}\n\n#manage-help .btn-info {\n  background-color: #777;\n  border-color: #666;\n}\n\n\n#manage-help > p {\n  text-align: center;\n}\n\n.item-ia.manage-item  .item-img {\n  opacity: .8;\n}\n\n.item-ia.manage-item  .item-img:hover {\n  opacity: .9;\n}\n\n.manage-check {\n  position: absolute;\n  right: 0;\n  top: 0;\n  border-style: solid;\n  border-color: black;\n  border-width: 2px 4px;\n  background-color: black;\n  border-radius: 3px;\n}\n\n#confirm-remove-items .btn {\n  display: block;\n  margin: 0 auto 10px;\n}\n\n.task-pending {\n  opacity: .20;\n}\n\n/* Bulk remove items modal */\n#confirm-remove-items .modal-content {\n  padding: 1rem;\n}\n\n#confirm-remove-items h2 {\n  font-size: 2.4rem;\n}\n";var n=document.getElementsByTagName("head")[0];n.appendChild(e)}},{key:"Context",get:function(){return{Favorites:"collection",SearchResults:"search results",Uploads:"uploads",Posts:"posts",Reviews:"reviews",Collections:"collections",Loans:"loans",WebArchives:"web archives"}}},{key:"manage_items",value:function(e){Z("body").hasClass("lists")&&Z(".tiles-button:visible").click();var n=Z("body").hasClass("search-results-page")?m.Context.SearchResults:cr.inTab();if(![m.Context.Favorites,m.Context.Uploads,m.Context.Collections,m.Context.WebArchives,m.Context.SearchResults].includes(n)){alert("Removal feature cannot be used here");return}var o=[".item-ia.new-item"];if(n===m.Context.Uploads||n===m.Context.Collections){var l=window.location.pathname.match(/^\/details\/@([^&/#?]+)/);l&&o.push('.item-ia[data-id="fav-'.concat(l[1],'"]'))}if(Z(o.join(", ")).toggleClass("hidden-tiles"),Z(".columns-facets").toggleClass("opac30"),Z(".item-ia .manage-check").length)Z(".item-ia").removeClass("manage-item").unbind("click"),Z(".columns-items .co-top-row > div").toggle(),Z(".item-ia .manage-check, #manage-help").remove(),Z(".item-ia").off("contextmenu");else{if(Z("#manage-help").length&&!Z(".item-ia .hov").length){Z(".item-ia").removeClass("manage-item").unbind("click"),Z(".columns-items .co-top-row > div").toggle(),Z(".item-ia .manage-check, #manage-help").remove(),Z(".item-ia").off("contextmenu");return}var a;switch(n){case m.Context.Favorites:a="Select items to un-favorite";break;case m.Context.SearchResults:a="Select items";break;default:a="Select items to remove"}Z(".columns-items .co-top-row").prepend('\n<div id="manage-help" style="display:none">\n  <div>\n    '.concat(a,'\n  </div>\n  <div class="topinblock">\n    <button class="btn btn-small btn-info"\n      onclick="Manage.manage_items()">Cancel</button>\n    <button class="btn btn-small btn-danger"\n      onclick="Manage.remove_items_modal(\'').concat(n,"')\">Remove selected items</button>\n    ").concat(e&&n===m.Context.SearchResults?'\n      <button class="btn btn-small btn-warning"\n        onclick="Manage.to_item_manager()">Item Manager the items</button>\n      ':"","\n  </div>\n    ").concat(e?'\n    <p class="topinblock">\n      <a href="#" onclick="return Manage.toggle_checkboxes()">\n        Toggle</br>all\n      </a>\n    </p>\n    ':"","\n</div>")),Z(".columns-items .co-top-row > div").toggle(),Z(".item-ia.task-pending").bind("click",m.tile_clicked);var s=Z(".item-ia:not(.mobile-header):not(.new-item):not(.task-pending)");s.addClass("manage-item").bind("click",m.tile_clicked).append(m.checkbox(n===m.Context.SearchResults?"include item for item management":"remove this item from list")),Z(".item-ia").on("contextmenu",function(r){var c=Z(r.target).find("a:first").attr("href")||Z(r.target).parents("a").attr("href");yn("right-click",c),window.open(c,"_blank")})}}},{key:"remove_favorite_item",value:function(e){var n=Z(e),o=n.data("id"),l=n.data("fav-collection");if(!(!o||!l)){var a=location.protocol.concat("//",location.host,"/details/",l).concat("?remove_item=".concat(encodeURIComponent(o),"&kind=favorite"));m.toggle_favorite_icon(n,!1),m.update_favorite_count(!1),Z.get(a)}}},{key:"checkbox",value:function(e){return'\n<div class="manage-check">\n  <input\n    type="checkbox"\n    alt="'.concat(e,'"\n    title="').concat(e,'"/>\n</div>')}},{key:"tile_clicked",value:function(e){var n=Z(e.target);if(n.attr("type")==="checkbox")return!0;e.stopPropagation(),e.preventDefault();var o=n.parents(".item-ia").find(".manage-check input");return o.prop("checked",!o.prop("checked")),!1}},{key:"toggle_checkboxes",value:function(){return Z(".manage-check input").prop("checked",function(e,n){return!n}),!1}},{key:"remove_items_modal",value:function(e){var n="";Z(".item-ia[data-id]:has(:checked)").each(function(a,s){var r=Z(s),c=r.find(".C2 a").text().trim();n+='\n        <div>\n          <div class="pull-right">\n            '.concat(r.find(".pubdate > :first").text(),"\n          </div>\n          <div>\n            ").concat(c.length?c:"[untitled]","\n          </div>\n          <hr/>\n        </div>\n      ")});var o=n===""?"No items selected":"Are you sure you want to remove these items?";if(n==="")n='\n        <div class="alert alert-danger">\n          Please select some items using checkboxes from the prior screen to remove.\n        </div>';else{var l;switch(e){case m.Context.Favorites:l="confirmed_remove_favorites";break;case m.Context.WebArchives:l="confirmed_remove_web_archives";break;default:l="confirmed_dark_items"}n+='\n        <button class="btn btn-small btn-danger"\n          onclick="Manage.'.concat(l,'()">\n          Remove items\n        </button>')}cr.modal_add(m.modalID,{title:o,body:n,headerClass:""}).modal("show")}},{key:"checked_ids",value:function(){return Z(".item-ia[data-id]:has(:checked)").toArray().reduce(function(e,n){var o=Z(n).data().id;return e.concat(e?",":"",o)},"")}},{key:"checked_ids_json",value:function(){var e=Z(".item-ia[data-id]:has(:checked)").toArray().map(function(n){return Z(n).data().id});return JSON.stringify(e)}},{key:"to_item_manager",value:function(){var e=m.checked_ids();if(yn("to_item_manager:",e),e!==""){var n=Z('\n        <form id="manage-ids" method="POST" action="/manage/">\n          <input type="text" name="identifier" value="'.concat(e,'"/>\n        </form>'));Z("body").append(n),n.submit()}return!1}},{key:"confirmed_remove_web_archives",value:function(){var e={action:"delete",identifiers:m.checked_ids_json()};Z.ajax({type:"POST",url:"/services/web-archives/service.php",data:e,error:function(n,o,l){alert("Unable to complete the request. Our servers might be busy. Please try again later."),Z(m.modalID).modal("hide")},success:m.update_tiles})}},{key:"confirmed_dark_items",value:function(){var e={identifier:m.checked_ids(),admin:"make_dark","curation[state]":"dark","curation[comment]":"from ".concat(location.pathname)};Z.post("/manage/",e,m.update_tiles)}},{key:"confirmed_remove_favorites",value:function(){var e=m.checked_ids(),n=location.href.replace(/#.*$/,"").concat("?kind=favorite&remove_item=".concat(encodeURIComponent(e)));return Z.get(n,m.update_tiles),!1}},{key:"update_tiles",value:function(){Z(".item-ia[data-id]:has(:checked)").remove(),cr.tiler(),Z(m.modalID).modal("hide")}},{key:"decorate_pendings",value:function(e){e.length&&(yn("pending",e),e.forEach(function(n){return Z(".item-ia[data-id=".concat(n,"]")).addClass("task-pending")}))}},{key:"toggle_list_status",value:function(e){return Z(e).hasClass("favorited")?m.remove_favorite_item(e,!0):cr.modal_go(e,{favorite:1}),!1}},{key:"toggle_favorite_icon",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=Z(e).find("span.icon-label");e.length&&(e.find("span:eq(0)").toggleClass("iconochive-No_Favorite iconochive-favorite"),n?(e.addClass("favorited"),e.attr({"data-original-title":"Unfavorite"}),o.text("Unfavorite")):(e.removeClass("favorited"),e.attr({"data-original-title":"Favorite"}),o.text("Favorite")))}},{key:"update_favorite_count",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=Z(".favorite-count"),o=n.find(".item-stats-summary__label"),l=n.find(".item-stats-summary__count");l.length||(l=document.createElement("span"),l.className="item-stats-summary__count",n.append(l),o=document.createElement("span"),o.className="item-stats-summary__label",n.append(o));var a=Number(Z(l).text().trim().replace(/,/g,""));e?a+=1:a-=1,Z(o).text(a===1?" Favorite":" Favorites"),Z(l).text(a.toLocaleString())}}]),m}(),Z(function(){if(window.location.hostname!=="web.archive.org"){go.modalID="#confirm-remove-items",go.css(),Z("body").hasClass("manage")&&go.manage_items(1);var m=Z(".js-manage-toggle_list_status");m.length&&m.bind("click",function(t){t.preventDefault(),go.toggle_list_status(m[0])}),ni(".js-search-bar-manage",function(t){return go.manage_items(1)})}}),window.Manage=go}}),xx,M1=Mt({"components/nav/banners.js":function(){xx={namespace:"banners",action:"ia-banner-close",selector:".ia-banner",dismiss:function(t){t.preventDefault();var e=t.currentTarget.closest(this.selector);this.isLocalStorageAvailable()&&this.writeStorage(e.getAttribute("data-campaign")),e.remove()},readStorage:function(){return JSON.parse(localStorage.getItem(this.namespace))||[]},writeStorage:function(t){var e=this.readStorage();localStorage.setItem(this.namespace,JSON.stringify(_toConsumableArray(e).concat([t])))},bindEvents:function(){var t=this;document.querySelectorAll("".concat(this.selector," [data-action=").concat(this.action,"]")).forEach(function(e){var n=t;e.addEventListener("submit",function(o){return n.dismiss(o),!1})})},checkVisibility:function(){var t=this.isLocalStorageAvailable()?this.readStorage():[];document.querySelectorAll(this.selector).forEach(function(e){e.classList.toggle("visible",!t.includes(e.getAttribute("data-campaign")))})},isLocalStorageAvailable:function(){try{return Object.keys(localStorage).length>=0}catch(t){return!1}},init:function(){this.bindEvents(),this.checkVisibility()}}}}),Sx=Mt({"components/util/cgiarg.js":function(){}}),Cx=Mt({"components/util/add_commas.js":function(){}}),Ax,L1=Mt({"components/login/loginModal.js":function(){pa(),pi(),nh(),Ax=function(m){var t=m.$form,e=m.url,n=m.selector,o=m.element,l=m.conf,a={success:function(r){Xr.get("logged-in-user")!==void 0?(Z(n).on("hidden.bs.modal",function(){Z(n).remove(),cr.modal_go(o,oi(Dr({},l),{postLogin:!0}))}),Z(document.body).removeClass("blurry"),Z(n).modal("hide")):r.status!=="ok"&&(r.status==="bad_login"&&Z(".reset-password").hide(),Z(".password-error").html(r.message))},error:function(r){var c=r.responseJSON;Z(".reset-password").hide(),c?Z(".password-error").html(c.message):Z(".password-error").text("Whoops! Something didn't work quite right. Please try again in a bit.")}};t.on("submit",function(){var s={},r=a.success,c=a.error;return t.find("input").each(function(d,h){Z(h).attr("name").length&&(s[Z(h).attr("name")]=Z(h).val())}),s.submit_by_js="true",t.find(".alert").remove(),Z.ajax(e,{type:"POST",data:s,success:r,error:c}),!1})}}}),uv,R1=Mt({"components/geo/geo.js":function(){pi(),Cx(),ix(),uv=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,null,[{key:"RegionsTable",value:function(e){var n=e.caption,o=n===void 0?"Regions":n,l=e.captionClass,a=l===void 0?"":l,s=e.counts,r=s===void 0?[]:s;return'\n      <table class="stats-table">\n        <caption class="'.concat(a,'">').concat(o,'</caption>\n\n        <thead>\n          <tr>\n            <th scope="col">Region</th>\n            <th scope="col">Country</th>\n            <th class="stats-table__numeric-column" scope="col">Views</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          ').concat(r.map(function(c){return'\n            <tr key="'.concat(c.state.code,"_").concat(c.country.code,"_").concat(c.count,'">\n              <td>').concat(c.state.formattedName,"</td>\n              <td>").concat(c.country.formattedName,'</td>\n              <td class="stats-table__numeric-column">').concat(c.formattedCount,"</td>\n            </tr>")}).join(""),"\n        </tbody>\n      </table>")}},{key:"setUpTopRegionsTable",value:function(){var e=Z(".js-top-regions-table"),n=e.find(".js-top-regions-message"),o=n.text();if(!(!e||!n)){n.html(Td.LoadingMessage({message:"loading data"}));var l={uaKinds:["non_robot","unrecognized"]};e.data("days")&&(l.days=parseInt(e.data("days"),10)),e.data("limit")&&(l.limit=parseInt(e.data("limit"),10)),m.StatsApiClient.getGeoCounts(e.data("identifier"),l).then(function(a){e.html(m.RegionsTable({caption:e.data("caption"),captionClass:e.data("captionClass"),counts:a}))},function(){n.text(o)})}}}]),m}(),function(){var t=function(r){return r.charAt(0).toUpperCase()+r.slice(1)},e=function(r){return new l({count:r.sum_count_value,country:new o({code:r.geo_country,name:r.country}),state:new o({code:r.geo_state,name:r.state})})},n=function(r){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=c.uaKinds,h=d===void 0?["robot","non_robot","unrecognized"]:d;if(!r.counts_geo)throw new RangeError("API response doesn't contain property 'counts_geo'.");function f(A){return h.indexOf(A)!==-1}for(var v={},_=0;_<r.counts_geo.length;_++){var b=r.counts_geo[_];if(f(b.ua_kind)&&b.country!=="unknown"){var w="".concat(b.geo_country,"_").concat(b.geo_state);v[w]?v[w].count+=b.sum_count_value:v[w]=e(b)}}return Object.keys(v).map(function(A){return v[A]})},o=function(){"use strict";function s(r){var c=r.code,d=r.name;_classCallCheck(this,s),this.code=c,this.name=d}return _createClass(s,[{key:"formattedName",get:function(){return t(this.name)}}]),s}(),l=function(){"use strict";function s(r){var c=r.count,d=r.country,h=r.state;_classCallCheck(this,s),this.count=parseInt(c,10),this.country=d,this.state=h}return _createClass(s,[{key:"formattedCount",get:function(){return ua(this.count)}}]),s}(),a="https://be-api.us.archive.org/views/v1";uv.StatsApiClient=function(){"use strict";function s(){_classCallCheck(this,s)}return _createClass(s,null,[{key:"getGeoCounts",value:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=d.days,f=h===void 0?30:h,v=d.limit,_=v===void 0?100:v,b=d.uaKinds,w=b===void 0?["robot","non_robot","unrecognized"]:b,A="".concat(a,"/detail/collection/").concat(c,"/").concat(f);return Z.get(A).then(function(E){try{return n(E,{uaKinds:w}).sort(function(O,P){return O.count<P.count?1:-1}).slice(0,_)}catch(O){return Z.Deferred().reject(O)}})}}]),s}()}()}}),Ox,Rd,jx,Ex,Tx,Px,Ix,Mx,Dd,Lx,cv,dv,hv,Rx,Wn,fv,Dx,pv,$x=Mt({"https-url:https://esm.archive.org/v135/jqueryui@1.11.1/esnext/jquery-ui.min.js":function(){Ox=Object.create,Rd=Object.defineProperty,jx=Object.getOwnPropertyDescriptor,Ex=Object.getOwnPropertyNames,Tx=Object.getPrototypeOf,Px=Object.prototype.hasOwnProperty,Ix=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},Mx=function(t,e){for(var n in e)Rd(t,n,{get:e[n],enumerable:!0})},Dd=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!Px.call(t,v)&&v!==n&&Rd(t,v,{get:function(){return e[v]},enumerable:!(o=jx(e,v))||o.enumerable})},c=Ex(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},Lx=function(t,e,n){return Dd(t,e,"default"),n&&Dd(n,e,"default")},cv=function(t,e,n){return n=t!=null?Ox(Tx(t)):{},Dd(e||!t||!t.__esModule?Rd(n,"default",{value:t,enumerable:!0}):n,t)},dv=Ix(function(){(function(t){typeof define=="function"&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){var e=function(u,p){var g,k,x,j=u.nodeName.toLowerCase();return j==="area"?(g=u.parentNode,k=g.name,u.href&&k&&g.nodeName.toLowerCase()==="map"?(x=t("img[usemap='#"+k+"']")[0],!!x&&n(x)):!1):(/input|select|textarea|button|object/.test(j)?!u.disabled:j==="a"&&u.href||p)&&n(u)},n=function(u){return t.expr.filters.visible(u)&&!t(u).parents().addBack().filter(function(){return t.css(this,"visibility")==="hidden"}).length},o=function(u){for(var p,g;u.length&&u[0]!==document;){if(p=u.css("position"),(p==="absolute"||p==="relative"||p==="fixed")&&(g=parseInt(u.css("zIndex"),10),!isNaN(g)&&g!==0))return g;u=u.parent()}return 0},l=function(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=a(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))},a=function(u){var p="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return u.delegate(p,"mouseout",function(){t(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(p,"mouseover",s)},s=function(){t.datepicker._isDisabledDatepicker(E.inline?E.dpDiv.parent()[0]:E.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).addClass("ui-datepicker-next-hover"))},r=function(u,p){t.extend(u,p);for(var g in p)p[g]==null&&(u[g]=p[g]);return u},c=function(u){return function(){var p=this.element.val();u.apply(this,arguments),this._refresh(),p!==this.element.val()&&this._trigger("change")}};t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(u){var p=this.css("position"),g=p==="absolute",k=u?/(auto|scroll|hidden)/:/(auto|scroll)/,x=this.parents().filter(function(){var j=t(this);return g&&j.css("position")==="static"?!1:k.test(j.css("overflow")+j.css("overflow-y")+j.css("overflow-x"))}).eq(0);return p!=="fixed"&&x.length?x:t(this[0].ownerDocument||document)},uniqueId:function(){var y=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++y)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(y){return function(u){return!!t.data(u,y)}}):function(y,u,p){return!!t.data(y,p[3])},focusable:function(u){return e(u,!isNaN(t.attr(u,"tabindex")))},tabbable:function(u){var p=t.attr(u,"tabindex"),g=isNaN(p);return(g||p>=0)&&e(u,!g)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(y,u){var p=function(L,D,F,X){return t.each(g,function(){D-=parseFloat(t.css(L,"padding"+this))||0,F&&(D-=parseFloat(t.css(L,"border"+this+"Width"))||0),X&&(D-=parseFloat(t.css(L,"margin"+this))||0)}),D},g=u==="Width"?["Left","Right"]:["Top","Bottom"],k=u.toLowerCase(),x={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+u]=function(j){return j===void 0?x["inner"+u].call(this):this.each(function(){t(this).css(k,p(this,j)+"px")})},t.fn["outer"+u]=function(j,L){return typeof j!="number"?x["outer"+u].call(this,j):this.each(function(){t(this).css(k,p(this,j,!0,L)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(y){return this.add(y==null?this.prevObject:this.prevObject.filter(y))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(y){return function(u){return arguments.length?y.call(this,t.camelCase(u)):y.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(y){return function(u,p){return typeof u=="number"?this.each(function(){var g=this;setTimeout(function(){t(g).focus(),p&&p.call(g)},u)}):y.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var y="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(y+".ui-disableSelection",function(u){u.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(u){if(u!==void 0)return this.css("zIndex",u);if(this.length)for(var p,g,k=t(this[0]);k.length&&k[0]!==document;){if(p=k.css("position"),(p==="absolute"||p==="relative"||p==="fixed")&&(g=parseInt(k.css("zIndex"),10),!isNaN(g)&&g!==0))return g;k=k.parent()}return 0}}),t.ui.plugin={add:function(u,p,g){var k,x=t.ui[u].prototype;for(k in g)x.plugins[k]=x.plugins[k]||[],x.plugins[k].push([p,g[k]])},call:function(u,p,g,k){var x,j=u.plugins[p];if(j&&(k||u.element[0].parentNode&&u.element[0].parentNode.nodeType!==11))for(x=0;j.length>x;x++)u.options[j[x][0]]&&j[x][1].apply(u.element,g)}};var d=0,h=Array.prototype.slice;t.cleanData=function(y){return function(u){var p,g,k;for(k=0;(g=u[k])!=null;k++)try{p=t._data(g,"events"),p&&p.remove&&t(g).triggerHandler("remove")}catch(x){}y(u)}}(t.cleanData),t.widget=function(y,u,p){var g,k,x,j,L={},D=y.split(".")[0];return y=y.split(".")[1],g=D+"-"+y,p||(p=u,u=t.Widget),t.expr[":"][g.toLowerCase()]=function(F){return!!t.data(F,g)},t[D]=t[D]||{},k=t[D][y],x=t[D][y]=function(F,X){return this._createWidget?(arguments.length&&this._createWidget(F,X),void 0):new x(F,X)},t.extend(x,k,{version:p.version,_proto:t.extend({},p),_childConstructors:[]}),j=new u,j.options=t.widget.extend({},j.options),t.each(p,function(F,X){return t.isFunction(X)?(L[F]=function(){var Q=function(){return u.prototype[F].apply(this,arguments)},H=function(ne){return u.prototype[F].apply(this,ne)};return function(){var ce,ne=this._super,V=this._superApply;return this._super=Q,this._superApply=H,ce=X.apply(this,arguments),this._super=ne,this._superApply=V,ce}}(),void 0):(L[F]=X,void 0)}),x.prototype=t.widget.extend(j,{widgetEventPrefix:k&&j.widgetEventPrefix||y},L,{constructor:x,namespace:D,widgetName:y,widgetFullName:g}),k?(t.each(k._childConstructors,function(F,X){var Q=X.prototype;t.widget(Q.namespace+"."+Q.widgetName,x,X._proto)}),delete k._childConstructors):u._childConstructors.push(x),t.widget.bridge(y,x),x},t.widget.extend=function(y){for(var u,p,g=h.call(arguments,1),k=0,x=g.length;x>k;k++)for(u in g[k])p=g[k][u],g[k].hasOwnProperty(u)&&p!==void 0&&(y[u]=t.isPlainObject(p)?t.isPlainObject(y[u])?t.widget.extend({},y[u],p):t.widget.extend({},p):p);return y},t.widget.bridge=function(y,u){var p=u.prototype.widgetFullName||y;t.fn[y]=function(g){var k=typeof g=="string",x=h.call(arguments,1),j=this;return g=!k&&x.length?t.widget.extend.apply(null,[g].concat(x)):g,k?this.each(function(){var L,D=t.data(this,p);return g==="instance"?(j=D,!1):D?t.isFunction(D[g])&&g.charAt(0)!=="_"?(L=D[g].apply(D,x),L!==D&&L!==void 0?(j=L&&L.jquery?j.pushStack(L.get()):L,!1):void 0):t.error("no such method '"+g+"' for "+y+" widget instance"):t.error("cannot call methods on "+y+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var L=t.data(this,p);L?(L.option(g||{}),L._init&&L._init()):t.data(this,p,new u(g,this))}),j}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(u,p){p=t(p||this.defaultElement||this)[0],this.element=t(p),this.uuid=d++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),u),this.bindings=t(),this.hoverable=t(),this.focusable=t(),p!==this&&(t.data(p,this.widgetFullName,this),this._on(!0,this.element,{remove:function(k){k.target===p&&this.destroy()}}),this.document=t(p.style?p.ownerDocument:p.document||p),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(u,p){var g,k,x,j=u;if(arguments.length===0)return t.widget.extend({},this.options);if(typeof u=="string")if(j={},g=u.split("."),u=g.shift(),g.length){for(k=j[u]=t.widget.extend({},this.options[u]),x=0;g.length-1>x;x++)k[g[x]]=k[g[x]]||{},k=k[g[x]];if(u=g.pop(),arguments.length===1)return k[u]===void 0?null:k[u];k[u]=p}else{if(arguments.length===1)return this.options[u]===void 0?null:this.options[u];j[u]=p}return this._setOptions(j),this},_setOptions:function(u){var p;for(p in u)this._setOption(p,u[p]);return this},_setOption:function(u,p){return this.options[u]=p,u==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!p),p&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(u,p,g){var k,x=this;typeof u!="boolean"&&(g=p,p=u,u=!1),g?(p=k=t(p),this.bindings=this.bindings.add(p)):(g=p,p=this.element,k=this.widget()),t.each(g,function(j,L){var D=function(){return u||x.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?(typeof L=="string"?x[L]:L).apply(x,arguments):void 0};typeof L!="string"&&(D.guid=L.guid=L.guid||D.guid||t.guid++);var F=j.match(/^([\w:-]*)\s*(.*)$/),X=F[1]+x.eventNamespace,Q=F[2];Q?k.delegate(Q,X,D):p.bind(X,D)})},_off:function(u,p){p=(p||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,u.unbind(p).undelegate(p)},_delay:function(u,p){var g=function(){return(typeof u=="string"?k[u]:u).apply(k,arguments)},k=this;return setTimeout(g,p||0)},_hoverable:function(u){this.hoverable=this.hoverable.add(u),this._on(u,{mouseenter:function(g){t(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){t(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(u){this.focusable=this.focusable.add(u),this._on(u,{focusin:function(g){t(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){t(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(u,p,g){var k,x,j=this.options[u];if(g=g||{},p=t.Event(p),p.type=(u===this.widgetEventPrefix?u:this.widgetEventPrefix+u).toLowerCase(),p.target=this.element[0],x=p.originalEvent)for(k in x)k in p||(p[k]=x[k]);return this.element.trigger(p,g),!(t.isFunction(j)&&j.apply(this.element[0],[p].concat(g))===!1||p.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(y,u){t.Widget.prototype["_"+y]=function(p,g,k){typeof g=="string"&&(g={effect:g});var x,j=g?g===!0||typeof g=="number"?u:g.effect||u:y;g=g||{},typeof g=="number"&&(g={duration:g}),x=!t.isEmptyObject(g),g.complete=k,g.delay&&p.delay(g.delay),x&&t.effects&&t.effects.effect[j]?p[y](g):j!==y&&p[j]?p[j](g.duration,g.easing,k):p.queue(function(L){t(this)[y](),k&&k.call(p[0]),L()})}}),t.widget;var f=!1;t(document).mouseup(function(){f=!1}),t.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var u=this;this.element.bind("mousedown."+this.widgetName,function(p){return u._mouseDown(p)}).bind("click."+this.widgetName,function(p){return t.data(p.target,u.widgetName+".preventClickEvent")===!0?(t.removeData(p.target,u.widgetName+".preventClickEvent"),p.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(u){if(!f){this._mouseStarted&&this._mouseUp(u),this._mouseDownEvent=u;var p=this,g=u.which===1,k=typeof this.options.cancel=="string"&&u.target.nodeName?t(u.target).closest(this.options.cancel).length:!1;return g&&!k&&this._mouseCapture(u)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){p.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(u)&&this._mouseDelayMet(u)&&(this._mouseStarted=this._mouseStart(u)!==!1,!this._mouseStarted)?(u.preventDefault(),!0):(t.data(u.target,this.widgetName+".preventClickEvent")===!0&&t.removeData(u.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(x){return p._mouseMove(x)},this._mouseUpDelegate=function(x){return p._mouseUp(x)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),u.preventDefault(),f=!0,!0)):!0}},_mouseMove:function(u){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!u.button?this._mouseUp(u):u.which?this._mouseStarted?(this._mouseDrag(u),u.preventDefault()):(this._mouseDistanceMet(u)&&this._mouseDelayMet(u)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,u)!==!1,this._mouseStarted?this._mouseDrag(u):this._mouseUp(u)),!this._mouseStarted):this._mouseUp(u)},_mouseUp:function(u){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,u.target===this._mouseDownEvent.target&&t.data(u.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(u)),f=!1,!1},_mouseDistanceMet:function(u){return Math.max(Math.abs(this._mouseDownEvent.pageX-u.pageX),Math.abs(this._mouseDownEvent.pageY-u.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){var y=function(V,Y,oe){return[parseFloat(V[0])*(H.test(V[0])?Y/100:1),parseFloat(V[1])*(H.test(V[1])?oe/100:1)]},u=function(V,Y){return parseInt(t.css(V,Y),10)||0},p=function(V){var Y=V[0];return Y.nodeType===9?{width:V.width(),height:V.height(),offset:{top:0,left:0}}:t.isWindow(Y)?{width:V.width(),height:V.height(),offset:{top:V.scrollTop(),left:V.scrollLeft()}}:Y.preventDefault?{width:0,height:0,offset:{top:Y.pageY,left:Y.pageX}}:{width:V.outerWidth(),height:V.outerHeight(),offset:V.offset()}};t.ui=t.ui||{};var g,k,x=Math.max,j=Math.abs,L=Math.round,D=/left|center|right/,F=/top|center|bottom/,X=/[\+\-]\d+(\.[\d]+)?%?/,Q=/^\w+/,H=/%$/,ce=t.fn.position;t.position={scrollbarWidth:function(){if(g!==void 0)return g;var V,Y,oe=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),q=oe.children()[0];return t("body").append(oe),V=q.offsetWidth,oe.css("overflow","scroll"),Y=q.offsetWidth,V===Y&&(Y=oe[0].clientWidth),oe.remove(),g=V-Y},getScrollInfo:function(V){var Y=V.isWindow||V.isDocument?"":V.element.css("overflow-x"),oe=V.isWindow||V.isDocument?"":V.element.css("overflow-y"),q=Y==="scroll"||Y==="auto"&&V.width<V.element[0].scrollWidth,G=oe==="scroll"||oe==="auto"&&V.height<V.element[0].scrollHeight;return{width:G?t.position.scrollbarWidth():0,height:q?t.position.scrollbarWidth():0}},getWithinInfo:function(V){var Y=t(V||window),oe=t.isWindow(Y[0]),q=!!Y[0]&&Y[0].nodeType===9;return{element:Y,isWindow:oe,isDocument:q,offset:Y.offset()||{left:0,top:0},scrollLeft:Y.scrollLeft(),scrollTop:Y.scrollTop(),width:oe||q?Y.width():Y.outerWidth(),height:oe||q?Y.height():Y.outerHeight()}}},t.fn.position=function(ne){if(!ne||!ne.of)return ce.apply(this,arguments);ne=t.extend({},ne);var V,Y,oe,q,G,J,ae=t(ne.of),ie=t.position.getWithinInfo(ne.within),Oe=t.position.getScrollInfo(ie),De=(ne.collision||"flip").split(" "),ke={};return J=p(ae),ae[0].preventDefault&&(ne.at="left top"),Y=J.width,oe=J.height,q=J.offset,G=t.extend({},q),t.each(["my","at"],function(){var tt,Ve,Qe=(ne[this]||"").split(" ");Qe.length===1&&(Qe=D.test(Qe[0])?Qe.concat(["center"]):F.test(Qe[0])?["center"].concat(Qe):["center","center"]),Qe[0]=D.test(Qe[0])?Qe[0]:"center",Qe[1]=F.test(Qe[1])?Qe[1]:"center",tt=X.exec(Qe[0]),Ve=X.exec(Qe[1]),ke[this]=[tt?tt[0]:0,Ve?Ve[0]:0],ne[this]=[Q.exec(Qe[0])[0],Q.exec(Qe[1])[0]]}),De.length===1&&(De[1]=De[0]),ne.at[0]==="right"?G.left+=Y:ne.at[0]==="center"&&(G.left+=Y/2),ne.at[1]==="bottom"?G.top+=oe:ne.at[1]==="center"&&(G.top+=oe/2),V=y(ke.at,Y,oe),G.left+=V[0],G.top+=V[1],this.each(function(){var tt,Ve,Qe=t(this),ht=Qe.outerWidth(),bt=Qe.outerHeight(),vt=u(this,"marginLeft"),Le=u(this,"marginTop"),_e=ht+vt+u(this,"marginRight")+Oe.width,Ne=bt+Le+u(this,"marginBottom")+Oe.height,Ze=t.extend({},G),Ke=y(ke.my,Qe.outerWidth(),Qe.outerHeight());ne.my[0]==="right"?Ze.left-=ht:ne.my[0]==="center"&&(Ze.left-=ht/2),ne.my[1]==="bottom"?Ze.top-=bt:ne.my[1]==="center"&&(Ze.top-=bt/2),Ze.left+=Ke[0],Ze.top+=Ke[1],k||(Ze.left=L(Ze.left),Ze.top=L(Ze.top)),tt={marginLeft:vt,marginTop:Le},t.each(["left","top"],function(Pe,at){t.ui.position[De[Pe]]&&t.ui.position[De[Pe]][at](Ze,{targetWidth:Y,targetHeight:oe,elemWidth:ht,elemHeight:bt,collisionPosition:tt,collisionWidth:_e,collisionHeight:Ne,offset:[V[0]+Ke[0],V[1]+Ke[1]],my:ne.my,at:ne.at,within:ie,elem:Qe})}),ne.using&&(Ve=function(at){var pt=q.left-Ze.left,lt=pt+Y-ht,ct=q.top-Ze.top,Ge=ct+oe-bt,ze={target:{element:ae,left:q.left,top:q.top,width:Y,height:oe},element:{element:Qe,left:Ze.left,top:Ze.top,width:ht,height:bt},horizontal:0>lt?"left":pt>0?"right":"center",vertical:0>Ge?"top":ct>0?"bottom":"middle"};ht>Y&&Y>j(pt+lt)&&(ze.horizontal="center"),bt>oe&&oe>j(ct+Ge)&&(ze.vertical="middle"),ze.important=x(j(pt),j(lt))>x(j(ct),j(Ge))?"horizontal":"vertical",ne.using.call(this,at,ze)}),Qe.offset(t.extend(Ze,{using:Ve}))})},t.ui.position={fit:{left:function(V,Y){var oe,q=Y.within,G=q.isWindow?q.scrollLeft:q.offset.left,J=q.width,ae=V.left-Y.collisionPosition.marginLeft,ie=G-ae,Oe=ae+Y.collisionWidth-J-G;Y.collisionWidth>J?ie>0&&0>=Oe?(oe=V.left+ie+Y.collisionWidth-J-G,V.left+=ie-oe):V.left=Oe>0&&0>=ie?G:ie>Oe?G+J-Y.collisionWidth:G:ie>0?V.left+=ie:Oe>0?V.left-=Oe:V.left=x(V.left-ae,V.left)},top:function(V,Y){var oe,q=Y.within,G=q.isWindow?q.scrollTop:q.offset.top,J=Y.within.height,ae=V.top-Y.collisionPosition.marginTop,ie=G-ae,Oe=ae+Y.collisionHeight-J-G;Y.collisionHeight>J?ie>0&&0>=Oe?(oe=V.top+ie+Y.collisionHeight-J-G,V.top+=ie-oe):V.top=Oe>0&&0>=ie?G:ie>Oe?G+J-Y.collisionHeight:G:ie>0?V.top+=ie:Oe>0?V.top-=Oe:V.top=x(V.top-ae,V.top)}},flip:{left:function(V,Y){var oe,q,G=Y.within,J=G.offset.left+G.scrollLeft,ae=G.width,ie=G.isWindow?G.scrollLeft:G.offset.left,Oe=V.left-Y.collisionPosition.marginLeft,De=Oe-ie,ke=Oe+Y.collisionWidth-ae-ie,tt=Y.my[0]==="left"?-Y.elemWidth:Y.my[0]==="right"?Y.elemWidth:0,Ve=Y.at[0]==="left"?Y.targetWidth:Y.at[0]==="right"?-Y.targetWidth:0,Qe=-2*Y.offset[0];0>De?(oe=V.left+tt+Ve+Qe+Y.collisionWidth-ae-J,(0>oe||j(De)>oe)&&(V.left+=tt+Ve+Qe)):ke>0&&(q=V.left-Y.collisionPosition.marginLeft+tt+Ve+Qe-ie,(q>0||ke>j(q))&&(V.left+=tt+Ve+Qe))},top:function(V,Y){var oe,q,G=Y.within,J=G.offset.top+G.scrollTop,ae=G.height,ie=G.isWindow?G.scrollTop:G.offset.top,Oe=V.top-Y.collisionPosition.marginTop,De=Oe-ie,ke=Oe+Y.collisionHeight-ae-ie,tt=Y.my[1]==="top",Ve=tt?-Y.elemHeight:Y.my[1]==="bottom"?Y.elemHeight:0,Qe=Y.at[1]==="top"?Y.targetHeight:Y.at[1]==="bottom"?-Y.targetHeight:0,ht=-2*Y.offset[1];0>De?(q=V.top+Ve+Qe+ht+Y.collisionHeight-ae-J,V.top+Ve+Qe+ht>De&&(0>q||j(De)>q)&&(V.top+=Ve+Qe+ht)):ke>0&&(oe=V.top-Y.collisionPosition.marginTop+Ve+Qe+ht-ie,V.top+Ve+Qe+ht>ke&&(oe>0||ke>j(oe))&&(V.top+=Ve+Qe+ht))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var ne,V,Y,oe,q,G=document.getElementsByTagName("body")[0],J=document.createElement("div");ne=document.createElement(G?"div":"body"),Y={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},G&&t.extend(Y,{position:"absolute",left:"-1000px",top:"-1000px"});for(q in Y)ne.style[q]=Y[q];ne.appendChild(J),V=G||document.documentElement,V.insertBefore(ne,V.firstChild),J.style.cssText="position: absolute; left: 10.7432222px;",oe=t(J).offset().left,k=oe>10&&11>oe,ne.innerHTML="",V.removeChild(ne)}()}(),t.ui.position,t.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var u=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),u.collapsible||u.active!==!1&&u.active!=null||(u.active=0),this._processPanels(),0>u.active&&(u.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var u=this.options.icons;u&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+u.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(u.header).addClass(u.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var u;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),u=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),this.options.heightStyle!=="content"&&u.css("height","")},_setOption:function(u,p){return u==="active"?(this._activate(p),void 0):(u==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(p)),this._super(u,p),u!=="collapsible"||p||this.options.active!==!1||this._activate(0),u==="icons"&&(this._destroyIcons(),p&&this._createIcons()),u==="disabled"&&(this.element.toggleClass("ui-state-disabled",!!p).attr("aria-disabled",p),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!p)),void 0)},_keydown:function(u){if(!u.altKey&&!u.ctrlKey){var p=t.ui.keyCode,g=this.headers.length,k=this.headers.index(u.target),x=!1;switch(u.keyCode){case p.RIGHT:case p.DOWN:x=this.headers[(k+1)%g];break;case p.LEFT:case p.UP:x=this.headers[(k-1+g)%g];break;case p.SPACE:case p.ENTER:this._eventHandler(u);break;case p.HOME:x=this.headers[0];break;case p.END:x=this.headers[g-1]}x&&(t(u.target).attr("tabIndex",-1),t(x).attr("tabIndex",0),x.focus(),u.preventDefault())}},_panelKeyDown:function(u){u.keyCode===t.ui.keyCode.UP&&u.ctrlKey&&t(u.currentTarget).prev().focus()},refresh:function(){var u=this.options;this._processPanels(),u.active===!1&&u.collapsible===!0||!this.headers.length?(u.active=!1,this.active=t()):u.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(u.active=!1,this.active=t()):this._activate(Math.max(0,u.active-1)):u.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var u,p=this.options,g=p.heightStyle,k=this.element.parent();this.active=this._findActive(p.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var x=t(this),j=x.uniqueId().attr("id"),L=x.next(),D=L.uniqueId().attr("id");x.attr("aria-controls",D),L.attr("aria-labelledby",j)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(p.event),g==="fill"?(u=k.height(),this.element.siblings(":visible").each(function(){var x=t(this),j=x.css("position");j!=="absolute"&&j!=="fixed"&&(u-=x.outerHeight(!0))}),this.headers.each(function(){u-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,u-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):g==="auto"&&(u=0,this.headers.next().each(function(){u=Math.max(u,t(this).css("height","").height())}).height(u))},_activate:function(u){var p=this._findActive(u)[0];p!==this.active[0]&&(p=p||this.active[0],this._eventHandler({target:p,currentTarget:p,preventDefault:t.noop}))},_findActive:function(u){return typeof u=="number"?this.headers.eq(u):t()},_setupEvents:function(u){var p={keydown:"_keydown"};u&&t.each(u.split(" "),function(g,k){p[k]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,p),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(u){var p=this.options,g=this.active,k=t(u.currentTarget),x=k[0]===g[0],j=x&&p.collapsible,L=j?t():k.next(),D=g.next(),F={oldHeader:g,oldPanel:D,newHeader:j?t():k,newPanel:L};u.preventDefault(),x&&!p.collapsible||this._trigger("beforeActivate",u,F)===!1||(p.active=j?!1:this.headers.index(k),this.active=x?t():k,this._toggle(F),g.removeClass("ui-accordion-header-active ui-state-active"),p.icons&&g.children(".ui-accordion-header-icon").removeClass(p.icons.activeHeader).addClass(p.icons.header),x||(k.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),p.icons&&k.children(".ui-accordion-header-icon").removeClass(p.icons.header).addClass(p.icons.activeHeader),k.next().addClass("ui-accordion-content-active")))},_toggle:function(u){var p=u.newPanel,g=this.prevShow.length?this.prevShow:u.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=p,this.prevHide=g,this.options.animate?this._animate(p,g,u):(g.hide(),p.show(),this._toggleComplete(u)),g.attr({"aria-hidden":"true"}),g.prev().attr("aria-selected","false"),p.length&&g.length?g.prev().attr({tabIndex:-1,"aria-expanded":"false"}):p.length&&this.headers.filter(function(){return t(this).attr("tabIndex")===0}).attr("tabIndex",-1),p.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(u,p,g){var k,x,j,L=this,D=0,F=u.length&&(!p.length||u.index()<p.index()),X=this.options.animate||{},Q=F&&X.down||X,H=function(){L._toggleComplete(g)};return typeof Q=="number"&&(j=Q),typeof Q=="string"&&(x=Q),x=x||Q.easing||X.easing,j=j||Q.duration||X.duration,p.length?u.length?(k=u.show().outerHeight(),p.animate(this.hideProps,{duration:j,easing:x,step:function(ne,V){V.now=Math.round(ne)}}),u.hide().animate(this.showProps,{duration:j,easing:x,complete:H,step:function(ne,V){V.now=Math.round(ne),V.prop!=="height"?D+=V.now:L.options.heightStyle!=="content"&&(V.now=Math.round(k-p.outerHeight()-D),D=0)}}),void 0):p.animate(this.hideProps,j,x,H):u.animate(this.showProps,j,x,H)},_toggleComplete:function(u){var p=u.oldPanel;p.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),p.length&&(p.parent()[0].className=p.parent()[0].className),this._trigger("activate",null,u)}}),t.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(u){u.preventDefault()},"click .ui-menu-item":function(u){var p=t(u.target);!this.mouseHandled&&p.not(".ui-state-disabled").length&&(this.select(u),u.isPropagationStopped()||(this.mouseHandled=!0),p.has(".ui-menu").length?this.expand(u):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(u){var p=t(u.currentTarget);p.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(u,p)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(p,g){var k=this.active||this.element.find(this.options.items).eq(0);g||this.focus(p,k)},blur:function(p){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(p)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(p){this._closeOnDocumentClick(p)&&this.collapseAll(p),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var u=t(this);u.data("ui-menu-submenu-carat")&&u.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(u){var p=function(X){return X.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},g,k,x,j,L,D=!0;switch(u.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(u);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(u);break;case t.ui.keyCode.HOME:this._move("first","first",u);break;case t.ui.keyCode.END:this._move("last","last",u);break;case t.ui.keyCode.UP:this.previous(u);break;case t.ui.keyCode.DOWN:this.next(u);break;case t.ui.keyCode.LEFT:this.collapse(u);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(u);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(u);break;case t.ui.keyCode.ESCAPE:this.collapse(u);break;default:D=!1,k=this.previousFilter||"",x=String.fromCharCode(u.keyCode),j=!1,clearTimeout(this.filterTimer),x===k?j=!0:x=k+x,L=RegExp("^"+p(x),"i"),g=this.activeMenu.find(this.options.items).filter(function(){return L.test(t(this).text())}),g=j&&g.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):g,g.length||(x=String.fromCharCode(u.keyCode),L=RegExp("^"+p(x),"i"),g=this.activeMenu.find(this.options.items).filter(function(){return L.test(t(this).text())})),g.length?(this.focus(u,g),g.length>1?(this.previousFilter=x,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}D&&u.preventDefault()},_activate:function(u){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(u):this.select(u))},refresh:function(){var u,p,g=this,k=this.options.icons.submenu,x=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),x.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var j=t(this),L=j.parent(),D=t("<span>").addClass("ui-menu-icon ui-icon "+k).data("ui-menu-submenu-carat",!0);L.attr("aria-haspopup","true").prepend(D),j.attr("aria-labelledby",L.attr("id"))}),u=x.add(this.element),p=u.find(this.options.items),p.not(".ui-menu-item").each(function(){var j=t(this);g._isDivider(j)&&j.addClass("ui-widget-content ui-menu-divider")}),p.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),p.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(u,p){u==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(p.submenu),u==="disabled"&&this.element.toggleClass("ui-state-disabled",!!p).attr("aria-disabled",p),this._super(u,p)},focus:function(u,p){var g,k;this.blur(u,u&&u.type==="focus"),this._scrollIntoView(p),this.active=p.first(),k=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",k.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),u&&u.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),g=p.children(".ui-menu"),g.length&&u&&/^mouse/.test(u.type)&&this._startOpening(g),this.activeMenu=p.parent(),this._trigger("focus",u,{item:p})},_scrollIntoView:function(u){var p,g,k,x,j,L;this._hasScroll()&&(p=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,g=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,k=u.offset().top-this.activeMenu.offset().top-p-g,x=this.activeMenu.scrollTop(),j=this.activeMenu.height(),L=u.outerHeight(),0>k?this.activeMenu.scrollTop(x+k):k+L>j&&this.activeMenu.scrollTop(x+k-j+L))},blur:function(u,p){p||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",u,{item:this.active}))},_startOpening:function(u){clearTimeout(this.timer),u.attr("aria-hidden")==="true"&&(this.timer=this._delay(function(){this._close(),this._open(u)},this.delay))},_open:function(u){var p=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(u.parents(".ui-menu")).hide().attr("aria-hidden","true"),u.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(p)},collapseAll:function(u,p){clearTimeout(this.timer),this.timer=this._delay(function(){var g=p?this.element:t(u&&u.target).closest(this.element.find(".ui-menu"));g.length||(g=this.element),this._close(g),this.blur(u),this.activeMenu=g},this.delay)},_close:function(u){u||(u=this.active?this.active.parent():this.element),u.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(u){return!t(u.target).closest(".ui-menu").length},_isDivider:function(u){return!/[^\-\u2014\u2013\s]/.test(u.text())},collapse:function(u){var p=this.active&&this.active.parent().closest(".ui-menu-item",this.element);p&&p.length&&(this._close(),this.focus(u,p))},expand:function(u){var p=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();p&&p.length&&(this._open(p.parent()),this._delay(function(){this.focus(u,p)}))},next:function(u){this._move("next","first",u)},previous:function(u){this._move("prev","last",u)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(u,p,g){var k;this.active&&(k=u==="first"||u==="last"?this.active[u==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[u+"All"](".ui-menu-item").eq(0)),k&&k.length&&this.active||(k=this.activeMenu.find(this.options.items)[p]()),this.focus(g,k)},nextPage:function(u){var p,g,k;return this.active?(this.isLastItem()||(this._hasScroll()?(g=this.active.offset().top,k=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return p=t(this),0>p.offset().top-g-k}),this.focus(u,p)):this.focus(u,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(u),void 0)},previousPage:function(u){var p,g,k;return this.active?(this.isFirstItem()||(this._hasScroll()?(g=this.active.offset().top,k=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return p=t(this),p.offset().top-g+k>0}),this.focus(u,p)):this.focus(u,this.activeMenu.find(this.options.items).first())),void 0):(this.next(u),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(u){this.active=this.active||t(u.target).closest(".ui-menu-item");var p={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(u,!0),this._trigger("select",u,p)}}),t.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var u,p,g,k=this.element[0].nodeName.toLowerCase(),x=k==="textarea",j=k==="input";this.isMultiLine=x?!0:j?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[x||j?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(D){if(this.element.prop("readOnly"))return u=!0,g=!0,p=!0,void 0;u=!1,g=!1,p=!1;var F=t.ui.keyCode;switch(D.keyCode){case F.PAGE_UP:u=!0,this._move("previousPage",D);break;case F.PAGE_DOWN:u=!0,this._move("nextPage",D);break;case F.UP:u=!0,this._keyEvent("previous",D);break;case F.DOWN:u=!0,this._keyEvent("next",D);break;case F.ENTER:this.menu.active&&(u=!0,D.preventDefault(),this.menu.select(D));break;case F.TAB:this.menu.active&&this.menu.select(D);break;case F.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(D),D.preventDefault());break;default:p=!0,this._searchTimeout(D)}},keypress:function(D){if(u)return u=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&D.preventDefault(),void 0;if(!p){var F=t.ui.keyCode;switch(D.keyCode){case F.PAGE_UP:this._move("previousPage",D);break;case F.PAGE_DOWN:this._move("nextPage",D);break;case F.UP:this._keyEvent("previous",D);break;case F.DOWN:this._keyEvent("next",D)}}},input:function(D){return g?(g=!1,D.preventDefault(),void 0):(this._searchTimeout(D),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(D){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(D),this._change(D),void 0)}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(D){D.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var F=this.menu.element[0];t(D.target).closest(".ui-menu-item").length||this._delay(function(){var X=this;this.document.one("mousedown",function(Q){Q.target===X.element[0]||Q.target===F||t.contains(F,Q.target)||X.close()})})},menufocus:function(D,F){var X,Q;return this.isNewMenu&&(this.isNewMenu=!1,D.originalEvent&&/^mouse/.test(D.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(D.target).trigger(D.originalEvent)}),void 0):(Q=F.item.data("ui-autocomplete-item"),this._trigger("focus",D,{item:Q})!==!1&&D.originalEvent&&/^key/.test(D.originalEvent.type)&&this._value(Q.value),X=F.item.attr("aria-label")||Q.value,X&&t.trim(X).length&&(this.liveRegion.children().hide(),t("<div>").text(X).appendTo(this.liveRegion)),void 0)},menuselect:function(D,F){var X=F.item.data("ui-autocomplete-item"),Q=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=Q,this._delay(function(){this.previous=Q,this.selectedItem=X})),this._trigger("select",D,{item:X})!==!1&&this._value(X.value),this.term=this._value(),this.close(D),this.selectedItem=X}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(u,p){this._super(u,p),u==="source"&&this._initSource(),u==="appendTo"&&this.menu.element.appendTo(this._appendTo()),u==="disabled"&&p&&this.xhr&&this.xhr.abort()},_appendTo:function(){var u=this.options.appendTo;return u&&(u=u.jquery||u.nodeType?t(u):this.document.find(u).eq(0)),u&&u[0]||(u=this.element.closest(".ui-front")),u.length||(u=this.document[0].body),u},_initSource:function(){var u,p,g=this;t.isArray(this.options.source)?(u=this.options.source,this.source=function(k,x){x(t.ui.autocomplete.filter(u,k.term))}):typeof this.options.source=="string"?(p=this.options.source,this.source=function(k,x){g.xhr&&g.xhr.abort(),g.xhr=t.ajax({url:p,data:k,dataType:"json",success:function(L){x(L)},error:function(){x([])}})}):this.source=this.options.source},_searchTimeout:function(u){clearTimeout(this.searching),this.searching=this._delay(function(){var p=this.term===this._value(),g=this.menu.element.is(":visible"),k=u.altKey||u.ctrlKey||u.metaKey||u.shiftKey;(!p||p&&!g&&!k)&&(this.selectedItem=null,this.search(null,u))},this.options.delay)},search:function(u,p){return u=u!=null?u:this._value(),this.term=this._value(),u.length<this.options.minLength?this.close(p):this._trigger("search",p)!==!1?this._search(u):void 0},_search:function(u){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:u},this._response())},_response:function(){var u=++this.requestIndex;return t.proxy(function(p){u===this.requestIndex&&this.__response(p),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(u){u&&(u=this._normalize(u)),this._trigger("response",null,{content:u}),!this.options.disabled&&u&&u.length&&!this.cancelSearch?(this._suggest(u),this._trigger("open")):this._close()},close:function(u){this.cancelSearch=!0,this._close(u)},_close:function(u){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",u))},_change:function(u){this.previous!==this._value()&&this._trigger("change",u,{item:this.selectedItem})},_normalize:function(u){return u.length&&u[0].label&&u[0].value?u:t.map(u,function(p){return typeof p=="string"?{label:p,value:p}:t.extend({},p,{label:p.label||p.value,value:p.value||p.label})})},_suggest:function(u){var p=this.menu.element.empty();this._renderMenu(p,u),this.isNewMenu=!0,this.menu.refresh(),p.show(),this._resizeMenu(),p.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var u=this.menu.element;u.outerWidth(Math.max(u.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(u,p){var g=this;t.each(p,function(k,x){g._renderItemData(u,x)})},_renderItemData:function(u,p){return this._renderItem(u,p).data("ui-autocomplete-item",p)},_renderItem:function(u,p){return t("<li>").text(p.label).appendTo(u)},_move:function(u,p){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(u)||this.menu.isLastItem()&&/^next/.test(u)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[u](p),void 0):(this.search(null,p),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(u,p){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(u,p),p.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(u){return u.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(u,p){var g=RegExp(t.ui.autocomplete.escapeRegex(p),"i");return t.grep(u,function(k){return g.test(k.label||k.value||k)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(u){return u+(u>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(u){var p;this._superApply(arguments),this.options.disabled||this.cancelSearch||(p=u&&u.length?this.options.messages.results(u.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(p).appendTo(this.liveRegion))}}),t.ui.autocomplete;var v,_="ui-button ui-widget ui-state-default ui-corner-all",b="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",w=function(){var u=t(this);setTimeout(function(){u.find(":ui-button").button("refresh")},1)},A=function(u){var p=u.name,g=u.form,k=t([]);return p&&(p=p.replace(/'/g,"\\'"),k=g?t(g).find("[name='"+p+"'][type=radio]"):t("[name='"+p+"'][type=radio]",u.ownerDocument).filter(function(){return!this.form})),k};t.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,w),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var u=this,p=this.options,g=this.type==="checkbox"||this.type==="radio",k=g?"":"ui-state-active";p.label===null&&(p.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(_).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){p.disabled||this===v&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){p.disabled||t(this).removeClass(k)}).bind("click"+this.eventNamespace,function(x){p.disabled&&(x.preventDefault(),x.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),g&&this.element.bind("change"+this.eventNamespace,function(){u.refresh()}),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){return p.disabled?!1:void 0}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(p.disabled)return!1;t(this).addClass("ui-state-active"),u.buttonElement.attr("aria-pressed","true");var x=u.element[0];A(x).not(x).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return p.disabled?!1:(t(this).addClass("ui-state-active"),v=this,u.document.one("mouseup",function(){v=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return p.disabled?!1:(t(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(x){return p.disabled?!1:((x.keyCode===t.ui.keyCode.SPACE||x.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(x){x.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",p.disabled),this._resetButton()},_determineButtonType:function(){var u,p,g;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button",this.type==="checkbox"||this.type==="radio"?(u=this.element.parents().last(),p="label[for='"+this.element.attr("id")+"']",this.buttonElement=u.find(p),this.buttonElement.length||(u=u.length?u.siblings():this.element.siblings(),this.buttonElement=u.filter(p),this.buttonElement.length||(this.buttonElement=u.find(p))),this.element.addClass("ui-helper-hidden-accessible"),g=this.element.is(":checked"),g&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",g)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(_+" ui-state-active "+b).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(u,p){return this._super(u,p),u==="disabled"?(this.widget().toggleClass("ui-state-disabled",!!p),this.element.prop("disabled",!!p),p&&(this.type==="checkbox"||this.type==="radio"?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var u=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");u!==this.options.disabled&&this._setOption("disabled",u),this.type==="radio"?A(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input")return this.options.label&&this.element.val(this.options.label),void 0;var u=this.buttonElement.removeClass(b),p=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(u.empty()).text(),g=this.options.icons,k=g.primary&&g.secondary,x=[];g.primary||g.secondary?(this.options.text&&x.push("ui-button-text-icon"+(k?"s":g.primary?"-primary":"-secondary")),g.primary&&u.prepend("<span class='ui-button-icon-primary ui-icon "+g.primary+"'></span>"),g.secondary&&u.append("<span class='ui-button-icon-secondary ui-icon "+g.secondary+"'></span>"),this.options.text||(x.push(k?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||u.attr("title",t.trim(p)))):x.push("ui-button-text-only"),u.addClass(x.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(u,p){u==="disabled"&&this.buttons.button("option",u,p),this._super(u,p)},refresh:function(){var u=this.element.css("direction")==="rtl",p=this.element.find(this.options.items),g=p.filter(":ui-button");p.not(":ui-button").button(),g.button("refresh"),this.buttons=p.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(u?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(u?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.11.1"}});var E;t.extend(l.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(u){return r(this._defaults,u||{}),this},_attachDatepicker:function(u,p){var g,k,x;g=u.nodeName.toLowerCase(),k=g==="div"||g==="span",u.id||(this.uuid+=1,u.id="dp"+this.uuid),x=this._newInst(t(u),k),x.settings=t.extend({},p||{}),g==="input"?this._connectDatepicker(u,x):k&&this._inlineDatepicker(u,x)},_newInst:function(u,p){var g=u[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:g,input:u,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:p,dpDiv:p?a(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(u,p){var g=t(u);p.append=t([]),p.trigger=t([]),g.hasClass(this.markerClassName)||(this._attachments(g,p),g.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(p),t.data(u,"datepicker",p),p.settings.disabled&&this._disableDatepicker(u))},_attachments:function(u,p){var g,k,x,j=this._get(p,"appendText"),L=this._get(p,"isRTL");p.append&&p.append.remove(),j&&(p.append=t("<span class='"+this._appendClass+"'>"+j+"</span>"),u[L?"before":"after"](p.append)),u.unbind("focus",this._showDatepicker),p.trigger&&p.trigger.remove(),g=this._get(p,"showOn"),(g==="focus"||g==="both")&&u.focus(this._showDatepicker),(g==="button"||g==="both")&&(k=this._get(p,"buttonText"),x=this._get(p,"buttonImage"),p.trigger=t(this._get(p,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:x,alt:k,title:k}):t("<button type='button'></button>").addClass(this._triggerClass).html(x?t("<img/>").attr({src:x,alt:k,title:k}):k)),u[L?"before":"after"](p.trigger),p.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===u[0]?t.datepicker._hideDatepicker():(t.datepicker._datepickerShowing&&t.datepicker._lastInput!==u[0]&&t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(u[0])),!1}))},_autoSize:function(u){if(this._get(u,"autoSize")&&!u.inline){var p,g,k,x,j=new Date(2009,11,20),L=this._get(u,"dateFormat");L.match(/[DM]/)&&(p=function(F){for(g=0,k=0,x=0;F.length>x;x++)F[x].length>g&&(g=F[x].length,k=x);return k},j.setMonth(p(this._get(u,L.match(/MM/)?"monthNames":"monthNamesShort"))),j.setDate(p(this._get(u,L.match(/DD/)?"dayNames":"dayNamesShort"))+20-j.getDay())),u.input.attr("size",this._formatDate(u,j).length)}},_inlineDatepicker:function(u,p){var g=t(u);g.hasClass(this.markerClassName)||(g.addClass(this.markerClassName).append(p.dpDiv),t.data(u,"datepicker",p),this._setDate(p,this._getDefaultDate(p),!0),this._updateDatepicker(p),this._updateAlternate(p),p.settings.disabled&&this._disableDatepicker(u),p.dpDiv.css("display","block"))},_dialogDatepicker:function(u,p,g,k,x){var j,L,D,F,X,Q=this._dialogInst;return Q||(this.uuid+=1,j="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+j+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),Q=this._dialogInst=this._newInst(this._dialogInput,!1),Q.settings={},t.data(this._dialogInput[0],"datepicker",Q)),r(Q.settings,k||{}),p=p&&p.constructor===Date?this._formatDate(Q,p):p,this._dialogInput.val(p),this._pos=x?x.length?x:[x.pageX,x.pageY]:null,this._pos||(L=document.documentElement.clientWidth,D=document.documentElement.clientHeight,F=document.documentElement.scrollLeft||document.body.scrollLeft,X=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[L/2-100+F,D/2-150+X]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),Q.settings.onSelect=g,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",Q),this},_destroyDatepicker:function(u){var p,g=t(u),k=t.data(u,"datepicker");g.hasClass(this.markerClassName)&&(p=u.nodeName.toLowerCase(),t.removeData(u,"datepicker"),p==="input"?(k.append.remove(),k.trigger.remove(),g.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(p==="div"||p==="span")&&g.removeClass(this.markerClassName).empty())},_enableDatepicker:function(u){var p,g,k=t(u),x=t.data(u,"datepicker");k.hasClass(this.markerClassName)&&(p=u.nodeName.toLowerCase(),p==="input"?(u.disabled=!1,x.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(p==="div"||p==="span")&&(g=k.children("."+this._inlineClass),g.children().removeClass("ui-state-disabled"),g.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(j){return j===u?null:j}))},_disableDatepicker:function(u){var p,g,k=t(u),x=t.data(u,"datepicker");k.hasClass(this.markerClassName)&&(p=u.nodeName.toLowerCase(),p==="input"?(u.disabled=!0,x.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(p==="div"||p==="span")&&(g=k.children("."+this._inlineClass),g.children().addClass("ui-state-disabled"),g.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(j){return j===u?null:j}),this._disabledInputs[this._disabledInputs.length]=u)},_isDisabledDatepicker:function(u){if(!u)return!1;for(var p=0;this._disabledInputs.length>p;p++)if(this._disabledInputs[p]===u)return!0;return!1},_getInst:function(u){try{return t.data(u,"datepicker")}catch(p){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(u,p,g){var k,x,j,L,D=this._getInst(u);return arguments.length===2&&typeof p=="string"?p==="defaults"?t.extend({},t.datepicker._defaults):D?p==="all"?t.extend({},D.settings):this._get(D,p):null:(k=p||{},typeof p=="string"&&(k={},k[p]=g),D&&(this._curInst===D&&this._hideDatepicker(),x=this._getDateDatepicker(u,!0),j=this._getMinMaxDate(D,"min"),L=this._getMinMaxDate(D,"max"),r(D.settings,k),j!==null&&k.dateFormat!==void 0&&k.minDate===void 0&&(D.settings.minDate=this._formatDate(D,j)),L!==null&&k.dateFormat!==void 0&&k.maxDate===void 0&&(D.settings.maxDate=this._formatDate(D,L)),"disabled"in k&&(k.disabled?this._disableDatepicker(u):this._enableDatepicker(u)),this._attachments(t(u),D),this._autoSize(D),this._setDate(D,x),this._updateAlternate(D),this._updateDatepicker(D)),void 0)},_changeDatepicker:function(u,p,g){this._optionDatepicker(u,p,g)},_refreshDatepicker:function(u){var p=this._getInst(u);p&&this._updateDatepicker(p)},_setDateDatepicker:function(u,p){var g=this._getInst(u);g&&(this._setDate(g,p),this._updateDatepicker(g),this._updateAlternate(g))},_getDateDatepicker:function(u,p){var g=this._getInst(u);return g&&!g.inline&&this._setDateFromField(g,p),g?this._getDate(g):null},_doKeyDown:function(u){var p,g,k,x=t.datepicker._getInst(u.target),j=!0,L=x.dpDiv.is(".ui-datepicker-rtl");if(x._keyEvent=!0,t.datepicker._datepickerShowing)switch(u.keyCode){case 9:t.datepicker._hideDatepicker(),j=!1;break;case 13:return k=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",x.dpDiv),k[0]&&t.datepicker._selectDay(u.target,x.selectedMonth,x.selectedYear,k[0]),p=t.datepicker._get(x,"onSelect"),p?(g=t.datepicker._formatDate(x),p.apply(x.input?x.input[0]:null,[g,x])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(u.target,u.ctrlKey?-t.datepicker._get(x,"stepBigMonths"):-t.datepicker._get(x,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(u.target,u.ctrlKey?+t.datepicker._get(x,"stepBigMonths"):+t.datepicker._get(x,"stepMonths"),"M");break;case 35:(u.ctrlKey||u.metaKey)&&t.datepicker._clearDate(u.target),j=u.ctrlKey||u.metaKey;break;case 36:(u.ctrlKey||u.metaKey)&&t.datepicker._gotoToday(u.target),j=u.ctrlKey||u.metaKey;break;case 37:(u.ctrlKey||u.metaKey)&&t.datepicker._adjustDate(u.target,L?1:-1,"D"),j=u.ctrlKey||u.metaKey,u.originalEvent.altKey&&t.datepicker._adjustDate(u.target,u.ctrlKey?-t.datepicker._get(x,"stepBigMonths"):-t.datepicker._get(x,"stepMonths"),"M");break;case 38:(u.ctrlKey||u.metaKey)&&t.datepicker._adjustDate(u.target,-7,"D"),j=u.ctrlKey||u.metaKey;break;case 39:(u.ctrlKey||u.metaKey)&&t.datepicker._adjustDate(u.target,L?-1:1,"D"),j=u.ctrlKey||u.metaKey,u.originalEvent.altKey&&t.datepicker._adjustDate(u.target,u.ctrlKey?+t.datepicker._get(x,"stepBigMonths"):+t.datepicker._get(x,"stepMonths"),"M");break;case 40:(u.ctrlKey||u.metaKey)&&t.datepicker._adjustDate(u.target,7,"D"),j=u.ctrlKey||u.metaKey;break;default:j=!1}else u.keyCode===36&&u.ctrlKey?t.datepicker._showDatepicker(this):j=!1;j&&(u.preventDefault(),u.stopPropagation())},_doKeyPress:function(u){var p,g,k=t.datepicker._getInst(u.target);return t.datepicker._get(k,"constrainInput")?(p=t.datepicker._possibleChars(t.datepicker._get(k,"dateFormat")),g=String.fromCharCode(u.charCode==null?u.keyCode:u.charCode),u.ctrlKey||u.metaKey||" ">g||!p||p.indexOf(g)>-1):void 0},_doKeyUp:function(u){var p,g=t.datepicker._getInst(u.target);if(g.input.val()!==g.lastVal)try{p=t.datepicker.parseDate(t.datepicker._get(g,"dateFormat"),g.input?g.input.val():null,t.datepicker._getFormatConfig(g)),p&&(t.datepicker._setDateFromField(g),t.datepicker._updateAlternate(g),t.datepicker._updateDatepicker(g))}catch(k){}return!0},_showDatepicker:function(u){if(u=u.target||u,u.nodeName.toLowerCase()!=="input"&&(u=t("input",u.parentNode)[0]),!t.datepicker._isDisabledDatepicker(u)&&t.datepicker._lastInput!==u){var p,g,k,x,j,L,D;p=t.datepicker._getInst(u),t.datepicker._curInst&&t.datepicker._curInst!==p&&(t.datepicker._curInst.dpDiv.stop(!0,!0),p&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),g=t.datepicker._get(p,"beforeShow"),k=g?g.apply(u,[u,p]):{},k!==!1&&(r(p.settings,k),p.lastVal=null,t.datepicker._lastInput=u,t.datepicker._setDateFromField(p),t.datepicker._inDialog&&(u.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(u),t.datepicker._pos[1]+=u.offsetHeight),x=!1,t(u).parents().each(function(){return x|=t(this).css("position")==="fixed",!x}),j={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,p.dpDiv.empty(),p.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(p),j=t.datepicker._checkOffset(p,j,x),p.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":x?"fixed":"absolute",display:"none",left:j.left+"px",top:j.top+"px"}),p.inline||(L=t.datepicker._get(p,"showAnim"),D=t.datepicker._get(p,"duration"),p.dpDiv.css("z-index",o(t(u))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[L]?p.dpDiv.show(L,t.datepicker._get(p,"showOptions"),D):p.dpDiv[L||"show"](L?D:null),t.datepicker._shouldFocusInput(p)&&p.input.focus(),t.datepicker._curInst=p))}},_updateDatepicker:function(u){this.maxRows=4,E=u,u.dpDiv.empty().append(this._generateHTML(u)),this._attachHandlers(u);var p,g=this._getNumberOfMonths(u),k=g[1],x=17,j=u.dpDiv.find("."+this._dayOverClass+" a");j.length>0&&s.apply(j.get(0)),u.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),k>1&&u.dpDiv.addClass("ui-datepicker-multi-"+k).css("width",x*k+"em"),u.dpDiv[(g[0]!==1||g[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),u.dpDiv[(this._get(u,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),u===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(u)&&u.input.focus(),u.yearshtml&&(p=u.yearshtml,setTimeout(function(){p===u.yearshtml&&u.yearshtml&&u.dpDiv.find("select.ui-datepicker-year:first").replaceWith(u.yearshtml),p=u.yearshtml=null},0))},_shouldFocusInput:function(u){return u.input&&u.input.is(":visible")&&!u.input.is(":disabled")&&!u.input.is(":focus")},_checkOffset:function(u,p,g){var k=u.dpDiv.outerWidth(),x=u.dpDiv.outerHeight(),j=u.input?u.input.outerWidth():0,L=u.input?u.input.outerHeight():0,D=document.documentElement.clientWidth+(g?0:t(document).scrollLeft()),F=document.documentElement.clientHeight+(g?0:t(document).scrollTop());return p.left-=this._get(u,"isRTL")?k-j:0,p.left-=g&&p.left===u.input.offset().left?t(document).scrollLeft():0,p.top-=g&&p.top===u.input.offset().top+L?t(document).scrollTop():0,p.left-=Math.min(p.left,p.left+k>D&&D>k?Math.abs(p.left+k-D):0),p.top-=Math.min(p.top,p.top+x>F&&F>x?Math.abs(x+L):0),p},_findPos:function(u){for(var p,g=this._getInst(u),k=this._get(g,"isRTL");u&&(u.type==="hidden"||u.nodeType!==1||t.expr.filters.hidden(u));)u=u[k?"previousSibling":"nextSibling"];return p=t(u).offset(),[p.left,p.top]},_hideDatepicker:function(u){var p,g,k,x,j=this._curInst;!j||u&&j!==t.data(u,"datepicker")||this._datepickerShowing&&(p=this._get(j,"showAnim"),g=this._get(j,"duration"),k=function(){t.datepicker._tidyDialog(j)},t.effects&&(t.effects.effect[p]||t.effects[p])?j.dpDiv.hide(p,t.datepicker._get(j,"showOptions"),g,k):j.dpDiv[p==="slideDown"?"slideUp":p==="fadeIn"?"fadeOut":"hide"](p?g:null,k),p||k(),this._datepickerShowing=!1,x=this._get(j,"onClose"),x&&x.apply(j.input?j.input[0]:null,[j.input?j.input.val():"",j]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(u){u.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(u){if(t.datepicker._curInst){var p=t(u.target),g=t.datepicker._getInst(p[0]);(p[0].id!==t.datepicker._mainDivId&&p.parents("#"+t.datepicker._mainDivId).length===0&&!p.hasClass(t.datepicker.markerClassName)&&!p.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||p.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==g)&&t.datepicker._hideDatepicker()}},_adjustDate:function(u,p,g){var k=t(u),x=this._getInst(k[0]);this._isDisabledDatepicker(k[0])||(this._adjustInstDate(x,p+(g==="M"?this._get(x,"showCurrentAtPos"):0),g),this._updateDatepicker(x))},_gotoToday:function(u){var p,g=t(u),k=this._getInst(g[0]);this._get(k,"gotoCurrent")&&k.currentDay?(k.selectedDay=k.currentDay,k.drawMonth=k.selectedMonth=k.currentMonth,k.drawYear=k.selectedYear=k.currentYear):(p=new Date,k.selectedDay=p.getDate(),k.drawMonth=k.selectedMonth=p.getMonth(),k.drawYear=k.selectedYear=p.getFullYear()),this._notifyChange(k),this._adjustDate(g)},_selectMonthYear:function(u,p,g){var k=t(u),x=this._getInst(k[0]);x["selected"+(g==="M"?"Month":"Year")]=x["draw"+(g==="M"?"Month":"Year")]=parseInt(p.options[p.selectedIndex].value,10),this._notifyChange(x),this._adjustDate(k)},_selectDay:function(u,p,g,k){var x,j=t(u);t(k).hasClass(this._unselectableClass)||this._isDisabledDatepicker(j[0])||(x=this._getInst(j[0]),x.selectedDay=x.currentDay=t("a",k).html(),x.selectedMonth=x.currentMonth=p,x.selectedYear=x.currentYear=g,this._selectDate(u,this._formatDate(x,x.currentDay,x.currentMonth,x.currentYear)))},_clearDate:function(u){var p=t(u);this._selectDate(p,"")},_selectDate:function(u,p){var g,k=t(u),x=this._getInst(k[0]);p=p!=null?p:this._formatDate(x),x.input&&x.input.val(p),this._updateAlternate(x),g=this._get(x,"onSelect"),g?g.apply(x.input?x.input[0]:null,[p,x]):x.input&&x.input.trigger("change"),x.inline?this._updateDatepicker(x):(this._hideDatepicker(),this._lastInput=x.input[0],typeof x.input[0]!="object"&&x.input.focus(),this._lastInput=null)},_updateAlternate:function(u){var p,g,k,x=this._get(u,"altField");x&&(p=this._get(u,"altFormat")||this._get(u,"dateFormat"),g=this._getDate(u),k=this.formatDate(p,g,this._getFormatConfig(u)),t(x).each(function(){t(this).val(k)}))},noWeekends:function(u){var p=u.getDay();return[p>0&&6>p,""]},iso8601Week:function(u){var p,g=new Date(u.getTime());return g.setDate(g.getDate()+4-(g.getDay()||7)),p=g.getTime(),g.setMonth(0),g.setDate(1),Math.floor(Math.round((p-g)/864e5)/7)+1},parseDate:function(u,p,g){if(u==null||p==null)throw"Invalid arguments";if(p=typeof p=="object"?""+p:p+"",p==="")return null;var k,x,j,L,D=0,F=(g?g.shortYearCutoff:null)||this._defaults.shortYearCutoff,X=typeof F!="string"?F:new Date().getFullYear()%100+parseInt(F,10),Q=(g?g.dayNamesShort:null)||this._defaults.dayNamesShort,H=(g?g.dayNames:null)||this._defaults.dayNames,ce=(g?g.monthNamesShort:null)||this._defaults.monthNamesShort,ne=(g?g.monthNames:null)||this._defaults.monthNames,V=-1,Y=-1,oe=-1,q=-1,G=!1,J=function(ke){var tt=u.length>k+1&&u.charAt(k+1)===ke;return tt&&k++,tt},ae=function(ke){var tt=J(ke),Ve=ke==="@"?14:ke==="!"?20:ke==="y"&&tt?4:ke==="o"?3:2,Qe=ke==="y"?Ve:1,ht=RegExp("^\\d{"+Qe+","+Ve+"}"),bt=p.substring(D).match(ht);if(!bt)throw"Missing number at position "+D;return D+=bt[0].length,parseInt(bt[0],10)},ie=function(ke,tt,Ve){var Qe=-1,ht=t.map(J(ke)?Ve:tt,function(bt,vt){return[[vt,bt]]}).sort(function(bt,vt){return-(bt[1].length-vt[1].length)});if(t.each(ht,function(bt,vt){var Le=vt[1];return p.substr(D,Le.length).toLowerCase()===Le.toLowerCase()?(Qe=vt[0],D+=Le.length,!1):void 0}),Qe!==-1)return Qe+1;throw"Unknown name at position "+D},Oe=function(){if(p.charAt(D)!==u.charAt(k))throw"Unexpected literal at position "+D;D++};for(k=0;u.length>k;k++)if(G)u.charAt(k)!=="'"||J("'")?Oe():G=!1;else switch(u.charAt(k)){case"d":oe=ae("d");break;case"D":ie("D",Q,H);break;case"o":q=ae("o");break;case"m":Y=ae("m");break;case"M":Y=ie("M",ce,ne);break;case"y":V=ae("y");break;case"@":L=new Date(ae("@")),V=L.getFullYear(),Y=L.getMonth()+1,oe=L.getDate();break;case"!":L=new Date((ae("!")-this._ticksTo1970)/1e4),V=L.getFullYear(),Y=L.getMonth()+1,oe=L.getDate();break;case"'":J("'")?Oe():G=!0;break;default:Oe()}if(p.length>D&&(j=p.substr(D),!/^\s+/.test(j)))throw"Extra/unparsed characters found in date: "+j;if(V===-1?V=new Date().getFullYear():100>V&&(V+=new Date().getFullYear()-new Date().getFullYear()%100+(X>=V?0:-100)),q>-1)for(Y=1,oe=q;x=this._getDaysInMonth(V,Y-1),!(x>=oe);)Y++,oe-=x;if(L=this._daylightSavingAdjust(new Date(V,Y-1,oe)),L.getFullYear()!==V||L.getMonth()+1!==Y||L.getDate()!==oe)throw"Invalid date";return L},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(u,p,g){if(!p)return"";var k,x=(g?g.dayNamesShort:null)||this._defaults.dayNamesShort,j=(g?g.dayNames:null)||this._defaults.dayNames,L=(g?g.monthNamesShort:null)||this._defaults.monthNamesShort,D=(g?g.monthNames:null)||this._defaults.monthNames,F=function(V){var Y=u.length>k+1&&u.charAt(k+1)===V;return Y&&k++,Y},X=function(V,Y,oe){var q=""+Y;if(F(V))for(;oe>q.length;)q="0"+q;return q},Q=function(V,Y,oe,q){return F(V)?q[Y]:oe[Y]},H="",ce=!1;if(p)for(k=0;u.length>k;k++)if(ce)u.charAt(k)!=="'"||F("'")?H+=u.charAt(k):ce=!1;else switch(u.charAt(k)){case"d":H+=X("d",p.getDate(),2);break;case"D":H+=Q("D",p.getDay(),x,j);break;case"o":H+=X("o",Math.round((new Date(p.getFullYear(),p.getMonth(),p.getDate()).getTime()-new Date(p.getFullYear(),0,0).getTime())/864e5),3);break;case"m":H+=X("m",p.getMonth()+1,2);break;case"M":H+=Q("M",p.getMonth(),L,D);break;case"y":H+=F("y")?p.getFullYear():(10>p.getYear()%100?"0":"")+p.getYear()%100;break;case"@":H+=p.getTime();break;case"!":H+=1e4*p.getTime()+this._ticksTo1970;break;case"'":F("'")?H+="'":ce=!0;break;default:H+=u.charAt(k)}return H},_possibleChars:function(u){var p,g="",k=!1,x=function(L){var D=u.length>p+1&&u.charAt(p+1)===L;return D&&p++,D};for(p=0;u.length>p;p++)if(k)u.charAt(p)!=="'"||x("'")?g+=u.charAt(p):k=!1;else switch(u.charAt(p)){case"d":case"m":case"y":case"@":g+="0123456789";break;case"D":case"M":return null;case"'":x("'")?g+="'":k=!0;break;default:g+=u.charAt(p)}return g},_get:function(u,p){return u.settings[p]!==void 0?u.settings[p]:this._defaults[p]},_setDateFromField:function(u,p){if(u.input.val()!==u.lastVal){var g=this._get(u,"dateFormat"),k=u.lastVal=u.input?u.input.val():null,x=this._getDefaultDate(u),j=x,L=this._getFormatConfig(u);try{j=this.parseDate(g,k,L)||x}catch(D){k=p?"":k}u.selectedDay=j.getDate(),u.drawMonth=u.selectedMonth=j.getMonth(),u.drawYear=u.selectedYear=j.getFullYear(),u.currentDay=k?j.getDate():0,u.currentMonth=k?j.getMonth():0,u.currentYear=k?j.getFullYear():0,this._adjustInstDate(u)}},_getDefaultDate:function(u){return this._restrictMinMax(u,this._determineDate(u,this._get(u,"defaultDate"),new Date))},_determineDate:function(u,p,g){var k=function(D){var F=new Date;return F.setDate(F.getDate()+D),F},x=function(D){try{return t.datepicker.parseDate(t.datepicker._get(u,"dateFormat"),D,t.datepicker._getFormatConfig(u))}catch(V){}for(var F=(D.toLowerCase().match(/^c/)?t.datepicker._getDate(u):null)||new Date,X=F.getFullYear(),Q=F.getMonth(),H=F.getDate(),ce=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,ne=ce.exec(D);ne;){switch(ne[2]||"d"){case"d":case"D":H+=parseInt(ne[1],10);break;case"w":case"W":H+=7*parseInt(ne[1],10);break;case"m":case"M":Q+=parseInt(ne[1],10),H=Math.min(H,t.datepicker._getDaysInMonth(X,Q));break;case"y":case"Y":X+=parseInt(ne[1],10),H=Math.min(H,t.datepicker._getDaysInMonth(X,Q))}ne=ce.exec(D)}return new Date(X,Q,H)},j=p==null||p===""?g:typeof p=="string"?x(p):typeof p=="number"?isNaN(p)?g:k(p):new Date(p.getTime());return j=j&&""+j=="Invalid Date"?g:j,j&&(j.setHours(0),j.setMinutes(0),j.setSeconds(0),j.setMilliseconds(0)),this._daylightSavingAdjust(j)},_daylightSavingAdjust:function(u){return u?(u.setHours(u.getHours()>12?u.getHours()+2:0),u):null},_setDate:function(u,p,g){var k=!p,x=u.selectedMonth,j=u.selectedYear,L=this._restrictMinMax(u,this._determineDate(u,p,new Date));u.selectedDay=u.currentDay=L.getDate(),u.drawMonth=u.selectedMonth=u.currentMonth=L.getMonth(),u.drawYear=u.selectedYear=u.currentYear=L.getFullYear(),x===u.selectedMonth&&j===u.selectedYear||g||this._notifyChange(u),this._adjustInstDate(u),u.input&&u.input.val(k?"":this._formatDate(u))},_getDate:function(u){var p=!u.currentYear||u.input&&u.input.val()===""?null:this._daylightSavingAdjust(new Date(u.currentYear,u.currentMonth,u.currentDay));return p},_attachHandlers:function(u){var p=this._get(u,"stepMonths"),g="#"+u.id.replace(/\\\\/g,"\\");u.dpDiv.find("[data-handler]").map(function(){var k={prev:function(){t.datepicker._adjustDate(g,-p,"M")},next:function(){t.datepicker._adjustDate(g,+p,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(g)},selectDay:function(){return t.datepicker._selectDay(g,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(g,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(g,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),k[this.getAttribute("data-handler")])})},_generateHTML:function(u){var p,g,k,x,j,L,D,F,X,Q,H,ce,ne,V,Y,oe,q,G,J,ae,ie,Oe,De,ke,tt,Ve,Qe,ht,bt,vt,Le,_e,Ne,Ze,Ke,Pe,at,pt,lt,ct=new Date,Ge=this._daylightSavingAdjust(new Date(ct.getFullYear(),ct.getMonth(),ct.getDate())),ze=this._get(u,"isRTL"),He=this._get(u,"showButtonPanel"),rt=this._get(u,"hideIfNoPrevNext"),it=this._get(u,"navigationAsDateFormat"),wt=this._getNumberOfMonths(u),_t=this._get(u,"showCurrentAtPos"),xt=this._get(u,"stepMonths"),ut=wt[0]!==1||wt[1]!==1,we=this._daylightSavingAdjust(u.currentDay?new Date(u.currentYear,u.currentMonth,u.currentDay):new Date(9999,9,9)),N=this._getMinMaxDate(u,"min"),qe=this._getMinMaxDate(u,"max"),Ie=u.drawMonth-_t,nt=u.drawYear;if(0>Ie&&(Ie+=12,nt--),qe)for(p=this._daylightSavingAdjust(new Date(qe.getFullYear(),qe.getMonth()-wt[0]*wt[1]+1,qe.getDate())),p=N&&N>p?N:p;this._daylightSavingAdjust(new Date(nt,Ie,1))>p;)Ie--,0>Ie&&(Ie=11,nt--);for(u.drawMonth=Ie,u.drawYear=nt,g=this._get(u,"prevText"),g=it?this.formatDate(g,this._daylightSavingAdjust(new Date(nt,Ie-xt,1)),this._getFormatConfig(u)):g,k=this._canAdjustMonth(u,-1,nt,Ie)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+g+"'><span class='ui-icon ui-icon-circle-triangle-"+(ze?"e":"w")+"'>"+g+"</span></a>":rt?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+g+"'><span class='ui-icon ui-icon-circle-triangle-"+(ze?"e":"w")+"'>"+g+"</span></a>",x=this._get(u,"nextText"),x=it?this.formatDate(x,this._daylightSavingAdjust(new Date(nt,Ie+xt,1)),this._getFormatConfig(u)):x,j=this._canAdjustMonth(u,1,nt,Ie)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+x+"'><span class='ui-icon ui-icon-circle-triangle-"+(ze?"w":"e")+"'>"+x+"</span></a>":rt?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+x+"'><span class='ui-icon ui-icon-circle-triangle-"+(ze?"w":"e")+"'>"+x+"</span></a>",L=this._get(u,"currentText"),D=this._get(u,"gotoCurrent")&&u.currentDay?we:Ge,L=it?this.formatDate(L,D,this._getFormatConfig(u)):L,F=u.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(u,"closeText")+"</button>",X=He?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ze?F:"")+(this._isInRange(u,D)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+L+"</button>":"")+(ze?"":F)+"</div>":"",Q=parseInt(this._get(u,"firstDay"),10),Q=isNaN(Q)?0:Q,H=this._get(u,"showWeek"),ce=this._get(u,"dayNames"),ne=this._get(u,"dayNamesMin"),V=this._get(u,"monthNames"),Y=this._get(u,"monthNamesShort"),oe=this._get(u,"beforeShowDay"),q=this._get(u,"showOtherMonths"),G=this._get(u,"selectOtherMonths"),J=this._getDefaultDate(u),ae="",Oe=0;wt[0]>Oe;Oe++){for(De="",this.maxRows=4,ke=0;wt[1]>ke;ke++){if(tt=this._daylightSavingAdjust(new Date(nt,Ie,u.selectedDay)),Ve=" ui-corner-all",Qe="",ut){if(Qe+="<div class='ui-datepicker-group",wt[1]>1)switch(ke){case 0:Qe+=" ui-datepicker-group-first",Ve=" ui-corner-"+(ze?"right":"left");break;case wt[1]-1:Qe+=" ui-datepicker-group-last",Ve=" ui-corner-"+(ze?"left":"right");break;default:Qe+=" ui-datepicker-group-middle",Ve=""}Qe+="'>"}for(Qe+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+Ve+"'>"+(/all|left/.test(Ve)&&Oe===0?ze?j:k:"")+(/all|right/.test(Ve)&&Oe===0?ze?k:j:"")+this._generateMonthYearHeader(u,Ie,nt,N,qe,Oe>0||ke>0,V,Y)+"</div><table class='ui-datepicker-calendar'><thead><tr>",ht=H?"<th class='ui-datepicker-week-col'>"+this._get(u,"weekHeader")+"</th>":"",ie=0;7>ie;ie++)bt=(ie+Q)%7,ht+="<th scope='col'"+((ie+Q+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ce[bt]+"'>"+ne[bt]+"</span></th>";for(Qe+=ht+"</tr></thead><tbody>",vt=this._getDaysInMonth(nt,Ie),nt===u.selectedYear&&Ie===u.selectedMonth&&(u.selectedDay=Math.min(u.selectedDay,vt)),Le=(this._getFirstDayOfMonth(nt,Ie)-Q+7)%7,_e=Math.ceil((Le+vt)/7),Ne=ut&&this.maxRows>_e?this.maxRows:_e,this.maxRows=Ne,Ze=this._daylightSavingAdjust(new Date(nt,Ie,1-Le)),Ke=0;Ne>Ke;Ke++){for(Qe+="<tr>",Pe=H?"<td class='ui-datepicker-week-col'>"+this._get(u,"calculateWeek")(Ze)+"</td>":"",ie=0;7>ie;ie++)at=oe?oe.apply(u.input?u.input[0]:null,[Ze]):[!0,""],pt=Ze.getMonth()!==Ie,lt=pt&&!G||!at[0]||N&&N>Ze||qe&&Ze>qe,Pe+="<td class='"+((ie+Q+6)%7>=5?" ui-datepicker-week-end":"")+(pt?" ui-datepicker-other-month":"")+(Ze.getTime()===tt.getTime()&&Ie===u.selectedMonth&&u._keyEvent||J.getTime()===Ze.getTime()&&J.getTime()===tt.getTime()?" "+this._dayOverClass:"")+(lt?" "+this._unselectableClass+" ui-state-disabled":"")+(pt&&!q?"":" "+at[1]+(Ze.getTime()===we.getTime()?" "+this._currentClass:"")+(Ze.getTime()===Ge.getTime()?" ui-datepicker-today":""))+"'"+(pt&&!q||!at[2]?"":" title='"+at[2].replace(/'/g,"&#39;")+"'")+(lt?"":" data-handler='selectDay' data-event='click' data-month='"+Ze.getMonth()+"' data-year='"+Ze.getFullYear()+"'")+">"+(pt&&!q?"&#xa0;":lt?"<span class='ui-state-default'>"+Ze.getDate()+"</span>":"<a class='ui-state-default"+(Ze.getTime()===Ge.getTime()?" ui-state-highlight":"")+(Ze.getTime()===we.getTime()?" ui-state-active":"")+(pt?" ui-priority-secondary":"")+"' href='#'>"+Ze.getDate()+"</a>")+"</td>",Ze.setDate(Ze.getDate()+1),Ze=this._daylightSavingAdjust(Ze);Qe+=Pe+"</tr>"}Ie++,Ie>11&&(Ie=0,nt++),Qe+="</tbody></table>"+(ut?"</div>"+(wt[0]>0&&ke===wt[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),De+=Qe}ae+=De}return ae+=X,u._keyEvent=!1,ae},_generateMonthYearHeader:function(u,p,g,k,x,j,L,D){var F,X,Q,H,ce,ne,V,Y,oe=this._get(u,"changeMonth"),q=this._get(u,"changeYear"),G=this._get(u,"showMonthAfterYear"),J="<div class='ui-datepicker-title'>",ae="";if(j||!oe)ae+="<span class='ui-datepicker-month'>"+L[p]+"</span>";else{for(F=k&&k.getFullYear()===g,X=x&&x.getFullYear()===g,ae+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",Q=0;12>Q;Q++)(!F||Q>=k.getMonth())&&(!X||x.getMonth()>=Q)&&(ae+="<option value='"+Q+"'"+(Q===p?" selected='selected'":"")+">"+D[Q]+"</option>");ae+="</select>"}if(G||(J+=ae+(!j&&oe&&q?"":"&#xa0;")),!u.yearshtml)if(u.yearshtml="",j||!q)J+="<span class='ui-datepicker-year'>"+g+"</span>";else{for(H=this._get(u,"yearRange").split(":"),ce=new Date().getFullYear(),ne=function(Oe){var De=Oe.match(/c[+\-].*/)?g+parseInt(Oe.substring(1),10):Oe.match(/[+\-].*/)?ce+parseInt(Oe,10):parseInt(Oe,10);return isNaN(De)?ce:De},V=ne(H[0]),Y=Math.max(V,ne(H[1]||"")),V=k?Math.max(V,k.getFullYear()):V,Y=x?Math.min(Y,x.getFullYear()):Y,u.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";Y>=V;V++)u.yearshtml+="<option value='"+V+"'"+(V===g?" selected='selected'":"")+">"+V+"</option>";u.yearshtml+="</select>",J+=u.yearshtml,u.yearshtml=null}return J+=this._get(u,"yearSuffix"),G&&(J+=(!j&&oe&&q?"":"&#xa0;")+ae),J+="</div>"},_adjustInstDate:function(u,p,g){var k=u.drawYear+(g==="Y"?p:0),x=u.drawMonth+(g==="M"?p:0),j=Math.min(u.selectedDay,this._getDaysInMonth(k,x))+(g==="D"?p:0),L=this._restrictMinMax(u,this._daylightSavingAdjust(new Date(k,x,j)));u.selectedDay=L.getDate(),u.drawMonth=u.selectedMonth=L.getMonth(),u.drawYear=u.selectedYear=L.getFullYear(),(g==="M"||g==="Y")&&this._notifyChange(u)},_restrictMinMax:function(u,p){var g=this._getMinMaxDate(u,"min"),k=this._getMinMaxDate(u,"max"),x=g&&g>p?g:p;return k&&x>k?k:x},_notifyChange:function(u){var p=this._get(u,"onChangeMonthYear");p&&p.apply(u.input?u.input[0]:null,[u.selectedYear,u.selectedMonth+1,u])},_getNumberOfMonths:function(u){var p=this._get(u,"numberOfMonths");return p==null?[1,1]:typeof p=="number"?[1,p]:p},_getMinMaxDate:function(u,p){return this._determineDate(u,this._get(u,p+"Date"),null)},_getDaysInMonth:function(u,p){return 32-this._daylightSavingAdjust(new Date(u,p,32)).getDate()},_getFirstDayOfMonth:function(u,p){return new Date(u,p,1).getDay()},_canAdjustMonth:function(u,p,g,k){var x=this._getNumberOfMonths(u),j=this._daylightSavingAdjust(new Date(g,k+(0>p?p:x[0]*x[1]),1));return 0>p&&j.setDate(this._getDaysInMonth(j.getFullYear(),j.getMonth())),this._isInRange(u,j)},_isInRange:function(u,p){var g,k,x=this._getMinMaxDate(u,"min"),j=this._getMinMaxDate(u,"max"),L=null,D=null,F=this._get(u,"yearRange");return F&&(g=F.split(":"),k=new Date().getFullYear(),L=parseInt(g[0],10),D=parseInt(g[1],10),g[0].match(/[+\-].*/)&&(L+=k),g[1].match(/[+\-].*/)&&(D+=k)),(!x||p.getTime()>=x.getTime())&&(!j||p.getTime()<=j.getTime())&&(!L||p.getFullYear()>=L)&&(!D||D>=p.getFullYear())},_getFormatConfig:function(u){var p=this._get(u,"shortYearCutoff");return p=typeof p!="string"?p:new Date().getFullYear()%100+parseInt(p,10),{shortYearCutoff:p,dayNamesShort:this._get(u,"dayNamesShort"),dayNames:this._get(u,"dayNames"),monthNamesShort:this._get(u,"monthNamesShort"),monthNames:this._get(u,"monthNames")}},_formatDate:function(u,p,g,k){p||(u.currentDay=u.selectedDay,u.currentMonth=u.selectedMonth,u.currentYear=u.selectedYear);var x=p?typeof p=="object"?p:this._daylightSavingAdjust(new Date(k,g,p)):this._daylightSavingAdjust(new Date(u.currentYear,u.currentMonth,u.currentDay));return this.formatDate(this._get(u,"dateFormat"),x,this._getFormatConfig(u))}}),t.fn.datepicker=function(y){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),t("#"+t.datepicker._mainDivId).length===0&&t("body").append(t.datepicker.dpDiv);var u=Array.prototype.slice.call(arguments,1);return typeof y!="string"||y!=="isDisabled"&&y!=="getDate"&&y!=="widget"?y==="option"&&arguments.length===2&&typeof arguments[1]=="string"?t.datepicker["_"+y+"Datepicker"].apply(t.datepicker,[this[0]].concat(u)):this.each(function(){typeof y=="string"?t.datepicker["_"+y+"Datepicker"].apply(t.datepicker,[this].concat(u)):t.datepicker._attachDatepicker(this,y)}):t.datepicker["_"+y+"Datepicker"].apply(t.datepicker,[this[0]].concat(u))},t.datepicker=new l,t.datepicker.initialized=!1,t.datepicker.uuid=new Date().getTime(),t.datepicker.version="1.11.1",t.datepicker,t.widget("ui.draggable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper!=="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(u,p){this._super(u,p),u==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(u){var p=this.document[0],g=this.options;try{p.activeElement&&p.activeElement.nodeName.toLowerCase()!=="body"&&t(p.activeElement).blur()}catch(k){}return this.helper||g.disabled||t(u.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(u),this.handle?(t(g.iframeFix===!0?"iframe":g.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(u){var p=this.options;return this.helper=this._createHelper(u),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:u.pageX-this.offset.left,top:u.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(u,!1),this.originalPageX=u.pageX,this.originalPageY=u.pageY,p.cursorAt&&this._adjustOffsetFromHelper(p.cursorAt),this._setContainment(),this._trigger("start",u)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!p.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,u),this._mouseDrag(u,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,u),!0)},_mouseDrag:function(u,p){if(this.offsetParentCssPosition==="fixed"&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(u,!0),this.positionAbs=this._convertPositionTo("absolute"),!p){var g=this._uiHash();if(this._trigger("drag",u,g)===!1)return this._mouseUp({}),!1;this.position=g.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,u),!1},_mouseStop:function(u){var p=this,g=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(g=t.ui.ddmanager.drop(this,u)),this.dropped&&(g=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!g||this.options.revert==="valid"&&g||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,g)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){p._trigger("stop",u)!==!1&&p._clear()}):this._trigger("stop",u)!==!1&&this._clear(),!1},_mouseUp:function(u){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,u),this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,u)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(u){return this.options.handle?!!t(u.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(u){var p=this.options,g=t.isFunction(p.helper)?t(p.helper.apply(this.element[0],[u])):p.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return g.parents("body").length||g.appendTo(p.appendTo==="parent"?this.element[0].parentNode:p.appendTo),g[0]===this.element[0]||/(fixed|absolute)/.test(g.css("position"))||g.css("position","absolute"),g},_adjustOffsetFromHelper:function(u){typeof u=="string"&&(u=u.split(" ")),t.isArray(u)&&(u={left:+u[0],top:+u[1]||0}),"left"in u&&(this.offset.click.left=u.left+this.margins.left),"right"in u&&(this.offset.click.left=this.helperProportions.width-u.right+this.margins.left),"top"in u&&(this.offset.click.top=u.top+this.margins.top),"bottom"in u&&(this.offset.click.top=this.helperProportions.height-u.bottom+this.margins.top)},_isRootNode:function(u){return/(html|body)/i.test(u.tagName)||u===this.document[0]},_getParentOffset:function(){var u=this.offsetParent.offset(),p=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==p&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(u.left+=this.scrollParent.scrollLeft(),u.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(u={top:0,left:0}),{top:u.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:u.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var u=this.element.position(),p=this._isRootNode(this.scrollParent[0]);return{top:u.top-(parseInt(this.helper.css("top"),10)||0)+(p?0:this.scrollParent.scrollTop()),left:u.left-(parseInt(this.helper.css("left"),10)||0)+(p?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var u,p,g,k=this.options,x=this.document[0];return this.relativeContainer=null,k.containment?k.containment==="window"?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||x.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):k.containment==="document"?(this.containment=[0,0,t(x).width()-this.helperProportions.width-this.margins.left,(t(x).height()||x.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):k.containment.constructor===Array?(this.containment=k.containment,void 0):(k.containment==="parent"&&(k.containment=this.helper[0].parentNode),p=t(k.containment),g=p[0],g&&(u=p.css("overflow")!=="hidden",this.containment=[(parseInt(p.css("borderLeftWidth"),10)||0)+(parseInt(p.css("paddingLeft"),10)||0),(parseInt(p.css("borderTopWidth"),10)||0)+(parseInt(p.css("paddingTop"),10)||0),(u?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(p.css("borderRightWidth"),10)||0)-(parseInt(p.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(u?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(p.css("borderBottomWidth"),10)||0)-(parseInt(p.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=p),void 0):(this.containment=null,void 0)},_convertPositionTo:function(u,p){p||(p=this.position);var g=u==="absolute"?1:-1,k=this._isRootNode(this.scrollParent[0]);return{top:p.top+this.offset.relative.top*g+this.offset.parent.top*g-(this.cssPosition==="fixed"?-this.offset.scroll.top:k?0:this.offset.scroll.top)*g,left:p.left+this.offset.relative.left*g+this.offset.parent.left*g-(this.cssPosition==="fixed"?-this.offset.scroll.left:k?0:this.offset.scroll.left)*g}},_generatePosition:function(u,p){var g,k,x,j,L=this.options,D=this._isRootNode(this.scrollParent[0]),F=u.pageX,X=u.pageY;return D&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),p&&(this.containment&&(this.relativeContainer?(k=this.relativeContainer.offset(),g=[this.containment[0]+k.left,this.containment[1]+k.top,this.containment[2]+k.left,this.containment[3]+k.top]):g=this.containment,u.pageX-this.offset.click.left<g[0]&&(F=g[0]+this.offset.click.left),u.pageY-this.offset.click.top<g[1]&&(X=g[1]+this.offset.click.top),u.pageX-this.offset.click.left>g[2]&&(F=g[2]+this.offset.click.left),u.pageY-this.offset.click.top>g[3]&&(X=g[3]+this.offset.click.top)),L.grid&&(x=L.grid[1]?this.originalPageY+Math.round((X-this.originalPageY)/L.grid[1])*L.grid[1]:this.originalPageY,X=g?x-this.offset.click.top>=g[1]||x-this.offset.click.top>g[3]?x:x-this.offset.click.top>=g[1]?x-L.grid[1]:x+L.grid[1]:x,j=L.grid[0]?this.originalPageX+Math.round((F-this.originalPageX)/L.grid[0])*L.grid[0]:this.originalPageX,F=g?j-this.offset.click.left>=g[0]||j-this.offset.click.left>g[2]?j:j-this.offset.click.left>=g[0]?j-L.grid[0]:j+L.grid[0]:j),L.axis==="y"&&(F=this.originalPageX),L.axis==="x"&&(X=this.originalPageY)),{top:X-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:D?0:this.offset.scroll.top),left:F-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:D?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(u,p,g){return g=g||this._uiHash(),t.ui.plugin.call(this,u,[p,g,this],!0),u==="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,u,p,g)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(u,p,g){var k=g.options,x=t.extend({},p,{item:g.element});g.sortables=[],t(k.connectToSortable).each(function(){var j=t(this).sortable("instance");j&&!j.options.disabled&&(g.sortables.push({instance:j,shouldRevert:j.options.revert}),j.refreshPositions(),j._trigger("activate",u,x))})},stop:function(u,p,g){var k=t.extend({},p,{item:g.element});t.each(g.sortables,function(){this.instance.isOver?(this.instance.isOver=0,g.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(u),this.instance.options.helper=this.instance.options._helper,g.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",u,k))})},drag:function(u,p,g){var k=this;t.each(g.sortables,function(){var x=!1,j=this;this.instance.positionAbs=g.positionAbs,this.instance.helperProportions=g.helperProportions,this.instance.offset.click=g.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(x=!0,t.each(g.sortables,function(){return this.instance.positionAbs=g.positionAbs,this.instance.helperProportions=g.helperProportions,this.instance.offset.click=g.offset.click,this!==j&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(j.instance.element[0],this.instance.element[0])&&(x=!1),x})),x?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(k).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return p.helper[0]},u.target=this.instance.currentItem[0],this.instance._mouseCapture(u,!0),this.instance._mouseStart(u,!0,!0),this.instance.offset.click.top=g.offset.click.top,this.instance.offset.click.left=g.offset.click.left,this.instance.offset.parent.left-=g.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=g.offset.parent.top-this.instance.offset.parent.top,g._trigger("toSortable",u),g.dropped=this.instance.element,g.currentItem=g.element,this.instance.fromOutside=g),this.instance.currentItem&&this.instance._mouseDrag(u)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",u,this.instance._uiHash(this.instance)),this.instance._mouseStop(u,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),g._trigger("fromSortable",u),g.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(u,p,g){var k=t("body"),x=g.options;k.css("cursor")&&(x._cursor=k.css("cursor")),k.css("cursor",x.cursor)},stop:function(u,p,g){var k=g.options;k._cursor&&t("body").css("cursor",k._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(u,p,g){var k=t(p.helper),x=g.options;k.css("opacity")&&(x._opacity=k.css("opacity")),k.css("opacity",x.opacity)},stop:function(u,p,g){var k=g.options;k._opacity&&t(p.helper).css("opacity",k._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(u,p,g){g.scrollParentNotHidden||(g.scrollParentNotHidden=g.helper.scrollParent(!1)),g.scrollParentNotHidden[0]!==g.document[0]&&g.scrollParentNotHidden[0].tagName!=="HTML"&&(g.overflowOffset=g.scrollParentNotHidden.offset())},drag:function(u,p,g){var k=g.options,x=!1,j=g.scrollParentNotHidden[0],L=g.document[0];j!==L&&j.tagName!=="HTML"?(k.axis&&k.axis==="x"||(g.overflowOffset.top+j.offsetHeight-u.pageY<k.scrollSensitivity?j.scrollTop=x=j.scrollTop+k.scrollSpeed:u.pageY-g.overflowOffset.top<k.scrollSensitivity&&(j.scrollTop=x=j.scrollTop-k.scrollSpeed)),k.axis&&k.axis==="y"||(g.overflowOffset.left+j.offsetWidth-u.pageX<k.scrollSensitivity?j.scrollLeft=x=j.scrollLeft+k.scrollSpeed:u.pageX-g.overflowOffset.left<k.scrollSensitivity&&(j.scrollLeft=x=j.scrollLeft-k.scrollSpeed))):(k.axis&&k.axis==="x"||(u.pageY-t(L).scrollTop()<k.scrollSensitivity?x=t(L).scrollTop(t(L).scrollTop()-k.scrollSpeed):t(window).height()-(u.pageY-t(L).scrollTop())<k.scrollSensitivity&&(x=t(L).scrollTop(t(L).scrollTop()+k.scrollSpeed))),k.axis&&k.axis==="y"||(u.pageX-t(L).scrollLeft()<k.scrollSensitivity?x=t(L).scrollLeft(t(L).scrollLeft()-k.scrollSpeed):t(window).width()-(u.pageX-t(L).scrollLeft())<k.scrollSensitivity&&(x=t(L).scrollLeft(t(L).scrollLeft()+k.scrollSpeed)))),x!==!1&&t.ui.ddmanager&&!k.dropBehaviour&&t.ui.ddmanager.prepareOffsets(g,u)}}),t.ui.plugin.add("draggable","snap",{start:function(u,p,g){var k=g.options;g.snapElements=[],t(k.snap.constructor!==String?k.snap.items||":data(ui-draggable)":k.snap).each(function(){var x=t(this),j=x.offset();this!==g.element[0]&&g.snapElements.push({item:this,width:x.outerWidth(),height:x.outerHeight(),top:j.top,left:j.left})})},drag:function(u,p,g){var k,x,j,L,D,F,X,Q,H,ce,ne=g.options,V=ne.snapTolerance,Y=p.offset.left,oe=Y+g.helperProportions.width,q=p.offset.top,G=q+g.helperProportions.height;for(H=g.snapElements.length-1;H>=0;H--)D=g.snapElements[H].left,F=D+g.snapElements[H].width,X=g.snapElements[H].top,Q=X+g.snapElements[H].height,D-V>oe||Y>F+V||X-V>G||q>Q+V||!t.contains(g.snapElements[H].item.ownerDocument,g.snapElements[H].item)?(g.snapElements[H].snapping&&g.options.snap.release&&g.options.snap.release.call(g.element,u,t.extend(g._uiHash(),{snapItem:g.snapElements[H].item})),g.snapElements[H].snapping=!1):(ne.snapMode!=="inner"&&(k=V>=Math.abs(X-G),x=V>=Math.abs(Q-q),j=V>=Math.abs(D-oe),L=V>=Math.abs(F-Y),k&&(p.position.top=g._convertPositionTo("relative",{top:X-g.helperProportions.height,left:0}).top-g.margins.top),x&&(p.position.top=g._convertPositionTo("relative",{top:Q,left:0}).top-g.margins.top),j&&(p.position.left=g._convertPositionTo("relative",{top:0,left:D-g.helperProportions.width}).left-g.margins.left),L&&(p.position.left=g._convertPositionTo("relative",{top:0,left:F}).left-g.margins.left)),ce=k||x||j||L,ne.snapMode!=="outer"&&(k=V>=Math.abs(X-q),x=V>=Math.abs(Q-G),j=V>=Math.abs(D-Y),L=V>=Math.abs(F-oe),k&&(p.position.top=g._convertPositionTo("relative",{top:X,left:0}).top-g.margins.top),x&&(p.position.top=g._convertPositionTo("relative",{top:Q-g.helperProportions.height,left:0}).top-g.margins.top),j&&(p.position.left=g._convertPositionTo("relative",{top:0,left:D}).left-g.margins.left),L&&(p.position.left=g._convertPositionTo("relative",{top:0,left:F-g.helperProportions.width}).left-g.margins.left)),!g.snapElements[H].snapping&&(k||x||j||L||ce)&&g.options.snap.snap&&g.options.snap.snap.call(g.element,u,t.extend(g._uiHash(),{snapItem:g.snapElements[H].item})),g.snapElements[H].snapping=k||x||j||L||ce)}}),t.ui.plugin.add("draggable","stack",{start:function(u,p,g){var k,x=g.options,j=t.makeArray(t(x.stack)).sort(function(L,D){return(parseInt(t(L).css("zIndex"),10)||0)-(parseInt(t(D).css("zIndex"),10)||0)});j.length&&(k=parseInt(t(j[0]).css("zIndex"),10)||0,t(j).each(function(L){t(this).css("zIndex",k+L)}),this.css("zIndex",k+j.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(u,p,g){var k=t(p.helper),x=g.options;k.css("zIndex")&&(x._zIndex=k.css("zIndex")),k.css("zIndex",x.zIndex)},stop:function(u,p,g){var k=g.options;k._zIndex&&t(p.helper).css("zIndex",k._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(u){return parseInt(u,10)||0},_isNumber:function(u){return!isNaN(parseInt(u,10))},_hasScroll:function(u,p){if(t(u).css("overflow")==="hidden")return!1;var g=p&&p==="left"?"scrollLeft":"scrollTop",k=!1;return u[g]>0?!0:(u[g]=1,k=u[g]>0,u[g]=0,k)},_create:function(){var u,p,g,k,x,j=this,L=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!L.aspectRatio,aspectRatio:L.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:L.helper||L.ghost||L.animate?L.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=L.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),u=this.handles.split(","),this.handles={},p=0;u.length>p;p++)g=t.trim(u[p]),x="ui-resizable-"+g,k=t("<div class='ui-resizable-handle "+x+"'></div>"),k.css({zIndex:L.zIndex}),g==="se"&&k.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[g]=".ui-resizable-"+g,this.element.append(k);this._renderAxis=function(D){var F,X,Q,H;D=D||this.element;for(F in this.handles)this.handles[F].constructor===String&&(this.handles[F]=this.element.children(this.handles[F]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(X=t(this.handles[F],this.element),H=/sw|ne|nw|se|n|s/.test(F)?X.outerHeight():X.outerWidth(),Q=["padding",/ne|nw|n/.test(F)?"Top":/se|sw|s/.test(F)?"Bottom":/^e$/.test(F)?"Right":"Left"].join(""),D.css(Q,H),this._proportionallyResize()),t(this.handles[F]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){j.resizing||(this.className&&(k=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),j.axis=k&&k[1]?k[1]:"se")}),L.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){L.disabled||(t(this).removeClass("ui-resizable-autohide"),j._handles.show())}).mouseleave(function(){L.disabled||j.resizing||(t(this).addClass("ui-resizable-autohide"),j._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var u,p=function(k){t(k).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(p(this.element),u=this.element,this.originalElement.css({position:u.css("position"),width:u.outerWidth(),height:u.outerHeight(),top:u.css("top"),left:u.css("left")}).insertAfter(u),u.remove()),this.originalElement.css("resize",this.originalResizeStyle),p(this.originalElement),this},_mouseCapture:function(u){var p,g,k=!1;for(p in this.handles)g=t(this.handles[p])[0],(g===u.target||t.contains(g,u.target))&&(k=!0);return!this.options.disabled&&k},_mouseStart:function(u){var p,g,k,x=this.options,j=this.element;return this.resizing=!0,this._renderProxy(),p=this._num(this.helper.css("left")),g=this._num(this.helper.css("top")),x.containment&&(p+=t(x.containment).scrollLeft()||0,g+=t(x.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:p,top:g},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:j.width(),height:j.height()},this.originalSize=this._helper?{width:j.outerWidth(),height:j.outerHeight()}:{width:j.width(),height:j.height()},this.sizeDiff={width:j.outerWidth()-j.width(),height:j.outerHeight()-j.height()},this.originalPosition={left:p,top:g},this.originalMousePosition={left:u.pageX,top:u.pageY},this.aspectRatio=typeof x.aspectRatio=="number"?x.aspectRatio:this.originalSize.width/this.originalSize.height||1,k=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor",k==="auto"?this.axis+"-resize":k),j.addClass("ui-resizable-resizing"),this._propagate("start",u),!0},_mouseDrag:function(u){var p,g,k=this.originalMousePosition,x=this.axis,j=u.pageX-k.left||0,L=u.pageY-k.top||0,D=this._change[x];return this._updatePrevProperties(),D&&(p=D.apply(this,[u,j,L]),this._updateVirtualBoundaries(u.shiftKey),(this._aspectRatio||u.shiftKey)&&(p=this._updateRatio(p,u)),p=this._respectSize(p,u),this._updateCache(p),this._propagate("resize",u),g=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(g)||(this._updatePrevProperties(),this._trigger("resize",u,this.ui()),this._applyChanges())),!1},_mouseStop:function(u){this.resizing=!1;var p,g,k,x,j,L,D,F=this.options,X=this;return this._helper&&(p=this._proportionallyResizeElements,g=p.length&&/textarea/i.test(p[0].nodeName),k=g&&this._hasScroll(p[0],"left")?0:X.sizeDiff.height,x=g?0:X.sizeDiff.width,j={width:X.helper.width()-x,height:X.helper.height()-k},L=parseInt(X.element.css("left"),10)+(X.position.left-X.originalPosition.left)||null,D=parseInt(X.element.css("top"),10)+(X.position.top-X.originalPosition.top)||null,F.animate||this.element.css(t.extend(j,{top:D,left:L})),X.helper.height(X.size.height),X.helper.width(X.size.width),this._helper&&!F.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",u),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var u={};return this.position.top!==this.prevPosition.top&&(u.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(u.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(u.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(u.height=this.size.height+"px"),this.helper.css(u),u},_updateVirtualBoundaries:function(u){var p,g,k,x,j,L=this.options;j={minWidth:this._isNumber(L.minWidth)?L.minWidth:0,maxWidth:this._isNumber(L.maxWidth)?L.maxWidth:1/0,minHeight:this._isNumber(L.minHeight)?L.minHeight:0,maxHeight:this._isNumber(L.maxHeight)?L.maxHeight:1/0},(this._aspectRatio||u)&&(p=j.minHeight*this.aspectRatio,k=j.minWidth/this.aspectRatio,g=j.maxHeight*this.aspectRatio,x=j.maxWidth/this.aspectRatio,p>j.minWidth&&(j.minWidth=p),k>j.minHeight&&(j.minHeight=k),j.maxWidth>g&&(j.maxWidth=g),j.maxHeight>x&&(j.maxHeight=x)),this._vBoundaries=j},_updateCache:function(u){this.offset=this.helper.offset(),this._isNumber(u.left)&&(this.position.left=u.left),this._isNumber(u.top)&&(this.position.top=u.top),this._isNumber(u.height)&&(this.size.height=u.height),this._isNumber(u.width)&&(this.size.width=u.width)},_updateRatio:function(u){var p=this.position,g=this.size,k=this.axis;return this._isNumber(u.height)?u.width=u.height*this.aspectRatio:this._isNumber(u.width)&&(u.height=u.width/this.aspectRatio),k==="sw"&&(u.left=p.left+(g.width-u.width),u.top=null),k==="nw"&&(u.top=p.top+(g.height-u.height),u.left=p.left+(g.width-u.width)),u},_respectSize:function(u){var p=this._vBoundaries,g=this.axis,k=this._isNumber(u.width)&&p.maxWidth&&p.maxWidth<u.width,x=this._isNumber(u.height)&&p.maxHeight&&p.maxHeight<u.height,j=this._isNumber(u.width)&&p.minWidth&&p.minWidth>u.width,L=this._isNumber(u.height)&&p.minHeight&&p.minHeight>u.height,D=this.originalPosition.left+this.originalSize.width,F=this.position.top+this.size.height,X=/sw|nw|w/.test(g),Q=/nw|ne|n/.test(g);return j&&(u.width=p.minWidth),L&&(u.height=p.minHeight),k&&(u.width=p.maxWidth),x&&(u.height=p.maxHeight),j&&X&&(u.left=D-p.minWidth),k&&X&&(u.left=D-p.maxWidth),L&&Q&&(u.top=F-p.minHeight),x&&Q&&(u.top=F-p.maxHeight),u.width||u.height||u.left||!u.top?u.width||u.height||u.top||!u.left||(u.left=null):u.top=null,u},_getPaddingPlusBorderDimensions:function(u){for(var p=0,g=[],k=[u.css("borderTopWidth"),u.css("borderRightWidth"),u.css("borderBottomWidth"),u.css("borderLeftWidth")],x=[u.css("paddingTop"),u.css("paddingRight"),u.css("paddingBottom"),u.css("paddingLeft")];4>p;p++)g[p]=parseInt(k[p],10)||0,g[p]+=parseInt(x[p],10)||0;return{height:g[0]+g[2],width:g[1]+g[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var u,p=0,g=this.helper||this.element;this._proportionallyResizeElements.length>p;p++)u=this._proportionallyResizeElements[p],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(u)),u.css({height:g.height()-this.outerDimensions.height||0,width:g.width()-this.outerDimensions.width||0})},_renderProxy:function(){var u=this.element,p=this.options;this.elementOffset=u.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++p.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(u,p){return{width:this.originalSize.width+p}},w:function(u,p){var g=this.originalSize,k=this.originalPosition;return{left:k.left+p,width:g.width-p}},n:function(u,p,g){var k=this.originalSize,x=this.originalPosition;return{top:x.top+g,height:k.height-g}},s:function(u,p,g){return{height:this.originalSize.height+g}},se:function(u,p,g){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[u,p,g]))},sw:function(u,p,g){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[u,p,g]))},ne:function(u,p,g){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[u,p,g]))},nw:function(u,p,g){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[u,p,g]))}},_propagate:function(u,p){t.ui.plugin.call(this,u,[p,this.ui()]),u!=="resize"&&this._trigger(u,p,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(u){var p=t(this).resizable("instance"),g=p.options,k=p._proportionallyResizeElements,x=k.length&&/textarea/i.test(k[0].nodeName),j=x&&p._hasScroll(k[0],"left")?0:p.sizeDiff.height,L=x?0:p.sizeDiff.width,D={width:p.size.width-L,height:p.size.height-j},F=parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left)||null,X=parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top)||null;p.element.animate(t.extend(D,X&&F?{top:X,left:F}:{}),{duration:g.animateDuration,easing:g.animateEasing,step:function(){var H={width:parseInt(p.element.css("width"),10),height:parseInt(p.element.css("height"),10),top:parseInt(p.element.css("top"),10),left:parseInt(p.element.css("left"),10)};k&&k.length&&t(k[0]).css({width:H.width,height:H.height}),p._updateCache(H),p._propagate("resize",u)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var u,p,g,k,x,j,L,D=t(this).resizable("instance"),F=D.options,X=D.element,Q=F.containment,H=_instanceof(Q,t)?Q.get(0):/parent/.test(Q)?X.parent().get(0):Q;H&&(D.containerElement=t(H),/document/.test(Q)||Q===document?(D.containerOffset={left:0,top:0},D.containerPosition={left:0,top:0},D.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(u=t(H),p=[],t(["Top","Right","Left","Bottom"]).each(function(ce,ne){p[ce]=D._num(u.css("padding"+ne))}),D.containerOffset=u.offset(),D.containerPosition=u.position(),D.containerSize={height:u.innerHeight()-p[3],width:u.innerWidth()-p[1]},g=D.containerOffset,k=D.containerSize.height,x=D.containerSize.width,j=D._hasScroll(H,"left")?H.scrollWidth:x,L=D._hasScroll(H)?H.scrollHeight:k,D.parentData={element:H,left:g.left,top:g.top,width:j,height:L}))},resize:function(u){var p,g,k,x,j=t(this).resizable("instance"),L=j.options,D=j.containerOffset,F=j.position,X=j._aspectRatio||u.shiftKey,Q={top:0,left:0},H=j.containerElement,ce=!0;H[0]!==document&&/static/.test(H.css("position"))&&(Q=D),F.left<(j._helper?D.left:0)&&(j.size.width=j.size.width+(j._helper?j.position.left-D.left:j.position.left-Q.left),X&&(j.size.height=j.size.width/j.aspectRatio,ce=!1),j.position.left=L.helper?D.left:0),F.top<(j._helper?D.top:0)&&(j.size.height=j.size.height+(j._helper?j.position.top-D.top:j.position.top),X&&(j.size.width=j.size.height*j.aspectRatio,ce=!1),j.position.top=j._helper?D.top:0),k=j.containerElement.get(0)===j.element.parent().get(0),x=/relative|absolute/.test(j.containerElement.css("position")),k&&x?(j.offset.left=j.parentData.left+j.position.left,j.offset.top=j.parentData.top+j.position.top):(j.offset.left=j.element.offset().left,j.offset.top=j.element.offset().top),p=Math.abs(j.sizeDiff.width+(j._helper?j.offset.left-Q.left:j.offset.left-D.left)),g=Math.abs(j.sizeDiff.height+(j._helper?j.offset.top-Q.top:j.offset.top-D.top)),p+j.size.width>=j.parentData.width&&(j.size.width=j.parentData.width-p,X&&(j.size.height=j.size.width/j.aspectRatio,ce=!1)),g+j.size.height>=j.parentData.height&&(j.size.height=j.parentData.height-g,X&&(j.size.width=j.size.height*j.aspectRatio,ce=!1)),ce||(j.position.left=j.prevPosition.left,j.position.top=j.prevPosition.top,j.size.width=j.prevSize.width,j.size.height=j.prevSize.height)},stop:function(){var u=t(this).resizable("instance"),p=u.options,g=u.containerOffset,k=u.containerPosition,x=u.containerElement,j=t(u.helper),L=j.offset(),D=j.outerWidth()-u.sizeDiff.width,F=j.outerHeight()-u.sizeDiff.height;u._helper&&!p.animate&&/relative/.test(x.css("position"))&&t(this).css({left:L.left-k.left-g.left,width:D,height:F}),u._helper&&!p.animate&&/static/.test(x.css("position"))&&t(this).css({left:L.left-k.left-g.left,width:D,height:F})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var u=t(this).resizable("instance"),p=u.options,g=function(x){t(x).each(function(){var j=t(this);j.data("ui-resizable-alsoresize",{width:parseInt(j.width(),10),height:parseInt(j.height(),10),left:parseInt(j.css("left"),10),top:parseInt(j.css("top"),10)})})};typeof p.alsoResize!="object"||p.alsoResize.parentNode?g(p.alsoResize):p.alsoResize.length?(p.alsoResize=p.alsoResize[0],g(p.alsoResize)):t.each(p.alsoResize,function(k){g(k)})},resize:function(u,p){var g=t(this).resizable("instance"),k=g.options,x=g.originalSize,j=g.originalPosition,L={height:g.size.height-x.height||0,width:g.size.width-x.width||0,top:g.position.top-j.top||0,left:g.position.left-j.left||0},D=function(X,Q){t(X).each(function(){var H=t(this),ce=t(this).data("ui-resizable-alsoresize"),ne={},V=Q&&Q.length?Q:H.parents(p.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(V,function(Y,oe){var q=(ce[oe]||0)+(L[oe]||0);q&&q>=0&&(ne[oe]=q||null)}),H.css(ne)})};typeof k.alsoResize!="object"||k.alsoResize.nodeType?D(k.alsoResize):t.each(k.alsoResize,function(F,X){D(F,X)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var u=t(this).resizable("instance"),p=u.options,g=u.size;u.ghost=u.originalElement.clone(),u.ghost.css({opacity:.25,display:"block",position:"relative",height:g.height,width:g.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof p.ghost=="string"?p.ghost:""),u.ghost.appendTo(u.helper)},resize:function(){var u=t(this).resizable("instance");u.ghost&&u.ghost.css({position:"relative",height:u.size.height,width:u.size.width})},stop:function(){var u=t(this).resizable("instance");u.ghost&&u.helper&&u.helper.get(0).removeChild(u.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var u,p=t(this).resizable("instance"),g=p.options,k=p.size,x=p.originalSize,j=p.originalPosition,L=p.axis,D=typeof g.grid=="number"?[g.grid,g.grid]:g.grid,F=D[0]||1,X=D[1]||1,Q=Math.round((k.width-x.width)/F)*F,H=Math.round((k.height-x.height)/X)*X,ce=x.width+Q,ne=x.height+H,V=g.maxWidth&&ce>g.maxWidth,Y=g.maxHeight&&ne>g.maxHeight,oe=g.minWidth&&g.minWidth>ce,q=g.minHeight&&g.minHeight>ne;g.grid=D,oe&&(ce+=F),q&&(ne+=X),V&&(ce-=F),Y&&(ne-=X),/^(se|s|e)$/.test(L)?(p.size.width=ce,p.size.height=ne):/^(ne)$/.test(L)?(p.size.width=ce,p.size.height=ne,p.position.top=j.top-H):/^(sw)$/.test(L)?(p.size.width=ce,p.size.height=ne,p.position.left=j.left-Q):((0>=ne-X||0>=ce-F)&&(u=p._getPaddingPlusBorderDimensions(this)),ne-X>0?(p.size.height=ne,p.position.top=j.top-H):(ne=X-u.height,p.size.height=ne,p.position.top=j.top+x.height-ne),ce-F>0?(p.size.width=ce,p.position.left=j.left-Q):(ce=X-u.height,p.size.width=ce,p.position.left=j.left+x.width-ce))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(u){var p=t(this).css(u).offset().top;0>p&&t(this).css("top",u.top-p)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var u=this.options.appendTo;return u&&(u.jquery||u.nodeType)?t(u):this.document.find(u||"body").eq(0)},_destroy:function(){var u,p=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),u=p.parent.children().eq(p.index),u.length&&u[0]!==this.element[0]?u.before(this.element):p.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(u){var p,g=this;if(this._isOpen&&this._trigger("beforeClose",u)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{p=this.document[0].activeElement,p&&p.nodeName.toLowerCase()!=="body"&&t(p).blur()}catch(k){}this._hide(this.uiDialog,this.options.hide,function(){g._trigger("close",u)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(u,p){var g=!1,k=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),x=Math.max.apply(null,k);return x>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",x+1),g=!0),g&&!p&&this._trigger("focus",u),g},open:function(){var u=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){u._focusTabbable(),u._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var u=this._focusedElement;u||(u=this.element.find("[autofocus]")),u.length||(u=this.element.find(":tabbable")),u.length||(u=this.uiDialogButtonPane.find(":tabbable")),u.length||(u=this.uiDialogTitlebarClose.filter(":tabbable")),u.length||(u=this.uiDialog),u.eq(0).focus()},_keepFocus:function(u){var p=function(){var k=this.document[0].activeElement,x=this.uiDialog[0]===k||t.contains(this.uiDialog[0],k);x||this._focusTabbable()};u.preventDefault(),p.call(this),this._delay(p)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(p){if(this.options.closeOnEscape&&!p.isDefaultPrevented()&&p.keyCode&&p.keyCode===t.ui.keyCode.ESCAPE)return p.preventDefault(),this.close(p),void 0;if(p.keyCode===t.ui.keyCode.TAB&&!p.isDefaultPrevented()){var g=this.uiDialog.find(":tabbable"),k=g.filter(":first"),x=g.filter(":last");p.target!==x[0]&&p.target!==this.uiDialog[0]||p.shiftKey?p.target!==k[0]&&p.target!==this.uiDialog[0]||!p.shiftKey||(this._delay(function(){x.focus()}),p.preventDefault()):(this._delay(function(){k.focus()}),p.preventDefault())}},mousedown:function(p){this._moveToTop(p)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var u;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(g){t(g.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(g){g.preventDefault(),this.close(g)}}),u=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(u),this.uiDialog.attr({"aria-labelledby":u.attr("id")})},_title:function(u){this.options.title||u.html("&#160;"),u.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var u=this,p=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(p)||t.isArray(p)&&!p.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(t.each(p,function(g,k){var x,j;k=t.isFunction(k)?{click:k,text:g}:k,k=t.extend({type:"button"},k),x=k.click,k.click=function(){x.apply(u.element[0],arguments)},j={icons:k.icons,text:k.showText},delete k.icons,delete k.showText,t("<button></button>",k).button(j).appendTo(u.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){var u=function(x){return{position:x.position,offset:x.offset}},p=this,g=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(x,j){t(this).addClass("ui-dialog-dragging"),p._blockFrames(),p._trigger("dragStart",x,u(j))},drag:function(x,j){p._trigger("drag",x,u(j))},stop:function(x,j){var L=j.offset.left-p.document.scrollLeft(),D=j.offset.top-p.document.scrollTop();g.position={my:"left top",at:"left"+(L>=0?"+":"")+L+" top"+(D>=0?"+":"")+D,of:p.window},t(this).removeClass("ui-dialog-dragging"),p._unblockFrames(),p._trigger("dragStop",x,u(j))}})},_makeResizable:function(){var u=function(D){return{originalPosition:D.originalPosition,originalSize:D.originalSize,position:D.position,size:D.size}},p=this,g=this.options,k=g.resizable,x=this.uiDialog.css("position"),j=typeof k=="string"?k:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:g.maxWidth,maxHeight:g.maxHeight,minWidth:g.minWidth,minHeight:this._minHeight(),handles:j,start:function(D,F){t(this).addClass("ui-dialog-resizing"),p._blockFrames(),p._trigger("resizeStart",D,u(F))},resize:function(D,F){p._trigger("resize",D,u(F))},stop:function(D,F){var X=p.uiDialog.offset(),Q=X.left-p.document.scrollLeft(),H=X.top-p.document.scrollTop();g.height=p.uiDialog.height(),g.width=p.uiDialog.width(),g.position={my:"left top",at:"left"+(Q>=0?"+":"")+Q+" top"+(H>=0?"+":"")+H,of:p.window},t(this).removeClass("ui-dialog-resizing"),p._unblockFrames(),p._trigger("resizeStop",D,u(F))}}).css("position",x)},_trackFocus:function(){this._on(this.widget(),{focusin:function(p){this._makeFocusTarget(),this._focusedElement=t(p.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var u=this._trackingInstances(),p=t.inArray(this,u);p!==-1&&u.splice(p,1)},_trackingInstances:function(){var u=this.document.data("ui-dialog-instances");return u||(u=[],this.document.data("ui-dialog-instances",u)),u},_minHeight:function(){var u=this.options;return u.height==="auto"?u.minHeight:Math.min(u.minHeight,u.height)},_position:function(){var u=this.uiDialog.is(":visible");u||this.uiDialog.show(),this.uiDialog.position(this.options.position),u||this.uiDialog.hide()},_setOptions:function(u){var p=this,g=!1,k={};t.each(u,function(x,j){p._setOption(x,j),x in p.sizeRelatedOptions&&(g=!0),x in p.resizableRelatedOptions&&(k[x]=j)}),g&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",k)},_setOption:function(u,p){var g,k,x=this.uiDialog;u==="dialogClass"&&x.removeClass(this.options.dialogClass).addClass(p),u!=="disabled"&&(this._super(u,p),u==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),u==="buttons"&&this._createButtons(),u==="closeText"&&this.uiDialogTitlebarClose.button({label:""+p}),u==="draggable"&&(g=x.is(":data(ui-draggable)"),g&&!p&&x.draggable("destroy"),!g&&p&&this._makeDraggable()),u==="position"&&this._position(),u==="resizable"&&(k=x.is(":data(ui-resizable)"),k&&!p&&x.resizable("destroy"),k&&typeof p=="string"&&x.resizable("option","handles",p),k||p===!1||this._makeResizable()),u==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var u,p,g,k=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),k.minWidth>k.width&&(k.width=k.minWidth),u=this.uiDialog.css({height:"auto",width:k.width}).outerHeight(),p=Math.max(0,k.minHeight-u),g=typeof k.maxHeight=="number"?Math.max(0,k.maxHeight-u):"none",k.height==="auto"?this.element.css({minHeight:p,maxHeight:g,height:"auto"}):this.element.height(Math.max(0,k.height-u)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var u=t(this);return t("<div>").css({position:"absolute",width:u.outerWidth(),height:u.outerHeight()}).appendTo(u.parent()).offset(u.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(u){return t(u.target).closest(".ui-dialog").length?!0:!!t(u.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var u=!0;this._delay(function(){u=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(g){u||this._allowInteraction(g)||(g.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var u=this.document.data("ui-dialog-overlays")-1;u?this.document.data("ui-dialog-overlays",u):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),t.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var u,p=this.options,g=p.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(g)?g:function(k){return k.is(g)},this.proportions=function(){return arguments.length?(u=arguments[0],void 0):u||(u={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(p.scope),p.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(u){t.ui.ddmanager.droppables[u]=t.ui.ddmanager.droppables[u]||[],t.ui.ddmanager.droppables[u].push(this)},_splice:function(u){for(var p=0;u.length>p;p++)u[p]===this&&u.splice(p,1)},_destroy:function(){var u=t.ui.ddmanager.droppables[this.options.scope];this._splice(u),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(u,p){if(u==="accept")this.accept=t.isFunction(p)?p:function(k){return k.is(p)};else if(u==="scope"){var g=t.ui.ddmanager.droppables[this.options.scope];this._splice(g),this._addToManager(p)}this._super(u,p)},_activate:function(u){var p=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),p&&this._trigger("activate",u,this.ui(p))},_deactivate:function(u){var p=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),p&&this._trigger("deactivate",u,this.ui(p))},_over:function(u){var p=t.ui.ddmanager.current;p&&(p.currentItem||p.element)[0]!==this.element[0]&&this.accept.call(this.element[0],p.currentItem||p.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",u,this.ui(p)))},_out:function(u){var p=t.ui.ddmanager.current;p&&(p.currentItem||p.element)[0]!==this.element[0]&&this.accept.call(this.element[0],p.currentItem||p.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",u,this.ui(p)))},_drop:function(u,p){var g=p||t.ui.ddmanager.current,k=!1;return g&&(g.currentItem||g.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var x=t(this).droppable("instance");return x.options.greedy&&!x.options.disabled&&x.options.scope===g.options.scope&&x.accept.call(x.element[0],g.currentItem||g.element)&&t.ui.intersect(g,t.extend(x,{offset:x.element.offset()}),x.options.tolerance,u)?(k=!0,!1):void 0}),k?!1:this.accept.call(this.element[0],g.currentItem||g.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",u,this.ui(g)),this.element):!1):!1},ui:function(u){return{draggable:u.currentItem||u.element,helper:u.helper,position:u.position,offset:u.positionAbs}}}),t.ui.intersect=function(){var y=function(p,g,k){return p>=g&&g+k>p};return function(u,p,g,k){if(!p.offset)return!1;var x=(u.positionAbs||u.position.absolute).left,j=(u.positionAbs||u.position.absolute).top,L=x+u.helperProportions.width,D=j+u.helperProportions.height,F=p.offset.left,X=p.offset.top,Q=F+p.proportions().width,H=X+p.proportions().height;switch(g){case"fit":return x>=F&&Q>=L&&j>=X&&H>=D;case"intersect":return x+u.helperProportions.width/2>F&&Q>L-u.helperProportions.width/2&&j+u.helperProportions.height/2>X&&H>D-u.helperProportions.height/2;case"pointer":return y(k.pageY,X,p.proportions().height)&&y(k.pageX,F,p.proportions().width);case"touch":return(j>=X&&H>=j||D>=X&&H>=D||X>j&&D>H)&&(x>=F&&Q>=x||L>=F&&Q>=L||F>x&&L>Q);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(u,p){var g,k,x=t.ui.ddmanager.droppables[u.options.scope]||[],j=p?p.type:null,L=(u.currentItem||u.element).find(":data(ui-droppable)").addBack();e:for(g=0;x.length>g;g++)if(!(x[g].options.disabled||u&&!x[g].accept.call(x[g].element[0],u.currentItem||u.element))){for(k=0;L.length>k;k++)if(L[k]===x[g].element[0]){x[g].proportions().height=0;continue e}x[g].visible=x[g].element.css("display")!=="none",x[g].visible&&(j==="mousedown"&&x[g]._activate.call(x[g],p),x[g].offset=x[g].element.offset(),x[g].proportions({width:x[g].element[0].offsetWidth,height:x[g].element[0].offsetHeight}))}},drop:function(u,p){var g=!1;return t.each((t.ui.ddmanager.droppables[u.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(u,this,this.options.tolerance,p)&&(g=this._drop.call(this,p)||g),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],u.currentItem||u.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,p)))}),g},dragStart:function(u,p){u.element.parentsUntil("body").bind("scroll.droppable",function(){u.options.refreshPositions||t.ui.ddmanager.prepareOffsets(u,p)})},drag:function(u,p){u.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(u,p),t.each(t.ui.ddmanager.droppables[u.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var g,k,x,j=t.ui.intersect(u,this,this.options.tolerance,p),L=!j&&this.isover?"isout":j&&!this.isover?"isover":null;L&&(this.options.greedy&&(k=this.options.scope,x=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===k}),x.length&&(g=t(x[0]).droppable("instance"),g.greedyChild=L==="isover")),g&&L==="isover"&&(g.isover=!1,g.isout=!0,g._out.call(g,p)),this[L]=!0,this[L==="isout"?"isover":"isout"]=!1,this[L==="isover"?"_over":"_out"].call(this,p),g&&L==="isout"&&(g.isout=!1,g.isover=!0,g._over.call(g,p)))}})},dragStop:function(u,p){u.element.parentsUntil("body").unbind("scroll.droppable"),u.options.refreshPositions||t.ui.ddmanager.prepareOffsets(u,p)}},t.ui.droppable;var O="ui-effects-",P=t;t.effects={effect:{}},function(y,u){var p=function(Y,oe,q){var G=Q[oe.type]||{};return Y==null?q||!oe.def?null:oe.def:(Y=G.floor?~~Y:parseFloat(Y),isNaN(Y)?oe.def:G.mod?(Y+G.mod)%G.mod:0>Y?0:Y>G.max?G.max:Y)},g=function(Y){var oe=F(),q=oe._rgba=[];return Y=Y.toLowerCase(),ne(D,function(G,J){var ae,ie=J.re.exec(Y),Oe=ie&&J.parse(ie),De=J.space||"rgba";return Oe?(ae=oe[De](Oe),oe[X[De].cache]=ae[X[De].cache],q=oe._rgba=ae._rgba,!1):u}),q.length?(q.join()==="0,0,0,0"&&y.extend(q,x.transparent),oe):x[Y]},k=function(Y,oe,q){return q=(q+1)%1,1>6*q?Y+6*(oe-Y)*q:1>2*q?oe:2>3*q?Y+6*(oe-Y)*(.6666666666666666-q):Y},x,j="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",L=/^([\-+])=\s*(\d+\.?\d*)/,D=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(Y){return[Y[1],Y[2],Y[3],Y[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(Y){return[2.55*Y[1],2.55*Y[2],2.55*Y[3],Y[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(Y){return[parseInt(Y[1],16),parseInt(Y[2],16),parseInt(Y[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(Y){return[parseInt(Y[1]+Y[1],16),parseInt(Y[2]+Y[2],16),parseInt(Y[3]+Y[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(Y){return[Y[1],Y[2]/100,Y[3]/100,Y[4]]}}],F=y.Color=function(Y,oe,q,G){return new y.Color.fn.parse(Y,oe,q,G)},X={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},Q={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},H=F.support={},ce=y("<p>")[0],ne=y.each;ce.style.cssText="background-color:rgba(1,1,1,.5)",H.rgba=ce.style.backgroundColor.indexOf("rgba")>-1,ne(X,function(V,Y){Y.cache="_"+V,Y.props.alpha={idx:3,type:"percent",def:1}}),F.fn=y.extend(F.prototype,{parse:function(Y,oe,q,G){if(Y===u)return this._rgba=[null,null,null,null],this;(Y.jquery||Y.nodeType)&&(Y=y(Y).css(oe),oe=u);var J=this,ae=y.type(Y),ie=this._rgba=[];return oe!==u&&(Y=[Y,oe,q,G],ae="array"),ae==="string"?this.parse(g(Y)||x._default):ae==="array"?(ne(X.rgba.props,function(Oe,De){ie[De.idx]=p(Y[De.idx],De)}),this):ae==="object"?(_instanceof(Y,F)?ne(X,function(Oe,De){Y[De.cache]&&(J[De.cache]=Y[De.cache].slice())}):ne(X,function(Oe,De){var ke=De.cache;ne(De.props,function(tt,Ve){if(!J[ke]&&De.to){if(tt==="alpha"||Y[tt]==null)return;J[ke]=De.to(J._rgba)}J[ke][Ve.idx]=p(Y[tt],Ve,!0)}),J[ke]&&0>y.inArray(null,J[ke].slice(0,3))&&(J[ke][3]=1,De.from&&(J._rgba=De.from(J[ke])))}),this):u},is:function(Y){var oe=F(Y),q=!0,G=this;return ne(X,function(J,ae){var ie,Oe=oe[ae.cache];return Oe&&(ie=G[ae.cache]||ae.to&&ae.to(G._rgba)||[],ne(ae.props,function(De,ke){return Oe[ke.idx]!=null?q=Oe[ke.idx]===ie[ke.idx]:u})),q}),q},_space:function(){var Y=[],oe=this;return ne(X,function(q,G){oe[G.cache]&&Y.push(q)}),Y.pop()},transition:function(Y,oe){var q=F(Y),G=q._space(),J=X[G],ae=this.alpha()===0?F("transparent"):this,ie=ae[J.cache]||J.to(ae._rgba),Oe=ie.slice();return q=q[J.cache],ne(J.props,function(De,ke){var tt=ke.idx,Ve=ie[tt],Qe=q[tt],ht=Q[ke.type]||{};Qe!==null&&(Ve===null?Oe[tt]=Qe:(ht.mod&&(Qe-Ve>ht.mod/2?Ve+=ht.mod:Ve-Qe>ht.mod/2&&(Ve-=ht.mod)),Oe[tt]=p((Qe-Ve)*oe+Ve,ke)))}),this[G](Oe)},blend:function(Y){if(this._rgba[3]===1)return this;var oe=this._rgba.slice(),q=oe.pop(),G=F(Y)._rgba;return F(y.map(oe,function(J,ae){return(1-q)*G[ae]+q*J}))},toRgbaString:function(){var Y="rgba(",oe=y.map(this._rgba,function(q,G){return q!=null?q:G>2?1:0});return oe[3]===1&&(oe.pop(),Y="rgb("),Y+oe.join()+")"},toHslaString:function(){var Y="hsla(",oe=y.map(this.hsla(),function(q,G){return q==null&&(q=G>2?1:0),G&&3>G&&(q=Math.round(100*q)+"%"),q});return oe[3]===1&&(oe.pop(),Y="hsl("),Y+oe.join()+")"},toHexString:function(Y){var oe=this._rgba.slice(),q=oe.pop();return Y&&oe.push(~~(255*q)),"#"+y.map(oe,function(G){return G=(G||0).toString(16),G.length===1?"0"+G:G}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),F.fn.parse.prototype=F.fn,X.hsla.to=function(V){if(V[0]==null||V[1]==null||V[2]==null)return[null,null,null,V[3]];var Y,oe,q=V[0]/255,G=V[1]/255,J=V[2]/255,ae=V[3],ie=Math.max(q,G,J),Oe=Math.min(q,G,J),De=ie-Oe,ke=ie+Oe,tt=.5*ke;return Y=Oe===ie?0:q===ie?60*(G-J)/De+360:G===ie?60*(J-q)/De+120:60*(q-G)/De+240,oe=De===0?0:.5>=tt?De/ke:De/(2-ke),[Math.round(Y)%360,oe,tt,ae!=null?ae:1]},X.hsla.from=function(V){if(V[0]==null||V[1]==null||V[2]==null)return[null,null,null,V[3]];var Y=V[0]/360,oe=V[1],q=V[2],G=V[3],J=.5>=q?q*(1+oe):q+oe-q*oe,ae=2*q-J;return[Math.round(255*k(ae,J,Y+1/3)),Math.round(255*k(ae,J,Y)),Math.round(255*k(ae,J,Y-1/3)),G]},ne(X,function(V,Y){var oe=Y.props,q=Y.cache,G=Y.to,J=Y.from;F.fn[V]=function(ae){if(G&&!this[q]&&(this[q]=G(this._rgba)),ae===u)return this[q].slice();var ie,Oe=y.type(ae),De=Oe==="array"||Oe==="object"?ae:arguments,ke=this[q].slice();return ne(oe,function(tt,Ve){var Qe=De[Oe==="object"?tt:Ve.idx];Qe==null&&(Qe=ke[Ve.idx]),ke[Ve.idx]=p(Qe,Ve)}),J?(ie=F(J(ke)),ie[q]=ke,ie):F(ke)},ne(oe,function(ae,ie){F.fn[ae]||(F.fn[ae]=function(Oe){var De,ke=y.type(Oe),tt=ae==="alpha"?this._hsla?"hsla":"rgba":V,Ve=this[tt](),Qe=Ve[ie.idx];return ke==="undefined"?Qe:(ke==="function"&&(Oe=Oe.call(this,Qe),ke=y.type(Oe)),Oe==null&&ie.empty?this:(ke==="string"&&(De=L.exec(Oe),De&&(Oe=Qe+parseFloat(De[2])*(De[1]==="+"?1:-1))),Ve[ie.idx]=Oe,this[tt](Ve)))})})}),F.hook=function(V){var Y=V.split(" ");ne(Y,function(oe,q){y.cssHooks[q]={set:function(J,ae){var ie,Oe,De="";if(ae!=="transparent"&&(y.type(ae)!=="string"||(ie=g(ae)))){if(ae=F(ie||ae),!H.rgba&&ae._rgba[3]!==1){for(Oe=q==="backgroundColor"?J.parentNode:J;(De===""||De==="transparent")&&Oe&&Oe.style;)try{De=y.css(Oe,"backgroundColor"),Oe=Oe.parentNode}catch(ke){}ae=ae.blend(De&&De!=="transparent"?De:"_default")}ae=ae.toRgbaString()}try{J.style[q]=ae}catch(ke){}}},y.fx.step[q]=function(G){G.colorInit||(G.start=F(G.elem,q),G.end=F(G.end),G.colorInit=!0),y.cssHooks[q].set(G.elem,G.start.transition(G.end,G.pos))}})},F.hook(j),y.cssHooks.borderColor={expand:function(Y){var oe={};return ne(["Top","Right","Bottom","Left"],function(q,G){oe["border"+G+"Color"]=Y}),oe}},x=y.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(P),function(){var y=function(x){var j,L,D=x.ownerDocument.defaultView?x.ownerDocument.defaultView.getComputedStyle(x,null):x.currentStyle,F={};if(D&&D.length&&D[0]&&D[D[0]])for(L=D.length;L--;)j=D[L],typeof D[j]=="string"&&(F[t.camelCase(j)]=D[j]);else for(j in D)typeof D[j]=="string"&&(F[j]=D[j]);return F},u=function(x,j){var L,D,F={};for(L in j)D=j[L],x[L]!==D&&(g[L]||(t.fx.step[L]||!isNaN(parseFloat(D)))&&(F[L]=D));return F},p=["add","remove","toggle"],g={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(k,x){t.fx.step[x]=function(j){(j.end!=="none"&&!j.setAttr||j.pos===1&&!j.setAttr)&&(P.style(j.elem,x,j.end),j.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(k){return this.add(k==null?this.prevObject:this.prevObject.filter(k))}),t.effects.animateClass=function(k,x,j,L){var D=t.speed(x,j,L);return this.queue(function(){var F,X=t(this),Q=X.attr("class")||"",H=D.children?X.find("*").addBack():X;H=H.map(function(){var ce=t(this);return{el:ce,start:y(this)}}),F=function(){t.each(p,function(ne,V){k[V]&&X[V+"Class"](k[V])})},F(),H=H.map(function(){return this.end=y(this.el[0]),this.diff=u(this.start,this.end),this}),X.attr("class",Q),H=H.map(function(){var ce=this,ne=t.Deferred(),V=t.extend({},D,{queue:!1,complete:function(){ne.resolve(ce)}});return this.el.animate(this.diff,V),ne.promise()}),t.when.apply(t,H.get()).done(function(){F(),t.each(arguments,function(){var ce=this.el;t.each(this.diff,function(ne){ce.css(ne,"")})}),D.complete.call(X[0])})})},t.fn.extend({addClass:function(k){return function(x,j,L,D){return j?t.effects.animateClass.call(this,{add:x},j,L,D):k.apply(this,arguments)}}(t.fn.addClass),removeClass:function(k){return function(x,j,L,D){return arguments.length>1?t.effects.animateClass.call(this,{remove:x},j,L,D):k.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(k){return function(x,j,L,D,F){return typeof j=="boolean"||j===void 0?L?t.effects.animateClass.call(this,j?{add:x}:{remove:x},L,D,F):k.apply(this,arguments):t.effects.animateClass.call(this,{toggle:x},j,L,D)}}(t.fn.toggleClass),switchClass:function(x,j,L,D,F){return t.effects.animateClass.call(this,{add:j,remove:x},L,D,F)}})}(),function(){var y=function(g,k,x,j){return t.isPlainObject(g)&&(k=g,g=g.effect),g={effect:g},k==null&&(k={}),t.isFunction(k)&&(j=k,x=null,k={}),(typeof k=="number"||t.fx.speeds[k])&&(j=x,x=k,k={}),t.isFunction(x)&&(j=x,x=null),k&&t.extend(g,k),x=x||k.duration,g.duration=t.fx.off?0:typeof x=="number"?x:x in t.fx.speeds?t.fx.speeds[x]:t.fx.speeds._default,g.complete=j||k.complete,g},u=function(g){return!g||typeof g=="number"||t.fx.speeds[g]?!0:typeof g!="string"||t.effects.effect[g]?t.isFunction(g)?!0:!(typeof g!="object"||g.effect):!0};t.extend(t.effects,{version:"1.11.1",save:function(g,k){for(var x=0;k.length>x;x++)k[x]!==null&&g.data(O+k[x],g[0].style[k[x]])},restore:function(g,k){var x,j;for(j=0;k.length>j;j++)k[j]!==null&&(x=g.data(O+k[j]),x===void 0&&(x=""),g.css(k[j],x))},setMode:function(g,k){return k==="toggle"&&(k=g.is(":hidden")?"show":"hide"),k},getBaseline:function(g,k){var x,j;switch(g[0]){case"top":x=0;break;case"middle":x=.5;break;case"bottom":x=1;break;default:x=g[0]/k.height}switch(g[1]){case"left":j=0;break;case"center":j=.5;break;case"right":j=1;break;default:j=g[1]/k.width}return{x:j,y:x}},createWrapper:function(g){if(g.parent().is(".ui-effects-wrapper"))return g.parent();var k={width:g.outerWidth(!0),height:g.outerHeight(!0),float:g.css("float")},x=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),j={width:g.width(),height:g.height()},L=document.activeElement;try{L.id}catch(D){L=document.body}return g.wrap(x),(g[0]===L||t.contains(g[0],L))&&t(L).focus(),x=g.parent(),g.css("position")==="static"?(x.css({position:"relative"}),g.css({position:"relative"})):(t.extend(k,{position:g.css("position"),zIndex:g.css("z-index")}),t.each(["top","left","bottom","right"],function(D,F){k[F]=g.css(F),isNaN(parseInt(k[F],10))&&(k[F]="auto")}),g.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),g.css(j),x.css(k).show()},removeWrapper:function(g){var k=document.activeElement;return g.parent().is(".ui-effects-wrapper")&&(g.parent().replaceWith(g),(g[0]===k||t.contains(g[0],k))&&t(k).focus()),g},setTransition:function(g,k,x,j){return j=j||{},t.each(k,function(L,D){var F=g.cssUnit(D);F[0]>0&&(j[D]=F[0]*x+F[1])}),j}}),t.fn.extend({effect:function(){var g=function(F){function X(){t.isFunction(H)&&H.call(Q[0]),t.isFunction(F)&&F()}var Q=t(this),H=k.complete,ce=k.mode;(Q.is(":hidden")?ce==="hide":ce==="show")?(Q[ce](),X()):L.call(Q[0],k,X)},k=y.apply(this,arguments),x=k.mode,j=k.queue,L=t.effects.effect[k.effect];return t.fx.off||!L?x?this[x](k.duration,k.complete):this.each(function(){k.complete&&k.complete.call(this)}):j===!1?this.each(g):this.queue(j||"fx",g)},show:function(p){return function(g){if(u(g))return p.apply(this,arguments);var k=y.apply(this,arguments);return k.mode="show",this.effect.call(this,k)}}(t.fn.show),hide:function(p){return function(g){if(u(g))return p.apply(this,arguments);var k=y.apply(this,arguments);return k.mode="hide",this.effect.call(this,k)}}(t.fn.hide),toggle:function(p){return function(g){if(u(g)||typeof g=="boolean")return p.apply(this,arguments);var k=y.apply(this,arguments);return k.mode="toggle",this.effect.call(this,k)}}(t.fn.toggle),cssUnit:function(g){var k=this.css(g),x=[];return t.each(["em","px","%","pt"],function(j,L){k.indexOf(L)>0&&(x=[parseFloat(k),L])}),x}})}(),function(){var y={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(u,p){y[p]=function(g){return Math.pow(g,u+2)}}),t.extend(y,{Sine:function(p){return 1-Math.cos(p*Math.PI/2)},Circ:function(p){return 1-Math.sqrt(1-p*p)},Elastic:function(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin((80*(p-1)-7.5)*Math.PI/15)},Back:function(p){return p*p*(3*p-2)},Bounce:function(p){for(var g,k=4;((g=Math.pow(2,--k))-1)/11>p;);return 1/Math.pow(4,3-k)-7.5625*Math.pow((3*g-2)/22-p,2)}}),t.each(y,function(u,p){t.easing["easeIn"+u]=p,t.easing["easeOut"+u]=function(g){return 1-p(1-g)},t.easing["easeInOut"+u]=function(g){return .5>g?p(2*g)/2:1-p(-2*g+2)/2}})}(),t.effects,t.effects.effect.blind=function(y,u){var p,g,k,x=t(this),j=/up|down|vertical/,L=/up|left|vertical|horizontal/,D=["position","top","bottom","left","right","height","width"],F=t.effects.setMode(x,y.mode||"hide"),X=y.direction||"up",Q=j.test(X),H=Q?"height":"width",ce=Q?"top":"left",ne=L.test(X),V={},Y=F==="show";x.parent().is(".ui-effects-wrapper")?t.effects.save(x.parent(),D):t.effects.save(x,D),x.show(),p=t.effects.createWrapper(x).css({overflow:"hidden"}),g=p[H](),k=parseFloat(p.css(ce))||0,V[H]=Y?g:0,ne||(x.css(Q?"bottom":"right",0).css(Q?"top":"left","auto").css({position:"absolute"}),V[ce]=Y?k:g+k),Y&&(p.css(H,0),ne||p.css(ce,k+g)),p.animate(V,{duration:y.duration,easing:y.easing,queue:!1,complete:function(){F==="hide"&&x.hide(),t.effects.restore(x,D),t.effects.removeWrapper(x),u()}})},t.effects.effect.bounce=function(y,u){var p,g,k,x=t(this),j=["position","top","bottom","left","right","height","width"],L=t.effects.setMode(x,y.mode||"effect"),D=L==="hide",F=L==="show",X=y.direction||"up",Q=y.distance,H=y.times||5,ce=2*H+(F||D?1:0),ne=y.duration/ce,V=y.easing,Y=X==="up"||X==="down"?"top":"left",oe=X==="up"||X==="left",q=x.queue(),G=q.length;for((F||D)&&j.push("opacity"),t.effects.save(x,j),x.show(),t.effects.createWrapper(x),Q||(Q=x[Y==="top"?"outerHeight":"outerWidth"]()/3),F&&(k={opacity:1},k[Y]=0,x.css("opacity",0).css(Y,oe?2*-Q:2*Q).animate(k,ne,V)),D&&(Q/=Math.pow(2,H-1)),k={},k[Y]=0,p=0;H>p;p++)g={},g[Y]=(oe?"-=":"+=")+Q,x.animate(g,ne,V).animate(k,ne,V),Q=D?2*Q:Q/2;D&&(g={opacity:0},g[Y]=(oe?"-=":"+=")+Q,x.animate(g,ne,V)),x.queue(function(){D&&x.hide(),t.effects.restore(x,j),t.effects.removeWrapper(x),u()}),G>1&&q.splice.apply(q,[1,0].concat(q.splice(G,ce+1))),x.dequeue()},t.effects.effect.clip=function(y,u){var p,g,k,x=t(this),j=["position","top","bottom","left","right","height","width"],L=t.effects.setMode(x,y.mode||"hide"),D=L==="show",F=y.direction||"vertical",X=F==="vertical",Q=X?"height":"width",H=X?"top":"left",ce={};t.effects.save(x,j),x.show(),p=t.effects.createWrapper(x).css({overflow:"hidden"}),g=x[0].tagName==="IMG"?p:x,k=g[Q](),D&&(g.css(Q,0),g.css(H,k/2)),ce[Q]=D?k:0,ce[H]=D?0:k/2,g.animate(ce,{queue:!1,duration:y.duration,easing:y.easing,complete:function(){D||x.hide(),t.effects.restore(x,j),t.effects.removeWrapper(x),u()}})},t.effects.effect.drop=function(y,u){var p,g=t(this),k=["position","top","bottom","left","right","opacity","height","width"],x=t.effects.setMode(g,y.mode||"hide"),j=x==="show",L=y.direction||"left",D=L==="up"||L==="down"?"top":"left",F=L==="up"||L==="left"?"pos":"neg",X={opacity:j?1:0};t.effects.save(g,k),g.show(),t.effects.createWrapper(g),p=y.distance||g[D==="top"?"outerHeight":"outerWidth"](!0)/2,j&&g.css("opacity",0).css(D,F==="pos"?-p:p),X[D]=(j?F==="pos"?"+=":"-=":F==="pos"?"-=":"+=")+p,g.animate(X,{queue:!1,duration:y.duration,easing:y.easing,complete:function(){x==="hide"&&g.hide(),t.effects.restore(g,k),t.effects.removeWrapper(g),u()}})},t.effects.effect.explode=function(y,u){var p=function(){q.push(this),q.length===X*Q&&g()},g=function(){H.css({visibility:"visible"}),t(q).remove(),ne||H.hide(),u()},k,x,j,L,D,F,X=y.pieces?Math.round(Math.sqrt(y.pieces)):3,Q=X,H=t(this),ce=t.effects.setMode(H,y.mode||"hide"),ne=ce==="show",V=H.show().css("visibility","hidden").offset(),Y=Math.ceil(H.outerWidth()/Q),oe=Math.ceil(H.outerHeight()/X),q=[];for(k=0;X>k;k++)for(L=V.top+k*oe,F=k-(X-1)/2,x=0;Q>x;x++)j=V.left+x*Y,D=x-(Q-1)/2,H.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-x*Y,top:-k*oe}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:Y,height:oe,left:j+(ne?D*Y:0),top:L+(ne?F*oe:0),opacity:ne?0:1}).animate({left:j+(ne?0:D*Y),top:L+(ne?0:F*oe),opacity:ne?1:0},y.duration||500,y.easing,p)},t.effects.effect.fade=function(y,u){var p=t(this),g=t.effects.setMode(p,y.mode||"toggle");p.animate({opacity:g},{queue:!1,duration:y.duration,easing:y.easing,complete:u})},t.effects.effect.fold=function(y,u){var p,g,k=t(this),x=["position","top","bottom","left","right","height","width"],j=t.effects.setMode(k,y.mode||"hide"),L=j==="show",D=j==="hide",F=y.size||15,X=/([0-9]+)%/.exec(F),Q=!!y.horizFirst,H=L!==Q,ce=H?["width","height"]:["height","width"],ne=y.duration/2,V={},Y={};t.effects.save(k,x),k.show(),p=t.effects.createWrapper(k).css({overflow:"hidden"}),g=H?[p.width(),p.height()]:[p.height(),p.width()],X&&(F=parseInt(X[1],10)/100*g[D?0:1]),L&&p.css(Q?{height:0,width:F}:{height:F,width:0}),V[ce[0]]=L?g[0]:F,Y[ce[1]]=L?g[1]:0,p.animate(V,ne,y.easing).animate(Y,ne,y.easing,function(){D&&k.hide(),t.effects.restore(k,x),t.effects.removeWrapper(k),u()})},t.effects.effect.highlight=function(y,u){var p=t(this),g=["backgroundImage","backgroundColor","opacity"],k=t.effects.setMode(p,y.mode||"show"),x={backgroundColor:p.css("backgroundColor")};k==="hide"&&(x.opacity=0),t.effects.save(p,g),p.show().css({backgroundImage:"none",backgroundColor:y.color||"#ffff99"}).animate(x,{queue:!1,duration:y.duration,easing:y.easing,complete:function(){k==="hide"&&p.hide(),t.effects.restore(p,g),u()}})},t.effects.effect.size=function(y,u){var p,g,k,x=t(this),j=["position","top","bottom","left","right","width","height","overflow","opacity"],L=["position","top","bottom","left","right","overflow","opacity"],D=["width","height","overflow"],F=["fontSize"],X=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],Q=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],H=t.effects.setMode(x,y.mode||"effect"),ce=y.restore||H!=="effect",ne=y.scale||"both",V=y.origin||["middle","center"],Y=x.css("position"),oe=ce?j:L,q={height:0,width:0,outerHeight:0,outerWidth:0};H==="show"&&x.show(),p={height:x.height(),width:x.width(),outerHeight:x.outerHeight(),outerWidth:x.outerWidth()},y.mode==="toggle"&&H==="show"?(x.from=y.to||q,x.to=y.from||p):(x.from=y.from||(H==="show"?q:p),x.to=y.to||(H==="hide"?q:p)),k={from:{y:x.from.height/p.height,x:x.from.width/p.width},to:{y:x.to.height/p.height,x:x.to.width/p.width}},(ne==="box"||ne==="both")&&(k.from.y!==k.to.y&&(oe=oe.concat(X),x.from=t.effects.setTransition(x,X,k.from.y,x.from),x.to=t.effects.setTransition(x,X,k.to.y,x.to)),k.from.x!==k.to.x&&(oe=oe.concat(Q),x.from=t.effects.setTransition(x,Q,k.from.x,x.from),x.to=t.effects.setTransition(x,Q,k.to.x,x.to))),(ne==="content"||ne==="both")&&k.from.y!==k.to.y&&(oe=oe.concat(F).concat(D),x.from=t.effects.setTransition(x,F,k.from.y,x.from),x.to=t.effects.setTransition(x,F,k.to.y,x.to)),t.effects.save(x,oe),x.show(),t.effects.createWrapper(x),x.css("overflow","hidden").css(x.from),V&&(g=t.effects.getBaseline(V,p),x.from.top=(p.outerHeight-x.outerHeight())*g.y,x.from.left=(p.outerWidth-x.outerWidth())*g.x,x.to.top=(p.outerHeight-x.to.outerHeight)*g.y,x.to.left=(p.outerWidth-x.to.outerWidth)*g.x),x.css(x.from),(ne==="content"||ne==="both")&&(X=X.concat(["marginTop","marginBottom"]).concat(F),Q=Q.concat(["marginLeft","marginRight"]),D=j.concat(X).concat(Q),x.find("*[width]").each(function(){var G=t(this),J={height:G.height(),width:G.width(),outerHeight:G.outerHeight(),outerWidth:G.outerWidth()};ce&&t.effects.save(G,D),G.from={height:J.height*k.from.y,width:J.width*k.from.x,outerHeight:J.outerHeight*k.from.y,outerWidth:J.outerWidth*k.from.x},G.to={height:J.height*k.to.y,width:J.width*k.to.x,outerHeight:J.height*k.to.y,outerWidth:J.width*k.to.x},k.from.y!==k.to.y&&(G.from=t.effects.setTransition(G,X,k.from.y,G.from),G.to=t.effects.setTransition(G,X,k.to.y,G.to)),k.from.x!==k.to.x&&(G.from=t.effects.setTransition(G,Q,k.from.x,G.from),G.to=t.effects.setTransition(G,Q,k.to.x,G.to)),G.css(G.from),G.animate(G.to,y.duration,y.easing,function(){ce&&t.effects.restore(G,D)})})),x.animate(x.to,{queue:!1,duration:y.duration,easing:y.easing,complete:function(){x.to.opacity===0&&x.css("opacity",x.from.opacity),H==="hide"&&x.hide(),t.effects.restore(x,oe),ce||(Y==="static"?x.css({position:"relative",top:x.to.top,left:x.to.left}):t.each(["top","left"],function(J,ae){x.css(ae,function(ie,Oe){var De=parseInt(Oe,10),ke=J?x.to.left:x.to.top;return Oe==="auto"?ke+"px":De+ke+"px"})})),t.effects.removeWrapper(x),u()}})},t.effects.effect.scale=function(y,u){var p=t(this),g=t.extend(!0,{},y),k=t.effects.setMode(p,y.mode||"effect"),x=parseInt(y.percent,10)||(parseInt(y.percent,10)===0||k==="hide"?0:100),j=y.direction||"both",L=y.origin,D={height:p.height(),width:p.width(),outerHeight:p.outerHeight(),outerWidth:p.outerWidth()},F={y:j!=="horizontal"?x/100:1,x:j!=="vertical"?x/100:1};g.effect="size",g.queue=!1,g.complete=u,k!=="effect"&&(g.origin=L||["middle","center"],g.restore=!0),g.from=y.from||(k==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:D),g.to={height:D.height*F.y,width:D.width*F.x,outerHeight:D.outerHeight*F.y,outerWidth:D.outerWidth*F.x},g.fade&&(k==="show"&&(g.from.opacity=0,g.to.opacity=1),k==="hide"&&(g.from.opacity=1,g.to.opacity=0)),p.effect(g)},t.effects.effect.puff=function(y,u){var p=t(this),g=t.effects.setMode(p,y.mode||"hide"),k=g==="hide",x=parseInt(y.percent,10)||150,j=x/100,L={height:p.height(),width:p.width(),outerHeight:p.outerHeight(),outerWidth:p.outerWidth()};t.extend(y,{effect:"scale",queue:!1,fade:!0,mode:g,complete:u,percent:k?x:100,from:k?L:{height:L.height*j,width:L.width*j,outerHeight:L.outerHeight*j,outerWidth:L.outerWidth*j}}),p.effect(y)},t.effects.effect.pulsate=function(y,u){var p,g=t(this),k=t.effects.setMode(g,y.mode||"show"),x=k==="show",j=k==="hide",L=x||k==="hide",D=2*(y.times||5)+(L?1:0),F=y.duration/D,X=0,Q=g.queue(),H=Q.length;for((x||!g.is(":visible"))&&(g.css("opacity",0).show(),X=1),p=1;D>p;p++)g.animate({opacity:X},F,y.easing),X=1-X;g.animate({opacity:X},F,y.easing),g.queue(function(){j&&g.hide(),u()}),H>1&&Q.splice.apply(Q,[1,0].concat(Q.splice(H,D+1))),g.dequeue()},t.effects.effect.shake=function(y,u){var p,g=t(this),k=["position","top","bottom","left","right","height","width"],x=t.effects.setMode(g,y.mode||"effect"),j=y.direction||"left",L=y.distance||20,D=y.times||3,F=2*D+1,X=Math.round(y.duration/F),Q=j==="up"||j==="down"?"top":"left",H=j==="up"||j==="left",ce={},ne={},V={},Y=g.queue(),oe=Y.length;for(t.effects.save(g,k),g.show(),t.effects.createWrapper(g),ce[Q]=(H?"-=":"+=")+L,ne[Q]=(H?"+=":"-=")+2*L,V[Q]=(H?"-=":"+=")+2*L,g.animate(ce,X,y.easing),p=1;D>p;p++)g.animate(ne,X,y.easing).animate(V,X,y.easing);g.animate(ne,X,y.easing).animate(ce,X/2,y.easing).queue(function(){x==="hide"&&g.hide(),t.effects.restore(g,k),t.effects.removeWrapper(g),u()}),oe>1&&Y.splice.apply(Y,[1,0].concat(Y.splice(oe,F+1))),g.dequeue()},t.effects.effect.slide=function(y,u){var p,g=t(this),k=["position","top","bottom","left","right","width","height"],x=t.effects.setMode(g,y.mode||"show"),j=x==="show",L=y.direction||"left",D=L==="up"||L==="down"?"top":"left",F=L==="up"||L==="left",X={};t.effects.save(g,k),g.show(),p=y.distance||g[D==="top"?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(g).css({overflow:"hidden"}),j&&g.css(D,F?isNaN(p)?"-"+p:-p:p),X[D]=(j?F?"+=":"-=":F?"-=":"+=")+p,g.animate(X,{queue:!1,duration:y.duration,easing:y.easing,complete:function(){x==="hide"&&g.hide(),t.effects.restore(g,k),t.effects.removeWrapper(g),u()}})},t.effects.effect.transfer=function(y,u){var p=t(this),g=t(y.to),k=g.css("position")==="fixed",x=t("body"),j=k?x.scrollTop():0,L=k?x.scrollLeft():0,D=g.offset(),F={top:D.top-j,left:D.left-L,height:g.innerHeight(),width:g.innerWidth()},X=p.offset(),Q=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(y.className).css({top:X.top-j,left:X.left-L,height:p.innerHeight(),width:p.innerWidth(),position:k?"fixed":"absolute"}).animate(F,y.duration,y.easing,function(){Q.remove(),u()})},t.widget("ui.progressbar",{version:"1.11.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(u){return u===void 0?this.options.value:(this.options.value=this._constrainedValue(u),this._refreshValue(),void 0)},_constrainedValue:function(u){return u===void 0&&(u=this.options.value),this.indeterminate=u===!1,typeof u!="number"&&(u=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,u))},_setOptions:function(u){var p=u.value;delete u.value,this._super(u),this.options.value=this._constrainedValue(p),this._refreshValue()},_setOption:function(u,p){u==="max"&&(p=Math.max(this.min,p)),u==="disabled"&&this.element.toggleClass("ui-state-disabled",!!p).attr("aria-disabled",p),this._super(u,p)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var u=this.options.value,p=this._percentage();this.valueDiv.toggle(this.indeterminate||u>this.min).toggleClass("ui-corner-right",u===this.options.max).width(p.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":u}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==u&&(this.oldValue=u,this._trigger("change")),u===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var u,p=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){u=t(p.options.filter,p.element[0]),u.addClass("ui-selectee"),u.each(function(){var g=t(this),k=g.offset();t.data(this,"selectable-item",{element:this,$element:g,left:k.left,top:k.top,right:k.left+g.outerWidth(),bottom:k.top+g.outerHeight(),startselected:!1,selected:g.hasClass("ui-selected"),selecting:g.hasClass("ui-selecting"),unselecting:g.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=u.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(u){var p=this,g=this.options;this.opos=[u.pageX,u.pageY],this.options.disabled||(this.selectees=t(g.filter,this.element[0]),this._trigger("start",u),t(g.appendTo).append(this.helper),this.helper.css({left:u.pageX,top:u.pageY,width:0,height:0}),g.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var k=t.data(this,"selectable-item");k.startselected=!0,u.metaKey||u.ctrlKey||(k.$element.removeClass("ui-selected"),k.selected=!1,k.$element.addClass("ui-unselecting"),k.unselecting=!0,p._trigger("unselecting",u,{unselecting:k.element}))}),t(u.target).parents().addBack().each(function(){var k,x=t.data(this,"selectable-item");return x?(k=!u.metaKey&&!u.ctrlKey||!x.$element.hasClass("ui-selected"),x.$element.removeClass(k?"ui-unselecting":"ui-selected").addClass(k?"ui-selecting":"ui-unselecting"),x.unselecting=!k,x.selecting=k,x.selected=k,k?p._trigger("selecting",u,{selecting:x.element}):p._trigger("unselecting",u,{unselecting:x.element}),!1):void 0}))},_mouseDrag:function(u){if(this.dragged=!0,!this.options.disabled){var p,g=this,k=this.options,x=this.opos[0],j=this.opos[1],L=u.pageX,D=u.pageY;return x>L&&(p=L,L=x,x=p),j>D&&(p=D,D=j,j=p),this.helper.css({left:x,top:j,width:L-x,height:D-j}),this.selectees.each(function(){var F=t.data(this,"selectable-item"),X=!1;F&&F.element!==g.element[0]&&(k.tolerance==="touch"?X=!(F.left>L||x>F.right||F.top>D||j>F.bottom):k.tolerance==="fit"&&(X=F.left>x&&L>F.right&&F.top>j&&D>F.bottom),X?(F.selected&&(F.$element.removeClass("ui-selected"),F.selected=!1),F.unselecting&&(F.$element.removeClass("ui-unselecting"),F.unselecting=!1),F.selecting||(F.$element.addClass("ui-selecting"),F.selecting=!0,g._trigger("selecting",u,{selecting:F.element}))):(F.selecting&&((u.metaKey||u.ctrlKey)&&F.startselected?(F.$element.removeClass("ui-selecting"),F.selecting=!1,F.$element.addClass("ui-selected"),F.selected=!0):(F.$element.removeClass("ui-selecting"),F.selecting=!1,F.startselected&&(F.$element.addClass("ui-unselecting"),F.unselecting=!0),g._trigger("unselecting",u,{unselecting:F.element}))),F.selected&&(u.metaKey||u.ctrlKey||F.startselected||(F.$element.removeClass("ui-selected"),F.selected=!1,F.$element.addClass("ui-unselecting"),F.unselecting=!0,g._trigger("unselecting",u,{unselecting:F.element})))))}),!1}},_mouseStop:function(u){var p=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var g=t.data(this,"selectable-item");g.$element.removeClass("ui-unselecting"),g.unselecting=!1,g.startselected=!1,p._trigger("unselected",u,{unselected:g.element})}),t(".ui-selecting",this.element[0]).each(function(){var g=t.data(this,"selectable-item");g.$element.removeClass("ui-selecting").addClass("ui-selected"),g.selecting=!1,g.selected=!0,g.startselected=!0,p._trigger("selected",u,{selected:g.element})}),this._trigger("stop",u),this.helper.remove(),!1}}),t.widget("ui.selectmenu",{version:"1.11.1",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var u=this.element.uniqueId().attr("id");this.ids={element:u,button:u+"-button",menu:u+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var u=this,p=this.element.attr("tabindex");this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(k){this.button.focus(),k.preventDefault()}}),this.element.hide(),this.button=t("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:p||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){u.menuItems||u._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var u=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(g,k){g.preventDefault(),u._select(k.item.data("ui-selectmenu-item"),g)},focus:function(g,k){var x=k.item.data("ui-selectmenu-item");u.focusIndex!=null&&x.index!==u.focusIndex&&(u._trigger("focus",g,{item:x}),u.isOpen||u._select(x,g)),u.focusIndex=x.index,u.button.attr("aria-activedescendant",u.menuItems.eq(x.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var u,p=this.element.find("option");p.length&&(this._parseOptions(p),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),u=this._getSelectedItem(),this.menuInstance.focus(null,u),this._setAria(u.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(u){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",u))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(u){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",u))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(u,p){var g=this,k="";t.each(p,function(x,j){j.optgroup!==k&&(t("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(j.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:j.optgroup}).appendTo(u),k=j.optgroup),g._renderItemData(u,j)})},_renderItemData:function(u,p){return this._renderItem(u,p).data("ui-selectmenu-item",p)},_renderItem:function(u,p){var g=t("<li>");return p.disabled&&g.addClass("ui-state-disabled"),this._setText(g,p.label),g.appendTo(u)},_setText:function(u,p){p?u.text(p):u.html("&#160;")},_move:function(u,p){var g,k,x=".ui-menu-item";this.isOpen?g=this.menuItems.eq(this.focusIndex):(g=this.menuItems.eq(this.element[0].selectedIndex),x+=":not(.ui-state-disabled)"),k=u==="first"||u==="last"?g[u==="first"?"prevAll":"nextAll"](x).eq(-1):g[u+"All"](x).eq(0),k.length&&this.menuInstance.focus(p,k)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(u){this[this.isOpen?"close":"open"](u)},_documentClick:{mousedown:function(u){this.isOpen&&(t(u.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(u))}},_buttonEvents:{mousedown:function(u){u.preventDefault()},click:"_toggle",keydown:function(u){var p=!0;switch(u.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(u),p=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(u);break;case t.ui.keyCode.UP:u.altKey?this._toggle(u):this._move("prev",u);break;case t.ui.keyCode.DOWN:u.altKey?this._toggle(u):this._move("next",u);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(u):this._toggle(u);break;case t.ui.keyCode.LEFT:this._move("prev",u);break;case t.ui.keyCode.RIGHT:this._move("next",u);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",u);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",u);break;default:this.menu.trigger(u),p=!1}p&&u.preventDefault()}},_selectFocusedItem:function(u){var p=this.menuItems.eq(this.focusIndex);p.hasClass("ui-state-disabled")||this._select(p.data("ui-selectmenu-item"),u)},_select:function(u,p){var g=this.element[0].selectedIndex;this.element[0].selectedIndex=u.index,this._setText(this.buttonText,u.label),this._setAria(u),this._trigger("select",p,{item:u}),u.index!==g&&this._trigger("change",p,{item:u}),this.close(p)},_setAria:function(u){var p=this.menuItems.eq(u.index).attr("id");this.button.attr({"aria-labelledby":p,"aria-activedescendant":p}),this.menu.attr("aria-activedescendant",p)},_setOption:function(u,p){u==="icons"&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(p.button),this._super(u,p),u==="appendTo"&&this.menuWrap.appendTo(this._appendTo()),u==="disabled"&&(this.menuInstance.option("disabled",p),this.button.toggleClass("ui-state-disabled",p).attr("aria-disabled",p),this.element.prop("disabled",p),p?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),u==="width"&&this._resizeButton()},_appendTo:function(){var u=this.options.appendTo;return u&&(u=u.jquery||u.nodeType?t(u):this.document.find(u).eq(0)),u&&u[0]||(u=this.element.closest(".ui-front")),u.length||(u=this.document[0].body),u},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var u=this.options.width;u||(u=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(u)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(u){var p=[];u.each(function(g,k){var x=t(k),j=x.parent("optgroup");p.push({element:x,index:g,value:x.attr("value"),label:x.text(),optgroup:j.attr("label")||"",disabled:j.prop("disabled")||x.prop("disabled")})}),this.items=p},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var u,p,g=this.options,k=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),x="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",j=[];for(p=g.values&&g.values.length||1,k.length>p&&(k.slice(p).remove(),k=k.slice(0,p)),u=k.length;p>u;u++)j.push(x);this.handles=k.add(t(j.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(L){t(this).data("ui-slider-handle-index",L)})},_createRange:function(){var u=this.options,p="";u.range?(u.range===!0&&(u.values?u.values.length&&u.values.length!==2?u.values=[u.values[0],u.values[0]]:t.isArray(u.values)&&(u.values=u.values.slice(0)):u.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),p="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(p+(u.range==="min"||u.range==="max"?" ui-slider-range-"+u.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(u){var p,g,k,x,j,L,D,F,X=this,Q=this.options;return Q.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),p={x:u.pageX,y:u.pageY},g=this._normValueFromMouse(p),k=this._valueMax()-this._valueMin()+1,this.handles.each(function(H){var ce=Math.abs(g-X.values(H));(k>ce||k===ce&&(H===X._lastChangedValue||X.values(H)===Q.min))&&(k=ce,x=t(this),j=H)}),L=this._start(u,j),L===!1?!1:(this._mouseSliding=!0,this._handleIndex=j,x.addClass("ui-state-active").focus(),D=x.offset(),F=!t(u.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=F?{left:0,top:0}:{left:u.pageX-D.left-x.width()/2,top:u.pageY-D.top-x.height()/2-(parseInt(x.css("borderTopWidth"),10)||0)-(parseInt(x.css("borderBottomWidth"),10)||0)+(parseInt(x.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(u,j,g),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(u){var p={x:u.pageX,y:u.pageY},g=this._normValueFromMouse(p);return this._slide(u,this._handleIndex,g),!1},_mouseStop:function(u){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(u,this._handleIndex),this._change(u,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(u){var p,g,k,x,j;return this.orientation==="horizontal"?(p=this.elementSize.width,g=u.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(p=this.elementSize.height,g=u.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),k=g/p,k>1&&(k=1),0>k&&(k=0),this.orientation==="vertical"&&(k=1-k),x=this._valueMax()-this._valueMin(),j=this._valueMin()+k*x,this._trimAlignValue(j)},_start:function(u,p){var g={handle:this.handles[p],value:this.value()};return this.options.values&&this.options.values.length&&(g.value=this.values(p),g.values=this.values()),this._trigger("start",u,g)},_slide:function(u,p,g){var k,x,j;this.options.values&&this.options.values.length?(k=this.values(p?0:1),this.options.values.length===2&&this.options.range===!0&&(p===0&&g>k||p===1&&k>g)&&(g=k),g!==this.values(p)&&(x=this.values(),x[p]=g,j=this._trigger("slide",u,{handle:this.handles[p],value:g,values:x}),k=this.values(p?0:1),j!==!1&&this.values(p,g))):g!==this.value()&&(j=this._trigger("slide",u,{handle:this.handles[p],value:g}),j!==!1&&this.value(g))},_stop:function(u,p){var g={handle:this.handles[p],value:this.value()};this.options.values&&this.options.values.length&&(g.value=this.values(p),g.values=this.values()),this._trigger("stop",u,g)},_change:function(u,p){if(!this._keySliding&&!this._mouseSliding){var g={handle:this.handles[p],value:this.value()};this.options.values&&this.options.values.length&&(g.value=this.values(p),g.values=this.values()),this._lastChangedValue=p,this._trigger("change",u,g)}},value:function(u){return arguments.length?(this.options.value=this._trimAlignValue(u),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(u,p){var g,k,x;if(arguments.length>1)return this.options.values[u]=this._trimAlignValue(p),this._refreshValue(),this._change(null,u),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(u):this.value();for(g=this.options.values,k=arguments[0],x=0;g.length>x;x+=1)g[x]=this._trimAlignValue(k[x]),this._change(null,x);this._refreshValue()},_setOption:function(u,p){var g,k=0;switch(u==="range"&&this.options.range===!0&&(p==="min"?(this.options.value=this._values(0),this.options.values=null):p==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(k=this.options.values.length),u==="disabled"&&this.element.toggleClass("ui-state-disabled",!!p),this._super(u,p),u){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css(p==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),g=0;k>g;g+=1)this._change(null,g);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var u=this.options.value;return u=this._trimAlignValue(u)},_values:function(u){var p,g,k;if(arguments.length)return p=this.options.values[u],p=this._trimAlignValue(p);if(this.options.values&&this.options.values.length){for(g=this.options.values.slice(),k=0;g.length>k;k+=1)g[k]=this._trimAlignValue(g[k]);return g}return[]},_trimAlignValue:function(u){if(this._valueMin()>=u)return this._valueMin();if(u>=this._valueMax())return this._valueMax();var p=this.options.step>0?this.options.step:1,g=(u-this._valueMin())%p,k=u-g;return 2*Math.abs(g)>=p&&(k+=g>0?p:-p),parseFloat(k.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var u,p,g,k,x,j=this.options.range,L=this.options,D=this,F=this._animateOff?!1:L.animate,X={};this.options.values&&this.options.values.length?this.handles.each(function(Q){p=100*((D.values(Q)-D._valueMin())/(D._valueMax()-D._valueMin())),X[D.orientation==="horizontal"?"left":"bottom"]=p+"%",t(this).stop(1,1)[F?"animate":"css"](X,L.animate),D.options.range===!0&&(D.orientation==="horizontal"?(Q===0&&D.range.stop(1,1)[F?"animate":"css"]({left:p+"%"},L.animate),Q===1&&D.range[F?"animate":"css"]({width:p-u+"%"},{queue:!1,duration:L.animate})):(Q===0&&D.range.stop(1,1)[F?"animate":"css"]({bottom:p+"%"},L.animate),Q===1&&D.range[F?"animate":"css"]({height:p-u+"%"},{queue:!1,duration:L.animate}))),u=p}):(g=this.value(),k=this._valueMin(),x=this._valueMax(),p=x!==k?100*((g-k)/(x-k)):0,X[this.orientation==="horizontal"?"left":"bottom"]=p+"%",this.handle.stop(1,1)[F?"animate":"css"](X,L.animate),j==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[F?"animate":"css"]({width:p+"%"},L.animate),j==="max"&&this.orientation==="horizontal"&&this.range[F?"animate":"css"]({width:100-p+"%"},{queue:!1,duration:L.animate}),j==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[F?"animate":"css"]({height:p+"%"},L.animate),j==="max"&&this.orientation==="vertical"&&this.range[F?"animate":"css"]({height:100-p+"%"},{queue:!1,duration:L.animate}))},_handleEvents:{keydown:function(u){var p,g,k,x,j=t(u.target).data("ui-slider-handle-index");switch(u.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(u.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(u.target).addClass("ui-state-active"),p=this._start(u,j),p===!1))return}switch(x=this.options.step,g=k=this.options.values&&this.options.values.length?this.values(j):this.value(),u.keyCode){case t.ui.keyCode.HOME:k=this._valueMin();break;case t.ui.keyCode.END:k=this._valueMax();break;case t.ui.keyCode.PAGE_UP:k=this._trimAlignValue(g+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:k=this._trimAlignValue(g-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(g===this._valueMax())return;k=this._trimAlignValue(g+x);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(g===this._valueMin())return;k=this._trimAlignValue(g-x)}this._slide(u,j,k)},keyup:function(u){var p=t(u.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(u,p),this._change(u,p),t(u.target).removeClass("ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(u,p,g){return u>=p&&p+g>u},_isFloating:function(u){return/left|right/.test(u.css("float"))||/inline|table-cell/.test(u.css("display"))},_create:function(){var u=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?u.axis==="x"||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(u,p){this._super(u,p),u==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var u=this.items.length-1;u>=0;u--)this.items[u].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(u,p){var g=null,k=!1,x=this;return this.reverting||this.options.disabled||this.options.type==="static"?!1:(this._refreshItems(u),t(u.target).parents().each(function(){return t.data(this,x.widgetName+"-item")===x?(g=t(this),!1):void 0}),t.data(u.target,x.widgetName+"-item")===x&&(g=t(u.target)),g&&(!this.options.handle||p||(t(this.options.handle,g).find("*").addBack().each(function(){this===u.target&&(k=!0)}),k))?(this.currentItem=g,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(u,p,g){var k,x,j=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(u),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:u.pageX-this.offset.left,top:u.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(u),this.originalPageX=u.pageX,this.originalPageY=u.pageY,j.cursorAt&&this._adjustOffsetFromHelper(j.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),j.containment&&this._setContainment(),j.cursor&&j.cursor!=="auto"&&(x=this.document.find("body"),this.storedCursor=x.css("cursor"),x.css("cursor",j.cursor),this.storedStylesheet=t("<style>*{ cursor: "+j.cursor+" !important; }</style>").appendTo(x)),j.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",j.opacity)),j.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",j.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",u,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!g)for(k=this.containers.length-1;k>=0;k--)this.containers[k]._trigger("activate",u,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!j.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,u),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(u),!0},_mouseDrag:function(u){var p,g,k,x,j=this.options,L=!1;for(this.position=this._generatePosition(u),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-u.pageY<j.scrollSensitivity?this.scrollParent[0].scrollTop=L=this.scrollParent[0].scrollTop+j.scrollSpeed:u.pageY-this.overflowOffset.top<j.scrollSensitivity&&(this.scrollParent[0].scrollTop=L=this.scrollParent[0].scrollTop-j.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-u.pageX<j.scrollSensitivity?this.scrollParent[0].scrollLeft=L=this.scrollParent[0].scrollLeft+j.scrollSpeed:u.pageX-this.overflowOffset.left<j.scrollSensitivity&&(this.scrollParent[0].scrollLeft=L=this.scrollParent[0].scrollLeft-j.scrollSpeed)):(u.pageY-t(document).scrollTop()<j.scrollSensitivity?L=t(document).scrollTop(t(document).scrollTop()-j.scrollSpeed):t(window).height()-(u.pageY-t(document).scrollTop())<j.scrollSensitivity&&(L=t(document).scrollTop(t(document).scrollTop()+j.scrollSpeed)),u.pageX-t(document).scrollLeft()<j.scrollSensitivity?L=t(document).scrollLeft(t(document).scrollLeft()-j.scrollSpeed):t(window).width()-(u.pageX-t(document).scrollLeft())<j.scrollSensitivity&&(L=t(document).scrollLeft(t(document).scrollLeft()+j.scrollSpeed))),L!==!1&&t.ui.ddmanager&&!j.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,u)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),p=this.items.length-1;p>=0;p--)if(g=this.items[p],k=g.item[0],x=this._intersectsWithPointer(g),x&&g.instance===this.currentContainer&&k!==this.currentItem[0]&&this.placeholder[x===1?"next":"prev"]()[0]!==k&&!t.contains(this.placeholder[0],k)&&(this.options.type==="semi-dynamic"?!t.contains(this.element[0],k):!0)){if(this.direction=x===1?"down":"up",this.options.tolerance!=="pointer"&&!this._intersectsWithSides(g))break;this._rearrange(u,g),this._trigger("change",u,this._uiHash());break}return this._contactContainers(u),t.ui.ddmanager&&t.ui.ddmanager.drag(this,u),this._trigger("sort",u,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(u,p){if(u){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,u),this.options.revert){var g=this,k=this.placeholder.offset(),x=this.options.axis,j={};x&&x!=="x"||(j.left=k.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),x&&x!=="y"||(j.top=k.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(j,parseInt(this.options.revert,10)||500,function(){g._clear(u)})}else this._clear(u,p);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var u=this.containers.length-1;u>=0;u--)this.containers[u]._trigger("deactivate",null,this._uiHash(this)),this.containers[u].containerCache.over&&(this.containers[u]._trigger("out",null,this._uiHash(this)),this.containers[u].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(u){var p=this._getItemsAsjQuery(u&&u.connected),g=[];return u=u||{},t(p).each(function(){var k=(t(u.item||this).attr(u.attribute||"id")||"").match(u.expression||/(.+)[\-=_](.+)/);k&&g.push((u.key||k[1]+"[]")+"="+(u.key&&u.expression?k[1]:k[2]))}),!g.length&&u.key&&g.push(u.key+"="),g.join("&")},toArray:function(u){var p=this._getItemsAsjQuery(u&&u.connected),g=[];return u=u||{},p.each(function(){g.push(t(u.item||this).attr(u.attribute||"id")||"")}),g},_intersectsWith:function(u){var p=this.positionAbs.left,g=p+this.helperProportions.width,k=this.positionAbs.top,x=k+this.helperProportions.height,j=u.left,L=j+u.width,D=u.top,F=D+u.height,X=this.offset.click.top,Q=this.offset.click.left,H=this.options.axis==="x"||k+X>D&&F>k+X,ce=this.options.axis==="y"||p+Q>j&&L>p+Q,ne=H&&ce;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>u[this.floating?"width":"height"]?ne:p+this.helperProportions.width/2>j&&L>g-this.helperProportions.width/2&&k+this.helperProportions.height/2>D&&F>x-this.helperProportions.height/2},_intersectsWithPointer:function(u){var p=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,u.top,u.height),g=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,u.left,u.width),k=p&&g,x=this._getDragVerticalDirection(),j=this._getDragHorizontalDirection();return k?this.floating?j&&j==="right"||x==="down"?2:1:x&&(x==="down"?2:1):!1},_intersectsWithSides:function(u){var p=this._isOverAxis(this.positionAbs.top+this.offset.click.top,u.top+u.height/2,u.height),g=this._isOverAxis(this.positionAbs.left+this.offset.click.left,u.left+u.width/2,u.width),k=this._getDragVerticalDirection(),x=this._getDragHorizontalDirection();return this.floating&&x?x==="right"&&g||x==="left"&&!g:k&&(k==="down"&&p||k==="up"&&!p)},_getDragVerticalDirection:function(){var u=this.positionAbs.top-this.lastPositionAbs.top;return u!==0&&(u>0?"down":"up")},_getDragHorizontalDirection:function(){var u=this.positionAbs.left-this.lastPositionAbs.left;return u!==0&&(u>0?"right":"left")},refresh:function(u){return this._refreshItems(u),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var u=this.options;return u.connectWith.constructor===String?[u.connectWith]:u.connectWith},_getItemsAsjQuery:function(u){var p=function(){L.push(this)},g,k,x,j,L=[],D=[],F=this._connectWith();if(F&&u)for(g=F.length-1;g>=0;g--)for(x=t(F[g]),k=x.length-1;k>=0;k--)j=t.data(x[k],this.widgetFullName),j&&j!==this&&!j.options.disabled&&D.push([t.isFunction(j.options.items)?j.options.items.call(j.element):t(j.options.items,j.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),j]);for(D.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),g=D.length-1;g>=0;g--)D[g][0].each(p);return t(L)},_removeCurrentsFromItems:function(){var u=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(p){for(var g=0;u.length>g;g++)if(u[g]===p.item[0])return!1;return!0})},_refreshItems:function(u){this.items=[],this.containers=[this];var p,g,k,x,j,L,D,F,X=this.items,Q=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],u,{item:this.currentItem}):t(this.options.items,this.element),this]],H=this._connectWith();if(H&&this.ready)for(p=H.length-1;p>=0;p--)for(k=t(H[p]),g=k.length-1;g>=0;g--)x=t.data(k[g],this.widgetFullName),x&&x!==this&&!x.options.disabled&&(Q.push([t.isFunction(x.options.items)?x.options.items.call(x.element[0],u,{item:this.currentItem}):t(x.options.items,x.element),x]),this.containers.push(x));for(p=Q.length-1;p>=0;p--)for(j=Q[p][1],L=Q[p][0],g=0,F=L.length;F>g;g++)D=t(L[g]),D.data(this.widgetName+"-item",j),X.push({item:D,instance:j,width:0,height:0,left:0,top:0})},refreshPositions:function(u){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var p,g,k,x;for(p=this.items.length-1;p>=0;p--)g=this.items[p],g.instance!==this.currentContainer&&this.currentContainer&&g.item[0]!==this.currentItem[0]||(k=this.options.toleranceElement?t(this.options.toleranceElement,g.item):g.item,u||(g.width=k.outerWidth(),g.height=k.outerHeight()),x=k.offset(),g.left=x.left,g.top=x.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(p=this.containers.length-1;p>=0;p--)x=this.containers[p].element.offset(),this.containers[p].containerCache.left=x.left,this.containers[p].containerCache.top=x.top,this.containers[p].containerCache.width=this.containers[p].element.outerWidth(),this.containers[p].containerCache.height=this.containers[p].element.outerHeight();return this},_createPlaceholder:function(u){u=u||this;var p,g=u.options;g.placeholder&&g.placeholder.constructor!==String||(p=g.placeholder,g.placeholder={element:function(){var x=u.currentItem[0].nodeName.toLowerCase(),j=t("<"+x+">",u.document[0]).addClass(p||u.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return x==="tr"?u.currentItem.children().each(function(){t("<td>&#160;</td>",u.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(j)}):x==="img"&&j.attr("src",u.currentItem.attr("src")),p||j.css("visibility","hidden"),j},update:function(x,j){(!p||g.forcePlaceholderSize)&&(j.height()||j.height(u.currentItem.innerHeight()-parseInt(u.currentItem.css("paddingTop")||0,10)-parseInt(u.currentItem.css("paddingBottom")||0,10)),j.width()||j.width(u.currentItem.innerWidth()-parseInt(u.currentItem.css("paddingLeft")||0,10)-parseInt(u.currentItem.css("paddingRight")||0,10)))}}),u.placeholder=t(g.placeholder.element.call(u.element,u.currentItem)),u.currentItem.after(u.placeholder),g.placeholder.update(u,u.placeholder)},_contactContainers:function(u){var p,g,k,x,j,L,D,F,X,Q,H=null,ce=null;for(p=this.containers.length-1;p>=0;p--)if(!t.contains(this.currentItem[0],this.containers[p].element[0]))if(this._intersectsWith(this.containers[p].containerCache)){if(H&&t.contains(this.containers[p].element[0],H.element[0]))continue;H=this.containers[p],ce=p}else this.containers[p].containerCache.over&&(this.containers[p]._trigger("out",u,this._uiHash(this)),this.containers[p].containerCache.over=0);if(H)if(this.containers.length===1)this.containers[ce].containerCache.over||(this.containers[ce]._trigger("over",u,this._uiHash(this)),this.containers[ce].containerCache.over=1);else{for(k=1e4,x=null,X=H.floating||this._isFloating(this.currentItem),j=X?"left":"top",L=X?"width":"height",Q=X?"clientX":"clientY",g=this.items.length-1;g>=0;g--)t.contains(this.containers[ce].element[0],this.items[g].item[0])&&this.items[g].item[0]!==this.currentItem[0]&&(D=this.items[g].item.offset()[j],F=!1,u[Q]-D>this.items[g][L]/2&&(F=!0),k>Math.abs(u[Q]-D)&&(k=Math.abs(u[Q]-D),x=this.items[g],this.direction=F?"up":"down"));if(!x&&!this.options.dropOnEmpty||this.currentContainer===this.containers[ce])return;x?this._rearrange(u,x,null,!0):this._rearrange(u,null,this.containers[ce].element,!0),this._trigger("change",u,this._uiHash()),this.containers[ce]._trigger("change",u,this._uiHash(this)),this.currentContainer=this.containers[ce],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[ce]._trigger("over",u,this._uiHash(this)),this.containers[ce].containerCache.over=1}},_createHelper:function(u){var p=this.options,g=t.isFunction(p.helper)?t(p.helper.apply(this.element[0],[u,this.currentItem])):p.helper==="clone"?this.currentItem.clone():this.currentItem;return g.parents("body").length||t(p.appendTo!=="parent"?p.appendTo:this.currentItem[0].parentNode)[0].appendChild(g[0]),g[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!g[0].style.width||p.forceHelperSize)&&g.width(this.currentItem.width()),(!g[0].style.height||p.forceHelperSize)&&g.height(this.currentItem.height()),g},_adjustOffsetFromHelper:function(u){typeof u=="string"&&(u=u.split(" ")),t.isArray(u)&&(u={left:+u[0],top:+u[1]||0}),"left"in u&&(this.offset.click.left=u.left+this.margins.left),"right"in u&&(this.offset.click.left=this.helperProportions.width-u.right+this.margins.left),"top"in u&&(this.offset.click.top=u.top+this.margins.top),"bottom"in u&&(this.offset.click.top=this.helperProportions.height-u.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var u=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(u.left+=this.scrollParent.scrollLeft(),u.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&t.ui.ie)&&(u={top:0,left:0}),{top:u.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:u.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var u=this.currentItem.position();return{top:u.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:u.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var u,p,g,k=this.options;k.containment==="parent"&&(k.containment=this.helper[0].parentNode),(k.containment==="document"||k.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t(k.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(t(k.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(k.containment)||(u=t(k.containment)[0],p=t(k.containment).offset(),g=t(u).css("overflow")!=="hidden",this.containment=[p.left+(parseInt(t(u).css("borderLeftWidth"),10)||0)+(parseInt(t(u).css("paddingLeft"),10)||0)-this.margins.left,p.top+(parseInt(t(u).css("borderTopWidth"),10)||0)+(parseInt(t(u).css("paddingTop"),10)||0)-this.margins.top,p.left+(g?Math.max(u.scrollWidth,u.offsetWidth):u.offsetWidth)-(parseInt(t(u).css("borderLeftWidth"),10)||0)-(parseInt(t(u).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,p.top+(g?Math.max(u.scrollHeight,u.offsetHeight):u.offsetHeight)-(parseInt(t(u).css("borderTopWidth"),10)||0)-(parseInt(t(u).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(u,p){p||(p=this.position);var g=u==="absolute"?1:-1,k=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,x=/(html|body)/i.test(k[0].tagName);return{top:p.top+this.offset.relative.top*g+this.offset.parent.top*g-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():x?0:k.scrollTop())*g,left:p.left+this.offset.relative.left*g+this.offset.parent.left*g-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():x?0:k.scrollLeft())*g}},_generatePosition:function(u){var p,g,k=this.options,x=u.pageX,j=u.pageY,L=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,D=/(html|body)/i.test(L[0].tagName);return this.cssPosition!=="relative"||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(u.pageX-this.offset.click.left<this.containment[0]&&(x=this.containment[0]+this.offset.click.left),u.pageY-this.offset.click.top<this.containment[1]&&(j=this.containment[1]+this.offset.click.top),u.pageX-this.offset.click.left>this.containment[2]&&(x=this.containment[2]+this.offset.click.left),u.pageY-this.offset.click.top>this.containment[3]&&(j=this.containment[3]+this.offset.click.top)),k.grid&&(p=this.originalPageY+Math.round((j-this.originalPageY)/k.grid[1])*k.grid[1],j=this.containment?p-this.offset.click.top>=this.containment[1]&&p-this.offset.click.top<=this.containment[3]?p:p-this.offset.click.top>=this.containment[1]?p-k.grid[1]:p+k.grid[1]:p,g=this.originalPageX+Math.round((x-this.originalPageX)/k.grid[0])*k.grid[0],x=this.containment?g-this.offset.click.left>=this.containment[0]&&g-this.offset.click.left<=this.containment[2]?g:g-this.offset.click.left>=this.containment[0]?g-k.grid[0]:g+k.grid[0]:g)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():D?0:L.scrollTop()),left:x-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():D?0:L.scrollLeft())}},_rearrange:function(u,p,g,k){g?g[0].appendChild(this.placeholder[0]):p.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?p.item[0]:p.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var x=this.counter;this._delay(function(){x===this.counter&&this.refreshPositions(!k)})},_clear:function(u,p){var g=function(L,D,F){return function(X){F._trigger(L,X,D._uiHash(D))}};this.reverting=!1;var k,x=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(k in this._storedCSS)(this._storedCSS[k]==="auto"||this._storedCSS[k]==="static")&&(this._storedCSS[k]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!p&&x.push(function(j){this._trigger("receive",j,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||p||x.push(function(j){this._trigger("update",j,this._uiHash())}),this!==this.currentContainer&&(p||(x.push(function(j){this._trigger("remove",j,this._uiHash())}),x.push(function(j){return function(L){j._trigger("receive",L,this._uiHash(this))}}.call(this,this.currentContainer)),x.push(function(j){return function(L){j._trigger("update",L,this._uiHash(this))}}.call(this,this.currentContainer)))),k=this.containers.length-1;k>=0;k--)p||x.push(g("deactivate",this,this.containers[k])),this.containers[k].containerCache.over&&(x.push(g("out",this,this.containers[k])),this.containers[k].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!p){for(this._trigger("beforeStop",u,this._uiHash()),k=0;x.length>k;k++)x[k].call(this,u);this._trigger("stop",u,this._uiHash())}return this.fromOutside=!1,!1}if(p||this._trigger("beforeStop",u,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!p){for(k=0;x.length>k;k++)x[k].call(this,u);this._trigger("stop",u,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(u){var p=u||this;return{helper:p.helper,placeholder:p.placeholder||t([]),position:p.position,originalPosition:p.originalPosition,offset:p.positionAbs,item:p.currentItem,sender:u?u.element:null}}}),t.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this.value()!==""&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var u={},p=this.element;return t.each(["min","max","step"],function(g,k){var x=p.attr(k);x!==void 0&&x.length&&(u[k]=x)}),u},_events:{keydown:function(u){this._start(u)&&this._keydown(u)&&u.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(u){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",u),void 0)},mousewheel:function(u,p){if(p){if(!this.spinning&&!this._start(u))return!1;this._spin((p>0?1:-1)*this.options.step,u),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(u)},100),u.preventDefault()}},"mousedown .ui-spinner-button":function(y){var u=function(){var k=this.element[0]===this.document[0].activeElement;k||(this.element.focus(),this.previous=p,this._delay(function(){this.previous=p}))},p;p=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),y.preventDefault(),u.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,u.call(this)}),this._start(y)!==!1&&this._repeat(null,t(y.currentTarget).hasClass("ui-spinner-up")?1:-1,y)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(y){return t(y.currentTarget).hasClass("ui-state-active")?this._start(y)===!1?!1:(this._repeat(null,t(y.currentTarget).hasClass("ui-spinner-up")?1:-1,y),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var u=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=u.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*u.height())&&u.height()>0&&u.height(u.height()),this.options.disabled&&this.disable()},_keydown:function(u){var p=this.options,g=t.ui.keyCode;switch(u.keyCode){case g.UP:return this._repeat(null,1,u),!0;case g.DOWN:return this._repeat(null,-1,u),!0;case g.PAGE_UP:return this._repeat(null,p.page,u),!0;case g.PAGE_DOWN:return this._repeat(null,-p.page,u),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(u){return this.spinning||this._trigger("start",u)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(u,p,g){u=u||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,p,g)},u),this._spin(p*this.options.step,g)},_spin:function(u,p){var g=this.value()||0;this.counter||(this.counter=1),g=this._adjustValue(g+u*this._increment(this.counter)),this.spinning&&this._trigger("spin",p,{value:g})===!1||(this._value(g),this.counter++)},_increment:function(u){var p=this.options.incremental;return p?t.isFunction(p)?p(u):Math.floor(u*u*u/5e4-u*u/500+17*u/200+1):1},_precision:function(){var u=this._precisionOf(this.options.step);return this.options.min!==null&&(u=Math.max(u,this._precisionOf(this.options.min))),u},_precisionOf:function(u){var p=""+u,g=p.indexOf(".");return g===-1?0:p.length-g-1},_adjustValue:function(u){var p,g,k=this.options;return p=k.min!==null?k.min:0,g=u-p,g=Math.round(g/k.step)*k.step,u=p+g,u=parseFloat(u.toFixed(this._precision())),k.max!==null&&u>k.max?k.max:k.min!==null&&k.min>u?k.min:u},_stop:function(u){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",u))},_setOption:function(u,p){if(u==="culture"||u==="numberFormat"){var g=this._parse(this.element.val());return this.options[u]=p,this.element.val(this._format(g)),void 0}(u==="max"||u==="min"||u==="step")&&typeof p=="string"&&(p=this._parse(p)),u==="icons"&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(p.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(p.down)),this._super(u,p),u==="disabled"&&(this.widget().toggleClass("ui-state-disabled",!!p),this.element.prop("disabled",!!p),this.buttons.button(p?"disable":"enable"))},_setOptions:c(function(y){this._super(y)}),_parse:function(u){return typeof u=="string"&&u!==""&&(u=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(u,10,this.options.culture):+u),u===""||isNaN(u)?null:u},_format:function(u){return u===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(u,this.options.numberFormat,this.options.culture):u},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var u=this.value();return u===null?!1:u===this._adjustValue(u)},_value:function(u,p){var g;u!==""&&(g=this._parse(u),g!==null&&(p||(g=this._adjustValue(g)),u=this._format(g))),this.element.val(u),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:c(function(y){this._stepUp(y)}),_stepUp:function(u){this._start()&&(this._spin((u||1)*this.options.step),this._stop())},stepDown:c(function(y){this._stepDown(y)}),_stepDown:function(u){this._start()&&(this._spin((u||1)*-this.options.step),this._stop())},pageUp:c(function(y){this._stepUp((y||1)*this.options.page)}),pageDown:c(function(y){this._stepDown((y||1)*this.options.page)}),value:function(u){return arguments.length?(c(this._value).call(this,u),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var y=/#.*$/;return function(u){var p,g;u=u.cloneNode(!1),p=u.href.replace(y,""),g=location.href.replace(y,"");try{p=decodeURIComponent(p)}catch(k){}try{g=decodeURIComponent(g)}catch(k){}return u.hash.length>1&&p===g}}(),_create:function(){var u=this,p=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",p.collapsible),this._processTabs(),p.active=this._initialActive(),t.isArray(p.disabled)&&(p.disabled=t.unique(p.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(g){return u.tabs.index(g)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(p.active):t(),this._refresh(),this.active.length&&this.load(p.active)},_initialActive:function(){var u=this.options.active,p=this.options.collapsible,g=location.hash.substring(1);return u===null&&(g&&this.tabs.each(function(k,x){return t(x).attr("aria-controls")===g?(u=k,!1):void 0}),u===null&&(u=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(u===null||u===-1)&&(u=this.tabs.length?0:!1)),u!==!1&&(u=this.tabs.index(this.tabs.eq(u)),u===-1&&(u=p?!1:0)),!p&&u===!1&&this.anchors.length&&(u=0),u},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(u){var p=t(this.document[0].activeElement).closest("li"),g=this.tabs.index(p),k=!0;if(!this._handlePageNav(u)){switch(u.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:g++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:k=!1,g--;break;case t.ui.keyCode.END:g=this.anchors.length-1;break;case t.ui.keyCode.HOME:g=0;break;case t.ui.keyCode.SPACE:return u.preventDefault(),clearTimeout(this.activating),this._activate(g),void 0;case t.ui.keyCode.ENTER:return u.preventDefault(),clearTimeout(this.activating),this._activate(g===this.options.active?!1:g),void 0;default:return}u.preventDefault(),clearTimeout(this.activating),g=this._focusNextTab(g,k),u.ctrlKey||(p.attr("aria-selected","false"),this.tabs.eq(g).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",g)},this.delay))}},_panelKeydown:function(u){this._handlePageNav(u)||u.ctrlKey&&u.keyCode===t.ui.keyCode.UP&&(u.preventDefault(),this.active.focus())},_handlePageNav:function(u){return u.altKey&&u.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):u.altKey&&u.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(u,p){for(var g=function(){return u>k&&(u=0),0>u&&(u=k),u},k=this.tabs.length-1;t.inArray(g(),this.options.disabled)!==-1;)u=p?u+1:u-1;return u},_focusNextTab:function(u,p){return u=this._findNextTab(u,p),this.tabs.eq(u).focus(),u},_setOption:function(u,p){return u==="active"?(this._activate(p),void 0):u==="disabled"?(this._setupDisabled(p),void 0):(this._super(u,p),u==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",p),p||this.options.active!==!1||this._activate(0)),u==="event"&&this._setupEvents(p),u==="heightStyle"&&this._setupHeightStyle(p),void 0)},_sanitizeSelector:function(u){return u?u.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var u=this.options,p=this.tablist.children(":has(a[href])");u.disabled=t.map(p.filter(".ui-state-disabled"),function(g){return p.index(g)}),this._processTabs(),u.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===u.disabled.length?(u.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,u.active-1),!1)):u.active=this.tabs.index(this.active):(u.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var u=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(p){t(this).is(".ui-state-disabled")&&p.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(p,g){var k,x,j,L=t(g).uniqueId().attr("id"),D=t(g).closest("li"),F=D.attr("aria-controls");u._isLocal(g)?(k=g.hash,j=k.substring(1),x=u.element.find(u._sanitizeSelector(k))):(j=D.attr("aria-controls")||t({}).uniqueId()[0].id,k="#"+j,x=u.element.find(k),x.length||(x=u._createPanel(j),x.insertAfter(u.panels[p-1]||u.tablist)),x.attr("aria-live","polite")),x.length&&(u.panels=u.panels.add(x)),F&&D.data("ui-tabs-aria-controls",F),D.attr({"aria-controls":j,"aria-labelledby":L}),x.attr("aria-labelledby",L)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(u){return t("<div>").attr("id",u).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(u){t.isArray(u)&&(u.length?u.length===this.anchors.length&&(u=!0):u=!1);for(var p,g=0;p=this.tabs[g];g++)u===!0||t.inArray(g,u)!==-1?t(p).addClass("ui-state-disabled").attr("aria-disabled","true"):t(p).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=u},_setupEvents:function(u){var p={};u&&t.each(u.split(" "),function(g,k){p[k]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(k){k.preventDefault()}}),this._on(this.anchors,p),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(u){var p,g=this.element.parent();u==="fill"?(p=g.height(),p-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var k=t(this),x=k.css("position");x!=="absolute"&&x!=="fixed"&&(p-=k.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){p-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,p-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):u==="auto"&&(p=0,this.panels.each(function(){p=Math.max(p,t(this).height("").height())}).height(p))},_eventHandler:function(u){var p=this.options,g=this.active,k=t(u.currentTarget),x=k.closest("li"),j=x[0]===g[0],L=j&&p.collapsible,D=L?t():this._getPanelForTab(x),F=g.length?this._getPanelForTab(g):t(),X={oldTab:g,oldPanel:F,newTab:L?t():x,newPanel:D};u.preventDefault(),x.hasClass("ui-state-disabled")||x.hasClass("ui-tabs-loading")||this.running||j&&!p.collapsible||this._trigger("beforeActivate",u,X)===!1||(p.active=L?!1:this.tabs.index(x),this.active=j?t():x,this.xhr&&this.xhr.abort(),F.length||D.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),D.length&&this.load(this.tabs.index(x),u),this._toggle(u,X))},_toggle:function(u,p){var g=function(){x.running=!1,x._trigger("activate",u,p)},k=function(){p.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),j.length&&x.options.show?x._show(j,x.options.show,g):(j.show(),g())},x=this,j=p.newPanel,L=p.oldPanel;this.running=!0,L.length&&this.options.hide?this._hide(L,this.options.hide,function(){p.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),k()}):(p.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),L.hide(),k()),L.attr("aria-hidden","true"),p.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),j.length&&L.length?p.oldTab.attr("tabIndex",-1):j.length&&this.tabs.filter(function(){return t(this).attr("tabIndex")===0}).attr("tabIndex",-1),j.attr("aria-hidden","false"),p.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(u){var p,g=this._findActive(u);g[0]!==this.active[0]&&(g.length||(g=this.active),p=g.find(".ui-tabs-anchor")[0],this._eventHandler({target:p,currentTarget:p,preventDefault:t.noop}))},_findActive:function(u){return u===!1?t():this.tabs.eq(u)},_getIndex:function(u){return typeof u=="string"&&(u=this.anchors.index(this.anchors.filter("[href$='"+u+"']"))),u},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var u=t(this),p=u.data("ui-tabs-aria-controls");p?u.attr("aria-controls",p).removeData("ui-tabs-aria-controls"):u.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(u){var p=this.options.disabled;p!==!1&&(u===void 0?p=!1:(u=this._getIndex(u),p=t.isArray(p)?t.map(p,function(g){return g!==u?g:null}):t.map(this.tabs,function(g,k){return k!==u?k:null})),this._setupDisabled(p))},disable:function(u){var p=this.options.disabled;if(p!==!0){if(u===void 0)p=!0;else{if(u=this._getIndex(u),t.inArray(u,p)!==-1)return;p=t.isArray(p)?t.merge([u],p).sort():[u]}this._setupDisabled(p)}},load:function(u,p){u=this._getIndex(u);var g=this,k=this.tabs.eq(u),x=k.find(".ui-tabs-anchor"),j=this._getPanelForTab(k),L={tab:k,panel:j};this._isLocal(x[0])||(this.xhr=t.ajax(this._ajaxSettings(x,p,L)),this.xhr&&this.xhr.statusText!=="canceled"&&(k.addClass("ui-tabs-loading"),j.attr("aria-busy","true"),this.xhr.success(function(D){setTimeout(function(){j.html(D),g._trigger("load",p,L)},1)}).complete(function(D,F){setTimeout(function(){F==="abort"&&g.panels.stop(!1,!0),k.removeClass("ui-tabs-loading"),j.removeAttr("aria-busy"),D===g.xhr&&delete g.xhr},1)})))},_ajaxSettings:function(u,p,g){var k=this;return{url:u.attr("href"),beforeSend:function(j,L){return k._trigger("beforeLoad",p,t.extend({jqXHR:j,ajaxSettings:L},g))}}},_getPanelForTab:function(u){var p=t(u).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+p))}}),t.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var u=t(this).attr("title")||"";return t("<a>").text(u).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(u,p){var g=(u.attr("aria-describedby")||"").split(/\s+/);g.push(p),u.data("ui-tooltip-id",p).attr("aria-describedby",t.trim(g.join(" ")))},_removeDescribedBy:function(u){var p=u.data("ui-tooltip-id"),g=(u.attr("aria-describedby")||"").split(/\s+/),k=t.inArray(p,g);k!==-1&&g.splice(k,1),u.removeData("ui-tooltip-id"),g=t.trim(g.join(" ")),g?u.attr("aria-describedby",g):u.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(u,p){var g=this;return u==="disabled"?(this[p?"_disable":"_enable"](),this.options[u]=p,void 0):(this._super(u,p),u==="content"&&t.each(this.tooltips,function(k,x){g._updateContent(x)}),void 0)},_disable:function(){var u=this;t.each(this.tooltips,function(p,g){var k=t.Event("blur");k.target=k.currentTarget=g[0],u.close(k,!0)}),this.element.find(this.options.items).addBack().each(function(){var p=t(this);p.is("[title]")&&p.data("ui-tooltip-title",p.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var u=t(this);u.data("ui-tooltip-title")&&u.attr("title",u.data("ui-tooltip-title"))})},open:function(u){var p=this,g=t(u?u.target:this.element).closest(this.options.items);g.length&&!g.data("ui-tooltip-id")&&(g.attr("title")&&g.data("ui-tooltip-title",g.attr("title")),g.data("ui-tooltip-open",!0),u&&u.type==="mouseover"&&g.parents().each(function(){var k,x=t(this);x.data("ui-tooltip-open")&&(k=t.Event("blur"),k.target=k.currentTarget=this,p.close(k,!0)),x.attr("title")&&(x.uniqueId(),p.parents[this.id]={element:this,title:x.attr("title")},x.attr("title",""))}),this._updateContent(g,u))},_updateContent:function(u,p){var g,k=this.options.content,x=this,j=p?p.type:null;return typeof k=="string"?this._open(p,u,k):(g=k.call(u[0],function(L){u.data("ui-tooltip-open")&&x._delay(function(){p&&(p.type=j),this._open(p,u,L)})}),g&&this._open(p,u,g),void 0)},_open:function(u,p,g){var k=function(Q){F.of=Q,x.is(":hidden")||x.position(F)},x,j,L,D,F=t.extend({},this.options.position);if(g){if(x=this._find(p),x.length)return x.find(".ui-tooltip-content").html(g),void 0;p.is("[title]")&&(u&&u.type==="mouseover"?p.attr("title",""):p.removeAttr("title")),x=this._tooltip(p),this._addDescribedBy(p,x.attr("id")),x.find(".ui-tooltip-content").html(g),this.liveRegion.children().hide(),g.clone?(D=g.clone(),D.removeAttr("id").find("[id]").removeAttr("id")):D=g,t("<div>").html(D).appendTo(this.liveRegion),this.options.track&&u&&/^mouse/.test(u.type)?(this._on(this.document,{mousemove:k}),k(u)):x.position(t.extend({of:p},this.options.position)),this.hiding=!1,this.closing=!1,x.hide(),this._show(x,this.options.show),this.options.show&&this.options.show.delay&&(L=this.delayedShow=setInterval(function(){x.is(":visible")&&(k(F.of),clearInterval(L))},t.fx.interval)),this._trigger("open",u,{tooltip:x}),j={keyup:function(Q){if(Q.keyCode===t.ui.keyCode.ESCAPE){var H=t.Event(Q);H.currentTarget=p[0],this.close(H,!0)}}},p[0]!==this.element[0]&&(j.remove=function(){this._removeTooltip(x)}),u&&u.type!=="mouseover"||(j.mouseleave="close"),u&&u.type!=="focusin"||(j.focusout="close"),this._on(!0,p,j)}},close:function(u){var p=this,g=t(u?u.currentTarget:this.element),k=this._find(g);this.closing||(clearInterval(this.delayedShow),g.data("ui-tooltip-title")&&!g.attr("title")&&g.attr("title",g.data("ui-tooltip-title")),this._removeDescribedBy(g),this.hiding=!0,k.stop(!0),this._hide(k,this.options.hide,function(){p._removeTooltip(t(this)),this.hiding=!1,this.closing=!1}),g.removeData("ui-tooltip-open"),this._off(g,"mouseleave focusout keyup"),g[0]!==this.element[0]&&this._off(g,"remove"),this._off(this.document,"mousemove"),u&&u.type==="mouseleave"&&t.each(this.parents,function(x,j){t(j.element).attr("title",j.title),delete p.parents[x]}),this.closing=!0,this._trigger("close",u,{tooltip:k}),this.hiding||(this.closing=!1))},_tooltip:function(u){var p=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),g=p.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(p),p.appendTo(this.document[0].body),this.tooltips[g]=u,p},_find:function(u){var p=u.data("ui-tooltip-id");return p?t("#"+p):t()},_removeTooltip:function(u){u.remove(),delete this.tooltips[u.attr("id")]},_destroy:function(){var u=this;t.each(this.tooltips,function(p,g){var k=t.Event("blur");k.target=k.currentTarget=g[0],u.close(k,!0),t("#"+p).remove(),g.data("ui-tooltip-title")&&(g.attr("title")||g.attr("title",g.data("ui-tooltip-title")),g.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})})}),hv={},Mx(hv,{default:function(){return pv}}),Rx=cv(dv()),Lx(hv,cv(dv()));var m;Wn=Rx,m=Wn,fv=m.default,Dx=Ai(Wn,["default"]),pv=fv!==void 0?fv:Dx}}),vv={};ai(vv,{default:function(){return pv}});var Bx=Mt({"https-url:https://esm.archive.org/jqueryui@1.11.1/jquery-ui.min.js":function(){$x(),$x()}}),Nx,D1=Mt({"components/search/autocomplete.js":function(){pi(),uo(),Nx=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,null,[{key:"setup",value:function(){Z(".js-search-bar").each(function(){var n=Z(this),o=n.data("autocompleteFormat");o!=="off"&&Promise.resolve().then(function(){return Bx(),vv}).then(function(){var l={minLength:3,source:function(s,r){Z.ajax({url:"https://be-api.us.archive.org/searches/complete",data:{q:s.term,limit:15},dataType:"json",success:r,error:function(d,h,f){yn("".concat(h,": ").concat(f)),r([])}})},open:function(){var s=Z(this).autocomplete("widget"),r=s.offset();r.left<0&&(s.width(s.width()-r.left),s.offset({top:r.top,left:0}))},classes:{"ui-autocomplete":"truncate"}};o==="inline"?(l.appendTo=n.data("autocompleteAppendTo"),l.position={using:Z.noop}):(l.classes["ui-autocomplete"]+=" z-above-top-nav",o==="right"&&(l.position={my:"right top",at:"right bottom"})),n.autocomplete(l)})})}}]),m}()}}),$1=Mt({"components/search/collection-search-submit.js":function(){pi(),Z(function(){var m=Z(".search-form--inside");if(m){var t=function(s){return s?encodeURIComponent(s.trim()).replace(/%20/g,"+"):""},e=function(s,r,c){c&&s.append(r,c)},n=function(s,r,c){return c?"".concat(s?"&":"").concat(r,"=").concat(c):""},o=m.find(".searchlist").val(),l=m.find('[name="sin"]:checked').val(),a=new URLSearchParams(window.location.search.substring(1));m.submit(function(s){s.preventDefault();var r=m.find(".searchlist").val(),c=m.find('[name="sin"]:checked').val(),d=new URLSearchParams;e(d,"query",r),e(d,"sin",c);var h=d.toString();if(o===r&&l===c){var f=!0,v=!1,_=void 0;try{for(var b=a.getAll("and[]")[Symbol.iterator](),w;!(f=(w=b.next()).done);f=!0){var A=w.value;h+=n(h,"and[]",t(A))}}catch(P){v=!0,_=P}finally{try{!f&&b.return!=null&&b.return()}finally{if(v)throw _}}}var E=a.get("sort");h+=n(h,"sort",t(E)),h&&(h="?".concat(h));var O=window.location;window.location="".concat(O.origin).concat(O.pathname).concat(h)})}})}}),B1=Mt({"components/util/onchange.js":function(){pi()}}),N1=Mt({"components/util/onsubmit.js":function(){pi()}}),z1=Mt({"components/util/debounce.js":function(){}}),$d,zx,Bd,Fx,Hx,Ux,Nd,Vx=Mt({"https-url:https://esm.archive.org/v135/magic-snowflakes@6.3.0/esnext/magic-snowflakes.mjs":function(){$d="",(typeof window=="undefined"?"undefined":_typeof(window))<"u"&&($d=Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join(",").search(/,animation/)>-1?"":"webkit"),zx=(typeof document=="undefined"?"undefined":_typeof(document))<"u"&&"onanimationend"in document,Bd=20,Fx=function(){"use strict";function m(t){var e=this;_classCallCheck(this,m),this.size=0,this.sizeInner=0;var n=this.elem=document.createElement("div"),o=this.elemInner=document.createElement("div");this.update(t),lo(n,"snowflake"),lo(o,"snowflake__inner"),lo(n,"snowflake_animation"),zx?(lo(n,"snowflake_animation-end"),n.onanimationend=function(l){l.target===n&&(e.updateLeft(),e.reflow())}):lo(n,"snowflake_animation-infinity"),t.types&&lo(o,"snowflake__inner_type_"+Jk(0,t.types)),t.wind&&lo(o,"snowflake__inner_wind"),t.rotation&&lo(o,"snowflake__inner_rotation"+(Math.random()>.5?"":"_reverse")),n.appendChild(o)}return _createClass(m,[{key:"getLeft",value:function(){return Math.random()*99+"%"}},{key:"updateLeft",value:function(){this.elem&&js(this.elem,{left:this.getLeft()})}},{key:"update",value:function(e){if(!(!this.elem||!this.elemInner)){var n=e.minSize===e.maxSize;this.sizeInner=n?0:Jk(0,Bd),this.size=Zk(this.sizeInner,e.minSize,e.maxSize);var o=this.getAnimationProps(e),l={animationName:"snowflake_gid_".concat(e.gid,"_y"),animationDelay:o.animationDelay,animationDuration:o.animationDuration,left:this.getLeft(),top:-Math.sqrt(2)*this.size+"px",width:this.size+"px",height:this.size+"px"};n||(l.opacity=String(fp(this.size,e.minSize,e.maxSize,e.minOpacity,e.maxOpacity))),js(this.elem,l);var a="snowflake_gid_".concat(e.gid,"_x_").concat(this.sizeInner);js(this.elemInner,{animationName:a,animationDelay:Math.random()*4+"s"})}}},{key:"reflow",value:function(){this.elem&&(Kk(this.elem),this.elem.offsetHeight,Xk(this.elem))}},{key:"resize",value:function(e){if(this.elem){var n=this.getAnimationProps(e);js(this.elem,{animationDuration:n.animationDuration})}}},{key:"appendTo",value:function(e){this.elem&&e.appendChild(this.elem)}},{key:"destroy",value:function(){this.elem&&(this.elem.onanimationend=null,delete this.elem,delete this.elemInner)}},{key:"getAnimationProps",value:function(e){var n=e.containerHeight/50/e.speed,o=n/3;return{animationDelay:Math.random()*n+"s",animationDuration:fp(this.size,e.minSize,e.maxSize,n,o)+"s"}}}]),m}(),Hx='.snowflake{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;will-change:transform}.snowflake_animation{-webkit-animation:snowflake_unknown 10s linear;animation:snowflake_unknown 10s linear}.snowflake_animation-infinity{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.snowflake__inner,.snowflake__inner:before{bottom:0;left:0;position:absolute;right:0;top:0}.snowflake__inner:before{background-size:100% 100%;content:""}.snowflake__inner_wind{-webkit-animation:snowflake_unknown 2s ease-in-out infinite alternate;animation:snowflake_unknown 2s ease-in-out infinite alternate}.snowflake__inner_rotation:before{-webkit-animation:snowflake_rotation 10s linear infinite;animation:snowflake_rotation 10s linear infinite}.snowflake__inner_rotation_reverse:before{-webkit-animation:snowflake_rotation_reverse 10s linear infinite;animation:snowflake_rotation_reverse 10s linear infinite}@-webkit-keyframes snowflake_rotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes snowflake_rotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes snowflake_rotation_reverse{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}@keyframes snowflake_rotation_reverse{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}.snowflakes{pointer-events:none}.snowflakes_paused .snowflake,.snowflakes_paused .snowflake__inner,.snowflakes_paused .snowflake__inner:before{-webkit-animation-play-state:paused;animation-play-state:paused}.snowflakes_hidden{visibility:hidden}.snowflakes_body{height:1px;left:0;position:fixed;top:0;width:100%}',Ux=".snowflakes_gid_value .snowflake__inner_type_0:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36.283' height='36.283'%3E%3Cpath d='M35.531 17.391h-3.09l.845-1.464a.748.748 0 1 0-1.297-.75l-1.276 2.214H28.61l2.515-4.354a.751.751 0 0 0-.272-1.024.75.75 0 0 0-1.024.274l-2.948 5.104h-2.023a6.751 6.751 0 0 0-2.713-4.684l1.019-1.76 5.896-.002a.75.75 0 0 0 0-1.5l-5.029.002 1.051-1.82 2.557.002a.75.75 0 0 0 0-1.5l-1.689-.002 1.545-2.676a.75.75 0 1 0-1.302-.75l-1.547 2.676-.844-1.463a.749.749 0 1 0-1.297.75l1.278 2.213-1.051 1.818-2.514-4.354a.75.75 0 0 0-1.298.75l2.946 5.104-1.016 1.758a6.692 6.692 0 0 0-2.706-.57 6.74 6.74 0 0 0-2.707.568l-1.013-1.754 2.946-5.105a.75.75 0 0 0-1.298-.75L13.56 8.697l-1.05-1.818 1.278-2.217a.749.749 0 0 0-1.298-.75l-.845 1.465-1.551-2.678a.75.75 0 0 0-1.024-.273.748.748 0 0 0-.274 1.023l1.545 2.678H8.652a.75.75 0 0 0 0 1.5h2.556l1.05 1.818H7.231a.75.75 0 0 0 0 1.5h5.894l1.017 1.762a6.755 6.755 0 0 0-2.712 4.684H9.406l-2.95-5.104a.75.75 0 1 0-1.299.75l2.516 4.354H5.569l-1.277-2.213a.75.75 0 0 0-1.298.75l.845 1.463H.75a.75.75 0 0 0 0 1.5h3.09l-.845 1.465a.747.747 0 0 0 .275 1.022.75.75 0 0 0 .374.103.75.75 0 0 0 .65-.375l1.277-2.215h2.103l-2.516 4.354a.75.75 0 0 0 1.299.75l2.949-5.104h2.024a6.761 6.761 0 0 0 2.712 4.685l-1.017 1.762H7.232a.75.75 0 0 0 0 1.5h5.026l-1.05 1.818H8.651a.75.75 0 0 0 0 1.5h1.69l-1.545 2.676a.75.75 0 0 0 1.299.75l1.546-2.676.846 1.465a.755.755 0 0 0 .65.375.737.737 0 0 0 .375-.103.747.747 0 0 0 .274-1.022l-1.279-2.215 1.05-1.82 2.515 4.354a.75.75 0 0 0 1.299-.75l-2.947-5.104 1.013-1.756a6.72 6.72 0 0 0 5.415 0l1.014 1.756-2.947 5.104a.75.75 0 0 0 1.298.75l2.515-4.354 1.053 1.82-1.277 2.213a.75.75 0 0 0 1.298.75l.844-1.463 1.545 2.678c.141.24.393.375.65.375a.75.75 0 0 0 .649-1.125l-1.548-2.678h1.689a.75.75 0 0 0 0-1.5h-2.557l-1.051-1.82 5.029.002a.75.75 0 0 0 0-1.5l-5.896-.002-1.019-1.76a6.75 6.75 0 0 0 2.711-4.685h2.023l2.947 5.104a.753.753 0 0 0 1.025.273.749.749 0 0 0 .272-1.023l-2.515-4.354h2.104l1.279 2.215a.75.75 0 0 0 .649.375c.127 0 .256-.03.375-.103a.748.748 0 0 0 .273-1.022l-.848-1.465h3.092a.75.75 0 0 0 .003-1.5zm-12.136.75c0 .257-.041.502-.076.75a5.223 5.223 0 0 1-1.943 3.358 5.242 5.242 0 0 1-1.291.766 5.224 5.224 0 0 1-1.949.384 5.157 5.157 0 0 1-3.239-1.15 5.22 5.22 0 0 1-1.943-3.358c-.036-.247-.076-.493-.076-.75s.04-.503.076-.75a5.22 5.22 0 0 1 1.944-3.359c.393-.312.82-.576 1.291-.765a5.219 5.219 0 0 1 1.948-.384c.69 0 1.344.142 1.948.384.471.188.898.454 1.291.765a5.222 5.222 0 0 1 1.943 3.359c.035.247.076.493.076.75z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_1:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32.813' height='32.813'%3E%3Cpath d='M29.106 24.424a.781.781 0 0 1-.781.781h-3.119v3.119a.782.782 0 0 1-1.562 0v-4.682h4.682c.43.001.78.351.78.782zM4.673 9.352h4.682V4.671a.781.781 0 0 0-1.563 0V7.79H4.673a.781.781 0 0 0 0 1.562zM3.708 24.24c0 .431.35.781.781.781H7.61v3.12a.78.78 0 1 0 1.562 0v-4.683H4.489a.782.782 0 0 0-.781.782zM28.923 8.39a.78.78 0 0 0-.781-.781h-3.121V4.488a.781.781 0 0 0-1.562 0v4.684h4.684a.783.783 0 0 0 .78-.782zm3.889 8.017c0 .431-.35.781-.781.781h-3.426l1.876 1.873a.784.784 0 0 1 0 1.107.791.791 0 0 1-.554.228.773.773 0 0 1-.55-.228l-2.979-2.98h-2.995a6.995 6.995 0 0 1-1.728 3.875h5.609a.781.781 0 0 1 0 1.562h-4.666v4.667a.782.782 0 0 1-1.562 0v-5.61a7 7 0 0 1-3.866 1.719v2.995l2.978 2.98c.306.305.306.8 0 1.104a.78.78 0 0 1-1.104 0l-1.874-1.876v3.427a.781.781 0 0 1-1.562 0v-3.427l-1.875 1.876a.78.78 0 1 1-1.105-1.104l2.979-2.98v-2.995a7.016 7.016 0 0 1-3.865-1.717v5.608a.781.781 0 0 1-1.562 0v-4.667H5.535a.781.781 0 0 1 0-1.562h5.607a7.022 7.022 0 0 1-1.728-3.875H6.417l-2.979 2.979a.784.784 0 0 1-1.104 0 .781.781 0 0 1 0-1.106l1.874-1.873H.782a.78.78 0 1 1-.001-1.563h3.426L2.333 13.75a.783.783 0 0 1 1.105-1.106l2.979 2.979h2.995a6.996 6.996 0 0 1 1.72-3.866H5.533a.781.781 0 0 1 0-1.562h4.666V5.528a.781.781 0 0 1 1.562 0v5.599a6.995 6.995 0 0 1 3.865-1.717V6.415l-2.978-2.979a.782.782 0 0 1 1.105-1.105l1.874 1.875V.781a.78.78 0 1 1 1.562 0v3.426l1.875-1.875a.777.777 0 0 1 1.104 0 .78.78 0 0 1 0 1.105l-2.978 2.98v2.996a7.021 7.021 0 0 1 3.866 1.718V5.532a.78.78 0 1 1 1.562 0v4.666h4.666a.78.78 0 1 1 0 1.562h-5.599a7 7 0 0 1 1.718 3.866h2.995l2.979-2.979a.783.783 0 0 1 1.106 1.106l-1.876 1.874h3.427a.777.777 0 0 1 .778.78zm-11.006-.782a5.457 5.457 0 0 0-4.618-4.617c-.257-.037-.514-.079-.781-.079-.268 0-.524.042-.781.079a5.458 5.458 0 0 0-4.618 4.617c-.038.257-.079.514-.079.781s.041.522.079.781a5.455 5.455 0 0 0 4.618 4.616c.257.036.514.079.781.079s.524-.043.781-.079a5.457 5.457 0 0 0 4.618-4.616c.037-.259.079-.515.079-.781s-.043-.524-.079-.781z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_2:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='35.79' height='35.79'%3E%3Cpath d='M7.161 22.223l.026-.047.865.5-.026.047a.503.503 0 0 1-.434.25c-.019 0-.034-.013-.053-.016l-.355-.205a.493.493 0 0 1-.023-.529zM9.969 8.988l2.785.001 1.393-2.414a.502.502 0 0 0-.869-.499l-1.103 1.913-2.208-.001a.5.5 0 1 0 .002 1zm15.854 17.813h-2.785l-1.393 2.411a.499.499 0 0 0 .436.75c.172 0 .34-.09.434-.25l1.104-1.911h2.207c.274 0 .5-.224.5-.5a.505.505 0 0 0-.503-.5zM23.038 8.99h2.785a.5.5 0 0 0 0-1h-2.207l-1.105-1.913a.5.5 0 0 0-.868.5l1.395 2.413zM12.754 26.801H9.967a.5.5 0 0 0 0 1h2.209l1.105 1.912a.496.496 0 0 0 .682.184.5.5 0 0 0 .184-.684l-1.393-2.412zm-7.218-6.309a.502.502 0 0 0 .685-.184l1.391-2.413-1.394-2.413a.5.5 0 0 0-.867.5l1.104 1.913-1.104 1.913a.5.5 0 0 0 .185.684zM30.254 15.3a.505.505 0 0 0-.685.183l-1.392 2.412 1.395 2.414a.501.501 0 0 0 .867-.5l-1.104-1.914 1.104-1.912a.5.5 0 0 0-.185-.683zm3.138 11.542a.501.501 0 0 1-.683.184l-.98-.565-2.137 1.231a.516.516 0 0 1-.5 0l-2.385-1.377a.502.502 0 0 1-.25-.433v-.854h-4.441l-2.225 3.852.736.428c.154.088.25.254.25.432l.001 2.755a.5.5 0 0 1-.25.433l-2.133 1.229v1.136c0 .274-.225.5-.5.5s-.5-.226-.5-.5v-1.136l-2.136-1.23a.5.5 0 0 1-.25-.433l.001-2.755c0-.178.096-.344.25-.432l.738-.427-2.224-3.849H9.332l.002.851a.505.505 0 0 1-.25.435l-2.387 1.377a.5.5 0 0 1-.5 0L4.06 26.46l-.982.567a.5.5 0 0 1-.5-.867l.982-.567.001-2.465c0-.179.097-.344.25-.434l2.388-1.377a.497.497 0 0 1 .5 0l.736.426 2.221-3.848-2.222-3.849-.737.426a.51.51 0 0 1-.5 0l-2.386-1.377a.5.5 0 0 1-.25-.434l.002-2.464-.983-.567a.501.501 0 0 1-.184-.683.502.502 0 0 1 .684-.183l.983.568 2.134-1.233a.5.5 0 0 1 .5 0l2.385 1.379c.156.089.25.255.25.433v.85h4.443l2.223-3.846-.74-.427a.501.501 0 0 1-.25-.434l.002-2.755c0-.178.096-.343.25-.433l2.135-1.233V.5a.5.5 0 0 1 1 0v1.135l2.134 1.231c.154.089.25.254.25.434l-.002 2.755a.503.503 0 0 1-.25.433l-.733.425 2.224 3.849h4.44l-.002-.851c0-.179.096-.344.25-.434l2.388-1.378a.502.502 0 0 1 .5 0l2.136 1.233.982-.568a.5.5 0 1 1 .5.866l-.983.568v2.464a.503.503 0 0 1-.25.433l-2.388 1.378a.5.5 0 0 1-.5 0l-.735-.426-2.222 3.849 2.223 3.849.734-.425a.506.506 0 0 1 .5 0l2.389 1.375c.154.09.25.255.25.435l-.002 2.462.982.568c.24.137.321.444.182.682zm-2.165-1.828l.001-1.597-1.888-1.087-.734.424-.348.201-.301.173-.5.289v2.179l1.885 1.088 1.386-.802.498-.286.001-.582zm-3.736-11.467l-.531-.307-2.283 1.318-2.443 3.337 2.442 3.337 2.283 1.316.531-.306-2.514-4.348 2.515-4.347zm-7.712 16.478l-.762-.438-.339-.194-.283-.166-.5-.289-.5.289-.279.162-.349.2-.757.437-.001 2.177 1.386.797.501.289.499-.287 1.386-.798-.002-2.179zM16.008 5.767l.736.425.371.214.279.16.5.288.5-.289.281-.163.367-.212.732-.424.002-2.178-1.381-.797-.502-.289-.498.287-1.385.8-.002 2.178zm6.52 14.227l-1.535-2.099 1.535-2.098.732-1-1.232.134-2.585.281-1.048-2.379-.5-1.133-.5 1.134-1.049 2.379-2.585-.281-1.232-.134.732 1 1.536 2.097-1.536 2.098-.732 1 1.232-.134 2.585-.281 1.049 2.379.5 1.134.5-1.134 1.048-2.379 2.585.281 1.232.134-.732-.999zm8.2-10.084l-1.386-.8-1.887 1.089v1.279l.002.32v.577l.5.289.28.163.367.213.732.424 1.888-1.089v-2.178l-.496-.287zM18.927 7.413l-.532.307v2.637l1.667 3.784 4.111-.447 2.283-1.317-.002-.613h-5.02l-2.507-4.351zm-9.594 4.348v.614l2.283 1.318 4.111.447 1.668-3.785V7.719l-.531-.306-2.509 4.347-5.022.001zm-2.15 1.279l.37-.213.279-.162.5-.289V10.2L6.446 9.11l-1.384.8-.499.289v.578l-.002 1.599 1.885 1.088.737-.424zm1.119 9.205l.53.306 2.281-1.316 2.443-3.339-2.442-3.337-2.281-1.317-.531.307 2.511 4.348-2.511 4.348zm-1.115-.069l-.026.047a.493.493 0 0 0 .023.529l-.734-.424-1.887 1.089-.001 1.599v.578l.5.288 1.386.8 1.887-1.088v-1.278l-.002-.321v-.577l-.5-.289-.293-.169c.02.002.035.017.055.017a.5.5 0 0 0 .433-.25l.026-.047-.867-.504zm9.679 6.202l.529-.306v-2.637l-1.668-3.785-4.111.447-2.283 1.316.002.611 5.021.002 2.51 4.352zm9.591-4.349v-.612L24.174 22.1l-4.111-.447-1.667 3.783v2.639l.531.307 2.512-4.352h5.018v-.001z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_3:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32.815' height='32.815'%3E%3Cpath d='M4.581 23.55h4.681v4.681a.78.78 0 1 1-1.562 0v-3.118H4.581a.781.781 0 0 1 0-1.563zM29.016 8.481a.781.781 0 0 0-.781-.781h-3.119V4.582a.781.781 0 0 0-1.562 0v4.681h4.682c.429 0 .78-.35.78-.782zm-24.252.598l4.683-.001V4.395a.781.781 0 0 0-1.562 0v3.121l-3.121.001a.781.781 0 0 0 0 1.562zm23.655 14.287h-4.685l.002 4.684a.78.78 0 1 0 1.562 0l-.002-3.121h3.122a.781.781 0 0 0 .001-1.563zm4.394-6.96a.78.78 0 0 1-.781.781h-3.426l1.876 1.875a.782.782 0 0 1-1.104 1.105l-2.979-2.979h-1.986L17.19 24.41v1.987l2.977 2.979a.781.781 0 0 1-1.103 1.106l-1.874-1.875v3.426a.78.78 0 1 1-1.562 0v-3.426l-1.875 1.875a.782.782 0 0 1-1.105-1.105l2.978-2.979V24.41l-7.219-7.22H6.418l-2.98 2.98a.777.777 0 0 1-1.103 0 .781.781 0 0 1 0-1.106L4.21 17.19H.783a.78.78 0 1 1 0-1.562h3.426l-1.876-1.875a.782.782 0 1 1 1.106-1.105l2.979 2.979h1.989l7.219-7.218v-1.99L12.648 3.44a.782.782 0 1 1 1.106-1.105l1.874 1.874V.781a.782.782 0 0 1 1.563 0v3.426l1.875-1.875a.783.783 0 0 1 1.106 1.105l-2.979 2.979v1.99l7.216 7.218h1.992l2.979-2.979a.782.782 0 0 1 1.105 1.105l-1.876 1.874h3.427a.781.781 0 0 1 .777.782zm-10.613.782l.778-.78-.781-.782-5.009-5.008-.781-.781-.781.781-5.01 5.008-.781.781.781.781 5.01 5.011.782.781.78-.779 5.012-5.013zm5.863 4.646a.782.782 0 0 0-.781-.781h-6.229v6.228a.78.78 0 1 0 1.562 0v-4.665h4.666a.782.782 0 0 0 .782-.782zm-.001-10.855a.782.782 0 0 0-.781-.781h-4.664V5.532a.782.782 0 0 0-1.562 0v6.228h6.227a.78.78 0 0 0 .78-.781zm-23.318 0c0 .432.35.781.781.781h6.228V5.532a.781.781 0 0 0-1.562 0v4.666H5.525a.781.781 0 0 0-.781.781zm.002 10.855c0 .432.35.781.781.781h4.664v4.665a.78.78 0 1 0 1.562 0v-6.228H5.527a.783.783 0 0 0-.781.782z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_4:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='37.794' height='37.794'%3E%3Cpath d='M30.638 17.313l-.914 1.584.915 1.585a.78.78 0 1 1-1.352.78l-1.366-2.366 1.366-2.365a.782.782 0 0 1 1.067-.286c.372.215.5.692.284 1.068zM11.65 11.08l2.733.002 1.367-2.367a.78.78 0 0 0-1.352-.781l-.915 1.585-1.831-.002h-.001a.78.78 0 0 0-.001 1.563zm14.491 15.633h-2.733l-1.365 2.365a.78.78 0 1 0 1.352.78l.914-1.584h1.831a.781.781 0 0 0 .001-1.561zm-4.1-17.998l1.367 2.367h2.733a.78.78 0 1 0 0-1.562h-1.833l-.915-1.585a.78.78 0 0 0-1.352.78zM15.75 29.08l-1.368-2.366h-2.733a.781.781 0 0 0 0 1.562h1.832l.917 1.585c.146.25.409.391.677.391a.779.779 0 0 0 .675-1.172zm-8.313-7.531a.78.78 0 0 0 1.067-.284L9.87 18.9l-1.367-2.368a.781.781 0 0 0-1.351.781l.916 1.587-.914 1.584a.776.776 0 0 0 .283 1.065zm27.827 6.798a.784.784 0 0 1-1.067.285l-.89-.515-2.096 1.209a.793.793 0 0 1-.391.105.762.762 0 0 1-.391-.105l-2.484-1.435a.78.78 0 0 1-.391-.676l-.002-2.417-2.408-1.392a7.714 7.714 0 0 1-5.467 3.168v2.773l2.093 1.208a.78.78 0 0 1 .391.676l.001 2.868c0 .28-.149.537-.392.676l-2.093 1.205v1.032a.781.781 0 0 1-1.562 0V35.98l-2.095-1.207a.78.78 0 0 1-.391-.676l.001-2.868c0-.28.15-.537.391-.676l2.094-1.206v-2.773a7.718 7.718 0 0 1-5.468-3.168l-2.408 1.392.002 2.415c0 .281-.15.539-.391.676l-2.487 1.437a.785.785 0 0 1-.782 0l-2.095-1.209-.893.518a.782.782 0 0 1-.782-1.354l.893-.517.001-2.414a.78.78 0 0 1 .391-.677l2.487-1.434a.774.774 0 0 1 .781 0l2.093 1.208 2.407-1.39a7.655 7.655 0 0 1 0-6.317l-2.406-1.39-2.096 1.209a.772.772 0 0 1-.782 0l-2.485-1.434a.786.786 0 0 1-.391-.676l.002-2.416-.894-.517a.78.78 0 0 1-.285-1.066.788.788 0 0 1 1.07-.283l.893.514 2.093-1.208a.774.774 0 0 1 .781 0L9.851 9.91c.24.14.391.398.391.675L10.24 13l2.408 1.392a7.712 7.712 0 0 1 5.468-3.167V8.45L16.02 7.242a.78.78 0 0 1-.391-.676l.002-2.87c0-.279.15-.538.391-.675l2.094-1.208V.781a.781.781 0 0 1 1.562 0v1.032l2.093 1.206a.785.785 0 0 1 .391.677l-.002 2.87c0 .28-.149.536-.391.674l-2.091 1.208v2.772a7.708 7.708 0 0 1 5.467 3.167l2.409-1.392-.002-2.416c0-.28.149-.539.391-.676l2.487-1.436c.24-.14.539-.14.781 0l2.095 1.208.894-.514a.78.78 0 1 1 .781 1.352l-.894.516v2.417c0 .279-.15.538-.391.675l-2.487 1.436a.785.785 0 0 1-.782 0l-2.092-1.209-2.408 1.39c.436.967.684 2.032.684 3.158a7.65 7.65 0 0 1-.684 3.158l2.408 1.391 2.091-1.206a.782.782 0 0 1 .78 0l2.488 1.432c.24.141.392.398.392.677l-.002 2.414.893.517a.783.783 0 0 1 .287 1.068zm-6.147-16.251l.001.9.78.453.921.531 1.706-.982v-1.965l-.78-.451-.923-.533-1.707.983.002 1.064zm-20.443-.002l.002-1.063-1.706-.985-.922.535-.778.451-.001.902-.001 1.063 1.703.982.924-.533.779-.451v-.901zm0 13.604l-.001-.899-.781-.451-.919-.533-1.706.982-.001 1.064v.901l.781.451.923.533 1.707-.982-.003-1.066zm15.109-3.076c.315-.413.586-.864.789-1.351a6.121 6.121 0 0 0 0-4.748 6.175 6.175 0 0 0-.789-1.35 6.158 6.158 0 0 0-4.106-2.375 6.48 6.48 0 0 0-.781-.056c-.266 0-.525.022-.781.056a6.149 6.149 0 0 0-4.106 2.375 6.128 6.128 0 0 0-.789 1.35 6.104 6.104 0 0 0-.479 2.374 6.1 6.1 0 0 0 1.268 3.725 6.15 6.15 0 0 0 4.106 2.374c.256.031.516.056.781.056s.525-.022.781-.056a6.142 6.142 0 0 0 4.106-2.374zM17.19 6.113l.924.531.781.452.781-.452.919-.531.002-1.968-.921-.531-.784-.452-.779.451-.922.532-.001 1.968zm3.408 25.57l-.921-.532-.781-.452-.781.452-.922.532-.001 1.966.923.531.782.451.78-.449.922-.533-.001-1.966zm11.925-5.819l.001-1.063-1.707-.981-.919.529-.782.451v.901l.001 1.065 1.702.981.924-.533.778-.449.002-.901z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_5:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='31.25' height='31.25'%3E%3Cpath d='M20.581 1.176l-3.914 3.915V0h1.041v2.576L19.845.439l.736.737zm-1.615 9.069l.351.217 6.623-6.625-.736-.737-6.048 6.051a7.141 7.141 0 0 0-1.449-.6v-.082l5.082-5.082-.737-.737-5.387 5.388v1.33l.402.093a6.213 6.213 0 0 1 1.899.784zm2.041 2.043c.368.585.63 1.224.786 1.893l.094.403h1.028l5.171-5.173-.736-.737-4.699 4.701a7.523 7.523 0 0 0-.549-1.28l6.048-6.05-.737-.735-6.622 6.625.216.353zm7.368 1.254l1.921-1.923-.736-.735-3.699 3.7h5.39v-1.042h-2.876zm1.185 6.826l.736-.736-1.923-1.923h2.877v-1.042h-5.389l3.699 3.701zm-6.915-2.498l4.705 4.707.736-.736-5.171-5.174h-1.03l-.096.4a6.24 6.24 0 0 1-.795 1.883l-.22.353 6.639 6.641.736-.736-6.061-6.062c.227-.414.414-.84.557-1.276zm-3.7 3.125a6.241 6.241 0 0 1-1.88.794l-.399.096v1.33l5.387 5.387.736-.736-5.082-5.082v-.089a7.322 7.322 0 0 0 1.434-.605l6.061 6.062.736-.736-6.641-6.641-.352.22zM16.667 31.25h1.041v-2.576l2.137 2.137.736-.737-3.914-3.914v5.09zm-5.26-.439l2.134-2.137v2.576h1.042v-5.093l-3.913 3.916.737.738zm.897-9.816l-.352-.222-6.642 6.641.736.736 6.062-6.062c.456.254.937.456 1.433.605v.089l-5.08 5.082.736.736 5.387-5.387v-1.33l-.4-.096a6.175 6.175 0 0 1-1.88-.792zm-2.046-2.047a6.315 6.315 0 0 1-.798-1.883l-.096-.4H8.335l-5.172 5.174.737.736 4.706-4.71c.145.441.329.865.556 1.276L3.1 25.202l.736.736 6.643-6.643-.221-.347zM0 16.667v1.042h2.876L.954 19.632l.736.736 3.698-3.701H0zm1.69-5.783l-.736.735 1.921 1.923H0v1.042h5.39l-3.7-3.7zm6.916 2.498L3.9 8.674l-.736.737 5.172 5.173h1.029l.096-.4a6.15 6.15 0 0 1 .798-1.881l.222-.352L3.837 5.31l-.736.736 6.062 6.06a7.268 7.268 0 0 0-.557 1.276zm-.145-9.996l5.08 5.082v.088c-.497.15-.977.352-1.433.606L6.047 3.101l-.736.737 6.643 6.643.352-.222a6.223 6.223 0 0 1 1.88-.797l.4-.095v-1.33L9.2 2.649l-.739.737zm5.081-.81L11.408.439l-.736.737 3.913 3.917V0h-1.042v2.576zm-1.757 14.831a4.2 4.2 0 0 0 2.06 2.058l.739.338v-3.136h-3.138l.339.74zm0-3.562l-.337.738h3.135v-3.136l-.739.338a4.223 4.223 0 0 0-2.059 2.06zm7.679 3.561l.338-.739h-3.135v3.136l.738-.338a4.204 4.204 0 0 0 2.059-2.059zm0-3.561a4.198 4.198 0 0 0-2.059-2.06l-.738-.34v3.138h3.135l-.338-.738z' fill=':color:'/%3E%3C/svg%3E\")}",Nd=function(){"use strict";function m(t){var e=this;_classCallCheck(this,m),this.destroyed=!1,this.flakes=[],this.isBody=!1,this.handleResize=function(){e.params.autoResize&&e.resize()},this.handleOrientationChange=function(){e.resize()},this.params=this.setParams(t),this.isBody=OT(this.params.container),m.gid++,this.gid=m.gid,this.container=this.appendContainer(),this.params.stop&&this.stop(),this.appendStyles(),this.appendFlakes(),this.containerSize={width:this.width(),height:this.height()},window.addEventListener("resize",this.handleResize,!1),screen.orientation&&screen.orientation.addEventListener&&screen.orientation.addEventListener("change",this.handleOrientationChange)}return _createClass(m,[{key:"start",value:function(){Qk(this.container,"snowflakes_paused")}},{key:"stop",value:function(){lo(this.container,"snowflakes_paused")}},{key:"show",value:function(){Qk(this.container,"snowflakes_hidden")}},{key:"hide",value:function(){lo(this.container,"snowflakes_hidden")}},{key:"resize",value:function(){var e=this.width(),n=this.height();if(n!==this.containerSize.height){this.containerSize.width=e,this.containerSize.height=n;var o=this.getFlakeParams();this.flakes.forEach(function(l){return l.resize(o)}),!this.isBody&&(Kk(this.container),this.updateAnimationStyle(),Xk(this.container))}}},{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0,m.instanceCounter&&m.instanceCounter--,this.removeStyles(),ld(this.container),this.flakes.forEach(function(e){return e.destroy()}),this.flakes=[],window.removeEventListener("resize",this.handleResize,!1),screen.orientation&&screen.orientation.removeEventListener&&screen.orientation.removeEventListener("change",this.handleOrientationChange,!1))}},{key:"appendContainer",value:function(){var e=document.createElement("div");return lo(e,"snowflakes"),lo(e,"snowflakes_gid_".concat(this.gid)),this.isBody&&lo(e,"snowflakes_body"),js(e,{zIndex:String(this.params.zIndex)}),this.params.container.appendChild(e),e}},{key:"appendStyles",value:function(){m.instanceCounter||(this.mainStyleNode=this.injectStyle(Hx)),m.instanceCounter++,this.imagesStyleNode=this.injectStyle(Ux.replace(/:color:/g,encodeURIComponent(this.params.color))),this.animationStyleNode=this.injectStyle(this.getAnimationStyle())}},{key:"injectStyle",value:function(e,n){return AT(e.replace(/_gid_value/g,"_gid_".concat(this.gid)),n)}},{key:"getFlakeParams",value:function(){var e=this.height(),n=this.params;return{containerHeight:e,gid:this.gid,count:n.count,speed:n.speed,rotation:n.rotation,minOpacity:n.minOpacity,maxOpacity:n.maxOpacity,minSize:n.minSize,maxSize:n.maxSize,types:n.types,wind:n.wind}}},{key:"appendFlakes",value:function(){var e=this,n=this.getFlakeParams();this.flakes=[];for(var o=0;o<this.params.count;o++)this.flakes.push(new Fx(n));this.flakes.sort(function(l,a){return l.size-a.size}).forEach(function(l){l.appendTo(e.container)})}},{key:"setParams",value:function(e){var n=e||{},o={},l={color:"#5ECDEF",container:document.body,count:50,speed:1,stop:!1,rotation:!0,minOpacity:.6,maxOpacity:1,minSize:10,maxSize:25,types:6,width:void 0,height:void 0,wind:!0,zIndex:9999,autoResize:!0};return Object.keys(l).forEach(function(a){o[a]=_typeof(n[a])>"u"?l[a]:n[a]}),o}},{key:"getAnimationStyle",value:function(){for(var e="0px",n=this.params.maxSize*Math.sqrt(2),o=this.isBody?"calc(100vh + ".concat(n,"px)"):"".concat(this.height()+n,"px"),l=this.gid,a="@-webkit-keyframes snowflake_gid_".concat(l,"_y{from{-webkit-transform:translateY(").concat(e,")}to{-webkit-transform:translateY(").concat(o,");}}\n@keyframes snowflake_gid_").concat(l,"_y{from{transform:translateY(").concat(e,")}to{transform:translateY(").concat(o,");}}"),s=0;s<=Bd;s++){var r=Zk(s,this.params.minSize,this.params.maxSize)+"px";a+="@-webkit-keyframes snowflake_gid_".concat(l,"_x_").concat(s,"{from{-webkit-transform:translateX(0px)}to{-webkit-transform:translateX(").concat(r,");}}\n@keyframes snowflake_gid_").concat(l,"_x_").concat(s,"{from{transform:translateX(0px)}to{transform:translateX(").concat(r,")}}")}return a}},{key:"updateAnimationStyle",value:function(){this.injectStyle(this.getAnimationStyle(),this.animationStyleNode)}},{key:"removeStyles",value:function(){m.instanceCounter||(ld(this.mainStyleNode),delete this.mainStyleNode),ld(this.imagesStyleNode),delete this.imagesStyleNode,ld(this.animationStyleNode),delete this.animationStyleNode}},{key:"width",value:function(){return this.params.width||(this.isBody?CT():this.params.container.offsetWidth)}},{key:"height",value:function(){return this.params.height||(this.isBody?ST():this.params.container.offsetHeight+this.params.maxSize)}}]),m}(),Nd.instanceCounter=0,Nd.gid=0}}),F1=Mt({"https-url:https://esm.archive.org/magic-snowflakes@^6.0.0":function(){Vx(),Vx()}});function Do(m,t){var e=this;if(!_instanceof(e,Do))return new Do(m,t);var n=Object.assign({},Wx,t),o=zd(n.precision),l=ud(m,n);e.intValue=l,e.value=l/o,n.increment=n.increment||1/o,n.useVedic?n.groups=Yx:n.groups=Gx,this.s=n,this.p=o}var Wx,gv,zd,qx,Gx,Yx,mv,Xx=Mt({"https-url:https://esm.archive.org/v135/currency.js@2.0.4/esnext/currency.mjs":function(){Wx={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:jT,fromCents:!1},gv=function(t){return Math.round(t)},zd=function(t){return Math.pow(10,t)},qx=function(t,e){return gv(t/e)*e},Gx=/(\d)(?=(\d{3})+\b)/g,Yx=/(\d)(?=(\d\d)+\d\b)/g,Do.prototype={add:function(t){var e=this.intValue,n=this.s,o=this.p;return Do((e+=ud(t,n))/(n.fromCents?1:o),n)},subtract:function(t){var e=this.intValue,n=this.s,o=this.p;return Do((e-=ud(t,n))/(n.fromCents?1:o),n)},multiply:function(t){var e=this.intValue,n=this.s;return Do((e*=t)/(n.fromCents?1:zd(n.precision)),n)},divide:function(t){var e=this.intValue,n=this.s;return Do(e/=ud(t,n,!1),n)},distribute:function(t){for(var e=this.intValue,n=this.p,o=this.s,l=[],a=Math[e>=0?"floor":"ceil"](e/t),s=Math.abs(e-a*t),r=o.fromCents?1:n;t!==0;t--){var c=Do(a/r,o);s-- >0&&(c=c[e>=0?"add":"subtract"](1/r)),l.push(c)}return l},dollars:function(){return~~this.value},cents:function(){var t=this.intValue,e=this.p;return~~(t%e)},format:function(t){var e=this.s;return typeof t=="function"?t(this,e):e.format(this,Object.assign({},e,t))},toString:function(){var t=this.intValue,e=this.p,n=this.s;return qx(t/e,n.increment).toFixed(n.precision)},toJSON:function(){return this.value}},mv=Do}}),Kx,Fd,$o,Qx,Jx,Zx=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/donation-form-data-models@0.3.3/esnext/donation-form-data-models.mjs":function(){(function(m){m.CreditCard="Credit Card",m.PayPal="PayPal",m.GooglePay="Google Pay",m.Venmo="Venmo",m.ApplePay="Apple Pay"})(Kx||(Kx={})),Fd=function(){"use strict";function m(t){_classCallCheck(this,m),this.donationType=t.donationType,this.amount=t.amount,this.coverFees=t.coverFees}return _createClass(m,[{key:"feeAmountCovered",get:function(){return this.coverFees?this.fee:0}},{key:"fee",get:function(){return m.calculateFeeAmount(this.amount)}},{key:"total",get:function(){return m.calculateTotal(this.amount,this.coverFees)}}],[{key:"calculateTotal",value:function(e,n){var o=n?this.calculateFeeAmount(e):0,l=e+o;return isNaN(l)?0:this.roundAmount(l)}},{key:"calculateFeeAmount",value:function(e){var n=e*.022+.3;return isNaN(n)?0:this.roundAmount(n)}},{key:"roundAmount",value:function(e){return Math.round(e*100)/100}}]),m}(),function(m){m.OneTime="one-time",m.Monthly="monthly",m.Upsell="up_sell"}($o||($o={})),Qx=[5,10,25,50,100,500,1e3],Jx=new Fd({donationType:$o.OneTime,amount:10,coverFees:!1})}}),e3,t3=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/donation-form-currency-validator@0.3.0/esnext/donation-form-currency-validator.mjs":function(){e3=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"keydown",value:function(e){var n,o,l=e.key;if(!e.metaKey){switch(l){case"Tab":case"Delete":case"Backspace":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return}var a=e.target,s=a.value,r=s.slice(0,(n=a.selectionStart)!==null&&n!==void 0?n:0),c=s.slice((o=a.selectionEnd)!==null&&o!==void 0?o:0),d="".concat(r).concat(l).concat(c),h=/^[0-9]+(\.[0-9]{0,2})?$/g;d.match(h)||e.preventDefault()}}}]),m}()}}),Xu,Ml,n3=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/donation-form-section@0.3.5/esnext/donation-form-section.mjs":function(){Cr(),vn(),Or(),function(m){m.HideBadge="hidebadge",m.ShowBadge="showbadge",m.HideBadgeLeaveSpacing="hidebadgeleavespacing"}(Xu||(Xu={})),Ml=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.sectionBadge="0",n.badgeMode=Xu.ShowBadge,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return St(_templateObject44(),this.badgeMode,this.sectionBadge,this.headline?St(_templateObject43(),this.headline):"")}}],[{key:"styles",get:function(){var o=Lt(_templateObject45()),l=Lt(_templateObject46()),a=Lt(_templateObject47()),s=Lt(_templateObject48()),r=Lt(_templateObject49(),s),c=Lt(_templateObject50()),d=Lt(_templateObject51()),h=Lt(_templateObject52()),f=Lt(_templateObject53()),v=Lt(_templateObject54()),_=Lt(_templateObject55()),b=Lt(_templateObject56()),w=Lt(_templateObject57(),s);return Lt(_templateObject58(),_,b,r,l,r,l,o,r,a,h,r,r,s,d,c,w,f,v)}}]),e}(Vn),Xe([Kt({type:String})],Ml.prototype,"sectionBadge",void 0),Xe([Kt({type:String})],Ml.prototype,"headline",void 0),Xe([Kt({type:String})],Ml.prototype,"badgeMode",void 0),Ml=Xe([Mr("donation-form-section")],Ml)}}),Ku,Bo,mo,Ds,Hd,Wi,H1=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/donation-form-edit-donation@1.1.1/esnext/donation-form-edit-donation.mjs":function(){Cr(),vn(),Or(),Xx(),Zx(),t3(),n3(),function(m){m.HideNumbers="hidenumbers",m.ShowNumbers="shownumbers"}(Ku||(Ku={})),function(m){m.DonationType="donationType",m.Amount="amount"}(Bo||(Bo={})),function(m){m.ValidDonationAmount="valid_donation_amount",m.InvalidDonationAmount="invalid_donation_amount",m.DonationTooHigh="donation_too_high",m.DonationTooLow="donation_too_low"}(mo||(mo={})),function(m){m.Button="button",m.Checkbox="checkbox",m.Hide="hide"}(Ds||(Ds={})),function(m){m.SingleLine="single-line",m.MultiLine="multi-line"}(Hd||(Hd={})),Wi=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.donationInfo=Jx,n.stepNumberMode=Ku.ShowNumbers,n.amountOptions=Qx,n.amountSelectionLayout=Hd.MultiLine,n.frequencySelectionMode=Ds.Button,n.customAmountMode="display",n.customFeesCheckboxMode="display",n.amountTitleDisplayMode="default",n.customAmountSelected=!1,n.currencyValidator=new e3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){var o=this.amountTitleDisplayMode==="default"?"Choose an amount (USD)":"";return St(_templateObject62(),this.frequencySelectionMode===Ds.Button?this.frequencyButtonsTemplate:Rn,this.amountSelectionSectionNumber,o,this.formSectionNumberMode,this.amountTitleDisplayMode==="slot"?St(_templateObject59()):Rn,this.presetAmountsTemplate,this.customAmountMode==="display"?St(_templateObject60(),this.customAmountTemplate):Rn,this.error,this.customFeesCheckboxMode==="display"?St(_templateObject61(),this.customFeesCheckboxTemplate,this.frequencySelectionMode===Ds.Checkbox?this.frequencyCheckboxTemplate:Rn):Rn)}},{key:"updated",value:function(o){o.has("customAmountSelected")&&this.customAmountButton&&(this.customAmountButton.checked=this.customAmountSelected),o.has("amountOptions")&&(this.customAmountSelected=!1,this.updateSelectedDonationInfo(),this.setupAmountColumnsLayoutConfig()),o.has("amountSelectionLayout")&&this.setupAmountColumnsLayoutConfig(),o.has("donationInfo")&&this.updateSelectedDonationInfo(),o.has("defaultSelectedAmount")&&this.defaultSelectedAmount!==void 0&&(this.customAmountSelected=!1,this.donationInfo=new Fd({donationType:this.donationInfo.donationType,amount:this.defaultSelectedAmount,coverFees:this.donationInfo.coverFees}))}},{key:"frequencyButtonsTemplate",get:function(){return St(_templateObject63(),this.formSectionNumberMode,this.frequencyTemplate)}},{key:"frequencyCheckboxTemplate",get:function(){return St(_templateObject64(),this.monthlyCheckboxChecked,this.donationInfo.donationType===$o.Monthly)}},{key:"customFeesCheckboxTemplate",get:function(){return St(_templateObject65(),this.coverFeesChecked,this.donationInfo.coverFees,this.coverFeesTextTemplate)}},{key:"amountSelectionSectionNumber",get:function(){return this.frequencySelectionMode===Ds.Button?2:1}},{key:"formSectionNumberMode",get:function(){switch(this.stepNumberMode){case Ku.ShowNumbers:return Xu.ShowBadge;case Ku.HideNumbers:return Xu.HideBadge}}},{key:"setupAmountColumnsLayoutConfig",value:function(){var o=this.customAmountMode==="hide"&&this.customFeesCheckboxMode==="hide"&&this.frequencySelectionMode===Ds.Hide,l=this.amountOptions.length,a=5,s=3;switch(l){case 7:a=5,s=3;break;case 6:a=4,s=2;break;case 5:a=4,s=3;break;case 4:if(o){a=4,s=0;break}a=3,s=2;break;case 3:a=2,s=1;break}this.amountSelectionLayout===Hd.SingleLine&&(a=l+3,s=3),this.style.setProperty("--paymentSelectorAmountColumnCount","".concat(a)),this.style.setProperty("--paymentSelectorCustomAmountColSpan","".concat(s))}},{key:"updateSelectedDonationInfo",value:function(){var o,l;if(!this.customAmountSelected&&this.amountOptions.includes(this.donationInfo.amount)){var a=(o=this.shadowRoot)===null||o===void 0?void 0:o.querySelector('input[type="radio"][name="'.concat(Bo.Amount,'"][value="').concat(this.donationInfo.amount,'"]'));a.checked=!0,this.customAmountSelected=!1,this.customAmountInput&&(this.customAmountInput.value="")}else if(this.customAmountSelected=!0,((l=this.shadowRoot)===null||l===void 0?void 0:l.activeElement)!==this.customAmountInput){this.customAmountInput.value="".concat(this.donationInfo.amount);var s=this.getDonationInfoStatus(this.donationInfo.amount);this.handleDonationInfoStatus(s)}}},{key:"coverFeesTextTemplate",get:function(){var o=mv(this.donationInfo.fee,{symbol:"$"}).format();return St(_templateObject66(),o)}},{key:"formatShortenedAmount",value:function(o){var l=o%1===0?0:2;return mv(o,{symbol:"$",precision:l}).format()}},{key:"frequencyTemplate",get:function(){return St(_templateObject67(),this.getRadioButton({group:Bo.DonationType,value:$o.OneTime,displayText:"One time",checked:this.donationInfo.donationType===$o.OneTime}),this.getRadioButton({group:Bo.DonationType,value:$o.Monthly,displayText:"Monthly",checked:this.donationInfo.donationType===$o.Monthly}))}},{key:"presetAmountsTemplate",get:function(){var o=this;return St(_templateObject69(),this.amountOptions.map(function(l){var a=!o.customAmountSelected&&l===o.donationInfo.amount,s=o.formatShortenedAmount(l);return St(_templateObject68(),o.getRadioButton({group:Bo.Amount,value:"".concat(l),displayText:"".concat(s),checked:a}))}))}},{key:"getRadioButton",value:function(o){var l=this,a="".concat(o.group,"-").concat(o.value,"-option");return St(_templateObject70(),o.group,o.value,a,o.checked,this.radioSelected,function(s){o.group===Bo.Amount&&parseFloat(o.value)===l.donationInfo.amount&&(console.log("SAME VALUE"),l.radioSelected(s))},a,o.displayText)}},{key:"customAmountTemplate",get:function(){var o=this.amountOptions.includes(this.donationInfo.amount)?"":this.donationInfo.amount;return St(_templateObject71(),Bo.Amount,this.customRadioSelected,o,this.customAmountChanged,this.currencyValidator.keydown,this.customAmountFocused)}},{key:"customRadioSelected",value:function(){this.customAmountInput.focus()}},{key:"customAmountFocused",value:function(o){var l=o.target;this.customAmountSelected=!0,this.handleCustomAmountInput(l.value)}},{key:"coverFeesChecked",value:function(o){var l=o.target.checked;this.updateDonationInfo({coverFees:l})}},{key:"customAmountChanged",value:function(o){var l=o.target.value;this.customAmountSelected=!0,this.handleCustomAmountInput(l)}},{key:"handleCustomAmountInput",value:function(o){var l=parseFloat(o);isNaN(l)?this.dispatchEditDonationError(mo.InvalidDonationAmount):this.amountChanged(l)}},{key:"handleDonationInfoStatus",value:function(o){switch(o){case mo.ValidDonationAmount:this.error=void 0;break;case mo.DonationTooHigh:this.error=St(_templateObject72()),this.dispatchEditDonationError(o);break;case mo.DonationTooLow:this.customAmountInput.value.length>0&&(this.error=St(_templateObject73())),this.dispatchEditDonationError(o);break;case mo.InvalidDonationAmount:this.error=St(_templateObject74()),this.dispatchEditDonationError(o);break}}},{key:"amountChanged",value:function(o){var l=this.getDonationInfoStatus(o);this.handleDonationInfoStatus(l),l===mo.ValidDonationAmount&&this.updateDonationInfo({amount:o})}},{key:"getDonationInfoStatus",value:function(o){return isNaN(o)?mo.InvalidDonationAmount:o>=1e4?mo.DonationTooHigh:o<1?mo.DonationTooLow:mo.ValidDonationAmount}},{key:"radioSelected",value:function(o){var l=o.target,a=l.name,s=l.value;switch(a){case Bo.Amount:this.presetAmountChanged(parseFloat(s));break;case Bo.DonationType:this.updateDonationInfo({donationType:s});break;default:break}}},{key:"monthlyCheckboxChecked",value:function(o){var l=o.target.checked?$o.Monthly:$o.OneTime;this.updateDonationInfo({donationType:l})}},{key:"dispatchEditDonationError",value:function(o){var l=new CustomEvent("editDonationError",{detail:{error:o}});this.dispatchEvent(l)}},{key:"presetAmountChanged",value:function(o){this.error=void 0,this.customAmountSelected=!1,this.customAmountInput&&(this.customAmountInput.value=""),this.updateDonationInfo({amount:o})}},{key:"updateDonationInfo",value:function(o){var l,a,s,r=new Fd({donationType:(l=o.donationType)!==null&&l!==void 0?l:this.donationInfo.donationType,amount:(a=o.amount)!==null&&a!==void 0?a:this.donationInfo.amount,coverFees:(s=o.coverFees)!==null&&s!==void 0?s:this.donationInfo.coverFees});this.donationInfo=r;var c=new CustomEvent("donationInfoChanged",{detail:{donationInfo:r}});this.dispatchEvent(c)}}],[{key:"styles",get:function(){var o=Lt(_templateObject75()),l=Lt(_templateObject76()),a=Lt(_templateObject77()),s=Lt(_templateObject78()),r=Lt(_templateObject79()),c=Lt(_templateObject80()),d=Lt(_templateObject81()),h=Lt(_templateObject82()),f=Lt(_templateObject83()),v=Lt(_templateObject84()),_=Lt(_templateObject85()),b=Lt(_templateObject86()),w=Lt(_templateObject87()),A=Lt(_templateObject88()),E=Lt(_templateObject89());return Lt(_templateObject90(),l,A,E,a,o,s,h,r,c,d,f,v,_,b,w)}}]),e}(Vn),Xe([Kt({type:Object})],Wi.prototype,"donationInfo",void 0),Xe([Kt({type:String})],Wi.prototype,"stepNumberMode",void 0),Xe([Kt({type:Number})],Wi.prototype,"defaultSelectedAmount",void 0),Xe([Kt({type:Array})],Wi.prototype,"amountOptions",void 0),Xe([Kt({type:String})],Wi.prototype,"amountSelectionLayout",void 0),Xe([Kt({type:String,reflect:!0})],Wi.prototype,"frequencySelectionMode",void 0),Xe([Kt({type:String,reflect:!0})],Wi.prototype,"customAmountMode",void 0),Xe([Kt({type:String,reflect:!0})],Wi.prototype,"customFeesCheckboxMode",void 0),Xe([Kt({type:String,reflect:!0})],Wi.prototype,"amountTitleDisplayMode",void 0),Xe([Kt({type:Object})],Wi.prototype,"error",void 0),Xe([Kt({type:Boolean})],Wi.prototype,"customAmountSelected",void 0),Xe([Hr("#custom-amount-button")],Wi.prototype,"customAmountButton",void 0),Xe([Hr("#custom-amount-input")],Wi.prototype,"customAmountInput",void 0),Wi=Xe([Mr("donation-form-edit-donation")],Wi)}}),U1=Mt({"https-url:https://esm.archive.org/@internetarchive/donation-form-edit-donation@^1.1.1":function(){Cr(),vn(),Or(),Xx(),Zx(),t3(),n3(),H1()}}),Ji,V1=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/donation-banner-thermometer@0.4.2/esnext/donation-banner-thermometer.mjs":function(){Cr(),vn(),Or(),Ji=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.goalMessageMode="amount",n.goalNearMessage="We\u2019ve almost reached our goal!",n.goalReachedMessage="We've reached our goal!",n.goalAmount=75e5,n.currentAmountMode="on",n.currentAmount=0,n.thermometerValueWidth=0,n.thermometerFillWidth=0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return St(_templateObject92(),this.goalAmount,this.currentAmount,this.currentAmountDisplayValue,this.thermometerValuePosition,this.percentComplete,this.thermometerValuePosition==="value-left"?this.thermometerValueTemplate:Rn,this.thermometerValuePosition==="value-right"?this.thermometerValueTemplate:Rn,this.goalMessageMode!=="off"?St(_templateObject91(),this.currentGoalMessage):Rn)}},{key:"thermometerValueTemplate",get:function(){return this.currentAmountMode==="off"?St(_templateObject93(),Rn):St(_templateObject94(),this.currentAmountDisplayValue)}},{key:"thermometerValuePosition",get:function(){return this.thermometerValueWidth+10<this.thermometerFillWidth?"value-left":"value-right"}},{key:"updated",value:function(o){if(o.has("resizeObserver")){var l=o.get("resizeObserver");this.disconnectResizeObserver(l),this.setupResizeObserver(this.resizeObserver)}o.has("currentAmountMode")&&(this.unobserveCurrentAmountResize(this.resizeObserver),this.observeCurrentAmountResize(this.resizeObserver))}},{key:"disconnectedCallback",value:function(){this.disconnectResizeObserver(this.resizeObserver)}},{key:"handleResize",value:function(o){var l;switch(o.target){case((l=this.shadowRoot)===null||l===void 0?void 0:l.host):this.style.setProperty("--bannerThermometerHeight",o.contentRect.height+"px");break;case this.thermometerValue:this.thermometerValueWidth=o.contentRect.width;break;case this.thermometerFill:this.thermometerFillWidth=o.contentRect.width;break}}},{key:"setupResizeObserver",value:function(o){var l;!(!((l=this.shadowRoot)===null||l===void 0)&&l.host)||!o||(o.addObserver({handler:this,target:this.shadowRoot.host}),o.addObserver({handler:this,target:this.thermometerFill}),this.observeCurrentAmountResize(o))}},{key:"disconnectResizeObserver",value:function(o){var l;!(!((l=this.shadowRoot)===null||l===void 0)&&l.host)||!o||(o.removeObserver({handler:this,target:this.shadowRoot.host}),o.removeObserver({handler:this,target:this.thermometerFill}),this.unobserveCurrentAmountResize(o))}},{key:"observeCurrentAmountResize",value:function(o){!this.thermometerValue||!o||(o==null||o.addObserver({handler:this,target:this.thermometerValue}))}},{key:"unobserveCurrentAmountResize",value:function(o){!this.thermometerValue||!o||(o==null||o.removeObserver({handler:this,target:this.thermometerValue}))}},{key:"goalMessage",get:function(){return this.currentAmount>=this.goalAmount?this.goalReachedMessage:this.goalNearMessage}},{key:"currentAmountDisplayValue",get:function(){return this.formatNumber(this.currentAmount)}},{key:"goalAmountDisplayValue",get:function(){return this.formatNumber(this.goalAmount)}},{key:"formatNumber",value:function(o){if(o===0)return"$0";var l="MM",a=o/1e6,s=a<10,r=0;return s?r=Math.round((a+Number.EPSILON)*10)/10:r=Math.round(a),"$".concat(r).concat(l)}},{key:"currentGoalMessage",get:function(){switch(this.goalMessageMode){case"amount":return"".concat(this.goalAmountDisplayValue," goal");case"message":return this.goalMessage;case"off":return""}}},{key:"percentComplete",get:function(){return Math.min(this.currentAmount/this.goalAmount*100,100)}}],[{key:"styles",get:function(){var o=Lt(_templateObject95()),l=Lt(_templateObject96()),a=Lt(_templateObject97()),s=Lt(_templateObject98(),a),r=Lt(_templateObject99()),c=Lt(_templateObject100(),a),d=Lt(_templateObject101(),o),h=Lt(_templateObject102()),f=Lt(_templateObject103());return Lt(_templateObject104(),r,d,c,a,l,s,h,f)}}]),e}(Vn),Xe([Kt({type:String})],Ji.prototype,"goalMessageMode",void 0),Xe([Kt({type:String})],Ji.prototype,"goalNearMessage",void 0),Xe([Kt({type:String})],Ji.prototype,"goalReachedMessage",void 0),Xe([Kt({type:Number})],Ji.prototype,"goalAmount",void 0),Xe([Kt({type:String})],Ji.prototype,"currentAmountMode",void 0),Xe([Kt({type:Number})],Ji.prototype,"currentAmount",void 0),Xe([Kt({type:Object})],Ji.prototype,"resizeObserver",void 0),Xe([Hr(".thermometer-value")],Ji.prototype,"thermometerValue",void 0),Xe([Hr(".thermometer-fill")],Ji.prototype,"thermometerFill",void 0),Xe([Vi()],Ji.prototype,"thermometerValueWidth",void 0),Xe([Vi()],Ji.prototype,"thermometerFillWidth",void 0),Ji=Xe([Mr("donation-banner-thermometer")],Ji)}}),W1=Mt({"https-url:https://esm.archive.org/@internetarchive/donation-banner-thermometer@^0.4.2":function(){Cr(),vn(),Or(),V1()}}),za,r3,i3,yv,o3,Qu,Fa,a3,bv,Ud,wv,_v,s3,Ll,Ju,kv,l3,u3,Co,$s,xv,Sv,Cv,c3,Av,d3,Ov,h3,jv,Ev,f3,p3,v3,Zu,g3,m3,y3,Tv,Pv,Vd,b3,Wd,Iv,w3,_3,k3,ec,Mv,tc,x3,q1=Mt({"https-url:https://esm.archive.org/v135/@juggle/resize-observer@3.4.0/esnext/resize-observer.mjs":function(){za=[],r3=function(){return za.some(function(t){return t.activeTargets.length>0})},i3=function(){return za.some(function(t){return t.skippedTargets.length>0})},yv="ResizeObserver loop completed with undelivered notifications.",o3=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:yv}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=yv),window.dispatchEvent(t)},function(m){m.BORDER_BOX="border-box",m.CONTENT_BOX="content-box",m.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(Qu||(Qu={})),Fa=function(t){return Object.freeze(t)},a3=function(){var m=function(e,n){this.inlineSize=e,this.blockSize=n,Fa(this)};return m}(),bv=function(){var m=function(e,n,o,l){return this.x=e,this.y=n,this.width=o,this.height=l,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Fa(this)};return m.prototype.toJSON=function(){var t=this,e=t.x,n=t.y,o=t.top,l=t.right,a=t.bottom,s=t.left,r=t.width,c=t.height;return{x:e,y:n,top:o,right:l,bottom:a,left:s,width:r,height:c}},m.fromRect=function(t){return new m(t.x,t.y,t.width,t.height)},m}(),Ud=function(t){return _instanceof(t,SVGElement)&&"getBBox"in t},wv=function(t){if(Ud(t)){var e=t.getBBox(),n=e.width,o=e.height;return!n&&!o}var l=t,a=l.offsetWidth,s=l.offsetHeight;return!(a||s||t.getClientRects().length)},_v=function(t){var e;if(_instanceof(t,Element))return!0;var n=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(n&&_instanceof(t,n.Element))},s3=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Ll=(typeof window=="undefined"?"undefined":_typeof(window))<"u"?window:{},Ju=new WeakMap,kv=/auto|scroll/,l3=/^tb|vertical/,u3=/msie|trident/i.test(Ll.navigator&&Ll.navigator.userAgent),Co=function(t){return parseFloat(t||"0")},$s=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new a3((n?e:t)||0,(n?t:e)||0)},xv=Fa({devicePixelContentBoxSize:$s(),borderBoxSize:$s(),contentBoxSize:$s(),contentRect:new bv(0,0,0,0)}),Sv=function(t,e){if(e===void 0&&(e=!1),Ju.has(t)&&!e)return Ju.get(t);if(wv(t))return Ju.set(t,xv),xv;var n=getComputedStyle(t),o=Ud(t)&&t.ownerSVGElement&&t.getBBox(),l=!u3&&n.boxSizing==="border-box",a=l3.test(n.writingMode||""),s=!o&&kv.test(n.overflowY||""),r=!o&&kv.test(n.overflowX||""),c=o?0:Co(n.paddingTop),d=o?0:Co(n.paddingRight),h=o?0:Co(n.paddingBottom),f=o?0:Co(n.paddingLeft),v=o?0:Co(n.borderTopWidth),_=o?0:Co(n.borderRightWidth),b=o?0:Co(n.borderBottomWidth),w=o?0:Co(n.borderLeftWidth),A=f+d,E=c+h,O=w+_,P=v+b,y=r?t.offsetHeight-P-t.clientHeight:0,u=s?t.offsetWidth-O-t.clientWidth:0,p=l?A+O:0,g=l?E+P:0,k=o?o.width:Co(n.width)-p-u,x=o?o.height:Co(n.height)-g-y,j=k+A+u+O,L=x+E+y+P,D=Fa({devicePixelContentBoxSize:$s(Math.round(k*devicePixelRatio),Math.round(x*devicePixelRatio),a),borderBoxSize:$s(j,L,a),contentBoxSize:$s(k,x,a),contentRect:new bv(f,c,k,x)});return Ju.set(t,D),D},Cv=function(t,e,n){var o=Sv(t,n),l=o.borderBoxSize,a=o.contentBoxSize,s=o.devicePixelContentBoxSize;switch(e){case Qu.DEVICE_PIXEL_CONTENT_BOX:return s;case Qu.BORDER_BOX:return l;default:return a}},c3=function(){var m=function(e){var n=Sv(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=Fa([n.borderBoxSize]),this.contentBoxSize=Fa([n.contentBoxSize]),this.devicePixelContentBoxSize=Fa([n.devicePixelContentBoxSize])};return m}(),Av=function(t){if(wv(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},d3=function(){var t=1/0,e=[];za.forEach(function(a){if(a.activeTargets.length!==0){var s=[];a.activeTargets.forEach(function(r){var c=new c3(r.target),d=Av(r.target);s.push(c),r.lastReportedSize=Cv(r.target,r.observedBox),d<t&&(t=d)}),e.push(function(){a.callback.call(a.observer,s,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var n=0,o=e;n<o.length;n++){var l=o[n];l()}return t},Ov=function(t){za.forEach(function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach(function(n){n.isActive()&&(Av(n.target)>t?e.activeTargets.push(n):e.skippedTargets.push(n))})})},h3=function(){var t=0;for(Ov(t);r3();)t=d3(),Ov(t);return i3()&&o3(),t>0},Ev=[],f3=function(){return Ev.splice(0).forEach(function(t){return t()})},p3=function(t){if(!jv){var e=0,n=document.createTextNode(""),o={characterData:!0};new MutationObserver(function(){return f3()}).observe(n,o),jv=function(){n.textContent="".concat(e?e--:e++)}}Ev.push(t),jv()},v3=function(t){p3(function(){requestAnimationFrame(t)})},Zu=0,g3=function(){return!!Zu},m3=250,y3={attributes:!0,characterData:!0,childList:!0,subtree:!0},Tv=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Pv=function(t){return t===void 0&&(t=0),Date.now()+t},Vd=!1,b3=function(){var m=function(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}};return m.prototype.run=function(t){var e=this;if(t===void 0&&(t=m3),!Vd){Vd=!0;var n=Pv(t);v3(function(){var o=!1;try{o=h3()}finally{if(Vd=!1,t=n-Pv(),!g3())return;o?e.run(1e3):t>0?e.run(t):e.start()}})}},m.prototype.schedule=function(){this.stop(),this.run()},m.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,y3)};document.body?e():Ll.addEventListener("DOMContentLoaded",e)},m.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Tv.forEach(function(e){return Ll.addEventListener(e,t.listener,!0)}))},m.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Tv.forEach(function(e){return Ll.removeEventListener(e,t.listener,!0)}),this.stopped=!0)},m}(),Wd=new b3,Iv=function(t){!Zu&&t>0&&Wd.start(),Zu+=t,!Zu&&Wd.stop()},w3=function(t){return!Ud(t)&&!s3(t)&&getComputedStyle(t).display==="inline"},_3=function(){var m=function(e,n){this.target=e,this.observedBox=n||Qu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}};return m.prototype.isActive=function(){var t=Cv(this.target,this.observedBox,!0);return w3(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},m}(),k3=function(){var m=function(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n};return m}(),ec=new WeakMap,Mv=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},tc=function(){var m=function(){};return m.connect=function(t,e){var n=new k3(t,e);ec.set(t,n)},m.observe=function(t,e,n){var o=ec.get(t),l=o.observationTargets.length===0;Mv(o.observationTargets,e)<0&&(l&&za.push(o),o.observationTargets.push(new _3(e,n&&n.box)),Iv(1),Wd.schedule())},m.unobserve=function(t,e){var n=ec.get(t),o=Mv(n.observationTargets,e),l=n.observationTargets.length===1;o>=0&&(l&&za.splice(za.indexOf(n),1),n.observationTargets.splice(o,1),Iv(-1))},m.disconnect=function(t){var e=this,n=ec.get(t);n.observationTargets.slice().forEach(function(o){return e.unobserve(t,o.target)}),n.activeTargets.splice(0,n.activeTargets.length)},m}(),x3=function(){var m=function(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");tc.connect(this,e)};return m.prototype.observe=function(t,e){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!_v(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");tc.observe(this,t,e)},m.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!_v(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");tc.unobserve(this,t)},m.prototype.disconnect=function(){tc.disconnect(this)},m.toString=function(){return"function ResizeObserver () { [polyfill code] }"},m}()}}),G1=Mt({"https-url:https://esm.archive.org/@juggle/resize-observer@^3.3.1":function(){q1()}}),S3,Y1=Mt({"components/resize-observer-polyfill/resize-observer-polyfill.js":function(){G1(),S3=window.ResizeObserver||x3,window.ResizeObserver=S3}}),Ha,Rl=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/shared-resize-observer@0.2.0/esnext/shared-resize-observer.mjs":function(){Ha=function(){"use strict";function m(){var t=this;_classCallCheck(this,m),this.resizeObserver=new ResizeObserver(function(e){var n=t;window.requestAnimationFrame(function(){var o=!0,l=!1,a=void 0;try{for(var s=function(d,h){var f=h.value,v=n.resizeHandlers.get(f.target);v==null||v.forEach(function(_){_.handleResize(f)})},r=e[Symbol.iterator](),c;!(o=(c=r.next()).done);o=!0)s(r,c)}catch(d){l=!0,a=d}finally{try{!o&&r.return!=null&&r.return()}finally{if(l)throw a}}})}),this.resizeHandlers=new Map}return _createClass(m,[{key:"shutdown",value:function(){var e=this;this.resizeHandlers.forEach(function(n,o){e.resizeObserver.unobserve(o)}),this.resizeHandlers.clear()}},{key:"addObserver",value:function(e){var n,o=(n=this.resizeHandlers.get(e.target))!==null&&n!==void 0?n:new Set;o.add(e.handler),this.resizeHandlers.set(e.target,o),this.resizeObserver.observe(e.target,e.options)}},{key:"removeObserver",value:function(e){var n=this.resizeHandlers.get(e.target);n&&(n.delete(e.handler),n.size===0&&(this.resizeObserver.unobserve(e.target),this.resizeHandlers.delete(e.target)))}}]),m}()}}),X1=Mt({"https-url:https://esm.archive.org/@internetarchive/shared-resize-observer@^0.2.0":function(){Rl()}}),Lv=Mt({"components/ia-shared-resizeobserver/ia-shared-resizeobserver.js":function(){Y1(),X1(),window.SharedResizeObserver=Ha}}),Rv,No,C3=Mt({"components/donation-banner/donation-banner-iframe-handler.js":function(){pi(),uo(),Rv=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,null,[{key:"get_banner_height",value:function(){return Z("#donate_banner").outerHeight()}},{key:"postMessage",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;yn("postin",{event:e,incomingValue:n});var o=m.get_banner_height(),l=m.preventResizeEventResponse?m.calculateBannerWithReminderForm():0,a=Math.max(l,n);window.parent.postMessage(JSON.stringify({event:e,value:a,bannerHeight:o}),"*"),e==="close modal"&&m.adjust_height()}},{key:"openReminderForm",value:function(){m.preventResizeEventResponse=!0,m.postMessage("set height"),window.scrollTo(0,0)}},{key:"closeReminderForm",value:function(){m.preventResizeEventResponse=!1,m.postMessage("close modal"),window.scrollTo(0,0)}},{key:"onSubmitReminderForm",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;m.preventResizeEventResponse=!1,m.postMessage("set cookie",e)}},{key:"calculateBannerWithReminderForm",value:function(){var e=document.querySelector(".js-donate-banner"),n=document.querySelector(".js-donate-form"),o=document.querySelector(".js-donate-later-dropdown"),l=15,a=e.offsetHeight,s=o.offsetHeight,r=n.offsetHeight+n.offsetTop,c=a-r,d=a-c+s+l;return d}},{key:"adjust_height",value:function(e){var n=e!=null?e:m.get_banner_height();m.postMessage("set height",n),yn({banner_height:n}),this.currentBannerHeight=n}},{key:"init",value:function(){yn("donato tornado"),Z(window).on("resize  orientationchange",function(){m.fixBannerHeightIfNeeded(),clearTimeout(m.adjust_height_throttler),m.adjust_height_throttler=setTimeout(m.adjust_height,100)}),this.currentWindowWidth=window.innerWidth,this.currentBannerHeight=m.get_banner_height(),m.adjust_height()}},{key:"fixBannerHeightIfNeeded",value:function(){if(window.innerWidth===this.currentWindowWidth){var e=m.get_banner_height();e!==this.currentBannerHeight&&(yn("Performing banner height correction: current, new",this.currentBannerHeight,e),m.adjust_height(e))}else this.currentWindowWidth=window.innerWidth}}]),m}(),Rv.preventResizeEventResponse=!1,No=Rv}}),Dv,A3=Mt({"components/analyticsHandler/analyticsHandler.js":function(){Dv=function(){"use strict";function m(t){_classCallCheck(this,m),this.analyticsBackend=t||window.archive_analytics}return _createClass(m,[{key:"send_event",value:function(e,n,o,l){this.analyticsBackend&&this.analyticsBackend.send_event(e,n,o,l)}},{key:"send_event_no_sampling",value:function(e,n,o,l){this.analyticsBackend&&this.analyticsBackend.send_event_no_sampling(e,n,o,l)}}]),m}()}}),O3,nc,j3,K1=Mt({"components/donation-banner/remind_form.js":function(){C3(),O3=27,nc="RemindForm",j3=function(){"use strict";function m(t,e,n){_classCallCheck(this,m),this.$form=t,this.$trigger=e,this.setDonationCookie=n||$.noop}return _createClass(m,[{key:"setup",value:function(){var e=this,n=$("#donate_dropdown"),o=$("#close_donate_dropdown"),l=this.$form.attr("data-base-url")||"https://archive.org";this.$trigger.on("click.".concat(nc),function(a){n.hasClass("is-open")||n.addClass("is-open"),e.$form.find("input").filter(function(s,r){return!r.value}).eq(0).focus(),No.openReminderForm(),a.preventDefault()}),o.on("click.".concat(nc),function(){n.removeClass("is-open"),No.closeReminderForm(),e.$trigger.focus()}),$(window).on("keydown.".concat(nc),function(a){var s=n.hasClass("is-open");s&&a.keyCode===O3&&o.click()}),this.$form.on("submit.".concat(nc),function(a){var s=e;if(a.preventDefault(),!m.validateDonorEmail(e.$form.find("[name=email]").val())){e.$form.find(".error-email").show();return}["first_name","last_name"].forEach(function(c){m.validateNameField(s.$form.find("[name='".concat(c,"']")).val())||s.$form.find("[name='".concat(c,"']")).val("")});var r=e.$trigger.attr("data-source-context")||"";typeof archive_analytics!="undefined"&&archive_analytics.send_event_no_sampling("DonateBanner".concat(r),"MaybeLaterFormSubmit",window.location.pathname),e.sendForm(l)})}},{key:"sendForm",value:function(e){var n=this,o=$("#donate_reminder_success").addClass("hidden"),l=function(a,s){return"<h2>".concat(a,"</h2><p>").concat(s,"</p>")};$.ajax({type:"post",url:"".concat(e,"/donate/remindDonate.php"),data:this.$form.serialize(),success:function(){n.$form.addClass("hidden"),o.html(l("Thank You!","We'll be in touch in the next few days with a reminder to donate to the Internet Archive.")).removeClass("hidden");var a=90;n.setDonationCookie(a),No.onSubmitReminderForm(a)},error:function(){o.html(l("Hmmm...","Something is amiss. Can you try again in a little while?")).removeClass("hidden")}})}}],[{key:"validateDonorEmail",value:function(e){return/.+@.+\..+/.test(e)}},{key:"validateNameField",value:function(e){return!/[<>&:?'"]/.test(e)}}]),m}()}}),E3,Q1=Mt({"components/donation-banner/donation-banner.js":function(){pa(),F1(),U1(),W1(),Lv(),pi(),C3(),A3(),K1(),console==null||console.log("donation-banner loaded",{version:"1.1.1"}),E3=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"addCloseSupport",value:function(){var e=function(){var l=42;No.postMessage("hide banner",l),this.bannerElement.style.display="none",this.logEvent("CloseClicked",!0),this.setDonationCookie(l)},n=document.getElementById("donate-close-button");n&&n.addEventListener("click",e.bind(this))}},{key:"initialize",value:function(){if(this.bannerElement){this.donationInfoError=!1,this.addCloseSupport(),this.setupDonationForm(),this.setupThermometer(),this.setupMinimalDonateButton(),this.setupSnow(),No.init();var e=new j3(Z("#donate_reminder_form"),Z("#donate_later"),this.setDonationCookie);e.setup(),this.logEvent("Viewed")}}},{key:"setDonationCookie",value:function(e){m.setDonationCookie(e),No.postMessage("set cookie",e)}},{key:"bannerElement",get:function(){return document.querySelector("#donate_banner")}},{key:"donationFormElement",get:function(){return document.querySelector("donation-form-edit-donation")}},{key:"bannerThermometerElement",get:function(){return document.querySelector("donation-banner-thermometer")}},{key:"minimalDonateButtonElement",get:function(){return document.querySelector("#minimal-donate-button")}},{key:"donationOrigin",get:function(){var e=this.bannerElement,n=e.dataset.exp,o=e.dataset.variant,l;try{l=window.parent.innerWidth}catch(r){l=No.currentWindowWidth}var a=l<768?"Mobile":"Desktop",s="DonateBanner-".concat(n,"-").concat(o,"-").concat(a);return console.log("PSA Donation Banner donationOrigin: ",{responsiveMode:a,currentWindowWidth:l,origin:s}),s}},{key:"setupSnow",value:function(){if(this.bannerElement.dataset.snowfall==="on"){var e=new Nd({container:document.querySelector("#donate-body-background-layer2"),count:100,minOpacity:.08,maxOpacity:.15,minSize:4,maxSize:8,rotation:!0,speed:.15});e.start()}}},{key:"setupMinimalDonateButton",value:function(){var e=this,n=this.minimalDonateButtonElement;n&&n.addEventListener("click",function(){e.logEvent("MinimalDonateButtonClicked"),No.postMessage("set cookie",30),window.top.location=e.baseDonatePageUrl})}},{key:"baseDonatePageUrl",get:function(){var e=this.bannerElement,n=e.dataset.baseurl,o=e.dataset.donationsourcedata,l=e.dataset.variantdollaramounts,a=e.dataset.variantamountlayout,s=e.dataset.variantfrequencymode,r=e.dataset.bannertemplate,c=e.dataset.platform,d=new URLSearchParams;this.donationOrigin&&d.set("origin",this.donationOrigin),o&&d.set("referer",o),l&&d.set("dollarAmounts",l),a&&d.set("amountLayout",a),s&&d.set("frequencyMode",s),c&&d.set("platform",c),r&&d.set("bannerTemplate",r);var h="".concat(n,"/donate?").concat(d.toString());return h}},{key:"setupDonationForm",value:function(){var e=this,n=this.donationFormElement;if(n){var o=n.donationInfo,l=this.bannerElement.classList.contains("formdesign-psa");if(l){var a=this,s=document.querySelector("#psa-cta");if(console.log("PSA Donation Banner CTA: ",s),!s)return;s.addEventListener("click",function(c){var d="".concat(a.baseDonatePageUrl,"&amt=").concat(o.amount);a.logEvent("ContinueClicked"),a.setDonationCookie(3),console==null||console.log("donationInfoChanged - IN minimal banner check - post cookie",{url:d}),window.top.location=d});return}n.addEventListener("donationInfoChanged",function(c){e.donationInfoError=!1,o=c.detail.donationInfo;var d=e.bannerElement.classList.contains("formdesign-minimal");if(console==null||console.log("donationInfoChanged",Dr({isMinimalBanner:d},o)),d){var h="".concat(e.baseDonatePageUrl,"&amt=").concat(o.amount);e.logEvent("ContinueClicked"),e.setDonationCookie(3),console==null||console.log("donationInfoChanged - IN minimal banner check - post cookie",{url:h}),window.top.location=h}}),n.addEventListener("editDonationError",function(c){e.donationInfoError=!0});var r=document.querySelector("#continue-button");r&&r.addEventListener("click",function(){if(!e.donationInfoError){e.logEvent("ContinueClicked");var c=e.bannerElement.dataset,d=c.selectedtextcolor?"&selectedTextColor=".concat(encodeURIComponent(c.selectedtextcolor)):"",h=c.selectedfillcolor?"&selectedFillColor=".concat(encodeURIComponent(c.selectedfillcolor)):"";c.donatepageselectedfillcolor&&(h="&selectedFillColor=".concat(encodeURIComponent(c.donatepageselectedfillcolor))),c.donatepageselectedtextcolor&&(d="&selectedTextColor=".concat(encodeURIComponent(c.donatepageselectedtextcolor)));var f=c.formtextcolor?"&formTextColor=".concat(encodeURIComponent(c.formtextcolor)):"",v="".concat(e.baseDonatePageUrl,"&amt=").concat(o.amount,"&contrib_type=").concat(o.donationType,"&coverFees=").concat(o.coverFees).concat(d).concat(h).concat(f);No.postMessage("set cookie",30),window.top.location=v}})}}},{key:"setupThermometer",value:function(){var e=this.bannerThermometerElement;if(e){var n=new Ha;e.resizeObserver=n}}},{key:"logEvent",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=new Dv,l=this.bannerElement,a=l.dataset.debugmode==="true",s=l.dataset.platform,r=a?"DonateBannerDebug":"DonateBanner";n||e==="Viewed"&&(s==="ia"||s==="wb")?o.send_event(r,e,this.donationOrigin):o.send_event_no_sampling(r,e,this.donationOrigin)}}],[{key:"setDonationCookie",value:function(e){var n=parseInt(e,10);if(n){var o={path:"/",expires:n,domain:".archive.org"};Xr.set("donation","x",o),Xr.set("donation","x",Z.extend(o,{domain:".openlibrary.org"}))}}}]),m}(),document.addEventListener("DOMContentLoaded",function(){var m=new E3;m.initialize()})}}),T3,qd,P3,I3,M3,L3,Zi,R3,Gd,D3,$v,$3,B3,N3,z3,F3,H3,U3,V3,W3,q3,G3,Y3,Bv,Nv,X3,Wn,zv,K3,Fv,Q3=Mt({"https-url:https://esm.archive.org/v135/bootstrap@3.4.1/esnext/bootstrap.mjs":function(){T3=Object.create,qd=Object.defineProperty,P3=Object.getOwnPropertyDescriptor,I3=Object.getOwnPropertyNames,M3=Object.getPrototypeOf,L3=Object.prototype.hasOwnProperty,Zi=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},R3=function(t,e){for(var n in e)qd(t,n,{get:e[n],enumerable:!0})},Gd=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!L3.call(t,v)&&v!==n&&qd(t,v,{get:function(){return e[v]},enumerable:!(o=P3(e,v))||o.enumerable})},c=I3(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},D3=function(t,e,n){return Gd(t,e,"default"),n&&Gd(n,e,"default")},$v=function(t,e,n){return n=t!=null?T3(M3(t)):{},Gd(e||!t||!t.__esModule?qd(n,"default",{value:t,enumerable:!0}):n,t)},$3=Zi(function(){+function(t){"use strict";var e=function(){var o=document.createElement("bootstrap"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var a in l)if(o.style[a]!==void 0)return{end:l[a]};return!1};t.fn.emulateTransitionEnd=function(n){var o=!1,l=this;t(this).one("bsTransitionEnd",function(){o=!0});var a=function(){o||t(l).trigger(t.support.transition.end)};return setTimeout(a,n),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(o){if(t(o.target).is(this))return o.handleObj.handler.apply(this,arguments)}})})}(jQuery)}),B3=Zi(function(){+function(t){"use strict";var e=function(s){return this.each(function(){var r=t(this),c=r.data("bs.alert");c||r.data("bs.alert",c=new o(this)),typeof s=="string"&&c[s].call(r)})},n='[data-dismiss="alert"]',o=function(s){t(s).on("click",n,this.close)};o.VERSION="3.4.1",o.TRANSITION_DURATION=150,o.prototype.close=function(a){var s=function(){d.detach().trigger("closed.bs.alert").remove()},r=t(this),c=r.attr("data-target");c||(c=r.attr("href"),c=c&&c.replace(/.*(?=#[^\s]*$)/,"")),c=c==="#"?[]:c;var d=t(document).find(c);a&&a.preventDefault(),d.length||(d=r.closest(".alert")),d.trigger(a=t.Event("close.bs.alert")),!a.isDefaultPrevented()&&(d.removeClass("in"),t.support.transition&&d.hasClass("fade")?d.one("bsTransitionEnd",s).emulateTransitionEnd(o.TRANSITION_DURATION):s())};var l=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=l,this},t(document).on("click.bs.alert.data-api",n,o.prototype.close)}(jQuery)}),N3=Zi(function(){+function(t){"use strict";var e=function(a){return this.each(function(){var s=t(this),r=s.data("bs.button"),c=typeof a=="object"&&a;r||s.data("bs.button",r=new n(this,c)),a=="toggle"?r.toggle():a&&r.setState(a)})},n=function(l,a){this.$element=t(l),this.options=t.extend({},n.DEFAULTS,a),this.isLoading=!1};n.VERSION="3.4.1",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(l){var a="disabled",s=this.$element,r=s.is("input")?"val":"html",c=s.data();l+="Text",c.resetText==null&&s.data("resetText",s[r]()),setTimeout(t.proxy(function(){s[r](c[l]==null?this.options[l]:c[l]),l=="loadingText"?(this.isLoading=!0,s.addClass(a).attr(a,a).prop(a,!0)):this.isLoading&&(this.isLoading=!1,s.removeClass(a).removeAttr(a).prop(a,!1))},this),0)},n.prototype.toggle=function(){var l=!0,a=this.$element.closest('[data-toggle="buttons"]');if(a.length){var s=this.$element.find("input");s.prop("type")=="radio"?(s.prop("checked")&&(l=!1),a.find(".active").removeClass("active"),this.$element.addClass("active")):s.prop("type")=="checkbox"&&(s.prop("checked")!==this.$element.hasClass("active")&&(l=!1),this.$element.toggleClass("active")),s.prop("checked",this.$element.hasClass("active")),l&&s.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(l){var a=t(l.target).closest(".btn");e.call(a,"toggle"),t(l.target).is('input[type="radio"], input[type="checkbox"]')||(l.preventDefault(),a.is("input,button")?a.trigger("focus"):a.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(l){t(l.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(l.type))})}(jQuery)}),z3=Zi(function(){+function(t){"use strict";var e=function(s){return this.each(function(){var r=t(this),c=r.data("bs.carousel"),d=t.extend({},n.DEFAULTS,r.data(),typeof s=="object"&&s),h=typeof s=="string"?s:d.slide;c||r.data("bs.carousel",c=new n(this,d)),typeof s=="number"?c.to(s):h?c[h]():d.interval&&c.pause().cycle()})},n=function(s,r){this.$element=t(s),this.$indicators=this.$element.find(".carousel-indicators"),this.options=r,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.options.pause=="hover"&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.4.1",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},n.prototype.cycle=function(a){return a||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},n.prototype.getItemForDirection=function(a,s){var r=this.getItemIndex(s),c=a=="prev"&&r===0||a=="next"&&r==this.$items.length-1;if(c&&!this.options.wrap)return s;var d=a=="prev"?-1:1,h=(r+d)%this.$items.length;return this.$items.eq(h)},n.prototype.to=function(a){var s=this,r=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){s.to(a)}):r==a?this.pause().cycle():this.slide(a>r?"next":"prev",this.$items.eq(a))},n.prototype.pause=function(a){return a||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(a,s){var r=this.$element.find(".item.active"),c=s||this.getItemForDirection(a,r),d=this.interval,h=a=="next"?"left":"right",f=this;if(c.hasClass("active"))return this.sliding=!1;var v=c[0],_=t.Event("slide.bs.carousel",{relatedTarget:v,direction:h});if(this.$element.trigger(_),!_.isDefaultPrevented()){if(this.sliding=!0,d&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var b=t(this.$indicators.children()[this.getItemIndex(c)]);b&&b.addClass("active")}var w=t.Event("slid.bs.carousel",{relatedTarget:v,direction:h});return t.support.transition&&this.$element.hasClass("slide")?(c.addClass(a),typeof c=="object"&&c.length&&c[0].offsetWidth,r.addClass(h),c.addClass(h),r.one("bsTransitionEnd",function(){c.removeClass([a,h].join(" ")).addClass("active"),r.removeClass(["active",h].join(" ")),f.sliding=!1,setTimeout(function(){f.$element.trigger(w)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),c.addClass("active"),this.sliding=!1,this.$element.trigger(w)),d&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var l=function(s){var r=t(this),c=r.attr("href");c&&(c=c.replace(/.*(?=#[^\s]+$)/,""));var d=r.attr("data-target")||c,h=t(document).find(d);if(h.hasClass("carousel")){var f=t.extend({},h.data(),r.data()),v=r.attr("data-slide-to");v&&(f.interval=!1),e.call(h,f),v&&h.data("bs.carousel").to(v),s.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",l).on("click.bs.carousel.data-api","[data-slide-to]",l),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var a=t(this);e.call(a,a.data())})})}(jQuery)}),F3=Zi(function(){+function(t){"use strict";var e=function(s){var r,c=s.attr("data-target")||(r=s.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"");return t(document).find(c)},n=function(s){return this.each(function(){var r=t(this),c=r.data("bs.collapse"),d=t.extend({},o.DEFAULTS,r.data(),typeof s=="object"&&s);!c&&d.toggle&&/show|hide/.test(s)&&(d.toggle=!1),c||r.data("bs.collapse",c=new o(this,d)),typeof s=="string"&&c[s]()})},o=function(a,s){this.$element=t(a),this.options=t.extend({},o.DEFAULTS,s),this.$trigger=t('[data-toggle="collapse"][href="#'+a.id+'"],[data-toggle="collapse"][data-target="#'+a.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.4.1",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},o.prototype.show=function(){if(!(this.transitioning||this.$element.hasClass("in"))){var a,s=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(s&&s.length&&(a=s.data("bs.collapse"),a&&a.transitioning))){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){s&&s.length&&(n.call(s,"hide"),a||s.data("bs.collapse",null));var c=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[c](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var d=function(){this.$element.removeClass("collapsing").addClass("collapse in")[c](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return d.call(this);var h=t.camelCase(["scroll",c].join("-"));this.$element.one("bsTransitionEnd",t.proxy(d,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[c](this.$element[0][h])}}}},o.prototype.hide=function(){if(!(this.transitioning||!this.$element.hasClass("in"))){var a=t.Event("hide.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){var s=this.dimension();this.$element[s](this.$element[s]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return r.call(this);this.$element[s](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(a,s){var r=t(s);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(a,s){var r=a.hasClass("in");a.attr("aria-expanded",r),s.toggleClass("collapsed",!r).attr("aria-expanded",r)};var l=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=l,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(a){var s=t(this);s.attr("data-target")||a.preventDefault();var r=e(s),c=r.data("bs.collapse"),d=c?"toggle":s.data();n.call(r,d)})}(jQuery)}),H3=Zi(function(){+function(t){"use strict";var e=function(d){var h=d.attr("data-target");h||(h=d.attr("href"),h=h&&/#[A-Za-z]/.test(h)&&h.replace(/.*(?=#[^\s]*$)/,""));var f=h!=="#"?t(document).find(h):null;return f&&f.length?f:d.parent()},n=function(d){d&&d.which===3||(t(l).remove(),t(a).each(function(){var h=t(this),f=e(h),v={relatedTarget:this};f.hasClass("open")&&(d&&d.type=="click"&&/input|textarea/i.test(d.target.tagName)&&t.contains(f[0],d.target)||(f.trigger(d=t.Event("hide.bs.dropdown",v)),!d.isDefaultPrevented()&&(h.attr("aria-expanded","false"),f.removeClass("open").trigger(t.Event("hidden.bs.dropdown",v)))))}))},o=function(d){return this.each(function(){var h=t(this),f=h.data("bs.dropdown");f||h.data("bs.dropdown",f=new s(this)),typeof d=="string"&&f[d].call(h)})},l=".dropdown-backdrop",a='[data-toggle="dropdown"]',s=function(d){t(d).on("click.bs.dropdown",this.toggle)};s.VERSION="3.4.1",s.prototype.toggle=function(c){var d=t(this);if(!d.is(".disabled, :disabled")){var h=e(d),f=h.hasClass("open");if(n(),!f){"ontouchstart"in document.documentElement&&!h.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var v={relatedTarget:this};if(h.trigger(c=t.Event("show.bs.dropdown",v)),c.isDefaultPrevented())return;d.trigger("focus").attr("aria-expanded","true"),h.toggleClass("open").trigger(t.Event("shown.bs.dropdown",v))}return!1}},s.prototype.keydown=function(c){if(!(!/(38|40|27|32)/.test(c.which)||/input|textarea/i.test(c.target.tagName))){var d=t(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var h=e(d),f=h.hasClass("open");if(!f&&c.which!=27||f&&c.which==27)return c.which==27&&h.find(a).trigger("focus"),d.trigger("click");var v=" li:not(.disabled):visible a",_=h.find(".dropdown-menu"+v);if(_.length){var b=_.index(c.target);c.which==38&&b>0&&b--,c.which==40&&b<_.length-1&&b++,~b||(b=0),_.eq(b).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(c){c.stopPropagation()}).on("click.bs.dropdown.data-api",a,s.prototype.toggle).on("keydown.bs.dropdown.data-api",a,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery)}),U3=Zi(function(){+function(t){"use strict";var e=function(a,s){return this.each(function(){var r=t(this),c=r.data("bs.modal"),d=t.extend({},n.DEFAULTS,r.data(),typeof a=="object"&&a);c||r.data("bs.modal",c=new n(this,d)),typeof a=="string"?c[a](s):d.show&&c.show(s)})},n=function(a,s){this.options=s,this.$body=t(document.body),this.$element=t(a),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.4.1",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(l){return this.isShown?this.hide():this.show(l)},n.prototype.show=function(l){var a=this,s=t.Event("show.bs.modal",{relatedTarget:l});this.$element.trigger(s),!(this.isShown||s.isDefaultPrevented())&&(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){a.$element.one("mouseup.dismiss.bs.modal",function(r){t(r.target).is(a.$element)&&(a.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(a.$body),a.$element.show().scrollTop(0),a.adjustDialog(),r&&a.$element[0].offsetWidth,a.$element.addClass("in"),a.enforceFocus();var c=t.Event("shown.bs.modal",{relatedTarget:l});r?a.$dialog.one("bsTransitionEnd",function(){a.$element.trigger("focus").trigger(c)}).emulateTransitionEnd(n.TRANSITION_DURATION):a.$element.trigger("focus").trigger(c)}))},n.prototype.hide=function(l){l&&l.preventDefault(),l=t.Event("hide.bs.modal"),this.$element.trigger(l),!(!this.isShown||l.isDefaultPrevented())&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(l){document!==l.target&&this.$element[0]!==l.target&&!this.$element.has(l.target).length&&this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(l){l.which==27&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var l=this;this.$element.hide(),this.backdrop(function(){l.$body.removeClass("modal-open"),l.resetAdjustments(),l.resetScrollbar(),l.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(l){var a=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&s;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+s).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(d){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}d.target===d.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus():this.hide())},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!l)return;r?this.$backdrop.one("bsTransitionEnd",l).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):l()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var c=function(){a.removeBackdrop(),l&&l()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",c).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):c()}else l&&l()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var l=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&l?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!l?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var l=window.innerWidth;if(!l){var a=document.documentElement.getBoundingClientRect();l=a.right-Math.abs(a.left)}this.bodyIsOverflowing=document.body.clientWidth<l,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var l=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var a=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",l+a),t(this.fixedContent).each(function(s,r){var c=r.style.paddingRight,d=t(r).css("padding-right");t(r).data("padding-right",c).css("padding-right",parseFloat(d)+a+"px")}))},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),t(this.fixedContent).each(function(l,a){var s=t(a).data("padding-right");t(a).removeData("padding-right"),a.style.paddingRight=s||""})},n.prototype.measureScrollbar=function(){var l=document.createElement("div");l.className="modal-scrollbar-measure",this.$body.append(l);var a=l.offsetWidth-l.clientWidth;return this.$body[0].removeChild(l),a};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(l){var a=t(this),s=a.attr("href"),r=a.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,""),c=t(document).find(r),d=c.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},c.data(),a.data());a.is("a")&&l.preventDefault(),c.one("show.bs.modal",function(h){h.isDefaultPrevented()||c.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),e.call(c,d,this)})}(jQuery)}),V3=Zi(function(){+function(t){"use strict";var e=function(_,b){var w=_.nodeName.toLowerCase();if(t.inArray(w,b)!==-1)return t.inArray(w,a)!==-1?!!(_.nodeValue.match(c)||_.nodeValue.match(d)):!0;for(var A=t(b).filter(function(P,y){return _instanceof(y,RegExp)}),E=0,O=A.length;E<O;E++)if(w.match(A[E]))return!0;return!1},n=function(_,b,w){if(_.length===0)return _;if(w&&typeof w=="function")return w(_);if(!document.implementation||!document.implementation.createHTMLDocument)return _;var A=document.implementation.createHTMLDocument("sanitization");A.body.innerHTML=_;for(var E=t.map(b,function(L,D){return D}),O=t(A.body).find("*"),P=0,y=O.length;P<y;P++){var u=O[P],p=u.nodeName.toLowerCase();if(t.inArray(p,E)===-1){u.parentNode.removeChild(u);continue}for(var g=t.map(u.attributes,function(L){return L}),k=[].concat(b["*"]||[],b[p]||[]),x=0,j=g.length;x<j;x++)e(g[x],k)||u.removeAttribute(g[x].nodeName)}return A.body.innerHTML},o=function(_){return this.each(function(){var b=t(this),w=b.data("bs.tooltip"),A=typeof _=="object"&&_;!w&&/destroy|hide/.test(_)||(w||b.data("bs.tooltip",w=new h(this,A)),typeof _=="string"&&w[_]())})},l=["sanitize","whiteList","sanitizeFn"],a=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],s=/^aria-[\w-]*$/i,r={"*":["class","dir","id","lang","role",s],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},c=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,d=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,h=function(_,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",_,b)};h.VERSION="3.4.1",h.TRANSITION_DURATION=150,h.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:r},h.prototype.init=function(v,_,b){if(this.enabled=!0,this.type=v,this.$element=t(_),this.options=this.getOptions(b),this.$viewport=this.options.viewport&&t(document).find(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},_instanceof(this.$element[0],document.constructor)&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var w=this.options.trigger.split(" "),A=w.length;A--;){var E=w[A];if(E=="click")this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if(E!="manual"){var O=E=="hover"?"mouseenter":"focusin",P=E=="hover"?"mouseleave":"focusout";this.$element.on(O+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(P+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},h.prototype.getDefaults=function(){return h.DEFAULTS},h.prototype.getOptions=function(v){var _=this.$element.data();for(var b in _)_.hasOwnProperty(b)&&t.inArray(b,l)!==-1&&delete _[b];return v=t.extend({},this.getDefaults(),_,v),v.delay&&typeof v.delay=="number"&&(v.delay={show:v.delay,hide:v.delay}),v.sanitize&&(v.template=n(v.template,v.whiteList,v.sanitizeFn)),v},h.prototype.getDelegateOptions=function(){var v={},_=this.getDefaults();return this._options&&t.each(this._options,function(b,w){_[b]!=w&&(v[b]=w)}),v},h.prototype.enter=function(v){var _=_instanceof(v,this.constructor)?v:t(v.currentTarget).data("bs."+this.type);if(_||(_=new this.constructor(v.currentTarget,this.getDelegateOptions()),t(v.currentTarget).data("bs."+this.type,_)),_instanceof(v,t.Event)&&(_.inState[v.type=="focusin"?"focus":"hover"]=!0),_.tip().hasClass("in")||_.hoverState=="in"){_.hoverState="in";return}if(clearTimeout(_.timeout),_.hoverState="in",!_.options.delay||!_.options.delay.show)return _.show();_.timeout=setTimeout(function(){_.hoverState=="in"&&_.show()},_.options.delay.show)},h.prototype.isInStateTrue=function(){for(var v in this.inState)if(this.inState[v])return!0;return!1},h.prototype.leave=function(v){var _=_instanceof(v,this.constructor)?v:t(v.currentTarget).data("bs."+this.type);if(_||(_=new this.constructor(v.currentTarget,this.getDelegateOptions()),t(v.currentTarget).data("bs."+this.type,_)),_instanceof(v,t.Event)&&(_.inState[v.type=="focusout"?"focus":"hover"]=!1),!_.isInStateTrue()){if(clearTimeout(_.timeout),_.hoverState="out",!_.options.delay||!_.options.delay.hide)return _.hide();_.timeout=setTimeout(function(){_.hoverState=="out"&&_.hide()},_.options.delay.hide)}},h.prototype.show=function(){var v=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(v);var _=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(v.isDefaultPrevented()||!_)return;var b=this,w=this.tip(),A=this.getUID(this.type);this.setContent(),w.attr("id",A),this.$element.attr("aria-describedby",A),this.options.animation&&w.addClass("fade");var E=typeof this.options.placement=="function"?this.options.placement.call(this,w[0],this.$element[0]):this.options.placement,O=/\s?auto?\s?/i,P=O.test(E);P&&(E=E.replace(O,"")||"top"),w.detach().css({top:0,left:0,display:"block"}).addClass(E).data("bs."+this.type,this),this.options.container?w.appendTo(t(document).find(this.options.container)):w.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var y=this.getPosition(),u=w[0].offsetWidth,p=w[0].offsetHeight;if(P){var g=E,k=this.getPosition(this.$viewport);E=E=="bottom"&&y.bottom+p>k.bottom?"top":E=="top"&&y.top-p<k.top?"bottom":E=="right"&&y.right+u>k.width?"left":E=="left"&&y.left-u<k.left?"right":E,w.removeClass(g).addClass(E)}var x=this.getCalculatedOffset(E,y,u,p);this.applyPlacement(x,E);var j=function(){var D=b.hoverState;b.$element.trigger("shown.bs."+b.type),b.hoverState=null,D=="out"&&b.leave(b)};t.support.transition&&this.$tip.hasClass("fade")?w.one("bsTransitionEnd",j).emulateTransitionEnd(h.TRANSITION_DURATION):j()}},h.prototype.applyPlacement=function(v,_){var b=this.tip(),w=b[0].offsetWidth,A=b[0].offsetHeight,E=parseInt(b.css("margin-top"),10),O=parseInt(b.css("margin-left"),10);isNaN(E)&&(E=0),isNaN(O)&&(O=0),v.top+=E,v.left+=O,t.offset.setOffset(b[0],t.extend({using:function(j){b.css({top:Math.round(j.top),left:Math.round(j.left)})}},v),0),b.addClass("in");var P=b[0].offsetWidth,y=b[0].offsetHeight;_=="top"&&y!=A&&(v.top=v.top+A-y);var u=this.getViewportAdjustedDelta(_,v,P,y);u.left?v.left+=u.left:v.top+=u.top;var p=/top|bottom/.test(_),g=p?u.left*2-w+P:u.top*2-A+y,k=p?"offsetWidth":"offsetHeight";b.offset(v),this.replaceArrow(g,b[0][k],p)},h.prototype.replaceArrow=function(v,_,b){this.arrow().css(b?"left":"top",50*(1-v/_)+"%").css(b?"top":"left","")},h.prototype.setContent=function(){var v=this.tip(),_=this.getTitle();this.options.html?(this.options.sanitize&&(_=n(_,this.options.whiteList,this.options.sanitizeFn)),v.find(".tooltip-inner").html(_)):v.find(".tooltip-inner").text(_),v.removeClass("fade in top bottom left right")},h.prototype.hide=function(v){var _=function(){b.hoverState!="in"&&w.detach(),b.$element&&b.$element.removeAttr("aria-describedby").trigger("hidden.bs."+b.type),v&&v()},b=this,w=t(this.$tip),A=t.Event("hide.bs."+this.type);if(this.$element.trigger(A),!A.isDefaultPrevented())return w.removeClass("in"),t.support.transition&&w.hasClass("fade")?w.one("bsTransitionEnd",_).emulateTransitionEnd(h.TRANSITION_DURATION):_(),this.hoverState=null,this},h.prototype.fixTitle=function(){var v=this.$element;(v.attr("title")||typeof v.attr("data-original-title")!="string")&&v.attr("data-original-title",v.attr("title")||"").attr("title","")},h.prototype.hasContent=function(){return this.getTitle()},h.prototype.getPosition=function(v){v=v||this.$element;var _=v[0],b=_.tagName=="BODY",w=_.getBoundingClientRect();w.width==null&&(w=t.extend({},w,{width:w.right-w.left,height:w.bottom-w.top}));var A=window.SVGElement&&_instanceof(_,window.SVGElement),E=b?{top:0,left:0}:A?null:v.offset(),O={scroll:b?document.documentElement.scrollTop||document.body.scrollTop:v.scrollTop()},P=b?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},w,O,P,E)},h.prototype.getCalculatedOffset=function(v,_,b,w){return v=="bottom"?{top:_.top+_.height,left:_.left+_.width/2-b/2}:v=="top"?{top:_.top-w,left:_.left+_.width/2-b/2}:v=="left"?{top:_.top+_.height/2-w/2,left:_.left-b}:{top:_.top+_.height/2-w/2,left:_.left+_.width}},h.prototype.getViewportAdjustedDelta=function(v,_,b,w){var A={top:0,left:0};if(!this.$viewport)return A;var E=this.options.viewport&&this.options.viewport.padding||0,O=this.getPosition(this.$viewport);if(/right|left/.test(v)){var P=_.top-E-O.scroll,y=_.top+E-O.scroll+w;P<O.top?A.top=O.top-P:y>O.top+O.height&&(A.top=O.top+O.height-y)}else{var u=_.left-E,p=_.left+E+b;u<O.left?A.left=O.left-u:p>O.right&&(A.left=O.left+O.width-p)}return A},h.prototype.getTitle=function(){var v,_=this.$element,b=this.options;return v=_.attr("data-original-title")||(typeof b.title=="function"?b.title.call(_[0]):b.title),v},h.prototype.getUID=function(v){do v+=~~(Math.random()*1e6);while(document.getElementById(v));return v},h.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),this.$tip.length!=1))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},h.prototype.enable=function(){this.enabled=!0},h.prototype.disable=function(){this.enabled=!1},h.prototype.toggleEnabled=function(){this.enabled=!this.enabled},h.prototype.toggle=function(v){var _=this;v&&(_=t(v.currentTarget).data("bs."+this.type),_||(_=new this.constructor(v.currentTarget,this.getDelegateOptions()),t(v.currentTarget).data("bs."+this.type,_))),v?(_.inState.click=!_.inState.click,_.isInStateTrue()?_.enter(_):_.leave(_)):_.tip().hasClass("in")?_.leave(_):_.enter(_)},h.prototype.destroy=function(){var v=this;clearTimeout(this.timeout),this.hide(function(){v.$element.off("."+v.type).removeData("bs."+v.type),v.$tip&&v.$tip.detach(),v.$tip=null,v.$arrow=null,v.$viewport=null,v.$element=null})},h.prototype.sanitizeHtml=function(v){return n(v,this.options.whiteList,this.options.sanitizeFn)};var f=t.fn.tooltip;t.fn.tooltip=o,t.fn.tooltip.Constructor=h,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=f,this}}(jQuery)}),W3=Zi(function(){+function(t){"use strict";var e=function(a){return this.each(function(){var s=t(this),r=s.data("bs.popover"),c=typeof a=="object"&&a;!r&&/destroy|hide/.test(a)||(r||s.data("bs.popover",r=new n(this,c)),typeof a=="string"&&r[a]())})},n=function(a,s){this.init("popover",a,s)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.4.1",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var l=this.tip(),a=this.getTitle(),s=this.getContent();if(this.options.html){var r=typeof s=="undefined"?"undefined":_typeof(s);this.options.sanitize&&(a=this.sanitizeHtml(a),r==="string"&&(s=this.sanitizeHtml(s))),l.find(".popover-title").html(a),l.find(".popover-content").children().detach().end()[r==="string"?"html":"append"](s)}else l.find(".popover-title").text(a),l.find(".popover-content").children().detach().end().text(s);l.removeClass("fade top bottom left right in"),l.find(".popover-title").html()||l.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var l=this.$element,a=this.options;return l.attr("data-content")||(typeof a.content=="function"?a.content.call(l[0]):a.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery)}),q3=Zi(function(){+function(t){"use strict";var e=function(a){return this.each(function(){var s=t(this),r=s.data("bs.scrollspy"),c=typeof a=="object"&&a;r||s.data("bs.scrollspy",r=new n(this,c)),typeof a=="string"&&r[a]()})};function n(l,a){this.$body=t(document.body),this.$scrollElement=t(l).is(document.body)?t(window):t(l),this.options=t.extend({},n.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}n.VERSION="3.4.1",n.DEFAULTS={offset:10},n.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},n.prototype.refresh=function(){var l=this,a="offset",s=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(a="position",s=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var r=t(this),c=r.data("target")||r.attr("href"),d=/^#./.test(c)&&t(c);return d&&d.length&&d.is(":visible")&&[[d[a]().top+s,c]]||null}).sort(function(r,c){return r[0]-c[0]}).each(function(){l.offsets.push(this[0]),l.targets.push(this[1])})},n.prototype.process=function(){var l=this.$scrollElement.scrollTop()+this.options.offset,a=this.getScrollHeight(),s=this.options.offset+a-this.$scrollElement.height(),r=this.offsets,c=this.targets,d=this.activeTarget,h;if(this.scrollHeight!=a&&this.refresh(),l>=s)return d!=(h=c[c.length-1])&&this.activate(h);if(d&&l<r[0])return this.activeTarget=null,this.clear();for(h=r.length;h--;)d!=c[h]&&l>=r[h]&&(r[h+1]===void 0||l<r[h+1])&&this.activate(c[h])},n.prototype.activate=function(l){this.activeTarget=l,this.clear();var a=this.selector+'[data-target="'+l+'"],'+this.selector+'[href="'+l+'"]',s=t(a).parents("li").addClass("active");s.parent(".dropdown-menu").length&&(s=s.closest("li.dropdown").addClass("active")),s.trigger("activate.bs.scrollspy")},n.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=e,t.fn.scrollspy.Constructor=n,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var l=t(this);e.call(l,l.data())})})}(jQuery)}),G3=Zi(function(){+function(t){"use strict";var e=function(s){return this.each(function(){var r=t(this),c=r.data("bs.tab");c||r.data("bs.tab",c=new n(this)),typeof s=="string"&&c[s]()})},n=function(s){this.element=t(s)};n.VERSION="3.4.1",n.TRANSITION_DURATION=150,n.prototype.show=function(){var a=this.element,s=a.closest("ul:not(.dropdown-menu)"),r=a.data("target");if(r||(r=a.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var c=s.find(".active:last a"),d=t.Event("hide.bs.tab",{relatedTarget:a[0]}),h=t.Event("show.bs.tab",{relatedTarget:c[0]});if(c.trigger(d),a.trigger(h),!(h.isDefaultPrevented()||d.isDefaultPrevented())){var f=t(document).find(r);this.activate(a.closest("li"),s),this.activate(f,f.parent(),function(){c.trigger({type:"hidden.bs.tab",relatedTarget:a[0]}),a.trigger({type:"shown.bs.tab",relatedTarget:c[0]})})}}},n.prototype.activate=function(a,s,r){var c=function(){d.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),a.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu").length&&a.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()},d=s.find("> .active"),h=r&&t.support.transition&&(d.length&&d.hasClass("fade")||!!s.find("> .fade").length);d.length&&h?d.one("bsTransitionEnd",c).emulateTransitionEnd(n.TRANSITION_DURATION):c(),d.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var l=function(s){s.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',l).on("click.bs.tab.data-api",'[data-toggle="pill"]',l)}(jQuery)}),Y3=Zi(function(){+function(t){"use strict";var e=function(a){return this.each(function(){var s=t(this),r=s.data("bs.affix"),c=typeof a=="object"&&a;r||s.data("bs.affix",r=new n(this,c)),typeof a=="string"&&r[a]()})},n=function(l,a){this.options=t.extend({},n.DEFAULTS,a);var s=this.options.target===n.DEFAULTS.target?t(this.options.target):t(document).find(this.options.target);this.$target=s.on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(l),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.4.1",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(l,a,s,r){var c=this.$target.scrollTop(),d=this.$element.offset(),h=this.$target.height();if(s!=null&&this.affixed=="top")return c<s?"top":!1;if(this.affixed=="bottom")return s!=null?c+this.unpin<=d.top?!1:"bottom":c+h<=l-r?!1:"bottom";var f=this.affixed==null,v=f?c:d.top,_=f?h:a;return s!=null&&c<=s?"top":r!=null&&v+_>=l-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var l=this.$target.scrollTop(),a=this.$element.offset();return this.pinnedOffset=a.top-l},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var l=this.$element.height(),a=this.options.offset,s=a.top,r=a.bottom,c=Math.max(t(document).height(),t(document.body).height());typeof a!="object"&&(r=s=a),typeof s=="function"&&(s=a.top(this.$element)),typeof r=="function"&&(r=a.bottom(this.$element));var d=this.getState(c,l,s,r);if(this.affixed!=d){this.unpin!=null&&this.$element.css("top","");var h="affix"+(d?"-"+d:""),f=t.Event(h+".bs.affix");if(this.$element.trigger(f),f.isDefaultPrevented())return;this.affixed=d,this.unpin=d=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(h).trigger(h.replace("affix","affixed")+".bs.affix")}d=="bottom"&&this.$element.offset({top:c-l-r})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var l=t(this),a=l.data();a.offset=a.offset||{},a.offsetBottom!=null&&(a.offset.bottom=a.offsetBottom),a.offsetTop!=null&&(a.offset.top=a.offsetTop),e.call(l,a)})})}(jQuery)}),Bv=Zi(function(){$3(),B3(),N3(),z3(),F3(),H3(),U3(),V3(),W3(),q3(),G3(),Y3()}),Nv={},R3(Nv,{default:function(){return Fv}}),X3=$v(Bv()),D3(Nv,$v(Bv()));var m;Wn=X3,m=Wn,zv=m.default,K3=Ai(Wn,["default"]),Fv=zv!==void 0?zv:K3}}),Hv={};ai(Hv,{default:function(){return Fv}});var J3=Mt({"https-url:https://esm.archive.org/bootstrap@^3.0.0":function(){Q3(),Q3()}}),Z3,Yd,e6,t6,n6,r6,i6,o6,Xd,a6,Uv,Vv,Wv,s6,Wn,qv,l6,Gv,u6=Mt({"https-url:https://esm.archive.org/v135/flot@0.8.3/esnext/flot.mjs":function(){Z3=Object.create,Yd=Object.defineProperty,e6=Object.getOwnPropertyDescriptor,t6=Object.getOwnPropertyNames,n6=Object.getPrototypeOf,r6=Object.prototype.hasOwnProperty,i6=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},o6=function(t,e){for(var n in e)Yd(t,n,{get:e[n],enumerable:!0})},Xd=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!r6.call(t,v)&&v!==n&&Yd(t,v,{get:function(){return e[v]},enumerable:!(o=e6(e,v))||o.enumerable})},c=t6(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},a6=function(t,e,n){return Xd(t,e,"default"),n&&Xd(n,e,"default")},Uv=function(t,e,n){return n=t!=null?Z3(n6(t)):{},Xd(e||!t||!t.__esModule?Yd(n,"default",{value:t,enumerable:!0}):n,t)},Vv=i6(function(){(function(t){t.color={},t.color.make=function(n,o,l,a){var s={};return s.r=n||0,s.g=o||0,s.b=l||0,s.a=a!=null?a:1,s.add=function(r,c){for(var d=0;d<r.length;++d)s[r.charAt(d)]+=c;return s.normalize()},s.scale=function(r,c){for(var d=0;d<r.length;++d)s[r.charAt(d)]*=c;return s.normalize()},s.toString=function(){return s.a>=1?"rgb("+[s.r,s.g,s.b].join(",")+")":"rgba("+[s.r,s.g,s.b,s.a].join(",")+")"},s.normalize=function(){var r=function(d,h,f){return h<d?d:h>f?f:h};return s.r=r(0,parseInt(s.r),255),s.g=r(0,parseInt(s.g),255),s.b=r(0,parseInt(s.b),255),s.a=r(0,s.a,1),s},s.clone=function(){return t.color.make(s.r,s.b,s.g,s.a)},s.normalize()},t.color.extract=function(n,o){var l;do{if(l=n.css(o).toLowerCase(),l!=""&&l!="transparent")break;n=n.parent()}while(n.length&&!t.nodeName(n.get(0),"body"));return l=="rgba(0, 0, 0, 0)"&&(l="transparent"),t.color.parse(l)},t.color.parse=function(n){var o,l=t.color.make;if(o=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return l(parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10));if(o=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return l(parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10),parseFloat(o[4]));if(o=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return l(parseFloat(o[1])*2.55,parseFloat(o[2])*2.55,parseFloat(o[3])*2.55);if(o=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return l(parseFloat(o[1])*2.55,parseFloat(o[2])*2.55,parseFloat(o[3])*2.55,parseFloat(o[4]));if(o=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return l(parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16));if(o=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return l(parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16));var a=t.trim(n).toLowerCase();return a=="transparent"?l(255,255,255,0):(o=e[a]||[0,0,0],l(o[0],o[1],o[2]))};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery),function(t){var e=function(s,r){var c=r.children("."+s)[0];if(c==null&&(c=document.createElement("canvas"),c.className=s,t(c).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(r),!c.getContext))if(window.G_vmlCanvasManager)c=window.G_vmlCanvasManager.initElement(c);else throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=c;var d=this.context=c.getContext("2d"),h=window.devicePixelRatio||1,f=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;this.pixelRatio=h/f,this.resize(r.width(),r.height()),this.textContainer=null,this.text={},this._textCache={}},n=function(s,r,c,d){var h=[],f={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:16.666666666666668},hooks:{}},v=null,_=null,b=null,w=null,A=null,E=[],O=[],P={left:0,right:0,top:0,bottom:0},y=0,u=0,p={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},g=this;g.setData=L,g.setupGrid=De,g.draw=ht,g.getPlaceholder=function(){return s},g.getCanvas=function(){return v.element},g.getPlotOffset=function(){return P},g.width=function(){return y},g.height=function(){return u},g.offset=function(){var R=b.offset();return R.left+=P.left,R.top+=P.top,R},g.getData=function(){return h},g.getAxes=function(){var R={},le;return t.each(E.concat(O),function(ue,ve){ve&&(R[ve.direction+(ve.n!=1?ve.n:"")+"axis"]=ve)}),R},g.getXAxes=function(){return E},g.getYAxes=function(){return O},g.c2p=Q,g.p2c=H,g.getOptions=function(){return f},g.highlight=ut,g.unhighlight=we,g.triggerRedrawOverlay=_t,g.pointOffset=function(R){return{left:parseInt(E[F(R,"x")-1].p2c(+R.x)+P.left,10),top:parseInt(O[F(R,"y")-1].p2c(+R.y)+P.top,10)}},g.shutdown=q,g.destroy=function(){q(),s.removeData("plot").empty(),h=[],f=null,v=null,_=null,b=null,w=null,A=null,E=[],O=[],p=null,ct=[],g=null},g.resize=function(){var R=s.width(),le=s.height();v.resize(R,le),_.resize(R,le)},g.hooks=p,x(g),j(c),Y(),L(r),De(),ht(),oe();function k(R,le){le=[g].concat(le);for(var ue=0;ue<R.length;++ue)R[ue].apply(this,le)}function x(){for(var R={Canvas:e},le=0;le<d.length;++le){var ue=d[le];ue.init(g,R),ue.options&&t.extend(!0,f,ue.options)}}function j(R){t.extend(!0,f,R),R&&R.colors&&(f.colors=R.colors),f.xaxis.color==null&&(f.xaxis.color=t.color.parse(f.grid.color).scale("a",.22).toString()),f.yaxis.color==null&&(f.yaxis.color=t.color.parse(f.grid.color).scale("a",.22).toString()),f.xaxis.tickColor==null&&(f.xaxis.tickColor=f.grid.tickColor||f.xaxis.color),f.yaxis.tickColor==null&&(f.yaxis.tickColor=f.grid.tickColor||f.yaxis.color),f.grid.borderColor==null&&(f.grid.borderColor=f.grid.color),f.grid.tickColor==null&&(f.grid.tickColor=t.color.parse(f.grid.color).scale("a",.22).toString());var le,ue,ve,de=s.css("font-size"),K=de?+de.replace("px",""):13,ge={style:s.css("font-style"),size:Math.round(.8*K),variant:s.css("font-variant"),weight:s.css("font-weight"),family:s.css("font-family")};for(ve=f.xaxes.length||1,le=0;le<ve;++le)ue=f.xaxes[le],ue&&!ue.tickColor&&(ue.tickColor=ue.color),ue=t.extend(!0,{},f.xaxis,ue),f.xaxes[le]=ue,ue.font&&(ue.font=t.extend({},ge,ue.font),ue.font.color||(ue.font.color=ue.color),ue.font.lineHeight||(ue.font.lineHeight=Math.round(ue.font.size*1.15)));for(ve=f.yaxes.length||1,le=0;le<ve;++le)ue=f.yaxes[le],ue&&!ue.tickColor&&(ue.tickColor=ue.color),ue=t.extend(!0,{},f.yaxis,ue),f.yaxes[le]=ue,ue.font&&(ue.font=t.extend({},ge,ue.font),ue.font.color||(ue.font.color=ue.color),ue.font.lineHeight||(ue.font.lineHeight=Math.round(ue.font.size*1.15)));for(f.xaxis.noTicks&&f.xaxis.ticks==null&&(f.xaxis.ticks=f.xaxis.noTicks),f.yaxis.noTicks&&f.yaxis.ticks==null&&(f.yaxis.ticks=f.yaxis.noTicks),f.x2axis&&(f.xaxes[1]=t.extend(!0,{},f.xaxis,f.x2axis),f.xaxes[1].position="top",f.x2axis.min==null&&(f.xaxes[1].min=null),f.x2axis.max==null&&(f.xaxes[1].max=null)),f.y2axis&&(f.yaxes[1]=t.extend(!0,{},f.yaxis,f.y2axis),f.yaxes[1].position="right",f.y2axis.min==null&&(f.yaxes[1].min=null),f.y2axis.max==null&&(f.yaxes[1].max=null)),f.grid.coloredAreas&&(f.grid.markings=f.grid.coloredAreas),f.grid.coloredAreasColor&&(f.grid.markingsColor=f.grid.coloredAreasColor),f.lines&&t.extend(!0,f.series.lines,f.lines),f.points&&t.extend(!0,f.series.points,f.points),f.bars&&t.extend(!0,f.series.bars,f.bars),f.shadowSize!=null&&(f.series.shadowSize=f.shadowSize),f.highlightColor!=null&&(f.series.highlightColor=f.highlightColor),le=0;le<f.xaxes.length;++le)ce(E,le+1).options=f.xaxes[le];for(le=0;le<f.yaxes.length;++le)ce(O,le+1).options=f.yaxes[le];for(var Ee in p)f.hooks[Ee]&&f.hooks[Ee].length&&(p[Ee]=p[Ee].concat(f.hooks[Ee]));k(p.processOptions,[f])}function L(R){h=D(R),ne(),V()}function D(R){for(var le=[],ue=0;ue<R.length;++ue){var ve=t.extend(!0,{},f.series);R[ue].data!=null?(ve.data=R[ue].data,delete R[ue].data,t.extend(!0,ve,R[ue]),R[ue].data=ve.data):ve.data=R[ue],le.push(ve)}return le}function F(R,le){var ue=R[le+"axis"];return typeof ue=="object"&&(ue=ue.n),typeof ue!="number"&&(ue=1),ue}function X(){return t.grep(E.concat(O),function(R){return R})}function Q(R){var le={},ue,ve;for(ue=0;ue<E.length;++ue)ve=E[ue],ve&&ve.used&&(le["x"+ve.n]=ve.c2p(R.left));for(ue=0;ue<O.length;++ue)ve=O[ue],ve&&ve.used&&(le["y"+ve.n]=ve.c2p(R.top));return le.x1!==void 0&&(le.x=le.x1),le.y1!==void 0&&(le.y=le.y1),le}function H(R){var le={},ue,ve,de;for(ue=0;ue<E.length;++ue)if(ve=E[ue],ve&&ve.used&&(de="x"+ve.n,R[de]==null&&ve.n==1&&(de="x"),R[de]!=null)){le.left=ve.p2c(R[de]);break}for(ue=0;ue<O.length;++ue)if(ve=O[ue],ve&&ve.used&&(de="y"+ve.n,R[de]==null&&ve.n==1&&(de="y"),R[de]!=null)){le.top=ve.p2c(R[de]);break}return le}function ce(R,le){return R[le-1]||(R[le-1]={n:le,direction:R==E?"x":"y",options:t.extend(!0,{},R==E?f.xaxis:f.yaxis)}),R[le-1]}function ne(){var R=h.length,le=-1,ue;for(ue=0;ue<h.length;++ue){var ve=h[ue].color;ve!=null&&(R--,typeof ve=="number"&&ve>le&&(le=ve))}R<=le&&(R=le+1);var de,K=[],ge=f.colors,Ee=ge.length,Ce=0;for(ue=0;ue<R;ue++)de=t.color.parse(ge[ue%Ee]||"#666"),ue%Ee==0&&ue&&(Ce>=0?Ce<.5?Ce=-Ce-.2:Ce=0:Ce=-Ce),K[ue]=de.scale("rgb",1+Ce);var Ye=0,Be;for(ue=0;ue<h.length;++ue){if(Be=h[ue],Be.color==null?(Be.color=K[Ye].toString(),++Ye):typeof Be.color=="number"&&(Be.color=K[Be.color].toString()),Be.lines.show==null){var Je,Tt=!0;for(Je in Be)if(Be[Je]&&Be[Je].show){Tt=!1;break}Tt&&(Be.lines.show=!0)}Be.lines.zero==null&&(Be.lines.zero=!!Be.lines.fill),Be.xaxis=ce(E,F(Be,"x")),Be.yaxis=ce(O,F(Be,"y"))}}function V(){var R=Number.POSITIVE_INFINITY,le=Number.NEGATIVE_INFINITY,ue=Number.MAX_VALUE,ve,de,K,ge,Ee,Ce,Ye,Be,Je,Tt,jt,Et,Zt,Nt,Ft,Dt;function Jt(pe,xe,$e){xe<pe.datamin&&xe!=-ue&&(pe.datamin=xe),$e>pe.datamax&&$e!=ue&&(pe.datamax=$e)}for(t.each(X(),function(pe,xe){xe.datamin=R,xe.datamax=le,xe.used=!1}),ve=0;ve<h.length;++ve)Ce=h[ve],Ce.datapoints={points:[]},k(p.processRawData,[Ce,Ce.data,Ce.datapoints]);for(ve=0;ve<h.length;++ve){if(Ce=h[ve],Ft=Ce.data,Dt=Ce.datapoints.format,!Dt){if(Dt=[],Dt.push({x:!0,number:!0,required:!0}),Dt.push({y:!0,number:!0,required:!0}),Ce.bars.show||Ce.lines.show&&Ce.lines.fill){var Qt=!!(Ce.bars.show&&Ce.bars.zero||Ce.lines.show&&Ce.lines.zero);Dt.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:Qt}),Ce.bars.horizontal&&(delete Dt[Dt.length-1].y,Dt[Dt.length-1].x=!0)}Ce.datapoints.format=Dt}if(Ce.datapoints.pointsize==null){Ce.datapoints.pointsize=Dt.length,Be=Ce.datapoints.pointsize,Ye=Ce.datapoints.points;var gn=Ce.lines.show&&Ce.lines.steps;for(Ce.xaxis.used=Ce.yaxis.used=!0,de=K=0;de<Ft.length;++de,K+=Be){Nt=Ft[de];var Bt=Nt==null;if(!Bt)for(ge=0;ge<Be;++ge)Et=Nt[ge],Zt=Dt[ge],Zt&&(Zt.number&&Et!=null&&(Et=+Et,isNaN(Et)?Et=null:Et==1/0?Et=ue:Et==-1/0&&(Et=-ue)),Et==null&&(Zt.required&&(Bt=!0),Zt.defaultValue!=null&&(Et=Zt.defaultValue))),Ye[K+ge]=Et;if(Bt)for(ge=0;ge<Be;++ge)Et=Ye[K+ge],Et!=null&&(Zt=Dt[ge],Zt.autoscale!==!1&&(Zt.x&&Jt(Ce.xaxis,Et,Et),Zt.y&&Jt(Ce.yaxis,Et,Et))),Ye[K+ge]=null;else if(gn&&K>0&&Ye[K-Be]!=null&&Ye[K-Be]!=Ye[K]&&Ye[K-Be+1]!=Ye[K+1]){for(ge=0;ge<Be;++ge)Ye[K+Be+ge]=Ye[K+ge];Ye[K+1]=Ye[K-Be+1],K+=Be}}}}for(ve=0;ve<h.length;++ve)Ce=h[ve],k(p.processDatapoints,[Ce,Ce.datapoints]);for(ve=0;ve<h.length;++ve){Ce=h[ve],Ye=Ce.datapoints.points,Be=Ce.datapoints.pointsize,Dt=Ce.datapoints.format;var an=R,tn=R,_n=le,Wt=le;for(de=0;de<Ye.length;de+=Be)if(Ye[de]!=null)for(ge=0;ge<Be;++ge)Et=Ye[de+ge],Zt=Dt[ge],!(!Zt||Zt.autoscale===!1||Et==ue||Et==-ue)&&(Zt.x&&(Et<an&&(an=Et),Et>_n&&(_n=Et)),Zt.y&&(Et<tn&&(tn=Et),Et>Wt&&(Wt=Et)));if(Ce.bars.show){var Re;switch(Ce.bars.align){case"left":Re=0;break;case"right":Re=-Ce.bars.barWidth;break;default:Re=-Ce.bars.barWidth/2}Ce.bars.horizontal?(tn+=Re,Wt+=Re+Ce.bars.barWidth):(an+=Re,_n+=Re+Ce.bars.barWidth)}Jt(Ce.xaxis,an,_n),Jt(Ce.yaxis,tn,Wt)}t.each(X(),function(pe,xe){xe.datamin==R&&(xe.datamin=null),xe.datamax==le&&(xe.datamax=null)})}function Y(){s.css("padding",0).children().filter(function(){return!t(this).hasClass("flot-overlay")&&!t(this).hasClass("flot-base")}).remove(),s.css("position")=="static"&&s.css("position","relative"),v=new e("flot-base",s),_=new e("flot-overlay",s),w=v.context,A=_.context,b=t(_.element).unbind();var R=s.data("plot");R&&(R.shutdown(),_.clear()),s.data("plot",g)}function oe(){f.grid.hoverable&&(b.mousemove(He),b.bind("mouseleave",rt)),f.grid.clickable&&b.click(it),k(p.bindEvents,[b])}function q(){Ge&&clearTimeout(Ge),b.unbind("mousemove",He),b.unbind("mouseleave",rt),b.unbind("click",it),k(p.shutdown,[b])}function G(R){function le(ge){return ge}var ue,ve,de=R.options.transform||le,K=R.options.inverseTransform;R.direction=="x"?(ue=R.scale=y/Math.abs(de(R.max)-de(R.min)),ve=Math.min(de(R.max),de(R.min))):(ue=R.scale=u/Math.abs(de(R.max)-de(R.min)),ue=-ue,ve=Math.max(de(R.max),de(R.min))),de==le?R.p2c=function(ge){return(ge-ve)*ue}:R.p2c=function(ge){return(de(ge)-ve)*ue},K?R.c2p=function(ge){return K(ve+ge/ue)}:R.c2p=function(ge){return ve+ge/ue}}function J(R){for(var le=R.options,ue=R.ticks||[],ve=le.labelWidth||0,de=le.labelHeight||0,K=ve||(R.direction=="x"?Math.floor(v.width/(ue.length||1)):null),ge=R.direction+"Axis "+R.direction+R.n+"Axis",Ee="flot-"+R.direction+"-axis flot-"+R.direction+R.n+"-axis "+ge,Ce=le.font||"flot-tick-label tickLabel",Ye=0;Ye<ue.length;++Ye){var Be=ue[Ye];if(Be.label){var Je=v.getTextInfo(Ee,Be.label,Ce,null,K);ve=Math.max(ve,Je.width),de=Math.max(de,Je.height)}}R.labelWidth=le.labelWidth||ve,R.labelHeight=le.labelHeight||de}function ae(R){var le=R.labelWidth,ue=R.labelHeight,ve=R.options.position,de=R.direction==="x",K=R.options.tickLength,ge=f.grid.axisMargin,Ee=f.grid.labelMargin,Ce=!0,Ye=!0,Be=!0,Je=!1;t.each(de?E:O,function(Tt,jt){jt&&(jt.show||jt.reserveSpace)&&(jt===R?Je=!0:jt.options.position===ve&&(Je?Ye=!1:Ce=!1),Je||(Be=!1))}),Ye&&(ge=0),K==null&&(K=Be?"full":5),isNaN(+K)||(Ee+=+K),de?(ue+=Ee,ve=="bottom"?(P.bottom+=ue+ge,R.box={top:v.height-P.bottom,height:ue}):(R.box={top:P.top+ge,height:ue},P.top+=ue+ge)):(le+=Ee,ve=="left"?(R.box={left:P.left+ge,width:le},P.left+=le+ge):(P.right+=le+ge,R.box={left:v.width-P.right,width:le})),R.position=ve,R.tickLength=K,R.box.padding=Ee,R.innermost=Ce}function ie(R){R.direction=="x"?(R.box.left=P.left-R.labelWidth/2,R.box.width=v.width-P.left-P.right+R.labelWidth):(R.box.top=P.top-R.labelHeight/2,R.box.height=v.height-P.bottom-P.top+R.labelHeight)}function Oe(){var R=f.grid.minBorderMargin,le,ue;if(R==null)for(R=0,ue=0;ue<h.length;++ue)R=Math.max(R,2*(h[ue].points.radius+h[ue].points.lineWidth/2));var ve={left:R,right:R,top:R,bottom:R};t.each(X(),function(de,K){K.reserveSpace&&K.ticks&&K.ticks.length&&(K.direction==="x"?(ve.left=Math.max(ve.left,K.labelWidth/2),ve.right=Math.max(ve.right,K.labelWidth/2)):(ve.bottom=Math.max(ve.bottom,K.labelHeight/2),ve.top=Math.max(ve.top,K.labelHeight/2)))}),P.left=Math.ceil(Math.max(ve.left,P.left)),P.right=Math.ceil(Math.max(ve.right,P.right)),P.top=Math.ceil(Math.max(ve.top,P.top)),P.bottom=Math.ceil(Math.max(ve.bottom,P.bottom))}function De(){var R,le=X(),ue=f.grid.show;for(var ve in P){var de=f.grid.margin||0;P[ve]=typeof de=="number"?de:de[ve]||0}k(p.processOffset,[P]);for(var ve in P)typeof f.grid.borderWidth=="object"?P[ve]+=ue?f.grid.borderWidth[ve]:0:P[ve]+=ue?f.grid.borderWidth:0;if(t.each(le,function(ge,Ee){var Ce=Ee.options;Ee.show=Ce.show==null?Ee.used:Ce.show,Ee.reserveSpace=Ce.reserveSpace==null?Ee.show:Ce.reserveSpace,ke(Ee)}),ue){var K=t.grep(le,function(ge){return ge.show||ge.reserveSpace});for(t.each(K,function(ge,Ee){tt(Ee),Ve(Ee),Qe(Ee,Ee.ticks),J(Ee)}),R=K.length-1;R>=0;--R)ae(K[R]);Oe(),t.each(K,function(ge,Ee){ie(Ee)})}y=v.width-P.left-P.right,u=v.height-P.bottom-P.top,t.each(le,function(ge,Ee){G(Ee)}),ue&&_e(),lt()}function ke(R){var le=R.options,ue=+(le.min!=null?le.min:R.datamin),ve=+(le.max!=null?le.max:R.datamax),de=ve-ue;if(de==0){var K=ve==0?1:.01;le.min==null&&(ue-=K),(le.max==null||le.min!=null)&&(ve+=K)}else{var ge=le.autoscaleMargin;ge!=null&&(le.min==null&&(ue-=de*ge,ue<0&&R.datamin!=null&&R.datamin>=0&&(ue=0)),le.max==null&&(ve+=de*ge,ve>0&&R.datamax!=null&&R.datamax<=0&&(ve=0)))}R.min=ue,R.max=ve}function tt(R){var le=R.options,ue;typeof le.ticks=="number"&&le.ticks>0?ue=le.ticks:ue=.3*Math.sqrt(R.direction=="x"?v.width:v.height);var ve=(R.max-R.min)/ue,de=-Math.floor(Math.log(ve)/Math.LN10),K=le.tickDecimals;K!=null&&de>K&&(de=K);var ge=Math.pow(10,-de),Ee=ve/ge,Ce;if(Ee<1.5?Ce=1:Ee<3?(Ce=2,Ee>2.25&&(K==null||de+1<=K)&&(Ce=2.5,++de)):Ee<7.5?Ce=5:Ce=10,Ce*=ge,le.minTickSize!=null&&Ce<le.minTickSize&&(Ce=le.minTickSize),R.delta=ve,R.tickDecimals=Math.max(0,K!=null?K:de),R.tickSize=le.tickSize||Ce,le.mode=="time"&&!R.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(R.tickGenerator||(R.tickGenerator=function(jt){var Et=[],Zt=o(jt.min,jt.tickSize),Nt=0,Ft=Number.NaN,Dt;do Dt=Ft,Ft=Zt+Nt*jt.tickSize,Et.push(Ft),++Nt;while(Ft<jt.max&&Ft!=Dt);return Et},R.tickFormatter=function(jt,Et){var Zt=Et.tickDecimals?Math.pow(10,Et.tickDecimals):1,Nt=""+Math.round(jt*Zt)/Zt;if(Et.tickDecimals!=null){var Ft=Nt.indexOf("."),Dt=Ft==-1?0:Nt.length-Ft-1;if(Dt<Et.tickDecimals)return(Dt?Nt:Nt+".")+(""+Zt).substr(1,Et.tickDecimals-Dt)}return Nt}),t.isFunction(le.tickFormatter)&&(R.tickFormatter=function(jt,Et){return""+le.tickFormatter(jt,Et)}),le.alignTicksWithAxis!=null){var Ye=(R.direction=="x"?E:O)[le.alignTicksWithAxis-1];if(Ye&&Ye.used&&Ye!=R){var Be=R.tickGenerator(R);if(Be.length>0&&(le.min==null&&(R.min=Math.min(R.min,Be[0])),le.max==null&&Be.length>1&&(R.max=Math.max(R.max,Be[Be.length-1]))),R.tickGenerator=function(jt){var Et=[],Zt,Nt;for(Nt=0;Nt<Ye.ticks.length;++Nt)Zt=(Ye.ticks[Nt].v-Ye.min)/(Ye.max-Ye.min),Zt=jt.min+Zt*(jt.max-jt.min),Et.push(Zt);return Et},!R.mode&&le.tickDecimals==null){var Je=Math.max(0,-Math.floor(Math.log(R.delta)/Math.LN10)+1),Tt=R.tickGenerator(R);Tt.length>1&&/\..*0$/.test((Tt[1]-Tt[0]).toFixed(Je))||(R.tickDecimals=Je)}}}}function Ve(R){var le=R.options.ticks,ue=[];le==null||typeof le=="number"&&le>0?ue=R.tickGenerator(R):le&&(t.isFunction(le)?ue=le(R):ue=le);var ve,de;for(R.ticks=[],ve=0;ve<ue.length;++ve){var K=null,ge=ue[ve];typeof ge=="object"?(de=+ge[0],ge.length>1&&(K=ge[1])):de=+ge,K==null&&(K=R.tickFormatter(de,R)),isNaN(de)||R.ticks.push({v:de,label:K})}}function Qe(R,le){R.options.autoscaleMargin&&le.length>0&&(R.options.min==null&&(R.min=Math.min(R.min,le[0].v)),R.options.max==null&&le.length>1&&(R.max=Math.max(R.max,le[le.length-1].v)))}function ht(){v.clear(),k(p.drawBackground,[w]);var R=f.grid;R.show&&R.backgroundColor&&vt(),R.show&&!R.aboveData&&Le();for(var le=0;le<h.length;++le)k(p.drawSeries,[w,h[le]]),Ne(h[le]);k(p.draw,[w]),R.show&&R.aboveData&&Le(),v.render(),_t()}function bt(R,le){for(var ue,ve,de,K,ge=X(),Ee=0;Ee<ge.length;++Ee)if(ue=ge[Ee],ue.direction==le&&(K=le+ue.n+"axis",!R[K]&&ue.n==1&&(K=le+"axis"),R[K])){ve=R[K].from,de=R[K].to;break}if(R[K]||(ue=le=="x"?E[0]:O[0],ve=R[le+"1"],de=R[le+"2"]),ve!=null&&de!=null&&ve>de){var Ce=ve;ve=de,de=Ce}return{from:ve,to:de,axis:ue}}function vt(){w.save(),w.translate(P.left,P.top),w.fillStyle=nt(f.grid.backgroundColor,u,0,"rgba(255, 255, 255, 0)"),w.fillRect(0,0,y,u),w.restore()}function Le(){var R,le,ue,ve;w.save(),w.translate(P.left,P.top);var de=f.grid.markings;if(de)for(t.isFunction(de)&&(le=g.getAxes(),le.xmin=le.xaxis.min,le.xmax=le.xaxis.max,le.ymin=le.yaxis.min,le.ymax=le.yaxis.max,de=de(le)),R=0;R<de.length;++R){var K=de[R],ge=bt(K,"x"),Ee=bt(K,"y");if(ge.from==null&&(ge.from=ge.axis.min),ge.to==null&&(ge.to=ge.axis.max),Ee.from==null&&(Ee.from=Ee.axis.min),Ee.to==null&&(Ee.to=Ee.axis.max),!(ge.to<ge.axis.min||ge.from>ge.axis.max||Ee.to<Ee.axis.min||Ee.from>Ee.axis.max)){ge.from=Math.max(ge.from,ge.axis.min),ge.to=Math.min(ge.to,ge.axis.max),Ee.from=Math.max(Ee.from,Ee.axis.min),Ee.to=Math.min(Ee.to,Ee.axis.max);var Ce=ge.from===ge.to,Ye=Ee.from===Ee.to;if(!(Ce&&Ye))if(ge.from=Math.floor(ge.axis.p2c(ge.from)),ge.to=Math.floor(ge.axis.p2c(ge.to)),Ee.from=Math.floor(Ee.axis.p2c(Ee.from)),Ee.to=Math.floor(Ee.axis.p2c(Ee.to)),Ce||Ye){var Be=K.lineWidth||f.grid.markingsLineWidth,Je=Be%2?.5:0;w.beginPath(),w.strokeStyle=K.color||f.grid.markingsColor,w.lineWidth=Be,Ce?(w.moveTo(ge.to+Je,Ee.from),w.lineTo(ge.to+Je,Ee.to)):(w.moveTo(ge.from,Ee.to+Je),w.lineTo(ge.to,Ee.to+Je)),w.stroke()}else w.fillStyle=K.color||f.grid.markingsColor,w.fillRect(ge.from,Ee.to,ge.to-ge.from,Ee.from-Ee.to)}}le=X(),ue=f.grid.borderWidth;for(var Tt=0;Tt<le.length;++Tt){var jt=le[Tt],Et=jt.box,Zt=jt.tickLength,Nt,Ft,Dt,Jt;if(!(!jt.show||jt.ticks.length==0)){for(w.lineWidth=1,jt.direction=="x"?(Nt=0,Zt=="full"?Ft=jt.position=="top"?0:u:Ft=Et.top-P.top+(jt.position=="top"?Et.height:0)):(Ft=0,Zt=="full"?Nt=jt.position=="left"?0:y:Nt=Et.left-P.left+(jt.position=="left"?Et.width:0)),jt.innermost||(w.strokeStyle=jt.options.color,w.beginPath(),Dt=Jt=0,jt.direction=="x"?Dt=y+1:Jt=u+1,w.lineWidth==1&&(jt.direction=="x"?Ft=Math.floor(Ft)+.5:Nt=Math.floor(Nt)+.5),w.moveTo(Nt,Ft),w.lineTo(Nt+Dt,Ft+Jt),w.stroke()),w.strokeStyle=jt.options.tickColor,w.beginPath(),R=0;R<jt.ticks.length;++R){var Qt=jt.ticks[R].v;Dt=Jt=0,!(isNaN(Qt)||Qt<jt.min||Qt>jt.max||Zt=="full"&&(typeof ue=="object"&&ue[jt.position]>0||ue>0)&&(Qt==jt.min||Qt==jt.max))&&(jt.direction=="x"?(Nt=jt.p2c(Qt),Jt=Zt=="full"?-u:Zt,jt.position=="top"&&(Jt=-Jt)):(Ft=jt.p2c(Qt),Dt=Zt=="full"?-y:Zt,jt.position=="left"&&(Dt=-Dt)),w.lineWidth==1&&(jt.direction=="x"?Nt=Math.floor(Nt)+.5:Ft=Math.floor(Ft)+.5),w.moveTo(Nt,Ft),w.lineTo(Nt+Dt,Ft+Jt))}w.stroke()}}ue&&(ve=f.grid.borderColor,typeof ue=="object"||typeof ve=="object"?(typeof ue!="object"&&(ue={top:ue,right:ue,bottom:ue,left:ue}),typeof ve!="object"&&(ve={top:ve,right:ve,bottom:ve,left:ve}),ue.top>0&&(w.strokeStyle=ve.top,w.lineWidth=ue.top,w.beginPath(),w.moveTo(0-ue.left,0-ue.top/2),w.lineTo(y,0-ue.top/2),w.stroke()),ue.right>0&&(w.strokeStyle=ve.right,w.lineWidth=ue.right,w.beginPath(),w.moveTo(y+ue.right/2,0-ue.top),w.lineTo(y+ue.right/2,u),w.stroke()),ue.bottom>0&&(w.strokeStyle=ve.bottom,w.lineWidth=ue.bottom,w.beginPath(),w.moveTo(y+ue.right,u+ue.bottom/2),w.lineTo(0,u+ue.bottom/2),w.stroke()),ue.left>0&&(w.strokeStyle=ve.left,w.lineWidth=ue.left,w.beginPath(),w.moveTo(0-ue.left/2,u+ue.bottom),w.lineTo(0-ue.left/2,0),w.stroke())):(w.lineWidth=ue,w.strokeStyle=f.grid.borderColor,w.strokeRect(-ue/2,-ue/2,y+ue,u+ue))),w.restore()}function _e(){t.each(X(),function(R,le){var ue=le.box,ve=le.direction+"Axis "+le.direction+le.n+"Axis",de="flot-"+le.direction+"-axis flot-"+le.direction+le.n+"-axis "+ve,K=le.options.font||"flot-tick-label tickLabel",ge,Ee,Ce,Ye,Be;if(v.removeText(de),!(!le.show||le.ticks.length==0))for(var Je=0;Je<le.ticks.length;++Je)ge=le.ticks[Je],!(!ge.label||ge.v<le.min||ge.v>le.max)&&(le.direction=="x"?(Ye="center",Ee=P.left+le.p2c(ge.v),le.position=="bottom"?Ce=ue.top+ue.padding:(Ce=ue.top+ue.height-ue.padding,Be="bottom")):(Be="middle",Ce=P.top+le.p2c(ge.v),le.position=="left"?(Ee=ue.left+ue.width-ue.padding,Ye="right"):Ee=ue.left+ue.padding),v.addText(de,Ee,Ce,ge.label,K,null,null,Ye,Be))})}function Ne(R){R.lines.show&&Ze(R),R.bars.show&&at(R),R.points.show&&Ke(R)}function Ze(R){function le(Ee,Ce,Ye,Be,Je){var Tt=Ee.points,jt=Ee.pointsize,Et=null,Zt=null;w.beginPath();for(var Nt=jt;Nt<Tt.length;Nt+=jt){var Ft=Tt[Nt-jt],Dt=Tt[Nt-jt+1],Jt=Tt[Nt],Qt=Tt[Nt+1];if(!(Ft==null||Jt==null)){if(Dt<=Qt&&Dt<Je.min){if(Qt<Je.min)continue;Ft=(Je.min-Dt)/(Qt-Dt)*(Jt-Ft)+Ft,Dt=Je.min}else if(Qt<=Dt&&Qt<Je.min){if(Dt<Je.min)continue;Jt=(Je.min-Dt)/(Qt-Dt)*(Jt-Ft)+Ft,Qt=Je.min}if(Dt>=Qt&&Dt>Je.max){if(Qt>Je.max)continue;Ft=(Je.max-Dt)/(Qt-Dt)*(Jt-Ft)+Ft,Dt=Je.max}else if(Qt>=Dt&&Qt>Je.max){if(Dt>Je.max)continue;Jt=(Je.max-Dt)/(Qt-Dt)*(Jt-Ft)+Ft,Qt=Je.max}if(Ft<=Jt&&Ft<Be.min){if(Jt<Be.min)continue;Dt=(Be.min-Ft)/(Jt-Ft)*(Qt-Dt)+Dt,Ft=Be.min}else if(Jt<=Ft&&Jt<Be.min){if(Ft<Be.min)continue;Qt=(Be.min-Ft)/(Jt-Ft)*(Qt-Dt)+Dt,Jt=Be.min}if(Ft>=Jt&&Ft>Be.max){if(Jt>Be.max)continue;Dt=(Be.max-Ft)/(Jt-Ft)*(Qt-Dt)+Dt,Ft=Be.max}else if(Jt>=Ft&&Jt>Be.max){if(Ft>Be.max)continue;Qt=(Be.max-Ft)/(Jt-Ft)*(Qt-Dt)+Dt,Jt=Be.max}(Ft!=Et||Dt!=Zt)&&w.moveTo(Be.p2c(Ft)+Ce,Je.p2c(Dt)+Ye),Et=Jt,Zt=Qt,w.lineTo(Be.p2c(Jt)+Ce,Je.p2c(Qt)+Ye)}}w.stroke()}function ue(Ee,Ce,Ye){for(var Be=Ee.points,Je=Ee.pointsize,Tt=Math.min(Math.max(0,Ye.min),Ye.max),jt=0,Et,Zt=!1,Nt=1,Ft=0,Dt=0;!(Je>0&&jt>Be.length+Je);){jt+=Je;var Jt=Be[jt-Je],Qt=Be[jt-Je+Nt],gn=Be[jt],Bt=Be[jt+Nt];if(Zt){if(Je>0&&Jt!=null&&gn==null){Dt=jt,Je=-Je,Nt=2;continue}if(Je<0&&jt==Ft+Je){w.fill(),Zt=!1,Je=-Je,Nt=1,jt=Ft=Dt+Je;continue}}if(!(Jt==null||gn==null)){if(Jt<=gn&&Jt<Ce.min){if(gn<Ce.min)continue;Qt=(Ce.min-Jt)/(gn-Jt)*(Bt-Qt)+Qt,Jt=Ce.min}else if(gn<=Jt&&gn<Ce.min){if(Jt<Ce.min)continue;Bt=(Ce.min-Jt)/(gn-Jt)*(Bt-Qt)+Qt,gn=Ce.min}if(Jt>=gn&&Jt>Ce.max){if(gn>Ce.max)continue;Qt=(Ce.max-Jt)/(gn-Jt)*(Bt-Qt)+Qt,Jt=Ce.max}else if(gn>=Jt&&gn>Ce.max){if(Jt>Ce.max)continue;Bt=(Ce.max-Jt)/(gn-Jt)*(Bt-Qt)+Qt,gn=Ce.max}if(Zt||(w.beginPath(),w.moveTo(Ce.p2c(Jt),Ye.p2c(Tt)),Zt=!0),Qt>=Ye.max&&Bt>=Ye.max){w.lineTo(Ce.p2c(Jt),Ye.p2c(Ye.max)),w.lineTo(Ce.p2c(gn),Ye.p2c(Ye.max));continue}else if(Qt<=Ye.min&&Bt<=Ye.min){w.lineTo(Ce.p2c(Jt),Ye.p2c(Ye.min)),w.lineTo(Ce.p2c(gn),Ye.p2c(Ye.min));continue}var an=Jt,tn=gn;Qt<=Bt&&Qt<Ye.min&&Bt>=Ye.min?(Jt=(Ye.min-Qt)/(Bt-Qt)*(gn-Jt)+Jt,Qt=Ye.min):Bt<=Qt&&Bt<Ye.min&&Qt>=Ye.min&&(gn=(Ye.min-Qt)/(Bt-Qt)*(gn-Jt)+Jt,Bt=Ye.min),Qt>=Bt&&Qt>Ye.max&&Bt<=Ye.max?(Jt=(Ye.max-Qt)/(Bt-Qt)*(gn-Jt)+Jt,Qt=Ye.max):Bt>=Qt&&Bt>Ye.max&&Qt<=Ye.max&&(gn=(Ye.max-Qt)/(Bt-Qt)*(gn-Jt)+Jt,Bt=Ye.max),Jt!=an&&w.lineTo(Ce.p2c(an),Ye.p2c(Qt)),w.lineTo(Ce.p2c(Jt),Ye.p2c(Qt)),w.lineTo(Ce.p2c(gn),Ye.p2c(Bt)),gn!=tn&&(w.lineTo(Ce.p2c(gn),Ye.p2c(Bt)),w.lineTo(Ce.p2c(tn),Ye.p2c(Bt)))}}}w.save(),w.translate(P.left,P.top),w.lineJoin="round";var ve=R.lines.lineWidth,de=R.shadowSize;if(ve>0&&de>0){w.lineWidth=de,w.strokeStyle="rgba(0,0,0,0.1)";var K=Math.PI/18;le(R.datapoints,Math.sin(K)*(ve/2+de/2),Math.cos(K)*(ve/2+de/2),R.xaxis,R.yaxis),w.lineWidth=de/2,le(R.datapoints,Math.sin(K)*(ve/2+de/4),Math.cos(K)*(ve/2+de/4),R.xaxis,R.yaxis)}w.lineWidth=ve,w.strokeStyle=R.color;var ge=pt(R.lines,R.color,0,u);ge&&(w.fillStyle=ge,ue(R.datapoints,R.xaxis,R.yaxis)),ve>0&&le(R.datapoints,0,0,R.xaxis,R.yaxis),w.restore()}function Ke(R){function le(Ee,Ce,Ye,Be,Je,Tt,jt,Et){for(var Zt=Ee.points,Nt=Ee.pointsize,Ft=0;Ft<Zt.length;Ft+=Nt){var Dt=Zt[Ft],Jt=Zt[Ft+1];Dt==null||Dt<Tt.min||Dt>Tt.max||Jt<jt.min||Jt>jt.max||(w.beginPath(),Dt=Tt.p2c(Dt),Jt=jt.p2c(Jt)+Be,Et=="circle"?w.arc(Dt,Jt,Ce,0,Je?Math.PI:Math.PI*2,!1):Et(w,Dt,Jt,Ce,Je),w.closePath(),Ye&&(w.fillStyle=Ye,w.fill()),w.stroke())}}w.save(),w.translate(P.left,P.top);var ue=R.points.lineWidth,ve=R.shadowSize,de=R.points.radius,K=R.points.symbol;if(ue==0&&(ue=1e-4),ue>0&&ve>0){var ge=ve/2;w.lineWidth=ge,w.strokeStyle="rgba(0,0,0,0.1)",le(R.datapoints,de,null,ge+ge/2,!0,R.xaxis,R.yaxis,K),w.strokeStyle="rgba(0,0,0,0.2)",le(R.datapoints,de,null,ge/2,!0,R.xaxis,R.yaxis,K)}w.lineWidth=ue,w.strokeStyle=R.color,le(R.datapoints,de,pt(R.points,R.color),0,!1,R.xaxis,R.yaxis,K),w.restore()}function Pe(R,le,ue,ve,de,K,ge,Ee,Ce,Ye,Be){var Je,Tt,jt,Et,Zt,Nt,Ft,Dt,Jt;Ye?(Dt=Nt=Ft=!0,Zt=!1,Je=ue,Tt=R,Et=le+ve,jt=le+de,Tt<Je&&(Jt=Tt,Tt=Je,Je=Jt,Zt=!0,Nt=!1)):(Zt=Nt=Ft=!0,Dt=!1,Je=R+ve,Tt=R+de,jt=ue,Et=le,Et<jt&&(Jt=Et,Et=jt,jt=Jt,Dt=!0,Ft=!1)),!(Tt<ge.min||Je>ge.max||Et<Ee.min||jt>Ee.max)&&(Je<ge.min&&(Je=ge.min,Zt=!1),Tt>ge.max&&(Tt=ge.max,Nt=!1),jt<Ee.min&&(jt=Ee.min,Dt=!1),Et>Ee.max&&(Et=Ee.max,Ft=!1),Je=ge.p2c(Je),jt=Ee.p2c(jt),Tt=ge.p2c(Tt),Et=Ee.p2c(Et),K&&(Ce.fillStyle=K(jt,Et),Ce.fillRect(Je,Et,Tt-Je,jt-Et)),Be>0&&(Zt||Nt||Ft||Dt)&&(Ce.beginPath(),Ce.moveTo(Je,jt),Zt?Ce.lineTo(Je,Et):Ce.moveTo(Je,Et),Ft?Ce.lineTo(Tt,Et):Ce.moveTo(Tt,Et),Nt?Ce.lineTo(Tt,jt):Ce.moveTo(Tt,jt),Dt?Ce.lineTo(Je,jt):Ce.moveTo(Je,jt),Ce.stroke()))}function at(R){function le(de,K,ge,Ee,Ce,Ye){for(var Be=de.points,Je=de.pointsize,Tt=0;Tt<Be.length;Tt+=Je)Be[Tt]!=null&&Pe(Be[Tt],Be[Tt+1],Be[Tt+2],K,ge,Ee,Ce,Ye,w,R.bars.horizontal,R.bars.lineWidth)}w.save(),w.translate(P.left,P.top),w.lineWidth=R.bars.lineWidth,w.strokeStyle=R.color;var ue;switch(R.bars.align){case"left":ue=0;break;case"right":ue=-R.bars.barWidth;break;default:ue=-R.bars.barWidth/2}var ve=R.bars.fill?function(K,ge){return pt(R.bars,R.color,K,ge)}:null;le(R.datapoints,ue,ue+R.bars.barWidth,ve,R.xaxis,R.yaxis),w.restore()}function pt(R,le,ue,ve){var de=R.fill;if(!de)return null;if(R.fillColor)return nt(R.fillColor,ue,ve,le);var K=t.color.parse(le);return K.a=typeof de=="number"?de:.4,K.normalize(),K.toString()}function lt(){if(f.legend.container!=null?t(f.legend.container).html(""):s.find(".legend").remove(),!!f.legend.show){for(var R=[],le=[],ue=!1,ve=f.legend.labelFormatter,de,K,ge=0;ge<h.length;++ge)de=h[ge],de.label&&(K=ve?ve(de.label,de):de.label,K&&le.push({label:K,color:de.color}));if(f.legend.sorted)if(t.isFunction(f.legend.sorted))le.sort(f.legend.sorted);else if(f.legend.sorted=="reverse")le.reverse();else{var Ee=f.legend.sorted!="descending";le.sort(function(Nt,Ft){return Nt.label==Ft.label?0:Nt.label<Ft.label!=Ee?1:-1})}for(var ge=0;ge<le.length;++ge){var Ce=le[ge];ge%f.legend.noColumns==0&&(ue&&R.push("</tr>"),R.push("<tr>"),ue=!0),R.push('<td class="legendColorBox"><div style="border:1px solid '+f.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+Ce.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+Ce.label+"</td>")}if(ue&&R.push("</tr>"),R.length!=0){var Ye='<table style="font-size:smaller;color:'+f.grid.color+'">'+R.join("")+"</table>";if(f.legend.container!=null)t(f.legend.container).html(Ye);else{var Be="",Je=f.legend.position,Tt=f.legend.margin;Tt[0]==null&&(Tt=[Tt,Tt]),Je.charAt(0)=="n"?Be+="top:"+(Tt[1]+P.top)+"px;":Je.charAt(0)=="s"&&(Be+="bottom:"+(Tt[1]+P.bottom)+"px;"),Je.charAt(1)=="e"?Be+="right:"+(Tt[0]+P.right)+"px;":Je.charAt(1)=="w"&&(Be+="left:"+(Tt[0]+P.left)+"px;");var jt=t('<div class="legend">'+Ye.replace('style="','style="position:absolute;'+Be+";")+"</div>").appendTo(s);if(f.legend.backgroundOpacity!=0){var Et=f.legend.backgroundColor;Et==null&&(Et=f.grid.backgroundColor,Et&&typeof Et=="string"?Et=t.color.parse(Et):Et=t.color.extract(jt,"background-color"),Et.a=1,Et=Et.toString());var Zt=jt.children();t('<div style="position:absolute;width:'+Zt.width()+"px;height:"+Zt.height()+"px;"+Be+"background-color:"+Et+';"> </div>').prependTo(jt).css("opacity",f.legend.backgroundOpacity)}}}}}var ct=[],Ge=null;function ze(R,le,ue){var ve=f.grid.mouseActiveRadius,de=ve*ve+1,K=null,ge=!1,Ee,Ce,Ye;for(Ee=h.length-1;Ee>=0;--Ee)if(ue(h[Ee])){var Be=h[Ee],Je=Be.xaxis,Tt=Be.yaxis,jt=Be.datapoints.points,Et=Je.c2p(R),Zt=Tt.c2p(le),Nt=ve/Je.scale,Ft=ve/Tt.scale;if(Ye=Be.datapoints.pointsize,Je.options.inverseTransform&&(Nt=Number.MAX_VALUE),Tt.options.inverseTransform&&(Ft=Number.MAX_VALUE),Be.lines.show||Be.points.show)for(Ce=0;Ce<jt.length;Ce+=Ye){var Dt=jt[Ce],Jt=jt[Ce+1];if(Dt!=null&&!(Dt-Et>Nt||Dt-Et<-Nt||Jt-Zt>Ft||Jt-Zt<-Ft)){var Qt=Math.abs(Je.p2c(Dt)-R),gn=Math.abs(Tt.p2c(Jt)-le),Bt=Qt*Qt+gn*gn;Bt<de&&(de=Bt,K=[Ee,Ce/Ye])}}if(Be.bars.show&&!K){var an,tn;switch(Be.bars.align){case"left":an=0;break;case"right":an=-Be.bars.barWidth;break;default:an=-Be.bars.barWidth/2}for(tn=an+Be.bars.barWidth,Ce=0;Ce<jt.length;Ce+=Ye){var Dt=jt[Ce],Jt=jt[Ce+1],_n=jt[Ce+2];Dt!=null&&(h[Ee].bars.horizontal?Et<=Math.max(_n,Dt)&&Et>=Math.min(_n,Dt)&&Zt>=Jt+an&&Zt<=Jt+tn:Et>=Dt+an&&Et<=Dt+tn&&Zt>=Math.min(_n,Jt)&&Zt<=Math.max(_n,Jt))&&(K=[Ee,Ce/Ye])}}}return K?(Ee=K[0],Ce=K[1],Ye=h[Ee].datapoints.pointsize,{datapoint:h[Ee].datapoints.points.slice(Ce*Ye,(Ce+1)*Ye),dataIndex:Ce,series:h[Ee],seriesIndex:Ee}):null}function He(R){f.grid.hoverable&&wt("plothover",R,function(le){return le.hoverable!=!1})}function rt(R){f.grid.hoverable&&wt("plothover",R,function(le){return!1})}function it(R){wt("plotclick",R,function(le){return le.clickable!=!1})}function wt(R,le,ue){var ve=b.offset(),de=le.pageX-ve.left-P.left,K=le.pageY-ve.top-P.top,ge=Q({left:de,top:K});ge.pageX=le.pageX,ge.pageY=le.pageY;var Ee=ze(de,K,ue);if(Ee&&(Ee.pageX=parseInt(Ee.series.xaxis.p2c(Ee.datapoint[0])+ve.left+P.left,10),Ee.pageY=parseInt(Ee.series.yaxis.p2c(Ee.datapoint[1])+ve.top+P.top,10)),f.grid.autoHighlight){for(var Ce=0;Ce<ct.length;++Ce){var Ye=ct[Ce];Ye.auto==R&&!(Ee&&Ye.series==Ee.series&&Ye.point[0]==Ee.datapoint[0]&&Ye.point[1]==Ee.datapoint[1])&&we(Ye.series,Ye.point)}Ee&&ut(Ee.series,Ee.datapoint,R)}s.trigger(R,[ge,Ee])}function _t(){var R=f.interaction.redrawOverlayInterval;if(R==-1){xt();return}Ge||(Ge=setTimeout(xt,R))}function xt(){Ge=null,A.save(),_.clear(),A.translate(P.left,P.top);var R,le;for(R=0;R<ct.length;++R)le=ct[R],le.series.bars.show?Ie(le.series,le.point):qe(le.series,le.point);A.restore(),k(p.drawOverlay,[A])}function ut(R,le,ue){if(typeof R=="number"&&(R=h[R]),typeof le=="number"){var ve=R.datapoints.pointsize;le=R.datapoints.points.slice(ve*le,ve*(le+1))}var de=N(R,le);de==-1?(ct.push({series:R,point:le,auto:ue}),_t()):ue||(ct[de].auto=!1)}function we(R,le){if(R==null&&le==null){ct=[],_t();return}if(typeof R=="number"&&(R=h[R]),typeof le=="number"){var ue=R.datapoints.pointsize;le=R.datapoints.points.slice(ue*le,ue*(le+1))}var ve=N(R,le);ve!=-1&&(ct.splice(ve,1),_t())}function N(R,le){for(var ue=0;ue<ct.length;++ue){var ve=ct[ue];if(ve.series==R&&ve.point[0]==le[0]&&ve.point[1]==le[1])return ue}return-1}function qe(R,le){var ue=le[0],ve=le[1],de=R.xaxis,K=R.yaxis,ge=typeof R.highlightColor=="string"?R.highlightColor:t.color.parse(R.color).scale("a",.5).toString();if(!(ue<de.min||ue>de.max||ve<K.min||ve>K.max)){var Ee=R.points.radius+R.points.lineWidth/2;A.lineWidth=Ee,A.strokeStyle=ge;var Ce=1.5*Ee;ue=de.p2c(ue),ve=K.p2c(ve),A.beginPath(),R.points.symbol=="circle"?A.arc(ue,ve,Ce,0,2*Math.PI,!1):R.points.symbol(A,ue,ve,Ce,!1),A.closePath(),A.stroke()}}function Ie(R,le){var ue=typeof R.highlightColor=="string"?R.highlightColor:t.color.parse(R.color).scale("a",.5).toString(),ve=ue,de;switch(R.bars.align){case"left":de=0;break;case"right":de=-R.bars.barWidth;break;default:de=-R.bars.barWidth/2}A.lineWidth=R.bars.lineWidth,A.strokeStyle=ue,Pe(le[0],le[1],le[2]||0,de,de+R.bars.barWidth,function(){return ve},R.xaxis,R.yaxis,A,R.bars.horizontal,R.bars.lineWidth)}function nt(R,le,ue,ve){if(typeof R=="string")return R;for(var de=w.createLinearGradient(0,ue,0,le),K=0,ge=R.colors.length;K<ge;++K){var Ee=R.colors[K];if(typeof Ee!="string"){var Ce=t.color.parse(ve);Ee.brightness!=null&&(Ce=Ce.scale("rgb",Ee.brightness)),Ee.opacity!=null&&(Ce.a*=Ee.opacity),Ee=Ce.toString()}de.addColorStop(K/(ge-1),Ee)}return de}},o=function(s,r){return r*Math.floor(s/r)},l=Object.prototype.hasOwnProperty;t.fn.detach||(t.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),e.prototype.resize=function(a,s){if(a<=0||s<=0)throw new Error("Invalid dimensions for plot, width = "+a+", height = "+s);var r=this.element,c=this.context,d=this.pixelRatio;this.width!=a&&(r.width=a*d,r.style.width=a+"px",this.width=a),this.height!=s&&(r.height=s*d,r.style.height=s+"px",this.height=s),c.restore(),c.save(),c.scale(d,d)},e.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},e.prototype.render=function(){var a=this._textCache;for(var s in a)if(l.call(a,s)){var r=this.getTextLayer(s),c=a[s];r.hide();for(var d in c)if(l.call(c,d)){var h=c[d];for(var f in h)if(l.call(h,f)){for(var v=h[f].positions,_=0,b;b=v[_];_++)b.active?b.rendered||(r.append(b.element),b.rendered=!0):(v.splice(_--,1),b.rendered&&b.element.detach());v.length==0&&delete h[f]}}r.show()}},e.prototype.getTextLayer=function(a){var s=this.text[a];return s==null&&(this.textContainer==null&&(this.textContainer=t("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),s=this.text[a]=t("<div></div>").addClass(a).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),s},e.prototype.getTextInfo=function(a,s,r,c,d){var h,f,v,_;if(s=""+s,typeof r=="object"?h=r.style+" "+r.variant+" "+r.weight+" "+r.size+"px/"+r.lineHeight+"px "+r.family:h=r,f=this._textCache[a],f==null&&(f=this._textCache[a]={}),v=f[h],v==null&&(v=f[h]={}),_=v[s],_==null){var b=t("<div></div>").html(s).css({position:"absolute","max-width":d,top:-9999}).appendTo(this.getTextLayer(a));typeof r=="object"?b.css({font:h,color:r.color}):typeof r=="string"&&b.addClass(r),_=v[s]={width:b.outerWidth(!0),height:b.outerHeight(!0),element:b,positions:[]},b.detach()}return _},e.prototype.addText=function(a,s,r,c,d,h,f,v,_){var b=this.getTextInfo(a,c,d,h,f),w=b.positions;v=="center"?s-=b.width/2:v=="right"&&(s-=b.width),_=="middle"?r-=b.height/2:_=="bottom"&&(r-=b.height);for(var A=0,E;E=w[A];A++)if(E.x==s&&E.y==r){E.active=!0;return}E={active:!0,rendered:!1,element:w.length?b.element.clone():b.element,x:s,y:r},w.push(E),E.element.css({top:Math.round(r),left:Math.round(s),"text-align":v})},e.prototype.removeText=function(a,s,r,c,d,h){if(c==null){var f=this._textCache[a];if(f!=null){for(var v in f)if(l.call(f,v)){var _=f[v];for(var b in _)if(l.call(_,b))for(var w=_[b].positions,A=0,E;E=w[A];A++)E.active=!1}}}else for(var w=this.getTextInfo(a,c,d,h).positions,A=0,E;E=w[A];A++)E.x==s&&E.y==r&&(E.active=!1)},t.plot=function(a,s,r){var c=new n(t(a),s,r,t.plot.plugins);return c},t.plot.version="0.8.3",t.plot.plugins=[],t.fn.plot=function(a,s){return this.each(function(){t.plot(this,a,s)})}}(jQuery)}),Wv={},o6(Wv,{default:function(){return Gv}}),s6=Uv(Vv()),a6(Wv,Uv(Vv()));var m;Wn=s6,m=Wn,qv=m.default,l6=Ai(Wn,["default"]),Gv=qv!==void 0?qv:l6}}),c6={};ai(c6,{default:function(){return Gv}});var J1=Mt({"https-url:https://esm.archive.org/flot@%5E0.8.0":function(){u6(),u6()}}),d6,Kd,h6,f6,p6,v6,g6,m6,Qd,y6,Yv,Xv,Kv,b6,Wn,Qv,w6,Jv,_6=Mt({"https-url:https://esm.archive.org/v135/flot@0.8.3/esnext/jquery.flot.time.js":function(){d6=Object.create,Kd=Object.defineProperty,h6=Object.getOwnPropertyDescriptor,f6=Object.getOwnPropertyNames,p6=Object.getPrototypeOf,v6=Object.prototype.hasOwnProperty,g6=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},m6=function(t,e){for(var n in e)Kd(t,n,{get:e[n],enumerable:!0})},Qd=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!v6.call(t,v)&&v!==n&&Kd(t,v,{get:function(){return e[v]},enumerable:!(o=h6(e,v))||o.enumerable})},c=f6(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},y6=function(t,e,n){return Qd(t,e,"default"),n&&Qd(n,e,"default")},Yv=function(t,e,n){return n=t!=null?d6(p6(t)):{},Qd(e||!t||!t.__esModule?Kd(n,"default",{value:t,enumerable:!0}):n,t)},Xv=g6(function(){(function(t){var e=function(v,_){return _*Math.floor(v/_)},n=function(v,_,b,w){if(typeof v.strftime=="function")return v.strftime(_);var A=function(x,j){return x=""+x,j=""+(j!=null?j:"0"),x.length==1?j+x:x},E=[],O=!1,P=v.getHours(),y=P<12;b==null&&(b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),w==null&&(w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var u;P>12?u=P-12:P==0?u=12:u=P;for(var p=0;p<_.length;++p){var g=_.charAt(p);if(O){switch(g){case"a":g=""+w[v.getDay()];break;case"b":g=""+b[v.getMonth()];break;case"d":g=A(v.getDate());break;case"e":g=A(v.getDate()," ");break;case"h":case"H":g=A(P);break;case"I":g=A(u);break;case"l":g=A(u," ");break;case"m":g=A(v.getMonth()+1);break;case"M":g=A(v.getMinutes());break;case"q":g=""+(Math.floor(v.getMonth()/3)+1);break;case"S":g=A(v.getSeconds());break;case"y":g=A(v.getFullYear()%100);break;case"Y":g=""+v.getFullYear();break;case"p":g=y?"am":"pm";break;case"P":g=y?"AM":"PM";break;case"w":g=""+v.getDay();break}E.push(g),O=!1}else g=="%"?O=!0:E.push(g)}return E.join("")},o=function(v){function _(E,O,P,y){E[O]=function(){return P[y].apply(P,arguments)}}var b={date:v};v.strftime!=null&&_(b,"strftime",v,"strftime"),_(b,"getTime",v,"getTime"),_(b,"setTime",v,"setTime");for(var w=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],A=0;A<w.length;A++)_(b,"get"+w[A],v,"getUTC"+w[A]),_(b,"set"+w[A],v,"setUTC"+w[A]);return b},l=function(v,_){if(_.timezone=="browser")return new Date(v);if(!_.timezone||_.timezone=="utc")return o(new Date(v));if((typeof timezoneJS=="undefined"?"undefined":_typeof(timezoneJS))<"u"&&_typeof(timezoneJS.Date)<"u"){var b=new timezoneJS.Date;return b.setTimezone(_.timezone),b.setTime(v),b}else return o(new Date(v))},a=function(v){v.hooks.processOptions.push(function(_,b){t.each(_.getAxes(),function(w,A){var E=A.options;E.mode=="time"&&(A.tickGenerator=function(O){var P=[],y=l(O.min,E),u=0,p=E.tickSize&&E.tickSize[1]==="quarter"||E.minTickSize&&E.minTickSize[1]==="quarter"?h:d;E.minTickSize!=null&&(typeof E.tickSize=="number"?u=E.tickSize:u=E.minTickSize[0]*r[E.minTickSize[1]]);for(var g=0;g<p.length-1&&!(O.delta<(p[g][0]*r[p[g][1]]+p[g+1][0]*r[p[g+1][1]])/2&&p[g][0]*r[p[g][1]]>=u);++g);var k=p[g][0],x=p[g][1];if(x=="year"){if(E.minTickSize!=null&&E.minTickSize[1]=="year")k=Math.floor(E.minTickSize[0]);else{var j=Math.pow(10,Math.floor(Math.log(O.delta/r.year)/Math.LN10)),L=O.delta/r.year/j;L<1.5?k=1:L<3?k=2:L<7.5?k=5:k=10,k*=j}k<1&&(k=1)}O.tickSize=E.tickSize||[k,x];var D=O.tickSize[0];x=O.tickSize[1];var F=D*r[x];x=="second"?y.setSeconds(e(y.getSeconds(),D)):x=="minute"?y.setMinutes(e(y.getMinutes(),D)):x=="hour"?y.setHours(e(y.getHours(),D)):x=="month"?y.setMonth(e(y.getMonth(),D)):x=="quarter"?y.setMonth(3*e(y.getMonth()/3,D)):x=="year"&&y.setFullYear(e(y.getFullYear(),D)),y.setMilliseconds(0),F>=r.minute&&y.setSeconds(0),F>=r.hour&&y.setMinutes(0),F>=r.day&&y.setHours(0),F>=r.day*4&&y.setDate(1),F>=r.month*2&&y.setMonth(e(y.getMonth(),3)),F>=r.quarter*2&&y.setMonth(e(y.getMonth(),6)),F>=r.year&&y.setMonth(0);var X=0,Q=Number.NaN,H;do if(H=Q,Q=y.getTime(),P.push(Q),x=="month"||x=="quarter")if(D<1){y.setDate(1);var ce=y.getTime();y.setMonth(y.getMonth()+(x=="quarter"?3:1));var ne=y.getTime();y.setTime(Q+X*r.hour+(ne-ce)*D),X=y.getHours(),y.setHours(0)}else y.setMonth(y.getMonth()+D*(x=="quarter"?3:1));else x=="year"?y.setFullYear(y.getFullYear()+D):y.setTime(Q+F);while(Q<O.max&&Q!=H);return P},A.tickFormatter=function(O,P){var y=l(O,P.options);if(E.timeformat!=null)return n(y,E.timeformat,E.monthNames,E.dayNames);var u=P.options.tickSize&&P.options.tickSize[1]=="quarter"||P.options.minTickSize&&P.options.minTickSize[1]=="quarter",p=P.tickSize[0]*r[P.tickSize[1]],g=P.max-P.min,k=E.twelveHourClock?" %p":"",x=E.twelveHourClock?"%I":"%H",j;p<r.minute?j=x+":%M:%S"+k:p<r.day?g<2*r.day?j=x+":%M"+k:j="%b %d "+x+":%M"+k:p<r.month?j="%b %d":u&&p<r.quarter||!u&&p<r.year?g<r.year?j="%b":j="%b %Y":u&&p<r.year?g<r.year?j="Q%q":j="Q%q %Y":j="%Y";var L=n(y,j,E.monthNames,E.dayNames);return L})})})},s={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},r={second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3,month:30*24*60*60*1e3,quarter:3*30*24*60*60*1e3,year:365.2425*24*60*60*1e3},c=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],d=c.concat([[3,"month"],[6,"month"],[1,"year"]]),h=c.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);t.plot.plugins.push({init:a,options:s,name:"time",version:"1.0"}),t.plot.formatDate=n,t.plot.dateGenerator=l})(jQuery)}),Kv={},m6(Kv,{default:function(){return Jv}}),b6=Yv(Xv()),y6(Kv,Yv(Xv()));var m;Wn=b6,m=Wn,Qv=m.default,w6=Ai(Wn,["default"]),Jv=Qv!==void 0?Qv:w6}}),k6={};ai(k6,{default:function(){return Jv}});var Z1=Mt({"https-url:https://esm.archive.org/flot@%5E0.8.0/jquery.flot.time.js":function(){_6(),_6()}}),x6,Jd,S6,C6,A6,O6,j6,E6,Zd,T6,Zv,eg,tg,P6,Wn,ng,I6,rg,M6=Mt({"https-url:https://esm.archive.org/v135/flot@0.8.3/esnext/jquery.flot.stack.js":function(){x6=Object.create,Jd=Object.defineProperty,S6=Object.getOwnPropertyDescriptor,C6=Object.getOwnPropertyNames,A6=Object.getPrototypeOf,O6=Object.prototype.hasOwnProperty,j6=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},E6=function(t,e){for(var n in e)Jd(t,n,{get:e[n],enumerable:!0})},Zd=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!O6.call(t,v)&&v!==n&&Jd(t,v,{get:function(){return e[v]},enumerable:!(o=S6(e,v))||o.enumerable})},c=C6(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},T6=function(t,e,n){return Zd(t,e,"default"),n&&Zd(n,e,"default")},Zv=function(t,e,n){return n=t!=null?x6(A6(t)):{},Zd(e||!t||!t.__esModule?Jd(n,"default",{value:t,enumerable:!0}):n,t)},eg=j6(function(){(function(t){var e=function(l){function a(r,c){for(var d=null,h=0;h<c.length&&r!=c[h];++h)c[h].stack==r.stack&&(d=c[h]);return d}function s(r,c,d){if(!(c.stack==null||c.stack===!1)){var h=a(c,r.getData());if(h){for(var f=d.pointsize,v=d.points,_=h.datapoints.pointsize,b=h.datapoints.points,w=[],A,E,O,P,y,u,p=c.lines.show,g=c.bars.horizontal,k=f>2&&(g?d.format[2].x:d.format[2].y),x=p&&c.lines.steps,j=!0,L=g?1:0,D=g?0:1,F=0,X=0,Q,H;!(F>=v.length);){if(Q=w.length,v[F]==null){for(H=0;H<f;++H)w.push(v[F+H]);F+=f}else if(X>=b.length){if(!p)for(H=0;H<f;++H)w.push(v[F+H]);F+=f}else if(b[X]==null){for(H=0;H<f;++H)w.push(null);j=!0,X+=_}else{if(A=v[F+L],E=v[F+D],P=b[X+L],y=b[X+D],u=0,A==P){for(H=0;H<f;++H)w.push(v[F+H]);w[Q+D]+=y,u=y,F+=f,X+=_}else if(A>P){if(p&&F>0&&v[F-f]!=null){for(O=E+(v[F-f+D]-E)*(P-A)/(v[F-f+L]-A),w.push(P),w.push(O+y),H=2;H<f;++H)w.push(v[F+H]);u=y}X+=_}else{if(j&&p){F+=f;continue}for(H=0;H<f;++H)w.push(v[F+H]);p&&X>0&&b[X-_]!=null&&(u=y+(b[X-_+D]-y)*(A-P)/(b[X-_+L]-P)),w[Q+D]+=u,F+=f}j=!1,Q!=w.length&&k&&(w[Q+2]+=u)}if(x&&Q!=w.length&&Q>0&&w[Q]!=null&&w[Q]!=w[Q-f]&&w[Q+1]!=w[Q-f+1]){for(H=0;H<f;++H)w[Q+f+H]=w[Q+H];w[Q+1]=w[Q-f+1]}}d.points=w}}}l.hooks.processDatapoints.push(s)},n={series:{stack:null}};t.plot.plugins.push({init:e,options:n,name:"stack",version:"1.2"})})(jQuery)}),tg={},E6(tg,{default:function(){return rg}}),P6=Zv(eg()),T6(tg,Zv(eg()));var m;Wn=P6,m=Wn,ng=m.default,I6=Ai(Wn,["default"]),rg=ng!==void 0?ng:I6}}),L6={};ai(L6,{default:function(){return rg}});var eP=Mt({"https-url:https://esm.archive.org/flot@%5E0.8.0/jquery.flot.stack.js":function(){M6(),M6()}}),zo,R6,eh,D6,$6,B6,N6,z6,F6,H6,th,U6,ig,og,ag,V6,Wn,sg,W6,lg,q6=Mt({"https-url:https://esm.archive.org/v135/tablesorter@2.32.0/X-ZC9qcXVlcnlAMy42LjE/esnext/tablesorter.mjs":function(){Od(),zo=function(t){var e=function(o){return _typeof(o.default)<"u"?o.default:o},n=function(o){return Object.assign({},o)};switch(t){case"jquery":return e(F5);default:throw new Error('module "'+t+'" not found')}},R6=Object.create,eh=Object.defineProperty,D6=Object.getOwnPropertyDescriptor,$6=Object.getOwnPropertyNames,B6=Object.getPrototypeOf,N6=Object.prototype.hasOwnProperty,z6=function(t){return(typeof zo=="undefined"?"undefined":_typeof(zo))<"u"?zo:(typeof Proxy=="undefined"?"undefined":_typeof(Proxy))<"u"?new Proxy(t,{get:function(e,n){return((typeof zo=="undefined"?"undefined":_typeof(zo))<"u"?zo:e)[n]}}):t}(function(t){if((typeof zo=="undefined"?"undefined":_typeof(zo))<"u")return zo.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),F6=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},H6=function(t,e){for(var n in e)eh(t,n,{get:e[n],enumerable:!0})},th=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!N6.call(t,v)&&v!==n&&eh(t,v,{get:function(){return e[v]},enumerable:!(o=D6(e,v))||o.enumerable})},c=$6(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},U6=function(t,e,n){return th(t,e,"default"),n&&th(n,e,"default")},ig=function(t,e,n){return n=t!=null?R6(B6(t)):{},th(e||!t||!t.__esModule?eh(n,"default",{value:t,enumerable:!0}):n,t)},og=F6(function(t,e){(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof e=="object"&&typeof e.exports=="object"?e.exports=n(z6("jquery")):n(jQuery)})(function(n){return function(o){"use strict";var l=o.tablesorter={version:"2.32.0",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:null,ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,null:0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(s,r){if(!s||!s.tHead||s.tBodies.length===0||s.hasInitialized===!0){l.debug(r,"core")&&(s.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",s));return}var c="",d=o(s),h=o.metadata;s.hasInitialized=!1,s.isProcessing=!0,s.config=r,o.data(s,"tablesorter",r),l.debug(r,"core")&&(console[console.group?"group":"log"]("Initializing tablesorter v"+l.version),o.data(s,"startoveralltimer",new Date)),r.supportsDataObject=function(f){return f[0]=parseInt(f[0],10),f[0]>1||f[0]===1&&parseInt(f[1],10)>=4}(o.fn.jquery.split(".")),r.emptyTo=r.emptyTo.toLowerCase(),r.stringTo=r.stringTo.toLowerCase(),r.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(d.attr("class"))||(c=r.theme!==""?" tablesorter-"+r.theme:""),r.namespace?r.namespace="."+r.namespace.replace(l.regex.nonWord,""):r.namespace=".tablesorter"+Math.random().toString(16).slice(2),r.table=s,r.$table=d.addClass(l.css.table+" "+r.tableClass+c+" "+r.namespace.slice(1)).attr("role","grid"),r.$headers=d.find(r.selectorHeaders),r.$table.children().children("tr").attr("role","row"),r.$tbodies=d.children("tbody:not(."+r.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),r.$table.children("caption").length&&(c=r.$table.children("caption")[0],c.id||(c.id=r.namespace.slice(1)+"caption"),r.$table.attr("aria-labelledby",c.id)),r.widgetInit={},r.textExtraction=r.$table.attr("data-text-extraction")||r.textExtraction||"basic",l.buildHeaders(r),l.fixColumnWidth(s),l.addWidgetFromClass(s),l.applyWidgetOptions(s),l.setupParsers(r),r.totalRows=0,r.debug&&l.validateOptions(r),r.delayInit||l.buildCache(r),l.bindEvents(s,r.$headers,!0),l.bindMethods(r),r.supportsDataObject&&_typeof(d.data().sortlist)<"u"?r.sortList=d.data().sortlist:h&&d.metadata()&&d.metadata().sortlist&&(r.sortList=d.metadata().sortlist),l.applyWidget(s,!0),r.sortList.length>0?(r.last.sortList=r.sortList,l.sortOn(r,r.sortList,{},!r.initWidgets)):(l.setHeadersCss(r),r.initWidgets&&l.applyWidget(s,!1)),r.showProcessing&&d.unbind("sortBegin"+r.namespace+" sortEnd"+r.namespace).bind("sortBegin"+r.namespace+" sortEnd"+r.namespace,function(f){clearTimeout(r.timerProcessing),l.isProcessing(s),f.type==="sortBegin"&&(r.timerProcessing=setTimeout(function(){l.isProcessing(s,!0)},500))}),s.hasInitialized=!0,s.isProcessing=!1,l.debug(r,"core")&&(console.log("Overall initialization time:"+l.benchmark(o.data(s,"startoveralltimer"))),l.debug(r,"core")&&console.groupEnd&&console.groupEnd()),d.triggerHandler("tablesorter-initialized",s),typeof r.initialized=="function"&&r.initialized(s)},bindMethods:function(s){var r=s.$table,c=s.namespace,d="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(c+" ");r.unbind(d.replace(l.regex.spaces," ")).bind("sortReset"+c,function(h,f){h.stopPropagation(),l.sortReset(this.config,function(v){v.isApplyingWidgets?setTimeout(function(){l.applyWidget(v,"",f)},100):l.applyWidget(v,"",f)})}).bind("updateAll"+c,function(h,f,v){h.stopPropagation(),l.updateAll(this.config,f,v)}).bind("update"+c+" updateRows"+c,function(h,f,v){h.stopPropagation(),l.update(this.config,f,v)}).bind("updateHeaders"+c,function(h,f){h.stopPropagation(),l.updateHeaders(this.config,f)}).bind("updateCell"+c,function(h,f,v,_){h.stopPropagation(),l.updateCell(this.config,f,v,_)}).bind("addRows"+c,function(h,f,v,_){h.stopPropagation(),l.addRows(this.config,f,v,_)}).bind("updateComplete"+c,function(){this.isUpdating=!1}).bind("sorton"+c,function(h,f,v,_){h.stopPropagation(),l.sortOn(this.config,f,v,_)}).bind("appendCache"+c,function(h,f,v){h.stopPropagation(),l.appendCache(this.config,v),o.isFunction(f)&&f(this)}).bind("updateCache"+c,function(h,f,v){h.stopPropagation(),l.updateCache(this.config,f,v)}).bind("applyWidgetId"+c,function(h,f){h.stopPropagation(),l.applyWidgetId(this,f)}).bind("applyWidgets"+c,function(h,f){h.stopPropagation(),l.applyWidget(this,!1,f)}).bind("refreshWidgets"+c,function(h,f,v){h.stopPropagation(),l.refreshWidgets(this,f,v)}).bind("removeWidget"+c,function(h,f,v){h.stopPropagation(),l.removeWidget(this,f,v)}).bind("destroy"+c,function(h,f,v){h.stopPropagation(),l.destroy(this,f,v)}).bind("resetToLoadState"+c,function(h){h.stopPropagation(),l.removeWidget(this,!0,!1);var f=o.extend(!0,{},s.originalSettings);s=o.extend(!0,{},l.defaults,f),s.originalSettings=f,this.hasInitialized=!1,l.setup(this,s)})},bindEvents:function(s,r,c){s=o(s)[0];var d,h=s.config,f=h.namespace,v=null;c!==!0&&(r.addClass(f.slice(1)+"_extra_headers"),d=l.getClosest(r,"table"),d.length&&d[0].nodeName==="TABLE"&&d[0]!==s&&o(d[0]).addClass(f.slice(1)+"_extra_table")),d=(h.pointerDown+" "+h.pointerUp+" "+h.pointerClick+" sort keyup ").replace(l.regex.spaces," ").split(" ").join(f+" "),r.find(h.selectorSort).add(r.filter(h.selectorSort)).unbind(d).bind(d,function(_,b){var w,A,E,O=o(_.target),P=" "+_.type+" ";if(!((_.which||_.button)!==1&&!P.match(" "+h.pointerClick+" | sort | keyup ")||P===" keyup "&&_.which!==l.keyCodes.enter||P.match(" "+h.pointerClick+" ")&&_typeof(_.which)<"u")&&!(P.match(" "+h.pointerUp+" ")&&v!==_.target&&b!==!0)){if(P.match(" "+h.pointerDown+" ")){v=_.target,E=O.jquery.split("."),E[0]==="1"&&E[1]<4&&_.preventDefault();return}if(v=null,w=l.getClosest(o(this),"."+l.css.header),l.regex.formElements.test(_.target.nodeName)||O.hasClass(h.cssNoSort)||O.parents("."+h.cssNoSort).length>0||w.hasClass("sorter-false")||O.parents("button").length>0)return!h.cancelSelection;h.delayInit&&l.isEmptyObject(h.cache)&&l.buildCache(h),h.last.clickedIndex=w.attr("data-column")||w.index(),A=h.$headerIndexed[h.last.clickedIndex][0],A&&!A.sortDisabled&&l.initSort(h,A,_)}}),h.cancelSelection&&r.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(s){var r,c,d,h;for(s.headerList=[],s.headerContent=[],s.sortVars=[],l.debug(s,"core")&&(d=new Date),s.columns=l.computeColumnIndex(s.$table.children("thead, tfoot").children("tr")),c=s.cssIcon?'<i class="'+(s.cssIcon===l.css.icon?l.css.icon:s.cssIcon+" "+l.css.icon)+'"></i>':"",s.$headers=o(o.map(s.$table.find(s.selectorHeaders),function(f,v){var _,b,w,A,E,O=o(f);if(!l.getClosest(O,"tr").hasClass(s.cssIgnoreRow))return/(th|td)/i.test(f.nodeName)||(E=l.getClosest(O,"th, td"),O.attr("data-column",E.attr("data-column"))),_=l.getColumnData(s.table,s.headers,v,!0),s.headerContent[v]=O.html(),s.headerTemplate!==""&&!O.find("."+l.css.headerIn).length&&(A=s.headerTemplate.replace(l.regex.templateContent,O.html()).replace(l.regex.templateIcon,O.find("."+l.css.icon).length?"":c),s.onRenderTemplate&&(b=s.onRenderTemplate.apply(O,[v,A]),b&&typeof b=="string"&&(A=b)),O.html('<div class="'+l.css.headerIn+'">'+A+"</div>")),s.onRenderHeader&&s.onRenderHeader.apply(O,[v,s,s.$table]),w=parseInt(O.attr("data-column"),10),f.column=w,E=l.getOrder(l.getData(O,_,"sortInitialOrder")||s.sortInitialOrder),s.sortVars[w]={count:-1,order:E?s.sortReset?[1,0,2]:[1,0]:s.sortReset?[0,1,2]:[0,1],lockedOrder:!1,sortedBy:""},E=l.getData(O,_,"lockedOrder")||!1,(typeof E=="undefined"?"undefined":_typeof(E))<"u"&&E!==!1&&(s.sortVars[w].lockedOrder=!0,s.sortVars[w].order=l.getOrder(E)?[1,1]:[0,0]),s.headerList[v]=f,O.addClass(l.css.header+" "+s.cssHeader),l.getClosest(O,"tr").addClass(l.css.headerRow+" "+s.cssHeaderRow).attr("role","row"),s.tabIndex&&O.attr("tabindex",0),f})),s.$headerIndexed=[],h=0;h<s.columns;h++)l.isEmptyObject(s.sortVars[h])&&(s.sortVars[h]={}),r=s.$headers.filter('[data-column="'+h+'"]'),s.$headerIndexed[h]=r.length?r.not(".sorter-false").length?r.not(".sorter-false").filter(":last"):r.filter(":last"):o();s.$table.find(s.selectorHeaders).attr({scope:"col",role:"columnheader"}),l.updateHeader(s),l.debug(s,"core")&&(console.log("Built headers:"+l.benchmark(d)),console.log(s.$headers))},addInstanceMethods:function(s){o.extend(l.instanceMethods,s)},setupParsers:function(s,r){var c,d,h,f,v,_,b,w,A,E,O,P,y,u,p=s.table,g=0,k=l.debug(s,"core"),x={};if(s.$tbodies=s.$table.children("tbody:not(."+s.cssInfoBlock+")"),y=(typeof r=="undefined"?"undefined":_typeof(r))>"u"?s.$tbodies:r,u=y.length,u===0)return k?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(k&&(P=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),d={extractors:[],parsers:[]};g<u;){if(c=y[g].rows,c.length)for(v=0,f=s.columns,_=0;_<f;_++){if(b=s.$headerIndexed[v],b&&b.length&&(w=l.getColumnData(p,s.headers,v),O=l.getParserById(l.getData(b,w,"extractor")),E=l.getParserById(l.getData(b,w,"sorter")),A=l.getData(b,w,"parser")==="false",s.empties[v]=(l.getData(b,w,"empty")||s.emptyTo||(s.emptyToBottom?"bottom":"top")).toLowerCase(),s.strings[v]=(l.getData(b,w,"string")||s.stringTo||"max").toLowerCase(),A&&(E=l.getParserById("no-parser")),O||(O=!1),E||(E=l.detectParserForColumn(s,c,-1,v)),k&&(x["("+v+") "+b.text()]={parser:E.id,extractor:O?O.id:"none",string:s.strings[v],empty:s.empties[v]}),d.parsers[v]=E,d.extractors[v]=O,h=b[0].colSpan-1,h>0))for(v+=h,f+=h;h+1>0;)d.parsers[v-h]=E,d.extractors[v-h]=O,h--;v++}g+=d.parsers.length?u:1}k&&(l.isEmptyObject(x)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](x),console.log("Completed detecting parsers"+l.benchmark(P)),console.groupEnd&&console.groupEnd()),s.parsers=d.parsers,s.extractors=d.extractors},addParser:function(s){var r,c=l.parsers.length,d=!0;for(r=0;r<c;r++)l.parsers[r].id.toLowerCase()===s.id.toLowerCase()&&(d=!1);d&&(l.parsers[l.parsers.length]=s)},getParserById:function(s){if(s=="false")return!1;var r,c=l.parsers.length;for(r=0;r<c;r++)if(l.parsers[r].id.toLowerCase()===s.toString().toLowerCase())return l.parsers[r];return!1},detectParserForColumn:function(s,r,c,d){for(var h,f,v,_=l.parsers.length,b=!1,w="",A=l.debug(s,"core"),E=!0;w===""&&E;)c++,v=r[c],v&&c<50?v.className.indexOf(l.cssIgnoreRow)<0&&(b=r[c].cells[d],w=l.getElementText(s,b,d),f=o(b),A&&console.log("Checking if value was empty on row "+c+", column: "+d+': "'+w+'"')):E=!1;for(;--_>=0;)if(h=l.parsers[_],h&&h.id!=="text"&&h.is&&h.is(w,s.table,b,f))return h;return l.getParserById("text")},getElementText:function(s,r,c){if(!r)return"";var d,h=s.textExtraction||"",f=r.jquery?r:o(r);return typeof h=="string"?h==="basic"&&_typeof(d=f.attr(s.textAttribute))<"u"?o.trim(d):o.trim(r.textContent||f.text()):typeof h=="function"?o.trim(h(f[0],s.table,c)):typeof(d=l.getColumnData(s.table,h,c))=="function"?o.trim(d(f[0],s.table,c)):o.trim(f[0].textContent||f.text())},getParsedText:function(s,r,c,d){(typeof d=="undefined"?"undefined":_typeof(d))>"u"&&(d=l.getElementText(s,r,c));var h=""+d,f=s.parsers[c],v=s.extractors[c];return f&&(v&&typeof v.format=="function"&&(d=v.format(d,s.table,r,c)),h=f.id==="no-parser"?"":f.format(""+d,s.table,r,c),s.ignoreCase&&typeof h=="string"&&(h=h.toLowerCase())),h},buildCache:function(s,r,c){var d,h,f,v,_,b,w,A,E,O,P,y,u,p,g,k,x,j,L,D,F,X,Q=s.table,H=s.parsers,ce=l.debug(s,"core");if(s.$tbodies=s.$table.children("tbody:not(."+s.cssInfoBlock+")"),w=(typeof c=="undefined"?"undefined":_typeof(c))>"u"?s.$tbodies:c,s.cache={},s.totalRows=0,!H)return ce?console.warn("Warning: *Empty table!* Not building a cache"):"";for(ce&&(y=new Date),s.showProcessing&&l.isProcessing(Q,!0),b=0;b<w.length;b++){for(k=[],d=s.cache[b]={normalized:[]},u=w[b]&&w[b].rows.length||0,v=0;v<u;++v)if(p={child:[],raw:[]},A=o(w[b].rows[v]),E=[],!A.hasClass(s.selectorRemove.slice(1))){if(A.hasClass(s.cssChildRow)&&v!==0){for(F=d.normalized.length-1,g=d.normalized[F][s.columns],g.$row=g.$row.add(A),A.prev().hasClass(s.cssChildRow)||A.prev().addClass(l.css.cssHasChild),O=A.children("th, td"),F=g.child.length,g.child[F]=[],j=0,D=s.columns,_=0;_<D;_++)P=O[_],P&&(g.child[F][_]=l.getParsedText(s,P,_),x=O[_].colSpan-1,x>0&&(j+=x,D+=x)),j++;continue}for(p.$row=A,p.order=v,j=0,D=s.columns,_=0;_<D;++_){if(P=A[0].cells[_],P&&j<s.columns&&(L=_typeof(H[j])<"u",!L&&ce&&console.warn("No parser found for row: "+v+", column: "+_+'; cell containing: "'+o(P).text()+'"; does it have a header?'),h=l.getElementText(s,P,j),p.raw[j]=h,f=l.getParsedText(s,P,j,h),E[j]=f,L&&(H[j].type||"").toLowerCase()==="numeric"&&(k[j]=Math.max(Math.abs(f)||0,k[j]||0)),x=P.colSpan-1,x>0)){for(X=0;X<=x;)f=s.duplicateSpan||X===0?f:typeof s.textExtraction!="string"&&l.getElementText(s,P,j+X)||"",p.raw[j+X]=f,E[j+X]=f,X++;j+=x,D+=x}j++}E[s.columns]=p,d.normalized[d.normalized.length]=E}d.colMax=k,s.totalRows+=d.normalized.length}if(s.showProcessing&&l.isProcessing(Q),ce){for(F=Math.min(5,s.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+s.totalRows+" rows (showing "+F+" rows in log) and "+s.columns+" columns"+l.benchmark(y)),h={},_=0;_<s.columns;_++)for(j=0;j<F;j++)h["row: "+j]||(h["row: "+j]={}),h["row: "+j][s.$headerIndexed[_].text()]=s.cache[0].normalized[j][_];console[console.table?"table":"log"](h),console.groupEnd&&console.groupEnd()}o.isFunction(r)&&r(Q)},getColumnText:function(s,r,c,d){s=o(s)[0];var h,f,v,_,b,w,A,E,O,P,y=typeof c=="function",u=r==="all",p={raw:[],parsed:[],$cell:[]},g=s.config;if(l.isEmptyObject(g))l.debug(g,"core")&&console.warn("No cache found - aborting getColumnText function!");else{for(b=g.$tbodies.length,h=0;h<b;h++)for(v=g.cache[h].normalized,w=v.length,f=0;f<w;f++)_=v[f],!(d&&!_[g.columns].$row.is(d))&&(P=!0,E=u?_.slice(0,g.columns):_[r],_=_[g.columns],A=u?_.raw:_.raw[r],O=u?_.$row.children():_.$row.children().eq(r),y&&(P=c({tbodyIndex:h,rowIndex:f,parsed:E,raw:A,$row:_.$row,$cell:O})),P!==!1&&(p.parsed[p.parsed.length]=E,p.raw[p.raw.length]=A,p.$cell[p.$cell.length]=O));return p}},setHeadersCss:function(s){var r,c,d=s.sortList,h=d.length,f=l.css.sortNone+" "+s.cssNone,v=[l.css.sortAsc+" "+s.cssAsc,l.css.sortDesc+" "+s.cssDesc],_=[s.cssIconAsc,s.cssIconDesc,s.cssIconNone],b=["ascending","descending"],w=function(P,y){P.removeClass(f).addClass(v[y]).attr("aria-sort",b[y]).find("."+l.css.icon).removeClass(_[2]).addClass(_[y])},A=s.$table.find("tfoot tr").children("td, th").add(o(s.namespace+"_extra_headers")).removeClass(v.join(" ")),E=s.$headers.add(o("thead "+s.namespace+"_extra_headers")).removeClass(v.join(" ")).addClass(f).attr("aria-sort","none").find("."+l.css.icon).removeClass(_.join(" ")).end();for(E.not(".sorter-false").find("."+l.css.icon).addClass(_[2]),s.cssIconDisabled&&E.filter(".sorter-false").find("."+l.css.icon).addClass(s.cssIconDisabled),r=0;r<h;r++)if(d[r][1]!==2){if(E=s.$headers.filter(function(O){for(var P=!0,y=s.$headers.eq(O),u=parseInt(y.attr("data-column"),10),p=u+l.getClosest(y,"th, td")[0].colSpan;u<p;u++)P=P?P||l.isValueInArray(u,s.sortList)>-1:!1;return P}),E=E.not(".sorter-false").filter('[data-column="'+d[r][0]+'"]'+(h===1?":last":"")),E.length)for(c=0;c<E.length;c++)E[c].sortDisabled||w(E.eq(c),d[r][1]);A.length&&w(A.filter('[data-column="'+d[r][0]+'"]'),d[r][1])}for(h=s.$headers.length,r=0;r<h;r++)l.setColumnAriaLabel(s,s.$headers.eq(r))},getClosest:function(s,r){return o.fn.closest?s.closest(r):s.is(r)?s:s.parents(r).filter(":first")},setColumnAriaLabel:function(s,r,c){if(r.length){var d=parseInt(r.attr("data-column"),10),h=s.sortVars[d],f=r.hasClass(l.css.sortAsc)?"sortAsc":r.hasClass(l.css.sortDesc)?"sortDesc":"sortNone",v=o.trim(r.text())+": "+l.language[f];r.hasClass("sorter-false")||c===!1?v+=l.language.sortDisabled:(f=(h.count+1)%h.order.length,c=h.order[f],v+=l.language[c===0?"nextAsc":c===1?"nextDesc":"nextNone"]),r.attr("aria-label",v),h.sortedBy?r.attr("data-sortedBy",h.sortedBy):r.removeAttr("data-sortedBy")}},updateHeader:function(s){var r,c,d,h,f=s.table,v=s.$headers.length;for(r=0;r<v;r++)d=s.$headers.eq(r),h=l.getColumnData(f,s.headers,r,!0),c=l.getData(d,h,"sorter")==="false"||l.getData(d,h,"parser")==="false",l.setColumnSort(s,d,c)},setColumnSort:function(s,r,c){var d=s.table.id;r[0].sortDisabled=c,r[c?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+c),s.tabIndex&&(c?r.removeAttr("tabindex"):r.attr("tabindex","0")),d&&(c?r.removeAttr("aria-controls"):r.attr("aria-controls",d))},updateHeaderSortCount:function(s,r){var c,d,h,f,v,_,b,w,A=r||s.sortList,E=A.length;for(s.sortList=[],f=0;f<E;f++)if(b=A[f],c=parseInt(b[0],10),c<s.columns){switch(s.sortVars[c].order||(l.getOrder(s.sortInitialOrder)?w=s.sortReset?[1,0,2]:[1,0]:w=s.sortReset?[0,1,2]:[0,1],s.sortVars[c].order=w,s.sortVars[c].count=0),w=s.sortVars[c].order,d=(""+b[1]).match(/^(1|d|s|o|n)/),d=d?d[0]:"",d){case"1":case"d":d=1;break;case"s":d=v||0;break;case"o":_=w[(v||0)%w.length],d=_===0?1:_===1?0:2;break;case"n":d=w[++s.sortVars[c].count%w.length];break;default:d=0;break}v=f===0?d:v,h=[c,parseInt(d,10)||0],s.sortList[s.sortList.length]=h,d=o.inArray(h[1],w),s.sortVars[c].count=d>=0?d:h[1]%w.length}},updateAll:function(s,r,c){var d=s.table;d.isUpdating=!0,l.refreshWidgets(d,!0,!0),l.buildHeaders(s),l.bindEvents(d,s.$headers,!0),l.bindMethods(s),l.commonUpdate(s,r,c)},update:function(s,r,c){var d=s.table;d.isUpdating=!0,l.updateHeader(s),l.commonUpdate(s,r,c)},updateHeaders:function(s,r){s.table.isUpdating=!0,l.buildHeaders(s),l.bindEvents(s.table,s.$headers,!0),l.resortComplete(s,r)},updateCell:function(s,r,c,d){if(o(r).closest("tr").hasClass(s.cssChildRow)){console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');return}if(l.isEmptyObject(s.cache)){l.updateHeader(s),l.commonUpdate(s,c,d);return}s.table.isUpdating=!0,s.$table.find(s.selectorRemove).remove();var h,f,v,_,b,w,A=s.$tbodies,E=o(r),O=A.index(l.getClosest(E,"tbody")),P=s.cache[O],y=l.getClosest(E,"tr");if(r=E[0],A.length&&O>=0){if(v=A.eq(O).find("tr").not("."+s.cssChildRow).index(y),b=P.normalized[v],w=y[0].cells.length,w!==s.columns)for(_=0,h=!1,f=0;f<w;f++)!h&&y[0].cells[f]!==r?_+=y[0].cells[f].colSpan:h=!0;else _=E.index();h=l.getElementText(s,r,_),b[s.columns].raw[_]=h,h=l.getParsedText(s,r,_,h),b[_]=h,(s.parsers[_].type||"").toLowerCase()==="numeric"&&(P.colMax[_]=Math.max(Math.abs(h)||0,P.colMax[_]||0)),h=c!=="undefined"?c:s.resort,h!==!1?l.checkResort(s,h,d):l.resortComplete(s,d)}else l.debug(s,"core")&&console.error("updateCell aborted, tbody missing or not within the indicated table"),s.table.isUpdating=!1},addRows:function(s,r,c,d){var h,f,v,_,b,w,A,E,O,P,y,u,p,g=typeof r=="string"&&s.$tbodies.length===1&&/<tr/.test(r||""),k=s.table;if(g)r=o(r),s.$tbodies.append(r);else if(!r||!_instanceof(r,o)||l.getClosest(r,"table")[0]!==s.table)return l.debug(s,"core")&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(k.isUpdating=!0,l.isEmptyObject(s.cache))l.updateHeader(s),l.commonUpdate(s,c,d);else{for(b=r.filter("tr").attr("role","row").length,v=s.$tbodies.index(r.parents("tbody").filter(":first")),s.parsers&&s.parsers.length||l.setupParsers(s),_=0;_<b;_++){for(O=0,A=r[_].cells.length,E=s.cache[v].normalized.length,y=[],P={child:[],raw:[],$row:r.eq(_),order:E},w=0;w<A;w++)u=r[_].cells[w],h=l.getElementText(s,u,O),P.raw[O]=h,f=l.getParsedText(s,u,O,h),y[O]=f,(s.parsers[O].type||"").toLowerCase()==="numeric"&&(s.cache[v].colMax[O]=Math.max(Math.abs(f)||0,s.cache[v].colMax[O]||0)),p=u.colSpan-1,p>0&&(O+=p),O++;y[s.columns]=P,s.cache[v].normalized[E]=y}l.checkResort(s,c,d)}},updateCache:function(s,r,c){s.parsers&&s.parsers.length||l.setupParsers(s,c),l.buildCache(s,r,c)},appendCache:function(s,r){var c,d,h,f,v,_,b,w=s.table,A=s.$tbodies,E=[],O=s.cache;if(l.isEmptyObject(O))return s.appender?s.appender(w,E):w.isUpdating?s.$table.triggerHandler("updateComplete",w):"";for(l.debug(s,"core")&&(b=new Date),_=0;_<A.length;_++)if(h=A.eq(_),h.length){for(f=l.processTbody(w,h,!0),c=O[_].normalized,d=c.length,v=0;v<d;v++)E[E.length]=c[v][s.columns].$row,(!s.appender||s.pager&&!s.pager.removeRows&&!s.pager.ajax)&&f.append(c[v][s.columns].$row);l.processTbody(w,f,!1)}s.appender&&s.appender(w,E),l.debug(s,"core")&&console.log("Rebuilt table"+l.benchmark(b)),!r&&!s.appender&&l.applyWidget(w),w.isUpdating&&s.$table.triggerHandler("updateComplete",w)},commonUpdate:function(s,r,c){s.$table.find(s.selectorRemove).remove(),l.setupParsers(s),l.buildCache(s),l.checkResort(s,r,c)},initSort:function(s,r,c){if(s.table.isUpdating)return setTimeout(function(){l.initSort(s,r,c)},50);var d,h,f,v,_,b,w,A=!c[s.sortMultiSortKey],E=s.table,O=s.$headers.length,P=l.getClosest(o(r),"th, td"),y=parseInt(P.attr("data-column"),10),u=c.type==="mouseup"?"user":c.type,p=s.sortVars[y].order;if(P=P[0],s.$table.triggerHandler("sortStart",E),b=(s.sortVars[y].count+1)%p.length,s.sortVars[y].count=c[s.sortResetKey]?2:b,s.sortRestart)for(f=0;f<O;f++)w=s.$headers.eq(f),b=parseInt(w.attr("data-column"),10),y!==b&&(A||w.hasClass(l.css.sortNone))&&(s.sortVars[b].count=-1);if(A){if(o.each(s.sortVars,function(g){s.sortVars[g].sortedBy=""}),s.sortList=[],s.last.sortList=[],s.sortForce!==null)for(d=s.sortForce,h=0;h<d.length;h++)d[h][0]!==y&&(s.sortList[s.sortList.length]=d[h],s.sortVars[d[h][0]].sortedBy="sortForce");if(v=p[s.sortVars[y].count],v<2&&(s.sortList[s.sortList.length]=[y,v],s.sortVars[y].sortedBy=u,P.colSpan>1))for(h=1;h<P.colSpan;h++)s.sortList[s.sortList.length]=[y+h,v],s.sortVars[y+h].count=o.inArray(v,p),s.sortVars[y+h].sortedBy=u}else if(s.sortList=o.extend([],s.last.sortList),l.isValueInArray(y,s.sortList)>=0)for(s.sortVars[y].sortedBy=u,h=0;h<s.sortList.length;h++)b=s.sortList[h],b[0]===y&&(b[1]=p[s.sortVars[y].count],b[1]===2&&(s.sortList.splice(h,1),s.sortVars[y].count=-1));else if(v=p[s.sortVars[y].count],s.sortVars[y].sortedBy=u,v<2&&(s.sortList[s.sortList.length]=[y,v],P.colSpan>1))for(h=1;h<P.colSpan;h++)s.sortList[s.sortList.length]=[y+h,v],s.sortVars[y+h].count=o.inArray(v,p),s.sortVars[y+h].sortedBy=u;if(s.last.sortList=o.extend([],s.sortList),s.sortList.length&&s.sortAppend&&(d=o.isArray(s.sortAppend)?s.sortAppend:s.sortAppend[s.sortList[0][0]],!l.isEmptyObject(d))){for(h=0;h<d.length;h++)if(d[h][0]!==y&&l.isValueInArray(d[h][0],s.sortList)<0){if(v=d[h][1],_=(""+v).match(/^(a|d|s|o|n)/),_)switch(b=s.sortList[0][1],_[0]){case"d":v=1;break;case"s":v=b;break;case"o":v=b===0?1:0;break;case"n":v=(b+1)%p.length;break;default:v=0;break}s.sortList[s.sortList.length]=[d[h][0],v],s.sortVars[d[h][0]].sortedBy="sortAppend"}}s.$table.triggerHandler("sortBegin",E),setTimeout(function(){l.setHeadersCss(s),l.multisort(s),l.appendCache(s),s.$table.triggerHandler("sortBeforeEnd",E),s.$table.triggerHandler("sortEnd",E)},1)},multisort:function(s){var r,c,d,h,f,v=s.table,_=[],b=0,w=s.textSorter||"",A=s.sortList,E=A.length,O=s.$tbodies.length;if(!(s.serverSideSorting||l.isEmptyObject(s.cache))){if(l.debug(s,"core")&&(c=new Date),typeof w=="object")for(d=s.columns;d--;)f=l.getColumnData(v,w,d),typeof f=="function"&&(_[d]=f);for(r=0;r<O;r++)d=s.cache[r].colMax,h=s.cache[r].normalized,h.sort(function(P,y){var u,p,g,k,x,j,L;for(u=0;u<E;u++){if(g=A[u][0],k=A[u][1],b=k===0,s.sortStable&&P[g]===y[g]&&E===1)return P[s.columns].order-y[s.columns].order;if(p=/n/i.test(l.getSortType(s.parsers,g)),p&&s.strings[g]?(typeof l.string[s.strings[g]]=="boolean"?p=(b?1:-1)*(l.string[s.strings[g]]?-1:1):p=s.strings[g]&&l.string[s.strings[g]]||0,x=s.numberSorter?s.numberSorter(P[g],y[g],b,d[g],v):l["sortNumeric"+(b?"Asc":"Desc")](P[g],y[g],p,d[g],g,s)):(j=b?P:y,L=b?y:P,typeof w=="function"?x=w(j[g],L[g],b,g,v):typeof _[g]=="function"?x=_[g](j[g],L[g],b,g,v):x=l["sortNatural"+(b?"Asc":"Desc")](P[g]||"",y[g]||"",g,s)),x)return x}return P[s.columns].order-y[s.columns].order});l.debug(s,"core")&&console.log("Applying sort "+A.toString()+l.benchmark(c))}},resortComplete:function(s,r){s.table.isUpdating&&s.$table.triggerHandler("updateComplete",s.table),o.isFunction(r)&&r(s.table)},checkResort:function(s,r,c){var d=o.isArray(r)?r:s.sortList,h=(typeof r=="undefined"?"undefined":_typeof(r))>"u"?s.resort:r;h!==!1&&!s.serverSideSorting&&!s.table.isProcessing?d.length?l.sortOn(s,d,function(){l.resortComplete(s,c)},!0):l.sortReset(s,function(){l.resortComplete(s,c),l.applyWidget(s.table,!1)}):(l.resortComplete(s,c),l.applyWidget(s.table,!1))},sortOn:function(s,r,c,d){var h,f=s.table;for(s.$table.triggerHandler("sortStart",f),h=0;h<s.columns;h++)s.sortVars[h].sortedBy=l.isValueInArray(h,r)>-1?"sorton":"";l.updateHeaderSortCount(s,r),l.setHeadersCss(s),s.delayInit&&l.isEmptyObject(s.cache)&&l.buildCache(s),s.$table.triggerHandler("sortBegin",f),l.multisort(s),l.appendCache(s,d),s.$table.triggerHandler("sortBeforeEnd",f),s.$table.triggerHandler("sortEnd",f),l.applyWidget(f),o.isFunction(c)&&c(f)},sortReset:function(s,r){s.sortList=[];var c;for(c=0;c<s.columns;c++)s.sortVars[c].count=-1,s.sortVars[c].sortedBy="";l.setHeadersCss(s),l.multisort(s),l.appendCache(s),o.isFunction(r)&&r(s.table)},getSortType:function(s,r){return s&&s[r]&&s[r].type||""},getOrder:function(s){return/^d/i.test(s)||s===1},sortNatural:function(s,r){if(s===r)return 0;s=(s||"").toString(),r=(r||"").toString();var c,d,h,f,v,_,b=l.regex;if(b.hex.test(r)){if(c=parseInt(s.match(b.hex),16),d=parseInt(r.match(b.hex),16),c<d)return-1;if(c>d)return 1}for(c=s.replace(b.chunk,"\\0$1\\0").replace(b.chunks,"").split("\\0"),d=r.replace(b.chunk,"\\0$1\\0").replace(b.chunks,"").split("\\0"),_=Math.max(c.length,d.length),v=0;v<_;v++){if(h=isNaN(c[v])?c[v]||0:parseFloat(c[v])||0,f=isNaN(d[v])?d[v]||0:parseFloat(d[v])||0,isNaN(h)!==isNaN(f))return isNaN(h)?1:-1;if((typeof h=="undefined"?"undefined":_typeof(h))!=(typeof f=="undefined"?"undefined":_typeof(f))&&(h+="",f+=""),h<f)return-1;if(h>f)return 1}return 0},sortNaturalAsc:function(s,r,c,d){if(s===r)return 0;var h=l.string[d.empties[c]||d.emptyTo];return s===""&&h!==0?typeof h=="boolean"?h?-1:1:-h||-1:r===""&&h!==0?typeof h=="boolean"?h?1:-1:h||1:l.sortNatural(s,r)},sortNaturalDesc:function(s,r,c,d){if(s===r)return 0;var h=l.string[d.empties[c]||d.emptyTo];return s===""&&h!==0?typeof h=="boolean"?h?-1:1:h||1:r===""&&h!==0?typeof h=="boolean"?h?1:-1:-h||-1:l.sortNatural(r,s)},sortText:function(s,r){return s>r?1:s<r?-1:0},getTextValue:function(s,r,c){if(c){var d,h=s?s.length:0,f=c+r;for(d=0;d<h;d++)f+=s.charCodeAt(d);return r*f}return 0},sortNumericAsc:function(s,r,c,d,h,f){if(s===r)return 0;var v=l.string[f.empties[h]||f.emptyTo];return s===""&&v!==0?typeof v=="boolean"?v?-1:1:-v||-1:r===""&&v!==0?typeof v=="boolean"?v?1:-1:v||1:(isNaN(s)&&(s=l.getTextValue(s,c,d)),isNaN(r)&&(r=l.getTextValue(r,c,d)),s-r)},sortNumericDesc:function(s,r,c,d,h,f){if(s===r)return 0;var v=l.string[f.empties[h]||f.emptyTo];return s===""&&v!==0?typeof v=="boolean"?v?-1:1:v||1:r===""&&v!==0?typeof v=="boolean"?v?1:-1:-v||-1:(isNaN(s)&&(s=l.getTextValue(s,c,d)),isNaN(r)&&(r=l.getTextValue(r,c,d)),r-s)},sortNumeric:function(s,r){return s-r},addWidget:function(s){s.id&&!l.isEmptyObject(l.getWidgetById(s.id))&&console.warn('"'+s.id+'" widget was loaded more than once!'),l.widgets[l.widgets.length]=s},hasWidget:function(s,r){return s=o(s),s.length&&s[0].config&&s[0].config.widgetInit[r]||!1},getWidgetById:function(s){var r,c,d=l.widgets.length;for(r=0;r<d;r++)if(c=l.widgets[r],c&&c.id&&c.id.toLowerCase()===s.toLowerCase())return c},applyWidgetOptions:function(s){var r,c,d,h=s.config,f=h.widgets.length;if(f)for(r=0;r<f;r++)c=l.getWidgetById(h.widgets[r]),c&&c.options&&(d=o.extend(!0,{},c.options),h.widgetOptions=o.extend(!0,d,h.widgetOptions),o.extend(!0,l.defaults.widgetOptions,c.options))},addWidgetFromClass:function(s){var r,c,d=s.config,h="^"+d.widgetClass.replace(l.regex.templateName,"(\\S+)+")+"$",f=new RegExp(h,"g"),v=(s.className||"").split(l.regex.spaces);if(v.length)for(r=v.length,c=0;c<r;c++)v[c].match(f)&&(d.widgets[d.widgets.length]=v[c].replace(f,"$1"))},applyWidgetId:function(s,r,c){s=o(s)[0];var d,h,f,v=s.config,_=v.widgetOptions,b=l.debug(v,"core"),w=l.getWidgetById(r);w&&(f=w.id,d=!1,o.inArray(f,v.widgets)<0&&(v.widgets[v.widgets.length]=f),b&&(h=new Date),(c||!v.widgetInit[f])&&(v.widgetInit[f]=!0,s.hasInitialized&&l.applyWidgetOptions(s),typeof w.init=="function"&&(d=!0,b&&console[console.group?"group":"log"]("Initializing "+f+" widget"),w.init(s,w,v,_))),!c&&typeof w.format=="function"&&(d=!0,b&&console[console.group?"group":"log"]("Updating "+f+" widget"),w.format(s,v,_,!1)),b&&d&&(console.log("Completed "+(c?"initializing ":"applying ")+f+" widget"+l.benchmark(h)),console.groupEnd&&console.groupEnd()))},applyWidget:function(s,r,c){s=o(s)[0];var d,h,f,v,_,b=s.config,w=l.debug(b,"core"),A=[];if(!(r!==!1&&s.hasInitialized&&(s.isApplyingWidgets||s.isUpdating))){if(w&&(_=new Date),l.addWidgetFromClass(s),clearTimeout(b.timerReady),b.widgets.length){for(s.isApplyingWidgets=!0,b.widgets=o.grep(b.widgets,function(E,O){return o.inArray(E,b.widgets)===O}),f=b.widgets||[],h=f.length,d=0;d<h;d++)v=l.getWidgetById(f[d]),v&&v.id?(v.priority||(v.priority=10),A[d]=v):w&&console.warn('"'+f[d]+'" was enabled, but the widget code has not been loaded!');for(A.sort(function(E,O){return E.priority<O.priority?-1:E.priority===O.priority?0:1}),h=A.length,w&&console[console.group?"group":"log"]("Start "+(r?"initializing":"applying")+" widgets"),d=0;d<h;d++)v=A[d],v&&v.id&&l.applyWidgetId(s,v.id,r);w&&console.groupEnd&&console.groupEnd()}b.timerReady=setTimeout(function(){s.isApplyingWidgets=!1,o.data(s,"lastWidgetApplication",new Date),b.$table.triggerHandler("tablesorter-ready"),!r&&typeof c=="function"&&c(s),w&&(v=b.widgets.length,console.log("Completed "+(r===!0?"initializing ":"applying ")+v+" widget"+(v!==1?"s":"")+l.benchmark(_)))},10)}},removeWidget:function(s,r,c){s=o(s)[0];var d,h,f,v,_=s.config;if(r===!0)for(r=[],v=l.widgets.length,f=0;f<v;f++)h=l.widgets[f],h&&h.id&&(r[r.length]=h.id);else r=(o.isArray(r)?r.join(","):r||"").toLowerCase().split(/[\s,]+/);for(v=r.length,d=0;d<v;d++)h=l.getWidgetById(r[d]),f=o.inArray(r[d],_.widgets),f>=0&&c!==!0&&_.widgets.splice(f,1),h&&h.remove&&(l.debug(_,"core")&&console.log((c?"Refreshing":"Removing")+' "'+r[d]+'" widget'),h.remove(s,_,_.widgetOptions,c),_.widgetInit[r[d]]=!1);_.$table.triggerHandler("widgetRemoveEnd",s)},refreshWidgets:function(s,r,c){s=o(s)[0];var d,h,f=s.config,v=f.widgets,_=l.widgets,b=_.length,w=[],A=function(O){o(O).triggerHandler("refreshComplete")};for(d=0;d<b;d++)h=_[d],h&&h.id&&(r||o.inArray(h.id,v)<0)&&(w[w.length]=h.id);l.removeWidget(s,w.join(","),!0),c!==!0?(l.applyWidget(s,r||!1,A),r&&l.applyWidget(s,!1,A)):A(s)},benchmark:function(s){return" ("+(new Date().getTime()-s.getTime())+" ms)"},log:function(){console.log(arguments)},debug:function(s,r){return s&&(s.debug===!0||typeof s.debug=="string"&&s.debug.indexOf(r)>-1)},isEmptyObject:function(s){for(var r in s)return!1;return!0},isValueInArray:function(s,r){var c,d=r&&r.length||0;for(c=0;c<d;c++)if(r[c][0]===s)return c;return-1},formatFloat:function(s,r){if(typeof s!="string"||s==="")return s;var c,d=r&&r.config?r.config.usNumberFormat!==!1:(typeof r=="undefined"?"undefined":_typeof(r))<"u"?r:!0;return d?s=s.replace(l.regex.comma,""):s=s.replace(l.regex.digitNonUS,"").replace(l.regex.comma,"."),l.regex.digitNegativeTest.test(s)&&(s=s.replace(l.regex.digitNegativeReplace,"-$1")),c=parseFloat(s),isNaN(c)?o.trim(s):c},isDigit:function(s){return isNaN(s)?l.regex.digitTest.test(s.toString().replace(l.regex.digitReplace,"")):s!==""},computeColumnIndex:function(s,r){var c,d,h,f,v,_,b,w,A,E,O=r&&r.columns||0,P=[],y=new Array(O);for(c=0;c<s.length;c++)for(_=s[c].cells,d=0;d<_.length;d++){for(v=_[d],b=c,w=v.rowSpan||1,A=v.colSpan||1,_typeof(P[b])>"u"&&(P[b]=[]),h=0;h<P[b].length+1;h++)if(_typeof(P[b][h])>"u"){E=h;break}for(O&&v.cellIndex===E||(v.setAttribute?v.setAttribute("data-column",E):o(v).attr("data-column",E)),h=b;h<b+w;h++)for(_typeof(P[h])>"u"&&(P[h]=[]),y=P[h],f=E;f<E+A;f++)y[f]="x"}return l.checkColumnCount(s,P,y.length),y.length},checkColumnCount:function(s,r,c){var d,h,f=!0,v=[];for(d=0;d<r.length;d++)if(r[d]&&(h=r[d].length,r[d].length!==c)){f=!1;break}f||(s.each(function(_,b){var w=b.parentElement.nodeName;v.indexOf(w)<0&&v.push(w)}),console.error("Invalid or incorrect number of columns in the "+v.join(" or ")+"; expected "+c+", but found "+h+" columns"))},fixColumnWidth:function(s){s=o(s)[0];var r,c,d,h,f,v=s.config,_=v.$table.children("colgroup");if(_.length&&_.hasClass(l.css.colgroup)&&_.remove(),v.widthFixed&&v.$table.children("colgroup").length===0){for(_=o('<colgroup class="'+l.css.colgroup+'">'),r=v.$table.width(),d=v.$tbodies.find("tr:first").children(":visible"),h=d.length,f=0;f<h;f++)c=parseInt(d.eq(f).width()/r*1e3,10)/10+"%",_.append(o("<col>").css("width",c));v.$table.prepend(_)}},getData:function(s,r,c){var d,h,f="",v=o(s);return v.length?(d=o.metadata?v.metadata():!1,h=" "+(v.attr("class")||""),_typeof(v.data(c))<"u"||_typeof(v.data(c.toLowerCase()))<"u"?f+=v.data(c)||v.data(c.toLowerCase()):d&&_typeof(d[c])<"u"?f+=d[c]:r&&_typeof(r[c])<"u"?f+=r[c]:h!==" "&&h.match(" "+c+"-")&&(f=h.match(new RegExp("\\s"+c+"-([\\w-]+)"))[1]||""),o.trim(f)):""},getColumnData:function(s,r,c,d,h){if(typeof r!="object"||r===null)return r;s=o(s)[0];var f,v,_=s.config,b=h||_.$headers,w=_.$headerIndexed&&_.$headerIndexed[c]||b.find('[data-column="'+c+'"]:last');if(_typeof(r[c])<"u")return d?r[c]:r[b.index(w)];for(v in r)if(typeof v=="string"&&(f=w.filter(v).add(w.find(v)),f.length))return r[v]},isProcessing:function(s,r,c){s=o(s);var d=s[0].config,h=c||s.find("."+l.css.header);r?((typeof c=="undefined"?"undefined":_typeof(c))<"u"&&d.sortList.length>0&&(h=h.filter(function(){return this.sortDisabled?!1:l.isValueInArray(parseFloat(o(this).attr("data-column")),d.sortList)>=0})),s.add(h).addClass(l.css.processing+" "+d.cssProcessing)):s.add(h).removeClass(l.css.processing+" "+d.cssProcessing)},processTbody:function(s,r,c){if(s=o(s)[0],c)return s.isProcessing=!0,r.before('<colgroup class="tablesorter-savemyplace"/>'),o.fn.detach?r.detach():r.remove();var d=o(s).find("colgroup.tablesorter-savemyplace");r.insertAfter(d),d.remove(),s.isProcessing=!1},clearTableBody:function(s){o(s)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"\xE1\xE0\xE2\xE3\xE4\u0105\xE5",A:"\xC1\xC0\xC2\xC3\xC4\u0104\xC5",c:"\xE7\u0107\u010D",C:"\xC7\u0106\u010C",e:"\xE9\xE8\xEA\xEB\u011B\u0119",E:"\xC9\xC8\xCA\xCB\u011A\u0118",i:"\xED\xEC\u0130\xEE\xEF\u0131",I:"\xCD\xCC\u0130\xCE\xCF",o:"\xF3\xF2\xF4\xF5\xF6\u014D",O:"\xD3\xD2\xD4\xD5\xD6\u014C",ss:"\xDF",SS:"\u1E9E",u:"\xFA\xF9\xFB\xFC\u016F",U:"\xDA\xD9\xDB\xDC\u016E"},replaceAccents:function(s){var r,c="[",d=l.characterEquivalents;if(!l.characterRegex){l.characterRegexArray={};for(r in d)typeof r=="string"&&(c+=d[r],l.characterRegexArray[r]=new RegExp("["+d[r]+"]","g"));l.characterRegex=new RegExp(c+"]")}if(l.characterRegex.test(s))for(r in d)typeof r=="string"&&(s=s.replace(l.characterRegexArray[r],r));return s},validateOptions:function(s){var r,c,d,h,f="headers sortForce sortList sortAppend widgets".split(" "),v=s.originalSettings;if(v){l.debug(s,"core")&&(h=new Date);for(r in v)if(d=_typeof(l.defaults[r]),d==="undefined")console.warn('Tablesorter Warning! "table.config.'+r+'" option not recognized');else if(d==="object")for(c in v[r])d=l.defaults[r]&&_typeof(l.defaults[r][c]),o.inArray(r,f)<0&&d==="undefined"&&console.warn('Tablesorter Warning! "table.config.'+r+"."+c+'" option not recognized');l.debug(s,"core")&&console.log("validate options time:"+l.benchmark(h))}},restoreHeaders:function(s){var r,c,d=o(s)[0].config,h=d.$table.find(d.selectorHeaders),f=h.length;for(r=0;r<f;r++)c=h.eq(r),c.find("."+l.css.headerIn).length&&c.html(d.headerContent[r])},destroy:function(s,r,c){if(s=o(s)[0],!!s.hasInitialized){l.removeWidget(s,!0,!1);var d,h=o(s),f=s.config,v=h.find("thead:first"),_=v.find("tr."+l.css.headerRow).removeClass(l.css.headerRow+" "+f.cssHeaderRow),b=h.find("tfoot:first > tr").children("th, td");r===!1&&o.inArray("uitheme",f.widgets)>=0&&(h.triggerHandler("applyWidgetId",["uitheme"]),h.triggerHandler("applyWidgetId",["zebra"])),v.find("tr").not(_).remove(),d="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(f.namespace+" "),h.removeData("tablesorter").unbind(d.replace(l.regex.spaces," ")),f.$headers.add(b).removeClass([l.css.header,f.cssHeader,f.cssAsc,f.cssDesc,l.css.sortAsc,l.css.sortDesc,l.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),_.find(f.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(f.namespace+" ").replace(l.regex.spaces," ")),l.restoreHeaders(s),h.toggleClass(l.css.table+" "+f.tableClass+" tablesorter-"+f.theme,r===!1),h.removeClass(f.namespace.slice(1)),s.hasInitialized=!1,delete s.config.cache,typeof c=="function"&&c(s),l.debug(f,"core")&&console.log("tablesorter has been removed")}}};o.fn.tablesorter=function(a){return this.each(function(){var s=this,r=o.extend(!0,{},l.defaults,a,l.instanceMethods);r.originalSettings=a,!s.hasInitialized&&l.buildTable&&this.nodeName!=="TABLE"?l.buildTable(s,r):l.setup(s,r)})},window.console&&window.console.log||(l.logs=[],console={},console.log=console.warn=console.error=console.table=function(){var a=arguments.length>1?arguments:arguments[0];l.logs[l.logs.length]={date:Date.now(),log:a}}),l.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),l.addParser({id:"text",is:function(){return!0},format:function(s,r){var c=r.config;return s&&(s=o.trim(c.ignoreCase?s.toLocaleLowerCase():s),s=c.sortLocaleCompare?l.replaceAccents(s):s),s},type:"text"}),l.regex.nondigit=/[^\w,. \-()]/g,l.addParser({id:"digit",is:function(s){return l.isDigit(s)},format:function(s,r){var c=l.formatFloat((s||"").replace(l.regex.nondigit,""),r);return s&&typeof c=="number"?c:s&&o.trim(s&&r.config.ignoreCase?s.toLocaleLowerCase():s)},type:"numeric"}),l.regex.currencyReplace=/[+\-,. ]/g,l.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,l.addParser({id:"currency",is:function(s){return s=(s||"").replace(l.regex.currencyReplace,""),l.regex.currencyTest.test(s)},format:function(s,r){var c=l.formatFloat((s||"").replace(l.regex.nondigit,""),r);return s&&typeof c=="number"?c:s&&o.trim(s&&r.config.ignoreCase?s.toLocaleLowerCase():s)},type:"numeric"}),l.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,l.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,l.addParser({id:"url",is:function(s){return l.regex.urlProtocolTest.test(s)},format:function(s){return s&&o.trim(s.replace(l.regex.urlProtocolReplace,""))},type:"text"}),l.regex.dash=/-/g,l.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,l.addParser({id:"isoDate",is:function(s){return l.regex.isoDate.test(s)},format:function(s){var r=s&&new Date(s.replace(l.regex.dash,"/"));return _instanceof(r,Date)&&isFinite(r)?r.getTime():s},type:"numeric"}),l.regex.percent=/%/g,l.regex.percentTest=/(\d\s*?%|%\s*?\d)/,l.addParser({id:"percent",is:function(s){return l.regex.percentTest.test(s)&&s.length<15},format:function(s,r){return s&&l.formatFloat(s.replace(l.regex.percent,""),r)},type:"numeric"}),l.addParser({id:"image",is:function(s,r,c,d){return d.find("img").length>0},format:function(s,r,c){return o(c).find("img").attr(r.config.imgAttr||"alt")||s},parsed:!0,type:"text"}),l.regex.dateReplace=/(\S)([AP]M)$/i,l.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,l.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,l.addParser({id:"usLongDate",is:function(s){return l.regex.usLongDateTest1.test(s)||l.regex.usLongDateTest2.test(s)},format:function(s){var r=s&&new Date(s.replace(l.regex.dateReplace,"$1 $2"));return _instanceof(r,Date)&&isFinite(r)?r.getTime():s},type:"numeric"}),l.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,l.regex.shortDateReplace=/[\-.,]/g,l.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,l.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,l.convertFormat=function(a,s){a=(a||"").replace(l.regex.spaces," ").replace(l.regex.shortDateReplace,"/"),s==="mmddyyyy"?a=a.replace(l.regex.shortDateXXY,"$3/$1/$2"):s==="ddmmyyyy"?a=a.replace(l.regex.shortDateXXY,"$3/$2/$1"):s==="yyyymmdd"&&(a=a.replace(l.regex.shortDateYMD,"$1/$2/$3"));var r=new Date(a);return _instanceof(r,Date)&&isFinite(r)?r.getTime():""},l.addParser({id:"shortDate",is:function(s){return s=(s||"").replace(l.regex.spaces," ").replace(l.regex.shortDateReplace,"/"),l.regex.shortDateTest.test(s)},format:function(s,r,c,d){if(s){var h=r.config,f=h.$headerIndexed[d],v=f.length&&f.data("dateFormat")||l.getData(f,l.getColumnData(r,h.headers,d),"dateFormat")||h.dateFormat;return f.length&&f.data("dateFormat",v),l.convertFormat(s,v)||s}return s},type:"numeric"}),l.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,l.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,l.addParser({id:"time",is:function(s){return l.regex.timeTest.test(s)},format:function(s){var r,c=(s||"").match(l.regex.timeMatch),d=new Date(s),h=s&&(c!==null?c[0]:"00:00 AM"),f=h&&new Date("2000/01/01 "+h.replace(l.regex.dateReplace,"$1 $2"));return _instanceof(f,Date)&&isFinite(f)?(r=_instanceof(d,Date)&&isFinite(d)?d.getTime():0,r?parseFloat(f.getTime()+"."+d.getTime()):f.getTime()):s},type:"numeric"}),l.addParser({id:"metadata",is:function(){return!1},format:function(s,r,c){var d=r.config,h=d.parserMetadataName?d.parserMetadataName:"sortValue";return o(c).metadata()[h]},type:"numeric"}),l.addWidget({id:"zebra",priority:90,format:function(s,r,c){var d,h,f,v,_,b,w,A=new RegExp(r.cssChildRow,"i"),E=r.$tbodies.add(o(r.namespace+"_extra_table").children("tbody:not(."+r.cssInfoBlock+")"));for(_=0;_<E.length;_++)for(f=0,d=E.eq(_).children("tr:visible").not(r.selectorRemove),w=d.length,b=0;b<w;b++)h=d.eq(b),A.test(h[0].className)||f++,v=f%2===0,h.removeClass(c.zebra[v?1:0]).addClass(c.zebra[v?0:1])},remove:function(s,r,c,d){if(!d){var h,f,v=r.$tbodies,_=(c.zebra||["even","odd"]).join(" ");for(h=0;h<v.length;h++)f=l.processTbody(s,v.eq(h),!0),f.children().removeClass(_),l.processTbody(s,f,!1)}}})}(n),function(o,l,a){"use strict";var s=o.tablesorter||{};o.extend(!0,s.defaults,{fixedUrl:"",widgetOptions:{storage_fixedUrl:"",storage_group:"",storage_page:"",storage_storageType:"",storage_tableId:"",storage_useSessionStorage:""}}),s.storage=function(r,c,d,h){r=o(r)[0];var f,v,_,b=!1,w={},A=r.config,E=A&&A.widgetOptions,O=s.debug(A,"storage"),P=(h&&h.storageType||E&&E.storage_storageType).toString().charAt(0).toLowerCase(),y=P?"":h&&h.useSessionStorage||E&&E.storage_useSessionStorage,u=o(r),p=h&&h.id||u.attr(h&&h.group||E&&E.storage_group||"data-table-group")||E&&E.storage_tableId||r.id||o(".tablesorter").index(u),g=h&&h.url||u.attr(h&&h.page||E&&E.storage_page||"data-table-page")||E&&E.storage_fixedUrl||A&&A.fixedUrl||l.location.pathname;if(P!=="c"&&(P=P==="s"||y?"sessionStorage":"localStorage",P in l))try{l[P].setItem("_tmptest","temp"),b=!0,l[P].removeItem("_tmptest")}catch(k){console.warn(P+" is not supported in this browser")}if(O&&console.log("Storage >> Using",b?P:"cookies"),o.parseJSON&&(b?w=o.parseJSON(l[P][c]||"null")||{}:(v=a.cookie.split(/[;\s|=]/),f=o.inArray(c,v)+1,w=f!==0?o.parseJSON(v[f]||"null")||{}:{})),(typeof d=="undefined"?"undefined":_typeof(d))<"u"&&l.JSON&&JSON.hasOwnProperty("stringify"))w[g]||(w[g]={}),w[g][p]=d,b?l[P][c]=JSON.stringify(w):(_=new Date,_.setTime(_.getTime()+31536e6),a.cookie=c+"="+JSON.stringify(w).replace(/\"/g,'"')+"; expires="+_.toGMTString()+"; path=/");else return w&&w[g]?w[g][p]:""}}(n,window,document),function(o){"use strict";var l=o.tablesorter||{};l.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"glyphicon glyphicon-chevron-up",iconSortDesc:"glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s ui-icon-caret-2-n-s",iconSortAsc:"ui-icon-carat-1-n ui-icon-caret-1-n",iconSortDesc:"ui-icon-carat-1-s ui-icon-caret-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},o.extend(l.css,{wrapper:"tablesorter-wrapper"}),l.addWidget({id:"uitheme",priority:10,format:function(s,r,c){var d,h,f,v,_,b,w,A,E,O,P,y,u,p=l.themes,g=r.$table.add(o(r.namespace+"_extra_table")),k=r.$headers.add(o(r.namespace+"_extra_headers")),x=r.theme||"jui",j=p[x]||{},L=o.trim([j.sortNone,j.sortDesc,j.sortAsc,j.active].join(" ")),D=o.trim([j.iconSortNone,j.iconSortDesc,j.iconSortAsc].join(" ")),F=l.debug(r,"uitheme");for(F&&(_=new Date),(!g.hasClass("tablesorter-"+x)||r.theme!==r.appliedTheme||!c.uitheme_applied)&&(c.uitheme_applied=!0,O=p[r.appliedTheme]||{},u=!o.isEmptyObject(O),P=u?[O.sortNone,O.sortDesc,O.sortAsc,O.active].join(" "):"",y=u?[O.iconSortNone,O.iconSortDesc,O.iconSortAsc].join(" "):"",u&&(c.zebra[0]=o.trim(" "+c.zebra[0].replace(" "+O.even,"")),c.zebra[1]=o.trim(" "+c.zebra[1].replace(" "+O.odd,"")),r.$tbodies.children().removeClass([O.even,O.odd].join(" "))),j.even&&(c.zebra[0]+=" "+j.even),j.odd&&(c.zebra[1]+=" "+j.odd),g.children("caption").removeClass(O.caption||"").addClass(j.caption),A=g.removeClass((r.appliedTheme?"tablesorter-"+(r.appliedTheme||""):"")+" "+(O.table||"")).addClass("tablesorter-"+x+" "+(j.table||"")).children("tfoot"),r.appliedTheme=r.theme,A.length&&A.children("tr").removeClass(O.footerRow||"").addClass(j.footerRow).children("th, td").removeClass(O.footerCells||"").addClass(j.footerCells),k.removeClass((u?[O.header,O.hover,P].join(" "):"")||"").addClass(j.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(X){o(this)[X.type==="mouseenter"?"addClass":"removeClass"](j.hover||"")}),k.each(function(){var X=o(this);X.find("."+l.css.wrapper).length||X.wrapInner('<div class="'+l.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),r.cssIcon&&k.find("."+l.css.icon).removeClass(u?[O.icons,y].join(" "):"").addClass(j.icons||""),l.hasWidget(r.table,"filter")&&(h=function(){g.children("thead").children("."+l.css.filterRow).removeClass(u&&O.filterRow||"").addClass(j.filterRow||"")},c.filter_initialized?h():g.one("filterInit",function(){h()}))),d=0;d<r.columns;d++)b=r.$headers.add(o(r.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+d+'"]'),w=l.css.icon?b.find("."+l.css.icon):o(),E=k.not(".sorter-false").filter('[data-column="'+d+'"]:last'),E.length&&(b.removeClass(L),w.removeClass(D),E[0].sortDisabled?w.removeClass(j.icons||""):(f=j.sortNone,v=j.iconSortNone,E.hasClass(l.css.sortAsc)?(f=[j.sortAsc,j.active].join(" "),v=j.iconSortAsc):E.hasClass(l.css.sortDesc)&&(f=[j.sortDesc,j.active].join(" "),v=j.iconSortDesc),b.addClass(f),w.addClass(v||"")));F&&console.log("uitheme >> Applied "+x+" theme"+l.benchmark(_))},remove:function(s,r,c,d){if(c.uitheme_applied){var h=r.$table,f=r.appliedTheme||"jui",v=l.themes[f]||l.themes.jui,_=h.children("thead").children(),b=v.sortNone+" "+v.sortDesc+" "+v.sortAsc,w=v.iconSortNone+" "+v.iconSortDesc+" "+v.iconSortAsc;h.removeClass("tablesorter-"+f+" "+v.table),c.uitheme_applied=!1,!d&&(h.find(l.css.header).removeClass(v.header),_.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(v.hover+" "+b+" "+v.active).filter("."+l.css.filterRow).removeClass(v.filterRow),_.find("."+l.css.icon).removeClass(v.icons+" "+w))}}})}(n),function(o){"use strict";var l=o.tablesorter||{};l.addWidget({id:"columns",priority:65,options:{columns:["primary","secondary","tertiary"]},format:function(s,r,c){var d,h,f,v,_,b,w,A,E=r.$table,O=r.$tbodies,P=r.sortList,y=P.length,u=c&&c.columns||["primary","secondary","tertiary"],p=u.length-1;for(w=u.join(" "),h=0;h<O.length;h++)d=l.processTbody(s,O.eq(h),!0),f=d.children("tr"),f.each(function(){if(_=o(this),this.style.display!=="none"&&(b=_.children().removeClass(w),P&&P[0]&&(b.eq(P[0][0]).addClass(u[0]),y>1)))for(A=1;A<y;A++)b.eq(P[A][0]).addClass(u[A]||u[p])}),l.processTbody(s,d,!1);if(v=c.columns_thead!==!1?["thead tr"]:[],c.columns_tfoot!==!1&&v.push("tfoot tr"),v.length&&(f=E.find(v.join(",")).children().removeClass(w),y))for(A=0;A<y;A++)f.filter('[data-column="'+P[A][0]+'"]').addClass(u[A]||u[p])},remove:function(s,r,c){var d,h,f=r.$tbodies,v=(c.columns||["primary","secondary","tertiary"]).join(" ");for(r.$headers.removeClass(v),r.$table.children("tfoot").children("tr").children("th, td").removeClass(v),d=0;d<f.length;d++)h=l.processTbody(s,f.eq(d),!0),h.children("tr").each(function(){o(this).children().removeClass(v)}),l.processTbody(s,h,!1)}})}(n),function(o){"use strict";var l,a,s=o.tablesorter||{},r=s.css,c=s.keyCodes;o.extend(r,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),o.extend(c,{backSpace:8,escape:27,space:32,left:37,down:40}),s.addWidget({id:"filter",priority:50,options:{filter_cellFilter:"",filter_childRows:!1,filter_childByColumn:!1,filter_childWithSibs:!0,filter_columnAnyMatch:!0,filter_columnFilters:!0,filter_cssFilter:"",filter_defaultAttrib:"data-value",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_filterLabel:'Filter "{{label}}" column by...',filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_matchType:{input:"exact",select:"exact"},filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_resetOnEsc:!0,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_selectSourceSeparator:"|",filter_serversideFiltering:!1,filter_startsWith:!1,filter_useParsedData:!1},format:function(h,f,v){f.$table.hasClass("hasFilters")||l.init(h,f,v)},remove:function(h,f,v,_){var b,w,A=f.$table,E=f.$tbodies,O="addRows updateCell update updateRows updateComplete appendCache filterReset filterAndSortReset filterFomatterUpdate filterEnd search stickyHeadersInit ".split(" ").join(f.namespace+"filter ");if(A.removeClass("hasFilters").unbind(O.replace(s.regex.spaces," ")).find("."+r.filterRow).remove(),v.filter_initialized=!1,!_){for(b=0;b<E.length;b++)w=s.processTbody(h,E.eq(b),!0),w.children().removeClass(v.filter_filteredRow).show(),s.processTbody(h,w,!1);v.filter_reset&&o(document).undelegate(v.filter_reset,"click"+f.namespace+"filter")}}}),l=s.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([migyu]{0,5})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(h,f,v){if((a.orTest.test(f.iFilter)||a.orSplit.test(f.filter))&&!a.regex.test(f.filter)){var _,b,w,A,E=o.extend({},f),O=f.filter.split(a.orSplit),P=f.iFilter.split(a.orSplit),y=O.length;for(_=0;_<y;_++){E.nestedFilters=!0,E.filter=""+(l.parseFilter(h,O[_],f)||""),E.iFilter=""+(l.parseFilter(h,P[_],f)||""),w="("+(l.parseFilter(h,E.filter,f)||"")+")";try{if(A=new RegExp(f.isMatch?w:"^"+w+"$",h.widgetOptions.filter_ignoreCase?"i":""),b=A.test(E.exact)||l.processTypes(h,E,v),b)return b}catch(u){return null}}return b||!1}return null},and:function(h,f,v){if(a.andTest.test(f.filter)){var _,b,w,A,E,O=o.extend({},f),P=f.filter.split(a.andSplit),y=f.iFilter.split(a.andSplit),u=P.length;for(_=0;_<u;_++){O.nestedFilters=!0,O.filter=""+(l.parseFilter(h,P[_],f)||""),O.iFilter=""+(l.parseFilter(h,y[_],f)||""),A=("("+(l.parseFilter(h,O.filter,f)||"")+")").replace(a.wild01,"\\S{1}").replace(a.wild0More,"\\S*");try{E=new RegExp(f.isMatch?A:"^"+A+"$",h.widgetOptions.filter_ignoreCase?"i":""),w=E.test(O.exact)||l.processTypes(h,O,v),_===0?b=w:b=b&&w}catch(p){return null}}return b||!1}return null},regex:function(h,f){if(a.regex.test(f.filter)){var v,_=f.filter_regexCache[f.index]||a.regex.exec(f.filter),b=_instanceof(_,RegExp);try{b||(f.filter_regexCache[f.index]=_=new RegExp(_[1],_[2])),v=_.test(f.exact)}catch(w){v=!1}return v}return null},operators:function(h,f){if(a.operTest.test(f.iFilter)&&f.iExact!==""){var v,_,b,w=h.table,A=f.parsed[f.index],E=s.formatFloat(f.iFilter.replace(a.operators,""),w),O=h.parsers[f.index]||{},P=E;return(A||O.type==="numeric")&&(b=o.trim(""+f.iFilter.replace(a.operators,"")),_=l.parseFilter(h,b,f,!0),E=typeof _=="number"&&_!==""&&!isNaN(_)?_:E),(A||O.type==="numeric")&&!isNaN(E)&&_typeof(f.cache)<"u"?v=f.cache:(b=isNaN(f.iExact)?f.iExact.replace(s.regex.nondigit,""):f.iExact,v=s.formatFloat(b,w)),a.gtTest.test(f.iFilter)?_=a.gteTest.test(f.iFilter)?v>=E:v>E:a.ltTest.test(f.iFilter)&&(_=a.lteTest.test(f.iFilter)?v<=E:v<E),!_&&P===""&&(_=!0),_}return null},notMatch:function(h,f){if(a.notTest.test(f.iFilter)){var v,_=f.iFilter.replace("!",""),b=l.parseFilter(h,_,f)||"";return a.exact.test(b)?(b=b.replace(a.exact,""),b===""?!0:o.trim(b)!==f.iExact):(v=f.iExact.search(o.trim(b)),b===""?!0:f.anyMatch?v<0:!(h.widgetOptions.filter_startsWith?v===0:v>=0))}return null},exact:function(h,f){if(a.exact.test(f.iFilter)){var v=f.iFilter.replace(a.exact,""),_=l.parseFilter(h,v,f)||"";return f.anyMatch?o.inArray(_,f.rowArray)>=0:_==f.iExact}return null},range:function(h,f){if(a.toTest.test(f.iFilter)){var v,_,b,w,A=h.table,E=f.index,O=f.parsed[E],P=f.iFilter.split(a.toSplit);return _=P[0].replace(s.regex.nondigit,"")||"",b=s.formatFloat(l.parseFilter(h,_,f),A),_=P[1].replace(s.regex.nondigit,"")||"",w=s.formatFloat(l.parseFilter(h,_,f),A),(O||h.parsers[E].type==="numeric")&&(v=h.parsers[E].format(""+P[0],A,h.$headers.eq(E),E),b=v!==""&&!isNaN(v)?v:b,v=h.parsers[E].format(""+P[1],A,h.$headers.eq(E),E),w=v!==""&&!isNaN(v)?v:w),(O||h.parsers[E].type==="numeric")&&!isNaN(b)&&!isNaN(w)?v=f.cache:(_=isNaN(f.iExact)?f.iExact.replace(s.regex.nondigit,""):f.iExact,v=s.formatFloat(_,A)),b>w&&(_=b,b=w,w=_),v>=b&&v<=w||b===""||w===""}return null},wild:function(h,f){if(a.wildOrTest.test(f.iFilter)){var v=""+(l.parseFilter(h,f.iFilter,f)||"");!a.wildTest.test(v)&&f.nestedFilters&&(v=f.isMatch?v:"^("+v+")$");try{return new RegExp(v.replace(a.wild01,"\\S{1}").replace(a.wild0More,"\\S*"),h.widgetOptions.filter_ignoreCase?"i":"").test(f.exact)}catch(_){return null}}return null},fuzzy:function(h,f){if(a.fuzzyTest.test(f.iFilter)){var v,_=0,b=f.iExact.length,w=f.iFilter.slice(1),A=l.parseFilter(h,w,f)||"";for(v=0;v<b;v++)f.iExact[v]===A[_]&&(_+=1);return _===A.length}return null}},init:function(h){s.language=o.extend(!0,{},{to:"to",or:"or",and:"and"},s.language);var f,v,_,b,w,A,E,O,P=h.config,y=P.widgetOptions,u=function(g,k,x){return k=k.trim(),k===""?"":(g||"")+k+(x||"")};if(P.$table.addClass("hasFilters"),P.lastSearch=[],y.filter_searchTimer=null,y.filter_initTimer=null,y.filter_formatterCount=0,y.filter_formatterInit=[],y.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',y.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',A="\\{"+a.query+"\\}",o.extend(a,{child:new RegExp(P.cssChildRow),filtered:new RegExp(y.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+(-"+u("|",s.language.or)+u("|",s.language.to)+")\\s+)","i"),toTest:new RegExp("\\s+(-"+u("|",s.language.to)+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-"+u("|",s.language.to)+")\\s+)","gi"),andTest:new RegExp("\\s+("+u("",s.language.and,"|")+"&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+u("",s.language.and,"|")+"&&)\\s+)","gi"),orTest:new RegExp("(\\|"+u("|\\s+",s.language.or,"\\s+")+")","i"),orSplit:new RegExp("(?:\\|"+u("|\\s+(?:",s.language.or,")\\s+")+")","gi"),iQuery:new RegExp(A,"i"),igQuery:new RegExp(A,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),A=P.$headers.filter(".filter-false, .parser-false").length,y.filter_columnFilters!==!1&&A!==P.$headers.length&&l.buildRow(h,P,y),_="addRows updateCell update updateRows updateComplete appendCache filterReset "+"filterAndSortReset filterResetSaved filterEnd search ".split(" ").join(P.namespace+"filter "),P.$table.bind(_,function(p,g){return A=y.filter_hideEmpty&&o.isEmptyObject(P.cache)&&!(P.delayInit&&p.type==="appendCache"),P.$table.find("."+r.filterRow).toggleClass(y.filter_filteredRow,A),/(search|filter)/.test(p.type)||(p.stopPropagation(),l.buildDefault(h,!0)),p.type==="filterReset"||p.type==="filterAndSortReset"?(P.$table.find("."+r.filter).add(y.filter_$externalFilters).val(""),p.type==="filterAndSortReset"?s.sortReset(this.config,function(){l.searching(h,[])}):l.searching(h,[])):p.type==="filterResetSaved"?s.storage(h,"tablesorter-filters",""):p.type==="filterEnd"?l.buildDefault(h,!0):(g=p.type==="search"?g:p.type==="updateComplete"?P.$table.data("lastSearch"):"",/(update|add)/.test(p.type)&&p.type!=="updateComplete"&&(P.lastCombinedFilter=null,P.lastSearch=[],setTimeout(function(){P.$table.triggerHandler("filterFomatterUpdate")},100)),l.searching(h,g,!0)),!1}),y.filter_reset&&(_instanceof(y.filter_reset,o)?y.filter_reset.click(function(){P.$table.triggerHandler("filterReset")}):o(y.filter_reset).length&&o(document).undelegate(y.filter_reset,"click"+P.namespace+"filter").delegate(y.filter_reset,"click"+P.namespace+"filter",function(){P.$table.triggerHandler("filterReset")})),y.filter_functions){for(w=0;w<P.columns;w++)if(E=s.getColumnData(h,y.filter_functions,w),E){if(b=P.$headerIndexed[w].removeClass("filter-select"),O=!(b.hasClass("filter-false")||b.hasClass("parser-false")),f="",E===!0&&O)l.buildSelect(h,w);else if(typeof E=="object"&&O){for(v in E)typeof v=="string"&&(f+=f===""?'<option value="">'+(b.data("placeholder")||b.attr("data-placeholder")||y.filter_placeholder.select||"")+"</option>":"",A=v,_=v,v.indexOf(y.filter_selectSourceSeparator)>=0&&(A=v.split(y.filter_selectSourceSeparator),_=A[1],A=A[0]),f+="<option "+(_===A?"":'data-function-name="'+v+'" ')+'value="'+A+'">'+_+"</option>");P.$table.find("thead").find("select."+r.filter+'[data-column="'+w+'"]').append(f),_=y.filter_selectSource,E=typeof _=="function"?!0:s.getColumnData(h,_,w),E&&l.buildSelect(P.table,w,"",!0,b.hasClass(y.filter_onlyAvail))}}}l.buildDefault(h,!0),l.bindSearch(h,P.$table.find("."+r.filter),!0),y.filter_external&&l.bindSearch(h,y.filter_external),y.filter_hideFilters&&l.hideFilters(P),P.showProcessing&&(_="filterStart filterEnd ".split(" ").join(P.namespace+"filter-sp "),P.$table.unbind(_.replace(s.regex.spaces," ")).bind(_,function(p,g){b=g?P.$table.find("."+r.header).filter("[data-column]").filter(function(){return g[o(this).data("column")]!==""}):"",s.isProcessing(h,p.type==="filterStart",g?b:"")})),P.filteredRows=P.totalRows,_="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(P.namespace+"filter "),P.$table.unbind(_.replace(s.regex.spaces," ")).bind(_,function(){l.completeInit(this)}),P.pager&&P.pager.initialized&&!y.filter_initialized?(P.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){l.filterInitComplete(P)},100)):y.filter_initialized||l.completeInit(h)},completeInit:function(h){var f=h.config,v=f.widgetOptions,_=l.setDefaults(h,f,v)||[];_.length&&(f.delayInit&&_.join("")===""||s.setFilters(h,_,!0)),f.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){v.filter_initialized||l.filterInitComplete(f)},100)},formatterUpdated:function(h,f){var v=h&&h.closest("table"),_=v.length&&v[0].config,b=_&&_.widgetOptions;b&&!b.filter_initialized&&(b.filter_formatterInit[f]=1)},filterInitComplete:function(h){var f,v,_=h.widgetOptions,b=0,w=function(){_.filter_initialized=!0,h.lastSearch=h.$table.data("lastSearch"),h.$table.triggerHandler("filterInit",h),l.findRows(h.table,h.lastSearch||[]),s.debug(h,"filter")&&console.log("Filter >> Widget initialized")};if(o.isEmptyObject(_.filter_formatter))w();else{for(v=_.filter_formatterInit.length,f=0;f<v;f++)_.filter_formatterInit[f]===1&&b++;clearTimeout(_.filter_initTimer),!_.filter_initialized&&b===_.filter_formatterCount?w():_.filter_initialized||(_.filter_initTimer=setTimeout(function(){w()},500))}},processFilters:function(h,f){var v,_=[],b=f?encodeURIComponent:decodeURIComponent,w=h.length;for(v=0;v<w;v++)h[v]&&(_[v]=b(h[v]));return _},setDefaults:function(h,f,v){var _,b,w,A,E,O=s.getFilters(h)||[];if(v.filter_saveFilters&&s.storage&&(b=s.storage(h,"tablesorter-filters")||[],_=o.isArray(b),_&&b.join("")===""||!_||(O=l.processFilters(b))),O.join("")==="")for(E=f.$headers.add(v.filter_$externalFilters).filter("["+v.filter_defaultAttrib+"]"),w=0;w<=f.columns;w++)A=w===f.columns?"all":w,O[w]=E.filter('[data-column="'+A+'"]').attr(v.filter_defaultAttrib)||O[w]||"";return f.$table.data("lastSearch",O),O},parseFilter:function(h,f,v,_){return _||v.parsed[v.index]?h.parsers[v.index].format(f,h.table,[],v.index):f},buildRow:function(h,f,v){var _,b,w,A,E,O,P,y,u,p=v.filter_cellFilter,g=f.columns,k=o.isArray(p),x='<tr role="search" class="'+r.filterRow+" "+f.cssIgnoreRow+'">';for(w=0;w<g;w++)f.$headerIndexed[w].length&&(u=f.$headerIndexed[w]&&f.$headerIndexed[w][0].colSpan||0,u>1?x+='<td data-column="'+w+"-"+(w+u-1)+'" colspan="'+u+'"':x+='<td data-column="'+w+'"',k?x+=p[w]?' class="'+p[w]+'"':"":x+=p!==""?' class="'+p+'"':"",x+="></td>");for(f.$filters=o(x+="</tr>").appendTo(f.$table.children("thead").eq(0)).children("td"),w=0;w<g;w++)O=!1,A=f.$headerIndexed[w],A&&A.length&&(_=l.getColumnElm(f,f.$filters,w),y=s.getColumnData(h,v.filter_functions,w),E=v.filter_functions&&y&&typeof y!="function"||A.hasClass("filter-select"),b=s.getColumnData(h,f.headers,w),O=s.getData(A[0],b,"filter")==="false"||s.getData(A[0],b,"parser")==="false",E?x=o("<select>").appendTo(_):(y=s.getColumnData(h,v.filter_formatter,w),y?(v.filter_formatterCount++,x=y(_,w),x&&x.length===0&&(x=_.children("input")),x&&(x.parent().length===0||x.parent().length&&x.parent()[0]!==_[0])&&_.append(x)):x=o('<input type="search">').appendTo(_),x&&(u=A.data("placeholder")||A.attr("data-placeholder")||v.filter_placeholder.search||"",x.attr("placeholder",u))),x&&(P=(o.isArray(v.filter_cssFilter)?_typeof(v.filter_cssFilter[w])<"u"&&v.filter_cssFilter[w]||"":v.filter_cssFilter)||"",x.addClass(r.filter+" "+P),P=v.filter_filterLabel,u=P.match(/{{([^}]+?)}}/g),u||(u=["{{label}}"]),o.each(u,function(j,L){var D=new RegExp(L,"g"),F=A.attr("data-"+L.replace(/{{|}}/g,"")),X=(typeof F=="undefined"?"undefined":_typeof(F))>"u"?A.text():F;P=P.replace(D,o.trim(X))}),x.attr({"data-column":_.attr("data-column"),"aria-label":P}),O&&(x.attr("placeholder","").addClass(r.filterDisabled)[0].disabled=!0)))},bindSearch:function(h,f,v){if(h=o(h)[0],f=o(f),!!f.length){var _,b=h.config,w=b.widgetOptions,A=b.namespace+"filter",E=w.filter_$externalFilters;v!==!0&&(_=w.filter_anyColumnSelector+","+w.filter_multipleColumnSelector,w.filter_$anyMatch=f.filter(_),E&&E.length?w.filter_$externalFilters=w.filter_$externalFilters.add(f):w.filter_$externalFilters=f,s.setFilters(h,b.$table.data("lastSearch")||[],v===!1)),_="keypress keyup keydown search change input ".split(" ").join(A+" "),f.attr("data-lastSearchTime",new Date().getTime()).unbind(_.replace(s.regex.spaces," ")).bind("keydown"+A,function(O){if(O.which===c.escape&&!h.config.widgetOptions.filter_resetOnEsc)return!1}).bind("keyup"+A,function(O){w=h.config.widgetOptions;var P=parseInt(o(this).attr("data-column"),10),y=typeof w.filter_liveSearch=="boolean"?w.filter_liveSearch:s.getColumnData(h,w.filter_liveSearch,P);if((typeof y=="undefined"?"undefined":_typeof(y))>"u"&&(y=w.filter_liveSearch.fallback||!1),o(this).attr("data-lastSearchTime",new Date().getTime()),O.which===c.escape)this.value=w.filter_resetOnEsc?"":b.lastSearch[P];else if(this.value!==""&&(typeof y=="number"&&this.value.length<y||O.which!==c.enter&&O.which!==c.backSpace&&(O.which<c.space||O.which>=c.left&&O.which<=c.down))||y===!1&&this.value!==""&&O.which!==c.enter)return;l.searching(h,!0,!0,P)}).bind("search change keypress input blur ".split(" ").join(A+" "),function(O){var P=parseInt(o(this).attr("data-column"),10),y=O.type,u=typeof w.filter_liveSearch=="boolean"?w.filter_liveSearch:s.getColumnData(h,w.filter_liveSearch,P);h.config.widgetOptions.filter_initialized&&(O.which===c.enter||y==="search"||y==="blur"||(y==="change"||y==="input")&&(u===!0||u!==!0&&O.target.nodeName!=="INPUT")&&this.value!==b.lastSearch[P])&&(O.preventDefault(),o(this).attr("data-lastSearchTime",new Date().getTime()),l.searching(h,y!=="keypress"||O.which===c.enter,!0,P))})}},searching:function(h,f,v,_){var b,w=h.config.widgetOptions;(typeof _=="undefined"?"undefined":_typeof(_))>"u"?b=!1:(b=typeof w.filter_liveSearch=="boolean"?w.filter_liveSearch:s.getColumnData(h,w.filter_liveSearch,_),(typeof b=="undefined"?"undefined":_typeof(b))>"u"&&(b=w.filter_liveSearch.fallback||!1)),clearTimeout(w.filter_searchTimer),(typeof f=="undefined"?"undefined":_typeof(f))>"u"||f===!0?w.filter_searchTimer=setTimeout(function(){l.checkFilters(h,f,v)},b?w.filter_searchDelay:10):l.checkFilters(h,f,v)},equalFilters:function(h,f,v){var _,b=[],w=[],A=h.columns+1;for(f=o.isArray(f)?f:[],v=o.isArray(v)?v:[],_=0;_<A;_++)b[_]=f[_]||"",w[_]=v[_]||"";return b.join(",")===w.join(",")},checkFilters:function(h,f,v){var _=h.config,b=_.widgetOptions,w=o.isArray(f),A=w?f:s.getFilters(h,!0),E=A||[];if(o.isEmptyObject(_.cache)){_.delayInit&&(!_.pager||_.pager&&_.pager.initialized)&&s.updateCache(_,function(){l.checkFilters(h,!1,v)});return}if(w&&(s.setFilters(h,A,!1,v!==!0),b.filter_initialized||(_.lastSearch=[],_.lastCombinedFilter="")),b.filter_hideFilters&&_.$table.find("."+r.filterRow).triggerHandler(l.hideFiltersCheck(_)?"mouseleave":"mouseenter"),l.equalFilters(_,_.lastSearch,E)){if(f!==!1)return;_.lastCombinedFilter="",_.lastSearch=[]}if(A=A||[],A=Array.prototype.map?A.map(String):A.join("\uFFFD").split("\uFFFD"),b.filter_initialized&&_.$table.triggerHandler("filterStart",[A]),_.showProcessing)setTimeout(function(){return l.findRows(h,A,E),!1},30);else return l.findRows(h,A,E),!1},hideFiltersCheck:function(h){if(typeof h.widgetOptions.filter_hideFilters=="function"){var f=h.widgetOptions.filter_hideFilters(h);if(typeof f=="boolean")return f}return s.getFilters(h.$table).join("")===""},hideFilters:function(h,f){var v;(f||h.$table).find("."+r.filterRow).addClass(r.filterRowHide).bind("mouseenter mouseleave",function(_){var b=_,w=o(this);clearTimeout(v),v=setTimeout(function(){/enter|over/.test(b.type)?w.removeClass(r.filterRowHide):o(document.activeElement).closest("tr")[0]!==w[0]&&w.toggleClass(r.filterRowHide,l.hideFiltersCheck(h))},200)}).find("input, select").bind("focus blur",function(_){var b=_,w=o(this).closest("tr");clearTimeout(v),v=setTimeout(function(){clearTimeout(v),w.toggleClass(r.filterRowHide,l.hideFiltersCheck(h)&&b.type!=="focus")},200)})},defaultFilter:function(h,f){if(h==="")return h;var v=a.iQuery,_=f.match(a.igQuery).length,b=_>1?o.trim(h).split(/\s/):[o.trim(h)],w=b.length-1,A=0,E=f;for(w<1&&_>1&&(b[1]=b[0]);v.test(E);)E=E.replace(v,b[A++]||""),v.test(E)&&A<w&&(b[A]||"")!==""&&(E=f.replace(v,E));return E},getLatestSearch:function(h){return h?h.sort(function(f,v){return o(v).attr("data-lastSearchTime")-o(f).attr("data-lastSearchTime")}):h||o()},findRange:function(h,f,v){var _,b,w,A,E,O,P,y,u,p=[];if(/^[0-9]+$/.test(f))return[parseInt(f,10)];if(!v&&/-/.test(f))for(b=f.match(/(\d+)\s*-\s*(\d+)/g),u=b?b.length:0,y=0;y<u;y++){for(w=b[y].split(/\s*-\s*/),A=parseInt(w[0],10)||0,E=parseInt(w[1],10)||h.columns-1,A>E&&(_=A,A=E,E=_),E>=h.columns&&(E=h.columns-1);A<=E;A++)p[p.length]=A;f=f.replace(b[y],"")}if(!v&&/,/.test(f))for(O=f.split(/\s*,\s*/),u=O.length,P=0;P<u;P++)O[P]!==""&&(y=parseInt(O[P],10),y<h.columns&&(p[p.length]=y));if(!p.length)for(y=0;y<h.columns;y++)p[p.length]=y;return p},getColumnElm:function(h,f,v){return f.filter(function(){var _=l.findRange(h,o(this).attr("data-column"));return o.inArray(v,_)>-1})},multipleColumns:function(h,f){var v=h.widgetOptions,_=v.filter_initialized||!f.filter(v.filter_anyColumnSelector).length,b=o.trim(l.getLatestSearch(f).attr("data-column")||"");return l.findRange(h,b,!_)},processTypes:function(h,f,v){var _,b=null,w=null;for(_ in l.types)o.inArray(_,v.excludeMatch)<0&&w===null&&(w=l.types[_](h,f,v),w!==null&&(f.matchedOn=_,b=w));return b},matchType:function(h,f){var v,_=h.widgetOptions,b=h.$headerIndexed[f];return b.hasClass("filter-exact")?v=!1:b.hasClass("filter-match")?v=!0:(_.filter_columnFilters?b=h.$filters.find("."+r.filter).add(_.filter_$externalFilters).filter('[data-column="'+f+'"]'):_.filter_$externalFilters&&(b=_.filter_$externalFilters.filter('[data-column="'+f+'"]')),v=b.length?h.widgetOptions.filter_matchType[(b[0].nodeName||"").toLowerCase()]==="match":!1),v},processRow:function(h,f,v){var _,b,w,A,E,O=h.widgetOptions,P=!0,y=O.filter_$anyMatch&&O.filter_$anyMatch.length,u=O.filter_$anyMatch&&O.filter_$anyMatch.length?l.multipleColumns(h,O.filter_$anyMatch):[];if(f.$cells=f.$row.children(),f.matchedOn=null,f.anyMatchFlag&&u.length>1||f.anyMatchFilter&&!y){if(f.anyMatch=!0,f.isMatch=!0,f.rowArray=f.$cells.map(function(p){if(o.inArray(p,u)>-1||f.anyMatchFilter&&!y)return f.parsed[p]?E=f.cacheArray[p]:(E=f.rawArray[p],E=o.trim(O.filter_ignoreCase?E.toLowerCase():E),h.sortLocaleCompare&&(E=s.replaceAccents(E))),E}).get(),f.filter=f.anyMatchFilter,f.iFilter=f.iAnyMatchFilter,f.exact=f.rowArray.join(" "),f.iExact=O.filter_ignoreCase?f.exact.toLowerCase():f.exact,f.cache=f.cacheArray.slice(0,-1).join(" "),v.excludeMatch=v.noAnyMatch,b=l.processTypes(h,f,v),b!==null)P=b;else if(O.filter_startsWith)for(P=!1,u=Math.min(h.columns,f.rowArray.length);!P&&u>0;)u--,P=P||f.rowArray[u].indexOf(f.iFilter)===0;else P=(f.iExact+f.childRowText).indexOf(f.iFilter)>=0;if(f.anyMatch=!1,f.filters.join("")===f.filter)return P}for(u=0;u<h.columns;u++)f.filter=f.filters[u],f.index=u,v.excludeMatch=v.excludeFilter[u],f.filter&&(f.cache=f.cacheArray[u],_=f.parsed[u]?f.cache:f.rawArray[u]||"",f.exact=h.sortLocaleCompare?s.replaceAccents(_):_,f.iExact=!a.type.test(_typeof(f.exact))&&O.filter_ignoreCase?f.exact.toLowerCase():f.exact,f.isMatch=l.matchType(h,u),_=P,A=O.filter_columnFilters&&h.$filters.add(O.filter_$externalFilters).filter('[data-column="'+u+'"]').find("select option:selected").attr("data-function-name")||"",h.sortLocaleCompare&&(f.filter=s.replaceAccents(f.filter)),O.filter_defaultFilter&&a.iQuery.test(v.defaultColFilter[u])&&(f.filter=l.defaultFilter(f.filter,v.defaultColFilter[u])),f.iFilter=O.filter_ignoreCase?(f.filter||"").toLowerCase():f.filter,w=v.functions[u],b=null,w&&(typeof w=="function"?b=w(f.exact,f.cache,f.filter,u,f.$row,h,f):typeof w[A||f.filter]=="function"&&(E=A||f.filter,b=w[E](f.exact,f.cache,f.filter,u,f.$row,h,f))),b===null?(b=l.processTypes(h,f,v),E=w===!0&&(f.matchedOn==="and"||f.matchedOn==="or"),b!==null&&!E?_=b:w===!0?_=f.isMatch?(""+f.iExact).search(f.iFilter)>=0:f.filter===f.exact:(E=(f.iExact+f.childRowText).indexOf(l.parseFilter(h,f.iFilter,f)),_=!O.filter_startsWith&&E>=0||O.filter_startsWith&&E===0)):_=b,P=_?P:!1);return P},findRows:function(h,f,v){if(!(l.equalFilters(h.config,h.config.lastSearch,v)||!h.config.widgetOptions.filter_initialized)){var _,b,w,A,E,O,P,y,u,p,g,k,x,j,L,D,F,X,Q,H,ce,ne,V,Y,oe=o.extend([],f),q=h.config,G=q.widgetOptions,J=s.debug(q,"filter"),ae={anyMatch:!1,filters:f,filter_regexCache:[]},ie={noAnyMatch:["range","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:s.getColumnData(h,G.filter_defaultFilter,q.columns,!0)||""};for(ae.parsed=[],u=0;u<q.columns;u++)ae.parsed[u]=G.filter_useParsedData||q.parsers&&q.parsers[u]&&q.parsers[u].parsed||s.getData&&s.getData(q.$headerIndexed[u],s.getColumnData(h,q.headers,u),"filter")==="parsed"||q.$headerIndexed[u].hasClass("filter-parsed"),ie.functions[u]=s.getColumnData(h,G.filter_functions,u)||q.$headerIndexed[u].hasClass("filter-select"),ie.defaultColFilter[u]=s.getColumnData(h,G.filter_defaultFilter,u)||"",ie.excludeFilter[u]=(s.getColumnData(h,G.filter_excludeFilter,u,!0)||"").split(/\s+/);for(J&&(console.log("Filter >> Starting filter widget search",f),L=new Date),q.filteredRows=0,q.totalRows=0,v=oe||[],P=0;P<q.$tbodies.length;P++){if(y=s.processTbody(h,q.$tbodies.eq(P),!0),u=q.columns,b=q.cache[P].normalized,A=o(o.map(b,function(Oe){return Oe[u].$row.get()})),v.join("")===""||G.filter_serversideFiltering)A.removeClass(G.filter_filteredRow).not("."+q.cssChildRow).css("display","");else{if(A=A.not("."+q.cssChildRow),_=A.length,(G.filter_$anyMatch&&G.filter_$anyMatch.length||_typeof(f[q.columns])<"u")&&(ae.anyMatchFlag=!0,ae.anyMatchFilter=""+(f[q.columns]||G.filter_$anyMatch&&l.getLatestSearch(G.filter_$anyMatch).val()||""),G.filter_columnAnyMatch)){for(H=ae.anyMatchFilter.split(a.andSplit),ce=!1,F=0;F<H.length;F++)ne=H[F].split(":"),ne.length>1&&(isNaN(ne[0])?o.each(q.headerContent,function(Oe,De){De.toLowerCase().indexOf(ne[0])>-1&&(V=Oe,f[V]=ne[1])}):V=parseInt(ne[0],10)-1,V>=0&&V<q.columns&&(f[V]=ne[1],H.splice(F,1),F--,ce=!0));ce&&(ae.anyMatchFilter=H.join(" && "))}if(Q=G.filter_searchFiltered,k=q.lastSearch||q.$table.data("lastSearch")||[],Q)for(F=0;F<u+1;F++)D=f[F]||"",Q||(F=u),Q=Q&&k.length&&D.indexOf(k[F]||"")===0&&!a.alreadyFiltered.test(D)&&!a.exactTest.test(D)&&!(a.isNeg1.test(D)||a.isNeg2.test(D))&&!(D!==""&&q.$filters&&q.$filters.filter('[data-column="'+F+'"]').find("select").length&&!l.matchType(q,F));for(X=A.not("."+G.filter_filteredRow).length,Q&&X===0&&(Q=!1),J&&console.log("Filter >> Searching through "+(Q&&X<_?X:"all")+" rows"),ae.anyMatchFlag&&(q.sortLocaleCompare&&(ae.anyMatchFilter=s.replaceAccents(ae.anyMatchFilter)),G.filter_defaultFilter&&a.iQuery.test(ie.defaultAnyFilter)&&(ae.anyMatchFilter=l.defaultFilter(ae.anyMatchFilter,ie.defaultAnyFilter),Q=!1),ae.iAnyMatchFilter=G.filter_ignoreCase&&q.ignoreCase?ae.anyMatchFilter.toLowerCase():ae.anyMatchFilter),O=0;O<_;O++)if(Y=A[O].className,p=O&&a.child.test(Y),!(p||Q&&a.filtered.test(Y))){if(ae.$row=A.eq(O),ae.rowIndex=O,ae.cacheArray=b[O],w=ae.cacheArray[q.columns],ae.rawArray=w.raw,ae.childRowText="",!G.filter_childByColumn){for(Y="",g=w.child,F=0;F<g.length;F++)Y+=" "+g[F].join(" ")||"";ae.childRowText=G.filter_childRows?G.filter_ignoreCase?Y.toLowerCase():Y:""}if(x=!1,j=l.processRow(q,ae,ie),E=w.$row,D=!!j,g=w.$row.filter(":gt(0)"),G.filter_childRows&&g.length){if(G.filter_childByColumn)for(G.filter_childWithSibs||(g.addClass(G.filter_filteredRow),E=E.eq(0)),F=0;F<g.length;F++)ae.$row=g.eq(F),ae.cacheArray=w.child[F],ae.rawArray=ae.cacheArray,D=l.processRow(q,ae,ie),x=x||D,!G.filter_childWithSibs&&D&&g.eq(F).removeClass(G.filter_filteredRow);x=x||j}else x=D;E.toggleClass(G.filter_filteredRow,!x)[0].display=x?"":"none"}}q.filteredRows+=A.not("."+G.filter_filteredRow).length,q.totalRows+=A.length,s.processTbody(h,y,!1)}q.lastCombinedFilter=oe.join(""),q.lastSearch=oe,q.$table.data("lastSearch",oe),G.filter_saveFilters&&s.storage&&s.storage(h,"tablesorter-filters",l.processFilters(oe,!0)),J&&console.log("Filter >> Completed search"+s.benchmark(L)),G.filter_initialized&&(q.$table.triggerHandler("filterBeforeEnd",q),q.$table.triggerHandler("filterEnd",q)),setTimeout(function(){s.applyWidget(q.table)},0)}},getOptionSource:function(h,f,v){h=o(h)[0];var _=h.config,b=_.widgetOptions,w=!1,A=b.filter_selectSource,E=_.$table.data("lastSearch")||[],O=typeof A=="function"?!0:s.getColumnData(h,A,f);if(v&&E[f]!==""&&(v=!1),O===!0)w=A(h,f,v);else{if(_instanceof(O,o)||o.type(O)==="string"&&O.indexOf("</option>")>=0)return O;if(o.isArray(O))w=O;else if(o.type(A)==="object"&&O&&(w=O(h,f,v),w===null))return null}return w===!1&&(w=l.getOptions(h,f,v)),l.processOptions(h,f,w)},processOptions:function(h,f,v){if(!o.isArray(v))return!1;h=o(h)[0];var _,b,w,A,E,O,P=h.config,y=(typeof f=="undefined"?"undefined":_typeof(f))<"u"&&f!==null&&f>=0&&f<P.columns,u=y?P.$headerIndexed[f].hasClass("filter-select-sort-desc"):!1,p=[];if(v=o.grep(v,function(g,k){return g.text?!0:o.inArray(g,v)===k}),y&&P.$headerIndexed[f].hasClass("filter-select-nosort"))return v;for(A=v.length,w=0;w<A;w++)b=v[w],O=b.text?b.text:b,E=(y&&P.parsers&&P.parsers.length&&P.parsers[f].format(O,h,[],f)||O).toString(),E=P.widgetOptions.filter_ignoreCase?E.toLowerCase():E,b.text?(b.parsed=E,p[p.length]=b):p[p.length]={text:b,parsed:E};for(_=P.textSorter||"",p.sort(function(g,k){var x=u?k.parsed:g.parsed,j=u?g.parsed:k.parsed;return y&&typeof _=="function"?_(x,j,!0,f,h):y&&typeof _=="object"&&_.hasOwnProperty(f)?_[f](x,j,!0,f,h):s.sortNatural?s.sortNatural(x,j):!0}),v=[],A=p.length,w=0;w<A;w++)v[v.length]=p[w];return v},getOptions:function(h,f,v){h=o(h)[0];var _,b,w,A,E,O,P,y,u=h.config,p=u.widgetOptions,g=[];for(b=0;b<u.$tbodies.length;b++)for(E=u.cache[b],w=u.cache[b].normalized.length,_=0;_<w;_++)if(A=E.row?E.row[_]:E.normalized[_][u.columns].$row[0],!(v&&A.className.match(p.filter_filteredRow))){if(p.filter_useParsedData||u.parsers[f].parsed||u.$headerIndexed[f].hasClass("filter-parsed")){if(g[g.length]=""+E.normalized[_][f],p.filter_childRows&&p.filter_childByColumn)for(y=E.normalized[_][u.columns].$row.length-1,O=0;O<y;O++)g[g.length]=""+E.normalized[_][u.columns].child[O][f]}else if(g[g.length]=E.normalized[_][u.columns].raw[f],p.filter_childRows&&p.filter_childByColumn)for(y=E.normalized[_][u.columns].$row.length,O=1;O<y;O++)P=E.normalized[_][u.columns].$row.eq(O).children().eq(f),g[g.length]=""+s.getElementText(u,P,f)}return g},buildSelect:function(h,f,v,_,b){if(h=o(h)[0],f=parseInt(f,10),!(!h.config.cache||o.isEmptyObject(h.config.cache))){var w,A,E,O,P,y,u,p=h.config,g=p.widgetOptions,k=p.$headerIndexed[f],x='<option value="">'+(k.data("placeholder")||k.attr("data-placeholder")||g.filter_placeholder.select||"")+"</option>",j=p.$table.find("thead").find("select."+r.filter+'[data-column="'+f+'"]').val();if(!(((typeof v=="undefined"?"undefined":_typeof(v))>"u"||v==="")&&(v=l.getOptionSource(h,f,b),v===null))){if(o.isArray(v)){for(w=0;w<v.length;w++)if(u=v[w],u.text){u["data-function-name"]=_typeof(u.value)>"u"?u.text:u.value,x+="<option";for(A in u)u.hasOwnProperty(A)&&A!=="text"&&(x+=" "+A+'="'+u[A].replace(a.quote,"&quot;")+'"');u.value||(x+=' value="'+u.text.replace(a.quote,"&quot;")+'"'),x+=">"+u.text.replace(a.quote,"&quot;")+"</option>"}else""+u!="[object Object]"&&(E=u=(""+u).replace(a.quote,"&quot;"),A=E,E.indexOf(g.filter_selectSourceSeparator)>=0&&(O=E.split(g.filter_selectSourceSeparator),A=O[0],E=O[1]),x+=u!==""?"<option "+(A===E?"":'data-function-name="'+u+'" ')+'value="'+A+'">'+E+"</option>":"");v=[]}P=(p.$filters?p.$filters:p.$table.children("thead")).find("."+r.filter),g.filter_$externalFilters&&(P=P&&P.length?P.add(g.filter_$externalFilters):g.filter_$externalFilters),y=P.filter('select[data-column="'+f+'"]'),y.length&&(y[_?"html":"append"](x),o.isArray(v)||y.append(v).val(j),y.val(j))}}},buildDefault:function(h,f){var v,_,b,w=h.config,A=w.widgetOptions,E=w.columns;for(v=0;v<E;v++)_=w.$headerIndexed[v],b=!(_.hasClass("filter-false")||_.hasClass("parser-false")),(_.hasClass("filter-select")||s.getColumnData(h,A.filter_functions,v)===!0)&&b&&l.buildSelect(h,v,"",f,_.hasClass(A.filter_onlyAvail))}},a=l.regex,s.getFilters=function(d,h,f,v){var _,b,w,A,E=[],O=d?o(d)[0].config:"",P=O?O.widgetOptions:"";if(h!==!0&&P&&!P.filter_columnFilters||o.isArray(f)&&l.equalFilters(O,f,O.lastSearch))return o(d).data("lastSearch")||[];if(O&&(O.$filters&&(b=O.$filters.find("."+r.filter)),P.filter_$externalFilters&&(b=b&&b.length?b.add(P.filter_$externalFilters):P.filter_$externalFilters),b&&b.length))for(E=f||[],_=0;_<O.columns+1;_++)A=_===O.columns?P.filter_anyColumnSelector+","+P.filter_multipleColumnSelector:'[data-column="'+_+'"]',w=b.filter(A),w.length&&(w=l.getLatestSearch(w),o.isArray(f)?(v&&w.length>1&&(w=w.slice(1)),_===O.columns&&(A=w.filter(P.filter_anyColumnSelector),w=A.length?A:w),w.val(f[_]).trigger("change"+O.namespace)):(E[_]=w.val()||"",_===O.columns?w.slice(1).filter('[data-column*="'+w.attr("data-column")+'"]').val(E[_]):w.slice(1).val(E[_])),_===O.columns&&w.length&&(P.filter_$anyMatch=w));return E},s.setFilters=function(d,h,f,v){var _=d?o(d)[0].config:"",b=s.getFilters(d,!0,h,v);return(typeof f=="undefined"?"undefined":_typeof(f))>"u"&&(f=!0),_&&f&&(_.lastCombinedFilter=null,_.lastSearch=[],l.searching(_.table,h,v),_.$table.triggerHandler("filterFomatterUpdate")),b.length!==0}}(n),function(o,l){"use strict";var a=function(c,d){var h=isNaN(d.stickyHeaders_offset)?o(d.stickyHeaders_offset):[];return h.length?h.height()||0:parseInt(d.stickyHeaders_offset,10)||0},s=o.tablesorter||{};o.extend(s.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),s.addHeaderResizeEvent=function(r,c,d){if(r=o(r)[0],!!r.config){var h={timer:250},f=o.extend({},h,d),v=r.config,_=v.widgetOptions,b=function(A){var E,O,P,y,u,p,g=v.$headers.length;for(_.resize_flag=!0,O=[],E=0;E<g;E++)P=v.$headers.eq(E),y=P.data("savedSizes")||[0,0],u=P[0].offsetWidth,p=P[0].offsetHeight,(u!==y[0]||p!==y[1])&&(P.data("savedSizes",[u,p]),O.push(P[0]));O.length&&A!==!1&&v.$table.triggerHandler("resize",[O]),_.resize_flag=!1};if(clearInterval(_.resize_timer),c)return _.resize_flag=!1,!1;b(!1),_.resize_timer=setInterval(function(){_.resize_flag||b()},f.timer)}},s.addWidget({id:"stickyHeaders",priority:54,options:{stickyHeaders:"",stickyHeaders_appendTo:null,stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(c,d,h){if(!(d.$table.hasClass("hasStickyHeaders")||o.inArray("filter",d.widgets)>=0&&!d.$table.hasClass("hasFilters"))){var f,v,_,b=d.$table,w=o(h.stickyHeaders_attachTo||h.stickyHeaders_appendTo),A=d.namespace+"stickyheaders ",E=o(h.stickyHeaders_yScroll||h.stickyHeaders_attachTo||l),O=o(h.stickyHeaders_xScroll||h.stickyHeaders_attachTo||l),P=b.children("thead:first"),y=P.children("tr").not(".sticky-false").children(),u=b.children("tfoot"),p=a(d,h),g=b.parent().closest("."+s.css.table).hasClass("hasStickyHeaders")?b.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],k=g.length?g.height():0,x=h.$sticky=b.clone().addClass("containsStickyHeaders "+s.css.sticky+" "+h.stickyHeaders+" "+d.namespace.slice(1)+"_extra_table").wrap('<div class="'+s.css.stickyWrap+'">'),j=x.parent().addClass(s.css.stickyHide).css({position:w.length?"absolute":"fixed",padding:parseInt(x.parent().parent().css("padding-left"),10),top:p+k,left:0,visibility:"hidden",zIndex:h.stickyHeaders_zIndex||2}),L=x.children("thead:first"),D,F="",X=function(V,Y){var oe,q,G,J,ae,ie=V.filter(":visible"),Oe=ie.length;for(oe=0;oe<Oe;oe++)J=Y.filter(":visible").eq(oe),ae=ie.eq(oe),ae.css("box-sizing")==="border-box"?q=ae.outerWidth():J.css("border-collapse")==="collapse"?l.getComputedStyle?q=parseFloat(l.getComputedStyle(ae[0],null).width):(G=parseFloat(ae.css("border-width")),q=ae.outerWidth()-parseFloat(ae.css("padding-left"))-parseFloat(ae.css("padding-right"))-G):q=ae.width(),J.css({width:q,"min-width":q,"max-width":q})},Q=function(V){return V===!1&&g.length?b.position().left:w.length?parseInt(w.css("padding-left"),10)||0:b.offset().left-parseInt(b.css("margin-left"),10)-o(l).scrollLeft()},H=function(){j.css({left:Q(),width:b.outerWidth()}),X(b,x),X(y,D)},ce=function(V){if(b.is(":visible")){k=g.length?g.offset().top-E.scrollTop()+g.height():0;var Y,oe=b.offset(),q=a(d,h),G=o.isWindow(E[0]),J=G?E.scrollTop():g.length?parseInt(g[0].style.top,10):E.offset().top,ae=w.length?J:E.scrollTop(),ie=h.stickyHeaders_includeCaption?0:b.children("caption").height()||0,Oe=ae+q+k-ie,De=b.height()-(j.height()+(u.height()||0))-ie,ke=Oe>oe.top&&Oe<oe.top+De?"visible":"hidden",tt=ke==="visible"?s.css.stickyVis:s.css.stickyHide,Ve=!j.hasClass(tt),Qe={visibility:ke};w.length&&(Ve=!0,Qe.top=G?Oe-w.offset().top:w.scrollTop()),Y=Q(G),Y!==parseInt(j.css("left"),10)&&(Ve=!0,Qe.left=Y),Qe.top=(Qe.top||0)+(!G&&g.length?g.height():q+k),Ve&&j.removeClass(s.css.stickyVis+" "+s.css.stickyHide).addClass(tt).css(Qe),(ke!==F||V)&&(H(),F=ke)}};if(w.length&&!w.css("position")&&w.css("position","relative"),x.attr("id")&&(x[0].id+=h.stickyHeaders_cloneId),x.find("> thead:gt(0), tr.sticky-false").hide(),x.find("> tbody, > tfoot").remove(),x.find("caption").toggle(h.stickyHeaders_includeCaption),D=L.children().children(),x.css({height:0,width:0,margin:0}),D.find("."+s.css.resizer).remove(),b.addClass("hasStickyHeaders").bind("pagerComplete"+A,function(){H()}),s.bindEvents(c,L.children().children("."+s.css.header)),h.stickyHeaders_appendTo?o(h.stickyHeaders_appendTo).append(j):b.after(j),d.onRenderHeader)for(_=L.children("tr").children(),v=_.length,f=0;f<v;f++)d.onRenderHeader.apply(_.eq(f),[f,d,x]);O.add(E).unbind("scroll resize ".split(" ").join(A).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(A),function(ne){ce(ne.type==="resize")}),d.$table.unbind("stickyHeadersUpdate"+A).bind("stickyHeadersUpdate"+A,function(){ce(!0)}),h.stickyHeaders_addResizeEvent&&s.addHeaderResizeEvent(c),b.hasClass("hasFilters")&&h.filter_columnFilters&&(b.bind("filterEnd"+A,function(){var ne=o(document.activeElement).closest("td"),V=ne.parent().children().index(ne);j.hasClass(s.css.stickyVis)&&h.stickyHeaders_filteredToTop&&(l.scrollTo(0,b.position().top),V>=0&&d.$filters&&d.$filters.eq(V).find("a, select, input").filter(":visible").focus())}),s.filter.bindSearch(b,D.find("."+s.css.filter)),h.filter_hideFilters&&s.filter.hideFilters(d,x)),h.stickyHeaders_addResizeEvent&&b.bind("resize"+d.namespace+"stickyheaders",function(){H()}),ce(!0),b.triggerHandler("stickyHeadersInit")}},remove:function(c,d,h){var f=d.namespace+"stickyheaders ";d.$table.removeClass("hasStickyHeaders").unbind("pagerComplete resize filterEnd stickyHeadersUpdate ".split(" ").join(f).replace(/\s+/g," ")).next("."+s.css.stickyWrap).remove(),h.$sticky&&h.$sticky.length&&h.$sticky.remove(),o(l).add(h.stickyHeaders_xScroll).add(h.stickyHeaders_yScroll).add(h.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(f).replace(/\s+/g," ")),s.addHeaderResizeEvent(c,!0)}})}(n,window),function(o,l){"use strict";var a=o.tablesorter||{};o.extend(a.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),o(function(){var s="<style>body."+a.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+a.css.resizableContainer+" { position: relative; height: 1px; }."+a.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";o("head").append(s)}),a.resizable={init:function(r,c){if(!r.$table.hasClass("hasResizable")){r.$table.addClass("hasResizable");var d,h,f,v,_,b=r.$table,w=b.parent(),A=parseInt(b.css("margin-top"),10),E=c.resizable_vars={useStorage:a.storage&&c.resizable!==!1,$wrap:w,mouseXPosition:0,$target:null,$next:null,overflow:w.css("overflow")==="auto"||w.css("overflow")==="scroll"||w.css("overflow-x")==="auto"||w.css("overflow-x")==="scroll",storedSizes:[]};for(a.resizableReset(r.table,!0),E.tableWidth=b.width(),E.fullWidth=Math.abs(w.width()-E.tableWidth)<20,E.useStorage&&E.overflow&&(a.storage(r.table,"tablesorter-table-original-css-width",E.tableWidth),_=a.storage(r.table,"tablesorter-table-resized-width")||"auto",a.resizable.setWidth(b,_,!0)),c.resizable_vars.storedSizes=v=(E.useStorage?a.storage(r.table,a.css.resizableStorage):[])||[],a.resizable.setWidths(r,c,v),a.resizable.updateStoredSizes(r,c),c.$resizable_container=o('<div class="'+a.css.resizableContainer+'">').css({top:A}).insertBefore(b),f=0;f<r.columns;f++)h=r.$headerIndexed[f],_=a.getColumnData(r.table,r.headers,f),d=a.getData(h,_,"resizable")==="false",d||o('<div class="'+a.css.resizableHandle+'">').appendTo(c.$resizable_container).attr({"data-column":f,unselectable:"on"}).data("header",h).bind("selectstart",!1);a.resizable.bindings(r,c)}},updateStoredSizes:function(r,c){var d,h,f=r.columns,v=c.resizable_vars;for(v.storedSizes=[],d=0;d<f;d++)h=r.$headerIndexed[d],v.storedSizes[d]=h.is(":visible")?h.width():0},setWidth:function(r,c,d){r.css({width:c,"min-width":d?c:"","max-width":d?c:""})},setWidths:function(r,c,d){var h,f,v=c.resizable_vars,_=o(r.namespace+"_extra_headers"),b=r.$table.children("colgroup").children("col");if(d=d||v.storedSizes||[],d.length){for(h=0;h<r.columns;h++)a.resizable.setWidth(r.$headerIndexed[h],d[h],v.overflow),_.length&&(f=_.eq(h).add(b.eq(h)),a.resizable.setWidth(f,d[h],v.overflow));f=o(r.namespace+"_extra_table"),f.length&&!a.hasWidget(r.table,"scroller")&&a.resizable.setWidth(f,r.$table.outerWidth(),v.overflow)}},setHandlePosition:function(r,c){var d,h=r.$table.height(),f=c.$resizable_container.children(),v=Math.floor(f.width()/2);a.hasWidget(r.table,"scroller")&&(h=0,r.$table.closest("."+a.css.scrollerWrap).children().each(function(){var _=o(this);h+=_.filter('[style*="height"]').length?_.height():_.children("table").height()})),!c.resizable_includeFooter&&r.$table.children("tfoot").length&&(h-=r.$table.children("tfoot").height()),d=parseFloat(o.fn.jquery)>=3.3?0:r.$table.position().left,f.each(function(){var _=o(this),b=parseInt(_.attr("data-column"),10),w=r.columns-1,A=_.data("header");A&&(!A.is(":visible")||!c.resizable_addLastColumn&&a.resizable.checkVisibleColumns(r,b)?_.hide():(b<w||b===w&&c.resizable_addLastColumn)&&_.css({display:"inline-block",height:h,left:A.position().left-d+A.outerWidth()-v}))})},checkVisibleColumns:function(r,c){var d,h=0;for(d=c+1;d<r.columns;d++)h+=r.$headerIndexed[d].is(":visible")?1:0;return h===0},toggleTextSelection:function(r,c,d){var h=r.namespace+"tsresize";c.resizable_vars.disabled=d,o("body").toggleClass(a.css.resizableNoSelect,d),d?o("body").attr("unselectable","on").bind("selectstart"+h,!1):o("body").removeAttr("unselectable").unbind("selectstart"+h)},bindings:function(r,c){var d=r.namespace+"tsresize";c.$resizable_container.children().bind("mousedown",function(h){var f,v=c.resizable_vars,_=o(r.namespace+"_extra_headers"),b=o(h.target).data("header");f=parseInt(b.attr("data-column"),10),v.$target=b=b.add(_.filter('[data-column="'+f+'"]')),v.target=f,v.$next=h.shiftKey||c.resizable_targetLast?b.parent().children().not(".resizable-false").filter(":last"):b.nextAll(":not(.resizable-false)").eq(0),f=parseInt(v.$next.attr("data-column"),10),v.$next=v.$next.add(_.filter('[data-column="'+f+'"]')),v.next=f,v.mouseXPosition=h.pageX,a.resizable.updateStoredSizes(r,c),a.resizable.toggleTextSelection(r,c,!0)}),o(document).bind("mousemove"+d,function(h){var f=c.resizable_vars;!f.disabled||f.mouseXPosition===0||!f.$target||(c.resizable_throttle?(clearTimeout(f.timer),f.timer=setTimeout(function(){a.resizable.mouseMove(r,c,h)},isNaN(c.resizable_throttle)?5:c.resizable_throttle)):a.resizable.mouseMove(r,c,h))}).bind("mouseup"+d,function(){c.resizable_vars.disabled&&(a.resizable.toggleTextSelection(r,c,!1),a.resizable.stopResize(r,c),a.resizable.setHandlePosition(r,c))}),o(l).bind("resize"+d+" resizeEnd"+d,function(){a.resizable.setHandlePosition(r,c)}),r.$table.bind("columnUpdate pagerComplete resizableUpdate ".split(" ").join(d+" "),function(){a.resizable.setHandlePosition(r,c)}).bind("resizableReset"+d,function(){a.resizableReset(r.table)}).find("thead:first").add(o(r.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+d,function(){var h=c.resizable_vars.storedSizes.length===0;return a.resizableReset(r.table),a.resizable.setHandlePosition(r,c),c.resizable_vars.storedSizes=[],h})},mouseMove:function(r,c,d){if(!(c.resizable_vars.mouseXPosition===0||!c.resizable_vars.$target)){var h,f=0,v=c.resizable_vars,_=v.$next,b=v.storedSizes[v.target],w=d.pageX-v.mouseXPosition;if(v.overflow){if(b+w>0){for(v.storedSizes[v.target]+=w,a.resizable.setWidth(v.$target,v.storedSizes[v.target],!0),h=0;h<r.columns;h++)f+=v.storedSizes[h];a.resizable.setWidth(r.$table.add(o(r.namespace+"_extra_table")),f)}_.length||(v.$wrap[0].scrollLeft=r.$table.width())}else v.fullWidth?(v.storedSizes[v.target]+=w,v.storedSizes[v.next]-=w,a.resizable.setWidths(r,c)):(v.storedSizes[v.target]+=w,a.resizable.setWidths(r,c));v.mouseXPosition=d.pageX,r.$table.triggerHandler("stickyHeadersUpdate")}},stopResize:function(r,c){var d=c.resizable_vars;a.resizable.updateStoredSizes(r,c),d.useStorage&&(a.storage(r.table,a.css.resizableStorage,d.storedSizes),a.storage(r.table,"tablesorter-table-resized-width",r.$table.width())),d.mouseXPosition=0,d.$target=d.$next=null,r.$table.triggerHandler("stickyHeadersUpdate"),r.$table.triggerHandler("resizableComplete")}},a.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_includeFooter:!0,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1},init:function(r,c,d,h){a.resizable.init(d,h)},format:function(r,c,d){a.resizable.setHandlePosition(c,d)},remove:function(r,c,d,h){if(d.$resizable_container){var f=c.namespace+"tsresize";c.$table.add(o(c.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+f),d.$resizable_container.remove(),a.resizable.toggleTextSelection(c,d,!1),a.resizableReset(r,h),o(document).unbind("mousemove"+f+" mouseup"+f)}}}),a.resizableReset=function(s,r){o(s).each(function(){var c,d,h=this.config,f=h&&h.widgetOptions,v=f.resizable_vars;if(s&&h&&h.$headerIndexed.length){for(v.overflow&&v.tableWidth&&(a.resizable.setWidth(h.$table,v.tableWidth,!0),v.useStorage&&a.storage(s,"tablesorter-table-resized-width",v.tableWidth)),c=0;c<h.columns;c++)d=h.$headerIndexed[c],f.resizable_widths&&f.resizable_widths[c]?a.resizable.setWidth(d,f.resizable_widths[c],v.overflow):d.hasClass("resizable-false")||a.resizable.setWidth(d,"",v.overflow);h.$table.triggerHandler("stickyHeadersUpdate"),a.storage&&!r&&a.storage(this,a.css.resizableStorage,[])}})}}(n,window),function(o){"use strict";var l=function(c){var d=s.storage(c.table,"tablesorter-savesort");return d&&d.hasOwnProperty("sortList")&&o.isArray(d.sortList)?d.sortList:[]},a=function(c,d){return(d||l(c)).join(",")!==c.sortList.join(",")},s=o.tablesorter||{};s.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(c,d,h,f){d.format(c,h,f,!0)},format:function(c,d,h,f){var v,_=d.$table,b=h.saveSort!==!1,w={sortList:d.sortList},A=s.debug(d,"saveSort");A&&(v=new Date),_.hasClass("hasSaveSort")?b&&c.hasInitialized&&s.storage&&a(d)&&(s.storage(c,"tablesorter-savesort",w),A&&console.log("saveSort >> Saving last sort: "+d.sortList+s.benchmark(v))):(_.addClass("hasSaveSort"),w="",s.storage&&(w=l(d),A&&console.log('saveSort >> Last sort loaded: "'+w+'"'+s.benchmark(v)),_.bind("saveSortReset",function(E){E.stopPropagation(),s.storage(c,"tablesorter-savesort","")})),f&&w&&w.length>0?d.sortList=w:c.hasInitialized&&w&&w.length>0&&a(d,w)&&s.sortOn(d,w))},remove:function(c,d){d.$table.removeClass("hasSaveSort"),s.storage&&s.storage(c,"tablesorter-savesort","")}})}(n),n.tablesorter})}),ag={},H6(ag,{default:function(){return lg}}),V6=ig(og()),U6(ag,ig(og()));var m;Wn=V6,m=Wn,sg=m.default,W6=Ai(Wn,["default"]),lg=sg!==void 0?sg:W6}}),G6={};ai(G6,{default:function(){return lg}});var tP=Mt({"https-url:https://esm.archive.org/tablesorter?deps=jquery@3.6.1":function(){Od(),q6(),q6()}}),cr,nh=Mt({"components/archive/archive.js":function(){pa(),pi(),nx(),x1(),lx(),j1(),E1(),T1(),P1(),I1(),M1(),uo(),Sx(),Cx(),tx(),L1(),R1(),D1(),$1(),lv(),B1(),N1(),z1(),Q1(),cr=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,null,[{key:"paramsToJSON",value:function(){return kx()}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||window.DocumentTouch&&_instanceof(document,window.DocumentTouch)}},{key:"emulate_setup",value:function(e){e.toString=function(){return e.identifier},m.emulator=new IALoader(Z("#canvas").get(0),e,null),Z("#theatre-ia .iconochive-unmute, #theatre-ia .iconochive-mute").hide(),Xr.get("unmute")?(Z("#theatre-ia .iconochive-unmute").show(),m.emulator.unmute()):(Z("#theatre-ia .iconochive-mute").show(),m.emulator.mute()),m.theatre_controls_position(),Z(window).on("resize  orientationchange",function(){clearTimeout(m.theatre_controls_position_throttler),m.theatre_controls_position_throttler=setTimeout(m.theatre_controls_position,250)})}},{key:"emulate",value:function(){return Z(".ui-keyboard").prepend('\n      <button style="position:relative;top:-5px;right:-8px;" type="button"\n              class="close js-emulate-keyboard" aria-hidden="true">\n        <span class="iconochive-remove-circle"></span></button>').appendTo(Z("#emulate .posrel")).addClass("showing"),Z("#jsmessSS").fadeOut("slow"),Z("#canvasholder").css("visibility","visible"),m.emulator.start({hasCustomCSS:!0}),Z(".js-ajs-emulate-fullscreen").on("click",m.emulator.requestFullScreen),ni(".js-emulate-keyboard",function(){return Z(".ui-keyboard").removeClass("showing").hide()}),setTimeout(m.theatre_controls_position,100),setTimeout(m.theatre_controls_position,500),setTimeout(m.theatre_controls_position,3e3),setTimeout(m.theatre_controls_position,1e4),!1}},{key:"theatre_controls_position",value:function(e,n,o,l){var a=e,s=l&&!e;if(!(!s&&(e||(a=Z("#canvas")),!a.length))){var r=s?l:a.height()||0,c=s?o:a.width()||0;!s&&typeof n!="undefined"&&Z("#theatre-controls").offset({top:n});var d=Math.round((Z("#theatre-ia-wrap").width()-Z("#theatre-controls").width()-c)/2);yn("width",c),yn("right_gutter_width",d),Z("#theatre-controls").css({height:r,visibility:"visible",right:Math.max(20,d/2)})}}},{key:"theatresize",value:function(e){m.theatresize_maxheight||(m.theatresize_maxheight=null);var n=function(){var o=100,l=1e3,a=Math.min(Z(window).width(),400),s=Z(window).height()-(Z("#navwrap1").height()||0)-o;m.theatresize_maxheight&&(s=Math.min(s,m.theatresize_maxheight)),s=Math.max(s,a);var r=Math.min(s,l);Z("#theatre-ia-wrap").addClass("resized").css("height",r),e&&e(Z("#theatre-ia-wrap").height()||0)};n(),Z(window).on("resize  orientationchange",function(){clearTimeout(m.theatresize_throttler),m.theatresize_throttler=setTimeout(n,250)})}},{key:"carouselsize",value:function(e,n){var o,l=Z(e),a=l.find("img.carousel-image").map(function(s,r){var c=Z.Deferred(),d;return r.complete?d=c.resolve(r.naturalHeight).promise():(r.addEventListener("load",function(){c.resolve(r.naturalHeight)}),d=c),d}).get();(o=Z).when.apply(o,_toConsumableArray(a)).then(function(){for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];var d,h=l.height(),f=(d=Math).max.apply(d,_toConsumableArray(r));h>f&&(l.css("maxHeight",f),n&&(m.theatresize_maxheight=f,Z(window).trigger("resize")))})}},{key:"popover_menu",value:function(e,n){var o={trigger:"hover focus click",container:e,content:n.content,html:!0};n.title&&(o.title=n.title),n.placement&&(o.placement=n.placement),n.trigger&&(o.trigger=n.trigger),Z(e).popover(o)}},{key:"date_switcher",value:function(e){var n="#date_switcher";Z(n).tooltip({html:!0,trigger:"manual",placement:"bottom",title:e}).on("mouseenter focusin",function(){Z(n).parent().find(".tooltip").length||Z(this).tooltip("show")}),Z(".sortbar").on("mouseleave",function(){yn("not hovering sortbar anymore"),Z(n).tooltip("hide")}),Z(n).on("shown.bs.tooltip",function(){Z(n).parent().find(".date_switcher").on("click",function(){Z(this).parents(".tooltip").find(".date_switcher.in").removeClass("in"),Z(this).addClass("in")})})}},{key:"lists_v_tiles_setup",value:function(e){var n="tiles",o=Xr.get("view-".concat(e)),l=Xr.get("showdetails-".concat(e)),a=l==="showdetails"||l===void 0&&n==="lists";if(o==="lists"||!o&&n==="lists"){if(a)return;Z("body").removeClass("showdetails")}else Z("body").removeClass("lists".concat(a?"":" showdetails")).addClass("tiles")}},{key:"showdetails_toggle",value:function(e){var n=Z("body"),o=n.hasClass("showdetails")?"":"showdetails";yn("showdetails_toggle() going to: ",o),Xr.set("showdetails-".concat(e),o,{path:"/",expires:30,domain:".archive.org"}),n.toggleClass("showdetails")}},{key:"tiles_toggle",value:function(e,n){var o=Z("body"),l=o.hasClass("tiles")?"lists":"tiles";return yn("tiles_toggle() going to",l),o.removeClass("lists tiles").addClass(l),m.tiler(),Xr.set("view-".concat(n),l,{path:"/",expires:30,domain:".archive.org"}),!1}},{key:"inTab",value:function(){var e=Z(".welcome .tabby.in .tabby-text").first().text().toLowerCase().trim();return e.indexOf("forum")===0?e.split(" ").shift():e}},{key:"selector",value:function(){var e=m.inTab();if(e==="forum"||e==="posts"||e==="about")return!1;var n=!1;if(e){yn("inTab",e);var o="#tabby-".concat(e.replace(" ","-"));if(e==="collection"||e==="collections"||e==="uploads"||e==="reviews"||e==="web archives")n="#".concat(Z(o.concat(" div.ikind.in:first")).attr("id"));else{var l=Z(o.concat(" .ikind.stealth.in:first")).text().toLowerCase().replace(/ /,"-");n="#ikind-".concat(e).concat(l===""?"":"-").concat(l)}}else n="#ikind-".concat(Z(".ikind.stealth.in:first").text().toLowerCase().replace(/ /,"-")),Z(n).length||(n="#ikind-search");return yn("SELECTOR",n),n}},{key:"parent_hover",value:function(e){e.find(".item-ia:not(.hov):not(.collection-ia):not(.account-ia)").addClass("hov").mouseover(function(n){return Z(n.currentTarget).find(".item-parent").addClass("hoverin")}).mouseout(function(n){return Z(n.currentTarget).find(".item-parent").removeClass("hoverin")})}},{key:"tiler",value:function(e,n){Z("body").hasClass("tiles")||Z("body").hasClass("showdetails")&&Z(".sortbar input[name=showdetails]").prop("checked",!0);var o=e||m.selector();if(o!==!1){var l=Z(o).first();m.parent_hovered=m.parent_hovered||{},m.parent_hovered[o]||(m.parent_hover(l),m.parent_hovered[o]=!0)}}},{key:"ikind",value:function(e,n){var o="#".concat(n);yn("ikind",n),Z(o).parent().find("div.ikind.in").hide(),Z(o).removeClass("hidden").addClass("in").show(),Z(o).parents(".tabby-data").find("a.ikind").removeClass("in"),Z(e).addClass("in"),m.tiler(o);var l=Z(o).parents(".tabby-data").find("select.ikind-mobile"),a=l.find("option:contains(".concat(Z(e).text(),")")),s=l.find("option:selected");return a.text().trim()!==s.text().trim()&&(yn("changing ikind mobile now to ",a.text()),m.ikind_mobile_change_ignore_next=!0,a.attr("selected","selected")),!1}},{key:"ikind_mobile_change",value:function(e){if(m.ikind_mobile_change_ignore_next){m.ikind_mobile_change_ignore_next=!1;return}var n=Z(e).find("option:selected");yn("ikind mobile changed to: ",n.text());var o=Z(e).parents(".tabby-data").find("a.ikind");if(o.length||(o=Z("body").find("a.ikind")),!!o.length){var l=o.filter(function(s,r){return Z(r).text()===n.text()}),a=l.attr("href");yn("goto",a),a&&(a.substr(0,1)==="#"?Z("a.ikind[data-id=".concat(a.substr(1),"]")).click():location.href=a)}}},{key:"popState",value:function(e){if(m.pushState=typeof history.pushState!="undefined",yn("popState(",e,") called, modern browser: ",m.pushState?"y":"n"),!e){var n=function(o){var l=hp("tab",!0);l?l="#tabby-".concat(l,"-finder"):o?l="#tabby-".concat(o,"-finder"):l=".tabby-default-finder",m.pushState&&yn("goto tab: ",l," ################################################### STATE"),m.tabby_no_pushState_next_click=!0,Z(l).click()};m.pushState&&Z(window).on("popstate",function(){return n()}),n()}}},{key:"tabby",value:function(e,n){yn("AJS.tabby()",n);var o=n.replace(/tabby-/,"").trim();if(!(o==="uploads"||o==="reviews"||o==="collections"||o==="loans"||o==="web archives")){if(Z(".tabby-data.in").removeClass("in").hide(),Z("#".concat(n)).removeClass("hidden").addClass("in").show(),Z(".tabby").removeClass("in"),Z(e).parents(".tabby").addClass("in"),m.tabby_no_pushState_next_click)delete m.tabby_no_pushState_next_click;else if(m.pushState&&typeof history.pushState!="undefined"){var l=Z(e).attr("href"),a=location.href,s=location.protocol.concat("//",location.host,l);a!==s&&(yn("pushState: ",l," ################################################### STATE"),history.pushState({},"",s))}(o==="collection"||o==="about")&&(o==="about"&&m.grafs(),m.tiler()),m.pushState&&(event==null||event.preventDefault())}}},{key:"collectionSummaryMoreClicked",value:function(){return m.tabby("#tabby-about-finder","tabby-about")}},{key:"head_img_dragdrop_setup",value:function(e){m.head_img_dragdrop_setup_done||(yn("head_img_dragdrop_setup"),m.head_img_dragdrop_setup_done=!0,Z("#file-dropper-wrap").bind("mouseenter",function(){yn("enter"),m.head_img_replaceable(e),Z("#file-dropper").show()}).bind("mouseleave",function(){yn("ouddie"),m.file_picked||Z("#file-dropper").hide()}),Z("body").bind("dragover",function(n){return yn("dragover"),n.stopPropagation(),n.preventDefault(),m.head_img_replaceable(e),Z("#file-dropper").addClass("drag_over").show(),!1}),Z("body").bind("dragleave",function(n){yn("dragleave");var o=Z("#file-dropper-wrap").is(":hover")||Z("#file-dropper     ").is(":hover")||Z("#file-dropper-img ").is(":hover"),l=n.pageX||n.originalEvent.pageX,a=n.pageY||n.originalEvent.pageY;if(!o){var s=Z("#file-dropper-wrap"),r=s.offset(),c=r.left,d=r.top;l>=c&&l<=c+s.outerWidth()&&a>=d&&a<=d+s.outerHeight()&&(o=!0)}if(!o){var h=Z("#file-dropper"),f=h.offset(),v=f.left,_=f.top;l>=v&&l<=v+h.outerWidth()&&a>=_&&a<=_+h.outerHeight()&&(o=!0)}o||Z("#file-dropper").removeClass("drag_over").hide()}))}},{key:"head_img_replaceable",value:function(e){if(Z("#file-dropper").html().trim()===""){Z("#file-dropper").show().html('\n<div>\n<button id="file-cancel" type="button" class="close" data-dismiss="alert" aria-hidden="true"\n        title="cancel file upload" alt="cancel file upload">\n  &times;\n</button>\n<b>\n  <span style="font-size:40px; color:#aaa" class="iconochive-plus-circle" />\n</b><br/>\n<b>\n  Drag & Drop an image file here or\n</b>\n<button id="file-picker" type="button" class="btn btn-info btn-xs">\n  Pick image to upload\n</button>\n<form method="POST" action="/services/post-file.php?submit=1&identifier='.concat(e,'"\n      enctype="multipart/form-data" id="poster">\n  <div class="hidden">\n    <input id="file-selector" name="file" type="file" accept="image/*"/>\n  </div>\n  <input type="hidden" name="identifier" value="').concat(e,'"/>\n  <input id="file-submit" type="submit" name="submit" value="SUBMIT" class="btn btn-success"/>\n  <div id="file-uploading">\n    Uploading your file..\n  </div>\n</form>\n</div>')),ni("#file-picker",function(){return Z("#file-selector").click()}),Z("#file-cancel").bind("click",function(c){return m.cancelFile(),c.stopPropagation(),c.preventDefault(),!1});var n=function(){yn("success!")},o=function(){var c=!1;typeof XMLHttpRequest=="undefined"&&(c="browser appears to not have HTML5 functionality"),c||(c=m.badFile());var d=new XMLHttpRequest;if(c||(yn(m.file2post),d.upload||(c="browser submit setup failed")),c)return c;yn("post");var h=Math.round(Date.now()/1e3);d.open("POST",location.protocol.concat("//",location.host,"/services/post-file.php?submit=1&identifier=",e,"&fname=",encodeURIComponent(m.file2post.name))),d.setRequestHeader("Content-Type","multipart/form-data; charset=UTF-8"),d.send(m.file2post),yn("posted in background"),Z("#file-dropper").html("waiting for your tasks to queue");var f=!1,v=function(){yn("STALKING..."),Z.getJSON("/metadata/".concat(e,"?rand=").concat(Math.random()),function(_){var b=_.pending_tasks&&_.tasks?_.tasks.length:0;if(!b)yn("last update",_.item_last_updated,"vs now",h),_.item_last_updated<h?Z("#file-dropper").html("waiting for your tasks to queue"):(yn("task(s) done!"),clearInterval(f),Z("#file-dropper").html("reloading page with your image"),window.location.reload());else{var w=_.tasks.filter(function(A){return A.wait_admin===2}).length;w?(Z("#file-dropper").html('\n                  <div class="alert alert-danger">\n                    status task failure -- an admin will need to resolve\n                  </div>'),clearInterval(f)):Z("#file-dropper").html("waiting for your ".concat(b," tasks to finish"))}})};return f=setInterval(v,2e3),""};Z("#file-selector").bind("click",function(){m.file_picked="selected"}).bind("change",function(c){if(yn("file dropdown selected!"),Z("#file-submit, #file-cancel").show(),yn(c),c.target&&c.target.files&&c.target.files.length){var d;d=_slicedToArray(c.target.files,1),m.file2post=d[0],m.previewFile()}}),Z("#file-dropper").bind("drop",function(c){var d,h;if(c.stopPropagation(),c.preventDefault(),Z("#file-dropper").removeClass("drag_over"),Z("#file-submit, #file-cancel").show(),(h=(d=c.originalEvent)==null?void 0:d.dataTransfer)!=null&&h.files){yn(c.originalEvent.dataTransfer.files),m.file_picked="dropped";var f;f=_slicedToArray(c.originalEvent.dataTransfer.files,1),m.file2post=f[0],m.previewFile(),Z("#file-selector").files=c.originalEvent.dataTransfer.files}}),Z("#poster").bind("focusin",function(c){yn(c.type),Z("#file-uploading").show()}).bind("submit",function(c){yn("submit!"),Z("#file-uploading").show();var d=o();return d===""?(n(),c.stopPropagation(),c.preventDefault(),!1):m.file_picked==="dropped"?(m.cancelFile(),alert("Failure: ".concat(d)),c.stopPropagation(),c.preventDefault(),!1):!0});var l=Z("#file-dropper-img").outerWidth(),a=Z("#file-dropper-img").outerHeight(),s=Z("#file-dropper").outerWidth(),r=Z("#file-dropper").outerHeight();Z("#file-dropper").css({left:Math.round((l-s)/2),top:Math.round((a-r)/2)}),Yu&&(Z("#file-dropper > form > div.hidden").removeClass("hidden"),Z("#file-dropper > button").addClass("hidden"))}}},{key:"previewFile",value:function(){if(Z("#file-dropper .uppreview").remove(),m.badFile())return m.cancelFile(),!1;if(typeof FileReader=="undefined")return!1;var e=new FileReader;return e.onload=function(n){yn(n.target);var o=new Image;o.src=n.target.result,Z("#file-dropper").append(o),Z(o).addClass("uppreview")},yn(m.file2post),e.readAsDataURL(m.file2post),!0}},{key:"cancelFile",value:function(){Z("#file-dropper .uppreview").remove(),Z("#file-dropper, file-submit, #file-cancel, #file-uploading").hide(),m.file_picked&&delete m.file_picked,m.file2post&&delete m.file2post}},{key:"badFile",value:function(){var e=!1;if(!e&&!m.file2post&&(e="file is missing"),!e&&m.file2post.size>8e6&&(e="file is over 8MB in size"),!e){var n=m.file2post.type.toLowerCase();n!=="image/jpeg"&&n!=="image/png"&&n!=="image/gif"&&(e="file not required format of JPEG or PNG or GIF")}return e&&alert(e),e}},{key:"drawPDF",value:function(e,n){var o="/download/".concat(e,"/",e,"_pdf.zip/",e,"_pdf/",e,"_"),l=!1,a=!1,s=!0,r=!1,c=void 0;try{for(var d=Object.keys(n)[Symbol.iterator](),h;!(s=(h=d.next()).done);s=!0){var f=h.value,v=f.slice(0,4);if(a===!1&&(a=v),a!==v){l=!0;break}}}catch(ne){r=!0,c=ne}finally{try{!s&&d.return!=null&&d.return()}finally{if(r)throw c}}var _="",b=_,w=666,A=!0,E=!1,O=void 0;try{for(var P=Object.keys(n)[Symbol.iterator](),y;!(A=(y=P.next()).done);A=!0){var u=y.value;if(u!=="yyyymmdd"){var p=n[u].split(","),g=u.slice(0,4),k=parseInt(u.slice(4,6),10),x=parseInt(u.slice(6,8),10),j=g.concat("-",k),L=!1,D="";j!==w&&(k===1?D="January":k===2?D="February":k===3?D="March":k===4?D="April":k===5?D="May":k===6?D="June":k===7?D="July":k===8?D="August":k===9?D="September":k===10?D="October":k===11?D="November":k===12?D="December":k===void 0?D="Single Page PDFs":D="Unknown_".concat(k),l&&(D=g.concat(" ",D)),b+=b?"</div><!--mo--><br/>":"",b+='\n<a href="#'.concat(D,",").concat(g,'" class="year-month" data-toggle="#m').concat(j,'">\n  <span class="iconochive-folder"></span> ').concat(D,'\n</a>\n<div class="mo" id="m').concat(j,'">')),(x===void 0||x==="")&&(L=!0),L?b+='<div class="day">':b+='\n<div class="day">\n<a href="#'.concat(j,"-").concat(x,'" class="year-month-day" data-toggle="#m').concat(j,"d").concat(x,'">\n  <span class="iconochive-folder" /> ').concat(x,'\n</a>\n<div class="pages" id="m').concat(j,"d").concat(x,'">');for(var F=1,X=void 0,Q=void 0,H=0;H<p.length;H++)if(X=p[H],!!X){F>0&&(F=1-X),Q=parseInt(X,10)+F,X="0000".concat(X),X=X.substr(X.length-4,4);var ce=o.concat(X,".pdf");b+='<a href="'.concat(ce,'">[').concat(Q,"]</a> ")}L?b+="</div>":b+="</div><!--pages--></div><!--day-->",w=j}}}catch(ne){E=!0,O=ne}finally{try{!A&&P.return!=null&&P.return()}finally{if(E)throw O}}b+="</div><!--mo-->",Z("#pdfs .replaced").html(b),ni("#pdfs .year-month",function(ne){return Z(Z(ne.currentTarget).data().toggle).toggle()}),ni("#pdfs .year-month-day",function(ne){return Z(Z(ne.currentTarget).data().toggle).toggle()})}},{key:"grafs",value:function(){var e=Z("#grafs_views_api"),n=Z("#grafs2"),o=n.attr("data-id");yn("loading grafs"),e.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show(),n.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show();var l="<h2>";Z.get("/details/".concat(o,"&grafs=1&v=3"),function(a){var s=a.split(l);s.length>=3&&(Z("#activity-reviewsN").html(s[1]).parents(".activity-box").show(),Z("#activity-forumN  ").html(s[2]).parents(".activity-box").show()),s.length===6?(e.html(l+s[3]),n.html(l+s[5])):(e.html("(graph data not available)"),n.html("(graph data not available)")),m.plot_graphs()}),uv.setUpTopRegionsTable()}},{key:"quick_down",value:function(e,n){var o="#".concat(e);if(Z(".format-group.in").length)Z(".format-group").slideDown(400),setTimeout(function(){Z(".format-group.in").removeClass("in"),Z(".download-button").html("DOWNLOAD OPTIONS")},400),Z(o).slideUp();else{var l=Z(n).text(),a=Z(o).parents(".format-group");Z(".download-button").html(l.concat(" FILES")),a.addClass("in"),Z(".format-group:not(.in)").slideUp(),Z(o).slideDown()}return!1}},{key:"arg",value:function(e,n){for(var o=n&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&"),l=0;l<o.length;l++)if(o[l].slice(0,o[l].indexOf("="))===e){var a=o[l].slice(o[l].indexOf("=")+1);return a.length>0?unescape(a):""}return""}},{key:"scrolled",value:function(){var e=Z(window).scrollTop(),n=".more_search:visible",o=Z(n);if(o.length){var l=o.offset().top+o.outerHeight()-Z(window).height()-40;e>l&&(yn("hit rock bottom > ",l),m.more_searching||Z(n.concat(" > a")).get(0).click())}}},{key:"more_search",value:function(e,n,o){var l=m.selector();if(l===!1)return!1;var a=l.replace(/#ikind-/,""),s=Z(l.concat(" .more_search")),r=l;if(typeof m.page_map=="undefined"&&(m.page_map={}),typeof m.page_map[r]=="undefined"&&(m.page_map[r]=o||1),m.page_map[r]<0)return!1;m.page_map[r]+=1;var c=m.page_map[r];s.find(".more-search-fetching").show(),m.more_searching=!0;var d=n+c,h=location.protocol.concat("//",location.host,d);return d+="&scroll=1",yn("url: ",d),yn("urlreplace",h),yn("more_search(selector=",l,"sort=",a,"page=",c,"url=",d,")"),Z.get(d,function(f){if(f.length<100&&Z(f).find("div.no-results")){s.find(".more-search-fetching, a.btn").hide(),m.page_map[r]=-1,m.more_searching=!1;return}m.pushState&&typeof history.replaceState!="undefined"&&history.replaceState({},"",h);var v=Z(l).attr("id");m.tilerPREV&&m.tilerPREV.unsourced&&m.tilerPREV.unsourced[v]&&delete m.tilerPREV.unsourced[v];var _=Z(l.concat(" .results"));_.append(m.addNotes(m.addingNotesKind,f)),m.tiler(l),s.find(".more-search-fetching").hide(),m.more_searching=!1,m.parent_hover(_),Z(l.concat(" img")).on("load",function(){clearTimeout(m.more_search_throttler),m.more_search_throttler=setTimeout(m.tiler,1e3)}),typeof archive_analytics!="undefined"&&archive_analytics.send_scroll_fetch_event(c)}),!1}},{key:"embed_codes_adjust",value:function(){yn("showing embeds!");var e=!0,n=!1,o=void 0;try{for(var l=["embedcodehere","embedcodehereWP"][Symbol.iterator](),a;!(e=(a=l.next()).done);e=!0){var s=a.value,r=Z("#".concat(s));r.removeAttr("rows").css("height","");var c=r.text();Z("body").prepend(Z("<div/>").attr({id:"".concat(s,"Shadow"),class:"textarea-invert-readonly roundbox5"}).css({position:"absolute",visibility:"hidden",top:60,left:10,padding:"5px 15px 5px 15px",width:r.width(),"font-size":r.css("font-size")}).text(c));var d=Z("#".concat(s,"Shadow")).outerHeight()+15;yn(s,"bestie height",d,"for current width",r.width()),Z("#".concat(s,"Shadow")).remove(),r.height(d)}}catch(h){n=!0,o=h}finally{try{!e&&l.return!=null&&l.return()}finally{if(n)throw o}}}},{key:"modal_add",value:function(e,n){Z(e).length&&Z(e).remove();var o=e.replace(/#/,""),l=n.prepended_el,a=l===void 0?document.body:l;return Z(a).prepend('\n<div id="'.concat(o,'" class="modal fade" role="dialog" aria-hidden="true">\n<div class="modal-dialog modal-lg">\n  <div class="modal-content">\n    <div class="modal-header ').concat(n.headerClass!==void 0?n.headerClass:"modal-header-std",'">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n        <span class="iconochive-remove-circle"></span>\n      </button>\n      <h1 class="modal-title">\n        ').concat(typeof n.title=="undefined"?"Confirmed":n.title,'\n      </h1>\n    </div>\n    <div id="').concat(o,'-body">\n      ').concat(typeof n.body=="undefined"?"":n.body,"\n    </div>\n  </div>\n</div>\n</div>")),Z(e)}},{key:"isFavoriteSuccessful",value:function(e){return e.indexOf('<meta name="ia-favorite-success" content="1">')!==-1}},{key:"modal_go",value:function(e,n){var o=n,l=Z(e);if(typeof Z.fn.modal=="undefined"){if(n.recalling)throw Error("still cant modal -- are there two jquery on the page?");return n.recalling=1,Promise.resolve().then(function(){return J3(),Hv}).then(function(){return m.modal_go(e,n)}),!1}o.favorite&&(o.login=!0,Xr.get("logged-in-user")!==void 0&&(go.toggle_favorite_icon(l,!0),go.update_favorite_count(!0)));var a=l.attr("data-target"),s=o.favorite?l.attr("data-href"):l.attr("href");if((!o.ignore_lnk||o.add_modal)&&m.modal_add(a,o),o.shown&&Z(a).on("shown.bs.modal",function(){o.shown()}),o.follow_link_on_dismiss&&Z(a).on("hidden.bs.modal",function(){yn("modal hidden, going to ",s,".."),Z("body").removeClass("blurry"),location.href=s}),o.login&&Xr.get("logged-in-user")===void 0){if(location.protocol!=="https:")return location.href="https://archive.org/account/login",!1;var r="/account/login";return Z.get(r,function(c){var d=Z(c).find(".container-ia > div").length?Z(c).find(".container-ia > div").get(0):c;Z(a).addClass("login-modal"),Z(a.concat("-body")).html(d),Z(a).modal("show");var h=Z(a.concat("-body form:has(input[type=submit])"));if(h.length){var f=Z(".password_icon")[0];navigator.cookieEnabled===!0?(Z(".cookie-warning").addClass("hidden"),Z(".login-form :input").prop("disabled",!1),f.src="/images/eye-crossed.svg",f.alt="Show text",Z(".password_icon").on("click",function(){var v=Z(".input-password")[0];v.type==="password"?(v.type="text",f.src="/images/eye.svg",f.alt="Hide text"):(v.type="password",f.src="/images/eye-crossed.svg",f.alt="Show text")}),Z(".input-email, .input-password").on("focus",function(){Z(".password-error").html(""),Z(".reset-password").show()})):(Z(".cookie-warning").removeClass("hidden"),Z(".login-form :input").prop("disabled",!0)),Ax({$form:h,url:r,selector:a,element:e,conf:o})}}),!1}return o.auto_remove&&(o.auto_close=!0,Z(a).on("hidden.bs.modal",function(){Z(a).remove(),Z("body").removeClass("blurry")})),o.ignore_lnk?Z(a).modal("show"):(Z.get(s,function(c){if(o.favorite)if(typeof archive_analytics!="undefined"&&archive_analytics.send_ping({kind:"event",ec:"page_action",ea:"favorite",el:location.pathname,cache_bust:Math.random()}),m.isFavoriteSuccessful(c))setTimeout(function(){o.postLogin&&location.reload(!0)},m.modalInterval);else{go.toggle_favorite_icon(l,!1),go.update_favorite_count(!1);var d=Z(a),h='\n              <center>\n                <p class="favorite-failure-message">\n                  There was an error adding the favorite. If the problem persists, please contact support.\n                </p>\n              </center>\n            ';d.find(".modal-title").html("Failed"),d.find("".concat(a,"-body")).html(h),Z(a).modal("show")}else Z(a).modal("show"),o.auto_close&&setTimeout(function(){return Z(a).modal("hide")},m.modalInterval)}),Z(a).on("hidden.bs.modal",function(){Z(a).remove()})),o.center&&Z(a.concat(" .modal-dialog")).center(),o.auto_close&&o.ignore_lnk&&setTimeout(function(){return Z(a).modal("hide")},m.modalInterval),!1}},{key:"suffixFmt",value:function(e,n){return n.min>=0&&n.max<=5?Math.round(e*10,1)/10:e>=1e6?(e/1e6).toFixed(0).concat(" M"):e>=1e3?(e/1e3).toFixed(0).concat(" K"):e.toFixed(0)}},{key:"suffixFmtPercent",value:function(e,n){return m.suffixFmt(e,n).concat("%")}},{key:"pluralize",value:function(e,n,o){return e===1?n:o}},{key:"viewMessage",value:function(e,n,o){var l=n.length,a="<table><tr>";a+='<th class="tt-date" rowspan="'.concat(l,'">').concat(e[2]," ").concat(e[3],"</th>"),a+='<td class="tt-number">'.concat(ua(n[0]),"</td>"),a+="<td>".concat(m.pluralize(n[0],"View","Views")," ").concat(o[0],"</td></tr>");for(var s=1;s<l;s++)a+='<tr><td class="tt-number">'.concat(ua(n[s]),"</td>"),a+="<td>".concat(m.pluralize(n[s],"View","Views")," ").concat(o[s],"</td></tr>");return a+="<table>",a}},{key:"plot_graphs",value:function(){Z(".js-ajs-plotter").each(function(e,n){var o=JSON.parse(Z(n).val());m.plotter(function(){var l,a,s;yn("js-ajs-plotter",o);var r=JSON.parse(o.cfg);o.dayBarsNoPoints&&(r.dayBarsNoPoints=!0),o.dark&&(r.dark=!0),((l=r.yaxis)==null?void 0:l.tickFormatter)==="AJS.suffixFmt"&&(r.yaxis.tickFormatter=m.suffixFmt),o.fmt==="AJS.broadcastsTooltip"?o.fmt=m.broadcastsTooltip:o.fmt==="AJS.airedTooltip"?o.fmt=m.airedTooltip:((a=o.fmt)==null?void 0:a.length)===3&&o.fmt[0]==="AJS.graphsTooltip"?o.fmt=m.graphsTooltip(o.fmt[1],o.fmt[2]):((s=o.fmt)==null?void 0:s.length)===3&&o.fmt[0]==="AJS.statsTooltip"&&(o.fmt=m.statsTooltip(o.fmt[1],o.fmt[2])),m.plot(o.id,r,o.fmt,JSON.parse(o.pts),o.many)})})}},{key:"broadcastsTooltip",value:function(e,n){var o=new Date(e).toUTCString().split(" ");return"<nobr>".concat(ua(n)," broadcasts on ").concat(o[2]," ").concat(o[3],"</nobr>")}},{key:"airedTooltip",value:function(e,n){var o=new Date(e).toDateString().split(" ");return"<nobr>Aired ".concat(ua(n)," times on ").concat(o[1]," ").concat(o[2],"</nobr>")}},{key:"graphsTooltip",value:function(e,n){return function(o,l){var a=new Date(o).toDateString().split(" ");return"<nobr>".concat(ua(l)," ").concat(e," in ").concat(a[1]," ").concat(n==="day"?a[2]:""," ").concat(a[3],"</nobr>")}}},{key:"statsTooltip",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o;switch(e){case"main":{o=function(a){var s=a.y,r=a.t;return"".concat(ua(s)," total items in <strong>").concat(r[2]," ").concat(r[3],"</strong>")};break}case"item":{o=function(a){var s=a.t,r=a.item;return"<strong>".concat(s[2]," ").concat(s[3],"</strong>: ").concat(ua(r.datapoint[1])," ").concat(m.pluralize(r.datapoint[1],"Item","Items"))};break}case"download":{o=function(a){var s=a.t,r=a.item;return"<strong>".concat(s[2]," ").concat(s[3],"</strong>: ").concat(ua(r.datapoint[1])," ").concat(m.pluralize(r.datapoint[1],"Download","Downloads"))};break}case"view":{o=function(a){var s=a.t,r=a.values,c=a.labels;return m.viewMessage(s,r,c)};break}default:break}var l=function(a,s,r,c,d){var h=new Date(a-n).toUTCString().split(" "),f={x:a,y:s,item:r,t:h,values:c,labels:d};return'<span style="white-space: nowrap;">'.concat(o(f),"</span>")};return l}},{key:"plotter",value:function(e){if(typeof m.plotters=="undefined"&&(m.plotters=[]),e)m.plotters.push(e),e();else{yn("plotter() resize/orient change",m.plotters.length,"graphs to resize");for(var n=0;n<m.plotters.length;n++)m.plotters[n]()}}},{key:"plot",value:function(e,n,o,l,a){var s=n;s.xaxis||(s.xaxis={mode:"time",color:s.dark?"#ccc":"#545454"}),s.yaxis||(s.yaxis={color:s.dark?"#ccc":"#545454"});var r;a&&s.barWidth?r=s.barWidth*1:s.barWidth?r=s.barWidth*86400*1e3:r=(s.dayBarsNoPoints?1:7)*86400*1e3,s.color||(s.color="#385C74"),s.stack?s.series={stack:!0,bars:{show:!0,barWidth:r,fill:!0},legend:{show:!0}}:s.series={bars:{show:!0,barWidth:r,fill:.6,color:s.color},color:s.color,points:{show:!s.dayBarsNoPoints}},typeof s.grid=="undefined"&&(s.grid={borderColor:s.dark?"#333":"#aaa",hoverable:!0}),s.dark&&(s.grid.backgroundColor="#002b36"),s.tip||(s.tip={}),s.tip.id||(s.tip.id=e),typeof window.GraphPriorIndex=="undefined"&&(window.GraphPriorIndex={});var c=[];s.series.stack?c=l:(c=a?l:typeof l.data=="undefined"?[{data:l}]:[l],s.dayBarsNoPoints&&!s.noLabel&&(c[0].label=e));var d="#".concat(e);Promise.resolve().then(function(){return J1(),c6}).then(function(){Promise.all([Promise.resolve().then(function(){return Z1(),k6}),Promise.resolve().then(function(){return eP(),L6})]).then(function(){var h=Z.plot(Z(d),c,s);o&&Z(d).bind("plothover",function(f,v,_){if(!_){window.GraphPriorDatapoint=[0,0,0],Z("#gtip").remove();return}if(window.GraphPriorDatapoint!==_.datapoint){window.GraphPriorDatapoint=_.datapoint,Z("#gtip").remove();var b=[],w=[];if(s.stack)for(var A=h.getData(),E=0;E<A.length;E++){var O=A[E];w[E]=O.label;for(var P=0;P<O.data.length;P++)if(O.data[P][0]===_.datapoint[0]){b[E]=O.data[P][1];break}}var y=o(_.datapoint[0],_.datapoint[1],_,b,w),u=Z(d),p=u.offset(),g=s.tip.pegTo;g||(g=v.pageX-p.left>u.width()/2?"right":"left");var k=g==="right"?u.width()-(v.pageX-p.left-20):v.pageX-p.left+20;yn(g,k),Z("#".concat(s.tip.id)).append('<div id="gtip" class="roundbox5 grafs-tooltip" style="top:'.concat(v.pageY-p.top,"px; ").concat(g,":").concat(k,'px">').concat(y,"</div>")).fadeIn(200)}})})})}},{key:"makeMouseElementAccessible",value:function(e){Z(e).attr("tabindex","0").on("keypress keydown",function(o){if(o.type!=="click"){var l=o.keyCode||o.which,a=32,s=13;[a,s].indexOf(l)!==-1&&Z(this).click()}})}},{key:"autocomplete",value:function(e,n,o){Promise.resolve().then(function(){return Bx(),vv}).then(function(){Z(e).autocomplete({appendTo:"#autocompletee",minLength:0,source:function(l,a){a(Z.ui.autocomplete.filter(n,l.term.split(/,\s*/).pop()))},focus:function(){return!1},select:function(a,s){if(o){var r=this.value.split(/,\s*/);r.pop(),r.push(s.item.value),r.push(""),this.value=r.join(", ")}else this.value=s.item.value;return!1}})})}},{key:"addNotes",value:function(e,n){if(e!=="favorite"&&e!=="list"||(!n&&Z("body").hasClass("editable")&&(m.addingNotesKind=e),!m.addingNotesKind))return n;if(m.addNoteHTM=Z('\n<div class="note">\n  <span class="edit">\n    <a href="#" class="js-note-add">Add a Note</a>\n  </span>\n</div>'),yn("addNotes"),n){var o=Z("<div>".concat(n,"</div>"));return o.find('.details-ia .C234:not(:has(".note"))').append(m.addNoteHTM),o.html()}return Z('.details-ia .C234:not(:has(".note"))').append(m.addNoteHTM),ni(".js-note-add",function(l){return m.editNote(l.currentTarget)})}},{key:"editNote",value:function(e){var n=Z(e),o=n.parents(".details-ia").prev().attr("data-id");if(!o)return!1;var l=n.parents(".note"),a="";return n.text()==="edit"&&(a=l.find("span:first").text(),a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;")),l.hide(),l.parent().append(Z('\n<form class="js-note-submit form form-horizontal note" role="form">\n  <div class="form-group">\n    <div class="col-xs-2 col-md-1 col-lg-1">\n      <b>Note:</b>\n    </div>\n    <div class="col-xs-10 col-md-6 col-lg-7">\n      <textarea class="form-control" name="comments">'.concat(a,'</textarea>\n      <div class="clearfix visible-xs-block"></div>\n    </div>\n    <div class="clearfix visible-xs-block"></div>\n    <div class="col-xs-12 col-md-5 col-lg-4 btns">\n      <button type="button" class="js-note-edited btn btn-success btn-xs">Save</button>\n      <button type="button" class="js-note-edited btn btn-info btn-cancel btn-xs">Cancel</button>\n      <button type="button" class="js-note-edited btn btn-danger btn-xs ').concat(a?"":"hidden",'">Remove</button>\n    </div>\n  </div>\n</form>'))),ni(".js-note-edited",function(s){return m.editedNote(s.currentTarget)}),kT(".js-note-submit",function(s){return m.editedNote(s.currentTarget)}),!1}},{key:"editedNote",value:function(e){var n=Z(e),o=n.parents(".details-ia").prev().attr("data-id");if(o){n.is("form")&&(n=n.find('button:contains("Save")'));var l=n.text(),a=n.parents(".note"),s=a.prev();if(l==="Save"||l==="Remove"){var r=l==="Save"?a.find("textarea").val():"",c="/bookmarks.php?identifier=".concat(o,"&kind=",m.addingNotesKind,"&add_comment=",encodeURIComponent(r));yn("get ",c),Z.get(c,function(){var d=r?'Note: "<span>'.concat(r.replace(/</g,"&lt;").replace(/>/g,"&gt;"),'</span>"\n          <span class="edit">(<a href="#" class="js-note">edit</a>)</span>'):m.addNoteHTM.html();s.html(d).show(),a.remove(),ni(".js-note",function(h){return m.editNote(h.currentTarget)})});return}s.show(),a.remove()}}},{key:"thumbzilla",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n,o,l=Z("body").hasClass("tv");l&&(window!=null&&window.TV2)&&TV2.unplay("thumbzilla"),e||(e=(n=location.pathname.match(/\/details\/([^/&?]+)/))==null?void 0:n[1]);var a="",s=function(){Z("#opscreen1M").remove(),Z("body").prepend(Z("<div />").attr({id:"opscreen1M"}));var c=Z("<div/>").attr({id:"thumbzilla"}).html("<div>".concat(a,"</div>"));c.appendTo("#opscreen1M"),Z("#opscreen1M").css("visibility","hidden").show();for(var d=Z(window).height()+(Yu?60:0),h=720;h>=10;h-=10){var f=Math.round(h*.6875);if(yn("TRYING",h,"x",f),Z("#thumbzilla img").css({width:h,height:f}),Z("#thumbzilla img:last").offset().top+f<=d)break}Z("#thumbzilla div").center(),Z("#opscreen1M").hide().css("visibility","visible").fadeIn("slow").one("click.opscreen1M.nixer",function(){return Z("#opscreen1M").fadeOut("slow")}),window!=null&&window.TV2&&ni(".js-tvthumb",function(v){Z("#opscreen1M").fadeOut("slow"),TV2.seekURL(Z(v.currentTarget).href.replace(/^\/details\/[^/+]/,""))})};if(l&&Z(".js-tv3-init").length){var r=JSON.parse((o=Z(".js-tv3-init").val())!=null?o:"{}");Z(r["TV3.thumbzillas"]).each(function(c,d){var h=parseInt(d,10),f="/details/".concat(e,"/start/").concat(h,"/end/").concat(h+r["TV3.CLIP_SEC_MAX2"]);a+='<a class="js-tvthumb" href="'.concat(f,'">'),a+='<img src="/download/'.concat(e,"/").concat(e,".thumbs/").concat(e,"_").concat(d,'.jpg"/></a>')}),s()}else Z.getJSON("/metadata/".concat(e,"/files"),function(c){var d=!0,h=!1,f=void 0;try{for(var v=c.result[Symbol.iterator](),_;!(d=(_=v.next()).done);d=!0){var b=_.value,w="original"in b&&b.name.match(/\.thumbs\/.*_([0-9]+)\.jpg$/);w&&(a+='\n              <a href="/details/'.concat(e,"/").concat(b.original,"?start=").concat(Number(w[1]),'"><img src="/download/').concat(e,"/").concat(b.name,'"></a>\n            '))}}catch(A){h=!0,f=A}finally{try{!d&&v.return!=null&&v.return()}finally{if(h)throw f}}a&&s()});return!1}},{key:"setUpSearchForms",value:function(){var e=function(a){var s=Z(a),r=s.find(".js-search-bar"),c=s.find(".js-search-options"),d=c.data("keepOpenWhenChanged"),h=!1;function f(w){var A=this.dataset.waybackMachineSearchUrl,E=Z(this.elements),O=E.filter('[name="sin"]:checked'),P=E.filter('[name="search"]'),y=O.length?O[0].value:"",u=P.length?P[0].value:"";A&&y==="WEB"&&(w.preventDefault(),window.location=[A.replace(/\/$/,""),u].join("/"))}function v(){c.addClass("is-open").attr("aria-expanded",!0)}function _(){c.removeClass("is-open").attr("aria-expanded",!1)}function b(w){!w||s[0].contains(w)||d&&h||Z(w).parents(".ui-autocomplete").length||_()}s.length&&(s.on("submit",f),c.hasClass("is-open")||(n.on("click",function(w){b(w.target)}),s.on("change",function(){h=!0}).on("focusout",function(w){b(w.relatedTarget)}),r.on("focusin",function(){v()})))},n=Z(document.body),o=Z(".js-search-form");o.each(function(l,a){return e(a)})}},{key:"setUpAccordions",value:function(){var e=function(l,a){Array.from(l).forEach(function(s){s!==a&&(s.open=!1)})},n=function(l){function a(s){s.target.open&&(e(l.querySelectorAll("details"),s.target),Z("html, body").animate({scrollTop:Z(s.target).offset().top},400))}Array.from(l.querySelectorAll("details")).forEach(function(s){s.addEventListener("toggle",a)}),l.setAttribute("data-accordion-ready","")};Array.from(document.querySelectorAll("[data-accordion]")).forEach(n)}},{key:"advanced_search",value:function(e){if(!m.is_advanced_TV_search(e))return!0;m.adv||(m.adv={mapping:!1});var n=new Date().toISOString().substr(0,10);Z.ajaxSetup({cache:!0});var o="https://".concat(location.host,"/includes/");return Z.when(typeof TVSearch!="undefined"||Z.getScript(o.concat("build/js/tvsearch.min.js?",n)),m.adv.mapping||Z.getJSON("/details/tv?mappings&output=json&".concat(n),function(l){m.adv.mapping=l})).then(function(){if(m.adv.mapping.length!==2){alert("failed to get network and program mappings!");return}TVSearch.proPick(m.adv.mapping,e)}),!1}},{key:"is_advanced_TV_search",value:function(e){if(location.hostname==="web.archive.org"||Z(document.body).hasClass("top"))return!1;var n=Z(e).parents("form");return n.find(".js-search-options input[value=TV]").is(":checked")?n:!1}},{key:"isTextClamped",value:function(e){return e.clientHeight<e.scrollHeight}},{key:"bindClampCheckbox",value:function(e){var n=e.nextElementSibling;if(n&&n.type==="checkbox"){var o,l;Z(n).on("click",function(){if(Z(n).is(":checked")){var a=window.visualViewport.pageTop;o=e.getBoundingClientRect().top+a,l=o<a?o-10:a}else o<window.visualViewport.pageTop&&window.scrollTo({top:l,behavior:"instant"})})}}},{key:"unbindClampCheckbox",value:function(e){var n=e.nextElementSibling;n&&n.type==="checkbox"&&n.checked&&Z(n).off("click")}}]),m}(),Z(function(){Z(".tabby a").click(function(a){var s=Z(a.currentTarget).attr("data-tabby");cr.tabby(a.currentTarget,"tabby-".concat(s))}),Z(".js-tiles-setup").each(function(a,s){var r=JSON.parse(Z(s).val());cr.lists_v_tiles_setup(r.toggle_range),Z("div.ikind").css({visibility:" visible"}),r.popState!==!1&&cr.popState(r.popState),cr.tiler(),Z(window).on("resize  orientationchange",function(c){clearTimeout(cr.tiles_wrap_throttler),cr.tiles_wrap_throttler=setTimeout(cr.tiler,250)}),Z(window).scroll(cr.scrolled)}),cr.makeMouseElementAccessible(".accessible-link"),typeof archive_analytics!="undefined"&&archive_analytics.set_up_event_tracking(),Z(".js-tiles-toggle").click(function(a){var s=Z(a.currentTarget).attr("data-range");return cr.tiles_toggle(a.currentTarget,s)}),Z(".js-ikind-link").click(function(a){var s=Z(a.currentTarget).attr("data-id");cr.ikind(a.currentTarget,"ikind-".concat(s))}),Z(".js-more-search").click(function(a){var s=a.currentTarget,r=decodeURIComponent(Z(s).attr("data-more-search")),c=parseInt(Z(s).attr("data-page"),10);return cr.more_search(s,r,c),!1}),Z("#showdetails").on("change",function(a){var s=Z(a.currentTarget).attr("data-toggle-range");cr.showdetails_toggle(s)}),Z(".ikind-mobile").on("change",function(a){cr.ikind_mobile_change(a.currentTarget)}),cr.setUpSearchForms(),cr.setUpAccordions(),typeof archive_analytics!="undefined"&&archive_analytics.create_tracking_image("external_executes"),cr.modalInterval=2e3,xx.init(),Nx.setup(),Z(".js-search-beta-opt-in").each(function(a,s){Z(s).on("click",function(){window.localStorage.setItem("SearchBeta-opt-in",!0)})}),Z(".js-collection-setup").each(function(a,s){var r=JSON.parse(Z(s).val());r.about&&cr.grafs(),cr.addNotes(r.is_list),Z(window).on("resize  orientationchange",function(c){clearTimeout(cr.plotter_throttler),cr.plotter_throttler=setTimeout(cr.plotter,250)})}),Z(".js-collection-setup2").each(function(a,s){var r=JSON.parse(Z(s).val());r.editable&&(Z("#editlink").show(),r.image!==""&&cr.head_img_dragdrop_setup(r.image))}),Z(".js-account-setup").each(function(a,s){var r,c=JSON.parse(Z(s).val());cr.head_img_dragdrop_setup(c.dragdrop),(r=c.darking_ids)!=null&&r.length&&go.decorate_pendings(c.darking_ids)}),cr.plot_graphs(),Z(".js-pages").each(function(a,s){var r=JSON.parse(Z(s).val());cr.drawPDF(r.identifier,JSON.parse(r.pages))}),Z(".js-carousel2").each(function(){cr.theatresize(),cr.carouselsize("#ia-carousel",!0)}),Z(".js-emulation").each(function(a,s){Z(".container-ia:first").attr("id","begPgSpcr"),cr.emulate_setup(JSON.parse(Z(s).val()))}),Z(".tablesorter").each(function(a,s){var r={textExtraction:"complex"};Z("body").hasClass("js-tv-programPageColumnSorting")?r.headers={0:{sorter:!1}}:Z("body").hasClass("services-views")&&(r.ignoreCase=!0,r.sortList=[[1,0]],r.widgets=["saveSort"],r.widgetOptions={saveSort:!0}),typeof Z.fn.tablesorter=="undefined"?Promise.resolve().then(function(){return tP(),G6}).then(function(){Z(s).tablesorter(r)}):Z(s).tablesorter(r)}),ni(".js-ebook-maker",function(a){return On(void 0,null,_regeneratorRuntime.default.mark(function s(){var r,c,d,h,f,v,_,b,w,A,E,O;return _regeneratorRuntime.default.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:for(r=a.currentTarget,r.parentElement.textContent="Generating...",c=Z(r).data().maker,yn({maker:c}),d=new URLSearchParams,h=!0,f=!1,v=void 0,y.prev=6,_=Object.entries(c)[Symbol.iterator]();!(h=(b=_.next()).done);h=!0)w=_slicedToArray(b.value,2),A=w[0],E=w[1],d.append(A,encodeURIComponent(E));y.next=14;break;case 10:y.prev=10,y.t0=y.catch(6),f=!0,v=y.t0;case 14:y.prev=14,y.prev=15,!h&&_.return!=null&&_.return();case 17:if(y.prev=17,!f){y.next=20;break}throw v;case 20:return y.finish(17);case 21:return y.finish(14);case 22:return y.next=24,fetch("/services/make-ebook.php",{method:"POST",body:d});case 24:O=y.sent,yn({res:O});case 26:case"end":return y.stop()}},s,null,[[6,10,14,22],[15,,17,21]])}))});var m=Z(".js-date_switcher"),t=!cr.isTouchDevice()&&typeof Z.fn.tooltip=="undefined"?Z('.container-ia [data-toggle="tooltip"], #cols [data-toggle="tooltip"], #tvbanner [data-toggle="tooltip"], #cher-modal [data-toggle="tooltip"]'):[];(t.length||m.length)&&Promise.resolve().then(function(){return J3(),Hv}).then(function(){t.length&&t.tooltip({}),m.each(function(a,s){return cr.date_switcher(JSON.parse(Z(s).val()))})}),ni(".js-createclick",function(a){location.href="/create/"}),ni(".js-colclick",function(a){var s=Z(a.currentTarget),r=s.attr("data-id"),c=r&&!r.startsWith("__id_")?"/details/".concat(r):s.find("a").attr("href");r&&Z("body").hasClass("tiles")&&!s.hasClass("manage-item")&&(location.href=c)}),ni(".js-note",function(a){return cr.editNote(a.currentTarget)}),ni(".js-inliner",function(a){if(!window.inlined){window.inlined=!0;var s="".concat(a.currentTarget.href,"&nochrome=1"),r=Z(a.currentTarget).parent().parent().parent();r.append('<div id="loadin" style="padding:50px"><hr/><h4><img src="/images/loading.gif"/> loading...</h4><hr/></div>'),Z.get(s,function(c){Z("#loadin").remove(),r.append("<hr/>".concat(c))})}}),ni(".js-auto-submit-perpetual",function(){document.getElementById("timeout_row").style.display="table-row",document.getElementById("loopsleep_row").style.display="table-row",document.getElementById("discard_itemlists_row").style.display="table-row",document.getElementById("timeout_row").classList.toggle("hidden"),document.getElementById("loopsleep_row").classList.toggle("hidden"),document.getElementById("discard_itemlists_row").classList.toggle("hidden")},"default"),_T(".js-auto-submit-cmd",function(a){a.currentTarget.value==="delete.php"&&alert('\n        WARNING: The "lost_item" arg is automatically\n        added to delete.php tasks submitted through this form.\n        That means the command can be used only to\n        tidy our records for items that have already\n        gotten lost, not to delete existing items.\n        If run on an item that actually exists still,\n        the task will redrow.')}),ni(".js-slide-toggle",function(a){return Z(Z(a.currentTarget).data().target).slideToggle()}),ni(".js-ajs-emulate",cr.emulate),ni(".js-ajs-deadlists",function(a){var s=a.currentTarget.href;window.open(s,"popup","width=800,height=600,scrollbars=yes,resizable=yes,toolbar=no,directories=no,location=no,menubar=no,status=no")});var e=document.querySelector("#js-useradmin-clipboard");e&&e.addEventListener("click",function(a){var s=Array.from(document.querySelectorAll(".js-useradmin-username")).map(function(r){return r.textContent}).join(" ");navigator.clipboard.writeText(s)});var n=document.querySelector(".js-useradmin-search");n&&(n.addEventListener("submit",function(a){a.preventDefault(),Array.from(n.querySelectorAll("input")).filter(function(s){return!s.value}).forEach(function(s){var r=s;r.disabled=!0}),n.submit()}),Array.from(n.querySelectorAll("input")).forEach(function(a){var s=a;s.disabled=!1}));var o=Z(".js-clamp"),l="clamped";o.length&&(o.each(function(a,s){cr.isTextClamped(s)&&(s.classList.add(l),cr.bindClampCheckbox(s))}),window.addEventListener("resize",xT(function(){o.each(function(a,s){cr.isTextClamped(s)?(s.classList.add(l),cr.bindClampCheckbox(s)):(cr.unbindClampCheckbox(s),s.classList.remove(l))})}),50))}),window.AJS=cr}}),rc,rh,ih,ug,cg,Wr,ic,Y6,dg,X6=Mt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@2.0.4/esnext/css-tag.js":function(){rc=globalThis,rh=rc.ShadowRoot&&(rc.ShadyCSS===void 0||rc.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ih=Symbol(),ug=new WeakMap,cg=function(){"use strict";function m(t,e,n){if(_classCallCheck(this,m),this._$cssResult$=!0,n!==ih)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}return _createClass(m,[{key:"styleSheet",get:function(){var e=this.o,n=this.t;if(rh&&e===void 0){var o=n!==void 0&&n.length===1;o&&(e=ug.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),o&&ug.set(n,e))}return e}},{key:"toString",value:function(){return this.cssText}}]),m}(),Wr=function(m){return new cg(typeof m=="string"?m:m+"",void 0,ih)},ic=function(m){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var o=m.length===1?m[0]:e.reduce(function(l,a,s){return l+function(r){if(r._$cssResult$===!0)return r.cssText;if(typeof r=="number")return r;throw Error("Value passed to 'css' function must be a 'css' function result: "+r+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(a)+m[s+1]},m[0]);return new cg(o,m,ih)},Y6=function(m,t){var e=!0,n=!1,o=void 0;if(rh)m.adoptedStyleSheets=t.map(function(d){return _instanceof(d,CSSStyleSheet)?d:d.styleSheet});else try{for(var l=t[Symbol.iterator](),a;!(e=(a=l.next()).done);e=!0){var s=a.value,r=document.createElement("style"),c=rc.litNonce;c!==void 0&&r.setAttribute("nonce",c),r.textContent=s.cssText,m.appendChild(r)}}catch(d){n=!0,o=d}finally{try{!e&&l.return!=null&&l.return()}finally{if(n)throw o}}},dg=rh?function(m){return m}:function(m){return _instanceof(m,CSSStyleSheet)?function(t){var e="",n=!0,o=!1,l=void 0;try{for(var a=t.cssRules[Symbol.iterator](),s;!(n=(s=a.next()).done);n=!0){var r=s.value;e+=r.cssText}}catch(c){o=!0,l=c}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw l}}return Wr(e)}(m):m}}}),K6,Q6,J6,Z6,e7,t7,Bs,hg,n7,fg,Dl,oh,ah,pg,r7,i7,Ns,o7,oc=Mt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@2.0.4/esnext/reactive-element.mjs":function(){X6(),X6();var m;m=Object,K6=m.is,Q6=m.defineProperty,J6=m.getOwnPropertyDescriptor,Z6=m.getOwnPropertyNames,e7=m.getOwnPropertySymbols,t7=m.getPrototypeOf,Bs=globalThis,hg=Bs.trustedTypes,n7=hg?hg.emptyScript:"",fg=Bs.reactiveElementPolyfillSupport,Dl=function(t,e){return t},oh={toAttribute:function(e,n){switch(n){case Boolean:e=e?n7:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute:function(e,n){var o=e;switch(n){case Boolean:o=e!==null;break;case Number:o=e===null?null:Number(e);break;case Object:case Array:try{o=JSON.parse(e)}catch(l){o=null}}return o}},ah=function(t,e){return!K6(t,e)},pg={attribute:!0,type:String,converter:oh,reflect:!1,hasChanged:ah},(r7=Symbol.metadata)!=null||(Symbol.metadata=Symbol("metadata")),(i7=Bs.litPropertyMetadata)!=null||(Bs.litPropertyMetadata=new WeakMap),Ns=function(t){"use strict";_inherits(n,t);var e=_createSuper(n);function n(){_classCallCheck(this,n);var o;return o=e.call(this),o._$Ep=void 0,o.isUpdatePending=!1,o.hasUpdated=!1,o._$Em=null,o._$Ev(),_possibleConstructorReturn(o)}return _createClass(n,[{key:"_$Ev",value:function(){var l=this,a;this._$ES=new Promise(function(s){return l.enableUpdating=s}),this._$AL=new Map,this._$E_(),this.requestUpdate(),(a=this.constructor.l)==null||a.forEach(function(s){return s(l)})}},{key:"addController",value:function(l){var a,s;((a=this._$EO)!=null?a:this._$EO=new Set).add(l),this.renderRoot!==void 0&&this.isConnected&&((s=l.hostConnected)==null||s.call(l))}},{key:"removeController",value:function(l){var a;(a=this._$EO)==null||a.delete(l)}},{key:"_$E_",value:function(){var l=new Map,a=this.constructor.elementProperties,s=!0,r=!1,c=void 0;try{for(var d=a.keys()[Symbol.iterator](),h;!(s=(h=d.next()).done);s=!0){var f=h.value;this.hasOwnProperty(f)&&(l.set(f,this[f]),delete this[f])}}catch(v){r=!0,c=v}finally{try{!s&&d.return!=null&&d.return()}finally{if(r)throw c}}l.size>0&&(this._$Ep=l)}},{key:"createRenderRoot",value:function(){var l,a=(l=this.shadowRoot)!=null?l:this.attachShadow(this.constructor.shadowRootOptions);return Y6(a,this.constructor.elementStyles),a}},{key:"connectedCallback",value:function(){var l,a;(l=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(a=this._$EO)==null||a.forEach(function(s){var r;return(r=s.hostConnected)==null?void 0:r.call(s)})}},{key:"enableUpdating",value:function(l){}},{key:"disconnectedCallback",value:function(){var l;(l=this._$EO)==null||l.forEach(function(a){var s;return(s=a.hostDisconnected)==null?void 0:s.call(a)})}},{key:"attributeChangedCallback",value:function(l,a,s){this._$AK(l,s)}},{key:"_$EC",value:function(l,a){var s,r=this.constructor.elementProperties.get(l),c=this.constructor._$Eu(l,r);if(c!==void 0&&r.reflect===!0){var d=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:oh).toAttribute(a,r.type);this._$Em=l,d==null?this.removeAttribute(c):this.setAttribute(c,d),this._$Em=null}}},{key:"_$AK",value:function(l,a){var s,r=this.constructor,c=r._$Eh.get(l);if(c!==void 0&&this._$Em!==c){var d=r.getPropertyOptions(c),h=typeof d.converter=="function"?{fromAttribute:d.converter}:((s=d.converter)==null?void 0:s.fromAttribute)!==void 0?d.converter:oh;this._$Em=c,this[c]=h.fromAttribute(a,d.type),this._$Em=null}}},{key:"requestUpdate",value:function(l,a,s){var r;if(l!==void 0){if(s!=null||(s=this.constructor.getPropertyOptions(l)),!((r=s.hasChanged)!=null?r:ah)(this[l],a))return;this.P(l,a,s)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}},{key:"P",value:function(l,a,s){var r;this._$AL.has(l)||this._$AL.set(l,a),s.reflect===!0&&this._$Em!==l&&((r=this._$Ej)!=null?r:this._$Ej=new Set).add(l)}},{key:"_$ET",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.isUpdatePending=!0,r.prev=1,r.next=4,this._$ES;case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),Promise.reject(r.t0);case 9:if(a=this.scheduleUpdate(),r.t1=a!=null,!r.t1){r.next=14;break}return r.next=14,a;case 14:return r.abrupt("return",(r.t1&&r.sent,!this.isUpdatePending));case 15:case"end":return r.stop()}},l,this,[[1,6]])}))}},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var l,a;if(this.isUpdatePending){if(!this.hasUpdated){if((l=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){var s=!0,r=!1,c=void 0;try{for(var d=this._$Ep[Symbol.iterator](),h;!(s=(h=d.next()).done);s=!0){var f=_slicedToArray(h.value,2),v=f[0],_=f[1];this[v]=_}}catch(x){r=!0,c=x}finally{try{!s&&d.return!=null&&d.return()}finally{if(r)throw c}}this._$Ep=void 0}var b=this.constructor.elementProperties,w=!0,A=!1,E=void 0;if(b.size>0)try{for(var O=b[Symbol.iterator](),P;!(w=(P=O.next()).done);w=!0){var y=_slicedToArray(P.value,2),u=y[0],p=y[1];p.wrapped!==!0||this._$AL.has(u)||this[u]===void 0||this.P(u,this[u],p)}}catch(x){A=!0,E=x}finally{try{!w&&O.return!=null&&O.return()}finally{if(A)throw E}}}var g=!1,k=this._$AL;try{g=this.shouldUpdate(k),g?(this.willUpdate(k),(a=this._$EO)==null||a.forEach(function(x){var j;return(j=x.hostUpdate)==null?void 0:j.call(x)}),this.update(k)):this._$EU()}catch(x){throw g=!1,this._$EU(),x}g&&this._$AE(k)}}},{key:"willUpdate",value:function(l){}},{key:"_$AE",value:function(l){var a;(a=this._$EO)==null||a.forEach(function(s){var r;return(r=s.hostUpdated)==null?void 0:r.call(s)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(l)),this.updated(l)}},{key:"_$EU",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$ES}},{key:"shouldUpdate",value:function(l){return!0}},{key:"update",value:function(l){var a=this;this._$Ej&&(this._$Ej=this._$Ej.forEach(function(s){return a._$EC(s,a[s])})),this._$EU()}},{key:"updated",value:function(l){}},{key:"firstUpdated",value:function(l){}}],[{key:"addInitializer",value:function(l){var a;this._$Ei(),((a=this.l)!=null?a:this.l=[]).push(l)}},{key:"observedAttributes",get:function(){return this.finalize(),this._$Eh&&_toConsumableArray(this._$Eh.keys())}},{key:"createProperty",value:function(l){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pg;if(a.state&&(a.attribute=!1),this._$Ei(),this.elementProperties.set(l,a),!a.noAccessor){var s=Symbol(),r=this.getPropertyDescriptor(l,s,a);r!==void 0&&Q6(this.prototype,l,r)}}},{key:"getPropertyDescriptor",value:function(l,a,s){var r,c=(r=J6(this.prototype,l))!=null?r:{get:function(){return this[a]},set:function(v){this[a]=v}},d=c.get,h=c.set;return{get:function(){return d==null?void 0:d.call(this)},set:function(v){var _=d==null?void 0:d.call(this);h.call(this,v),this.requestUpdate(l,_,s)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(l){var a;return(a=this.elementProperties.get(l))!=null?a:pg}},{key:"_$Ei",value:function(){if(!this.hasOwnProperty(Dl("elementProperties"))){var l=t7(this);l.finalize(),l.l!==void 0&&(this.l=_toConsumableArray(l.l)),this.elementProperties=new Map(l.elementProperties)}}},{key:"finalize",value:function(){if(!this.hasOwnProperty(Dl("finalized"))){if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Dl("properties"))){var l=this.properties,a=_toConsumableArray(Z6(l)).concat(_toConsumableArray(e7(l))),s=!0,r=!1,c=void 0;try{for(var d=a[Symbol.iterator](),h;!(s=(h=d.next()).done);s=!0){var f=h.value;this.createProperty(f,l[f])}}catch(Q){r=!0,c=Q}finally{try{!s&&d.return!=null&&d.return()}finally{if(r)throw c}}}var v=this[Symbol.metadata];if(v!==null){var _=litPropertyMetadata.get(v),b=!0,w=!1,A=void 0;if(_!==void 0)try{for(var E=_[Symbol.iterator](),O;!(b=(O=E.next()).done);b=!0){var P=_slicedToArray(O.value,2),y=P[0],u=P[1];this.elementProperties.set(y,u)}}catch(Q){w=!0,A=Q}finally{try{!b&&E.return!=null&&E.return()}finally{if(w)throw A}}}this._$Eh=new Map;var p=!0,g=!1,k=void 0;try{for(var x=this.elementProperties[Symbol.iterator](),j;!(p=(j=x.next()).done);p=!0){var L=_slicedToArray(j.value,2),D=L[0],F=L[1],X=this._$Eu(D,F);X!==void 0&&this._$Eh.set(X,D)}}catch(Q){g=!0,k=Q}finally{try{!p&&x.return!=null&&x.return()}finally{if(g)throw k}}this.elementStyles=this.finalizeStyles(this.styles)}}},{key:"finalizeStyles",value:function(l){var a=[];if(Array.isArray(l)){var s=new Set(l.flat(1/0).reverse()),r=!0,c=!1,d=void 0;try{for(var h=s[Symbol.iterator](),f;!(r=(f=h.next()).done);r=!0){var v=f.value;a.unshift(dg(v))}}catch(_){c=!0,d=_}finally{try{!r&&h.return!=null&&h.return()}finally{if(c)throw d}}}else l!==void 0&&a.push(dg(l));return a}},{key:"_$Eu",value:function(l,a){var s=a.attribute;return s===!1?void 0:typeof s=="string"?s:typeof l=="string"?l.toLowerCase():void 0}}]),n}(_wrapNativeSuper(HTMLElement)),Ns.elementStyles=[],Ns.shadowRootOptions={mode:"open"},Ns[Dl("elementProperties")]=new Map,Ns[Dl("finalized")]=new Map,fg==null||fg({ReactiveElement:Ns}),((o7=Bs.reactiveElementVersions)!=null?o7:Bs.reactiveElementVersions=[]).push("2.0.4")}}),sh,yo=Mt({"https-url:https://esm.archive.org/v135/typescript-memoize@1.1.1/esnext/typescript-memoize.mjs":function(){sh=new Map}}),ac,eo,Ua,va,zs,sc,a7,lh,$l,vi=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/field-parsers@0.1.3/esnext/field-parsers.mjs":function(){ac=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"parseValue",value:function(e){return typeof e=="string"&&(e==="false"||e==="0")?!1:!!e}}]),m}(),ac.shared=new ac,eo=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"parseValue",value:function(e){if(typeof e=="number")return e;if(typeof e!="boolean"){var n=parseFloat(e);if(!Number.isNaN(n))return n}}}]),m}(),eo.shared=new eo,Ua=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"parseValue",value:function(e){return eo.shared.parseValue(e)}}]),m}(),Ua.shared=new Ua,va=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"parseValue",value:function(e){return this.parseJSDate(e)||this.parseBracketDate(e)}},{key:"parseBracketDate",value:function(e){if(typeof e=="string"){var n=e.match(/\[([0-9]{4})\]/);if(!(!n||n.length<2))return this.parseJSDate(n[1])}}},{key:"parseJSDate",value:function(e){if(typeof e=="string"){var n=e;n.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s{1}[0-9]{2}:[0-9]{2}:[0-9]{2}$/)&&(n=n.replace(" ","T"));var o=Date.parse(n);if(!Number.isNaN(o)){var l=new Date(n);return(n.indexOf("Z")>-1||n.indexOf("+")>-1||n.match(/^[0-9]{4}$/)||n.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)||n.match(/^.*?-[0-9]{2}:[0-9]{2}$/)||n.match(/^.*?-[0-9]{4}$/))&&(l=new Date(l.getTime()+l.getTimezoneOffset()*1e3*60)),l}}}}]),m}(),va.shared=new va,zs=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"parseValue",value:function(e){if(typeof e=="number")return e;if(typeof e!="boolean"){var n=e.split(":"),o;return n.length===1?o=this.parseNumberFormat(n[0]):o=this.parseColonSeparatedFormat(n),o}}},{key:"parseNumberFormat",value:function(e){var n=parseFloat(e);return Number.isNaN(n)&&(n=void 0),n}},{key:"parseColonSeparatedFormat",value:function(e){var n=!1,o=e.map(function(l,a){var s=parseFloat(l);if(Number.isNaN(s))return n=!0,0;var r=ki(60,e.length-1-a);return s*Math.floor(r)}).reduce(function(l,a){return l+a},0);return n?void 0:o}}]),m}(),zs.shared=new zs,sc=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"parseValue",value:function(e){if(typeof e=="string")return e}}]),m}(),sc.shared=new sc,a7=function(){"use strict";function m(t,e){_classCallCheck(this,m),this.separators=[";",","],this.parser=t,e&&e.separators&&(this.separators=e.separators)}return _createClass(m,[{key:"parseValue",value:function(e){var n=String(e),o=[],l=!0,a=!1,s=void 0;try{for(var r=this.separators[Symbol.iterator](),c;!(l=(c=r.next()).done);l=!0){var d=c.value;if(o=n.split(d),o.length>1)break}}catch(h){a=!0,s=h}finally{try{!l&&r.return!=null&&r.return()}finally{if(a)throw s}}return this.parseListValues(o)}},{key:"parseListValues",value:function(e){var n=this,o=e.map(function(a){return a.trim()}).map(function(a){return n.parser.parseValue(a)}),l=[];return o.forEach(function(a){a!==void 0&&l.push(a)}),l}}]),m}(),lh=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"parseValue",value:function(e){if(typeof e=="string")return e}}]),m}(),lh.shared=new lh,$l=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"parseValue",value:function(e){return String(e)}}]),m}(),$l.shared=new $l}}),s7,uh,l7,u7,c7,d7,h7,f7,ch,p7,vg,gg,mg,v7,Wn,yg,g7,bg,m7=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-80/esnext/BookReader/BookReader.js":function(){s7=Object.create,uh=Object.defineProperty,l7=Object.getOwnPropertyDescriptor,u7=Object.getOwnPropertyNames,c7=Object.getPrototypeOf,d7=Object.prototype.hasOwnProperty,h7=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},f7=function(t,e){for(var n in e)uh(t,n,{get:e[n],enumerable:!0})},ch=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!d7.call(t,v)&&v!==n&&uh(t,v,{get:function(){return e[v]},enumerable:!(o=l7(e,v))||o.enumerable})},c=u7(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},p7=function(t,e,n){return ch(t,e,"default"),n&&ch(n,e,"default")},vg=function(t,e,n){return n=t!=null?s7(c7(t)):{},ch(e||!t||!t.__esModule?uh(n,"default",{value:t,enumerable:!0}):n,t)},gg=h7(function(){(function(){var t,e={9860:function(a,s,r){"use strict";var c=function(u,p){return function(g){if(Array.isArray(g))return g}(u)||function(g,k){var x=g==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&g[Symbol.iterator]||g["@@iterator"];if(x!=null){var j,L,D,F,X=[],Q=!0,H=!1;try{if(D=(x=x.call(g)).next,k===0){if(Object(x)!==x)return;Q=!1}else for(;!(Q=(j=D.call(x)).done)&&(X.push(j.value),X.length!==k);Q=!0);}catch(ce){H=!0,L=ce}finally{try{if(!Q&&x.return!=null&&(F=x.return(),Object(F)!==F))return}finally{if(H)throw L}}return X}}(u,p)||d(u,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},d=function(u,p){if(u){if(typeof u=="string")return h(u,p);var g=Object.prototype.toString.call(u).slice(8,-1);return g==="Object"&&u.constructor&&(g=u.constructor.name),g==="Map"||g==="Set"?Array.from(u):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?h(u,p):void 0}},h=function(u,p){(p==null||p>u.length)&&(p=u.length);for(var g=0,k=new Array(p);g<p;g++)k[g]=u[g];return k},f=function(u,p,g,k,x,j,L){try{var D=u[j](L),F=D.value}catch(X){return void g(X)}D.done?p(F):Promise.resolve(F).then(k,x)},v=function(u,p){for(var g=0;g<p.length;g++){var k=p[g];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(u,(x=function(j,L){if(E(j)!=="object"||j===null)return j;var D=j[Symbol.toPrimitive];if(D!==void 0){var F=D.call(j,"string");if(E(F)!=="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(k.key),E(x)==="symbol"?x:String(x)),k)}var x},_=function(u,p){var g=document.createElement("div");return g.style.width="".concat(u.width,"px"),g.style.height="".concat(u.height,"px"),g.setAttribute("class","BRPageLayer ".concat(p)),g},b=function(u){var p=u.l,g=u.r,k=u.b,x=u.t,j=document.createElementNS("http://www.w3.org/2000/svg","rect");return j.setAttribute("x",p.toString()),j.setAttribute("y",x.toString()),j.setAttribute("width",(g-p).toString()),j.setAttribute("height",(k-x).toString()),j.setAttribute("rx","4"),j.setAttribute("ry","4"),j},w=function(u,p,g,k){var x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,j=k.querySelector(".".concat(u)),L=j||function(ne,V){var Y=document.createElementNS("http://www.w3.org/2000/svg","svg");return Y.setAttribute("xmlns","http://www.w3.org/2000/svg"),Y.setAttribute("viewBox","0 0 ".concat(ne.width," ").concat(ne.height)),Y.setAttribute("class","BRPageLayer ".concat(V)),Y.setAttribute("preserveAspectRatio","none"),Y}(g,u);if(!j){var D=k.querySelector(".BRpageimage");D?A(L).insertAfter(D):A(L).prependTo(k)}var F,X=function(ne,V){var Y=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ne[Symbol.iterator]||ne["@@iterator"];if(!Y){if(Array.isArray(ne)||(Y=d(ne))){Y&&(ne=Y);var oe=0,q=function(){};return{s:q,n:function(){return oe>=ne.length?{done:!0}:{done:!1,value:ne[oe++]}},e:function(Oe){throw Oe},f:q}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var G,J=!0,ae=!1;return{s:function(){Y=Y.call(ne)},n:function(){var Oe=Y.next();return J=Oe.done,Oe},e:function(Oe){ae=!0,G=Oe},f:function(){try{J||Y.return==null||Y.return()}finally{if(ae)throw G}}}}(p.entries());try{for(X.s();!(F=X.n()).done;){var Q=c(F.value,2),H=Q[0],ce=b(Q[1]);x&&ce.setAttribute("class",x[H]),L.appendChild(ce)}}catch(ne){X.e(ne)}finally{X.f()}};r.d(s,{RS:function(){return _},Tm:function(){return w},_z:function(){return P}}),r(278),r(228),r(6203),r(4338),r(2826),r(752),r(6265),r(9373),r(9903),r(9749),r(6544),r(9288),r(3964),r(4254),r(1694),r(8373),r(6793),r(7629),r(7509),r(8052),r(7522),r(4284),r(3374),r(9730),r(7049),r(4043);var A=r(5311);function E(y){return E=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(p){return typeof p=="undefined"?"undefined":_typeof(p)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u=="undefined"?"undefined":_typeof(u)},E(y)}function O(){O=function(){return u};var y,u={},p=Object.prototype,g=p.hasOwnProperty,k=Object.defineProperty||function(Le,_e,Ne){Le[_e]=Ne.value},x=typeof Symbol=="function"?Symbol:{},j=x.iterator||"@@iterator",L=x.asyncIterator||"@@asyncIterator",D=x.toStringTag||"@@toStringTag";function F(Le,_e,Ne){return Object.defineProperty(Le,_e,{value:Ne,enumerable:!0,configurable:!0,writable:!0}),Le[_e]}try{F({},"")}catch(Le){F=function(Ne,Ze,Ke){return Ne[Ze]=Ke}}function X(Le,_e,Ne,Ze){var Ke=_e&&_instanceof(_e.prototype,oe)?_e:oe,Pe=Object.create(Ke.prototype),at=new bt(Ze||[]);return k(Pe,"_invoke",{value:tt(Le,Ne,at)}),Pe}function Q(Le,_e,Ne){try{return{type:"normal",arg:Le.call(_e,Ne)}}catch(Ze){return{type:"throw",arg:Ze}}}u.wrap=X;var H="suspendedStart",ce="suspendedYield",ne="executing",V="completed",Y={};function oe(){}function q(){}function G(){}var J={};F(J,j,function(){return this});var ae=Object.getPrototypeOf,ie=ae&&ae(ae(vt([])));ie&&ie!==p&&g.call(ie,j)&&(J=ie);var Oe=G.prototype=oe.prototype=Object.create(J);function De(Le){["next","throw","return"].forEach(function(_e){F(Le,_e,function(Ne){return this._invoke(_e,Ne)})})}function ke(Le,_e){function Ne(Ke,Pe,at,pt){var lt=Q(Le[Ke],Le,Pe);if(lt.type!=="throw"){var ct=lt.arg,Ge=ct.value;return Ge&&E(Ge)=="object"&&g.call(Ge,"__await")?_e.resolve(Ge.__await).then(function(ze){Ne("next",ze,at,pt)},function(ze){Ne("throw",ze,at,pt)}):_e.resolve(Ge).then(function(ze){ct.value=ze,at(ct)},function(ze){return Ne("throw",ze,at,pt)})}pt(lt.arg)}var Ze;k(this,"_invoke",{value:function(Pe,at){function pt(){return new _e(function(lt,ct){Ne(Pe,at,lt,ct)})}return Ze=Ze?Ze.then(pt,pt):pt()}})}function tt(Le,_e,Ne){var Ze=H;return function(Ke,Pe){if(Ze===ne)throw new Error("Generator is already running");if(Ze===V){if(Ke==="throw")throw Pe;return{value:y,done:!0}}for(Ne.method=Ke,Ne.arg=Pe;;){var at=Ne.delegate;if(at){var pt=Ve(at,Ne);if(pt){if(pt===Y)continue;return pt}}if(Ne.method==="next")Ne.sent=Ne._sent=Ne.arg;else if(Ne.method==="throw"){if(Ze===H)throw Ze=V,Ne.arg;Ne.dispatchException(Ne.arg)}else Ne.method==="return"&&Ne.abrupt("return",Ne.arg);Ze=ne;var lt=Q(Le,_e,Ne);if(lt.type==="normal"){if(Ze=Ne.done?V:ce,lt.arg===Y)continue;return{value:lt.arg,done:Ne.done}}lt.type==="throw"&&(Ze=V,Ne.method="throw",Ne.arg=lt.arg)}}}function Ve(Le,_e){var Ne=_e.method,Ze=Le.iterator[Ne];if(Ze===y)return _e.delegate=null,Ne==="throw"&&Le.iterator.return&&(_e.method="return",_e.arg=y,Ve(Le,_e),_e.method==="throw")||Ne!=="return"&&(_e.method="throw",_e.arg=new TypeError("The iterator does not provide a '"+Ne+"' method")),Y;var Ke=Q(Ze,Le.iterator,_e.arg);if(Ke.type==="throw")return _e.method="throw",_e.arg=Ke.arg,_e.delegate=null,Y;var Pe=Ke.arg;return Pe?Pe.done?(_e[Le.resultName]=Pe.value,_e.next=Le.nextLoc,_e.method!=="return"&&(_e.method="next",_e.arg=y),_e.delegate=null,Y):Pe:(_e.method="throw",_e.arg=new TypeError("iterator result is not an object"),_e.delegate=null,Y)}function Qe(Le){var _e={tryLoc:Le[0]};1 in Le&&(_e.catchLoc=Le[1]),2 in Le&&(_e.finallyLoc=Le[2],_e.afterLoc=Le[3]),this.tryEntries.push(_e)}function ht(Le){var _e=Le.completion||{};_e.type="normal",delete _e.arg,Le.completion=_e}function bt(Le){this.tryEntries=[{tryLoc:"root"}],Le.forEach(Qe,this),this.reset(!0)}function vt(Le){if(Le||Le===""){var _e=Le[j];if(_e)return _e.call(Le);if(typeof Le.next=="function")return Le;if(!isNaN(Le.length)){var Ne=-1,Ze=function Ke(){for(;++Ne<Le.length;)if(g.call(Le,Ne))return Ke.value=Le[Ne],Ke.done=!1,Ke;return Ke.value=y,Ke.done=!0,Ke};return Ze.next=Ze}}throw new TypeError(E(Le)+" is not iterable")}return q.prototype=G,k(Oe,"constructor",{value:G,configurable:!0}),k(G,"constructor",{value:q,configurable:!0}),q.displayName=F(G,D,"GeneratorFunction"),u.isGeneratorFunction=function(Le){var _e=typeof Le=="function"&&Le.constructor;return!!_e&&(_e===q||(_e.displayName||_e.name)==="GeneratorFunction")},u.mark=function(Le){return Object.setPrototypeOf?Object.setPrototypeOf(Le,G):(Le.__proto__=G,F(Le,D,"GeneratorFunction")),Le.prototype=Object.create(Oe),Le},u.awrap=function(Le){return{__await:Le}},De(ke.prototype),F(ke.prototype,L,function(){return this}),u.AsyncIterator=ke,u.async=function(Le,_e,Ne,Ze,Ke){Ke===void 0&&(Ke=Promise);var Pe=new ke(X(Le,_e,Ne,Ze),Ke);return u.isGeneratorFunction(_e)?Pe:Pe.next().then(function(at){return at.done?at.value:Pe.next()})},De(Oe),F(Oe,D,"Generator"),F(Oe,j,function(){return this}),F(Oe,"toString",function(){return"[object Generator]"}),u.keys=function(Le){var _e=Object(Le),Ne=[];for(var Ze in _e)Ne.push(Ze);return Ne.reverse(),function Ke(){for(;Ne.length;){var Pe=Ne.pop();if(Pe in _e)return Ke.value=Pe,Ke.done=!1,Ke}return Ke.done=!0,Ke}},u.values=vt,bt.prototype={constructor:bt,reset:function(_e){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(ht),!_e)for(var Ne in this)Ne.charAt(0)==="t"&&g.call(this,Ne)&&!isNaN(+Ne.slice(1))&&(this[Ne]=y)},stop:function(){this.done=!0;var _e=this.tryEntries[0].completion;if(_e.type==="throw")throw _e.arg;return this.rval},dispatchException:function(_e){if(this.done)throw _e;var Ne=this;function Ze(ct,Ge){return at.type="throw",at.arg=_e,Ne.next=ct,Ge&&(Ne.method="next",Ne.arg=y),!!Ge}for(var Ke=this.tryEntries.length-1;Ke>=0;--Ke){var Pe=this.tryEntries[Ke],at=Pe.completion;if(Pe.tryLoc==="root")return Ze("end");if(Pe.tryLoc<=this.prev){var pt=g.call(Pe,"catchLoc"),lt=g.call(Pe,"finallyLoc");if(pt&&lt){if(this.prev<Pe.catchLoc)return Ze(Pe.catchLoc,!0);if(this.prev<Pe.finallyLoc)return Ze(Pe.finallyLoc)}else if(pt){if(this.prev<Pe.catchLoc)return Ze(Pe.catchLoc,!0)}else{if(!lt)throw new Error("try statement without catch or finally");if(this.prev<Pe.finallyLoc)return Ze(Pe.finallyLoc)}}}},abrupt:function(_e,Ne){for(var Ze=this.tryEntries.length-1;Ze>=0;--Ze){var Ke=this.tryEntries[Ze];if(Ke.tryLoc<=this.prev&&g.call(Ke,"finallyLoc")&&this.prev<Ke.finallyLoc){var Pe=Ke;break}}Pe&&(_e==="break"||_e==="continue")&&Pe.tryLoc<=Ne&&Ne<=Pe.finallyLoc&&(Pe=null);var at=Pe?Pe.completion:{};return at.type=_e,at.arg=Ne,Pe?(this.method="next",this.next=Pe.finallyLoc,Y):this.complete(at)},complete:function(_e,Ne){if(_e.type==="throw")throw _e.arg;return _e.type==="break"||_e.type==="continue"?this.next=_e.arg:_e.type==="return"?(this.rval=this.arg=_e.arg,this.method="return",this.next="end"):_e.type==="normal"&&Ne&&(this.next=Ne),Y},finish:function(_e){for(var Ne=this.tryEntries.length-1;Ne>=0;--Ne){var Ze=this.tryEntries[Ne];if(Ze.finallyLoc===_e)return this.complete(Ze.completion,Ze.afterLoc),ht(Ze),Y}},catch:function(_e){for(var Ne=this.tryEntries.length-1;Ne>=0;--Ne){var Ze=this.tryEntries[Ne];if(Ze.tryLoc===_e){var Ke=Ze.completion;if(Ke.type==="throw"){var Pe=Ke.arg;ht(Ze)}return Pe}}throw new Error("illegal catch attempt")},delegateYield:function(_e,Ne,Ze){return this.delegate={iterator:vt(_e),resultName:Ne,nextLoc:Ze},this.method==="next"&&(this.arg=y),Y}},u}var P=function(){function y(g,k){var x=k.isProtected,j=k.imageCache,L=k.loadingImage;(function(D,F){if(!_instanceof(D,F))throw new TypeError("Cannot call a class as a function")})(this,y),this.page=g,this.imageCache=j,this.loadingImage=L,this.$container=A("<div />",{class:"BRpagecontainer ".concat(g?"pagediv".concat(g.index):"BRemptypage"),css:{position:"absolute"}}).attr("data-side",g==null?void 0:g.pageSide),x&&(this.$container.append(A('<div class="BRscreen" />')),this.$container.addClass("protected")),this.$img=null}var u,p;return u=y,p=[{key:"update",value:function(k){var x,j,L=k.dimensions,D=L===void 0?null:L,F=k.reduce,X=F===void 0?null:F;if(D&&this.$container.css(D),X!=null&&this.page){var Q=this.imageCache.imageLoaded(this.page.index,X),H=!Q&&this.imageCache.getBestLoadedReduce(this.page.index,X),ce=this.imageCache.image(this.page.index,X);if(((x=this.$img)===null||x===void 0?void 0:x[0].src)==ce[0].src)return this;(j=this.$img)===null||j===void 0||j.remove(),this.$img=ce.prependTo(this.$container);var ne=[];return Q||(this.$container.addClass("BRpageloading"),ne.push('url("'.concat(this.loadingImage,'") center/20px no-repeat'))),H&&ne.push('url("'.concat(this.page.getURI(H,0),'") center/100% 100% no-repeat')),Q||this.$img.css("background",ne.join(",")).one("loadend",function(){var V,Y=(V=O().mark(function oe(q){return O().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:A(q.target).css({background:""}),A(q.target).parent().removeClass("BRpageloading");case 2:case"end":return G.stop()}},oe)}),function(){var q=this,G=arguments;return new Promise(function(J,ae){var ie=V.apply(q,G);function Oe(ke){f(ie,J,ae,Oe,De,"next",ke)}function De(ke){f(ie,J,ae,Oe,De,"throw",ke)}Oe(void 0)})});return function(oe){return Y.apply(this,arguments)}}()),this}}}],p&&v(u.prototype,p),Object.defineProperty(u,"prototype",{writable:!1}),y}()},5685:function(a,s,r){"use strict";var c=function(G,J,ae,ie,Oe,De,ke){try{var tt=G[De](ke),Ve=tt.value}catch(Qe){return void ae(Qe)}tt.done?J(Ve):Promise.resolve(Ve).then(ie,Oe)},d=function(G){return function(){var J=this,ae=arguments;return new Promise(function(ie,Oe){var De=G.apply(J,ae);function ke(Ve){c(De,ie,Oe,ke,tt,"next",Ve)}function tt(Ve){c(De,ie,Oe,ke,tt,"throw",Ve)}ke(void 0)})}},h=function(G,J){(J==null||J>G.length)&&(J=G.length);for(var ae=0,ie=new Array(J);ae<J;ae++)ie[ae]=G[ae];return ie},f=function(G){G.bind("mousedown",function(){return!1}),G[0].onselectstart=function(){return!1}},v=function(G,J,ae){return Math.min(Math.max(G,J),ae)},_=function(G,J){return G/J*100+"%"},b=function(G,J){return!J.includes(G)},w=function(){var G=V(arguments.length>0&&arguments[0]!==void 0?arguments[0]:document);return(G==null?void 0:G.tagName)=="INPUT"||(G==null?void 0:G.tagName)=="TEXTAREA"},A=function(G){var J=G.contentWindow||G.contentDocument;return J.document||J},E=function(G){return G.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},O=function(G){return decodeURIComponent(G).replace(/\+/g," ")},P=function(G){return encodeURIComponent(G).replace(/%20/g,"+")},y=function(G,J,ae){var ie;return function(){var Oe=this,De=arguments,ke=ae&&!ie;clearTimeout(ie),ie=setTimeout(function(){ie=null,ae||G.apply(Oe,De)},J),ke&&G.apply(Oe,De)}},u=function(G,J,ae){var ie,Oe;return J||(J=250),ae&&(ie=+new Date),function(){var De=this,ke=+new Date,tt=arguments;ie&&ke<ie+J?(clearTimeout(Oe),Oe=setTimeout(function(){ie=ke,G.apply(De,tt)},J)):(ie=ke,G.apply(De,tt))}},p=function(G){if(typeof G.CustomEvent=="function")return!1;G.CustomEvent=g},g=function(G){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=J.bubbles,ie=ae!==void 0&&ae,Oe=J.cancelable,De=Oe!==void 0&&Oe,ke=J.detail,tt=ke===void 0?null:ke,Ve=document.createEvent("CustomEvent");return Ve.initCustomEvent(G,ie,De,tt),Ve},k=function(){var G=document.createElement("div");G.style.width="1in",document.body.appendChild(G);var J=G.offsetWidth;document.body.removeChild(G);var ae=1.25*J;return ae==0?100:ae},x=function(G){return G.reduce(function(J,ae){return J+ae},0)},j=function(G){var J,ae=[],ie=function(De,ke){var tt=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&De[Symbol.iterator]||De["@@iterator"];if(!tt){if(Array.isArray(De)||(tt=function(Le,_e){if(Le){if(typeof Le=="string")return h(Le,_e);var Ne=Object.prototype.toString.call(Le).slice(8,-1);return Ne==="Object"&&Le.constructor&&(Ne=Le.constructor.name),Ne==="Map"||Ne==="Set"?Array.from(Le):Ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne)?h(Le,_e):void 0}}(De))||ke&&De&&typeof De.length=="number"){tt&&(De=tt);var Ve=0,Qe=function(){};return{s:Qe,n:function(){return Ve>=De.length?{done:!0}:{done:!1,value:De[Ve++]}},e:function(_e){throw _e},f:Qe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ht,bt=!0,vt=!1;return{s:function(){tt=tt.call(De)},n:function(){var _e=tt.next();return bt=_e.done,_e},e:function(_e){vt=!0,ht=_e},f:function(){try{bt||tt.return==null||tt.return()}finally{if(vt)throw ht}}}}(G);try{for(ie.s();!(J=ie.n()).done;){var Oe=J.value;ae.push(Oe)}}catch(De){ie.e(De)}finally{ie.f()}return ae},L=function(G,J){return G.length==J.length&&G.every(function(ae,ie){return ae==J[ie]})},D=function(G,J){return G&&J&&!L(G,J)},F=function(G){return Y.apply(this,arguments)},X=function(G){return oe.apply(this,arguments)},Q=function(G,J){return new Promise(function(ae){G.addEventListener(J,function ie(Oe){G.removeEventListener(J,ie),ae(Oe)})})},H=function(G){return G.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};function ce(q){return ce=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(J){return typeof J=="undefined"?"undefined":_typeof(J)}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G=="undefined"?"undefined":_typeof(G)},ce(q)}function ne(){ne=function(){return G};var q,G={},J=Object.prototype,ae=J.hasOwnProperty,ie=Object.defineProperty||function(ut,we,N){ut[we]=N.value},Oe=typeof Symbol=="function"?Symbol:{},De=Oe.iterator||"@@iterator",ke=Oe.asyncIterator||"@@asyncIterator",tt=Oe.toStringTag||"@@toStringTag";function Ve(ut,we,N){return Object.defineProperty(ut,we,{value:N,enumerable:!0,configurable:!0,writable:!0}),ut[we]}try{Ve({},"")}catch(ut){Ve=function(N,qe,Ie){return N[qe]=Ie}}function Qe(ut,we,N,qe){var Ie=we&&_instanceof(we.prototype,Ze)?we:Ze,nt=Object.create(Ie.prototype),R=new _t(qe||[]);return ie(nt,"_invoke",{value:He(ut,N,R)}),nt}function ht(ut,we,N){try{return{type:"normal",arg:ut.call(we,N)}}catch(qe){return{type:"throw",arg:qe}}}G.wrap=Qe;var bt="suspendedStart",vt="suspendedYield",Le="executing",_e="completed",Ne={};function Ze(){}function Ke(){}function Pe(){}var at={};Ve(at,De,function(){return this});var pt=Object.getPrototypeOf,lt=pt&&pt(pt(xt([])));lt&&lt!==J&&ae.call(lt,De)&&(at=lt);var ct=Pe.prototype=Ze.prototype=Object.create(at);function Ge(ut){["next","throw","return"].forEach(function(we){Ve(ut,we,function(N){return this._invoke(we,N)})})}function ze(ut,we){function N(Ie,nt,R,le){var ue=ht(ut[Ie],ut,nt);if(ue.type!=="throw"){var ve=ue.arg,de=ve.value;return de&&ce(de)=="object"&&ae.call(de,"__await")?we.resolve(de.__await).then(function(K){N("next",K,R,le)},function(K){N("throw",K,R,le)}):we.resolve(de).then(function(K){ve.value=K,R(ve)},function(K){return N("throw",K,R,le)})}le(ue.arg)}var qe;ie(this,"_invoke",{value:function(nt,R){function le(){return new we(function(ue,ve){N(nt,R,ue,ve)})}return qe=qe?qe.then(le,le):le()}})}function He(ut,we,N){var qe=bt;return function(Ie,nt){if(qe===Le)throw new Error("Generator is already running");if(qe===_e){if(Ie==="throw")throw nt;return{value:q,done:!0}}for(N.method=Ie,N.arg=nt;;){var R=N.delegate;if(R){var le=rt(R,N);if(le){if(le===Ne)continue;return le}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(qe===bt)throw qe=_e,N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);qe=Le;var ue=ht(ut,we,N);if(ue.type==="normal"){if(qe=N.done?_e:vt,ue.arg===Ne)continue;return{value:ue.arg,done:N.done}}ue.type==="throw"&&(qe=_e,N.method="throw",N.arg=ue.arg)}}}function rt(ut,we){var N=we.method,qe=ut.iterator[N];if(qe===q)return we.delegate=null,N==="throw"&&ut.iterator.return&&(we.method="return",we.arg=q,rt(ut,we),we.method==="throw")||N!=="return"&&(we.method="throw",we.arg=new TypeError("The iterator does not provide a '"+N+"' method")),Ne;var Ie=ht(qe,ut.iterator,we.arg);if(Ie.type==="throw")return we.method="throw",we.arg=Ie.arg,we.delegate=null,Ne;var nt=Ie.arg;return nt?nt.done?(we[ut.resultName]=nt.value,we.next=ut.nextLoc,we.method!=="return"&&(we.method="next",we.arg=q),we.delegate=null,Ne):nt:(we.method="throw",we.arg=new TypeError("iterator result is not an object"),we.delegate=null,Ne)}function it(ut){var we={tryLoc:ut[0]};1 in ut&&(we.catchLoc=ut[1]),2 in ut&&(we.finallyLoc=ut[2],we.afterLoc=ut[3]),this.tryEntries.push(we)}function wt(ut){var we=ut.completion||{};we.type="normal",delete we.arg,ut.completion=we}function _t(ut){this.tryEntries=[{tryLoc:"root"}],ut.forEach(it,this),this.reset(!0)}function xt(ut){if(ut||ut===""){var we=ut[De];if(we)return we.call(ut);if(typeof ut.next=="function")return ut;if(!isNaN(ut.length)){var N=-1,qe=function Ie(){for(;++N<ut.length;)if(ae.call(ut,N))return Ie.value=ut[N],Ie.done=!1,Ie;return Ie.value=q,Ie.done=!0,Ie};return qe.next=qe}}throw new TypeError(ce(ut)+" is not iterable")}return Ke.prototype=Pe,ie(ct,"constructor",{value:Pe,configurable:!0}),ie(Pe,"constructor",{value:Ke,configurable:!0}),Ke.displayName=Ve(Pe,tt,"GeneratorFunction"),G.isGeneratorFunction=function(ut){var we=typeof ut=="function"&&ut.constructor;return!!we&&(we===Ke||(we.displayName||we.name)==="GeneratorFunction")},G.mark=function(ut){return Object.setPrototypeOf?Object.setPrototypeOf(ut,Pe):(ut.__proto__=Pe,Ve(ut,tt,"GeneratorFunction")),ut.prototype=Object.create(ct),ut},G.awrap=function(ut){return{__await:ut}},Ge(ze.prototype),Ve(ze.prototype,ke,function(){return this}),G.AsyncIterator=ze,G.async=function(ut,we,N,qe,Ie){Ie===void 0&&(Ie=Promise);var nt=new ze(Qe(ut,we,N,qe),Ie);return G.isGeneratorFunction(we)?nt:nt.next().then(function(R){return R.done?R.value:nt.next()})},Ge(ct),Ve(ct,tt,"Generator"),Ve(ct,De,function(){return this}),Ve(ct,"toString",function(){return"[object Generator]"}),G.keys=function(ut){var we=Object(ut),N=[];for(var qe in we)N.push(qe);return N.reverse(),function Ie(){for(;N.length;){var nt=N.pop();if(nt in we)return Ie.value=nt,Ie.done=!1,Ie}return Ie.done=!0,Ie}},G.values=xt,_t.prototype={constructor:_t,reset:function(we){if(this.prev=0,this.next=0,this.sent=this._sent=q,this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(wt),!we)for(var N in this)N.charAt(0)==="t"&&ae.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=q)},stop:function(){this.done=!0;var we=this.tryEntries[0].completion;if(we.type==="throw")throw we.arg;return this.rval},dispatchException:function(we){if(this.done)throw we;var N=this;function qe(ve,de){return R.type="throw",R.arg=we,N.next=ve,de&&(N.method="next",N.arg=q),!!de}for(var Ie=this.tryEntries.length-1;Ie>=0;--Ie){var nt=this.tryEntries[Ie],R=nt.completion;if(nt.tryLoc==="root")return qe("end");if(nt.tryLoc<=this.prev){var le=ae.call(nt,"catchLoc"),ue=ae.call(nt,"finallyLoc");if(le&&ue){if(this.prev<nt.catchLoc)return qe(nt.catchLoc,!0);if(this.prev<nt.finallyLoc)return qe(nt.finallyLoc)}else if(le){if(this.prev<nt.catchLoc)return qe(nt.catchLoc,!0)}else{if(!ue)throw new Error("try statement without catch or finally");if(this.prev<nt.finallyLoc)return qe(nt.finallyLoc)}}}},abrupt:function(we,N){for(var qe=this.tryEntries.length-1;qe>=0;--qe){var Ie=this.tryEntries[qe];if(Ie.tryLoc<=this.prev&&ae.call(Ie,"finallyLoc")&&this.prev<Ie.finallyLoc){var nt=Ie;break}}nt&&(we==="break"||we==="continue")&&nt.tryLoc<=N&&N<=nt.finallyLoc&&(nt=null);var R=nt?nt.completion:{};return R.type=we,R.arg=N,nt?(this.method="next",this.next=nt.finallyLoc,Ne):this.complete(R)},complete:function(we,N){if(we.type==="throw")throw we.arg;return we.type==="break"||we.type==="continue"?this.next=we.arg:we.type==="return"?(this.rval=this.arg=we.arg,this.method="return",this.next="end"):we.type==="normal"&&N&&(this.next=N),Ne},finish:function(we){for(var N=this.tryEntries.length-1;N>=0;--N){var qe=this.tryEntries[N];if(qe.finallyLoc===we)return this.complete(qe.completion,qe.afterLoc),wt(qe),Ne}},catch:function(we){for(var N=this.tryEntries.length-1;N>=0;--N){var qe=this.tryEntries[N];if(qe.tryLoc===we){var Ie=qe.completion;if(Ie.type==="throw"){var nt=Ie.arg;wt(qe)}return nt}}throw new Error("illegal catch attempt")},delegateYield:function(we,N,qe){return this.delegate={iterator:xt(we),resultName:N,nextLoc:qe},this.method==="next"&&(this.arg=q),Ne}},G}function V(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,G=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],J=q.activeElement;return G&&J!=null&&J.shadowRoot?V(J.shadowRoot,!0):J}function Y(){return(Y=d(ne().mark(function q(G){return ne().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.abrupt("return",new Promise(function(ae){return setTimeout(ae,G)}));case 1:case"end":return J.stop()}},q)}))).apply(this,arguments)}function oe(){return oe=d(ne().mark(function q(G){var J,ae,ie,Oe,De,ke,tt,Ve,Qe,ht,bt,vt=arguments;return ne().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:ae=(J=vt.length>1&&vt[1]!==void 0?vt[1]:{}).step,ie=ae===void 0?50:ae,Oe=J.timeout,De=Oe===void 0?500:Oe,ke=J.until,tt=ke===void 0?function(Ne){return!!Ne}:ke,Ve=J._sleep,Qe=Ve===void 0?F:Ve,ht=Date.now();case 2:if(!(Date.now()-ht<De)){Le.next=10;break}if(bt=G(),!tt(bt)){Le.next=6;break}return Le.abrupt("return",bt);case 6:return Le.next=8,Qe(ie);case 8:Le.next=2;break;case 10:case"end":return Le.stop()}},q)})),oe.apply(this,arguments)}r.r(s),r.d(s,{PolyfilledCustomEvent:function(){return g},arrChanged:function(){return D},arrEquals:function(){return L},calcScreenDPI:function(){return k},clamp:function(){return v},cssPercentage:function(){return _},debounce:function(){return y},decodeURIComponentPlus:function(){return O},disableSelect:function(){return f},encodeURIComponentPlus:function(){return P},escapeHTML:function(){return E},escapeRegExp:function(){return H},genToArray:function(){return j},getActiveElement:function(){return V},getIFrameDocument:function(){return A},isInputActive:function(){return w},notInArray:function(){return b},poll:function(){return X},polyfillCustomEvent:function(){return p},promisifyEvent:function(){return Q},sleep:function(){return F},sum:function(){return x},throttle:function(){return u}}),r(6801),r(3843),r(4043),r(7267),r(278),r(228),r(3964),r(9730),r(2826),r(4284),r(7049),r(1694),r(9749),r(6544),r(4254),r(752),r(6265),r(8373),r(6793),r(7629),r(7509),r(8052),r(7522),r(3374)},7775:function(a,s,r){"use strict";var c=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:navigator.vendor;return/chrome/i.test(_)&&/google inc/i.test(b)},d=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/firefox/i.test(_)},h=function(){return"ongesturestart"in window&&navigator.maxTouchPoints>0},f=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/SamsungBrowser/i.test(_)};r.d(s,{Tv:function(){return f},gn:function(){return h},i7:function(){return c},vU:function(){return d}}),r(4043)},8496:function(a){a.exports=function(){var s=function(B){zt.realWindow=mn=B;var W=B.document.createTextNode("");W.ownerDocument!==B.document&&typeof B.wrap=="function"&&B.wrap(W)===W&&(B=B.wrap(B)),zt.window=bn=B},r=function(B){var W=B.interaction;if(W.prepared.name==="drag"){var ee=W.prepared.axis;ee==="x"?(W.coords.cur.page.y=W.coords.start.page.y,W.coords.cur.client.y=W.coords.start.client.y,W.coords.velocity.client.y=0,W.coords.velocity.page.y=0):ee==="y"&&(W.coords.cur.page.x=W.coords.start.page.x,W.coords.cur.client.x=W.coords.start.client.x,W.coords.velocity.client.x=0,W.coords.velocity.page.x=0)}},c=function(B){var W=B.iEvent,ee=B.interaction;if(ee.prepared.name==="drag"){var te=ee.prepared.axis;if(te==="x"||te==="y"){var me=te==="x"?"y":"x";W.page[me]=ee.coords.start.page[me],W.client[me]=ee.coords.start.client[me],W.delta[me]=0}}},d=function(){},h=function(B){var W=B.parentNode;if(qt.default.docFrag(W)){for(;(W=W.host)&&qt.default.docFrag(W););return W}return W},f=function(B,W){return zt.window!==zt.realWindow&&(W=W.replace(/\/deep\//g," ")),B[bi.default.prefixedMatchesSelector](W)},v=function(B,W){for(var ee,te=[],me=B;(ee=et(me))&&me!==W&&ee!==me.ownerDocument;)te.unshift(me),me=ee;return te},_=function(B){return{x:(B=B||zt.window).scrollX||B.document.documentElement.scrollLeft,y:B.scrollY||B.document.documentElement.scrollTop}},b=function(B){var W=_instanceof(B,Zr.default.SVGElement)?B.getBoundingClientRect():B.getClientRects()[0];return W&&{left:W.left,right:W.right,top:W.top,bottom:W.bottom,width:W.width||W.right-W.left,height:W.height||W.bottom-W.top}},w=function(B,W){(W==null||W>B.length)&&(W=B.length);for(var ee=0,te=Array(W);ee<W;ee++)te[ee]=B[ee];return te},A=function(B,W,ee){return B==="parent"?(0,gt.parentNode)(ee):B==="self"?W.getRect(ee):(0,gt.closest)(ee,B)},E=function(B){return B.trim().split(/ +/)},O=function(B){return _instanceof(B,Zr.default.Event)||_instanceof(B,Zr.default.Touch)},P=function(B,W,ee){return B=B||"page",(ee=ee||{}).x=W[B+"X"],ee.y=W[B+"Y"],ee},y=function(B,W){return W=W||{x:0,y:0},bi.default.isOperaMobile&&O(B)?(P("screen",B,W),W.x+=window.scrollX,W.y+=window.scrollY):P("page",B,W),W},u=function(B,W){return W=W||{},bi.default.isOperaMobile&&O(B)?P("screen",B,W):P("client",B,W),W},p=function(B){var W=[];return qt.default.array(B)?(W[0]=B[0],W[1]=B[1]):B.type==="touchend"?B.touches.length===1?(W[0]=B.touches[0],W[1]=B.changedTouches[0]):B.touches.length===0&&(W[0]=B.changedTouches[0],W[1]=B.changedTouches[1]):(W[0]=B.touches[0],W[1]=B.touches[1]),W},g=function(B){for(var W={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},ee=0;ee<B.length;ee++){var te=B[ee];for(var me in W)W[me]+=te[me]}for(var je in W)W[je]/=B.length;return W},k=function(B,W,ee){return W in B?Object.defineProperty(B,W,{value:ee,enumerable:!0,configurable:!0,writable:!0}):B[W]=ee,B},x=function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B},j=function(B,W,ee){return W in B?Object.defineProperty(B,W,{value:ee,enumerable:!0,configurable:!0,writable:!0}):B[W]=ee,B},L=function(B,W){for(var ee=0;ee<B.slice().length;ee++){var te=B.slice()[ee],me=te.dropzone,je=te.element;W.dropzone=me,W.target=je,me.fire(W),W.propagationStopped=W.immediatePropagationStopped=!1}},D=function(B,W){for(var ee=function(je,Ue){for(var Fe=je.interactables,st=[],mt=0;mt<Fe.list.length;mt++){var $t=Fe.list[mt];if($t.options.drop.enabled){var Ut=$t.options.drop.accept;if(!(qt.default.element(Ut)&&Ut!==Ue||qt.default.string(Ut)&&!gt.matchesSelector(Ue,Ut)||qt.default.func(Ut)&&!Ut({dropzone:$t,draggableElement:Ue})))for(var un=qt.default.string($t.target)?$t._context.querySelectorAll($t.target):qt.default.array($t.target)?$t.target:[$t.target],Gt=0;Gt<un.length;Gt++){var En=un[Gt];En!==Ue&&st.push({dropzone:$t,element:En,rect:$t.getRect(En)})}}}return st}(B,W),te=0;te<ee.length;te++){var me=ee[te];me.rect=me.dropzone.getRect(me.element)}return ee},F=function(B,W,ee){for(var te=B.dropState,me=B.interactable,je=B.element,Ue=[],Fe=0;Fe<te.activeDrops.length;Fe++){var st=te.activeDrops[Fe],mt=st.dropzone,$t=st.element,Ut=st.rect;Ue.push(mt.dropCheck(W,ee,me,je,$t,Ut)?$t:null)}var un=gt.indexOfDeepestElement(Ue);return te.activeDrops[un]||null},X=function(B,W,ee){var te=B.dropState,me={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return ee.type==="dragstart"&&(me.activate=new Vr.DropEvent(te,ee,"dropactivate"),me.activate.target=null,me.activate.dropzone=null),ee.type==="dragend"&&(me.deactivate=new Vr.DropEvent(te,ee,"dropdeactivate"),me.deactivate.target=null,me.deactivate.dropzone=null),te.rejected||(te.cur.element!==te.prev.element&&(te.prev.dropzone&&(me.leave=new Vr.DropEvent(te,ee,"dragleave"),ee.dragLeave=me.leave.target=te.prev.element,ee.prevDropzone=me.leave.dropzone=te.prev.dropzone),te.cur.dropzone&&(me.enter=new Vr.DropEvent(te,ee,"dragenter"),ee.dragEnter=te.cur.element,ee.dropzone=te.cur.dropzone)),ee.type==="dragend"&&te.cur.dropzone&&(me.drop=new Vr.DropEvent(te,ee,"drop"),ee.dropzone=te.cur.dropzone,ee.relatedTarget=te.cur.element),ee.type==="dragmove"&&te.cur.dropzone&&(me.move=new Vr.DropEvent(te,ee,"dropmove"),me.move.dragmove=ee,ee.dropzone=te.cur.dropzone)),me},Q=function(B,W){var ee=B.dropState,te=ee.activeDrops,me=ee.cur,je=ee.prev;W.leave&&je.dropzone.fire(W.leave),W.enter&&me.dropzone.fire(W.enter),W.move&&me.dropzone.fire(W.move),W.drop&&me.dropzone.fire(W.drop),W.deactivate&&L(te,W.deactivate),ee.prev.dropzone=me.dropzone,ee.prev.element=me.element},H=function(B,W){var ee=B.interaction,te=B.iEvent,me=B.event;if(te.type==="dragmove"||te.type==="dragend"){var je=ee.dropState;W.dynamicDrop&&(je.activeDrops=D(W,ee.element));var Ue=te,Fe=F(ee,Ue,me);je.rejected=je.rejected&&!!Fe&&Fe.dropzone===je.cur.dropzone&&Fe.element===je.cur.element,je.cur.dropzone=Fe&&Fe.dropzone,je.cur.element=Fe&&Fe.element,je.events=X(ee,0,Ue)}},ce=function(B){var W=B.interaction,ee=B.iEvent,te=B.phase;if(W.prepared.name==="gesture"){var me=W.pointers.map(function(mt){return mt.pointer}),je=te==="start",Ue=te==="end",Fe=W.interactable.options.deltaSource;if(ee.touches=[me[0],me[1]],je)ee.distance=An.touchDistance(me,Fe),ee.box=An.touchBBox(me),ee.scale=1,ee.ds=0,ee.angle=An.touchAngle(me,Fe),ee.da=0,W.gesture.startDistance=ee.distance,W.gesture.startAngle=ee.angle;else if(Ue){var st=W.prevEvent;ee.distance=st.distance,ee.box=st.box,ee.scale=st.scale,ee.ds=0,ee.angle=st.angle,ee.da=0}else ee.distance=An.touchDistance(me,Fe),ee.box=An.touchBBox(me),ee.scale=ee.distance/W.gesture.startDistance,ee.angle=An.touchAngle(me,Fe),ee.ds=ee.scale-W.gesture.scale,ee.da=ee.angle-W.gesture.angle;W.gesture.distance=ee.distance,W.gesture.angle=ee.angle,qt.default.number(ee.scale)&&ee.scale!==1/0&&!isNaN(ee.scale)&&(W.gesture.scale=ee.scale)}},ne=function(B,W,ee,te,me,je,Ue){if(!W)return!1;if(W===!0){var Fe=qt.default.number(je.width)?je.width:je.right-je.left,st=qt.default.number(je.height)?je.height:je.bottom-je.top;if(Ue=Math.min(Ue,Math.abs((B==="left"||B==="right"?Fe:st)/2)),Fe<0&&(B==="left"?B="right":B==="right"&&(B="left")),st<0&&(B==="top"?B="bottom":B==="bottom"&&(B="top")),B==="left"){var mt=Fe>=0?je.left:je.right;return ee.x<mt+Ue}if(B==="top"){var $t=st>=0?je.top:je.bottom;return ee.y<$t+Ue}if(B==="right")return ee.x>(Fe>=0?je.right:je.left)-Ue;if(B==="bottom")return ee.y>(st>=0?je.bottom:je.top)-Ue}return!!qt.default.element(te)&&(qt.default.element(W)?W===te:gt.matchesUpTo(te,W,me))},V=function(B){var W=B.iEvent,ee=B.interaction;if(ee.prepared.name==="resize"&&ee.resizeAxes){var te=W;ee.interactable.options.resize.square?(ee.resizeAxes==="y"?te.delta.x=te.delta.y:te.delta.y=te.delta.x,te.axes="xy"):(te.axes=ee.resizeAxes,ee.resizeAxes==="x"?te.delta.y=0:ee.resizeAxes==="y"&&(te.delta.x=0))}},Y=function(B,W,ee){return(qt.default.string(B)?(0,en.getStringOptionResult)(B,W,ee):B)||(0,zt.getWindow)(ee)},oe=function(B){return qt.default.window(B)&&(B=window.document.body),{x:B.scrollLeft,y:B.scrollTop}},q=function(B){return qt.default.bool(B)?(this.options.styleCursor=B,this):B===null?(delete this.options.styleCursor,this):this.options.styleCursor},G=function(B){return qt.default.func(B)?(this.options.actionChecker=B,this):B===null?(delete this.options.actionChecker,this):this.options.actionChecker},J=function(B,W,ee,te,me){return W.testIgnoreAllow(W.options[B.name],ee,te)&&W.options[B.name].enabled&&De(W,ee,B,me)?B:null},ae=function(B,W,ee,te,me,je,Ue){for(var Fe=0,st=te.length;Fe<st;Fe++){var mt=te[Fe],$t=me[Fe],Ut=mt.getAction(W,ee,B,$t);if(Ut){var un=J(Ut,mt,$t,je,Ue);if(un)return{action:un,interactable:mt,element:$t}}}return{action:null,interactable:null,element:null}},ie=function(B,W,ee,te,me){var je=[],Ue=[],Fe=te;function st($t){je.push($t),Ue.push(Fe)}for(;qt.default.element(Fe);){je=[],Ue=[],me.interactables.forEachMatch(Fe,st);var mt=ae(B,W,ee,je,Ue,te,me);if(mt.action&&!mt.interactable.options[mt.action.name].manualStart)return mt;Fe=gt.parentNode(Fe)}return{action:null,interactable:null,element:null}},Oe=function(B,W,ee){var te=W.action,me=W.interactable,je=W.element;te=te||{name:null},B.interactable=me,B.element=je,(0,fi.copyAction)(B.prepared,te),B.rect=me&&te.name?me.getRect(je):null,Ve(B,ee),ee.fire("autoStart:prepared",{interaction:B})},De=function(B,W,ee,te){var me=B.options,je=me[ee.name].max,Ue=me[ee.name].maxPerElement,Fe=te.autoStart.maxInteractions,st=0,mt=0,$t=0;if(!(je&&Ue&&Fe))return!1;for(var Ut=0;Ut<te.interactions.list.length;Ut++){var un=te.interactions.list[Ut],Gt=un.prepared.name;if(un.interacting()&&(++st>=Fe||un.interactable===B&&((mt+=Gt===ee.name?1:0)>=je||un.element===W&&($t++,Gt===ee.name&&$t>=Ue))))return!1}return Fe>0},ke=function(B,W){return qt.default.number(B)?(W.autoStart.maxInteractions=B,this):W.autoStart.maxInteractions},tt=function(B,W,ee){var te=ee.autoStart.cursorElement;te&&te!==B&&(te.style.cursor=""),B.ownerDocument.documentElement.style.cursor=W,B.style.cursor=W,ee.autoStart.cursorElement=W?B:null},Ve=function(B,W){var ee=B.interactable,te=B.element,me=B.prepared;if(B.pointerType==="mouse"&&ee&&ee.options.styleCursor){var je="";if(me.name){var Ue=ee.options[me.name].cursorChecker;je=qt.default.func(Ue)?Ue(me,ee,te,B._interacting):W.actions.map[me.name].getCursor(me)}tt(B.element,je||"",W)}else W.autoStart.cursorElement&&tt(W.autoStart.cursorElement,"",W)},Qe=function(B){var W=B.prepared&&B.prepared.name;if(!W)return null;var ee=B.interactable.options;return ee[W].hold||ee[W].delay},ht=function(B){return/^(always|never|auto)$/.test(B)?(this.options.preventDefault=B,this):qt.default.bool(B)?(this.options.preventDefault=B?"always":"never",this):this.options.preventDefault},bt=function(B){var W=B.interaction,ee=B.event;W.interactable&&W.interactable.checkAndPreventDefault(ee)},vt=function(B){var W=B.Interactable;W.prototype.preventDefault=ht,W.prototype.checkAndPreventDefault=function(ee){return function(te,me,je){var Ue=te.options.preventDefault;if(Ue!=="never")if(Ue!=="always"){if(me.events.supportsPassive&&/^touch(start|move)$/.test(je.type)){var Fe=(0,zt.getWindow)(je.target).document,st=me.getDocOptions(Fe);if(!st||!st.events||st.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(je.type)||qt.default.element(je.target)&&(0,gt.matchesSelector)(je.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||je.preventDefault()}else je.preventDefault()}(this,B,ee)},B.interactions.docEvents.push({type:"dragstart",listener:function(te){for(var me=0;me<B.interactions.list.length;me++){var je=B.interactions.list[me];if(je.element&&(je.element===te.target||(0,gt.nodeContains)(je.element,te.target)))return void je.interactable.checkAndPreventDefault(te)}}})},Le=function(B,W){return function(ee){if(Array.isArray(ee))return ee}(B)||function(ee,te){var me=ee==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(me!=null){var je,Ue,Fe=[],st=!0,mt=!1;try{for(me=me.call(ee);!(st=(je=me.next()).done)&&(Fe.push(je.value),!te||Fe.length!==te);st=!0);}catch($t){mt=!0,Ue=$t}finally{try{st||me.return==null||me.return()}finally{if(mt)throw Ue}}return Fe}}(B,W)||function(ee,te){if(ee){if(typeof ee=="string")return _e(ee,te);var me=Object.prototype.toString.call(ee).slice(8,-1);return me==="Object"&&ee.constructor&&(me=ee.constructor.name),me==="Map"||me==="Set"?Array.from(ee):me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me)?_e(ee,te):void 0}}(B,W)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},_e=function(B,W){(W==null||W>B.length)&&(W=B.length);for(var ee=0,te=Array(W);ee<W;ee++)te[ee]=B[ee];return te},Ne=function(B,W,ee){return W in B?Object.defineProperty(B,W,{value:ee,enumerable:!0,configurable:!0,writable:!0}):B[W]=ee,B},Ze=function(B,W){return{rect:W,coords:B,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}},Ke=function(B,W){return B?{left:W.x-B.left,top:W.y-B.top,right:B.right-W.x,bottom:B.bottom-W.y}:{left:0,top:0,right:0,bottom:0}},Pe=function(B){var W=B.iEvent,ee=B.interaction.modification.result;ee&&(W.modifiers=ee.eventProps)},at=function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B},pt=function(B,W,ee){return W in B?Object.defineProperty(B,W,{value:ee,enumerable:!0,configurable:!0,writable:!0}):B[W]=ee,B},lt=function(B,W){for(var ee=0;ee<W.length;ee++){var te=W[ee];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(B,te.key,te)}},ct=function(B,W,ee){return W in B?Object.defineProperty(B,W,{value:ee,enumerable:!0,configurable:!0,writable:!0}):B[W]=ee,B},Ge=function(B,W,ee){return W in B?Object.defineProperty(B,W,{value:ee,enumerable:!0,configurable:!0,writable:!0}):B[W]=ee,B},ze=function(B){B.pointerIsDown&&(wt(B.coords.cur,B.offset.total),B.offset.pending.x=0,B.offset.pending.y=0)},He=function(B){rt(B.interaction)},rt=function(B){if(!function(ee){return!(!ee.offset.pending.x&&!ee.offset.pending.y)}(B))return!1;var W=B.offset.pending;return wt(B.coords.cur,W),wt(B.coords.delta,W),en.addEdges(B.edges,B.rect,W),W.x=0,W.y=0,!0},it=function(B){var W=B.x,ee=B.y;this.offset.pending.x+=W,this.offset.pending.y+=ee,this.offset.total.x+=W,this.offset.total.y+=ee},wt=function(B,W){var ee=B.page,te=B.client,me=W.x,je=W.y;ee.x+=me,ee.y+=je,te.x+=me,te.y+=je},_t=function(B,W,ee){return W in B?Object.defineProperty(B,W,{value:ee,enumerable:!0,configurable:!0,writable:!0}):B[W]=ee,B},xt=function(B){var W=B.interactable,ee=B.prepared;return W&&W.options&&ee.name&&W.options[ee.name].inertia},ut=function(B,W,ee,te){var me=1-B;return me*me*W+2*me*B*ee+B*B*te},we=function(B,W,ee,te){return-ee*(B/=te)*(B-2)+W},N=function(B,W,ee){return W in B?Object.defineProperty(B,W,{value:ee,enumerable:!0,configurable:!0,writable:!0}):B[W]=ee,B},qe=function(B,W){for(var ee=0;ee<W.length;ee++){var te=W[ee];if(B.immediatePropagationStopped)break;te(B)}},Ie=function(B,W,ee){return W in B?Object.defineProperty(B,W,{value:ee,enumerable:!0,configurable:!0,writable:!0}):B[W]=ee,B},nt=function(B,W,ee){return W in B?Object.defineProperty(B,W,{value:ee,enumerable:!0,configurable:!0,writable:!0}):B[W]=ee,B},R=function(B,W,ee){return W in B?Object.defineProperty(B,W,{value:ee,enumerable:!0,configurable:!0,writable:!0}):B[W]=ee,B},le=function(B,W){return function(ee){if(Array.isArray(ee))return ee}(B)||function(ee,te){var me=ee==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(me!=null){var je,Ue,Fe=[],st=!0,mt=!1;try{for(me=me.call(ee);!(st=(je=me.next()).done)&&(Fe.push(je.value),!te||Fe.length!==te);st=!0);}catch($t){mt=!0,Ue=$t}finally{try{st||me.return==null||me.return()}finally{if(mt)throw Ue}}return Fe}}(B,W)||function(ee,te){if(ee){if(typeof ee=="string")return ue(ee,te);var me=Object.prototype.toString.call(ee).slice(8,-1);return me==="Object"&&ee.constructor&&(me=ee.constructor.name),me==="Map"||me==="Set"?Array.from(ee):me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me)?ue(ee,te):void 0}}(B,W)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},ue=function(B,W){(W==null||W>B.length)&&(W=B.length);for(var ee=0,te=Array(W);ee<W;ee++)te[ee]=B[ee];return te},ve=function(B){if(!qt.default.object(B))return{capture:!!B,passive:!1};var W=(0,yt.default)({},B);return W.capture=!!B.capture,W.passive=!!B.passive,W},de=function(B,W){return B.pointers.some(function(ee){return ee.id===W})},K=function(B,W){return function(ee){if(Array.isArray(ee))return ee}(B)||function(ee,te){var me=ee==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(me!=null){var je,Ue,Fe=[],st=!0,mt=!1;try{for(me=me.call(ee);!(st=(je=me.next()).done)&&(Fe.push(je.value),!te||Fe.length!==te);st=!0);}catch($t){mt=!0,Ue=$t}finally{try{st||me.return==null||me.return()}finally{if(mt)throw Ue}}return Fe}}(B,W)||function(ee,te){if(ee){if(typeof ee=="string")return ge(ee,te);var me=Object.prototype.toString.call(ee).slice(8,-1);return me==="Object"&&ee.constructor&&(me=ee.constructor.name),me==="Map"||me==="Set"?Array.from(ee):me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me)?ge(ee,te):void 0}}(B,W)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},ge=function(B,W){(W==null||W>B.length)&&(W=B.length);for(var ee=0,te=Array(W);ee<W;ee++)te[ee]=B[ee];return te},Ee=function(B,W){return function(ee){var te=W.interactions.list,me=An.getPointerType(ee),je=K(An.getEventTargets(ee),2),Ue=je[0],Fe=je[1],st=[];if(/^touch/.test(ee.type)){W.prevTouchTime=W.now();for(var mt=0;mt<ee.changedTouches.length;mt++){var $t=ee.changedTouches[mt],Ut={pointer:$t,pointerId:An.getPointerId($t),pointerType:me,eventType:ee.type,eventTarget:Ue,curEventTarget:Fe,scope:W},un=Ce(Ut);st.push([Ut.pointer,Ut.eventTarget,Ut.curEventTarget,un])}}else{var Gt=!1;if(!bi.default.supportsPointerEvent&&/mouse/.test(ee.type)){for(var En=0;En<te.length&&!Gt;En++)Gt=te[En].pointerType!=="mouse"&&te[En].pointerIsDown;Gt=Gt||W.now()-W.prevTouchTime<500||ee.timeStamp===0}if(!Gt){var zn={pointer:ee,pointerId:An.getPointerId(ee),pointerType:me,eventType:ee.type,curEventTarget:Fe,eventTarget:Ue,scope:W},Tn=Ce(zn);st.push([zn.pointer,zn.eventTarget,zn.curEventTarget,Tn])}}for(var Fn=0;Fn<st.length;Fn++){var er=K(st[Fn],4),fr=er[0],Ar=er[1],Rr=er[2];er[3][B](fr,ee,Ar,Rr)}}},Ce=function(B){var W=B.pointerType,ee=B.scope,te={interaction:Qi.default.search(B),searchDetails:B};return ee.fire("interactions:find",te),te.interaction||ee.interactions.new({pointerType:W})},Ye=function(B,W){var ee=B.doc,te=B.scope,me=B.options,je=te.interactions.docEvents,Ue=te.events,Fe=Ue[W];for(var st in te.browser.isIOS&&!me.events&&(me.events={passive:!1}),Ue.delegatedEvents)Fe(ee,st,Ue.delegateListener),Fe(ee,st,Ue.delegateUseCapture,!0);for(var mt=me&&me.events,$t=0;$t<je.length;$t++){var Ut=je[$t];Fe(ee,Ut.type,Ut.listener,mt)}},Be=function(B,W){if(!_instanceof(B,W))throw new TypeError("Cannot call a class as a function")},Je=function(B,W){for(var ee=0;ee<W.length;ee++){var te=W[ee];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(B,te.key,te)}},Tt=function(B,W,ee){return W&&Je(B.prototype,W),ee&&Je(B,ee),Object.defineProperty(B,"prototype",{writable:!1}),B},jt=function(B,W,ee){return W in B?Object.defineProperty(B,W,{value:ee,enumerable:!0,configurable:!0,writable:!0}):B[W]=ee,B},Et=function(B,W){return B.isInitialized=!0,qt.default.window(W)&&zt.init(W),Zr.default.init(W),bi.default.init(W),Yi.default.init(W),B.window=W,B.document=W.document,B.usePlugin(Fi.default),B.usePlugin(Ro.default),B},Zt=function(B){return B&&B.replace(/\/.*$/,"")},Nt=function(B,W){return function(ee){if(Array.isArray(ee))return ee}(B)||function(ee,te){var me=ee==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(me!=null){var je,Ue,Fe=[],st=!0,mt=!1;try{for(me=me.call(ee);!(st=(je=me.next()).done)&&(Fe.push(je.value),!te||Fe.length!==te);st=!0);}catch($t){mt=!0,Ue=$t}finally{try{st||me.return==null||me.return()}finally{if(mt)throw Ue}}return Fe}}(B,W)||function(ee,te){if(ee){if(typeof ee=="string")return Ft(ee,te);var me=Object.prototype.toString.call(ee).slice(8,-1);return me==="Object"&&ee.constructor&&(me=ee.constructor.name),me==="Map"||me==="Set"?Array.from(ee):me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me)?Ft(ee,te):void 0}}(B,W)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},Ft=function(B,W){(W==null||W>B.length)&&(W=B.length);for(var ee=0,te=Array(W);ee<W;ee++)te[ee]=B[ee];return te},Dt=function(B,W){var ee=Object.keys(B);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(B);W&&(te=te.filter(function(me){return Object.getOwnPropertyDescriptor(B,me).enumerable})),ee.push.apply(ee,te)}return ee},Jt=function(B){for(var W=arguments,ee=function(me){var je=W[me]!=null?W[me]:{};me%2?Dt(Object(je),!0).forEach(function(Ue){Qt(B,Ue,je[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(je)):Dt(Object(je)).forEach(function(Ue){Object.defineProperty(B,Ue,Object.getOwnPropertyDescriptor(je,Ue))})},te=1;te<arguments.length;te++)ee(te);return B},Qt=function(B,W,ee){return W in B?Object.defineProperty(B,W,{value:ee,enumerable:!0,configurable:!0,writable:!0}):B[W]=ee,B},gn=function(B,W,ee){var te=B.startCoords,me=B.edgeSign;W?ee.y=te.y+(ee.x-te.x)*me.y:ee.x=te.x+(ee.y-te.y)*me.x},Bt=function(B,W,ee,te){var me=B.startRect,je=B.startCoords,Ue=B.ratio,Fe=B.edgeSign;if(W){var st=te.width/Ue;ee.y=je.y+(st-me.height)*Fe.y}else{var mt=te.height*Ue;ee.x=je.x+(mt-me.width)*Fe.x}},an=function(B,W,ee){return qt.default.func(B)?en.resolveRectLike(B,W.interactable,W.element,[ee.x,ee.y,W]):en.resolveRectLike(B,W.interactable,W.element)},tn=function(B,W){for(var ee=["top","left","bottom","right"],te=0;te<ee.length;te++){var me=ee[te];me in B||(B[me]=W[me])}return B},_n=function(B,W){(W==null||W>B.length)&&(W=B.length);for(var ee=0,te=Array(W);ee<W;ee++)te[ee]=B[ee];return te},Wt=function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B},Re=function(B,W){var ee=B.interaction,te=B.pointer,me=B.event,je=B.eventTarget,Ue=B.type,Fe=ee.getPointerIndex(te),st=ee.pointers[Fe];if(Ue==="tap"&&(ee.pointerWasMoved||!st||st.downTarget!==je))return[];for(var mt=gt.getPath(je),$t={interaction:ee,pointer:te,event:me,eventTarget:je,type:Ue,path:mt,targets:[],node:null},Ut=0;Ut<mt.length;Ut++){var un=mt[Ut];$t.node=un,W.fire("pointerEvents:collect-targets",$t)}return Ue==="hold"&&($t.targets=$t.targets.filter(function(Gt){var En;return Gt.eventable.options.holdDuration===((En=ee.pointers[Fe])==null?void 0:En.hold.duration)})),$t.targets},pe=function(B){var W=B.interaction,ee=B.pointerIndex,te=W.pointers[ee].hold;te&&te.timeout&&(clearTimeout(te.timeout),te.timeout=null)},xe=function(B){var W=B.interaction;W.holdIntervalHandle&&(clearInterval(W.holdIntervalHandle),W.holdIntervalHandle=null)},$e=function(B){return(0,yt.default)(this.events.options,B),this},ot=function(B){var W=B.Interactable;B.actions.phases.reflow=!0,W.prototype.reflow=function(ee){return function(te,me,je){for(var Ue=qt.default.string(te.target)?_r.from(te._context.querySelectorAll(te.target)):[te.target],Fe=je.window.Promise,st=Fe?[]:null,mt=function(){var un=Ue[$t],Gt=te.getRect(un);if(!Gt)return"break";var En=_r.find(je.interactions.list,function(fr){return fr.interacting()&&fr.interactable===te&&fr.element===un&&fr.prepared.name===me.name}),zn=void 0;if(En)En.move(),st&&(zn=En._reflowPromise||new Fe(function(fr){En._reflowResolve=fr}));else{var Tn=(0,en.tlbrToXywh)(Gt),Fn={page:{x:Tn.x,y:Tn.y},client:{x:Tn.x,y:Tn.y},timeStamp:je.now()},er=An.coordsToEvent(Fn);zn=function(fr,Ar,Rr,_i,ii){var Sr=fr.interactions.new({pointerType:"reflow"}),aa={interaction:Sr,event:ii,pointer:ii,eventTarget:Rr,phase:"reflow"};Sr.interactable=Ar,Sr.element=Rr,Sr.prevEvent=ii,Sr.updatePointer(ii,ii,Rr,!0),An.setZeroCoords(Sr.coords.delta),(0,fi.copyAction)(Sr.prepared,_i),Sr._doPhase(aa);var sa=fr.window.Promise,zu=sa?new sa(function(Wk){Sr._reflowResolve=Wk}):void 0;return Sr._reflowPromise=zu,Sr.start(_i,Ar,Rr),Sr._interacting?(Sr.move(aa),Sr.end(ii)):(Sr.stop(),Sr._reflowResolve()),Sr.removePointer(ii,ii),zu}(je,te,un,me,er)}st&&st.push(zn)},$t=0;$t<Ue.length&&mt()!=="break";$t++);return st&&Fe.all(st).then(function(){return te})}(this,ee,B)}},dt={};Object.defineProperty(dt,"__esModule",{value:!0}),dt.default=void 0,dt.default=function(se){return!(!se||!se.Window)&&_instanceof(se,se.Window)};var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.getWindow=function(se){return(0,dt.default)(se)?se:(se.ownerDocument||se).defaultView||bn.window},zt.init=s,zt.window=zt.realWindow=void 0;var mn=void 0;zt.realWindow=mn;var bn=void 0;zt.window=bn,(typeof window=="undefined"?"undefined":_typeof(window))<"u"&&window&&s(window);var qt={};function Ln(se){return Ln=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(W){return typeof W=="undefined"?"undefined":_typeof(W)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B=="undefined"?"undefined":_typeof(B)},Ln(se)}Object.defineProperty(qt,"__esModule",{value:!0}),qt.default=void 0;var Nn=function(B){return!!B&&Ln(B)==="object"},ui=function(B){return typeof B=="function"},Pr={window:function(B){return B===zt.window||(0,dt.default)(B)},docFrag:function(B){return Nn(B)&&B.nodeType===11},object:Nn,func:ui,number:function(B){return typeof B=="number"},bool:function(B){return typeof B=="boolean"},string:function(B){return typeof B=="string"},element:function(B){if(!B||Ln(B)!=="object")return!1;var W=zt.getWindow(B)||zt.window;return/object|function/.test((typeof Element=="undefined"?"undefined":_typeof(Element))>"u"?"undefined":Ln(Element))?_instanceof(B,Element)||_instanceof(B,W.Element):B.nodeType===1&&typeof B.nodeName=="string"},plainObject:function(B){return Nn(B)&&!!B.constructor&&/function Object\b/.test(B.constructor.toString())},array:function(B){return Nn(B)&&B.length!==void 0&&ui(B.splice)}};qt.default=Pr;var Li={};Object.defineProperty(Li,"__esModule",{value:!0}),Li.default=void 0;var Ri={id:"actions/drag",install:function(B){var W=B.actions,ee=B.Interactable,te=B.defaults;ee.prototype.draggable=Ri.draggable,W.map.drag=Ri,W.methodDict.drag="draggable",te.actions.drag=Ri.defaults},listeners:{"interactions:before-action-move":r,"interactions:action-resume":r,"interactions:action-move":c,"auto-start:check":function(se){var B=se.interaction,W=se.interactable,ee=se.buttons,te=W.options.drag;if(te&&te.enabled&&(!B.pointerIsDown||!/mouse|pointer/.test(B.pointerType)||ee&W.options.drag.mouseButtons))return se.action={name:"drag",axis:te.lockAxis==="start"?te.startAxis:te.lockAxis},!1}},draggable:function(B){return qt.default.object(B)?(this.options.drag.enabled=B.enabled!==!1,this.setPerAction("drag",B),this.setOnEvents("drag",B),/^(xy|x|y|start)$/.test(B.lockAxis)&&(this.options.drag.lockAxis=B.lockAxis),/^(xy|x|y)$/.test(B.startAxis)&&(this.options.drag.startAxis=B.startAxis),this):qt.default.bool(B)?(this.options.drag.enabled=B,this):this.options.drag},beforeMove:r,move:c,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},ho=Ri;Li.default=ho;var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.default=void 0;var hi={init:function(B){var W=B;hi.document=W.document,hi.DocumentFragment=W.DocumentFragment||d,hi.SVGElement=W.SVGElement||d,hi.SVGSVGElement=W.SVGSVGElement||d,hi.SVGElementInstance=W.SVGElementInstance||d,hi.Element=W.Element||d,hi.HTMLElement=W.HTMLElement||hi.Element,hi.Event=W.Event,hi.Touch=W.Touch||d,hi.PointerEvent=W.PointerEvent||W.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null},qi=hi;Zr.default=qi;var bi={};Object.defineProperty(bi,"__esModule",{value:!0}),bi.default=void 0;var ci={init:function(B){var W=Zr.default.Element,ee=B.navigator||{};ci.supportsTouch="ontouchstart"in B||qt.default.func(B.DocumentTouch)&&_instanceof(Zr.default.document,B.DocumentTouch),ci.supportsPointerEvent=ee.pointerEnabled!==!1&&!!Zr.default.PointerEvent,ci.isIOS=/iP(hone|od|ad)/.test(ee.platform),ci.isIOS7=/iP(hone|od|ad)/.test(ee.platform)&&/OS 7[^\d]/.test(ee.appVersion),ci.isIe9=/MSIE 9/.test(ee.userAgent),ci.isOperaMobile=ee.appName==="Opera"&&ci.supportsTouch&&/Presto/.test(ee.userAgent),ci.prefixedMatchesSelector="matches"in W.prototype?"matches":"webkitMatchesSelector"in W.prototype?"webkitMatchesSelector":"mozMatchesSelector"in W.prototype?"mozMatchesSelector":"oMatchesSelector"in W.prototype?"oMatchesSelector":"msMatchesSelector",ci.pEventTypes=ci.supportsPointerEvent?Zr.default.PointerEvent===B.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,ci.wheelEvent=Zr.default.document&&"onmousewheel"in Zr.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},ei=ci;bi.default=ei;var gt={};Object.defineProperty(gt,"__esModule",{value:!0}),gt.closest=function(se,B){for(;qt.default.element(se);){if(f(se,B))return se;se=h(se)}return null},gt.getActualElement=function(se){return se.correspondingUseElement||se},gt.getElementClientRect=b,gt.getElementRect=function(se){var B=b(se);if(!bi.default.isIOS7&&B){var W=_(zt.getWindow(se));B.left+=W.x,B.right+=W.x,B.top+=W.y,B.bottom+=W.y}return B},gt.getPath=function(se){for(var B=[];se;)B.push(se),se=h(se);return B},gt.getScrollXY=_,gt.indexOfDeepestElement=function(se){for(var B,W=[],ee=0;ee<se.length;ee++){var te=se[ee],me=se[B];if(te&&ee!==B)if(me){var je=et(te),Ue=et(me);if(je!==te.ownerDocument)if(Ue!==te.ownerDocument)if(je!==Ue){W=W.length?W:v(me);var Fe=void 0;if(_instanceof(me,Zr.default.HTMLElement)&&_instanceof(te,Zr.default.SVGElement)&&!_instanceof(te,Zr.default.SVGSVGElement)){if(te===Ue)continue;Fe=te.ownerSVGElement}else Fe=te;for(var st=v(Fe,me.ownerDocument),mt=0;st[mt]&&st[mt]===W[mt];)mt++;var $t=[st[mt-1],st[mt],W[mt]];if($t[0])for(var Ut=$t[0].lastChild;Ut;){if(Ut===$t[1]){B=ee,W=st;break}if(Ut===$t[2])break;Ut=Ut.previousSibling}}else un=te,Gt=me,(parseInt(zt.getWindow(un).getComputedStyle(un).zIndex,10)||0)>=(parseInt(zt.getWindow(Gt).getComputedStyle(Gt).zIndex,10)||0)&&(B=ee);else B=ee}else B=ee}var un,Gt;return B},gt.matchesSelector=f,gt.matchesUpTo=function(se,B,W){for(;qt.default.element(se);){if(f(se,B))return!0;if((se=h(se))===W)return f(se,B)}return!1},gt.nodeContains=function(se,B){if(se.contains)return se.contains(B);for(;B;){if(B===se)return!0;B=B.parentNode}return!1},gt.parentNode=h,gt.trySelector=function(se){return!!qt.default.string(se)&&(Zr.default.document.querySelector(se),!0)};var et=function(B){return B.parentNode||B.host},yt={};Object.defineProperty(yt,"__esModule",{value:!0}),yt.default=function(se,B){for(var W in B)se[W]=B[W];return se};var en={};Object.defineProperty(en,"__esModule",{value:!0}),en.addEdges=function(se,B,W){se.left&&(B.left+=W.x),se.right&&(B.right+=W.x),se.top&&(B.top+=W.y),se.bottom&&(B.bottom+=W.y),B.width=B.right-B.left,B.height=B.bottom-B.top},en.getStringOptionResult=A,en.rectToXY=function(se){return se&&{x:"x"in se?se.x:se.left,y:"y"in se?se.y:se.top}},en.resolveRectLike=function(se,B,W,ee){var te,me=se;return qt.default.string(me)?me=A(me,B,W):qt.default.func(me)&&(me=me.apply(void 0,function(je){if(Array.isArray(je))return w(je)}(te=ee)||function(je){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&je[Symbol.iterator]!=null||je["@@iterator"]!=null)return Array.from(je)}(te)||function(je,Ue){if(je){if(typeof je=="string")return w(je,Ue);var Fe=Object.prototype.toString.call(je).slice(8,-1);return Fe==="Object"&&je.constructor&&(Fe=je.constructor.name),Fe==="Map"||Fe==="Set"?Array.from(je):Fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Fe)?w(je,Ue):void 0}}(te)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),qt.default.element(me)&&(me=(0,gt.getElementRect)(me)),me},en.tlbrToXywh=function(se){return!se||"x"in se&&"y"in se||((se=(0,yt.default)({},se)).x=se.left||0,se.y=se.top||0,se.width=se.width||(se.right||0)-se.x,se.height=se.height||(se.bottom||0)-se.y),se},en.xywhToTlbr=function(se){return!se||"left"in se&&"top"in se||((se=(0,yt.default)({},se)).left=se.x||0,se.top=se.y||0,se.right=se.right||se.left+se.width,se.bottom=se.bottom||se.top+se.height),se};var on={};Object.defineProperty(on,"__esModule",{value:!0}),on.default=function(se,B,W){var ee=se.options[W],te=ee&&ee.origin||se.options.origin,me=(0,en.resolveRectLike)(te,se,B,[se&&B]);return(0,en.rectToXY)(me)||{x:0,y:0}};var In={};Object.defineProperty(In,"__esModule",{value:!0}),In.default=function se(B,W,ee){if(ee=ee||{},qt.default.string(B)&&B.search(" ")!==-1&&(B=E(B)),qt.default.array(B))return B.reduce(function(Fe,st){return(0,yt.default)(Fe,se(st,W,ee))},ee);if(qt.default.object(B)&&(W=B,B=""),qt.default.func(W))ee[B]=ee[B]||[],ee[B].push(W);else if(qt.default.array(W))for(var te=0;te<W.length;te++){var me;me=W[te],se(B,me,ee)}else if(qt.default.object(W))for(var je in W){var Ue=E(je).map(function(Fe){return"".concat(B).concat(Fe)});se(Ue,W[je],ee)}return ee};var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.default=void 0,Kn.default=function(se,B){return Math.sqrt(se*se+B*B)};var dr={};Object.defineProperty(dr,"__esModule",{value:!0}),dr.default=function(se,B){se.__set||(se.__set={});var W=function(me){typeof se[me]!="function"&&me!=="__set"&&Object.defineProperty(se,me,{get:function(){return me in se.__set?se.__set[me]:se.__set[me]=B[me]},set:function(Ue){se.__set[me]=Ue},configurable:!0})};for(var ee in B)W(ee);return se};var An={};Object.defineProperty(An,"__esModule",{value:!0}),An.coordsToEvent=function(se){return{coords:se,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},An.copyCoords=function(se,B){se.page=se.page||{},se.page.x=B.page.x,se.page.y=B.page.y,se.client=se.client||{},se.client.x=B.client.x,se.client.y=B.client.y,se.timeStamp=B.timeStamp},An.getClientXY=u,An.getEventTargets=function(se){var B=qt.default.func(se.composedPath)?se.composedPath():se.path;return[gt.getActualElement(B?B[0]:se.target),gt.getActualElement(se.currentTarget)]},An.getPageXY=y,An.getPointerId=function(se){return qt.default.number(se.pointerId)?se.pointerId:se.identifier},An.getPointerType=function(se){return qt.default.string(se.pointerType)?se.pointerType:qt.default.number(se.pointerType)?[void 0,void 0,"touch","pen","mouse"][se.pointerType]:/touch/.test(se.type||"")||_instanceof(se,Zr.default.Touch)?"touch":"mouse"},An.getTouchPair=p,An.getXY=P,An.isNativePointer=O,An.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},An.pointerAverage=g,Object.defineProperty(An,"pointerExtend",{enumerable:!0,get:function(){return dr.default}}),An.setCoordDeltas=function(se,B,W){se.page.x=W.page.x-B.page.x,se.page.y=W.page.y-B.page.y,se.client.x=W.client.x-B.client.x,se.client.y=W.client.y-B.client.y,se.timeStamp=W.timeStamp-B.timeStamp},An.setCoordVelocity=function(se,B){var W=Math.max(B.timeStamp/1e3,.001);se.page.x=B.page.x/W,se.page.y=B.page.y/W,se.client.x=B.client.x/W,se.client.y=B.client.y/W,se.timeStamp=W},An.setCoords=function(se,B,W){var ee=B.length>1?g(B):B[0];y(ee,se.page),u(ee,se.client),se.timeStamp=W},An.setZeroCoords=function(se){se.page.x=0,se.page.y=0,se.client.x=0,se.client.y=0},An.touchAngle=function(se,B){var W=B+"X",ee=B+"Y",te=p(se),me=te[1][W]-te[0][W],je=te[1][ee]-te[0][ee];return 180*Math.atan2(je,me)/Math.PI},An.touchBBox=function(se){if(!se.length)return null;var B=p(se),W=Math.min(B[0].pageX,B[1].pageX),ee=Math.min(B[0].pageY,B[1].pageY),te=Math.max(B[0].pageX,B[1].pageX),me=Math.max(B[0].pageY,B[1].pageY);return{x:W,y:ee,left:W,top:ee,right:te,bottom:me,width:te-W,height:me-ee}},An.touchDistance=function(se,B){var W=B+"X",ee=B+"Y",te=p(se),me=te[0][W]-te[1][W],je=te[0][ee]-te[1][ee];return(0,Kn.default)(me,je)};var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.BaseEvent=void 0;var Ur=function(){function se(ee){(function(te,me){if(!_instanceof(te,me))throw new TypeError("Cannot call a class as a function")})(this,se),k(this,"immediatePropagationStopped",!1),k(this,"propagationStopped",!1),this._interaction=ee}var B,W;return B=se,(W=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(ee,te){for(var me=0;me<te.length;me++){var je=te[me];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(ee,je.key,je)}}(B.prototype,W),Object.defineProperty(B,"prototype",{writable:!1}),se}();Gr.BaseEvent=Ur,Object.defineProperty(Ur.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var _r={};Object.defineProperty(_r,"__esModule",{value:!0}),_r.remove=_r.merge=_r.from=_r.findIndex=_r.find=_r.contains=void 0,_r.contains=function(se,B){return se.indexOf(B)!==-1},_r.remove=function(se,B){return se.splice(se.indexOf(B),1)};var be=function(B,W){for(var ee=0;ee<W.length;ee++){var te=W[ee];B.push(te)}return B};_r.merge=be,_r.from=function(se){return be([],se)};var Gi=function(B,W){for(var ee=0;ee<B.length;ee++)if(W(B[ee],ee,B))return ee;return-1};_r.findIndex=Gi,_r.find=function(se,B){return se[Gi(se,B)]};var Vr={};function di(se){return di=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(W){return typeof W=="undefined"?"undefined":_typeof(W)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B=="undefined"?"undefined":_typeof(B)},di(se)}function Yr(se,B){return Yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ee,te){return ee.__proto__=te,ee},Yr(se,B)}function ln(se){return ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},ln(se)}Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.DropEvent=void 0;var dn=function(se){(function(Ue,Fe){if(typeof Fe!="function"&&Fe!==null)throw new TypeError("Super expression must either be null or a function");Ue.prototype=Object.create(Fe&&Fe.prototype,{constructor:{value:Ue,writable:!0,configurable:!0}}),Object.defineProperty(Ue,"prototype",{writable:!1}),Fe&&Yr(Ue,Fe)})(je,se);var B,W,ee,te,me=(ee=je,te=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ue){return!1}}(),function(){var Fe,st=ln(ee);if(te){var mt=ln(this).constructor;Fe=Reflect.construct(st,arguments,mt)}else Fe=st.apply(this,arguments);return function($t,Ut){if(Ut&&(di(Ut)==="object"||typeof Ut=="function"))return Ut;if(Ut!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x($t)}(this,Fe)});function je(Ue,Fe,st){var mt;(function(Gt,En){if(!_instanceof(Gt,En))throw new TypeError("Cannot call a class as a function")})(this,je),j(x(mt=me.call(this,Fe._interaction)),"dropzone",void 0),j(x(mt),"dragEvent",void 0),j(x(mt),"relatedTarget",void 0),j(x(mt),"draggable",void 0),j(x(mt),"propagationStopped",!1),j(x(mt),"immediatePropagationStopped",!1);var $t=st==="dragleave"?Ue.prev:Ue.cur,Ut=$t.element,un=$t.dropzone;return mt.type=st,mt.target=Ut,mt.currentTarget=Ut,mt.dropzone=un,mt.dragEvent=Fe,mt.relatedTarget=Fe.target,mt.draggable=Fe.interactable,mt.timeStamp=Fe.timeStamp,mt}return B=je,(W=[{key:"reject",value:function(){var Fe=this,st=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&st.cur.dropzone===this.dropzone&&st.cur.element===this.target)if(st.prev.dropzone=this.dropzone,st.prev.element=this.target,st.rejected=!0,st.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var mt=st.activeDrops,$t=_r.findIndex(mt,function(un){var Gt=un.dropzone,En=un.element;return Gt===Fe.dropzone&&En===Fe.target});st.activeDrops.splice($t,1);var Ut=new je(st,this.dragEvent,"dropdeactivate");Ut.dropzone=this.dropzone,Ut.target=this.target,this.dropzone.fire(Ut)}else this.dropzone.fire(new je(st,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(Ue,Fe){for(var st=0;st<Fe.length;st++){var mt=Fe[st];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(Ue,mt.key,mt)}}(B.prototype,W),Object.defineProperty(B,"prototype",{writable:!1}),je}(Gr.BaseEvent);Vr.DropEvent=dn;var hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.default=void 0;var Hn={id:"actions/drop",install:function(B){var W=B.actions,ee=B.interactStatic,te=B.Interactable,me=B.defaults;B.usePlugin(Li.default),te.prototype.dropzone=function(je){return function(Ue,Fe){if(qt.default.object(Fe)){if(Ue.options.drop.enabled=Fe.enabled!==!1,Fe.listeners){var st=(0,In.default)(Fe.listeners),mt=Object.keys(st).reduce(function($t,Ut){return $t[/^(enter|leave)/.test(Ut)?"drag".concat(Ut):/^(activate|deactivate|move)/.test(Ut)?"drop".concat(Ut):Ut]=st[Ut],$t},{});Ue.off(Ue.options.drop.listeners),Ue.on(mt),Ue.options.drop.listeners=mt}return qt.default.func(Fe.ondrop)&&Ue.on("drop",Fe.ondrop),qt.default.func(Fe.ondropactivate)&&Ue.on("dropactivate",Fe.ondropactivate),qt.default.func(Fe.ondropdeactivate)&&Ue.on("dropdeactivate",Fe.ondropdeactivate),qt.default.func(Fe.ondragenter)&&Ue.on("dragenter",Fe.ondragenter),qt.default.func(Fe.ondragleave)&&Ue.on("dragleave",Fe.ondragleave),qt.default.func(Fe.ondropmove)&&Ue.on("dropmove",Fe.ondropmove),/^(pointer|center)$/.test(Fe.overlap)?Ue.options.drop.overlap=Fe.overlap:qt.default.number(Fe.overlap)&&(Ue.options.drop.overlap=Math.max(Math.min(1,Fe.overlap),0)),"accept"in Fe&&(Ue.options.drop.accept=Fe.accept),"checker"in Fe&&(Ue.options.drop.checker=Fe.checker),Ue}return qt.default.bool(Fe)?(Ue.options.drop.enabled=Fe,Ue):Ue.options.drop}(this,je)},te.prototype.dropCheck=function(je,Ue,Fe,st,mt,$t){return function(Ut,un,Gt,En,zn,Tn,Fn){var er=!1;if(!(Fn=Fn||Ut.getRect(Tn)))return!!Ut.options.drop.checker&&Ut.options.drop.checker(un,Gt,er,Ut,Tn,En,zn);var fr=Ut.options.drop.overlap;if(fr==="pointer"){var Ar=(0,on.default)(En,zn,"drag"),Rr=An.getPageXY(un);Rr.x+=Ar.x,Rr.y+=Ar.y;var _i=Rr.x>Fn.left&&Rr.x<Fn.right,ii=Rr.y>Fn.top&&Rr.y<Fn.bottom;er=_i&&ii}var Sr=En.getRect(zn);if(Sr&&fr==="center"){var aa=Sr.left+Sr.width/2,sa=Sr.top+Sr.height/2;er=aa>=Fn.left&&aa<=Fn.right&&sa>=Fn.top&&sa<=Fn.bottom}return Sr&&qt.default.number(fr)&&(er=Math.max(0,Math.min(Fn.right,Sr.right)-Math.max(Fn.left,Sr.left))*Math.max(0,Math.min(Fn.bottom,Sr.bottom)-Math.max(Fn.top,Sr.top))/(Sr.width*Sr.height)>=fr),Ut.options.drop.checker&&(er=Ut.options.drop.checker(un,Gt,er,Ut,Tn,En,zn)),er}(this,je,Ue,Fe,st,mt,$t)},ee.dynamicDrop=function(je){return qt.default.bool(je)?(B.dynamicDrop=je,ee):B.dynamicDrop},(0,yt.default)(W.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),W.methodDict.drop="dropzone",B.dynamicDrop=!1,me.actions.drop=Hn.defaults},listeners:{"interactions:before-action-start":function(se){var B=se.interaction;B.prepared.name==="drag"&&(B.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(se,B){var W=se.interaction,ee=(se.event,se.iEvent);if(W.prepared.name==="drag"){var te=W.dropState;te.activeDrops=null,te.events=null,te.activeDrops=D(B,W.element),te.events=X(W,0,ee),te.events.activate&&(L(te.activeDrops,te.events.activate),B.fire("actions/drop:start",{interaction:W,dragEvent:ee}))}},"interactions:action-move":H,"interactions:after-action-move":function(se,B){var W=se.interaction,ee=se.iEvent;W.prepared.name==="drag"&&(Q(W,W.dropState.events),B.fire("actions/drop:move",{interaction:W,dragEvent:ee}),W.dropState.events={})},"interactions:action-end":function(se,B){if(se.interaction.prepared.name==="drag"){var W=se.interaction,ee=se.iEvent;H(se,B),Q(W,W.dropState.events),B.fire("actions/drop:end",{interaction:W,dragEvent:ee})}},"interactions:stop":function(se){var B=se.interaction;if(B.prepared.name==="drag"){var W=B.dropState;W&&(W.activeDrops=null,W.events=null,W.cur.dropzone=null,W.cur.element=null,W.prev.dropzone=null,W.prev.element=null,W.rejected=!1)}}},getActiveDrops:D,getDrop:F,getDropEvents:X,fireDropEvents:Q,defaults:{enabled:!1,accept:null,overlap:"pointer"}},mr=Hn;hn.default=mr;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.default=void 0;var ri={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(B){var W=B.actions,ee=B.Interactable,te=B.defaults;ee.prototype.gesturable=function(me){return qt.default.object(me)?(this.options.gesture.enabled=me.enabled!==!1,this.setPerAction("gesture",me),this.setOnEvents("gesture",me),this):qt.default.bool(me)?(this.options.gesture.enabled=me,this):this.options.gesture},W.map.gesture=ri,W.methodDict.gesture="gesturable",te.actions.gesture=ri.defaults},listeners:{"interactions:action-start":ce,"interactions:action-move":ce,"interactions:action-end":ce,"interactions:new":function(se){se.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(se){if(!(se.interaction.pointers.length<2)){var B=se.interactable.options.gesture;if(B&&B.enabled)return se.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},Po=ri;Fr.default=Po;var Io={};Object.defineProperty(Io,"__esModule",{value:!0}),Io.default=void 0;var wi={id:"actions/resize",before:["actions/drag"],install:function(B){var W=B.actions,ee=B.browser,te=B.Interactable,me=B.defaults;wi.cursors=function(je){return je.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(ee),wi.defaultMargin=ee.supportsTouch||ee.supportsPointerEvent?20:10,te.prototype.resizable=function(je){return function(Ue,Fe,st){return qt.default.object(Fe)?(Ue.options.resize.enabled=Fe.enabled!==!1,Ue.setPerAction("resize",Fe),Ue.setOnEvents("resize",Fe),qt.default.string(Fe.axis)&&/^x$|^y$|^xy$/.test(Fe.axis)?Ue.options.resize.axis=Fe.axis:Fe.axis===null&&(Ue.options.resize.axis=st.defaults.actions.resize.axis),qt.default.bool(Fe.preserveAspectRatio)?Ue.options.resize.preserveAspectRatio=Fe.preserveAspectRatio:qt.default.bool(Fe.square)&&(Ue.options.resize.square=Fe.square),Ue):qt.default.bool(Fe)?(Ue.options.resize.enabled=Fe,Ue):Ue.options.resize}(this,je,B)},W.map.resize=wi,W.methodDict.resize="resizable",me.actions.resize=wi.defaults},listeners:{"interactions:new":function(se){se.interaction.resizeAxes="xy"},"interactions:action-start":function(se){(function(B){var W=B.iEvent,ee=B.interaction;if(ee.prepared.name==="resize"&&ee.prepared.edges){var te=W,me=ee.rect;ee._rects={start:(0,yt.default)({},me),corrected:(0,yt.default)({},me),previous:(0,yt.default)({},me),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},te.edges=ee.prepared.edges,te.rect=ee._rects.corrected,te.deltaRect=ee._rects.delta}})(se),V(se)},"interactions:action-move":function(se){(function(B){var W=B.iEvent,ee=B.interaction;if(ee.prepared.name==="resize"&&ee.prepared.edges){var te=W,me=ee.interactable.options.resize.invert,je=me==="reposition"||me==="negate",Ue=ee.rect,Fe=ee._rects,st=Fe.start,mt=Fe.corrected,$t=Fe.delta,Ut=Fe.previous;if((0,yt.default)(Ut,mt),je){if((0,yt.default)(mt,Ue),me==="reposition"){if(mt.top>mt.bottom){var un=mt.top;mt.top=mt.bottom,mt.bottom=un}if(mt.left>mt.right){var Gt=mt.left;mt.left=mt.right,mt.right=Gt}}}else mt.top=Math.min(Ue.top,st.bottom),mt.bottom=Math.max(Ue.bottom,st.top),mt.left=Math.min(Ue.left,st.right),mt.right=Math.max(Ue.right,st.left);for(var En in mt.width=mt.right-mt.left,mt.height=mt.bottom-mt.top,mt)$t[En]=mt[En]-Ut[En];te.edges=ee.prepared.edges,te.rect=mt,te.deltaRect=$t}})(se),V(se)},"interactions:action-end":function(se){var B=se.iEvent,W=se.interaction;if(W.prepared.name==="resize"&&W.prepared.edges){var ee=B;ee.edges=W.prepared.edges,ee.rect=W._rects.corrected,ee.deltaRect=W._rects.delta}},"auto-start:check":function(se){var B=se.interaction,W=se.interactable,ee=se.element,te=se.rect,me=se.buttons;if(te){var je=(0,yt.default)({},B.coords.cur.page),Ue=W.options.resize;if(Ue&&Ue.enabled&&(!B.pointerIsDown||!/mouse|pointer/.test(B.pointerType)||me&Ue.mouseButtons)){if(qt.default.object(Ue.edges)){var Fe={left:!1,right:!1,top:!1,bottom:!1};for(var st in Fe)Fe[st]=ne(st,Ue.edges[st],je,B._latestPointer.eventTarget,ee,te,Ue.margin||wi.defaultMargin);Fe.left=Fe.left&&!Fe.right,Fe.top=Fe.top&&!Fe.bottom,(Fe.left||Fe.right||Fe.top||Fe.bottom)&&(se.action={name:"resize",edges:Fe})}else{var mt=Ue.axis!=="y"&&je.x>te.right-wi.defaultMargin,$t=Ue.axis!=="x"&&je.y>te.bottom-wi.defaultMargin;(mt||$t)&&(se.action={name:"resize",axes:(mt?"x":"")+($t?"y":"")})}return!se.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(B){var W=B.edges,ee=B.axis,te=B.name,me=wi.cursors,je=null;if(ee)je=me[te+ee];else if(W){for(var Ue="",Fe=["top","bottom","left","right"],st=0;st<Fe.length;st++){var mt=Fe[st];W[mt]&&(Ue+=mt)}je=me[Ue]}return je},defaultMargin:null},Pa=wi;Io.default=Pa;var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.default=void 0;var Zc={id:"actions",install:function(B){B.usePlugin(Fr.default),B.usePlugin(Io.default),B.usePlugin(Li.default),B.usePlugin(hn.default)}};Ia.default=Zc;var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.default=void 0;var Xi,fo,Mo=0,gl={request:function(B){return Xi(B)},cancel:function(B){return fo(B)},init:function(B){if(Xi=B.requestAnimationFrame,fo=B.cancelAnimationFrame,!Xi)for(var W=["ms","moz","webkit","o"],ee=0;ee<W.length;ee++){var te=W[ee];Xi=B["".concat(te,"RequestAnimationFrame")],fo=B["".concat(te,"CancelAnimationFrame")]||B["".concat(te,"CancelRequestAnimationFrame")]}Xi=Xi&&Xi.bind(B),fo=fo&&fo.bind(B),Xi||(Xi=function(je){var Ue=Date.now(),Fe=Math.max(0,16-(Ue-Mo)),st=B.setTimeout(function(){je(Ue+Fe)},Fe);return Mo=Ue+Fe,st},fo=function(je){return clearTimeout(je)})}};Yi.default=gl;var po={};Object.defineProperty(po,"__esModule",{value:!0}),po.default=void 0,po.getContainer=Y,po.getScroll=oe,po.getScrollSize=function(se){return qt.default.window(se)&&(se=window.document.body),{x:se.scrollWidth,y:se.scrollHeight}},po.getScrollSizeDelta=function(se,B){var W=se.interaction,ee=se.element,te=W&&W.interactable.options[W.prepared.name].autoScroll;if(!te||!te.enabled)return B(),{x:0,y:0};var me=Y(te.container,W.interactable,ee),je=oe(me);B();var Ue=oe(me);return{x:Ue.x-je.x,y:Ue.y-je.y}};var hr={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(B){hr.isScrolling=!0,Yi.default.cancel(hr.i),B.autoScroll=hr,hr.interaction=B,hr.prevTime=hr.now(),hr.i=Yi.default.request(hr.scroll)},stop:function(){hr.isScrolling=!1,hr.interaction&&(hr.interaction.autoScroll=null),Yi.default.cancel(hr.i)},scroll:function(){var B=hr.interaction,W=B.interactable,ee=B.element,te=B.prepared.name,me=W.options[te].autoScroll,je=Y(me.container,W,ee),Ue=hr.now(),Fe=(Ue-hr.prevTime)/1e3,st=me.speed*Fe;if(st>=1){var mt={x:hr.x*st,y:hr.y*st};if(mt.x||mt.y){var $t=oe(je);qt.default.window(je)?je.scrollBy(mt.x,mt.y):je&&(je.scrollLeft+=mt.x,je.scrollTop+=mt.y);var Ut=oe(je),un={x:Ut.x-$t.x,y:Ut.y-$t.y};(un.x||un.y)&&W.fire({type:"autoscroll",target:ee,interactable:W,delta:un,interaction:B,container:je})}hr.prevTime=Ue}hr.isScrolling&&(Yi.default.cancel(hr.i),hr.i=Yi.default.request(hr.scroll))},check:function(B,W){var ee;return(ee=B.options[W].autoScroll)==null?void 0:ee.enabled},onInteractionMove:function(B){var W=B.interaction,ee=B.pointer;if(W.interacting()&&hr.check(W.interactable,W.prepared.name))if(W.simulation)hr.x=hr.y=0;else{var te,me,je,Ue,Fe=W.interactable,st=W.element,mt=W.prepared.name,$t=Fe.options[mt].autoScroll,Ut=Y($t.container,Fe,st);if(qt.default.window(Ut))Ue=ee.clientX<hr.margin,te=ee.clientY<hr.margin,me=ee.clientX>Ut.innerWidth-hr.margin,je=ee.clientY>Ut.innerHeight-hr.margin;else{var un=gt.getElementClientRect(Ut);Ue=ee.clientX<un.left+hr.margin,te=ee.clientY<un.top+hr.margin,me=ee.clientX>un.right-hr.margin,je=ee.clientY>un.bottom-hr.margin}hr.x=me?1:Ue?-1:0,hr.y=je?1:te?-1:0,hr.isScrolling||(hr.margin=$t.margin,hr.speed=$t.speed,hr.start(W))}}},Lr={id:"auto-scroll",install:function(B){var W=B.defaults,ee=B.actions;B.autoScroll=hr,hr.now=function(){return B.now()},ee.phaselessTypes.autoscroll=!0,W.perAction.autoScroll=hr.defaults},listeners:{"interactions:new":function(se){se.interaction.autoScroll=null},"interactions:destroy":function(se){se.interaction.autoScroll=null,hr.stop(),hr.interaction&&(hr.interaction=null)},"interactions:stop":hr.stop,"interactions:action-move":function(se){return hr.onInteractionMove(se)}}},ea=Lr;po.default=ea;var fi={};Object.defineProperty(fi,"__esModule",{value:!0}),fi.copyAction=function(se,B){return se.name=B.name,se.axis=B.axis,se.edges=B.edges,se},fi.sign=void 0,fi.warnOnce=function(se,B){var W=!1;return function(){return W||(zt.window.console.warn(B),W=!0),se.apply(this,arguments)}},fi.sign=function(se){return se>=0?1:-1};var kn={};Object.defineProperty(kn,"__esModule",{value:!0}),kn.default=void 0;var Ae={id:"auto-start/interactableMethods",install:function(B){var W=B.Interactable;W.prototype.getAction=function(ee,te,me,je){var Ue=function(Fe,st,mt,$t,Ut){var un=Fe.getRect($t),Gt={action:null,interactable:Fe,interaction:mt,element:$t,rect:un,buttons:st.buttons||{0:1,1:4,3:8,4:16}[st.button]};return Ut.fire("auto-start:check",Gt),Gt.action}(this,te,me,je,B);return this.options.actionChecker?this.options.actionChecker(ee,te,Ue,this,je,me):Ue},W.prototype.ignoreFrom=(0,fi.warnOnce)(function(ee){return this._backCompatOption("ignoreFrom",ee)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),W.prototype.allowFrom=(0,fi.warnOnce)(function(ee){return this._backCompatOption("allowFrom",ee)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),W.prototype.actionChecker=G,W.prototype.styleCursor=q}};kn.default=Ae;var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default=void 0;var S={id:"auto-start/base",before:["actions"],install:function(B){var W=B.interactStatic,ee=B.defaults;B.usePlugin(kn.default),ee.base.actionChecker=null,ee.base.styleCursor=!0,(0,yt.default)(ee.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),W.maxInteractions=function(te){return ke(te,B)},B.autoStart={maxInteractions:1/0,withinInteractionLimit:De,cursorElement:null}},listeners:{"interactions:down":function(se,B){var W=se.interaction,ee=se.pointer,te=se.event,me=se.eventTarget;W.interacting()||Oe(W,ie(W,ee,te,me,B),B)},"interactions:move":function(se,B){(function(W,ee){var te=W.interaction,me=W.pointer,je=W.event,Ue=W.eventTarget;te.pointerType!=="mouse"||te.pointerIsDown||te.interacting()||Oe(te,ie(te,me,je,Ue,ee),ee)})(se,B),function(W,ee){var te=W.interaction;if(te.pointerIsDown&&!te.interacting()&&te.pointerWasMoved&&te.prepared.name){ee.fire("autoStart:before-start",W);var me=te.interactable,je=te.prepared.name;je&&me&&(me.options[je].manualStart||!De(me,te.element,te.prepared,ee)?te.stop():(te.start(te.prepared,me,te.element),Ve(te,ee)))}}(se,B)},"interactions:stop":function(se,B){var W=se.interaction,ee=W.interactable;ee&&ee.options.styleCursor&&tt(W.element,"",B)}},maxInteractions:ke,withinInteractionLimit:De,validateAction:J},T=S;M.default=T;var I={};Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var z={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(se,B){var W=se.interaction,ee=se.eventTarget,te=se.dx,me=se.dy;if(W.prepared.name==="drag"){var je=Math.abs(te),Ue=Math.abs(me),Fe=W.interactable.options.drag,st=Fe.startAxis,mt=je>Ue?"x":je<Ue?"y":"xy";if(W.prepared.axis=Fe.lockAxis==="start"?mt[0]:Fe.lockAxis,mt!=="xy"&&st!=="xy"&&st!==mt){W.prepared.name=null;for(var $t=ee,Ut=function(En){if(En!==W.interactable){var zn=W.interactable.options.drag;if(!zn.manualStart&&En.testIgnoreAllow(zn,$t,ee)){var Tn=En.getAction(W.downPointer,W.downEvent,W,$t);if(Tn&&Tn.name==="drag"&&function(Fn,er){if(!er)return!1;var fr=er.options.drag.startAxis;return Fn==="xy"||fr==="xy"||fr===Fn}(mt,En)&&M.default.validateAction(Tn,En,$t,ee,B))return En}}};qt.default.element($t);){var un=B.interactables.forEachMatch($t,Ut);if(un){W.prepared.name="drag",W.interactable=un,W.element=$t;break}$t=(0,gt.parentNode)($t)}}}}}};I.default=z;var U={};Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0;var re={id:"auto-start/hold",install:function(B){var W=B.defaults;B.usePlugin(M.default),W.perAction.hold=0,W.perAction.delay=0},listeners:{"interactions:new":function(se){se.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(se){var B=se.interaction,W=Qe(B);W>0&&(B.autoStartHoldTimer=setTimeout(function(){B.start(B.prepared,B.interactable,B.element)},W))},"interactions:move":function(se){var B=se.interaction,W=se.duplicate;B.autoStartHoldTimer&&B.pointerWasMoved&&!W&&(clearTimeout(B.autoStartHoldTimer),B.autoStartHoldTimer=null)},"autoStart:before-start":function(se){var B=se.interaction;Qe(B)>0&&(B.prepared.name=null)}},getHoldDuration:Qe},he=re;U.default=he;var Se={};Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var We={id:"auto-start",install:function(B){B.usePlugin(M.default),B.usePlugin(U.default),B.usePlugin(I.default)}};Se.default=We;var kt={};Object.defineProperty(kt,"__esModule",{value:!0}),kt.default=void 0,kt.install=vt;var Pt={id:"core/interactablePreventDefault",install:vt,listeners:["down","move","up","cancel"].reduce(function(se,B){return se["interactions:".concat(B)]=bt,se},{})};kt.default=Pt;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=void 0,Ht.default={};var Yt,It={};Object.defineProperty(It,"__esModule",{value:!0}),It.default=void 0,function(se){se.touchAction="touchAction",se.boxSizing="boxSizing",se.noListeners="noListeners"}(Yt||(Yt={})),Yt.touchAction,Yt.boxSizing,Yt.noListeners,It.default={id:"dev-tools",install:function(){}};var nn={};Object.defineProperty(nn,"__esModule",{value:!0}),nn.default=function se(B){var W={};for(var ee in B){var te=B[ee];qt.default.plainObject(te)?W[ee]=se(te):qt.default.array(te)?W[ee]=_r.from(te):W[ee]=te}return W};var xn={};Object.defineProperty(xn,"__esModule",{value:!0}),xn.default=void 0,xn.getRectOffset=Ke;var Mn=function(){function se(ee){(function(te,me){if(!_instanceof(te,me))throw new TypeError("Cannot call a class as a function")})(this,se),Ne(this,"states",[]),Ne(this,"startOffset",{left:0,right:0,top:0,bottom:0}),Ne(this,"startDelta",void 0),Ne(this,"result",void 0),Ne(this,"endResult",void 0),Ne(this,"startEdges",void 0),Ne(this,"edges",void 0),Ne(this,"interaction",void 0),this.interaction=ee,this.result=Ze(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}var B,W;return B=se,(W=[{key:"start",value:function(te,me){var je=te.phase,Ue=this.interaction,Fe=function(mt){var $t=mt.interactable.options[mt.prepared.name],Ut=$t.modifiers;return Ut&&Ut.length?Ut:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(un){var Gt=$t[un];return Gt&&Gt.enabled&&{options:Gt,methods:Gt._methods}}).filter(function(un){return!!un})}(Ue);this.prepareStates(Fe),this.startEdges=(0,yt.default)({},Ue.edges),this.edges=(0,yt.default)({},this.startEdges),this.startOffset=Ke(Ue.rect,me),this.startDelta={x:0,y:0};var st=this.fillArg({phase:je,pageCoords:me,preEnd:!1});return this.result=Ze(),this.startAll(st),this.result=this.setAll(st)}},{key:"fillArg",value:function(te){var me=this.interaction;return te.interaction=me,te.interactable=me.interactable,te.element=me.element,te.rect||(te.rect=me.rect),te.edges||(te.edges=this.startEdges),te.startOffset=this.startOffset,te}},{key:"startAll",value:function(te){for(var me=0;me<this.states.length;me++){var je=this.states[me];je.methods.start&&(te.state=je,je.methods.start(te))}}},{key:"setAll",value:function(te){var me=te.phase,je=te.preEnd,Ue=te.skipModifiers,Fe=te.rect,st=te.edges;te.coords=(0,yt.default)({},te.pageCoords),te.rect=(0,yt.default)({},Fe),te.edges=(0,yt.default)({},st);for(var mt=Ue?this.states.slice(Ue):this.states,$t=Ze(te.coords,te.rect),Ut=0;Ut<mt.length;Ut++){var un,Gt=mt[Ut],En=Gt.options,zn=(0,yt.default)({},te.coords),Tn=null;(un=Gt.methods)!=null&&un.set&&this.shouldDo(En,je,me)&&(te.state=Gt,Tn=Gt.methods.set(te),en.addEdges(te.edges,te.rect,{x:te.coords.x-zn.x,y:te.coords.y-zn.y})),$t.eventProps.push(Tn)}(0,yt.default)(this.edges,te.edges),$t.delta.x=te.coords.x-te.pageCoords.x,$t.delta.y=te.coords.y-te.pageCoords.y,$t.rectDelta.left=te.rect.left-Fe.left,$t.rectDelta.right=te.rect.right-Fe.right,$t.rectDelta.top=te.rect.top-Fe.top,$t.rectDelta.bottom=te.rect.bottom-Fe.bottom;var Fn=this.result.coords,er=this.result.rect;if(Fn&&er){var fr=$t.rect.left!==er.left||$t.rect.right!==er.right||$t.rect.top!==er.top||$t.rect.bottom!==er.bottom;$t.changed=fr||Fn.x!==$t.coords.x||Fn.y!==$t.coords.y}return $t}},{key:"applyToInteraction",value:function(te){var me=this.interaction,je=te.phase,Ue=me.coords.cur,Fe=me.coords.start,st=this.result,mt=this.startDelta,$t=st.delta;je==="start"&&(0,yt.default)(this.startDelta,st.delta);for(var Ut=0;Ut<2;Ut++){var un=Le([[Fe,mt],[Ue,$t]][Ut],2),Gt=un[0],En=un[1];Gt.page.x+=En.x,Gt.page.y+=En.y,Gt.client.x+=En.x,Gt.client.y+=En.y}var zn=this.result.rectDelta,Tn=te.rect||me.rect;Tn.left+=zn.left,Tn.right+=zn.right,Tn.top+=zn.top,Tn.bottom+=zn.bottom,Tn.width=Tn.right-Tn.left,Tn.height=Tn.bottom-Tn.top}},{key:"setAndApply",value:function(te){var me=this.interaction,je=te.phase,Ue=te.preEnd,Fe=te.skipModifiers,st=this.setAll(this.fillArg({preEnd:Ue,phase:je,pageCoords:te.modifiedCoords||me.coords.cur.page}));if(this.result=st,!st.changed&&(!Fe||Fe<this.states.length)&&me.interacting())return!1;if(te.modifiedCoords){var mt=me.coords.cur.page,$t={x:te.modifiedCoords.x-mt.x,y:te.modifiedCoords.y-mt.y};st.coords.x+=$t.x,st.coords.y+=$t.y,st.delta.x+=$t.x,st.delta.y+=$t.y}this.applyToInteraction(te)}},{key:"beforeEnd",value:function(te){var me=te.interaction,je=te.event,Ue=this.states;if(Ue&&Ue.length){for(var Fe=!1,st=0;st<Ue.length;st++){var mt=Ue[st];te.state=mt;var $t=mt.options,Ut=mt.methods,un=Ut.beforeEnd&&Ut.beforeEnd(te);if(un)return this.endResult=un,!1;Fe=Fe||!Fe&&this.shouldDo($t,!0,te.phase,!0)}Fe&&me.move({event:je,preEnd:!0})}}},{key:"stop",value:function(te){var me=te.interaction;if(this.states&&this.states.length){var je=(0,yt.default)({states:this.states,interactable:me.interactable,element:me.element,rect:null},te);this.fillArg(je);for(var Ue=0;Ue<this.states.length;Ue++){var Fe=this.states[Ue];je.state=Fe,Fe.methods.stop&&Fe.methods.stop(je)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(te){this.states=[];for(var me=0;me<te.length;me++){var je=te[me],Ue=je.options,Fe=je.methods,st=je.name;this.states.push({options:Ue,methods:Fe,index:me,name:st})}return this.states}},{key:"restoreInteractionCoords",value:function(te){var me=te.interaction,je=me.coords,Ue=me.rect,Fe=me.modification;if(Fe.result){for(var st=Fe.startDelta,mt=Fe.result,$t=mt.delta,Ut=mt.rectDelta,un=[[je.start,st],[je.cur,$t]],Gt=0;Gt<un.length;Gt++){var En=Le(un[Gt],2),zn=En[0],Tn=En[1];zn.page.x-=Tn.x,zn.page.y-=Tn.y,zn.client.x-=Tn.x,zn.client.y-=Tn.y}Ue.left-=Ut.left,Ue.right-=Ut.right,Ue.top-=Ut.top,Ue.bottom-=Ut.bottom}}},{key:"shouldDo",value:function(te,me,je,Ue){return!(!te||te.enabled===!1||Ue&&!te.endOnly||te.endOnly&&!me||je==="start"&&!te.setStart)}},{key:"copyFrom",value:function(te){this.startOffset=te.startOffset,this.startDelta=te.startDelta,this.startEdges=te.startEdges,this.edges=te.edges,this.states=te.states.map(function(me){return(0,nn.default)(me)}),this.result=Ze((0,yt.default)({},te.result.coords),(0,yt.default)({},te.result.rect))}},{key:"destroy",value:function(){for(var te in this)this[te]=null}}])&&function(ee,te){for(var me=0;me<te.length;me++){var je=te[me];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(ee,je.key,je)}}(B.prototype,W),Object.defineProperty(B,"prototype",{writable:!1}),se}();xn.default=Mn;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.addEventModifiers=Pe,Sn.default=void 0,Sn.makeModifier=function(se,B){var W=se.defaults,ee={start:se.start,set:se.set,beforeEnd:se.beforeEnd,stop:se.stop},te=function(je){var Ue=je||{};for(var Fe in Ue.enabled=Ue.enabled!==!1,W)Fe in Ue||(Ue[Fe]=W[Fe]);var st={options:Ue,methods:ee,name:B,enable:function(){return Ue.enabled=!0,st},disable:function(){return Ue.enabled=!1,st}};return st};return B&&typeof B=="string"&&(te._defaults=W,te._methods=ee),te};var Yn={id:"modifiers/base",before:["actions"],install:function(B){B.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(se){var B=se.interaction;B.modification=new xn.default(B)},"interactions:before-action-start":function(se){var B=se.interaction,W=se.interaction.modification;W.start(se,B.coords.start.page),B.edges=W.edges,W.applyToInteraction(se)},"interactions:before-action-move":function(se){var B=se.interaction,W=B.modification,ee=W.setAndApply(se);return B.edges=W.edges,ee},"interactions:before-action-end":function(se){var B=se.interaction,W=B.modification,ee=W.beforeEnd(se);return B.edges=W.startEdges,ee},"interactions:action-start":Pe,"interactions:action-move":Pe,"interactions:action-end":Pe,"interactions:after-action-start":function(se){return se.interaction.modification.restoreInteractionCoords(se)},"interactions:after-action-move":function(se){return se.interaction.modification.restoreInteractionCoords(se)},"interactions:stop":function(se){return se.interaction.modification.stop(se)}}},Un=Yn;Sn.default=Un;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.defaults=void 0,Pn.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Xn={};function Gn(se){return Gn=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(W){return typeof W=="undefined"?"undefined":_typeof(W)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B=="undefined"?"undefined":_typeof(B)},Gn(se)}function tr(se,B){return tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ee,te){return ee.__proto__=te,ee},tr(se,B)}function Zn(se){return Zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},Zn(se)}Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.InteractEvent=void 0;var Qn=function(se){(function(Ue,Fe){if(typeof Fe!="function"&&Fe!==null)throw new TypeError("Super expression must either be null or a function");Ue.prototype=Object.create(Fe&&Fe.prototype,{constructor:{value:Ue,writable:!0,configurable:!0}}),Object.defineProperty(Ue,"prototype",{writable:!1}),Fe&&tr(Ue,Fe)})(je,se);var B,W,ee,te,me=(ee=je,te=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ue){return!1}}(),function(){var Fe,st=Zn(ee);if(te){var mt=Zn(this).constructor;Fe=Reflect.construct(st,arguments,mt)}else Fe=st.apply(this,arguments);return function($t,Ut){if(Ut&&(Gn(Ut)==="object"||typeof Ut=="function"))return Ut;if(Ut!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return at($t)}(this,Fe)});function je(Ue,Fe,st,mt,$t,Ut,un){var Gt;(function(Rr,_i){if(!_instanceof(Rr,_i))throw new TypeError("Cannot call a class as a function")})(this,je),pt(at(Gt=me.call(this,Ue)),"relatedTarget",null),pt(at(Gt),"screenX",void 0),pt(at(Gt),"screenY",void 0),pt(at(Gt),"button",void 0),pt(at(Gt),"buttons",void 0),pt(at(Gt),"ctrlKey",void 0),pt(at(Gt),"shiftKey",void 0),pt(at(Gt),"altKey",void 0),pt(at(Gt),"metaKey",void 0),pt(at(Gt),"page",void 0),pt(at(Gt),"client",void 0),pt(at(Gt),"delta",void 0),pt(at(Gt),"rect",void 0),pt(at(Gt),"x0",void 0),pt(at(Gt),"y0",void 0),pt(at(Gt),"t0",void 0),pt(at(Gt),"dt",void 0),pt(at(Gt),"duration",void 0),pt(at(Gt),"clientX0",void 0),pt(at(Gt),"clientY0",void 0),pt(at(Gt),"velocity",void 0),pt(at(Gt),"speed",void 0),pt(at(Gt),"swipe",void 0),pt(at(Gt),"axes",void 0),pt(at(Gt),"preEnd",void 0),$t=$t||Ue.element;var En=Ue.interactable,zn=(En&&En.options||Pn.defaults).deltaSource,Tn=(0,on.default)(En,$t,st),Fn=mt==="start",er=mt==="end",fr=Fn?at(Gt):Ue.prevEvent,Ar=Fn?Ue.coords.start:er?{page:fr.page,client:fr.client,timeStamp:Ue.coords.cur.timeStamp}:Ue.coords.cur;return Gt.page=(0,yt.default)({},Ar.page),Gt.client=(0,yt.default)({},Ar.client),Gt.rect=(0,yt.default)({},Ue.rect),Gt.timeStamp=Ar.timeStamp,er||(Gt.page.x-=Tn.x,Gt.page.y-=Tn.y,Gt.client.x-=Tn.x,Gt.client.y-=Tn.y),Gt.ctrlKey=Fe.ctrlKey,Gt.altKey=Fe.altKey,Gt.shiftKey=Fe.shiftKey,Gt.metaKey=Fe.metaKey,Gt.button=Fe.button,Gt.buttons=Fe.buttons,Gt.target=$t,Gt.currentTarget=$t,Gt.preEnd=Ut,Gt.type=un||st+(mt||""),Gt.interactable=En,Gt.t0=Fn?Ue.pointers[Ue.pointers.length-1].downTime:fr.t0,Gt.x0=Ue.coords.start.page.x-Tn.x,Gt.y0=Ue.coords.start.page.y-Tn.y,Gt.clientX0=Ue.coords.start.client.x-Tn.x,Gt.clientY0=Ue.coords.start.client.y-Tn.y,Gt.delta=Fn||er?{x:0,y:0}:{x:Gt[zn].x-fr[zn].x,y:Gt[zn].y-fr[zn].y},Gt.dt=Ue.coords.delta.timeStamp,Gt.duration=Gt.timeStamp-Gt.t0,Gt.velocity=(0,yt.default)({},Ue.coords.velocity[zn]),Gt.speed=(0,Kn.default)(Gt.velocity.x,Gt.velocity.y),Gt.swipe=er||mt==="inertiastart"?Gt.getSwipe():null,Gt}return B=je,(W=[{key:"getSwipe",value:function(){var Fe=this._interaction;if(Fe.prevEvent.speed<600||this.timeStamp-Fe.prevEvent.timeStamp>150)return null;var st=180*Math.atan2(Fe.prevEvent.velocityY,Fe.prevEvent.velocityX)/Math.PI;st<0&&(st+=360);var mt=112.5<=st&&st<247.5,$t=202.5<=st&&st<337.5;return{up:$t,down:!$t&&22.5<=st&&st<157.5,left:mt,right:!mt&&(292.5<=st||st<67.5),angle:st,speed:Fe.prevEvent.speed,velocity:{x:Fe.prevEvent.velocityX,y:Fe.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&function(Ue,Fe){for(var st=0;st<Fe.length;st++){var mt=Fe[st];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(Ue,mt.key,mt)}}(B.prototype,W),Object.defineProperty(B,"prototype",{writable:!1}),je}(Gr.BaseEvent);Xn.InteractEvent=Qn,Object.defineProperties(Qn.prototype,{pageX:{get:function(){return this.page.x},set:function(B){this.page.x=B}},pageY:{get:function(){return this.page.y},set:function(B){this.page.y=B}},clientX:{get:function(){return this.client.x},set:function(B){this.client.x=B}},clientY:{get:function(){return this.client.y},set:function(B){this.client.y=B}},dx:{get:function(){return this.delta.x},set:function(B){this.delta.x=B}},dy:{get:function(){return this.delta.y},set:function(B){this.delta.y=B}},velocityX:{get:function(){return this.velocity.x},set:function(B){this.velocity.x=B}},velocityY:{get:function(){return this.velocity.y},set:function(B){this.velocity.y=B}}});var wr={};Object.defineProperty(wr,"__esModule",{value:!0}),wr.PointerInfo=void 0;var pr=function(se,B,W){return B&&lt(se.prototype,B),W&&lt(se,W),Object.defineProperty(se,"prototype",{writable:!1}),se}(function se(B,W,ee,te,me){(function(je,Ue){if(!_instanceof(je,Ue))throw new TypeError("Cannot call a class as a function")})(this,se),ct(this,"id",void 0),ct(this,"pointer",void 0),ct(this,"event",void 0),ct(this,"downTime",void 0),ct(this,"downTarget",void 0),this.id=B,this.pointer=W,this.event=ee,this.downTime=te,this.downTarget=me});wr.PointerInfo=pr;var Jn,ur,Me={};Object.defineProperty(Me,"__esModule",{value:!0}),Me.Interaction=void 0,Object.defineProperty(Me,"PointerInfo",{enumerable:!0,get:function(){return wr.PointerInfo}}),Me.default=Me._ProxyValues=Me._ProxyMethods=void 0,Me._ProxyValues=Jn,function(se){se.interactable="",se.element="",se.prepared="",se.pointerIsDown="",se.pointerWasMoved="",se._proxy=""}(Jn||(Me._ProxyValues=Jn={})),Me._ProxyMethods=ur,function(se){se.start="",se.move="",se.end="",se.stop="",se.interacting=""}(ur||(Me._ProxyMethods=ur={}));var ye=0,Te=function(){function se(ee){var te=this,me=ee.pointerType,je=ee.scopeFire;(function(Ut,un){if(!_instanceof(Ut,un))throw new TypeError("Cannot call a class as a function")})(this,se),Ge(this,"interactable",null),Ge(this,"element",null),Ge(this,"rect",null),Ge(this,"_rects",void 0),Ge(this,"edges",null),Ge(this,"_scopeFire",void 0),Ge(this,"prepared",{name:null,axis:null,edges:null}),Ge(this,"pointerType",void 0),Ge(this,"pointers",[]),Ge(this,"downEvent",null),Ge(this,"downPointer",{}),Ge(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),Ge(this,"prevEvent",null),Ge(this,"pointerIsDown",!1),Ge(this,"pointerWasMoved",!1),Ge(this,"_interacting",!1),Ge(this,"_ending",!1),Ge(this,"_stopped",!0),Ge(this,"_proxy",null),Ge(this,"simulation",null),Ge(this,"doMove",(0,fi.warnOnce)(function(Ut){this.move(Ut)},"The interaction.doMove() method has been renamed to interaction.move()")),Ge(this,"coords",{start:An.newCoords(),prev:An.newCoords(),cur:An.newCoords(),delta:An.newCoords(),velocity:An.newCoords()}),Ge(this,"_id",ye++),this._scopeFire=je,this.pointerType=me;var Ue=this;this._proxy={};var Fe=function(un){Object.defineProperty(te._proxy,un,{get:function(){return Ue[un]}})};for(var st in Jn)Fe(st);var mt=function(un){Object.defineProperty(te._proxy,un,{value:function(){return Ue[un].apply(Ue,arguments)}})};for(var $t in ur)mt($t);this._scopeFire("interactions:new",{interaction:this})}var B,W;return B=se,W=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(te,me,je){var Ue=this.updatePointer(te,me,je,!0),Fe=this.pointers[Ue];this._scopeFire("interactions:down",{pointer:te,event:me,eventTarget:je,pointerIndex:Ue,pointerInfo:Fe,type:"down",interaction:this})}},{key:"start",value:function(te,me,je){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(te.name==="gesture"?2:1)||!me.options[te.name].enabled)&&((0,fi.copyAction)(this.prepared,te),this.interactable=me,this.element=je,this.rect=me.getRect(je),this.edges=this.prepared.edges?(0,yt.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(te,me,je){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(te,me,je,!1);var Ue,Fe,st=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(Ue=this.coords.cur.client.x-this.coords.start.client.x,Fe=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,Kn.default)(Ue,Fe)>this.pointerMoveTolerance);var mt=this.getPointerIndex(te),$t={pointer:te,pointerIndex:mt,pointerInfo:this.pointers[mt],event:me,type:"move",eventTarget:je,dx:Ue,dy:Fe,duplicate:st,interaction:this};st||An.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",$t),st||this.simulation||(this.interacting()&&($t.type=null,this.move($t)),this.pointerWasMoved&&An.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(te){te&&te.event||An.setZeroCoords(this.coords.delta),(te=(0,yt.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},te||{})).phase="move",this._doPhase(te)}},{key:"pointerUp",value:function(te,me,je,Ue){var Fe=this.getPointerIndex(te);Fe===-1&&(Fe=this.updatePointer(te,me,je,!1));var st=/cancel$/i.test(me.type)?"cancel":"up";this._scopeFire("interactions:".concat(st),{pointer:te,pointerIndex:Fe,pointerInfo:this.pointers[Fe],event:me,eventTarget:je,type:st,curEventTarget:Ue,interaction:this}),this.simulation||this.end(me),this.removePointer(te,me)}},{key:"documentBlur",value:function(te){this.end(te),this._scopeFire("interactions:blur",{event:te,type:"blur",interaction:this})}},{key:"end",value:function(te){var me;this._ending=!0,te=te||this._latestPointer.event,this.interacting()&&(me=this._doPhase({event:te,interaction:this,phase:"end"})),this._ending=!1,me===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(te){var me=An.getPointerId(te);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:_r.findIndex(this.pointers,function(je){return je.id===me})}},{key:"getPointerInfo",value:function(te){return this.pointers[this.getPointerIndex(te)]}},{key:"updatePointer",value:function(te,me,je,Ue){var Fe=An.getPointerId(te),st=this.getPointerIndex(te),mt=this.pointers[st];return Ue=Ue!==!1&&(Ue||/(down|start)$/i.test(me.type)),mt?mt.pointer=te:(mt=new wr.PointerInfo(Fe,te,me,null,null),st=this.pointers.length,this.pointers.push(mt)),An.setCoords(this.coords.cur,this.pointers.map(function($t){return $t.pointer}),this._now()),An.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),Ue&&(this.pointerIsDown=!0,mt.downTime=this.coords.cur.timeStamp,mt.downTarget=je,An.pointerExtend(this.downPointer,te),this.interacting()||(An.copyCoords(this.coords.start,this.coords.cur),An.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=me,this.pointerWasMoved=!1)),this._updateLatestPointer(te,me,je),this._scopeFire("interactions:update-pointer",{pointer:te,event:me,eventTarget:je,down:Ue,pointerInfo:mt,pointerIndex:st,interaction:this}),st}},{key:"removePointer",value:function(te,me){var je=this.getPointerIndex(te);if(je!==-1){var Ue=this.pointers[je];this._scopeFire("interactions:remove-pointer",{pointer:te,event:me,eventTarget:null,pointerIndex:je,pointerInfo:Ue,interaction:this}),this.pointers.splice(je,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(te,me,je){this._latestPointer.pointer=te,this._latestPointer.event=me,this._latestPointer.eventTarget=je}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(te,me,je,Ue){return new Xn.InteractEvent(this,te,this.prepared.name,me,this.element,je,Ue)}},{key:"_fireEvent",value:function(te){var me;(me=this.interactable)==null||me.fire(te),(!this.prevEvent||te.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=te)}},{key:"_doPhase",value:function(te){var me=te.event,je=te.phase,Ue=te.preEnd,Fe=te.type,st=this.rect;if(st&&je==="move"&&(en.addEdges(this.edges,st,this.coords.delta[this.interactable.options.deltaSource]),st.width=st.right-st.left,st.height=st.bottom-st.top),this._scopeFire("interactions:before-action-".concat(je),te)===!1)return!1;var mt=te.iEvent=this._createPreparedEvent(me,je,Ue,Fe);return this._scopeFire("interactions:action-".concat(je),te),je==="start"&&(this.prevEvent=mt),this._fireEvent(mt),this._scopeFire("interactions:after-action-".concat(je),te),!0}},{key:"_now",value:function(){return Date.now()}}],W&&function(ee,te){for(var me=0;me<te.length;me++){var je=te[me];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(ee,je.key,je)}}(B.prototype,W),Object.defineProperty(B,"prototype",{writable:!1}),se}();Me.Interaction=Te;var ft=Te;Me.default=ft;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.addTotal=ze,Ot.applyPending=rt,Ot.default=void 0,Me._ProxyMethods.offsetBy="";var Ct={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(B){B.Interaction.prototype.offsetBy=it},listeners:{"interactions:new":function(se){se.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(se){return ze(se.interaction)},"interactions:before-action-start":He,"interactions:before-action-move":He,"interactions:before-action-end":function(se){var B=se.interaction;if(rt(B))return B.move({offset:!0}),B.end(),!1},"interactions:stop":function(se){var B=se.interaction;B.offset.total.x=0,B.offset.total.y=0,B.offset.pending.x=0,B.offset.pending.y=0}}},sn=Ct;Ot.default=sn;var cn={};Object.defineProperty(cn,"__esModule",{value:!0}),cn.default=cn.InertiaState=void 0;var jn=function(){function se(ee){(function(te,me){if(!_instanceof(te,me))throw new TypeError("Cannot call a class as a function")})(this,se),_t(this,"active",!1),_t(this,"isModified",!1),_t(this,"smoothEnd",!1),_t(this,"allowResume",!1),_t(this,"modification",void 0),_t(this,"modifierCount",0),_t(this,"modifierArg",void 0),_t(this,"startCoords",void 0),_t(this,"t0",0),_t(this,"v0",0),_t(this,"te",0),_t(this,"targetOffset",void 0),_t(this,"modifiedOffset",void 0),_t(this,"currentOffset",void 0),_t(this,"lambda_v0",0),_t(this,"one_ve_v0",0),_t(this,"timeout",void 0),_t(this,"interaction",void 0),this.interaction=ee}var B,W;return B=se,(W=[{key:"start",value:function(te){var me=this.interaction,je=xt(me);if(!je||!je.enabled)return!1;var Ue=me.coords.velocity.client,Fe=(0,Kn.default)(Ue.x,Ue.y),st=this.modification||(this.modification=new xn.default(me));if(st.copyFrom(me.modification),this.t0=me._now(),this.allowResume=je.allowResume,this.v0=Fe,this.currentOffset={x:0,y:0},this.startCoords=me.coords.cur.page,this.modifierArg=st.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-me.coords.cur.timeStamp<50&&Fe>je.minSpeed&&Fe>je.endSpeed)this.startInertia();else{if(st.result=st.setAll(this.modifierArg),!st.result.changed)return!1;this.startSmoothEnd()}return me.modification.result.rect=null,me.offsetBy(this.targetOffset),me._doPhase({interaction:me,event:te,phase:"inertiastart"}),me.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),me.modification.result.rect=null,this.active=!0,me.simulation=this,!0}},{key:"startInertia",value:function(){var te=this,me=this.interaction.coords.velocity.client,je=xt(this.interaction),Ue=je.resistance,Fe=-Math.log(je.endSpeed/this.v0)/Ue;this.targetOffset={x:(me.x-Fe)/Ue,y:(me.y-Fe)/Ue},this.te=Fe,this.lambda_v0=Ue/this.v0,this.one_ve_v0=1-je.endSpeed/this.v0;var st=this.modification,mt=this.modifierArg;mt.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},st.result=st.setAll(mt),st.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+st.result.delta.x,y:this.targetOffset.y+st.result.delta.y}),this.onNextFrame(function(){return te.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var te=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return te.smoothEndTick()})}},{key:"onNextFrame",value:function(te){var me=this;this.timeout=Yi.default.request(function(){me.active&&te()})}},{key:"inertiaTick",value:function(){var te,me,je,Ue,Fe,st=this,mt=this.interaction,$t=xt(mt).resistance,Ut=(mt._now()-this.t0)/1e3;if(Ut<this.te){var un,Gt=1-(Math.exp(-$t*Ut)-this.lambda_v0)/this.one_ve_v0;this.isModified?(te=this.targetOffset.x,me=this.targetOffset.y,je=this.modifiedOffset.x,Ue=this.modifiedOffset.y,un={x:ut(Fe=Gt,0,te,je),y:ut(Fe,0,me,Ue)}):un={x:this.targetOffset.x*Gt,y:this.targetOffset.y*Gt};var En={x:un.x-this.currentOffset.x,y:un.y-this.currentOffset.y};this.currentOffset.x+=En.x,this.currentOffset.y+=En.y,mt.offsetBy(En),mt.move(),this.onNextFrame(function(){return st.inertiaTick()})}else mt.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var te=this,me=this.interaction,je=me._now()-this.t0,Ue=xt(me).smoothEndDuration;if(je<Ue){var Fe={x:we(je,0,this.targetOffset.x,Ue),y:we(je,0,this.targetOffset.y,Ue)},st={x:Fe.x-this.currentOffset.x,y:Fe.y-this.currentOffset.y};this.currentOffset.x+=st.x,this.currentOffset.y+=st.y,me.offsetBy(st),me.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return te.smoothEndTick()})}else me.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(te){var me=te.pointer,je=te.event,Ue=te.eventTarget,Fe=this.interaction;Fe.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),Fe.updatePointer(me,je,Ue,!0),Fe._doPhase({interaction:Fe,event:je,phase:"resume"}),(0,An.copyCoords)(Fe.coords.prev,Fe.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Yi.default.cancel(this.timeout)}}])&&function(ee,te){for(var me=0;me<te.length;me++){var je=te[me];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(ee,je.key,je)}}(B.prototype,W),Object.defineProperty(B,"prototype",{writable:!1}),se}();cn.InertiaState=jn;var rr={id:"inertia",before:["modifiers","actions"],install:function(B){var W=B.defaults;B.usePlugin(Ot.default),B.usePlugin(Sn.default),B.actions.phases.inertiastart=!0,B.actions.phases.resume=!0,W.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(se){var B=se.interaction;B.inertia=new jn(B)},"interactions:before-action-end":function(se){var B=se.interaction,W=se.event;return(!B._interacting||B.simulation||!B.inertia.start(W))&&null},"interactions:down":function(se){var B=se.interaction,W=se.eventTarget,ee=B.inertia;if(ee.active)for(var te=W;qt.default.element(te);){if(te===B.element){ee.resume(se);break}te=gt.parentNode(te)}},"interactions:stop":function(se){var B=se.interaction.inertia;B.active&&B.stop()},"interactions:before-action-resume":function(se){var B=se.interaction.modification;B.stop(se),B.start(se,se.interaction.coords.cur.page),B.applyToInteraction(se)},"interactions:before-action-inertiastart":function(se){return se.interaction.modification.setAndApply(se)},"interactions:action-resume":Sn.addEventModifiers,"interactions:action-inertiastart":Sn.addEventModifiers,"interactions:after-action-inertiastart":function(se){return se.interaction.modification.restoreInteractionCoords(se)},"interactions:after-action-resume":function(se){return se.interaction.modification.restoreInteractionCoords(se)}}},ir=rr;cn.default=ir;var sr={};Object.defineProperty(sr,"__esModule",{value:!0}),sr.Eventable=void 0;var _s=function(){function se(ee){(function(te,me){if(!_instanceof(te,me))throw new TypeError("Cannot call a class as a function")})(this,se),N(this,"options",void 0),N(this,"types",{}),N(this,"propagationStopped",!1),N(this,"immediatePropagationStopped",!1),N(this,"global",void 0),this.options=(0,yt.default)({},ee||{})}var B,W;return B=se,(W=[{key:"fire",value:function(te){var me,je=this.global;(me=this.types[te.type])&&qe(te,me),!te.propagationStopped&&je&&(me=je[te.type])&&qe(te,me)}},{key:"on",value:function(te,me){var je=(0,In.default)(te,me);for(te in je)this.types[te]=_r.merge(this.types[te]||[],je[te])}},{key:"off",value:function(te,me){var je=(0,In.default)(te,me);for(te in je){var Ue=this.types[te];if(Ue&&Ue.length)for(var Fe=0;Fe<je[te].length;Fe++){var st=je[te][Fe],mt=Ue.indexOf(st);mt!==-1&&Ue.splice(mt,1)}}}},{key:"getRect",value:function(te){return null}}])&&function(ee,te){for(var me=0;me<te.length;me++){var je=te[me];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(ee,je.key,je)}}(B.prototype,W),Object.defineProperty(B,"prototype",{writable:!1}),se}();sr.Eventable=_s;var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.default=function(se,B){if(B.phaselessTypes[se])return!0;for(var W in B.map)if(se.indexOf(W)===0&&se.substr(W.length)in B.phases)return!0;return!1};var vo={};Object.defineProperty(vo,"__esModule",{value:!0}),vo.createInteractStatic=function(se){var B=function W(ee,te){var me=se.interactables.get(ee,te);return me||((me=se.interactables.new(ee,te)).events.global=W.globalEvents),me};return B.getPointerAverage=An.pointerAverage,B.getTouchBBox=An.touchBBox,B.getTouchDistance=An.touchDistance,B.getTouchAngle=An.touchAngle,B.getElementRect=gt.getElementRect,B.getElementClientRect=gt.getElementClientRect,B.matchesSelector=gt.matchesSelector,B.closest=gt.closest,B.globalEvents={},B.version="1.10.18",B.scope=se,B.use=function(W,ee){return this.scope.usePlugin(W,ee),this},B.isSet=function(W,ee){return!!this.scope.interactables.get(W,ee&&ee.context)},B.on=(0,fi.warnOnce)(function(W,ee,te){if(qt.default.string(W)&&W.search(" ")!==-1&&(W=W.trim().split(/ +/)),qt.default.array(W)){for(var me=0;me<W.length;me++){var je=W[me];this.on(je,ee,te)}return this}if(qt.default.object(W)){for(var Ue in W)this.on(Ue,W[Ue],ee);return this}return(0,Lo.default)(W,this.scope.actions)?this.globalEvents[W]?this.globalEvents[W].push(ee):this.globalEvents[W]=[ee]:this.scope.events.add(this.scope.document,W,ee,{options:te}),this},"The interact.on() method is being deprecated"),B.off=(0,fi.warnOnce)(function(W,ee,te){if(qt.default.string(W)&&W.search(" ")!==-1&&(W=W.trim().split(/ +/)),qt.default.array(W)){for(var me=0;me<W.length;me++){var je=W[me];this.off(je,ee,te)}return this}if(qt.default.object(W)){for(var Ue in W)this.off(Ue,W[Ue],ee);return this}var Fe;return(0,Lo.default)(W,this.scope.actions)?W in this.globalEvents&&(Fe=this.globalEvents[W].indexOf(ee))!==-1&&this.globalEvents[W].splice(Fe,1):this.scope.events.remove(this.scope.document,W,ee,te),this},"The interact.off() method is being deprecated"),B.debug=function(){return this.scope},B.supportsTouch=function(){return bi.default.supportsTouch},B.supportsPointerEvent=function(){return bi.default.supportsPointerEvent},B.stop=function(){for(var W=0;W<this.scope.interactions.list.length;W++)this.scope.interactions.list[W].stop();return this},B.pointerMoveTolerance=function(W){return qt.default.number(W)?(this.scope.interactions.pointerMoveTolerance=W,this):this.scope.interactions.pointerMoveTolerance},B.addDocument=function(W,ee){this.scope.addDocument(W,ee)},B.removeDocument=function(W){this.scope.removeDocument(W)},B};var xo={};Object.defineProperty(xo,"__esModule",{value:!0}),xo.Interactable=void 0;var Ru=function(){function se(ee,te,me,je){(function(Ue,Fe){if(!_instanceof(Ue,Fe))throw new TypeError("Cannot call a class as a function")})(this,se),Ie(this,"options",void 0),Ie(this,"_actions",void 0),Ie(this,"target",void 0),Ie(this,"events",new sr.Eventable),Ie(this,"_context",void 0),Ie(this,"_win",void 0),Ie(this,"_doc",void 0),Ie(this,"_scopeEvents",void 0),Ie(this,"_rectChecker",void 0),this._actions=te.actions,this.target=ee,this._context=te.context||me,this._win=(0,zt.getWindow)((0,gt.trySelector)(ee)?this._context:ee),this._doc=this._win.document,this._scopeEvents=je,this.set(te)}var B,W;return B=se,(W=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(te,me){return qt.default.func(me.onstart)&&this.on("".concat(te,"start"),me.onstart),qt.default.func(me.onmove)&&this.on("".concat(te,"move"),me.onmove),qt.default.func(me.onend)&&this.on("".concat(te,"end"),me.onend),qt.default.func(me.oninertiastart)&&this.on("".concat(te,"inertiastart"),me.oninertiastart),this}},{key:"updatePerActionListeners",value:function(te,me,je){(qt.default.array(me)||qt.default.object(me))&&this.off(te,me),(qt.default.array(je)||qt.default.object(je))&&this.on(te,je)}},{key:"setPerAction",value:function(te,me){var je=this._defaults;for(var Ue in me){var Fe=Ue,st=this.options[te],mt=me[Fe];Fe==="listeners"&&this.updatePerActionListeners(te,st.listeners,mt),qt.default.array(mt)?st[Fe]=_r.from(mt):qt.default.plainObject(mt)?(st[Fe]=(0,yt.default)(st[Fe]||{},(0,nn.default)(mt)),qt.default.object(je.perAction[Fe])&&"enabled"in je.perAction[Fe]&&(st[Fe].enabled=mt.enabled!==!1)):qt.default.bool(mt)&&qt.default.object(je.perAction[Fe])?st[Fe].enabled=mt:st[Fe]=mt}}},{key:"getRect",value:function(te){return te=te||(qt.default.element(this.target)?this.target:null),qt.default.string(this.target)&&(te=te||this._context.querySelector(this.target)),(0,gt.getElementRect)(te)}},{key:"rectChecker",value:function(te){var me=this;return qt.default.func(te)?(this._rectChecker=te,this.getRect=function(je){var Ue=(0,yt.default)({},me._rectChecker(je));return"width"in Ue||(Ue.width=Ue.right-Ue.left,Ue.height=Ue.bottom-Ue.top),Ue},this):te===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(te,me){if((0,gt.trySelector)(me)||qt.default.object(me)){for(var je in this.options[te]=me,this._actions.map)this.options[je][te]=me;return this}return this.options[te]}},{key:"origin",value:function(te){return this._backCompatOption("origin",te)}},{key:"deltaSource",value:function(te){return te==="page"||te==="client"?(this.options.deltaSource=te,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(te){return this._context===te.ownerDocument||(0,gt.nodeContains)(this._context,te)}},{key:"testIgnoreAllow",value:function(te,me,je){return!this.testIgnore(te.ignoreFrom,me,je)&&this.testAllow(te.allowFrom,me,je)}},{key:"testAllow",value:function(te,me,je){return!te||!!qt.default.element(je)&&(qt.default.string(te)?(0,gt.matchesUpTo)(je,te,me):!!qt.default.element(te)&&(0,gt.nodeContains)(te,je))}},{key:"testIgnore",value:function(te,me,je){return!(!te||!qt.default.element(je))&&(qt.default.string(te)?(0,gt.matchesUpTo)(je,te,me):!!qt.default.element(te)&&(0,gt.nodeContains)(te,je))}},{key:"fire",value:function(te){return this.events.fire(te),this}},{key:"_onOff",value:function(te,me,je,Ue){qt.default.object(me)&&!qt.default.array(me)&&(Ue=je,je=null);var Fe=te==="on"?"add":"remove",st=(0,In.default)(me,je);for(var mt in st){mt==="wheel"&&(mt=bi.default.wheelEvent);for(var $t=0;$t<st[mt].length;$t++){var Ut=st[mt][$t];(0,Lo.default)(mt,this._actions)?this.events[te](mt,Ut):qt.default.string(this.target)?this._scopeEvents["".concat(Fe,"Delegate")](this.target,this._context,mt,Ut,Ue):this._scopeEvents[Fe](this.target,mt,Ut,Ue)}}return this}},{key:"on",value:function(te,me,je){return this._onOff("on",te,me,je)}},{key:"off",value:function(te,me,je){return this._onOff("off",te,me,je)}},{key:"set",value:function(te){var me=this._defaults;for(var je in qt.default.object(te)||(te={}),this.options=(0,nn.default)(me.base),this._actions.methodDict){var Ue=je,Fe=this._actions.methodDict[Ue];this.options[Ue]={},this.setPerAction(Ue,(0,yt.default)((0,yt.default)({},me.perAction),me.actions[Ue])),this[Fe](te[Ue])}for(var st in te)qt.default.func(this[st])&&this[st](te[st]);return this}},{key:"unset",value:function(){if(qt.default.string(this.target))for(var te in this._scopeEvents.delegatedEvents)for(var me=this._scopeEvents.delegatedEvents[te],je=me.length-1;je>=0;je--){var Ue=me[je],Fe=Ue.selector,st=Ue.context,mt=Ue.listeners;Fe===this.target&&st===this._context&&me.splice(je,1);for(var $t=mt.length-1;$t>=0;$t--)this._scopeEvents.removeDelegate(this.target,this._context,te,mt[$t][0],mt[$t][1])}else this._scopeEvents.remove(this.target,"all")}}])&&function(ee,te){for(var me=0;me<te.length;me++){var je=te[me];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(ee,je.key,je)}}(B.prototype,W),Object.defineProperty(B,"prototype",{writable:!1}),se}();xo.Interactable=Ru;var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.InteractableSet=void 0;var oo=function(){function se(ee){var te=this;(function(me,je){if(!_instanceof(me,je))throw new TypeError("Cannot call a class as a function")})(this,se),nt(this,"list",[]),nt(this,"selectorMap",{}),nt(this,"scope",void 0),this.scope=ee,ee.addListeners({"interactable:unset":function(me){var je=me.interactable,Ue=je.target,Fe=je._context,st=qt.default.string(Ue)?te.selectorMap[Ue]:Ue[te.scope.id],mt=_r.findIndex(st,function($t){return $t.context===Fe});st[mt]&&(st[mt].context=null,st[mt].interactable=null),st.splice(mt,1)}})}var B,W;return B=se,(W=[{key:"new",value:function(te,me){me=(0,yt.default)(me||{},{actions:this.scope.actions});var je=new this.scope.Interactable(te,me,this.scope.document,this.scope.events),Ue={context:je._context,interactable:je};return this.scope.addDocument(je._doc),this.list.push(je),qt.default.string(te)?(this.selectorMap[te]||(this.selectorMap[te]=[]),this.selectorMap[te].push(Ue)):(je.target[this.scope.id]||Object.defineProperty(te,this.scope.id,{value:[],configurable:!0}),te[this.scope.id].push(Ue)),this.scope.fire("interactable:new",{target:te,options:me,interactable:je,win:this.scope._win}),je}},{key:"get",value:function(te,me){var je=me&&me.context||this.scope.document,Ue=qt.default.string(te),Fe=Ue?this.selectorMap[te]:te[this.scope.id];if(!Fe)return null;var st=_r.find(Fe,function(mt){return mt.context===je&&(Ue||mt.interactable.inContext(te))});return st&&st.interactable}},{key:"forEachMatch",value:function(te,me){for(var je=0;je<this.list.length;je++){var Ue=this.list[je],Fe=void 0;if((qt.default.string(Ue.target)?qt.default.element(te)&&gt.matchesSelector(te,Ue.target):te===Ue.target)&&Ue.inContext(te)&&(Fe=me(Ue)),Fe!==void 0)return Fe}}}])&&function(ee,te){for(var me=0;me<te.length;me++){var je=te[me];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(ee,je.key,je)}}(B.prototype,W),Object.defineProperty(B,"prototype",{writable:!1}),se}();Ki.InteractableSet=oo;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.default=void 0;var Di=function(){function se(ee){(function(te,me){if(!_instanceof(te,me))throw new TypeError("Cannot call a class as a function")})(this,se),R(this,"currentTarget",void 0),R(this,"originalEvent",void 0),R(this,"type",void 0),this.originalEvent=ee,(0,dr.default)(this,ee)}var B,W;return B=se,(W=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function(ee,te){for(var me=0;me<te.length;me++){var je=te[me];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(ee,je.key,je)}}(B.prototype,W),Object.defineProperty(B,"prototype",{writable:!1}),se}(),Du={id:"events",install:function(B){var W=function(Ut,un,Gt,En){var zn=ve(En),Tn=_r.find(je,function(Fn){return Fn.eventTarget===Ut});Tn||(Tn={eventTarget:Ut,events:{}},je.push(Tn)),Tn.events[un]||(Tn.events[un]=[]),Ut.addEventListener&&!_r.contains(Tn.events[un],Gt)&&(Ut.addEventListener(un,Gt,st.supportsOptions?zn:zn.capture),Tn.events[un].push(Gt))},ee=function(Ut,un){for(var Gt=ve(un),En=new Di(Ut),zn=Ue[Ut.type],Tn=le(An.getEventTargets(Ut),1)[0],Fn=Tn;qt.default.element(Fn);){for(var er=0;er<zn.length;er++){var fr=zn[er],Ar=fr.selector,Rr=fr.context;if(gt.matchesSelector(Fn,Ar)&&gt.nodeContains(Rr,Tn)&&gt.nodeContains(Rr,Fn)){var _i=fr.listeners;En.currentTarget=Fn;for(var ii=0;ii<_i.length;ii++){var Sr=le(_i[ii],2),aa=Sr[0],sa=Sr[1],zu=sa.capture,Wk=sa.passive;zu===Gt.capture&&Wk===Gt.passive&&aa(En)}}}Fn=gt.parentNode(Fn)}},te=function(Ut){return ee(Ut,!0)},me,je=[],Ue={},Fe=[],st={add:W,remove:mt,addDelegate:function(Ut,un,Gt,En,zn){var Tn=ve(zn);if(!Ue[Gt]){Ue[Gt]=[];for(var Fn=0;Fn<Fe.length;Fn++){var er=Fe[Fn];W(er,Gt,ee),W(er,Gt,te,!0)}}var fr=Ue[Gt],Ar=_r.find(fr,function(Rr){return Rr.selector===Ut&&Rr.context===un});Ar||(Ar={selector:Ut,context:un,listeners:[]},fr.push(Ar)),Ar.listeners.push([En,Tn])},removeDelegate:function(Ut,un,Gt,En,zn){var Tn,Fn=ve(zn),er=Ue[Gt],fr=!1;if(er)for(Tn=er.length-1;Tn>=0;Tn--){var Ar=er[Tn];if(Ar.selector===Ut&&Ar.context===un){for(var Rr=Ar.listeners,_i=Rr.length-1;_i>=0;_i--){var ii=le(Rr[_i],2),Sr=ii[0],aa=ii[1],sa=aa.capture,zu=aa.passive;if(Sr===En&&sa===Fn.capture&&zu===Fn.passive){Rr.splice(_i,1),Rr.length||(er.splice(Tn,1),mt(un,Gt,ee),mt(un,Gt,te,!0)),fr=!0;break}}if(fr)break}}},delegateListener:ee,delegateUseCapture:te,delegatedEvents:Ue,documents:Fe,targets:je,supportsOptions:!1,supportsPassive:!1};function mt($t,Ut,un,Gt){var En=ve(Gt),zn=_r.findIndex(je,function(Rr){return Rr.eventTarget===$t}),Tn=je[zn];if(Tn&&Tn.events)if(Ut!=="all"){var Fn=!1,er=Tn.events[Ut];if(er){if(un==="all"){for(var fr=er.length-1;fr>=0;fr--)mt($t,Ut,er[fr],En);return}for(var Ar=0;Ar<er.length;Ar++)if(er[Ar]===un){$t.removeEventListener(Ut,un,st.supportsOptions?En:En.capture),er.splice(Ar,1),er.length===0&&(delete Tn.events[Ut],Fn=!0);break}}Fn&&!Object.keys(Tn.events).length&&je.splice(zn,1)}else for(Ut in Tn.events)Tn.events.hasOwnProperty(Ut)&&mt($t,Ut,"all")}return(me=B.document)==null||me.createElement("div").addEventListener("test",null,{get capture(){return st.supportsOptions=!0},get passive(){return st.supportsPassive=!0}}),B.events=st,st}};Ro.default=Du;var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.default=void 0;var ta={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(B){for(var W=0;W<ta.methodOrder.length;W++){var ee;ee=ta.methodOrder[W];var te=ta[ee](B);if(te)return te}return null},simulationResume:function(B){var W=B.pointerType,ee=B.eventType,te=B.eventTarget,me=B.scope;if(!/down|start/i.test(ee))return null;for(var je=0;je<me.interactions.list.length;je++){var Ue=me.interactions.list[je],Fe=te;if(Ue.simulation&&Ue.simulation.allowResume&&Ue.pointerType===W)for(;Fe;){if(Fe===Ue.element)return Ue;Fe=gt.parentNode(Fe)}}return null},mouseOrPen:function(B){var W,ee=B.pointerId,te=B.pointerType,me=B.eventType,je=B.scope;if(te!=="mouse"&&te!=="pen")return null;for(var Ue=0;Ue<je.interactions.list.length;Ue++){var Fe=je.interactions.list[Ue];if(Fe.pointerType===te){if(Fe.simulation&&!de(Fe,ee))continue;if(Fe.interacting())return Fe;W||(W=Fe)}}if(W)return W;for(var st=0;st<je.interactions.list.length;st++){var mt=je.interactions.list[st];if(!(mt.pointerType!==te||/down/i.test(me)&&mt.simulation))return mt}return null},hasPointer:function(B){for(var W=B.pointerId,ee=B.scope,te=0;te<ee.interactions.list.length;te++){var me=ee.interactions.list[te];if(de(me,W))return me}return null},idle:function(B){for(var W=B.pointerType,ee=B.scope,te=0;te<ee.interactions.list.length;te++){var me=ee.interactions.list[te];if(me.pointers.length===1){var je=me.interactable;if(je&&(!je.options.gesture||!je.options.gesture.enabled))continue}else if(me.pointers.length>=2)continue;if(!me.interacting()&&W===me.pointerType)return me}return null}},$r=ta;Qi.default=$r;var Fi={};function ks(se){return ks=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(W){return typeof W=="undefined"?"undefined":_typeof(W)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B=="undefined"?"undefined":_typeof(B)},ks(se)}function Ma(se,B){return Ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ee,te){return ee.__proto__=te,ee},Ma(se,B)}function La(se){return La=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},La(se)}Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.default=void 0;var na=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"],ed={id:"core/interactions",install:function(B){for(var W=function(){for(var st=0;st<B.interactions.list.length;st++){var mt=B.interactions.list[st];if(mt.pointerIsDown&&mt.pointerType==="touch"&&!mt._interacting)for(var $t=function(){var Gt=mt.pointers[Ut];B.documents.some(function(En){var zn=En.doc;return(0,gt.nodeContains)(zn,Gt.downTarget)})||mt.removePointer(Gt.pointer,Gt.event)},Ut=0;Ut<mt.pointers.length;Ut++)$t()}},ee={},te=0;te<na.length;te++){var me=na[te];ee[me]=Ee(me,B)}var je,Ue=bi.default.pEventTypes;(je=Zr.default.PointerEvent?[{type:Ue.down,listener:W},{type:Ue.down,listener:ee.pointerDown},{type:Ue.move,listener:ee.pointerMove},{type:Ue.up,listener:ee.pointerUp},{type:Ue.cancel,listener:ee.pointerUp}]:[{type:"mousedown",listener:ee.pointerDown},{type:"mousemove",listener:ee.pointerMove},{type:"mouseup",listener:ee.pointerUp},{type:"touchstart",listener:W},{type:"touchstart",listener:ee.pointerDown},{type:"touchmove",listener:ee.pointerMove},{type:"touchend",listener:ee.pointerUp},{type:"touchcancel",listener:ee.pointerUp}]).push({type:"blur",listener:function(st){for(var mt=0;mt<B.interactions.list.length;mt++)B.interactions.list[mt].documentBlur(st)}}),B.prevTouchTime=0,B.Interaction=function(Fe){(function(En,zn){if(typeof zn!="function"&&zn!==null)throw new TypeError("Super expression must either be null or a function");En.prototype=Object.create(zn&&zn.prototype,{constructor:{value:En,writable:!0,configurable:!0}}),Object.defineProperty(En,"prototype",{writable:!1}),zn&&Ma(En,zn)})(Gt,Fe);var st,mt,$t,Ut,un=($t=Gt,Ut=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(En){return!1}}(),function(){var zn,Tn=La($t);if(Ut){var Fn=La(this).constructor;zn=Reflect.construct(Tn,arguments,Fn)}else zn=Tn.apply(this,arguments);return function(er,fr){if(fr&&(ks(fr)==="object"||typeof fr=="function"))return fr;if(fr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ar){if(Ar===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ar}(er)}(this,zn)});function Gt(){return function(En,zn){if(!_instanceof(En,zn))throw new TypeError("Cannot call a class as a function")}(this,Gt),un.apply(this,arguments)}return st=Gt,(mt=[{key:"pointerMoveTolerance",get:function(){return B.interactions.pointerMoveTolerance},set:function(zn){B.interactions.pointerMoveTolerance=zn}},{key:"_now",value:function(){return B.now()}}])&&function(En,zn){for(var Tn=0;Tn<zn.length;Tn++){var Fn=zn[Tn];Fn.enumerable=Fn.enumerable||!1,Fn.configurable=!0,"value"in Fn&&(Fn.writable=!0),Object.defineProperty(En,Fn.key,Fn)}}(st.prototype,mt),Object.defineProperty(st,"prototype",{writable:!1}),Gt}(Me.default),B.interactions={list:[],new:function(st){st.scopeFire=function($t,Ut){return B.fire($t,Ut)};var mt=new B.Interaction(st);return B.interactions.list.push(mt),mt},listeners:ee,docEvents:je,pointerMoveTolerance:1},B.usePlugin(kt.default)},listeners:{"scope:add-document":function(se){return Ye(se,"add")},"scope:remove-document":function(se){return Ye(se,"remove")},"interactable:unset":function(se,B){for(var W=se.interactable,ee=B.interactions.list.length-1;ee>=0;ee--){var te=B.interactions.list[ee];te.interactable===W&&(te.stop(),B.fire("interactions:destroy",{interaction:te}),te.destroy(),B.interactions.list.length>2&&B.interactions.list.splice(ee,1))}}},onDocSignal:Ye,doOnInteractions:Ee,methodNames:na},ap=ed;Fi.default=ap;var ml={};function td(se){return td=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(W){return typeof W=="undefined"?"undefined":_typeof(W)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B=="undefined"?"undefined":_typeof(B)},td(se)}function yl(){return yl=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(B,W,ee){var te=function(je,Ue){for(;!Object.prototype.hasOwnProperty.call(je,Ue)&&(je=ra(je))!==null;);return je}(B,W);if(te){var me=Object.getOwnPropertyDescriptor(te,W);return me.get?me.get.call(arguments.length<3?B:ee):me.value}},yl.apply(this,arguments)}function xs(se,B){return xs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ee,te){return ee.__proto__=te,ee},xs(se,B)}function ra(se){return ra=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},ra(se)}Object.defineProperty(ml,"__esModule",{value:!0}),ml.Scope=void 0,ml.initScope=Et;var Dk=function(){function se(){var B=this;Be(this,se),jt(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),jt(this,"isInitialized",!1),jt(this,"listenerMaps",[]),jt(this,"browser",bi.default),jt(this,"defaults",(0,nn.default)(Pn.defaults)),jt(this,"Eventable",sr.Eventable),jt(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),jt(this,"interactStatic",(0,vo.createInteractStatic)(this)),jt(this,"InteractEvent",Xn.InteractEvent),jt(this,"Interactable",void 0),jt(this,"interactables",new Ki.InteractableSet(this)),jt(this,"_win",void 0),jt(this,"document",void 0),jt(this,"window",void 0),jt(this,"documents",[]),jt(this,"_plugins",{list:[],map:{}}),jt(this,"onWindowUnload",function(ee){return B.removeDocument(ee.target)});var W=this;this.Interactable=function(ee){(function(Fe,st){if(typeof st!="function"&&st!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(st&&st.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Object.defineProperty(Fe,"prototype",{writable:!1}),st&&xs(Fe,st)})(Ue,ee);var te,me,je=(te=Ue,me=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}(),function(){var st,mt=ra(te);if(me){var $t=ra(this).constructor;st=Reflect.construct(mt,arguments,$t)}else st=mt.apply(this,arguments);return function(Ut,un){if(un&&(td(un)==="object"||typeof un=="function"))return un;if(un!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Gt){if(Gt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Gt}(Ut)}(this,st)});function Ue(){return Be(this,Ue),je.apply(this,arguments)}return Tt(Ue,[{key:"_defaults",get:function(){return W.defaults}},{key:"set",value:function(st){return yl(ra(Ue.prototype),"set",this).call(this,st),W.fire("interactable:set",{options:st,interactable:this}),this}},{key:"unset",value:function(){yl(ra(Ue.prototype),"unset",this).call(this);var st=W.interactables.list.indexOf(this);st<0||(yl(ra(Ue.prototype),"unset",this).call(this),W.interactables.list.splice(st,1),W.fire("interactable:unset",{interactable:this}))}}]),Ue}(xo.Interactable)}return Tt(se,[{key:"addListeners",value:function(W,ee){this.listenerMaps.push({id:ee,map:W})}},{key:"fire",value:function(W,ee){for(var te=0;te<this.listenerMaps.length;te++){var me=this.listenerMaps[te].map[W];if(me&&me(ee,this,W)===!1)return!1}}},{key:"init",value:function(W){return this.isInitialized?this:Et(this,W)}},{key:"pluginIsInstalled",value:function(W){return this._plugins.map[W.id]||this._plugins.list.indexOf(W)!==-1}},{key:"usePlugin",value:function(W,ee){if(!this.isInitialized)return this;if(this.pluginIsInstalled(W))return this;if(W.id&&(this._plugins.map[W.id]=W),this._plugins.list.push(W),W.install&&W.install(this,ee),W.listeners&&W.before){for(var te=0,me=this.listenerMaps.length,je=W.before.reduce(function(Fe,st){return Fe[st]=!0,Fe[Zt(st)]=!0,Fe},{});te<me;te++){var Ue=this.listenerMaps[te].id;if(je[Ue]||je[Zt(Ue)])break}this.listenerMaps.splice(te,0,{id:W.id,map:W.listeners})}else W.listeners&&this.listenerMaps.push({id:W.id,map:W.listeners});return this}},{key:"addDocument",value:function(W,ee){if(this.getDocIndex(W)!==-1)return!1;var te=zt.getWindow(W);ee=ee?(0,yt.default)({},ee):{},this.documents.push({doc:W,options:ee}),this.events.documents.push(W),W!==this.document&&this.events.add(te,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:W,window:te,scope:this,options:ee})}},{key:"removeDocument",value:function(W){var ee=this.getDocIndex(W),te=zt.getWindow(W),me=this.documents[ee].options;this.events.remove(te,"unload",this.onWindowUnload),this.documents.splice(ee,1),this.events.documents.splice(ee,1),this.fire("scope:remove-document",{doc:W,window:te,scope:this,options:me})}},{key:"getDocIndex",value:function(W){for(var ee=0;ee<this.documents.length;ee++)if(this.documents[ee].doc===W)return ee;return-1}},{key:"getDocOptions",value:function(W){var ee=this.getDocIndex(W);return ee===-1?null:this.documents[ee].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),se}();ml.Scope=Dk;var $i={};Object.defineProperty($i,"__esModule",{value:!0}),$i.default=void 0;var Ss=new ml.Scope,$k=Ss.interactStatic;$i.default=$k;var nd=(typeof globalThis=="undefined"?"undefined":_typeof(globalThis))<"u"?globalThis:(typeof window=="undefined"?"undefined":_typeof(window))<"u"?window:void 0;Ss.init(nd);var ao={};Object.defineProperty(ao,"__esModule",{value:!0}),ao.default=void 0,ao.default=function(){};var so={};Object.defineProperty(so,"__esModule",{value:!0}),so.default=void 0,so.default=function(){};var bl={};Object.defineProperty(bl,"__esModule",{value:!0}),bl.default=void 0,bl.default=function(se){var B=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(ee){var te=Nt(ee,2),me=te[0],je=te[1];return me in se||je in se}),W=function(te,me){for(var je=se.range,Ue=se.limits,Fe=Ue===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:Ue,st=se.offset,mt=st===void 0?{x:0,y:0}:st,$t={range:je,grid:se,x:null,y:null},Ut=0;Ut<B.length;Ut++){var un=Nt(B[Ut],2),Gt=un[0],En=un[1],zn=Math.round((te-mt.x)/se[Gt]),Tn=Math.round((me-mt.y)/se[En]);$t[Gt]=Math.max(Fe.left,Math.min(Fe.right,zn*se[Gt]+mt.x)),$t[En]=Math.max(Fe.top,Math.min(Fe.bottom,Tn*se[En]+mt.y))}return $t};return W.grid=se,W.coordFields=B,W};var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0}),Object.defineProperty(Cs,"edgeTarget",{enumerable:!0,get:function(){return ao.default}}),Object.defineProperty(Cs,"elements",{enumerable:!0,get:function(){return so.default}}),Object.defineProperty(Cs,"grid",{enumerable:!0,get:function(){return bl.default}});var wl={};Object.defineProperty(wl,"__esModule",{value:!0}),wl.default=void 0;var Bk={id:"snappers",install:function(B){var W=B.interactStatic;W.snappers=(0,yt.default)(W.snappers||{},Cs),W.createSnapGrid=W.snappers.grid}},rd=Bk;wl.default=rd;var ia={};Object.defineProperty(ia,"__esModule",{value:!0}),ia.default=ia.aspectRatio=void 0;var rn={start:function(B){var W=B.state,ee=B.rect,te=B.edges,me=B.pageCoords,je=W.options,Ue=je.ratio,Fe=je.enabled,st=W.options,mt=st.equalDelta,$t=st.modifiers;Ue==="preserve"&&(Ue=ee.width/ee.height),W.startCoords=(0,yt.default)({},me),W.startRect=(0,yt.default)({},ee),W.ratio=Ue,W.equalDelta=mt;var Ut=W.linkedEdges={top:te.top||te.left&&!te.bottom,left:te.left||te.top&&!te.right,bottom:te.bottom||te.right&&!te.top,right:te.right||te.bottom&&!te.left};if(W.xIsPrimaryAxis=!(!te.left&&!te.right),W.equalDelta){var un=(Ut.left?1:-1)*(Ut.top?1:-1);W.edgeSign={x:un,y:un}}else W.edgeSign={x:Ut.left?-1:1,y:Ut.top?-1:1};if(Fe!==!1&&(0,yt.default)(te,Ut),$t!=null&&$t.length){var Gt=new xn.default(B.interaction);Gt.copyFrom(B.interaction.modification),Gt.prepareStates($t),W.subModification=Gt,Gt.startAll(Jt({},B))}},set:function(B){var W=B.state,ee=B.rect,te=B.coords,me=W.linkedEdges,je=(0,yt.default)({},te),Ue=W.equalDelta?gn:Bt;if((0,yt.default)(B.edges,me),Ue(W,W.xIsPrimaryAxis,te,ee),!W.subModification)return null;var Fe=(0,yt.default)({},ee);(0,en.addEdges)(me,Fe,{x:te.x-je.x,y:te.y-je.y});var st=W.subModification.setAll(Jt(Jt({},B),{},{rect:Fe,edges:me,pageCoords:te,prevCoords:te,prevRect:Fe})),mt=st.delta;return st.changed&&(Ue(W,Math.abs(mt.x)>Math.abs(mt.y),st.coords,st.rect),(0,yt.default)(te,st.coords)),st.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};ia.aspectRatio=rn;var At=(0,Sn.makeModifier)(rn,"aspectRatio");ia.default=At;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=void 0;var Xt=function(){};Xt._defaults={};var Cn=Xt;Rt.default=Cn;var fn={};Object.defineProperty(fn,"__esModule",{value:!0}),Object.defineProperty(fn,"default",{enumerable:!0,get:function(){return Rt.default}});var pn={};Object.defineProperty(pn,"__esModule",{value:!0}),pn.default=void 0,pn.getRestrictionRect=an,pn.restrict=void 0;var wn={start:function(B){var W=B.rect,ee=B.startOffset,te=B.state,me=B.interaction,je=B.pageCoords,Ue=te.options,Fe=Ue.elementRect,st=(0,yt.default)({left:0,top:0,right:0,bottom:0},Ue.offset||{});if(W&&Fe){var mt=an(Ue.restriction,me,je);if(mt){var $t=mt.right-mt.left-W.width,Ut=mt.bottom-mt.top-W.height;$t<0&&(st.left+=$t,st.right+=$t),Ut<0&&(st.top+=Ut,st.bottom+=Ut)}st.left+=ee.left-W.width*Fe.left,st.top+=ee.top-W.height*Fe.top,st.right+=ee.right-W.width*(1-Fe.right),st.bottom+=ee.bottom-W.height*(1-Fe.bottom)}te.offset=st},set:function(B){var W=B.coords,ee=B.interaction,te=B.state,me=te.options,je=te.offset,Ue=an(me.restriction,ee,W);if(Ue){var Fe=en.xywhToTlbr(Ue);W.x=Math.max(Math.min(Fe.right-je.right,W.x),Fe.left+je.left),W.y=Math.max(Math.min(Fe.bottom-je.bottom,W.y),Fe.top+je.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};pn.restrict=wn;var qn=(0,Sn.makeModifier)(wn,"restrict");pn.default=qn;var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.restrictEdges=Bn.default=void 0;var nr={top:1/0,left:1/0,bottom:-1/0,right:-1/0},gr={top:-1/0,left:-1/0,bottom:1/0,right:1/0},yr={noInner:nr,noOuter:gr,start:function(B){var W,ee=B.interaction,te=B.startOffset,me=B.state,je=me.options;if(je){var Ue=(0,pn.getRestrictionRect)(je.offset,ee,ee.coords.start.page);W=en.rectToXY(Ue)}W=W||{x:0,y:0},me.offset={top:W.y+te.top,left:W.x+te.left,bottom:W.y-te.bottom,right:W.x-te.right}},set:function(B){var W=B.coords,ee=B.edges,te=B.interaction,me=B.state,je=me.offset,Ue=me.options;if(ee){var Fe=(0,yt.default)({},W),st=(0,pn.getRestrictionRect)(Ue.inner,te,Fe)||{},mt=(0,pn.getRestrictionRect)(Ue.outer,te,Fe)||{};tn(st,nr),tn(mt,gr),ee.top?W.y=Math.min(Math.max(mt.top+je.top,Fe.y),st.top+je.top):ee.bottom&&(W.y=Math.max(Math.min(mt.bottom+je.bottom,Fe.y),st.bottom+je.bottom)),ee.left?W.x=Math.min(Math.max(mt.left+je.left,Fe.x),st.left+je.left):ee.right&&(W.x=Math.max(Math.min(mt.right+je.right,Fe.x),st.right+je.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Bn.restrictEdges=yr;var Br=(0,Sn.makeModifier)(yr,"restrictEdges");Bn.default=Br;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.restrictRect=Nr.default=void 0;var kr=(0,yt.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(se){}},pn.restrict.defaults),ti={start:pn.restrict.start,set:pn.restrict.set,defaults:kr};Nr.restrictRect=ti;var Hi=(0,Sn.makeModifier)(ti,"restrictRect");Nr.default=Hi;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.restrictSize=Ir.default=void 0;var oa={width:-1/0,height:-1/0},_l={width:1/0,height:1/0},Ra={start:function(B){return Bn.restrictEdges.start(B)},set:function(B){var W=B.interaction,ee=B.state,te=B.rect,me=B.edges,je=ee.options;if(me){var Ue=en.tlbrToXywh((0,pn.getRestrictionRect)(je.min,W,B.coords))||oa,Fe=en.tlbrToXywh((0,pn.getRestrictionRect)(je.max,W,B.coords))||_l;ee.options={endOnly:je.endOnly,inner:(0,yt.default)({},Bn.restrictEdges.noInner),outer:(0,yt.default)({},Bn.restrictEdges.noOuter)},me.top?(ee.options.inner.top=te.bottom-Ue.height,ee.options.outer.top=te.bottom-Fe.height):me.bottom&&(ee.options.inner.bottom=te.top+Ue.height,ee.options.outer.bottom=te.top+Fe.height),me.left?(ee.options.inner.left=te.right-Ue.width,ee.options.outer.left=te.right-Fe.width):me.right&&(ee.options.inner.right=te.left+Ue.width,ee.options.outer.right=te.left+Fe.width),Bn.restrictEdges.set(B),ee.options=je}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Ir.restrictSize=Ra;var Ui=(0,Sn.makeModifier)(Ra,"restrictSize");Ir.default=Ui;var Nk={};Object.defineProperty(Nk,"__esModule",{value:!0}),Object.defineProperty(Nk,"default",{enumerable:!0,get:function(){return Rt.default}});var As={};Object.defineProperty(As,"__esModule",{value:!0}),As.snap=As.default=void 0;var sT={start:function(B){var W,ee=B.interaction,te=B.interactable,me=B.element,je=B.rect,Ue=B.state,Fe=B.startOffset,st=Ue.options,mt=st.offsetWithOrigin?function(un){var Gt=un.interaction.element;return(0,en.rectToXY)((0,en.resolveRectLike)(un.state.options.origin,null,null,[Gt]))||(0,on.default)(un.interactable,Gt,un.interaction.prepared.name)}(B):{x:0,y:0};if(st.offset==="startCoords")W={x:ee.coords.start.page.x,y:ee.coords.start.page.y};else{var $t=(0,en.resolveRectLike)(st.offset,te,me,[ee]);(W=(0,en.rectToXY)($t)||{x:0,y:0}).x+=mt.x,W.y+=mt.y}var Ut=st.relativePoints;Ue.offsets=je&&Ut&&Ut.length?Ut.map(function(un,Gt){return{index:Gt,relativePoint:un,x:Fe.left-je.width*un.x+W.x,y:Fe.top-je.height*un.y+W.y}}):[{index:0,relativePoint:null,x:W.x,y:W.y}]},set:function(B){var W=B.interaction,ee=B.coords,te=B.state,me=te.options,je=te.offsets,Ue=(0,on.default)(W.interactable,W.element,W.prepared.name),Fe=(0,yt.default)({},ee),st=[];me.offsetWithOrigin||(Fe.x-=Ue.x,Fe.y-=Ue.y);for(var mt=0;mt<je.length;mt++)for(var $t=je[mt],Ut=Fe.x-$t.x,un=Fe.y-$t.y,Gt=0,En=me.targets.length;Gt<En;Gt++){var zn,Tn=me.targets[Gt];(zn=qt.default.func(Tn)?Tn(Ut,un,W._proxy,$t,Gt):Tn)&&st.push({x:(qt.default.number(zn.x)?zn.x:Ut)+$t.x,y:(qt.default.number(zn.y)?zn.y:un)+$t.y,range:qt.default.number(zn.range)?zn.range:me.range,source:Tn,index:Gt,offset:$t})}for(var Fn={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},er=0;er<st.length;er++){var fr=st[er],Ar=fr.range,Rr=fr.x-Fe.x,_i=fr.y-Fe.y,ii=(0,Kn.default)(Rr,_i),Sr=ii<=Ar;Ar===1/0&&Fn.inRange&&Fn.range!==1/0&&(Sr=!1),Fn.target&&!(Sr?Fn.inRange&&Ar!==1/0?ii/Ar<Fn.distance/Fn.range:Ar===1/0&&Fn.range!==1/0||ii<Fn.distance:!Fn.inRange&&ii<Fn.distance)||(Fn.target=fr,Fn.distance=ii,Fn.range=Ar,Fn.inRange=Sr,Fn.delta.x=Rr,Fn.delta.y=_i)}return Fn.inRange&&(ee.x=Fn.target.x,ee.y=Fn.target.y),te.closest=Fn,Fn},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};As.snap=sT;var TM=(0,Sn.makeModifier)(sT,"snap");As.default=TM;var Da={};Object.defineProperty(Da,"__esModule",{value:!0}),Da.snapSize=Da.default=void 0;var lT={start:function(B){var W=B.state,ee=B.edges,te=W.options;if(!ee)return null;B.state={options:{targets:null,relativePoints:[{x:ee.left?0:1,y:ee.top?0:1}],offset:te.offset||"self",origin:{x:0,y:0},range:te.range}},W.targetFields=W.targetFields||[["width","height"],["x","y"]],As.snap.start(B),W.offsets=B.state.offsets,B.state=W},set:function(B){var W,ee=B.interaction,te=B.state,me=B.coords,je=te.options,Ue=te.offsets,Fe={x:me.x-Ue[0].x,y:me.y-Ue[0].y};te.options=(0,yt.default)({},je),te.options.targets=[];for(var st=0;st<(je.targets||[]).length;st++){var mt=(je.targets||[])[st],$t=void 0;if($t=qt.default.func(mt)?mt(Fe.x,Fe.y,ee):mt){for(var Ut=0;Ut<te.targetFields.length;Ut++){var un=function(Tn){if(Array.isArray(Tn))return Tn}(W=te.targetFields[Ut])||function(Tn,Fn){var er=Tn==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Tn[Symbol.iterator]||Tn["@@iterator"];if(er!=null){var fr,Ar,Rr=[],_i=!0,ii=!1;try{for(er=er.call(Tn);!(_i=(fr=er.next()).done)&&(Rr.push(fr.value),Rr.length!==2);_i=!0);}catch(Sr){ii=!0,Ar=Sr}finally{try{_i||er.return==null||er.return()}finally{if(ii)throw Ar}}return Rr}}(W)||function(Tn,Fn){if(Tn){if(typeof Tn=="string")return _n(Tn,2);var er=Object.prototype.toString.call(Tn).slice(8,-1);return er==="Object"&&Tn.constructor&&(er=Tn.constructor.name),er==="Map"||er==="Set"?Array.from(Tn):er==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(er)?_n(Tn,2):void 0}}(W)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Gt=un[0],En=un[1];if(Gt in $t||En in $t){$t.x=$t[Gt],$t.y=$t[En];break}}te.options.targets.push($t)}}var zn=As.snap.set(B);return te.options=je,zn},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};Da.snapSize=lT;var PM=(0,Sn.makeModifier)(lT,"snapSize");Da.default=PM;var $u={};Object.defineProperty($u,"__esModule",{value:!0}),$u.snapEdges=$u.default=void 0;var uT={start:function(B){var W=B.edges;return W?(B.state.targetFields=B.state.targetFields||[[W.left?"left":"right",W.top?"top":"bottom"]],Da.snapSize.start(B)):null},set:Da.snapSize.set,defaults:(0,yt.default)((0,nn.default)(Da.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};$u.snapEdges=uT;var IM=(0,Sn.makeModifier)(uT,"snapEdges");$u.default=IM;var zk={};Object.defineProperty(zk,"__esModule",{value:!0}),Object.defineProperty(zk,"default",{enumerable:!0,get:function(){return Rt.default}});var Fk={};Object.defineProperty(Fk,"__esModule",{value:!0}),Object.defineProperty(Fk,"default",{enumerable:!0,get:function(){return Rt.default}});var Bu={};Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.default=void 0;var MM={aspectRatio:ia.default,restrictEdges:Bn.default,restrict:pn.default,restrictRect:Nr.default,restrictSize:Ir.default,snapEdges:$u.default,snap:As.default,snapSize:Da.default,spring:zk.default,avoid:fn.default,transform:Fk.default,rubberband:Nk.default};Bu.default=MM;var id={};Object.defineProperty(id,"__esModule",{value:!0}),id.default=void 0;var LM={id:"modifiers",install:function(B){var W=B.interactStatic;for(var ee in B.usePlugin(Sn.default),B.usePlugin(wl.default),W.modifiers=Bu.default,Bu.default){var te=Bu.default[ee],me=te._defaults,je=te._methods;me._methods=je,B.defaults.perAction[ee]=me}}},RM=LM;id.default=RM;var kl={};function Hk(se){return Hk=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(W){return typeof W=="undefined"?"undefined":_typeof(W)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B=="undefined"?"undefined":_typeof(B)},Hk(se)}function Uk(se,B){return Uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ee,te){return ee.__proto__=te,ee},Uk(se,B)}function sp(se){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},sp(se)}Object.defineProperty(kl,"__esModule",{value:!0}),kl.default=kl.PointerEvent=void 0;var DM=function(se){(function(Ue,Fe){if(typeof Fe!="function"&&Fe!==null)throw new TypeError("Super expression must either be null or a function");Ue.prototype=Object.create(Fe&&Fe.prototype,{constructor:{value:Ue,writable:!0,configurable:!0}}),Object.defineProperty(Ue,"prototype",{writable:!1}),Fe&&Uk(Ue,Fe)})(je,se);var B,W,ee,te,me=(ee=je,te=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ue){return!1}}(),function(){var Fe,st=sp(ee);if(te){var mt=sp(this).constructor;Fe=Reflect.construct(st,arguments,mt)}else Fe=st.apply(this,arguments);return function($t,Ut){if(Ut&&(Hk(Ut)==="object"||typeof Ut=="function"))return Ut;if(Ut!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wt($t)}(this,Fe)});function je(Ue,Fe,st,mt,$t,Ut){var un;if(function(zn,Tn){if(!_instanceof(zn,Tn))throw new TypeError("Cannot call a class as a function")}(this,je),un=me.call(this,$t),An.pointerExtend(Wt(un),st),st!==Fe&&An.pointerExtend(Wt(un),Fe),un.timeStamp=Ut,un.originalEvent=st,un.type=Ue,un.pointerId=An.getPointerId(Fe),un.pointerType=An.getPointerType(Fe),un.target=mt,un.currentTarget=null,Ue==="tap"){var Gt=$t.getPointerIndex(Fe);un.dt=un.timeStamp-$t.pointers[Gt].downTime;var En=un.timeStamp-$t.tapTime;un.double=!!$t.prevTap&&$t.prevTap.type!=="doubletap"&&$t.prevTap.target===un.target&&En<500}else Ue==="doubletap"&&(un.dt=Fe.timeStamp-$t.tapTime,un.double=!0);return un}return B=je,(W=[{key:"_subtractOrigin",value:function(Fe){var st=Fe.x,mt=Fe.y;return this.pageX-=st,this.pageY-=mt,this.clientX-=st,this.clientY-=mt,this}},{key:"_addOrigin",value:function(Fe){var st=Fe.x,mt=Fe.y;return this.pageX+=st,this.pageY+=mt,this.clientX+=st,this.clientY+=mt,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function(Ue,Fe){for(var st=0;st<Fe.length;st++){var mt=Fe[st];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(Ue,mt.key,mt)}}(B.prototype,W),Object.defineProperty(B,"prototype",{writable:!1}),je}(Gr.BaseEvent);kl.PointerEvent=kl.default=DM;var od={};Object.defineProperty(od,"__esModule",{value:!0}),od.default=void 0;var lp={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(B){B.pointerEvents=lp,B.defaults.actions.pointerEvents=lp.defaults,(0,yt.default)(B.actions.phaselessTypes,lp.types)},listeners:{"interactions:new":function(se){var B=se.interaction;B.prevTap=null,B.tapTime=0},"interactions:update-pointer":function(se){var B=se.down,W=se.pointerInfo;!B&&W.hold||(W.hold={duration:1/0,timeout:null})},"interactions:move":function(se,B){var W=se.interaction,ee=se.pointer,te=se.event,me=se.eventTarget;se.duplicate||W.pointerIsDown&&!W.pointerWasMoved||(W.pointerIsDown&&pe(se),Os({interaction:W,pointer:ee,event:te,eventTarget:me,type:"move"},B))},"interactions:down":function(se,B){(function(W,ee){for(var te=W.interaction,me=W.pointer,je=W.event,Ue=W.eventTarget,Fe=W.pointerIndex,st=te.pointers[Fe].hold,mt=gt.getPath(Ue),$t={interaction:te,pointer:me,event:je,eventTarget:Ue,type:"hold",targets:[],path:mt,node:null},Ut=0;Ut<mt.length;Ut++){var un=mt[Ut];$t.node=un,ee.fire("pointerEvents:collect-targets",$t)}if($t.targets.length){for(var Gt=1/0,En=0;En<$t.targets.length;En++){var zn=$t.targets[En].eventable.options.holdDuration;zn<Gt&&(Gt=zn)}st.duration=Gt,st.timeout=setTimeout(function(){Os({interaction:te,eventTarget:Ue,pointer:me,event:je,type:"hold"},ee)},Gt)}})(se,B),Os(se,B)},"interactions:up":function(se,B){pe(se),Os(se,B),function(W,ee){var te=W.interaction,me=W.pointer,je=W.event,Ue=W.eventTarget;te.pointerWasMoved||Os({interaction:te,eventTarget:Ue,pointer:me,event:je,type:"tap"},ee)}(se,B)},"interactions:cancel":function(se,B){pe(se),Os(se,B)}},PointerEvent:kl.PointerEvent,fire:Os,collectEventTargets:Re,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Os(se,B){var W=se.interaction,ee=se.pointer,te=se.event,me=se.eventTarget,je=se.type,Ue=se.targets,Fe=Ue===void 0?Re(se,B):Ue,st=new kl.PointerEvent(je,ee,te,me,W,B.now());B.fire("pointerEvents:new",{pointerEvent:st});for(var mt={interaction:W,pointer:ee,event:te,eventTarget:me,targets:Fe,type:je,pointerEvent:st},$t=0;$t<Fe.length;$t++){var Ut=Fe[$t];for(var un in Ut.props||{})st[un]=Ut.props[un];var Gt=(0,on.default)(Ut.eventable,Ut.node);if(st._subtractOrigin(Gt),st.eventable=Ut.eventable,st.currentTarget=Ut.node,Ut.eventable.fire(st),st._addOrigin(Gt),st.immediatePropagationStopped||st.propagationStopped&&$t+1<Fe.length&&Fe[$t+1].node!==st.currentTarget)break}if(B.fire("pointerEvents:fired",mt),je==="tap"){var En=st.double?Os({interaction:W,pointer:ee,event:te,eventTarget:me,type:"doubletap"},B):st;W.prevTap=En,W.tapTime=En.timeStamp}return st}var $M=lp;od.default=$M;var up={};Object.defineProperty(up,"__esModule",{value:!0}),up.default=void 0;var BM={id:"pointer-events/holdRepeat",install:function(B){B.usePlugin(od.default);var W=B.pointerEvents;W.defaults.holdRepeatInterval=0,W.types.holdrepeat=B.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(se,B){return se["pointerEvents:".concat(B)]=xe,se},{"pointerEvents:new":function(se){var B=se.pointerEvent;B.type==="hold"&&(B.count=(B.count||0)+1)},"pointerEvents:fired":function(se,B){var W=se.interaction,ee=se.pointerEvent,te=se.eventTarget,me=se.targets;if(ee.type==="hold"&&me.length){var je=me[0].eventable.options.holdRepeatInterval;je<=0||(W.holdIntervalHandle=setTimeout(function(){B.pointerEvents.fire({interaction:W,eventTarget:te,type:"hold",pointer:ee,event:ee},B)},je))}}})},NM=BM;up.default=NM;var cp={};Object.defineProperty(cp,"__esModule",{value:!0}),cp.default=void 0;var zM={id:"pointer-events/interactableTargets",install:function(B){var W=B.Interactable;W.prototype.pointerEvents=$e;var ee=W.prototype._backCompatOption;W.prototype._backCompatOption=function(te,me){var je=ee.call(this,te,me);return je===this&&(this.events.options[te]=me),je}},listeners:{"pointerEvents:collect-targets":function(se,B){var W=se.targets,ee=se.node,te=se.type,me=se.eventTarget;B.interactables.forEachMatch(ee,function(je){var Ue=je.events,Fe=Ue.options;Ue.types[te]&&Ue.types[te].length&&je.testIgnoreAllow(Fe,ee,me)&&W.push({node:ee,eventable:Ue,props:{interactable:je}})})},"interactable:new":function(se){var B=se.interactable;B.events.getRect=function(W){return B.getRect(W)}},"interactable:set":function(se,B){var W=se.interactable,ee=se.options;(0,yt.default)(W.events.options,B.pointerEvents.defaults),(0,yt.default)(W.events.options,ee.pointerEvents||{})}}},FM=zM;cp.default=FM;var ad={};Object.defineProperty(ad,"__esModule",{value:!0}),ad.default=void 0;var HM={id:"pointer-events",install:function(B){B.usePlugin(od),B.usePlugin(up.default),B.usePlugin(cp.default)}},UM=HM;ad.default=UM;var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.default=void 0,Nu.install=ot;var VM={id:"reflow",install:ot,listeners:{"interactions:stop":function(se,B){var W=se.interaction;W.pointerType==="reflow"&&(W._reflowResolve&&W._reflowResolve(),_r.remove(B.interactions.list,W))}}},WM=VM;Nu.default=WM;var xl={};Object.defineProperty(xl,"__esModule",{value:!0}),xl.default=void 0,$i.default.use(kt.default),$i.default.use(Ot.default),$i.default.use(ad.default),$i.default.use(cn.default),$i.default.use(id.default),$i.default.use(Se.default),$i.default.use(Ia.default),$i.default.use(po.default),$i.default.use(Nu.default);var qM=$i.default;xl.default=qM,$i.default.default=$i.default,Ia.default,po.default,Se.default,kt.default,It.default,cn.default,$i.default,id.default,Ot.default,ad.default,Nu.default;var Sl={exports:{}};function Vk(se){return Vk=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(W){return typeof W=="undefined"?"undefined":_typeof(W)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B=="undefined"?"undefined":_typeof(B)},Vk(se)}Object.defineProperty(Sl.exports,"__esModule",{value:!0}),Sl.exports.default=void 0;var GM=xl.default;if(Sl.exports.default=GM,Vk(Sl)==="object"&&Sl)try{Sl.exports=xl.default}catch(se){}return xl.default.default=xl.default,Sl.exports}()},4581:function(a,s,r){(function(c,d,h){var f=function(N,qe,Ie){var nt=d.createElement(N);return qe&&(nt.id=Pe+qe),Ie&&(nt.style.cssText=Ie),c(nt)},v=function(){return h.innerHeight?h.innerHeight:c(h).height()},_=function(N,qe){qe!==Object(qe)&&(qe={}),this.cache={},this.el=N,this.value=function(Ie){var nt;return this.cache[Ie]===void 0&&((nt=c(this.el).attr("data-cbox-"+Ie))!==void 0?this.cache[Ie]=nt:qe[Ie]!==void 0?this.cache[Ie]=qe[Ie]:Ze[Ie]!==void 0&&(this.cache[Ie]=Ze[Ie])),this.cache[Ie]},this.get=function(Ie){var nt=this.value(Ie);return c.isFunction(nt)?nt.call(this.el,this):nt}},b=function(N){var qe=X.length,Ie=(Ve+N)%qe;return Ie<0?qe+Ie:Ie},w=function(N,qe){return Math.round((/%/.test(N)?(qe==="x"?Q.width():v())/100:1)*parseInt(N,10))},A=function(N,qe){return N.get("photo")||N.get("photoRegex").test(qe)},E=function(N,qe){return N.get("retinaUrl")&&h.devicePixelRatio>1?qe.replace(N.get("photoRegex"),N.get("retinaSuffix")):qe},O=function(N){"contains"in g[0]&&!g[0].contains(N.target)&&N.target!==p[0]&&(N.stopPropagation(),g.focus())},P=function(N){c(d).trigger(N),rt.triggerHandler(N)},y=function(N){var qe,Ie;if(!vt){if(qe=c(N).data(Ke),ie=new _(N,qe),Ie=ie.get("rel"),Ve=0,Ie&&Ie!==!1&&Ie!=="nofollow"?(X=c("."+at).filter(function(){return new _(this,c.data(this,Ke)).get("rel")===Ie}),(Ve=X.index(ie.el))===-1&&(X=X.add(ie.el),Ve=X.length-1)):X=c(ie.el),!ht){ht=bt=!0,xt(ie.get("className")),g.css({visibility:"hidden",display:"block",opacity:""}),H=f(it,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),x.css({width:"",height:""}).append(H),Oe=j.height()+F.height()+x.outerHeight(!0)-x.height(),De=L.width()+D.width()+x.outerWidth(!0)-x.width(),ke=H.outerHeight(!0),tt=H.outerWidth(!0);var nt=w(ie.get("initialWidth"),"x"),R=w(ie.get("initialHeight"),"y"),le=ie.get("maxWidth"),ue=ie.get("maxHeight");ie.w=Math.max((le!==!1?Math.min(nt,w(le,"x")):nt)-tt-De,0),ie.h=Math.max((ue!==!1?Math.min(R,w(ue,"y")):R)-ke-Oe,0),H.css({width:"",height:ie.h}),_e.position(),P(pt),ie.get("onOpen"),ae.add(V).hide(),g.focus(),ie.get("trapFocus")&&d.addEventListener&&(d.addEventListener("focus",O,!0),rt.one(ze,function(){d.removeEventListener("focus",O,!0)})),ie.get("returnFocus")&&rt.one(ze,function(){c(ie.el).focus()})}var ve=parseFloat(ie.get("opacity"));p.css({opacity:ve==ve?ve:"",cursor:ie.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),ie.get("closeButton")?J.html(ie.get("close")).appendTo(x):J.appendTo("<div/>"),function(){var de,K,ge,Ee=_e.prep,Ce=++wt;if(bt=!0,Qe=!1,P(He),P(lt),ie.get("onLoad"),ie.h=ie.get("height")?w(ie.get("height"),"y")-ke-Oe:ie.get("innerHeight")&&w(ie.get("innerHeight"),"y"),ie.w=ie.get("width")?w(ie.get("width"),"x")-tt-De:ie.get("innerWidth")&&w(ie.get("innerWidth"),"x"),ie.mw=ie.w,ie.mh=ie.h,ie.get("maxWidth")&&(ie.mw=w(ie.get("maxWidth"),"x")-tt-De,ie.mw=ie.w&&ie.w<ie.mw?ie.w:ie.mw),ie.get("maxHeight")&&(ie.mh=w(ie.get("maxHeight"),"y")-ke-Oe,ie.mh=ie.h&&ie.h<ie.mh?ie.h:ie.mh),de=ie.get("href"),Le=setTimeout(function(){ne.show()},100),ie.get("inline")){var Ye=c(de).eq(0);ge=c("<div>").hide().insertBefore(Ye),rt.one(He,function(){ge.replaceWith(Ye)}),Ee(Ye)}else ie.get("iframe")?Ee(" "):ie.get("html")?Ee(ie.get("html")):A(ie,de)?(de=E(ie,de),Qe=ie.get("createImg"),c(Qe).addClass(Pe+"Photo").bind("error."+Pe,function(){Ee(f(it,"Error").html(ie.get("imgError")))}).one("load",function(){Ce===wt&&setTimeout(function(){var Be;ie.get("retinaImage")&&h.devicePixelRatio>1&&(Qe.height=Qe.height/h.devicePixelRatio,Qe.width=Qe.width/h.devicePixelRatio),ie.get("scalePhotos")&&(K=function(){Qe.height-=Qe.height*Be,Qe.width-=Qe.width*Be},ie.mw&&Qe.width>ie.mw&&(Be=(Qe.width-ie.mw)/Qe.width,K()),ie.mh&&Qe.height>ie.mh&&(Be=(Qe.height-ie.mh)/Qe.height,K())),ie.h&&(Qe.style.marginTop=Math.max(ie.mh-Qe.height,0)/2+"px"),X[1]&&(ie.get("loop")||X[Ve+1])&&(Qe.style.cursor="pointer",c(Qe).bind("click."+Pe,function(){_e.next()})),Qe.style.width=Qe.width+"px",Qe.style.height=Qe.height+"px",Ee(Qe)},1)}),Qe.src=de):de&&ce.load(de,ie.get("data"),function(Be,Je){Ce===wt&&Ee(Je==="error"?f(it,"Error").html(ie.get("xhrError")):c(this).contents())})}()}},u=function(){g||(Ne=!1,Q=c(h),g=f(it).attr({id:Ke,class:c.support.opacity===!1?Pe+"IE":"",role:"dialog",tabindex:"-1"}).hide(),p=f(it,"Overlay").hide(),ne=c([f(it,"LoadingOverlay")[0],f(it,"LoadingGraphic")[0]]),k=f(it,"Wrapper"),x=f(it,"Content").append(V=f(it,"Title"),Y=f(it,"Current"),G=c('<button type="button"/>').attr({id:Pe+"Previous"}),q=c('<button type="button"/>').attr({id:Pe+"Next"}),oe=c('<button type="button"/>').attr({id:Pe+"Slideshow"}),ne),J=c('<button type="button"/>').attr({id:Pe+"Close"}),k.append(f(it).append(f(it,"TopLeft"),j=f(it,"TopCenter"),f(it,"TopRight")),f(it,!1,"clear:left").append(L=f(it,"MiddleLeft"),x,D=f(it,"MiddleRight")),f(it,!1,"clear:left").append(f(it,"BottomLeft"),F=f(it,"BottomCenter"),f(it,"BottomRight"))).find("div div").css({float:"left"}),ce=f(it,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),ae=q.add(G).add(Y).add(oe)),d.body&&!g.parent().length&&c(d.body).append(p,g.append(k,ce))},p,g,k,x,j,L,D,F,X,Q,H,ce,ne,V,Y,oe,q,G,J,ae,ie,Oe,De,ke,tt,Ve,Qe,ht,bt,vt,Le,_e,Ne,Ze={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return c(this).attr("href")},title:function(){return this.title},createImg:function(){var N=new Image,qe=c(this).data("cbox-img-attrs");return typeof qe=="object"&&c.each(qe,function(Ie,nt){N[Ie]=nt}),N},createIframe:function(){var N=d.createElement("iframe"),qe=c(this).data("cbox-iframe-attrs");return typeof qe=="object"&&c.each(qe,function(Ie,nt){N[Ie]=nt}),"frameBorder"in N&&(N.frameBorder=0),"allowTransparency"in N&&(N.allowTransparency="true"),N.name=new Date().getTime(),N.allowFullscreen=!0,N}},Ke="colorbox",Pe="cbox",at=Pe+"Element",pt=Pe+"_open",lt=Pe+"_load",ct=Pe+"_complete",Ge=Pe+"_cleanup",ze=Pe+"_closed",He=Pe+"_purge",rt=c("<a/>"),it="div",wt=0,_t={};function xt(we){xt.str!==we&&(g.add(p).removeClass(xt.str).addClass(we),xt.str=we)}var ut=function(){var we=function(){clearTimeout(le)},N=function(){(ie.get("loop")||X[Ve+1])&&(we(),le=setTimeout(_e.next,ie.get("slideshowSpeed")))},qe=function(){oe.html(ie.get("slideshowStop")).unbind(ve).one(ve,Ie),rt.bind(ct,N).bind(lt,we),g.removeClass(ue+"off").addClass(ue+"on")},Ie=function(){we(),rt.unbind(ct,N).unbind(lt,we),oe.html(ie.get("slideshowStart")).unbind(ve).one(ve,function(){_e.next(),qe()}),g.removeClass(ue+"on").addClass(ue+"off")},nt=function(){R=!1,oe.hide(),we(),rt.unbind(ct,N).unbind(lt,we),g.removeClass(ue+"off "+ue+"on")},R,le,ue=Pe+"Slideshow_",ve="click."+Pe;return function(){R?ie.get("slideshow")||(rt.unbind(Ge,nt),nt()):ie.get("slideshow")&&X[1]&&(R=!0,rt.one(Ge,nt),ie.get("slideshowAuto")?qe():Ie(),oe.show())}}();c[Ke]||(c(u),(_e=c.fn[Ke]=c[Ke]=function(we,N){var qe=this;return we=we||{},c.isFunction(qe)&&(qe=c("<a/>"),we.open=!0),qe[0]&&(u(),function(){var Ie=function(R){R.which>1||R.shiftKey||R.altKey||R.metaKey||R.ctrlKey||(R.preventDefault(),y(this))};return!!g&&(Ne||(Ne=!0,q.click(function(){_e.next()}),G.click(function(){_e.prev()}),J.click(function(){_e.close()}),p.click(function(){ie.get("overlayClose")&&_e.close()}),c(d).bind("keydown."+Pe,function(nt){var R=nt.keyCode;ht&&ie.get("escKey")&&R===27&&(nt.preventDefault(),_e.close()),ht&&ie.get("arrowKey")&&X[1]&&!nt.altKey&&(R===37?(nt.preventDefault(),G.click()):R===39&&(nt.preventDefault(),q.click()))}),c.isFunction(c.fn.on)?c(d).on("click."+Pe,"."+at,Ie):c("."+at).live("click."+Pe,Ie)),!0)}()&&(N&&(we.onComplete=N),qe.each(function(){var Ie=c.data(this,Ke)||{};c.data(this,Ke,c.extend(Ie,we))}).addClass(at),new _(qe[0],we).get("open")&&y(qe[0]))),qe}).position=function(we,N){var qe=function(){j[0].style.width=F[0].style.width=x[0].style.width=parseInt(g[0].style.width,10)-De+"px",x[0].style.height=L[0].style.height=D[0].style.height=parseInt(g[0].style.height,10)-Oe+"px"},Ie,nt,R,le=0,ue=0,ve=g.offset();if(Q.unbind("resize."+Pe),g.css({top:-9e4,left:-9e4}),nt=Q.scrollTop(),R=Q.scrollLeft(),ie.get("fixed")?(ve.top-=nt,ve.left-=R,g.css({position:"fixed"})):(le=nt,ue=R,g.css({position:"absolute"})),ie.get("right")!==!1?ue+=Math.max(Q.width()-ie.w-tt-De-w(ie.get("right"),"x"),0):ie.get("left")!==!1?ue+=w(ie.get("left"),"x"):ue+=Math.round(Math.max(Q.width()-ie.w-tt-De,0)/2),ie.get("bottom")!==!1?le+=Math.max(v()-ie.h-ke-Oe-w(ie.get("bottom"),"y"),0):ie.get("top")!==!1?le+=w(ie.get("top"),"y"):le+=Math.round(Math.max(v()-ie.h-ke-Oe,0)/2),g.css({top:ve.top,left:ve.left,visibility:"visible"}),k[0].style.width=k[0].style.height="9999px",Ie={width:ie.w+tt+De,height:ie.h+ke+Oe,top:le,left:ue},we){var de=0;c.each(Ie,function(K){Ie[K]===_t[K]||(de=we)}),we=de}_t=Ie,we||g.css(Ie),g.dequeue().animate(Ie,{duration:we||0,complete:function(){qe(),bt=!1,k[0].style.width=ie.w+tt+De+"px",k[0].style.height=ie.h+ke+Oe+"px",ie.get("reposition")&&setTimeout(function(){Q.bind("resize."+Pe,_e.position)},1),c.isFunction(N)&&N()},step:qe})},_e.resize=function(we){var N;ht&&((we=we||{}).width&&(ie.w=w(we.width,"x")-tt-De),we.innerWidth&&(ie.w=w(we.innerWidth,"x")),H.css({width:ie.w}),we.height&&(ie.h=w(we.height,"y")-ke-Oe),we.innerHeight&&(ie.h=w(we.innerHeight,"y")),we.innerHeight||we.height||(N=H.scrollTop(),H.css({height:"auto"}),ie.h=H.height()),H.css({height:ie.h}),N&&H.scrollTop(N),_e.position(ie.get("transition")==="none"?0:ie.get("speed")))},_e.prep=function(we){if(ht){var N,qe=ie.get("transition")==="none"?0:ie.get("speed");H.remove(),(H=f(it,"LoadedContent").append(we)).hide().appendTo(ce.show()).css({width:(ie.w=ie.w||H.width(),ie.w=ie.mw&&ie.mw<ie.w?ie.mw:ie.w,ie.w),overflow:ie.get("scrolling")?"auto":"hidden"}).css({height:(ie.h=ie.h||H.height(),ie.h=ie.mh&&ie.mh<ie.h?ie.mh:ie.h,ie.h)}).prependTo(x),ce.hide(),c(Qe).css({float:"none"}),xt(ie.get("className")),N=function(){var nt=function(){c.support.opacity===!1&&g[0].style.removeAttribute("filter")},R,le,ue=X.length;ht&&(le=function(){clearTimeout(Le),ne.hide(),P(ct),ie.get("onComplete")},V.html(ie.get("title")).show(),H.show(),ue>1?(typeof ie.get("current")=="string"&&Y.html(ie.get("current").replace("{current}",Ve+1).replace("{total}",ue)).show(),q[ie.get("loop")||Ve<ue-1?"show":"hide"]().html(ie.get("next")),G[ie.get("loop")||Ve?"show":"hide"]().html(ie.get("previous")),ut(),ie.get("preloading")&&c.each([b(-1),b(1)],function(){var ve=X[this],de=new _(ve,c.data(ve,Ke)),K=de.get("href");K&&A(de,K)&&(K=E(de,K),d.createElement("img").src=K)})):ae.hide(),ie.get("iframe")?(R=ie.get("createIframe"),ie.get("scrolling")||(R.scrolling="no"),c(R).attr({src:ie.get("href"),class:Pe+"Iframe"}).one("load",le).appendTo(H),rt.one(He,function(){R.src="//about:blank"}),ie.get("fastIframe")&&c(R).trigger("load")):le(),ie.get("transition")==="fade"?g.fadeTo(qe,1,nt):nt())},ie.get("transition")==="fade"?g.fadeTo(qe,0,function(){_e.position(0,N)}):_e.position(qe,N)}},_e.next=function(){!bt&&X[1]&&(ie.get("loop")||X[Ve+1])&&(Ve=b(1),y(X[Ve]))},_e.prev=function(){!bt&&X[1]&&(ie.get("loop")||Ve)&&(Ve=b(-1),y(X[Ve]))},_e.close=function(){ht&&!vt&&(vt=!0,ht=!1,P(Ge),ie.get("onCleanup"),Q.unbind("."+Pe),p.fadeTo(ie.get("fadeOut")||0,0),g.stop().fadeTo(ie.get("fadeOut")||0,0,function(){g.hide(),p.hide(),P(He),H.remove(),setTimeout(function(){vt=!1,P(ze),ie.get("onClosed")},1)}))},_e.remove=function(){g&&(g.stop(),c[Ke].close(),g.stop(!1,!0).remove(),p.remove(),vt=!1,g=null,c("."+at).removeData(Ke).removeClass(at),c(d).unbind("click."+Pe).unbind("keydown."+Pe))},_e.element=function(){return c(ie.el)},_e.settings=Ze)})(r(5311),document,window)},5557:function(a,s,r){(function(c){var d=function(w,A){if(!(w.originalEvent.touches.length>1)){w.preventDefault();var E=w.originalEvent.changedTouches[0],O=document.createEvent("MouseEvents");O.initMouseEvent(A,!0,!0,window,1,E.screenX,E.screenY,E.clientX,E.clientY,!1,!1,!1,!1,0,null),w.target.dispatchEvent(O)}};if(c.support.touch="ontouchend"in document,c.support.touch){var h,f=c.ui.mouse.prototype,v=f._mouseInit,_=f._mouseDestroy;f._touchStart=function(b){!h&&this._mouseCapture(b.originalEvent.changedTouches[0])&&(h=!0,this._touchMoved=!1,d(b,"mouseover"),d(b,"mousemove"),d(b,"mousedown"))},f._touchMove=function(b){h&&(this._touchMoved=!0,d(b,"mousemove"))},f._touchEnd=function(b){h&&(d(b,"mouseup"),d(b,"mouseout"),this._touchMoved||d(b,"click"),h=!1)},f._mouseInit=function(){var b=this;b.element.bind({touchstart:c.proxy(b,"_touchStart"),touchmove:c.proxy(b,"_touchMove"),touchend:c.proxy(b,"_touchEnd")}),v.call(b)},f._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:c.proxy(b,"_touchStart"),touchmove:c.proxy(b,"_touchMove"),touchend:c.proxy(b,"_touchEnd")}),_.call(b)}}})(r(5311))},1870:function(a,s,r){var c,d,h;d=[r(5311),r(5592)],(h=typeof(c=function(v){return v.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})=="function"?c.apply(s,d):c)===void 0||(a.exports=h)},7053:function(a,s,r){var c,d,h;d=[r(5311),r(5592)],(h=typeof(c=function(v){return v.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})=="function"?c.apply(s,d):c)===void 0||(a.exports=h)},5592:function(a,s,r){var c,d,h;d=[r(5311)],(h=typeof(c=function(v){return v.ui=v.ui||{},v.ui.version="1.12.1"})=="function"?c.apply(s,d):c)===void 0||(a.exports=h)},6891:function(a,s,r){var c,d,h;d=[r(5311),r(5592)],c=function(v){var _,b=0,w=Array.prototype.slice;return v.cleanData=(_=v.cleanData,function(A){var E,O,P;for(P=0;(O=A[P])!=null;P++)try{(E=v._data(O,"events"))&&E.remove&&v(O).triggerHandler("remove")}catch(y){}_(A)}),v.widget=function(A,E,O){var P,y,u,p={},g=A.split(".")[0],k=g+"-"+(A=A.split(".")[1]);return O||(O=E,E=v.Widget),v.isArray(O)&&(O=v.extend.apply(null,[{}].concat(O))),v.expr[":"][k.toLowerCase()]=function(x){return!!v.data(x,k)},v[g]=v[g]||{},P=v[g][A],y=v[g][A]=function(x,j){if(!this._createWidget)return new y(x,j);arguments.length&&this._createWidget(x,j)},v.extend(y,P,{version:O.version,_proto:v.extend({},O),_childConstructors:[]}),(u=new E).options=v.widget.extend({},u.options),v.each(O,function(x,j){v.isFunction(j)?p[x]=function(){var L=function(){return E.prototype[x].apply(this,arguments)},D=function(X){return E.prototype[x].apply(this,X)};return function(){var F,X=this._super,Q=this._superApply;return this._super=L,this._superApply=D,F=j.apply(this,arguments),this._super=X,this._superApply=Q,F}}():p[x]=j}),y.prototype=v.widget.extend(u,{widgetEventPrefix:P&&u.widgetEventPrefix||A},p,{constructor:y,namespace:g,widgetName:A,widgetFullName:k}),P?(v.each(P._childConstructors,function(x,j){var L=j.prototype;v.widget(L.namespace+"."+L.widgetName,y,j._proto)}),delete P._childConstructors):E._childConstructors.push(y),v.widget.bridge(A,y),y},v.widget.extend=function(A){for(var E,O,P=w.call(arguments,1),y=0,u=P.length;y<u;y++)for(E in P[y])O=P[y][E],P[y].hasOwnProperty(E)&&O!==void 0&&(v.isPlainObject(O)?A[E]=v.isPlainObject(A[E])?v.widget.extend({},A[E],O):v.widget.extend({},O):A[E]=O);return A},v.widget.bridge=function(A,E){var O=E.prototype.widgetFullName||A;v.fn[A]=function(P){var y=typeof P=="string",u=w.call(arguments,1),p=this;return y?this.length||P!=="instance"?this.each(function(){var g,k=v.data(this,O);return P==="instance"?(p=k,!1):k?v.isFunction(k[P])&&P.charAt(0)!=="_"?(g=k[P].apply(k,u))!==k&&g!==void 0?(p=g&&g.jquery?p.pushStack(g.get()):g,!1):void 0:v.error("no such method '"+P+"' for "+A+" widget instance"):v.error("cannot call methods on "+A+" prior to initialization; attempted to call method '"+P+"'")}):p=void 0:(u.length&&(P=v.widget.extend.apply(null,[P].concat(u))),this.each(function(){var g=v.data(this,O);g?(g.option(P||{}),g._init&&g._init()):v.data(this,O,new E(P,this))})),p}},v.Widget=function(){},v.Widget._childConstructors=[],v.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(E,O){O=v(O||this.defaultElement||this)[0],this.element=v(O),this.uuid=b++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=v(),this.hoverable=v(),this.focusable=v(),this.classesElementLookup={},O!==this&&(v.data(O,this.widgetFullName,this),this._on(!0,this.element,{remove:function(y){y.target===O&&this.destroy()}}),this.document=v(O.style?O.ownerDocument:O.document||O),this.window=v(this.document[0].defaultView||this.document[0].parentWindow)),this.options=v.widget.extend({},this.options,this._getCreateOptions(),E),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:v.noop,_create:v.noop,_init:v.noop,destroy:function(){var E=this;this._destroy(),v.each(this.classesElementLookup,function(O,P){E._removeClass(P,O)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:v.noop,widget:function(){return this.element},option:function(E,O){var P,y,u,p=E;if(arguments.length===0)return v.widget.extend({},this.options);if(typeof E=="string")if(p={},P=E.split("."),E=P.shift(),P.length){for(y=p[E]=v.widget.extend({},this.options[E]),u=0;u<P.length-1;u++)y[P[u]]=y[P[u]]||{},y=y[P[u]];if(E=P.pop(),arguments.length===1)return y[E]===void 0?null:y[E];y[E]=O}else{if(arguments.length===1)return this.options[E]===void 0?null:this.options[E];p[E]=O}return this._setOptions(p),this},_setOptions:function(E){var O;for(O in E)this._setOption(O,E[O]);return this},_setOption:function(E,O){return E==="classes"&&this._setOptionClasses(O),this.options[E]=O,E==="disabled"&&this._setOptionDisabled(O),this},_setOptionClasses:function(E){var O,P,y;for(O in E)y=this.classesElementLookup[O],E[O]!==this.options.classes[O]&&y&&y.length&&(P=v(y.get()),this._removeClass(y,O),P.addClass(this._classes({element:P,keys:O,classes:E,add:!0})))},_setOptionDisabled:function(E){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!E),E&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(E){var O=function(p,g){var k,x;for(x=0;x<p.length;x++)k=y.classesElementLookup[p[x]]||v(),k=E.add?v(v.unique(k.get().concat(E.element.get()))):v(k.not(E.element).get()),y.classesElementLookup[p[x]]=k,P.push(p[x]),g&&E.classes[p[x]]&&P.push(E.classes[p[x]])},P=[],y=this;return E=v.extend({element:this.element,classes:this.options.classes||{}},E),this._on(E.element,{remove:"_untrackClassesElement"}),E.keys&&O(E.keys.match(/\S+/g)||[],!0),E.extra&&O(E.extra.match(/\S+/g)||[]),P.join(" ")},_untrackClassesElement:function(E){var O=this;v.each(O.classesElementLookup,function(P,y){v.inArray(E.target,y)!==-1&&(O.classesElementLookup[P]=v(y.not(E.target).get()))})},_removeClass:function(E,O,P){return this._toggleClass(E,O,P,!1)},_addClass:function(E,O,P){return this._toggleClass(E,O,P,!0)},_toggleClass:function(E,O,P,y){y=typeof y=="boolean"?y:P;var u=typeof E=="string"||E===null,p={extra:u?O:P,keys:u?E:O,element:u?this.element:E,add:y};return p.element.toggleClass(this._classes(p),y),this},_on:function(E,O,P){var y,u=this;typeof E!="boolean"&&(P=O,O=E,E=!1),P?(O=y=v(O),this.bindings=this.bindings.add(O)):(P=O,O=this.element,y=this.widget()),v.each(P,function(p,g){var k=function(){if(E||u.options.disabled!==!0&&!v(this).hasClass("ui-state-disabled"))return(typeof g=="string"?u[g]:g).apply(u,arguments)};typeof g!="string"&&(k.guid=g.guid=g.guid||k.guid||v.guid++);var x=p.match(/^([\w:-]*)\s*(.*)$/),j=x[1]+u.eventNamespace,L=x[2];L?y.on(j,L,k):O.on(j,k)})},_off:function(E,O){O=(O||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,E.off(O).off(O),this.bindings=v(this.bindings.not(E).get()),this.focusable=v(this.focusable.not(E).get()),this.hoverable=v(this.hoverable.not(E).get())},_delay:function(E,O){var P=this;return setTimeout(function(){return(typeof E=="string"?P[E]:E).apply(P,arguments)},O||0)},_hoverable:function(E){this.hoverable=this.hoverable.add(E),this._on(E,{mouseenter:function(P){this._addClass(v(P.currentTarget),null,"ui-state-hover")},mouseleave:function(P){this._removeClass(v(P.currentTarget),null,"ui-state-hover")}})},_focusable:function(E){this.focusable=this.focusable.add(E),this._on(E,{focusin:function(P){this._addClass(v(P.currentTarget),null,"ui-state-focus")},focusout:function(P){this._removeClass(v(P.currentTarget),null,"ui-state-focus")}})},_trigger:function(E,O,P){var y,u,p=this.options[E];if(P=P||{},(O=v.Event(O)).type=(E===this.widgetEventPrefix?E:this.widgetEventPrefix+E).toLowerCase(),O.target=this.element[0],u=O.originalEvent)for(y in u)y in O||(O[y]=u[y]);return this.element.trigger(O,P),!(v.isFunction(p)&&p.apply(this.element[0],[O].concat(P))===!1||O.isDefaultPrevented())}},v.each({show:"fadeIn",hide:"fadeOut"},function(A,E){v.Widget.prototype["_"+A]=function(O,P,y){var u;typeof P=="string"&&(P={effect:P});var p=P?P===!0||typeof P=="number"?E:P.effect||E:A;typeof(P=P||{})=="number"&&(P={duration:P}),u=!v.isEmptyObject(P),P.complete=y,P.delay&&O.delay(P.delay),u&&v.effects&&v.effects.effect[p]?O[A](P):p!==A&&O[p]?O[p](P.duration,P.easing,y):O.queue(function(g){v(this)[A](),y&&y.call(O[0]),g()})}}),v.widget},(h=c.apply(s,d))===void 0||(a.exports=h)},6177:function(a,s,r){var c,d,h;d=[r(5311),r(1870),r(5592),r(6891)],(h=typeof(c=function(v){var _=!1;return v(document).on("mouseup",function(){_=!1}),v.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var w=this;this.element.on("mousedown."+this.widgetName,function(A){return w._mouseDown(A)}).on("click."+this.widgetName,function(A){if(v.data(A.target,w.widgetName+".preventClickEvent")===!0)return v.removeData(A.target,w.widgetName+".preventClickEvent"),A.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(w){if(!_){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(w),this._mouseDownEvent=w;var A=this,E=w.which===1,O=!(typeof this.options.cancel!="string"||!w.target.nodeName)&&v(w.target).closest(this.options.cancel).length;return!(E&&!O&&this._mouseCapture(w)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){A.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(w)&&this._mouseDelayMet(w)&&(this._mouseStarted=this._mouseStart(w)!==!1,!this._mouseStarted)?(w.preventDefault(),0):(v.data(w.target,this.widgetName+".preventClickEvent")===!0&&v.removeData(w.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(P){return A._mouseMove(P)},this._mouseUpDelegate=function(P){return A._mouseUp(P)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),w.preventDefault(),_=!0,0)))}},_mouseMove:function(w){if(this._mouseMoved){if(v.ui.ie&&(!document.documentMode||document.documentMode<9)&&!w.button)return this._mouseUp(w);if(!w.which){if(w.originalEvent.altKey||w.originalEvent.ctrlKey||w.originalEvent.metaKey||w.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(w)}}return(w.which||w.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(w),w.preventDefault()):(this._mouseDistanceMet(w)&&this._mouseDelayMet(w)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,w)!==!1,this._mouseStarted?this._mouseDrag(w):this._mouseUp(w)),!this._mouseStarted)},_mouseUp:function(w){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,w.target===this._mouseDownEvent.target&&v.data(w.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(w)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,_=!1,w.preventDefault()},_mouseDistanceMet:function(w){return Math.max(Math.abs(this._mouseDownEvent.pageX-w.pageX),Math.abs(this._mouseDownEvent.pageY-w.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})=="function"?c.apply(s,d):c)===void 0||(a.exports=h)},6227:function(a,s,r){var c,d,h;d=[r(5311),r(6177),r(7053),r(5592),r(6891)],c=function(v){return v.widget("ui.slider",v.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,w,A=this.options,E=this.element.find(".ui-slider-handle"),O=[];for(w=A.values&&A.values.length||1,E.length>w&&(E.slice(w).remove(),E=E.slice(0,w)),b=E.length;b<w;b++)O.push("<span tabindex='0'></span>");this.handles=E.add(v(O.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(P){v(this).data("ui-slider-handle-index",P).attr("tabIndex",0)})},_createRange:function(){var b=this.options;b.range?(b.range===!0&&(b.values?b.values.length&&b.values.length!==2?b.values=[b.values[0],b.values[0]]:v.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=v("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),b.range!=="min"&&b.range!=="max"||this._addClass(this.range,"ui-slider-range-"+b.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(b){var w,A,E,O,P,y,u,p=this,g=this.options;return!g.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),w={x:b.pageX,y:b.pageY},A=this._normValueFromMouse(w),E=this._valueMax()-this._valueMin()+1,this.handles.each(function(k){var x=Math.abs(A-p.values(k));(E>x||E===x&&(k===p._lastChangedValue||p.values(k)===g.min))&&(E=x,O=v(this),P=k)}),this._start(b,P)!==!1&&(this._mouseSliding=!0,this._handleIndex=P,this._addClass(O,null,"ui-state-active"),O.trigger("focus"),y=O.offset(),u=!v(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:b.pageX-y.left-O.width()/2,top:b.pageY-y.top-O.height()/2-(parseInt(O.css("borderTopWidth"),10)||0)-(parseInt(O.css("borderBottomWidth"),10)||0)+(parseInt(O.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,P,A),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(b){var w={x:b.pageX,y:b.pageY},A=this._normValueFromMouse(w);return this._slide(b,this._handleIndex,A),!1},_mouseStop:function(b){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(b,this._handleIndex),this._change(b,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(b){var w,A,E,O,P;return this.orientation==="horizontal"?(w=this.elementSize.width,A=b.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(w=this.elementSize.height,A=b.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(E=A/w)>1&&(E=1),E<0&&(E=0),this.orientation==="vertical"&&(E=1-E),O=this._valueMax()-this._valueMin(),P=this._valueMin()+E*O,this._trimAlignValue(P)},_uiHash:function(b,w,A){var E={handle:this.handles[b],handleIndex:b,value:w!==void 0?w:this.value()};return this._hasMultipleValues()&&(E.value=w!==void 0?w:this.values(b),E.values=A||this.values()),E},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(b,w){return this._trigger("start",b,this._uiHash(w))},_slide:function(b,w,A){var E,O=this.value(),P=this.values();this._hasMultipleValues()&&(E=this.values(w?0:1),O=this.values(w),this.options.values.length===2&&this.options.range===!0&&(A=w===0?Math.min(E,A):Math.max(E,A)),P[w]=A),A!==O&&this._trigger("slide",b,this._uiHash(w,A,P))!==!1&&(this._hasMultipleValues()?this.values(w,A):this.value(A))},_stop:function(b,w){this._trigger("stop",b,this._uiHash(w))},_change:function(b,w){this._keySliding||this._mouseSliding||(this._lastChangedValue=w,this._trigger("change",b,this._uiHash(w)))},value:function(b){return arguments.length?(this.options.value=this._trimAlignValue(b),this._refreshValue(),void this._change(null,0)):this._value()},values:function(b,w){var A,E,O;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(w),this._refreshValue(),void this._change(null,b);if(!arguments.length)return this._values();if(!v.isArray(arguments[0]))return this._hasMultipleValues()?this._values(b):this.value();for(A=this.options.values,E=arguments[0],O=0;O<A.length;O+=1)A[O]=this._trimAlignValue(E[O]),this._change(null,O);this._refreshValue()},_setOption:function(b,w){var A,E=0;switch(b==="range"&&this.options.range===!0&&(w==="min"?(this.options.value=this._values(0),this.options.values=null):w==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),v.isArray(this.options.values)&&(E=this.options.values.length),this._super(b,w),b){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(w),this.handles.css(w==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),A=E-1;A>=0;A--)this._change(null,A);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(b){this._super(b),this._toggleClass(null,"ui-state-disabled",!!b)},_value:function(){var b=this.options.value;return this._trimAlignValue(b)},_values:function(b){var w,A,E;if(arguments.length)return w=this.options.values[b],this._trimAlignValue(w);if(this._hasMultipleValues()){for(A=this.options.values.slice(),E=0;E<A.length;E+=1)A[E]=this._trimAlignValue(A[E]);return A}return[]},_trimAlignValue:function(b){if(b<=this._valueMin())return this._valueMin();if(b>=this._valueMax())return this._valueMax();var w=this.options.step>0?this.options.step:1,A=(b-this._valueMin())%w,E=b-A;return 2*Math.abs(A)>=w&&(E+=A>0?w:-w),parseFloat(E.toFixed(5))},_calculateNewMax:function(){var b=this.options.max,w=this._valueMin(),A=this.options.step;(b=Math.round((b-w)/A)*A+w)>this.options.max&&(b-=A),this.max=parseFloat(b.toFixed(this._precision()))},_precision:function(){var b=this._precisionOf(this.options.step);return this.options.min!==null&&(b=Math.max(b,this._precisionOf(this.options.min))),b},_precisionOf:function(b){var w=b.toString(),A=w.indexOf(".");return A===-1?0:w.length-A-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(b){b==="vertical"&&this.range.css({width:"",left:""}),b==="horizontal"&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var b,w,A,E,O,P=this.options.range,y=this.options,u=this,p=!this._animateOff&&y.animate,g={};this._hasMultipleValues()?this.handles.each(function(k){w=(u.values(k)-u._valueMin())/(u._valueMax()-u._valueMin())*100,g[u.orientation==="horizontal"?"left":"bottom"]=w+"%",v(this).stop(1,1)[p?"animate":"css"](g,y.animate),u.options.range===!0&&(u.orientation==="horizontal"?(k===0&&u.range.stop(1,1)[p?"animate":"css"]({left:w+"%"},y.animate),k===1&&u.range[p?"animate":"css"]({width:w-b+"%"},{queue:!1,duration:y.animate})):(k===0&&u.range.stop(1,1)[p?"animate":"css"]({bottom:w+"%"},y.animate),k===1&&u.range[p?"animate":"css"]({height:w-b+"%"},{queue:!1,duration:y.animate}))),b=w}):(A=this.value(),E=this._valueMin(),O=this._valueMax(),w=O!==E?(A-E)/(O-E)*100:0,g[this.orientation==="horizontal"?"left":"bottom"]=w+"%",this.handle.stop(1,1)[p?"animate":"css"](g,y.animate),P==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[p?"animate":"css"]({width:w+"%"},y.animate),P==="max"&&this.orientation==="horizontal"&&this.range.stop(1,1)[p?"animate":"css"]({width:100-w+"%"},y.animate),P==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[p?"animate":"css"]({height:w+"%"},y.animate),P==="max"&&this.orientation==="vertical"&&this.range.stop(1,1)[p?"animate":"css"]({height:100-w+"%"},y.animate))},_handleEvents:{keydown:function(b){var w,A,E,O=v(b.target).data("ui-slider-handle-index");switch(b.keyCode){case v.ui.keyCode.HOME:case v.ui.keyCode.END:case v.ui.keyCode.PAGE_UP:case v.ui.keyCode.PAGE_DOWN:case v.ui.keyCode.UP:case v.ui.keyCode.RIGHT:case v.ui.keyCode.DOWN:case v.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(v(b.target),null,"ui-state-active"),this._start(b,O)===!1))return}switch(E=this.options.step,w=A=this._hasMultipleValues()?this.values(O):this.value(),b.keyCode){case v.ui.keyCode.HOME:A=this._valueMin();break;case v.ui.keyCode.END:A=this._valueMax();break;case v.ui.keyCode.PAGE_UP:A=this._trimAlignValue(w+(this._valueMax()-this._valueMin())/this.numPages);break;case v.ui.keyCode.PAGE_DOWN:A=this._trimAlignValue(w-(this._valueMax()-this._valueMin())/this.numPages);break;case v.ui.keyCode.UP:case v.ui.keyCode.RIGHT:if(w===this._valueMax())return;A=this._trimAlignValue(w+E);break;case v.ui.keyCode.DOWN:case v.ui.keyCode.LEFT:if(w===this._valueMin())return;A=this._trimAlignValue(w-E)}this._slide(b,O,A)},keyup:function(b){var w=v(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,w),this._change(b,w),this._removeClass(v(b.target),null,"ui-state-active"))}}})},(h=c.apply(s,d))===void 0||(a.exports=h)},5311:function(a){"use strict";a.exports=jQuery},509:function(a,s,r){"use strict";var c=r(9985),d=r(3691),h=TypeError;a.exports=function(f){if(c(f))return f;throw new h(d(f)+" is not a function")}},2655:function(a,s,r){"use strict";var c=r(9429),d=r(3691),h=TypeError;a.exports=function(f){if(c(f))return f;throw new h(d(f)+" is not a constructor")}},3550:function(a,s,r){"use strict";var c=r(9985),d=String,h=TypeError;a.exports=function(f){if(typeof f=="object"||c(f))return f;throw new h("Can't set "+d(f)+" as a prototype")}},7370:function(a,s,r){"use strict";var c=r(4201),d=r(5391),h=r(2560).f,f=c("unscopables"),v=Array.prototype;v[f]===void 0&&h(v,f,{configurable:!0,value:d(null)}),a.exports=function(_){v[f][_]=!0}},727:function(a,s,r){"use strict";var c=r(730).charAt;a.exports=function(d,h,f){return h+(f?c(d,h).length:1)}},767:function(a,s,r){"use strict";var c=r(3622),d=TypeError;a.exports=function(h,f){if(c(f,h))return h;throw new d("Incorrect invocation")}},5027:function(a,s,r){"use strict";var c=r(8999),d=String,h=TypeError;a.exports=function(f){if(c(f))return f;throw new h(d(f)+" is not an object")}},1655:function(a,s,r){"use strict";var c=r(3689);a.exports=c(function(){if(typeof ArrayBuffer=="function"){var d=new ArrayBuffer(8);Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8})}})},2872:function(a,s,r){"use strict";var c=r(690),d=r(7578),h=r(6310);a.exports=function(f){for(var v=c(this),_=h(v),b=arguments.length,w=d(b>1?arguments[1]:void 0,_),A=b>2?arguments[2]:void 0,E=A===void 0?_:d(A,_);E>w;)v[w++]=f;return v}},7612:function(a,s,r){"use strict";var c=r(2960).forEach,d=r(6834)("forEach");a.exports=d?[].forEach:function(h){return c(this,h,arguments.length>1?arguments[1]:void 0)}},1055:function(a,s,r){"use strict";var c=r(4071),d=r(2615),h=r(690),f=r(1228),v=r(3292),_=r(9429),b=r(6310),w=r(6522),A=r(5185),E=r(1664),O=Array;a.exports=function(P){var y=h(P),u=_(this),p=arguments.length,g=p>1?arguments[1]:void 0,k=g!==void 0;k&&(g=c(g,p>2?arguments[2]:void 0));var x,j,L,D,F,X,Q=E(y),H=0;if(!Q||this===O&&v(Q))for(x=b(y),j=u?new this(x):O(x);x>H;H++)X=k?g(y[H],H):y[H],w(j,H,X);else for(F=(D=A(y,Q)).next,j=u?new this:[];!(L=d(F,D)).done;H++)X=k?f(D,g,[L.value,H],!0):L.value,w(j,H,X);return j.length=H,j}},4328:function(a,s,r){"use strict";var c=r(5290),d=r(7578),h=r(6310),f=function(_){return function(b,w,A){var E,O=c(b),P=h(O),y=d(A,P);if(_&&w!=w){for(;P>y;)if((E=O[y++])!=E)return!0}else for(;P>y;y++)if((_||y in O)&&O[y]===w)return _||y||0;return!_&&-1}};a.exports={includes:f(!0),indexOf:f(!1)}},2960:function(a,s,r){"use strict";var c=r(4071),d=r(8844),h=r(4413),f=r(690),v=r(6310),_=r(7120),b=d([].push),w=function(E){var O=E===1,P=E===2,y=E===3,u=E===4,p=E===6,g=E===7,k=E===5||p;return function(x,j,L,D){for(var F,X,Q=f(x),H=h(Q),ce=c(j,L),ne=v(H),V=0,Y=D||_,oe=O?Y(x,ne):P||g?Y(x,0):void 0;ne>V;V++)if((k||V in H)&&(X=ce(F=H[V],V,Q),E))if(O)oe[V]=X;else if(X)switch(E){case 3:return!0;case 5:return F;case 6:return V;case 2:b(oe,F)}else switch(E){case 4:return!1;case 7:b(oe,F)}return p?-1:y||u?u:oe}};a.exports={forEach:w(0),map:w(1),filter:w(2),some:w(3),every:w(4),find:w(5),findIndex:w(6),filterReject:w(7)}},9042:function(a,s,r){"use strict";var c=r(3689),d=r(4201),h=r(3615),f=d("species");a.exports=function(v){return h>=51||!c(function(){var _=[];return(_.constructor={})[f]=function(){return{foo:1}},_[v](Boolean).foo!==1})}},6834:function(a,s,r){"use strict";var c=r(3689);a.exports=function(d,h){var f=[][d];return!!f&&c(function(){f.call(null,h||function(){return 1},1)})}},8820:function(a,s,r){"use strict";var c=r(509),d=r(690),h=r(4413),f=r(6310),v=TypeError,_=function(w){return function(A,E,O,P){c(E);var y=d(A),u=h(y),p=f(y),g=w?p-1:0,k=w?-1:1;if(O<2)for(;;){if(g in u){P=u[g],g+=k;break}if(g+=k,w?g<0:p<=g)throw new v("Reduce of empty array with no initial value")}for(;w?g>=0:p>g;g+=k)g in u&&(P=E(P,u[g],g,y));return P}};a.exports={left:_(!1),right:_(!0)}},5649:function(a,s,r){"use strict";var c=r(7697),d=r(2297),h=TypeError,f=Object.getOwnPropertyDescriptor,v=c&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(_){return _instanceof(_,TypeError)}}();a.exports=v?function(_,b){if(d(_)&&!f(_,"length").writable)throw new h("Cannot set read only .length");return _.length=b}:function(_,b){return _.length=b}},9015:function(a,s,r){"use strict";var c=r(7578),d=r(6310),h=r(6522),f=Array,v=Math.max;a.exports=function(_,b,w){for(var A=d(_),E=c(b,A),O=c(w===void 0?A:w,A),P=f(v(O-E,0)),y=0;E<O;E++,y++)h(P,y,_[E]);return P.length=y,P}},6004:function(a,s,r){"use strict";var c=r(8844);a.exports=c([].slice)},382:function(a,s,r){"use strict";var c=r(9015),d=Math.floor,h=function(_,b){var w=_.length,A=d(w/2);return w<8?f(_,b):v(_,h(c(_,0,A),b),h(c(_,A),b),b)},f=function(b,w){for(var A,E,O=b.length,P=1;P<O;){for(E=P,A=b[P];E&&w(b[E-1],A)>0;)b[E]=b[--E];E!==P++&&(b[E]=A)}return b},v=function(b,w,A,E){for(var O=w.length,P=A.length,y=0,u=0;y<O||u<P;)b[y+u]=y<O&&u<P?E(w[y],A[u])<=0?w[y++]:A[u++]:y<O?w[y++]:A[u++];return b};a.exports=h},5271:function(a,s,r){"use strict";var c=r(2297),d=r(9429),h=r(8999),f=r(4201)("species"),v=Array;a.exports=function(_){var b;return c(_)&&(b=_.constructor,(d(b)&&(b===v||c(b.prototype))||h(b)&&(b=b[f])===null)&&(b=void 0)),b===void 0?v:b}},7120:function(a,s,r){"use strict";var c=r(5271);a.exports=function(d,h){return new(c(d))(h===0?0:h)}},1228:function(a,s,r){"use strict";var c=r(5027),d=r(2125);a.exports=function(h,f,v,_){try{return _?f(c(v)[0],v[1]):f(v)}catch(b){d(h,"throw",b)}}},6431:function(a,s,r){"use strict";var c=r(4201)("iterator"),d=!1;try{var h=0,f={next:function(){return{done:!!h++}},return:function(){d=!0}};f[c]=function(){return this},Array.from(f,function(){throw 2})}catch(v){}a.exports=function(v,_){try{if(!_&&!d)return!1}catch(A){return!1}var b=!1;try{var w={};w[c]=function(){return{next:function(){return{done:b=!0}}}},v(w)}catch(A){}return b}},6648:function(a,s,r){"use strict";var c=r(8844),d=c({}.toString),h=c("".slice);a.exports=function(f){return h(d(f),8,-1)}},926:function(a,s,r){"use strict";var c=r(3043),d=r(9985),h=r(6648),f=r(4201)("toStringTag"),v=Object,_=h(function(){return arguments}())==="Arguments";a.exports=c?h:function(b){var w,A,E;return b===void 0?"Undefined":b===null?"Null":typeof(A=function(O,P){try{return O[P]}catch(y){}}(w=v(b),f))=="string"?A:_?h(w):(E=h(w))==="Object"&&d(w.callee)?"Arguments":E}},800:function(a,s,r){"use strict";var c=r(5391),d=r(2148),h=r(6045),f=r(4071),v=r(767),_=r(981),b=r(8734),w=r(1934),A=r(7807),E=r(4241),O=r(7697),P=r(5375).fastKey,y=r(618),u=y.set,p=y.getterFor;a.exports={getConstructor:function(k,x,j,L){var D=k(function(ce,ne){v(ce,F),u(ce,{type:x,index:c(null),first:void 0,last:void 0,size:0}),O||(ce.size=0),_(ne)||b(ne,ce[L],{that:ce,AS_ENTRIES:j})}),F=D.prototype,X=p(x),Q=function(ne,V,Y){var oe,q,G=X(ne),J=H(ne,V);return J?J.value=Y:(G.last=J={index:q=P(V,!0),key:V,value:Y,previous:oe=G.last,next:void 0,removed:!1},G.first||(G.first=J),oe&&(oe.next=J),O?G.size++:ne.size++,q!=="F"&&(G.index[q]=J)),ne},H=function(ne,V){var Y,oe=X(ne),q=P(V);if(q!=="F")return oe.index[q];for(Y=oe.first;Y;Y=Y.next)if(Y.key===V)return Y};return h(F,{clear:function(){for(var ne=X(this),V=ne.index,Y=ne.first;Y;)Y.removed=!0,Y.previous&&(Y.previous=Y.previous.next=void 0),delete V[Y.index],Y=Y.next;ne.first=ne.last=void 0,O?ne.size=0:this.size=0},delete:function(ne){var V=this,Y=X(V),oe=H(V,ne);if(oe){var q=oe.next,G=oe.previous;delete Y.index[oe.index],oe.removed=!0,G&&(G.next=q),q&&(q.previous=G),Y.first===oe&&(Y.first=q),Y.last===oe&&(Y.last=G),O?Y.size--:V.size--}return!!oe},forEach:function(ne){for(var V,Y=X(this),oe=f(ne,arguments.length>1?arguments[1]:void 0);V=V?V.next:Y.first;)for(oe(V.value,V.key,this);V&&V.removed;)V=V.previous},has:function(ne){return!!H(this,ne)}}),h(F,j?{get:function(ne){var V=H(this,ne);return V&&V.value},set:function(ne,V){return Q(this,ne===0?0:ne,V)}}:{add:function(ne){return Q(this,ne=ne===0?0:ne,ne)}}),O&&d(F,"size",{configurable:!0,get:function(){return X(this).size}}),D},setStrong:function(k,x,j){var L=x+" Iterator",D=p(x),F=p(L);w(k,x,function(X,Q){u(this,{type:L,target:X,state:D(X),kind:Q,last:void 0})},function(){for(var X=F(this),Q=X.kind,H=X.last;H&&H.removed;)H=H.previous;return X.target&&(X.last=H=H?H.next:X.state.first)?A(Q==="keys"?H.key:Q==="values"?H.value:[H.key,H.value],!1):(X.target=void 0,A(void 0,!0))},j?"entries":"values",!j,!0),E(x)}}},637:function(a,s,r){"use strict";var c=r(8844),d=r(6045),h=r(5375).getWeakData,f=r(767),v=r(5027),_=r(981),b=r(8999),w=r(8734),A=r(2960),E=r(6812),O=r(618),P=O.set,y=O.getterFor,u=A.find,p=A.findIndex,g=c([].splice),k=0,x=function(F){return F.frozen||(F.frozen=new j)},j=function(){this.entries=[]},L=function(F,X){return u(F.entries,function(Q){return Q[0]===X})};j.prototype={get:function(F){var X=L(this,F);if(X)return X[1]},has:function(F){return!!L(this,F)},set:function(F,X){var Q=L(this,F);Q?Q[1]=X:this.entries.push([F,X])},delete:function(F){var X=p(this.entries,function(Q){return Q[0]===F});return~X&&g(this.entries,X,1),!!~X}},a.exports={getConstructor:function(F,X,Q,H){var ce=F(function(oe,q){f(oe,ne),P(oe,{type:X,id:k++,frozen:void 0}),_(q)||w(q,oe[H],{that:oe,AS_ENTRIES:Q})}),ne=ce.prototype,V=y(X),Y=function(q,G,J){var ae=V(q),ie=h(v(G),!0);return ie===!0?x(ae).set(G,J):ie[ae.id]=J,q};return d(ne,{delete:function(q){var G=V(this);if(!b(q))return!1;var J=h(q);return J===!0?x(G).delete(q):J&&E(J,G.id)&&delete J[G.id]},has:function(q){var G=V(this);if(!b(q))return!1;var J=h(q);return J===!0?x(G).has(q):J&&E(J,G.id)}}),d(ne,Q?{get:function(q){var G=V(this);if(b(q)){var J=h(q);return J===!0?x(G).get(q):J?J[G.id]:void 0}},set:function(q,G){return Y(this,q,G)}}:{add:function(q){return Y(this,q,!0)}}),ce}}},319:function(a,s,r){"use strict";var c=r(9989),d=r(9037),h=r(8844),f=r(5266),v=r(1880),_=r(5375),b=r(8734),w=r(767),A=r(9985),E=r(981),O=r(8999),P=r(3689),y=r(6431),u=r(5997),p=r(3457);a.exports=function(g,k,x){var j=g.indexOf("Map")!==-1,L=g.indexOf("Weak")!==-1,D=j?"set":"add",F=d[g],X=F&&F.prototype,Q=F,H={},ce=function(J){var ae=h(X[J]);v(X,J,J==="add"?function(ie){return ae(this,ie===0?0:ie),this}:J==="delete"?function(ie){return!(L&&!O(ie))&&ae(this,ie===0?0:ie)}:J==="get"?function(ie){return L&&!O(ie)?void 0:ae(this,ie===0?0:ie)}:J==="has"?function(ie){return!(L&&!O(ie))&&ae(this,ie===0?0:ie)}:function(ie,Oe){return ae(this,ie===0?0:ie,Oe),this})};if(f(g,!A(F)||!(L||X.forEach&&!P(function(){new F().entries().next()}))))Q=x.getConstructor(k,g,j,D),_.enable();else if(f(g,!0)){var ne=new Q,V=ne[D](L?{}:-0,1)!==ne,Y=P(function(){ne.has(1)}),oe=y(function(G){new F(G)}),q=!L&&P(function(){for(var G=new F,J=5;J--;)G[D](J,J);return!G.has(-0)});oe||((Q=k(function(G,J){w(G,X);var ae=p(new F,G,Q);return E(J)||b(J,ae[D],{that:ae,AS_ENTRIES:j}),ae})).prototype=X,X.constructor=Q),(Y||q)&&(ce("delete"),ce("has"),j&&ce("get")),(q||V)&&ce(D),L&&X.clear&&delete X.clear}return H[g]=Q,c({global:!0,constructor:!0,forced:Q!==F},H),u(Q,g),L||x.setStrong(Q,g,j),Q}},8758:function(a,s,r){"use strict";var c=r(6812),d=r(9152),h=r(2474),f=r(2560);a.exports=function(v,_,b){for(var w=d(_),A=f.f,E=h.f,O=0;O<w.length;O++){var P=w[O];c(v,P)||b&&c(b,P)||A(v,P,E(_,P))}}},7413:function(a,s,r){"use strict";var c=r(4201)("match");a.exports=function(d){var h=/./;try{"/./"[d](h)}catch(f){try{return h[c]=!1,"/./"[d](h)}catch(v){}}return!1}},1748:function(a,s,r){"use strict";var c=r(3689);a.exports=!c(function(){var d=function(){};return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},7807:function(a){"use strict";a.exports=function(s,r){return{value:s,done:r}}},5773:function(a,s,r){"use strict";var c=r(7697),d=r(2560),h=r(5684);a.exports=c?function(f,v,_){return d.f(f,v,h(1,_))}:function(f,v,_){return f[v]=_,f}},5684:function(a){"use strict";a.exports=function(s,r){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:r}}},6522:function(a,s,r){"use strict";var c=r(8360),d=r(2560),h=r(5684);a.exports=function(f,v,_){var b=c(v);b in f?d.f(f,b,h(0,_)):f[b]=_}},1797:function(a,s,r){"use strict";var c=r(5027),d=r(5899),h=TypeError;a.exports=function(f){if(c(this),f==="string"||f==="default")f="string";else if(f!=="number")throw new h("Incorrect hint");return d(this,f)}},2148:function(a,s,r){"use strict";var c=r(8702),d=r(2560);a.exports=function(h,f,v){return v.get&&c(v.get,f,{getter:!0}),v.set&&c(v.set,f,{setter:!0}),d.f(h,f,v)}},1880:function(a,s,r){"use strict";var c=r(9985),d=r(2560),h=r(8702),f=r(5014);a.exports=function(v,_,b,w){w||(w={});var A=w.enumerable,E=w.name!==void 0?w.name:_;if(c(b)&&h(b,E,w),w.global)A?v[_]=b:f(_,b);else{try{w.unsafe?v[_]&&(A=!0):delete v[_]}catch(O){}A?v[_]=b:d.f(v,_,{value:b,enumerable:!1,configurable:!w.nonConfigurable,writable:!w.nonWritable})}return v}},6045:function(a,s,r){"use strict";var c=r(1880);a.exports=function(d,h,f){for(var v in h)c(d,v,h[v],f);return d}},5014:function(a,s,r){"use strict";var c=r(9037),d=Object.defineProperty;a.exports=function(h,f){try{d(c,h,{value:f,configurable:!0,writable:!0})}catch(v){c[h]=f}return f}},8494:function(a,s,r){"use strict";var c=r(3691),d=TypeError;a.exports=function(h,f){if(!delete h[f])throw new d("Cannot delete property "+c(f)+" of "+c(h))}},7697:function(a,s,r){"use strict";var c=r(3689);a.exports=!c(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},2659:function(a){"use strict";var s=typeof document=="object"&&document.all,r=s===void 0&&s!==void 0;a.exports={all:s,IS_HTMLDDA:r}},6420:function(a,s,r){"use strict";var c=r(9037),d=r(8999),h=c.document,f=d(h)&&d(h.createElement);a.exports=function(v){return f?h.createElement(v):{}}},5565:function(a){"use strict";var s=TypeError;a.exports=function(r){if(r>9007199254740991)throw s("Maximum allowed index exceeded");return r}},6338:function(a){"use strict";a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3265:function(a,s,r){"use strict";var c=r(6420)("span").classList,d=c&&c.constructor&&c.constructor.prototype;a.exports=d===Object.prototype?void 0:d},7365:function(a,s,r){"use strict";var c=r(71).match(/firefox\/(\d+)/i);a.exports=!!c&&+c[1]},2532:function(a,s,r){"use strict";var c=r(8563),d=r(806);a.exports=!c&&!d&&typeof window=="object"&&typeof document=="object"},8563:function(a){"use strict";a.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},7298:function(a,s,r){"use strict";var c=r(71);a.exports=/MSIE|Trident/.test(c)},3221:function(a,s,r){"use strict";var c=r(71);a.exports=/ipad|iphone|ipod/i.test(c)&&(typeof Pebble=="undefined"?"undefined":_typeof(Pebble))<"u"},4764:function(a,s,r){"use strict";var c=r(71);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(c)},806:function(a,s,r){"use strict";var c=r(9037),d=r(6648);a.exports=d(c.process)==="process"},7486:function(a,s,r){"use strict";var c=r(71);a.exports=/web0s(?!.*chrome)/i.test(c)},71:function(a){"use strict";a.exports=(typeof navigator=="undefined"?"undefined":_typeof(navigator))<"u"&&String(navigator.userAgent)||""},3615:function(a,s,r){"use strict";var c,d,h=r(9037),f=r(71),v=h.process,_=h.Deno,b=v&&v.versions||_&&_.version,w=b&&b.v8;w&&(d=(c=w.split("."))[0]>0&&c[0]<4?1:+(c[0]+c[1])),!d&&f&&(!(c=f.match(/Edge\/(\d+)/))||c[1]>=74)&&(c=f.match(/Chrome\/(\d+)/))&&(d=+c[1]),a.exports=d},7922:function(a,s,r){"use strict";var c=r(71).match(/AppleWebKit\/(\d+)\./);a.exports=!!c&&+c[1]},2739:function(a){"use strict";a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(a,s,r){"use strict";var c=r(9037),d=r(2474).f,h=r(5773),f=r(1880),v=r(5014),_=r(8758),b=r(5266);a.exports=function(w,A){var E,O,P,y,u,p=w.target,g=w.global,k=w.stat;if(E=g?c:k?c[p]||v(p,{}):(c[p]||{}).prototype)for(O in A){if(y=A[O],P=w.dontCallGetSet?(u=d(E,O))&&u.value:E[O],!b(g?O:p+(k?".":"#")+O,w.forced)&&P!==void 0){if((typeof y=="undefined"?"undefined":_typeof(y))==(typeof P=="undefined"?"undefined":_typeof(P)))continue;_(y,P)}(w.sham||P&&P.sham)&&h(y,"sham",!0),f(E,O,y,w)}}},3689:function(a){"use strict";a.exports=function(s){try{return!!s()}catch(r){return!0}}},8678:function(a,s,r){"use strict";r(4043);var c=r(6576),d=r(1880),h=r(6308),f=r(3689),v=r(4201),_=r(5773),b=v("species"),w=RegExp.prototype;a.exports=function(A,E,O,P){var y=v(A),u=!f(function(){var x={};return x[y]=function(){return 7},""[A](x)!==7}),p=u&&!f(function(){var x=!1,j=/a/;return A==="split"&&((j={}).constructor={},j.constructor[b]=function(){return j},j.flags="",j[y]=/./[y]),j.exec=function(){return x=!0,null},j[y](""),!x});if(!u||!p||O){var g=c(/./[y]),k=E(y,""[A],function(x,j,L,D,F){var X=c(x),Q=j.exec;return Q===h||Q===w.exec?u&&!F?{done:!0,value:g(j,L,D)}:{done:!0,value:X(L,j,D)}:{done:!1}});d(String.prototype,A,k[0]),d(w,y,k[1])}P&&_(w[y],"sham",!0)}},7809:function(a,s,r){"use strict";var c=r(2297),d=r(6310),h=r(5565),f=r(4071),v=function(_,b,w,A,E,O,P,y){for(var u,p,g=E,k=0,x=!!P&&f(P,y);k<A;)k in w&&(u=x?x(w[k],k,b):w[k],O>0&&c(u)?(p=d(u),g=v(_,b,u,p,g,O-1)-1):(h(g+1),_[g]=u),g++),k++;return g};a.exports=v},1594:function(a,s,r){"use strict";var c=r(3689);a.exports=!c(function(){return Object.isExtensible(Object.preventExtensions({}))})},1735:function(a,s,r){"use strict";var c=r(7215),d=Function.prototype,h=d.apply,f=d.call;a.exports=typeof Reflect=="object"&&Reflect.apply||(c?f.bind(h):function(){return f.apply(h,arguments)})},4071:function(a,s,r){"use strict";var c=r(6576),d=r(509),h=r(7215),f=c(c.bind);a.exports=function(v,_){return d(v),_===void 0?v:h?f(v,_):function(){return v.apply(_,arguments)}}},7215:function(a,s,r){"use strict";var c=r(3689);a.exports=!c(function(){var d=function(){}.bind();return typeof d!="function"||d.hasOwnProperty("prototype")})},6761:function(a,s,r){"use strict";var c=r(8844),d=r(509),h=r(8999),f=r(6812),v=r(6004),_=r(7215),b=Function,w=c([].concat),A=c([].join),E={};a.exports=_?b.bind:function(O){var P=d(this),y=P.prototype,u=v(arguments,1),p=function(){var g=w(u,v(arguments));return _instanceof(this,p)?function(k,x,j){if(!f(E,x)){for(var L=[],D=0;D<x;D++)L[D]="a["+D+"]";E[x]=b("C,a","return new C("+A(L,",")+")")}return E[x](k,j)}(P,g.length,g):P.apply(O,g)};return h(y)&&(p.prototype=y),p}},2615:function(a,s,r){"use strict";var c=r(7215),d=Function.prototype.call;a.exports=c?d.bind(d):function(){return d.apply(d,arguments)}},1236:function(a,s,r){"use strict";var c=r(7697),d=r(6812),h=Function.prototype,f=c&&Object.getOwnPropertyDescriptor,v=d(h,"name"),_=v&&function(){}.name==="something",b=v&&(!c||c&&f(h,"name").configurable);a.exports={EXISTS:v,PROPER:_,CONFIGURABLE:b}},2743:function(a,s,r){"use strict";var c=r(8844),d=r(509);a.exports=function(h,f,v){try{return c(d(Object.getOwnPropertyDescriptor(h,f)[v]))}catch(_){}}},6576:function(a,s,r){"use strict";var c=r(6648),d=r(8844);a.exports=function(h){if(c(h)==="Function")return d(h)}},8844:function(a,s,r){"use strict";var c=r(7215),d=Function.prototype,h=d.call,f=c&&d.bind.bind(h,h);a.exports=c?f:function(v){return function(){return h.apply(v,arguments)}}},6058:function(a,s,r){"use strict";var c=r(9037),d=r(9985);a.exports=function(h,f){return arguments.length<2?(v=c[h],d(v)?v:void 0):c[h]&&c[h][f];var v}},1664:function(a,s,r){"use strict";var c=r(926),d=r(4849),h=r(981),f=r(9478),v=r(4201)("iterator");a.exports=function(_){if(!h(_))return d(_,v)||d(_,"@@iterator")||f[c(_)]}},5185:function(a,s,r){"use strict";var c=r(2615),d=r(509),h=r(5027),f=r(3691),v=r(1664),_=TypeError;a.exports=function(b,w){var A=arguments.length<2?v(b):w;if(d(A))return h(c(A,b));throw new _(f(b)+" is not iterable")}},2643:function(a,s,r){"use strict";var c=r(8844),d=r(2297),h=r(9985),f=r(6648),v=r(4327),_=c([].push);a.exports=function(b){if(h(b))return b;if(d(b)){for(var w=b.length,A=[],E=0;E<w;E++){var O=b[E];typeof O=="string"?_(A,O):typeof O!="number"&&f(O)!=="Number"&&f(O)!=="String"||_(A,v(O))}var P=A.length,y=!0;return function(u,p){if(y)return y=!1,p;if(d(this))return p;for(var g=0;g<P;g++)if(A[g]===u)return p}}}},4849:function(a,s,r){"use strict";var c=r(509),d=r(981);a.exports=function(h,f){var v=h[f];return d(v)?void 0:c(v)}},7017:function(a,s,r){"use strict";var c=r(8844),d=r(690),h=Math.floor,f=c("".charAt),v=c("".replace),_=c("".slice),b=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,w=/\$([$&'`]|\d{1,2})/g;a.exports=function(A,E,O,P,y,u){var p=O+A.length,g=P.length,k=w;return y!==void 0&&(y=d(y),k=b),v(u,k,function(x,j){var L;switch(f(j,0)){case"$":return"$";case"&":return A;case"`":return _(E,0,O);case"'":return _(E,p);case"<":L=y[_(j,1,-1)];break;default:var D=+j;if(D===0)return x;if(D>g){var F=h(D/10);return F===0?x:F<=g?P[F-1]===void 0?f(j,1):P[F-1]+f(j,1):x}L=P[D-1]}return L===void 0?"":L})}},9037:function(a,s,r){"use strict";var c=function(h){return h&&h.Math===Math&&h};a.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof r.g=="object"&&r.g)||c(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},6812:function(a,s,r){"use strict";var c=r(8844),d=r(690),h=c({}.hasOwnProperty);a.exports=Object.hasOwn||function(f,v){return h(d(f),v)}},7248:function(a){"use strict";a.exports={}},920:function(a){"use strict";a.exports=function(s,r){try{arguments.length===1?console.error(s):console.error(s,r)}catch(c){}}},2688:function(a,s,r){"use strict";var c=r(6058);a.exports=c("document","documentElement")},8506:function(a,s,r){"use strict";var c=r(7697),d=r(3689),h=r(6420);a.exports=!c&&!d(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!==7})},4413:function(a,s,r){"use strict";var c=r(8844),d=r(3689),h=r(6648),f=Object,v=c("".split);a.exports=d(function(){return!f("z").propertyIsEnumerable(0)})?function(_){return h(_)==="String"?v(_,""):f(_)}:f},3457:function(a,s,r){"use strict";var c=r(9985),d=r(8999),h=r(9385);a.exports=function(f,v,_){var b,w;return h&&c(b=v.constructor)&&b!==_&&d(w=b.prototype)&&w!==_.prototype&&h(f,w),f}},6738:function(a,s,r){"use strict";var c=r(8844),d=r(9985),h=r(4091),f=c(Function.toString);d(h.inspectSource)||(h.inspectSource=function(v){return f(v)}),a.exports=h.inspectSource},5375:function(a,s,r){"use strict";var c=r(9989),d=r(8844),h=r(7248),f=r(8999),v=r(6812),_=r(2560).f,b=r(2741),w=r(6062),A=r(1129),E=r(4630),O=r(1594),P=!1,y=E("meta"),u=0,p=function(x){_(x,y,{value:{objectID:"O"+u++,weakData:{}}})},g=a.exports={enable:function(){g.enable=function(){},P=!0;var x=b.f,j=d([].splice),L={};L[y]=1,x(L).length&&(b.f=function(D){for(var F=x(D),X=0,Q=F.length;X<Q;X++)if(F[X]===y){j(F,X,1);break}return F},c({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:w.f}))},fastKey:function(x,j){if(!f(x))return(typeof x=="undefined"?"undefined":_typeof(x))=="symbol"?x:(typeof x=="string"?"S":"P")+x;if(!v(x,y)){if(!A(x))return"F";if(!j)return"E";p(x)}return x[y].objectID},getWeakData:function(x,j){if(!v(x,y)){if(!A(x))return!0;if(!j)return!1;p(x)}return x[y].weakData},onFreeze:function(x){return O&&P&&A(x)&&!v(x,y)&&p(x),x}};h[y]=!0},618:function(a,s,r){"use strict";var c,d,h,f=r(9834),v=r(9037),_=r(8999),b=r(5773),w=r(6812),A=r(4091),E=r(2713),O=r(7248),P="Object already initialized",y=v.TypeError,u=v.WeakMap;if(f||A.state){var p=A.state||(A.state=new u);p.get=p.get,p.has=p.has,p.set=p.set,c=function(x,j){if(p.has(x))throw new y(P);return j.facade=x,p.set(x,j),j},d=function(x){return p.get(x)||{}},h=function(x){return p.has(x)}}else{var g=E("state");O[g]=!0,c=function(x,j){if(w(x,g))throw new y(P);return j.facade=x,b(x,g,j),j},d=function(x){return w(x,g)?x[g]:{}},h=function(x){return w(x,g)}}a.exports={set:c,get:d,has:h,enforce:function(x){return h(x)?d(x):c(x,{})},getterFor:function(x){return function(j){var L;if(!_(j)||(L=d(j)).type!==x)throw new y("Incompatible receiver, "+x+" required");return L}}}},3292:function(a,s,r){"use strict";var c=r(4201),d=r(9478),h=c("iterator"),f=Array.prototype;a.exports=function(v){return v!==void 0&&(d.Array===v||f[h]===v)}},2297:function(a,s,r){"use strict";var c=r(6648);a.exports=Array.isArray||function(d){return c(d)==="Array"}},9985:function(a,s,r){"use strict";var c=r(2659),d=c.all;a.exports=c.IS_HTMLDDA?function(h){return typeof h=="function"||h===d}:function(h){return typeof h=="function"}},9429:function(a,s,r){"use strict";var c=r(8844),d=r(3689),h=r(9985),f=r(926),v=r(6058),_=r(6738),b=function(){},w=[],A=v("Reflect","construct"),E=/^\s*(?:class|function)\b/,O=c(E.exec),P=!E.test(b),y=function(g){if(!h(g))return!1;try{return A(b,w,g),!0}catch(k){return!1}},u=function(g){if(!h(g))return!1;switch(f(g)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return P||!!O(E,_(g))}catch(k){return!0}};u.sham=!0,a.exports=!A||d(function(){var p;return y(y.call)||!y(Object)||!y(function(){p=!0})||p})?u:y},6251:function(a,s,r){"use strict";var c=r(6812);a.exports=function(d){return d!==void 0&&(c(d,"value")||c(d,"writable"))}},5266:function(a,s,r){"use strict";var c=r(3689),d=r(9985),h=/#|\.prototype\./,f=function(E,O){var P=_[v(E)];return P===w||P!==b&&(d(O)?c(O):!!O)},v=f.normalize=function(E){return String(E).replace(h,".").toLowerCase()},_=f.data={},b=f.NATIVE="N",w=f.POLYFILL="P";a.exports=f},981:function(a){"use strict";a.exports=function(s){return s==null}},8999:function(a,s,r){"use strict";var c=r(9985),d=r(2659),h=d.all;a.exports=d.IS_HTMLDDA?function(f){return typeof f=="object"?f!==null:c(f)||f===h}:function(f){return typeof f=="object"?f!==null:c(f)}},3931:function(a){"use strict";a.exports=!1},1245:function(a,s,r){"use strict";var c=r(8999),d=r(6648),h=r(4201)("match");a.exports=function(f){var v;return c(f)&&((v=f[h])!==void 0?!!v:d(f)==="RegExp")}},734:function(a,s,r){"use strict";var c=r(6058),d=r(9985),h=r(3622),f=r(9525),v=Object;a.exports=f?function(_){return(typeof _=="undefined"?"undefined":_typeof(_))=="symbol"}:function(_){var b=c("Symbol");return d(b)&&h(b.prototype,v(_))}},8734:function(a,s,r){"use strict";var c=r(4071),d=r(2615),h=r(5027),f=r(3691),v=r(3292),_=r(6310),b=r(3622),w=r(5185),A=r(1664),E=r(2125),O=TypeError,P=function(p,g){this.stopped=p,this.result=g},y=P.prototype;a.exports=function(u,p,g){var k,x,j,L,D,F,X,Q=g&&g.that,H=!(!g||!g.AS_ENTRIES),ce=!(!g||!g.IS_RECORD),ne=!(!g||!g.IS_ITERATOR),V=!(!g||!g.INTERRUPTED),Y=c(p,Q),oe=function(J){return k&&E(k,"normal",J),new P(!0,J)},q=function(J){return H?(h(J),V?Y(J[0],J[1],oe):Y(J[0],J[1])):V?Y(J,oe):Y(J)};if(ce)k=u.iterator;else if(ne)k=u;else{if(!(x=A(u)))throw new O(f(u)+" is not iterable");if(v(x)){for(j=0,L=_(u);L>j;j++)if((D=q(u[j]))&&b(y,D))return D;return new P(!1)}k=w(u,x)}for(F=ce?u.next:k.next;!(X=d(F,k)).done;){try{D=q(X.value)}catch(G){E(k,"throw",G)}if(typeof D=="object"&&D&&b(y,D))return D}return new P(!1)}},2125:function(a,s,r){"use strict";var c=r(2615),d=r(5027),h=r(4849);a.exports=function(f,v,_){var b,w;d(f);try{if(!(b=h(f,"return"))){if(v==="throw")throw _;return _}b=c(b,f)}catch(A){w=!0,b=A}if(v==="throw")throw _;if(w)throw b;return d(b),_}},974:function(a,s,r){"use strict";var c=r(2013).IteratorPrototype,d=r(5391),h=r(5684),f=r(5997),v=r(9478),_=function(){return this};a.exports=function(b,w,A,E){var O=w+" Iterator";return b.prototype=d(c,{next:h(+!E,A)}),f(b,O,!1,!0),v[O]=_,b}},1934:function(a,s,r){"use strict";var c=r(9989),d=r(2615),h=r(3931),f=r(1236),v=r(9985),_=r(974),b=r(1868),w=r(9385),A=r(5997),E=r(5773),O=r(1880),P=r(4201),y=r(9478),u=r(2013),p=f.PROPER,g=f.CONFIGURABLE,k=u.IteratorPrototype,x=u.BUGGY_SAFARI_ITERATORS,j=P("iterator"),L="keys",D="values",F="entries",X=function(){return this};a.exports=function(Q,H,ce,ne,V,Y,oe){_(ce,H,ne);var q,G,J,ae=function(ht){if(ht===V&&tt)return tt;if(!x&&ht&&ht in De)return De[ht];switch(ht){case L:case D:case F:return function(){return new ce(this,ht)}}return function(){return new ce(this)}},ie=H+" Iterator",Oe=!1,De=Q.prototype,ke=De[j]||De["@@iterator"]||V&&De[V],tt=!x&&ke||ae(V),Ve=H==="Array"&&De.entries||ke;if(Ve&&(q=b(Ve.call(new Q)))!==Object.prototype&&q.next&&(h||b(q)===k||(w?w(q,k):v(q[j])||O(q,j,X)),A(q,ie,!0,!0),h&&(y[ie]=X)),p&&V===D&&ke&&ke.name!==D&&(!h&&g?E(De,"name",D):(Oe=!0,tt=function(){return d(ke,this)})),V)if(G={values:ae(D),keys:Y?tt:ae(L),entries:ae(F)},oe)for(J in G)(x||Oe||!(J in De))&&O(De,J,G[J]);else c({target:H,proto:!0,forced:x||Oe},G);return h&&!oe||De[j]===tt||O(De,j,tt,{name:V}),y[H]=tt,G}},2013:function(a,s,r){"use strict";var c,d,h,f=r(3689),v=r(9985),_=r(8999),b=r(5391),w=r(1868),A=r(1880),E=r(4201),O=r(3931),P=E("iterator"),y=!1;[].keys&&("next"in(h=[].keys())?(d=w(w(h)))!==Object.prototype&&(c=d):y=!0),!_(c)||f(function(){var u={};return c[P].call(u)!==u})?c={}:O&&(c=b(c)),v(c[P])||A(c,P,function(){return this}),a.exports={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:y}},9478:function(a){"use strict";a.exports={}},6310:function(a,s,r){"use strict";var c=r(3126);a.exports=function(d){return c(d.length)}},8702:function(a,s,r){"use strict";var c=r(8844),d=r(3689),h=r(9985),f=r(6812),v=r(7697),_=r(1236).CONFIGURABLE,b=r(6738),w=r(618),A=w.enforce,E=w.get,O=String,P=Object.defineProperty,y=c("".slice),u=c("".replace),p=c([].join),g=v&&!d(function(){return P(function(){},"length",{value:8}).length!==8}),k=String(String).split("String"),x=a.exports=function(L,D,F){y(O(D),0,7)==="Symbol("&&(D="["+u(O(D),/^Symbol\(([^)]*)\)/,"$1")+"]"),F&&F.getter&&(D="get "+D),F&&F.setter&&(D="set "+D),(!f(L,"name")||_&&L.name!==D)&&(v?P(L,"name",{value:D,configurable:!0}):L.name=D),g&&F&&f(F,"arity")&&L.length!==F.arity&&P(L,"length",{value:F.arity});try{F&&f(F,"constructor")&&F.constructor?v&&P(L,"prototype",{writable:!1}):L.prototype&&(L.prototype=void 0)}catch(Q){}var X=A(L);return f(X,"source")||(X.source=p(k,typeof D=="string"?D:"")),L};Function.prototype.toString=x(function(){return h(this)&&E(this).source||b(this)},"toString")},5680:function(a){"use strict";a.exports=Math.sign||function(s){var r=+s;return r===0||r!=r?r:r<0?-1:1}},8828:function(a){"use strict";var s=Math.ceil,r=Math.floor;a.exports=Math.trunc||function(c){var d=+c;return(d>0?r:s)(d)}},231:function(a,s,r){"use strict";var c,d,h,f,v,_=r(9037),b=r(4071),w=r(2474).f,A=r(9886).set,E=r(4410),O=r(4764),P=r(3221),y=r(7486),u=r(806),p=_.MutationObserver||_.WebKitMutationObserver,g=_.document,k=_.process,x=_.Promise,j=w(_,"queueMicrotask"),L=j&&j.value;if(!L){var D=new E,F=function(){var Q,H;for(u&&(Q=k.domain)&&Q.exit();H=D.get();)try{H()}catch(ce){throw D.head&&c(),ce}Q&&Q.enter()};O||u||y||!p||!g?!P&&x&&x.resolve?((f=x.resolve(void 0)).constructor=x,v=b(f.then,f),c=function(){v(F)}):u?c=function(){k.nextTick(F)}:(A=b(A,_),c=function(){A(F)}):(d=!0,h=g.createTextNode(""),new p(F).observe(h,{characterData:!0}),c=function(){h.data=d=!d}),L=function(Q){D.head||c(),D.add(Q)}}a.exports=L},8742:function(a,s,r){"use strict";var c=r(509),d=TypeError,h=function(v){var _,b;this.promise=new v(function(w,A){if(_!==void 0||b!==void 0)throw new d("Bad Promise constructor");_=w,b=A}),this.resolve=c(_),this.reject=c(b)};a.exports.f=function(f){return new h(f)}},2124:function(a,s,r){"use strict";var c=r(1245),d=TypeError;a.exports=function(h){if(c(h))throw new d("The method doesn't accept regular expressions");return h}},4818:function(a,s,r){"use strict";var c=r(9037),d=r(3689),h=r(8844),f=r(4327),v=r(1435).trim,_=r(6350),b=h("".charAt),w=c.parseFloat,A=c.Symbol,E=A&&A.iterator,O=1/w(_+"-0")!=-1/0||E&&!d(function(){w(Object(E))});a.exports=O?function(P){var y=v(f(P)),u=w(y);return u===0&&b(y,0)==="-"?-0:u}:w},7897:function(a,s,r){"use strict";var c=r(9037),d=r(3689),h=r(8844),f=r(4327),v=r(1435).trim,_=r(6350),b=c.parseInt,w=c.Symbol,A=w&&w.iterator,E=/^[+-]?0x/i,O=h(E.exec),P=b(_+"08")!==8||b(_+"0x16")!==22||A&&!d(function(){b(Object(A))});a.exports=P?function(y,u){var p=v(f(y));return b(p,u>>>0||(O(E,p)?16:10))}:b},5394:function(a,s,r){"use strict";var c=r(7697),d=r(8844),h=r(2615),f=r(3689),v=r(300),_=r(7518),b=r(9556),w=r(690),A=r(4413),E=Object.assign,O=Object.defineProperty,P=d([].concat);a.exports=!E||f(function(){if(c&&E({b:1},E(O({},"a",{enumerable:!0,get:function(){O(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},u={},p=Symbol("assign detection"),g="abcdefghijklmnopqrst";return y[p]=7,g.split("").forEach(function(k){u[k]=k}),E({},y)[p]!==7||v(E({},u)).join("")!==g})?function(y,u){for(var p=w(y),g=arguments.length,k=1,x=_.f,j=b.f;g>k;)for(var L,D=A(arguments[k++]),F=x?P(v(D),x(D)):v(D),X=F.length,Q=0;X>Q;)L=F[Q++],c&&!h(j,D,L)||(p[L]=D[L]);return p}:E},5391:function(a,s,r){"use strict";var c,d=r(5027),h=r(8920),f=r(2739),v=r(7248),_=r(2688),b=r(6420),w=r(2713),A="prototype",E="script",O=w("IE_PROTO"),P=function(){},y=function(k){return"<"+E+">"+k+"</"+E+">"},u=function(k){k.write(y("")),k.close();var x=k.parentWindow.Object;return k=null,x},p=function(){try{c=new ActiveXObject("htmlfile")}catch(L){}var g,k,x;p=(typeof document=="undefined"?"undefined":_typeof(document))<"u"?document.domain&&c?u(c):(k=b("iframe"),x="java"+E+":",k.style.display="none",_.appendChild(k),k.src=String(x),(g=k.contentWindow.document).open(),g.write(y("document.F=Object")),g.close(),g.F):u(c);for(var j=f.length;j--;)delete p[A][f[j]];return p()};v[O]=!0,a.exports=Object.create||function(g,k){var x;return g!==null?(P[A]=d(g),x=new P,P[A]=null,x[O]=g):x=p(),k===void 0?x:h.f(x,k)}},8920:function(a,s,r){"use strict";var c=r(7697),d=r(5648),h=r(2560),f=r(5027),v=r(5290),_=r(300);s.f=c&&!d?Object.defineProperties:function(b,w){f(b);for(var A,E=v(w),O=_(w),P=O.length,y=0;P>y;)h.f(b,A=O[y++],E[A]);return b}},2560:function(a,s,r){"use strict";var c=r(7697),d=r(8506),h=r(5648),f=r(5027),v=r(8360),_=TypeError,b=Object.defineProperty,w=Object.getOwnPropertyDescriptor,A="enumerable",E="configurable",O="writable";s.f=c?h?function(P,y,u){if(f(P),y=v(y),f(u),typeof P=="function"&&y==="prototype"&&"value"in u&&O in u&&!u[O]){var p=w(P,y);p&&p[O]&&(P[y]=u.value,u={configurable:E in u?u[E]:p[E],enumerable:A in u?u[A]:p[A],writable:!1})}return b(P,y,u)}:b:function(P,y,u){if(f(P),y=v(y),f(u),d)try{return b(P,y,u)}catch(p){}if("get"in u||"set"in u)throw new _("Accessors not supported");return"value"in u&&(P[y]=u.value),P}},2474:function(a,s,r){"use strict";var c=r(7697),d=r(2615),h=r(9556),f=r(5684),v=r(5290),_=r(8360),b=r(6812),w=r(8506),A=Object.getOwnPropertyDescriptor;s.f=c?A:function(E,O){if(E=v(E),O=_(O),w)try{return A(E,O)}catch(P){}if(b(E,O))return f(!d(h.f,E,O),E[O])}},6062:function(a,s,r){"use strict";var c=r(6648),d=r(5290),h=r(2741).f,f=r(9015),v=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(_){return v&&c(_)==="Window"?function(b){try{return h(b)}catch(w){return f(v)}}(_):h(d(_))}},2741:function(a,s,r){"use strict";var c=r(4948),d=r(2739).concat("length","prototype");s.f=Object.getOwnPropertyNames||function(h){return c(h,d)}},7518:function(a,s){"use strict";s.f=Object.getOwnPropertySymbols},1868:function(a,s,r){"use strict";var c=r(6812),d=r(9985),h=r(690),f=r(2713),v=r(1748),_=f("IE_PROTO"),b=Object,w=b.prototype;a.exports=v?b.getPrototypeOf:function(A){var E=h(A);if(c(E,_))return E[_];var O=E.constructor;return d(O)&&_instanceof(E,O)?O.prototype:_instanceof(E,b)?w:null}},1129:function(a,s,r){"use strict";var c=r(3689),d=r(8999),h=r(6648),f=r(1655),v=Object.isExtensible,_=c(function(){v(1)});a.exports=_||f?function(b){return!!d(b)&&(!f||h(b)!=="ArrayBuffer")&&(!v||v(b))}:v},3622:function(a,s,r){"use strict";var c=r(8844);a.exports=c({}.isPrototypeOf)},4948:function(a,s,r){"use strict";var c=r(8844),d=r(6812),h=r(5290),f=r(4328).indexOf,v=r(7248),_=c([].push);a.exports=function(b,w){var A,E=h(b),O=0,P=[];for(A in E)!d(v,A)&&d(E,A)&&_(P,A);for(;w.length>O;)d(E,A=w[O++])&&(~f(P,A)||_(P,A));return P}},300:function(a,s,r){"use strict";var c=r(4948),d=r(2739);a.exports=Object.keys||function(h){return c(h,d)}},9556:function(a,s){"use strict";var r={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,d=c&&!r.call({1:2},1);s.f=d?function(h){var f=c(this,h);return!!f&&f.enumerable}:r},9385:function(a,s,r){"use strict";var c=r(2743),d=r(5027),h=r(3550);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f,v=!1,_={};try{(f=c(Object.prototype,"__proto__","set"))(_,[]),v=_instanceof(_,Array)}catch(b){}return function(b,w){return d(b),h(w),v?f(b,w):b.__proto__=w,b}}():void 0)},9419:function(a,s,r){"use strict";var c=r(7697),d=r(3689),h=r(8844),f=r(1868),v=r(300),_=r(5290),b=h(r(9556).f),w=h([].push),A=c&&d(function(){var O=Object.create(null);return O[2]=2,!b(O,2)}),E=function(P){return function(y){for(var u,p=_(y),g=v(p),k=A&&f(p)===null,x=g.length,j=0,L=[];x>j;)u=g[j++],c&&!(k?u in p:b(p,u))||w(L,P?[u,p[u]]:p[u]);return L}};a.exports={entries:E(!0),values:E(!1)}},5073:function(a,s,r){"use strict";var c=r(3043),d=r(926);a.exports=c?{}.toString:function(){return"[object "+d(this)+"]"}},5899:function(a,s,r){"use strict";var c=r(2615),d=r(9985),h=r(8999),f=TypeError;a.exports=function(v,_){var b,w;if(_==="string"&&d(b=v.toString)&&!h(w=c(b,v))||d(b=v.valueOf)&&!h(w=c(b,v))||_!=="string"&&d(b=v.toString)&&!h(w=c(b,v)))return w;throw new f("Can't convert object to primitive value")}},9152:function(a,s,r){"use strict";var c=r(6058),d=r(8844),h=r(2741),f=r(7518),v=r(5027),_=d([].concat);a.exports=c("Reflect","ownKeys")||function(b){var w=h.f(v(b)),A=f.f;return A?_(w,A(b)):w}},496:function(a,s,r){"use strict";var c=r(9037);a.exports=c},9302:function(a){"use strict";a.exports=function(s){try{return{error:!1,value:s()}}catch(r){return{error:!0,value:r}}}},7073:function(a,s,r){"use strict";var c=r(9037),d=r(7919),h=r(9985),f=r(5266),v=r(6738),_=r(4201),b=r(2532),w=r(8563),A=r(3931),E=r(3615),O=d&&d.prototype,P=_("species"),y=!1,u=h(c.PromiseRejectionEvent),p=f("Promise",function(){var g=v(d),k=g!==String(d);if(!k&&E===66||A&&(!O.catch||!O.finally))return!0;if(!E||E<51||!/native code/.test(g)){var x=new d(function(L){L(1)}),j=function(D){D(function(){},function(){})};if((x.constructor={})[P]=j,!(y=_instanceof(x.then(function(){}),j)))return!0}return!k&&(b||w)&&!u});a.exports={CONSTRUCTOR:p,REJECTION_EVENT:u,SUBCLASSING:y}},7919:function(a,s,r){"use strict";var c=r(9037);a.exports=c.Promise},2945:function(a,s,r){"use strict";var c=r(5027),d=r(8999),h=r(8742);a.exports=function(f,v){if(c(f),d(v)&&v.constructor===f)return v;var _=h.f(f);return(0,_.resolve)(v),_.promise}},562:function(a,s,r){"use strict";var c=r(7919),d=r(6431),h=r(7073).CONSTRUCTOR;a.exports=h||!d(function(f){c.all(f).then(void 0,function(){})})},8055:function(a,s,r){"use strict";var c=r(2560).f;a.exports=function(d,h,f){f in d||c(d,f,{configurable:!0,get:function(){return h[f]},set:function(_){h[f]=_}})}},4410:function(a){"use strict";var s=function(){this.head=null,this.tail=null};s.prototype={add:function(c){var d={item:c,next:null},h=this.tail;h?h.next=d:this.head=d,this.tail=d},get:function(){var c=this.head;if(c)return(this.head=c.next)===null&&(this.tail=null),c.item}},a.exports=s},6100:function(a,s,r){"use strict";var c=r(2615),d=r(5027),h=r(9985),f=r(6648),v=r(6308),_=TypeError;a.exports=function(b,w){var A=b.exec;if(h(A)){var E=c(A,b,w);return E!==null&&d(E),E}if(f(b)==="RegExp")return c(v,b,w);throw new _("RegExp#exec called on incompatible receiver")}},6308:function(a,s,r){"use strict";var c,d,h=r(2615),f=r(8844),v=r(4327),_=r(9633),b=r(7901),w=r(3430),A=r(5391),E=r(618).get,O=r(2100),P=r(6422),y=w("native-string-replace",String.prototype.replace),u=RegExp.prototype.exec,p=u,g=f("".charAt),k=f("".indexOf),x=f("".replace),j=f("".slice),L=(d=/b*/g,h(u,c=/a/,"a"),h(u,d,"a"),c.lastIndex!==0||d.lastIndex!==0),D=b.BROKEN_CARET,F=/()??/.exec("")[1]!==void 0;(L||F||D||O||P)&&(p=function(X){var Q,H,ce,ne,V,Y,oe,q=this,G=E(q),J=v(X),ae=G.raw;if(ae)return ae.lastIndex=q.lastIndex,Q=h(p,ae,J),q.lastIndex=ae.lastIndex,Q;var ie=G.groups,Oe=D&&q.sticky,De=h(_,q),ke=q.source,tt=0,Ve=J;if(Oe&&(De=x(De,"y",""),k(De,"g")===-1&&(De+="g"),Ve=j(J,q.lastIndex),q.lastIndex>0&&(!q.multiline||q.multiline&&g(J,q.lastIndex-1)!=="\n")&&(ke="(?: "+ke+")",Ve=" "+Ve,tt++),H=new RegExp("^(?:"+ke+")",De)),F&&(H=new RegExp("^"+ke+"$(?!\\s)",De)),L&&(ce=q.lastIndex),ne=h(u,Oe?H:q,Ve),Oe?ne?(ne.input=j(ne.input,tt),ne[0]=j(ne[0],tt),ne.index=q.lastIndex,q.lastIndex+=ne[0].length):q.lastIndex=0:L&&ne&&(q.lastIndex=q.global?ne.index+ne[0].length:ce),F&&ne&&ne.length>1&&h(y,ne[0],H,function(){for(V=1;V<arguments.length-2;V++)arguments[V]===void 0&&(ne[V]=void 0)}),ne&&ie)for(ne.groups=Y=A(null),V=0;V<ie.length;V++)Y[(oe=ie[V])[0]]=ne[oe[1]];return ne}),a.exports=p},9633:function(a,s,r){"use strict";var c=r(5027);a.exports=function(){var d=c(this),h="";return d.hasIndices&&(h+="d"),d.global&&(h+="g"),d.ignoreCase&&(h+="i"),d.multiline&&(h+="m"),d.dotAll&&(h+="s"),d.unicode&&(h+="u"),d.unicodeSets&&(h+="v"),d.sticky&&(h+="y"),h}},3477:function(a,s,r){"use strict";var c=r(2615),d=r(6812),h=r(3622),f=r(9633),v=RegExp.prototype;a.exports=function(_){var b=_.flags;return b!==void 0||"flags"in v||d(_,"flags")||!h(v,_)?b:c(f,_)}},7901:function(a,s,r){"use strict";var c=r(3689),d=r(9037).RegExp,h=c(function(){var _=d("a","y");return _.lastIndex=2,_.exec("abcd")!==null}),f=h||c(function(){return!d("a","y").sticky}),v=h||c(function(){var _=d("^r","gy");return _.lastIndex=2,_.exec("str")!==null});a.exports={BROKEN_CARET:v,MISSED_STICKY:f,UNSUPPORTED_Y:h}},2100:function(a,s,r){"use strict";var c=r(3689),d=r(9037).RegExp;a.exports=c(function(){var h=d(".","s");return!(h.dotAll&&h.test("\n")&&h.flags==="s")})},6422:function(a,s,r){"use strict";var c=r(3689),d=r(9037).RegExp;a.exports=c(function(){var h=d("(?<a>b)","g");return h.exec("b").groups.a!=="b"||"b".replace(h,"$<a>c")!=="bc"})},4684:function(a,s,r){"use strict";var c=r(981),d=TypeError;a.exports=function(h){if(c(h))throw new d("Can't call method on "+h);return h}},953:function(a){"use strict";a.exports=Object.is||function(s,r){return s===r?s!==0||1/s==1/r:s!=s&&r!=r}},4241:function(a,s,r){"use strict";var c=r(6058),d=r(2148),h=r(4201),f=r(7697),v=h("species");a.exports=function(_){var b=c(_);f&&b&&!b[v]&&d(b,v,{configurable:!0,get:function(){return this}})}},5997:function(a,s,r){"use strict";var c=r(2560).f,d=r(6812),h=r(4201)("toStringTag");a.exports=function(f,v,_){f&&!_&&(f=f.prototype),f&&!d(f,h)&&c(f,h,{configurable:!0,value:v})}},2713:function(a,s,r){"use strict";var c=r(3430),d=r(4630),h=c("keys");a.exports=function(f){return h[f]||(h[f]=d(f))}},4091:function(a,s,r){"use strict";var c=r(9037),d=r(5014),h="__core-js_shared__",f=c[h]||d(h,{});a.exports=f},3430:function(a,s,r){"use strict";var c=r(3931),d=r(4091);(a.exports=function(h,f){return d[h]||(d[h]=f!==void 0?f:{})})("versions",[]).push({version:"3.33.3",mode:c?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.3/LICENSE",source:"https://github.com/zloirock/core-js"})},6373:function(a,s,r){"use strict";var c=r(5027),d=r(2655),h=r(981),f=r(4201)("species");a.exports=function(v,_){var b,w=c(v).constructor;return w===void 0||h(b=c(w)[f])?_:d(b)}},730:function(a,s,r){"use strict";var c=r(8844),d=r(8700),h=r(4327),f=r(4684),v=c("".charAt),_=c("".charCodeAt),b=c("".slice),w=function(E){return function(O,P){var y,u,p=h(f(O)),g=d(P),k=p.length;return g<0||g>=k?E?"":void 0:(y=_(p,g))<55296||y>56319||g+1===k||(u=_(p,g+1))<56320||u>57343?E?v(p,g):y:E?b(p,g,g+2):u-56320+(y-55296<<10)+65536}};a.exports={codeAt:w(!1),charAt:w(!0)}},1435:function(a,s,r){"use strict";var c=r(8844),d=r(4684),h=r(4327),f=r(6350),v=c("".replace),_=RegExp("^["+f+"]+"),b=RegExp("(^|[^"+f+"])["+f+"]+$"),w=function(E){return function(O){var P=h(d(O));return 1&E&&(P=v(P,_,"")),2&E&&(P=v(P,b,"$1")),P}};a.exports={start:w(1),end:w(2),trim:w(3)}},146:function(a,s,r){"use strict";var c=r(3615),d=r(3689),h=r(9037).String;a.exports=!!Object.getOwnPropertySymbols&&!d(function(){var f=Symbol("symbol detection");return!h(f)||!_instanceof(Object(f),Symbol)||!Symbol.sham&&c&&c<41})},3032:function(a,s,r){"use strict";var c=r(2615),d=r(6058),h=r(4201),f=r(1880);a.exports=function(){var v=d("Symbol"),_=v&&v.prototype,b=_&&_.valueOf,w=h("toPrimitive");_&&!_[w]&&f(_,w,function(A){return c(b,this)},{arity:1})}},6549:function(a,s,r){"use strict";var c=r(146);a.exports=c&&!!Symbol.for&&!!Symbol.keyFor},9886:function(a,s,r){"use strict";var c,d,h,f,v=r(9037),_=r(1735),b=r(4071),w=r(9985),A=r(6812),E=r(3689),O=r(2688),P=r(6004),y=r(6420),u=r(1500),p=r(4764),g=r(806),k=v.setImmediate,x=v.clearImmediate,j=v.process,L=v.Dispatch,D=v.Function,F=v.MessageChannel,X=v.String,Q=0,H={},ce="onreadystatechange";E(function(){c=v.location});var ne=function(G){if(A(H,G)){var J=H[G];delete H[G],J()}},V=function(G){return function(){ne(G)}},Y=function(G){ne(G.data)},oe=function(G){v.postMessage(X(G),c.protocol+"//"+c.host)};k&&x||(k=function(G){u(arguments.length,1);var J=w(G)?G:D(G),ae=P(arguments,1);return H[++Q]=function(){_(J,void 0,ae)},d(Q),Q},x=function(G){delete H[G]},g?d=function(G){j.nextTick(V(G))}:L&&L.now?d=function(G){L.now(V(G))}:F&&!p?(f=(h=new F).port2,h.port1.onmessage=Y,d=b(f.postMessage,f)):v.addEventListener&&w(v.postMessage)&&!v.importScripts&&c&&c.protocol!=="file:"&&!E(oe)?(d=oe,v.addEventListener("message",Y,!1)):d=ce in y("script")?function(G){O.appendChild(y("script"))[ce]=function(){O.removeChild(this),ne(G)}}:function(q){setTimeout(V(q),0)}),a.exports={set:k,clear:x}},3648:function(a,s,r){"use strict";var c=r(8844);a.exports=c(1 .valueOf)},7578:function(a,s,r){"use strict";var c=r(8700),d=Math.max,h=Math.min;a.exports=function(f,v){var _=c(f);return _<0?d(_+v,0):h(_,v)}},5290:function(a,s,r){"use strict";var c=r(4413),d=r(4684);a.exports=function(h){return c(d(h))}},8700:function(a,s,r){"use strict";var c=r(8828);a.exports=function(d){var h=+d;return h!=h||h===0?0:c(h)}},3126:function(a,s,r){"use strict";var c=r(8700),d=Math.min;a.exports=function(h){return h>0?d(c(h),9007199254740991):0}},690:function(a,s,r){"use strict";var c=r(4684),d=Object;a.exports=function(h){return d(c(h))}},8732:function(a,s,r){"use strict";var c=r(2615),d=r(8999),h=r(734),f=r(4849),v=r(5899),_=r(4201),b=TypeError,w=_("toPrimitive");a.exports=function(A,E){if(!d(A)||h(A))return A;var O,P=f(A,w);if(P){if(E===void 0&&(E="default"),O=c(P,A,E),!d(O)||h(O))return O;throw new b("Can't convert object to primitive value")}return E===void 0&&(E="number"),v(A,E)}},8360:function(a,s,r){"use strict";var c=r(8732),d=r(734);a.exports=function(h){var f=c(h,"string");return d(f)?f:f+""}},3043:function(a,s,r){"use strict";var c={};c[r(4201)("toStringTag")]="z",a.exports=String(c)==="[object z]"},4327:function(a,s,r){"use strict";var c=r(926),d=String;a.exports=function(h){if(c(h)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return d(h)}},3691:function(a){"use strict";var s=String;a.exports=function(r){try{return s(r)}catch(c){return"Object"}}},4630:function(a,s,r){"use strict";var c=r(8844),d=0,h=Math.random(),f=c(1 .toString);a.exports=function(v){return"Symbol("+(v===void 0?"":v)+")_"+f(++d+h,36)}},6837:function(a,s,r){"use strict";var c=r(3689),d=r(4201),h=r(7697),f=r(3931),v=d("iterator");a.exports=!c(function(){var _=new URL("b?a=1&b=2&c=3","http://a"),b=_.searchParams,w=new URLSearchParams("a=1&a=2&b=3"),A="";return _.pathname="c%20d",b.forEach(function(E,O){b.delete("b"),A+=O+E}),w.delete("a",2),w.delete("b",void 0),f&&(!_.toJSON||!w.has("a",1)||w.has("a",2)||!w.has("a",void 0)||w.has("b"))||!b.size&&(f||!h)||!b.sort||_.href!=="http://a/c%20d?a=1&c=3"||b.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!b[v]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||A!=="a1c3"||new URL("http://x",void 0).host!=="x"})},9525:function(a,s,r){"use strict";var c=r(146);a.exports=c&&!Symbol.sham&&_typeof(Symbol.iterator)=="symbol"},5648:function(a,s,r){"use strict";var c=r(7697),d=r(3689);a.exports=c&&d(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},1500:function(a){"use strict";var s=TypeError;a.exports=function(r,c){if(r<c)throw new s("Not enough arguments");return r}},9834:function(a,s,r){"use strict";var c=r(9037),d=r(9985),h=c.WeakMap;a.exports=d(h)&&/native code/.test(String(h))},5405:function(a,s,r){"use strict";var c=r(496),d=r(6812),h=r(6145),f=r(2560).f;a.exports=function(v){var _=c.Symbol||(c.Symbol={});d(_,v)||f(_,v,{value:h.f(v)})}},6145:function(a,s,r){"use strict";var c=r(4201);s.f=c},4201:function(a,s,r){"use strict";var c=r(9037),d=r(3430),h=r(6812),f=r(4630),v=r(146),_=r(9525),b=c.Symbol,w=d("wks"),A=_?b.for||b:b&&b.withoutSetter||f;a.exports=function(E){return h(w,E)||(w[E]=v&&h(b,E)?b[E]:A("Symbol."+E)),w[E]}},6350:function(a){"use strict";a.exports="	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF"},4338:function(a,s,r){"use strict";var c=r(9989),d=r(3689),h=r(2297),f=r(8999),v=r(690),_=r(6310),b=r(5565),w=r(6522),A=r(7120),E=r(9042),O=r(4201),P=r(3615),y=O("isConcatSpreadable"),u=P>=51||!d(function(){var g=[];return g[y]=!1,g.concat()[0]!==g}),p=function(k){if(!f(k))return!1;var x=k[y];return x!==void 0?!!x:h(k)};c({target:"Array",proto:!0,arity:1,forced:!u||!E("concat")},{concat:function(k){var x,j,L,D,F,X=v(this),Q=A(X,0),H=0;for(x=-1,L=arguments.length;x<L;x++)if(p(F=x===-1?X:arguments[x]))for(D=_(F),b(H+D),j=0;j<D;j++,H++)j in F&&w(Q,H,F[j]);else b(H+1),w(Q,H++,F);return Q.length=H,Q}})},7895:function(a,s,r){"use strict";var c=r(9989),d=r(2872),h=r(7370);c({target:"Array",proto:!0},{fill:d}),h("fill")},8077:function(a,s,r){"use strict";var c=r(9989),d=r(2960).filter;c({target:"Array",proto:!0,forced:!r(9042)("filter")},{filter:function(f){return d(this,f,arguments.length>1?arguments[1]:void 0)}})},9772:function(a,s,r){"use strict";var c=r(9989),d=r(2960).findIndex,h=r(7370),f="findIndex",v=!0;f in[]&&Array(1)[f](function(){v=!1}),c({target:"Array",proto:!0,forced:v},{findIndex:function(b){return d(this,b,arguments.length>1?arguments[1]:void 0)}}),h(f)},5728:function(a,s,r){"use strict";var c=r(9989),d=r(2960).find,h=r(7370),f="find",v=!0;f in[]&&Array(1)[f](function(){v=!1}),c({target:"Array",proto:!0,forced:v},{find:function(b){return d(this,b,arguments.length>1?arguments[1]:void 0)}}),h(f)},4564:function(a,s,r){"use strict";var c=r(9989),d=r(7809),h=r(509),f=r(690),v=r(6310),_=r(7120);c({target:"Array",proto:!0},{flatMap:function(w){var A,E=f(this),O=v(E);return h(w),(A=_(E,0)).length=d(A,E,E,O,0,1,w,arguments.length>1?arguments[1]:void 0),A}})},2795:function(a,s,r){"use strict";var c=r(9989),d=r(7809),h=r(690),f=r(6310),v=r(8700),_=r(7120);c({target:"Array",proto:!0},{flat:function(){var w=arguments.length?arguments[0]:void 0,A=h(this),E=f(A),O=_(A,0);return O.length=d(O,A,A,E,0,w===void 0?1:v(w)),O}})},7049:function(a,s,r){"use strict";var c=r(9989),d=r(1055);c({target:"Array",stat:!0,forced:!r(6431)(function(h){Array.from(h)})},{from:d})},6801:function(a,s,r){"use strict";var c=r(9989),d=r(4328).includes,h=r(3689),f=r(7370);c({target:"Array",proto:!0,forced:h(function(){return!Array(1).includes()})},{includes:function(_){return d(this,_,arguments.length>1?arguments[1]:void 0)}}),f("includes")},752:function(a,s,r){"use strict";var c=r(5290),d=r(7370),h=r(9478),f=r(618),v=r(2560).f,_=r(1934),b=r(7807),w=r(3931),A=r(7697),E="Array Iterator",O=f.set,P=f.getterFor(E);a.exports=_(Array,"Array",function(u,p){O(this,{type:E,target:c(u),index:0,kind:p})},function(){var u=P(this),p=u.target,g=u.index++;if(!p||g>=p.length)return u.target=void 0,b(void 0,!0);switch(u.kind){case"keys":return b(g,!1);case"values":return b(p[g],!1)}return b([g,p[g]],!1)},"values");var y=h.Arguments=h.Array;if(d("keys"),d("values"),d("entries"),!w&&A&&y.name!=="values")try{v(y,"name",{value:"values"})}catch(u){}},6203:function(a,s,r){"use strict";var c=r(9989),d=r(8844),h=r(4413),f=r(5290),v=r(6834),_=d([].join);c({target:"Array",proto:!0,forced:h!==Object||!v("join",",")},{join:function(w){return _(f(this),w===void 0?",":w)}})},886:function(a,s,r){"use strict";var c=r(9989),d=r(2960).map;c({target:"Array",proto:!0,forced:!r(9042)("map")},{map:function(f){return d(this,f,arguments.length>1?arguments[1]:void 0)}})},278:function(a,s,r){"use strict";var c=r(9989),d=r(8820).left,h=r(6834),f=r(3615);c({target:"Array",proto:!0,forced:!r(806)&&f>79&&f<83||!h("reduce")},{reduce:function(_){var b=arguments.length;return d(this,_,b,b>1?arguments[1]:void 0)}})},3374:function(a,s,r){"use strict";var c=r(9989),d=r(8844),h=r(2297),f=d([].reverse),v=[1,2];c({target:"Array",proto:!0,forced:String(v)===String(v.reverse())},{reverse:function(){return h(this)&&(this.length=this.length),f(this)}})},9730:function(a,s,r){"use strict";var c=r(9989),d=r(2297),h=r(9429),f=r(8999),v=r(7578),_=r(6310),b=r(5290),w=r(6522),A=r(4201),E=r(9042),O=r(6004),P=E("slice"),y=A("species"),u=Array,p=Math.max;c({target:"Array",proto:!0,forced:!P},{slice:function(k,x){var j,L,D,F=b(this),X=_(F),Q=v(k,X),H=v(x===void 0?X:x,X);if(d(F)&&(j=F.constructor,(h(j)&&(j===u||d(j.prototype))||f(j)&&(j=j[y])===null)&&(j=void 0),j===u||j===void 0))return O(F,Q,H);for(L=new(j===void 0?u:j)(p(H-Q,0)),D=0;Q<H;Q++,D++)Q in F&&w(L,D,F[Q]);return L.length=D,L}})},5137:function(a,s,r){"use strict";var c=r(9989),d=r(8844),h=r(509),f=r(690),v=r(6310),_=r(8494),b=r(4327),w=r(3689),A=r(382),E=r(6834),O=r(7365),P=r(7298),y=r(3615),u=r(7922),p=[],g=d(p.sort),k=d(p.push),x=w(function(){p.sort(void 0)}),j=w(function(){p.sort(null)}),L=E("sort"),D=!w(function(){if(y)return y<70;if(!(O&&O>3)){if(P)return!0;if(u)return u<603;var F,X,Q,H,ce="";for(F=65;F<76;F++){switch(X=String.fromCharCode(F),F){case 66:case 69:case 70:case 72:Q=3;break;case 68:case 71:Q=4;break;default:Q=2}for(H=0;H<47;H++)p.push({k:X+H,v:Q})}for(p.sort(function(ne,V){return V.v-ne.v}),H=0;H<p.length;H++)X=p[H].k.charAt(0),ce.charAt(ce.length-1)!==X&&(ce+=X);return ce!=="DGBEFHACIJK"}});c({target:"Array",proto:!0,forced:x||!j||!L||!D},{sort:function(X){X!==void 0&&h(X);var Q=f(this);if(D)return X===void 0?g(Q):g(Q,X);var H,ce,ne=[],V=v(Q);for(ce=0;ce<V;ce++)ce in Q&&k(ne,Q[ce]);for(A(ne,function(Y){return function(oe,q){return q===void 0?-1:oe===void 0?1:Y!==void 0?+Y(oe,q)||0:b(oe)>b(q)?1:-1}}(X)),H=v(ne),ce=0;ce<H;)Q[ce]=ne[ce++];for(;ce<V;)_(Q,ce++);return Q}})},2506:function(a,s,r){"use strict";var c=r(9989),d=r(690),h=r(7578),f=r(8700),v=r(6310),_=r(5649),b=r(5565),w=r(7120),A=r(6522),E=r(8494),O=r(9042)("splice"),P=Math.max,y=Math.min;c({target:"Array",proto:!0,forced:!O},{splice:function(p,g){var k,x,j,L,D,F,X=d(this),Q=v(X),H=h(p,Q),ce=arguments.length;for(ce===0?k=x=0:ce===1?(k=0,x=Q-H):(k=ce-2,x=y(P(f(g),0),Q-H)),b(Q+k-x),j=w(X,x),L=0;L<x;L++)(D=H+L)in X&&A(j,L,X[D]);if(j.length=x,k<x){for(L=H;L<Q-x;L++)F=L+k,(D=L+x)in X?X[F]=X[D]:E(X,F);for(L=Q;L>Q-x+k;L--)E(X,L-1)}else if(k>x)for(L=Q-x;L>H;L--)F=L+k-1,(D=L+x-1)in X?X[F]=X[D]:E(X,F);for(L=0;L<k;L++)X[L+H]=arguments[L+2];return _(X,Q-x+k),j}})},385:function(a,s,r){"use strict";r(7370)("flatMap")},3383:function(a,s,r){"use strict";r(7370)("flat")},9903:function(a,s,r){"use strict";var c=r(6812),d=r(1880),h=r(1797),f=r(4201)("toPrimitive"),v=Date.prototype;c(v,f)||d(v,f,h)},4284:function(a,s,r){"use strict";var c=r(7697),d=r(1236).EXISTS,h=r(8844),f=r(2148),v=Function.prototype,_=h(v.toString),b=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,w=h(b.exec);c&&!d&&f(v,"name",{configurable:!0,get:function(){try{return w(b,_(this))[1]}catch(E){return""}}})},5398:function(a,s,r){"use strict";var c=r(9989),d=r(9037);c({global:!0,forced:d.globalThis!==d},{globalThis:d})},8324:function(a,s,r){"use strict";var c=r(9989),d=r(6058),h=r(1735),f=r(2615),v=r(8844),_=r(3689),b=r(9985),w=r(734),A=r(6004),E=r(2643),O=r(146),P=String,y=d("JSON","stringify"),u=v(/./.exec),p=v("".charAt),g=v("".charCodeAt),k=v("".replace),x=v(1 .toString),j=/[\uD800-\uDFFF]/g,L=/^[\uD800-\uDBFF]$/,D=/^[\uDC00-\uDFFF]$/,F=!O||_(function(){var ce=d("Symbol")("stringify detection");return y([ce])!=="[null]"||y({a:ce})!=="{}"||y(Object(ce))!=="{}"}),X=_(function(){return y("\uDF06\uD834")!=='"\uDF06\uD834"'||y("\uDEAD")!=='"\uDEAD"'}),Q=function(ne,V){var Y=A(arguments),oe=E(V);if(b(oe)||ne!==void 0&&!w(ne))return Y[1]=function(q,G){if(b(oe)&&(G=f(oe,this,P(q),G)),!w(G))return G},h(y,null,Y)},H=function(ne,V,Y){var oe=p(Y,V-1),q=p(Y,V+1);return u(L,ne)&&!u(D,q)||u(D,ne)&&!u(L,oe)?"\\u"+x(g(ne,0),16):ne};y&&c({target:"JSON",stat:!0,arity:3,forced:F||X},{stringify:function(ne,V,Y){var oe=A(arguments),q=h(F?Q:y,null,oe);return X&&typeof q=="string"?k(q,j,H):q}})},7629:function(a,s,r){"use strict";var c=r(9037);r(5997)(c.JSON,"JSON",!0)},9322:function(a,s,r){"use strict";r(319)("Map",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},r(800))},6646:function(a,s,r){"use strict";r(9322)},8813:function(a,s,r){"use strict";var c=r(9989),d=Math.log,h=Math.LN2;c({target:"Math",stat:!0},{log2:function(v){return d(v)/h}})},6976:function(a,s,r){"use strict";r(9989)({target:"Math",stat:!0},{sign:r(5680)})},7509:function(a,s,r){"use strict";r(5997)(Math,"Math",!0)},9288:function(a,s,r){"use strict";var c=r(9989),d=r(3931),h=r(7697),f=r(9037),v=r(496),_=r(8844),b=r(5266),w=r(6812),A=r(3457),E=r(3622),O=r(734),P=r(8732),y=r(3689),u=r(2741).f,p=r(2474).f,g=r(2560).f,k=r(3648),x=r(1435).trim,j="Number",L=f[j],D=v[j],F=L.prototype,X=f.TypeError,Q=_("".slice),H=_("".charCodeAt),ce=b(j,!L(" 0o1")||!L("0b1")||L("+0x1")),ne=function(Y){var oe,q=arguments.length<1?0:L(function(G){var J=P(G,"number");return(typeof J=="undefined"?"undefined":_typeof(J))=="bigint"?J:function(ae){var ie,Oe,De,ke,tt,Ve,Qe,ht,bt=P(ae,"number");if(O(bt))throw new X("Cannot convert a Symbol value to a number");if(typeof bt=="string"&&bt.length>2){if(bt=x(bt),(ie=H(bt,0))===43||ie===45){if((Oe=H(bt,2))===88||Oe===120)return NaN}else if(ie===48){switch(H(bt,1)){case 66:case 98:De=2,ke=49;break;case 79:case 111:De=8,ke=55;break;default:return+bt}for(Ve=(tt=Q(bt,2)).length,Qe=0;Qe<Ve;Qe++)if((ht=H(tt,Qe))<48||ht>ke)return NaN;return parseInt(tt,De)}}return+bt}(J)}(Y));return E(F,oe=this)&&y(function(){k(oe)})?A(Object(q),this,ne):q};ne.prototype=F,ce&&!d&&(F.constructor=ne),c({global:!0,constructor:!0,wrap:!0,forced:ce},{Number:ne});var V=function(oe,q){for(var G,J=h?u(q):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ae=0;J.length>ae;ae++)w(q,G=J[ae])&&!w(oe,G)&&g(oe,G,p(q,G))};d&&D&&V(v[j],D),(ce||d)&&V(v[j],L)},429:function(a,s,r){"use strict";var c=r(9989),d=r(5394);c({target:"Object",stat:!0,arity:2,forced:Object.assign!==d},{assign:d})},1830:function(a,s,r){"use strict";var c=r(9989),d=r(1594),h=r(3689),f=r(8999),v=r(5375).onFreeze,_=Object.freeze;c({target:"Object",stat:!0,forced:h(function(){_(1)}),sham:!d},{freeze:function(w){return _&&f(w)?_(v(w)):w}})},1919:function(a,s,r){"use strict";var c=r(9989),d=r(3689),h=r(5290),f=r(2474).f,v=r(7697);c({target:"Object",stat:!0,forced:!v||d(function(){f(1)}),sham:!v},{getOwnPropertyDescriptor:function(b,w){return f(h(b),w)}})},9474:function(a,s,r){"use strict";var c=r(9989),d=r(7697),h=r(9152),f=r(5290),v=r(2474),_=r(6522);c({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(w){for(var A,E,O=f(w),P=v.f,y=h(O),u={},p=0;y.length>p;)(E=P(O,A=y[p++]))!==void 0&&_(u,A,E);return u}})},9997:function(a,s,r){"use strict";var c=r(9989),d=r(3689),h=r(6062).f;c({target:"Object",stat:!0,forced:d(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:h})},9434:function(a,s,r){"use strict";var c=r(9989),d=r(146),h=r(3689),f=r(7518),v=r(690);c({target:"Object",stat:!0,forced:!d||h(function(){f.f(1)})},{getOwnPropertySymbols:function(b){var w=f.f;return w?w(v(b)):[]}})},8052:function(a,s,r){"use strict";var c=r(9989),d=r(3689),h=r(690),f=r(1868),v=r(1748);c({target:"Object",stat:!0,forced:d(function(){f(1)}),sham:!v},{getPrototypeOf:function(b){return f(h(b))}})},9358:function(a,s,r){"use strict";var c=r(9989),d=r(690),h=r(300);c({target:"Object",stat:!0,forced:r(3689)(function(){h(1)})},{keys:function(v){return h(d(v))}})},228:function(a,s,r){"use strict";var c=r(3043),d=r(1880),h=r(5073);c||d(Object.prototype,"toString",h,{unsafe:!0})},6466:function(a,s,r){"use strict";var c=r(9989),d=r(9419).values;c({target:"Object",stat:!0},{values:function(f){return d(f)}})},939:function(a,s,r){"use strict";var c=r(9989),d=r(4818);c({global:!0,forced:parseFloat!==d},{parseFloat:d})},2320:function(a,s,r){"use strict";var c=r(9989),d=r(7897);c({global:!0,forced:parseInt!==d},{parseInt:d})},1692:function(a,s,r){"use strict";var c=r(9989),d=r(2615),h=r(509),f=r(8742),v=r(9302),_=r(8734);c({target:"Promise",stat:!0,forced:r(562)},{all:function(w){var A=this,E=f.f(A),O=E.resolve,P=E.reject,y=v(function(){var u=h(A.resolve),p=[],g=0,k=1;_(w,function(x){var j=g++,L=!1;k++,d(u,A,x).then(function(D){L||(L=!0,p[j]=D,--k||O(p))},P)}),--k||O(p)});return y.error&&P(y.value),E.promise}})},5089:function(a,s,r){"use strict";var c=r(9989),d=r(3931),h=r(7073).CONSTRUCTOR,f=r(7919),v=r(6058),_=r(9985),b=r(1880),w=f&&f.prototype;if(c({target:"Promise",proto:!0,forced:h,real:!0},{catch:function(O){return this.then(void 0,O)}}),!d&&_(f)){var A=v("Promise").prototype.catch;w.catch!==A&&b(w,"catch",A,{unsafe:!0})}},6697:function(a,s,r){"use strict";var c,d,h,f=r(9989),v=r(3931),_=r(806),b=r(9037),w=r(2615),A=r(1880),E=r(9385),O=r(5997),P=r(4241),y=r(509),u=r(9985),p=r(8999),g=r(767),k=r(6373),x=r(9886).set,j=r(231),L=r(920),D=r(9302),F=r(4410),X=r(618),Q=r(7919),H=r(7073),ce=r(8742),ne="Promise",V=H.CONSTRUCTOR,Y=H.REJECTION_EVENT,oe=H.SUBCLASSING,q=X.getterFor(ne),G=X.set,J=Q&&Q.prototype,ae=Q,ie=J,Oe=b.TypeError,De=b.document,ke=b.process,tt=ce.f,Ve=tt,Qe=!!(De&&De.createEvent&&b.dispatchEvent),ht="unhandledrejection",bt=function(ct){var Ge;return!(!p(ct)||!u(Ge=ct.then))&&Ge},vt=function(ct,Ge){var ze,He,rt,it=Ge.value,wt=Ge.state===1,_t=wt?ct.ok:ct.fail,xt=ct.resolve,ut=ct.reject,we=ct.domain;try{_t?(wt||(Ge.rejection===2&&Ke(Ge),Ge.rejection=1),_t===!0?ze=it:(we&&we.enter(),ze=_t(it),we&&(we.exit(),rt=!0)),ze===ct.promise?ut(new Oe("Promise-chain cycle")):(He=bt(ze))?w(He,ze,xt,ut):xt(ze)):ut(it)}catch(N){we&&!rt&&we.exit(),ut(N)}},Le=function(ct,Ge){ct.notified||(ct.notified=!0,j(function(){for(var ze,He=ct.reactions;ze=He.get();)vt(ze,ct);ct.notified=!1,Ge&&!ct.rejection&&Ne(ct)}))},_e=function(ct,Ge,ze){var He,rt;Qe?((He=De.createEvent("Event")).promise=Ge,He.reason=ze,He.initEvent(ct,!1,!0),b.dispatchEvent(He)):He={promise:Ge,reason:ze},!Y&&(rt=b["on"+ct])?rt(He):ct===ht&&L("Unhandled promise rejection",ze)},Ne=function(ct){w(x,b,function(){var Ge,ze=ct.facade,He=ct.value;if(Ze(ct)&&(Ge=D(function(){_?ke.emit("unhandledRejection",He,ze):_e(ht,ze,He)}),ct.rejection=_||Ze(ct)?2:1,Ge.error))throw Ge.value})},Ze=function(ct){return ct.rejection!==1&&!ct.parent},Ke=function(ct){w(x,b,function(){var Ge=ct.facade;_?ke.emit("rejectionHandled",Ge):_e("rejectionhandled",Ge,ct.value)})},Pe=function(ct,Ge,ze){return function(He){ct(Ge,He,ze)}},at=function(ct,Ge,ze){ct.done||(ct.done=!0,ze&&(ct=ze),ct.value=Ge,ct.state=2,Le(ct,!0))},pt=function(lt,ct,Ge){if(!lt.done){lt.done=!0,Ge&&(lt=Ge);try{if(lt.facade===ct)throw new Oe("Promise can't be resolved itself");var ze=bt(ct);ze?j(function(){var He={done:!1};try{w(ze,ct,Pe(pt,He,lt),Pe(at,He,lt))}catch(rt){at(He,rt,lt)}}):(lt.value=ct,lt.state=1,Le(lt,!1))}catch(He){at({done:!1},He,lt)}}};if(V&&(ie=(ae=function(ct){g(this,ie),y(ct),w(c,this);var Ge=q(this);try{ct(Pe(pt,Ge),Pe(at,Ge))}catch(ze){at(Ge,ze)}}).prototype,(c=function(ct){G(this,{type:ne,done:!1,notified:!1,parent:!1,reactions:new F,rejection:!1,state:0,value:void 0})}).prototype=A(ie,"then",function(lt,ct){var Ge=q(this),ze=tt(k(this,ae));return Ge.parent=!0,ze.ok=!u(lt)||lt,ze.fail=u(ct)&&ct,ze.domain=_?ke.domain:void 0,Ge.state===0?Ge.reactions.add(ze):j(function(){vt(ze,Ge)}),ze.promise}),d=function(){var ct=new c,Ge=q(ct);this.promise=ct,this.resolve=Pe(pt,Ge),this.reject=Pe(at,Ge)},ce.f=tt=function(ct){return ct===ae||ct===void 0?new d(ct):Ve(ct)},!v&&u(Q)&&J!==Object.prototype)){h=J.then,oe||A(J,"then",function(lt,ct){var Ge=this;return new ae(function(ze,He){w(h,Ge,ze,He)}).then(lt,ct)},{unsafe:!0});try{delete J.constructor}catch(lt){}E&&E(J,ie)}f({global:!0,constructor:!0,wrap:!0,forced:V},{Promise:ae}),O(ae,ne,!1,!0),P(ne)},3964:function(a,s,r){"use strict";r(6697),r(1692),r(5089),r(8829),r(2092),r(7905)},8829:function(a,s,r){"use strict";var c=r(9989),d=r(2615),h=r(509),f=r(8742),v=r(9302),_=r(8734);c({target:"Promise",stat:!0,forced:r(562)},{race:function(w){var A=this,E=f.f(A),O=E.reject,P=v(function(){var y=h(A.resolve);_(w,function(u){d(y,A,u).then(E.resolve,O)})});return P.error&&O(P.value),E.promise}})},2092:function(a,s,r){"use strict";var c=r(9989),d=r(2615),h=r(8742);c({target:"Promise",stat:!0,forced:r(7073).CONSTRUCTOR},{reject:function(v){var _=h.f(this);return d(_.reject,void 0,v),_.promise}})},7905:function(a,s,r){"use strict";var c=r(9989),d=r(6058),h=r(3931),f=r(7919),v=r(7073).CONSTRUCTOR,_=r(2945),b=d("Promise"),w=h&&!v;c({target:"Promise",stat:!0,forced:h||v},{resolve:function(E){return _(w&&this===b?f:this,E)}})},50:function(a,s,r){"use strict";var c=r(9989),d=r(6058),h=r(1735),f=r(6761),v=r(2655),_=r(5027),b=r(8999),w=r(5391),A=r(3689),E=d("Reflect","construct"),O=Object.prototype,P=[].push,y=A(function(){var g=function(){};return!_instanceof(E(function(){},[],g),g)}),u=!A(function(){E(function(){})}),p=y||u;c({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(k,x){v(k),_(x);var j=arguments.length<3?k:v(arguments[2]);if(u&&!y)return E(k,x,j);if(k===j){switch(x.length){case 0:return new k;case 1:return new k(x[0]);case 2:return new k(x[0],x[1]);case 3:return new k(x[0],x[1],x[2]);case 4:return new k(x[0],x[1],x[2],x[3])}var L=[null];return h(P,L,x),new(h(f,k,L))}var D=j.prototype,F=w(b(D)?D:O),X=h(k,F,x);return b(X)?X:F}})},2349:function(a,s,r){"use strict";var c=r(9989),d=r(2615),h=r(8999),f=r(5027),v=r(6251),_=r(2474),b=r(1868);c({target:"Reflect",stat:!0},{get:function w(A,E){var O,P,y=arguments.length<3?A:arguments[2];return f(A)===y?A[E]:(O=_.f(A,E))?v(O)?O.value:O.get===void 0?void 0:d(O.get,y):h(P=b(A))?w(P,E,y):void 0}})},2003:function(a,s,r){"use strict";var c=r(7697),d=r(9037),h=r(8844),f=r(5266),v=r(3457),_=r(5773),b=r(2741).f,w=r(3622),A=r(1245),E=r(4327),O=r(3477),P=r(7901),y=r(8055),u=r(1880),p=r(3689),g=r(6812),k=r(618).enforce,x=r(4241),j=r(4201),L=r(2100),D=r(6422),F=j("match"),X=d.RegExp,Q=X.prototype,H=d.SyntaxError,ce=h(Q.exec),ne=h("".charAt),V=h("".replace),Y=h("".indexOf),oe=h("".slice),q=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,G=/a/g,J=/a/g,ae=new X(G)!==G,ie=P.MISSED_STICKY,Oe=P.UNSUPPORTED_Y;if(f("RegExp",c&&(!ae||ie||L||D||p(function(){return J[F]=!1,X(G)!==G||X(J)===J||String(X(G,"i"))!=="/a/i"})))){for(var De=function(Ve,Qe){var ht,bt,vt,Le,_e,Ne,Ze=w(Q,this),Ke=A(Ve),Pe=Qe===void 0,at=[],pt=Ve;if(!Ze&&Ke&&Pe&&Ve.constructor===De)return Ve;if((Ke||w(Q,Ve))&&(Ve=Ve.source,Pe&&(Qe=O(pt))),Ve=Ve===void 0?"":E(Ve),Qe=Qe===void 0?"":E(Qe),pt=Ve,L&&"dotAll"in G&&(bt=!!Qe&&Y(Qe,"s")>-1)&&(Qe=V(Qe,/s/g,"")),ht=Qe,ie&&"sticky"in G&&(vt=!!Qe&&Y(Qe,"y")>-1)&&Oe&&(Qe=V(Qe,/y/g,"")),D&&(Le=function(lt){for(var ct,Ge=lt.length,ze=0,He="",rt=[],it={},wt=!1,_t=!1,xt=0,ut="";ze<=Ge;ze++){if((ct=ne(lt,ze))==="\\")ct+=ne(lt,++ze);else if(ct==="]")wt=!1;else if(!wt)switch(!0){case ct==="[":wt=!0;break;case ct==="(":ce(q,oe(lt,ze+1))&&(ze+=2,_t=!0),He+=ct,xt++;continue;case(ct===">"&&_t):if(ut===""||g(it,ut))throw new H("Invalid capture group name");it[ut]=!0,rt[rt.length]=[ut,xt],_t=!1,ut="";continue}_t?ut+=ct:He+=ct}return[He,rt]}(Ve),Ve=Le[0],at=Le[1]),_e=v(X(Ve,Qe),Ze?this:Q,De),(bt||vt||at.length)&&(Ne=k(_e),bt&&(Ne.dotAll=!0,Ne.raw=De(function(lt){for(var ct,Ge=lt.length,ze=0,He="",rt=!1;ze<=Ge;ze++)(ct=ne(lt,ze))!=="\\"?rt||ct!=="."?(ct==="["?rt=!0:ct==="]"&&(rt=!1),He+=ct):He+="[\\s\\S]":He+=ct+ne(lt,++ze);return He}(Ve),ht)),vt&&(Ne.sticky=!0),at.length&&(Ne.groups=at)),Ve!==pt)try{_(_e,"source",pt===""?"(?:)":pt)}catch(lt){}return _e},ke=b(X),tt=0;ke.length>tt;)y(De,X,ke[tt++]);Q.constructor=De,De.prototype=Q,u(d,"RegExp",De,{constructor:!0})}x("RegExp")},4043:function(a,s,r){"use strict";var c=r(9989),d=r(6308);c({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},2826:function(a,s,r){"use strict";var c=r(1236).PROPER,d=r(1880),h=r(5027),f=r(4327),v=r(3689),_=r(3477),b="toString",w=RegExp.prototype[b],A=v(function(){return w.call({source:"a",flags:"b"})!=="/a/b"}),E=c&&w.name!==b;(A||E)&&d(RegExp.prototype,b,function(){var O=h(this);return"/"+f(O.source)+"/"+f(_(O))},{unsafe:!0})},7985:function(a,s,r){"use strict";r(319)("Set",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},r(800))},9649:function(a,s,r){"use strict";r(7985)},2918:function(a,s,r){"use strict";var c,d=r(9989),h=r(6576),f=r(2474).f,v=r(3126),_=r(4327),b=r(2124),w=r(4684),A=r(7413),E=r(3931),O=h("".endsWith),P=h("".slice),y=Math.min,u=A("endsWith");d({target:"String",proto:!0,forced:!(!E&&!u&&(c=f(String.prototype,"endsWith"),c&&!c.writable)||u)},{endsWith:function(g){var k=_(w(this));b(g);var x=arguments.length>1?arguments[1]:void 0,j=k.length,L=x===void 0?j:y(v(x),j),D=_(g);return O?O(k,D,L):P(k,L-D.length,L)===D}})},3843:function(a,s,r){"use strict";var c=r(9989),d=r(8844),h=r(2124),f=r(4684),v=r(4327),_=r(7413),b=d("".indexOf);c({target:"String",proto:!0,forced:!_("includes")},{includes:function(A){return!!~b(v(f(this)),v(h(A)),arguments.length>1?arguments[1]:void 0)}})},1694:function(a,s,r){"use strict";var c=r(730).charAt,d=r(4327),h=r(618),f=r(1934),v=r(7807),_="String Iterator",b=h.set,w=h.getterFor(_);f(String,"String",function(A){b(this,{type:_,string:d(A),index:0})},function(){var A,E=w(this),O=E.string,P=E.index;return P>=O.length?v(void 0,!0):(A=c(O,P),E.index+=A.length,v(A,!1))})},2462:function(a,s,r){"use strict";var c=r(2615),d=r(8678),h=r(5027),f=r(981),v=r(3126),_=r(4327),b=r(4684),w=r(4849),A=r(727),E=r(6100);d("match",function(O,P,y){return[function(u){var p=b(this),g=f(u)?void 0:w(u,O);return g?c(g,u,p):new RegExp(u)[O](_(p))},function(u){var p=h(this),g=_(u),k=y(P,p,g);if(k.done)return k.value;if(!p.global)return E(p,g);var x=p.unicode;p.lastIndex=0;for(var j,L=[],D=0;(j=E(p,g))!==null;){var F=_(j[0]);L[D]=F,F===""&&(p.lastIndex=A(g,v(p.lastIndex),x)),D++}return D===0?null:L}]})},7267:function(a,s,r){"use strict";var c=r(1735),d=r(2615),h=r(8844),f=r(8678),v=r(3689),_=r(5027),b=r(9985),w=r(981),A=r(8700),E=r(3126),O=r(4327),P=r(4684),y=r(727),u=r(4849),p=r(7017),g=r(6100),k=r(4201)("replace"),x=Math.max,j=Math.min,L=h([].concat),D=h([].push),F=h("".indexOf),X=h("".slice),Q="a".replace(/./,"$0")==="$0",H=!!/./[k]&&/./[k]("a","$0")==="";f("replace",function(ce,ne,V){var Y=H?"$":"$0";return[function(oe,q){var G=P(this),J=w(oe)?void 0:u(oe,k);return J?d(J,oe,G,q):d(ne,O(G),oe,q)},function(oe,q){var G=_(this),J=O(oe);if(typeof q=="string"&&F(q,Y)===-1&&F(q,"$<")===-1){var ae=V(ne,G,J,q);if(ae.done)return ae.value}var ie=b(q);ie||(q=O(q));var Oe,De=G.global;De&&(Oe=G.unicode,G.lastIndex=0);for(var ke,tt=[];(ke=g(G,J))!==null&&(D(tt,ke),De);)O(ke[0])===""&&(G.lastIndex=y(J,E(G.lastIndex),Oe));for(var Ve,Qe="",ht=0,bt=0;bt<tt.length;bt++){for(var vt,Le=O((ke=tt[bt])[0]),_e=x(j(A(ke.index),J.length),0),Ne=[],Ze=1;Ze<ke.length;Ze++)D(Ne,(Ve=ke[Ze])===void 0?Ve:String(Ve));var Ke=ke.groups;if(ie){var Pe=L([Le],Ne,_e,J);Ke!==void 0&&D(Pe,Ke),vt=O(c(q,void 0,Pe))}else vt=p(Le,J,_e,Ne,Ke,q);_e>=ht&&(Qe+=X(J,ht,_e)+vt,ht=_e+Le.length)}return Qe+X(J,ht)}]},!!v(function(){var ce=/./;return ce.exec=function(){var ne=[];return ne.groups={a:"7"},ne},"".replace(ce,"$<a>")!=="7"})||!Q||H)},1514:function(a,s,r){"use strict";var c=r(2615),d=r(8678),h=r(5027),f=r(981),v=r(4684),_=r(953),b=r(4327),w=r(4849),A=r(6100);d("search",function(E,O,P){return[function(y){var u=v(this),p=f(y)?void 0:w(y,E);return p?c(p,y,u):new RegExp(y)[E](b(u))},function(y){var u=h(this),p=b(y),g=P(O,u,p);if(g.done)return g.value;var k=u.lastIndex;_(k,0)||(u.lastIndex=0);var x=A(u,p);return _(u.lastIndex,k)||(u.lastIndex=k),x===null?-1:x.index}]})},9873:function(a,s,r){"use strict";var c=r(1735),d=r(2615),h=r(8844),f=r(8678),v=r(5027),_=r(981),b=r(1245),w=r(4684),A=r(6373),E=r(727),O=r(3126),P=r(4327),y=r(4849),u=r(9015),p=r(6100),g=r(6308),k=r(7901),x=r(3689),j=k.UNSUPPORTED_Y,L=4294967295,D=Math.min,F=[].push,X=h(/./.exec),Q=h(F),H=h("".slice),ce=!x(function(){var ne=/(?:)/,V=ne.exec;ne.exec=function(){return V.apply(this,arguments)};var Y="ab".split(ne);return Y.length!==2||Y[0]!=="a"||Y[1]!=="b"});f("split",function(ne,V,Y){var oe;return oe="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length?function(G,J){var ae=P(w(this)),ie=J===void 0?L:J>>>0;if(ie===0)return[];if(G===void 0)return[ae];if(!b(G))return d(V,ae,G,ie);for(var Oe,De,ke,tt=[],Ve=(G.ignoreCase?"i":"")+(G.multiline?"m":"")+(G.unicode?"u":"")+(G.sticky?"y":""),Qe=0,ht=new RegExp(G.source,Ve+"g");(Oe=d(g,ht,ae))&&!((De=ht.lastIndex)>Qe&&(Q(tt,H(ae,Qe,Oe.index)),Oe.length>1&&Oe.index<ae.length&&c(F,tt,u(Oe,1)),ke=Oe[0].length,Qe=De,tt.length>=ie));)ht.lastIndex===Oe.index&&ht.lastIndex++;return Qe===ae.length?!ke&&X(ht,"")||Q(tt,""):Q(tt,H(ae,Qe)),tt.length>ie?u(tt,0,ie):tt}:"0".split(void 0,0).length?function(q,G){return q===void 0&&G===0?[]:d(V,this,q,G)}:V,[function(q,G){var J=w(this),ae=_(q)?void 0:y(q,ne);return ae?d(ae,q,J,G):d(oe,P(J),q,G)},function(q,G){var J=v(this),ae=P(q),ie=Y(oe,J,ae,G,oe!==V);if(ie.done)return ie.value;var Oe=A(J,RegExp),De=J.unicode,ke=(J.ignoreCase?"i":"")+(J.multiline?"m":"")+(J.unicode?"u":"")+(j?"g":"y"),tt=new Oe(j?"^(?:"+J.source+")":J,ke),Ve=G===void 0?L:G>>>0;if(Ve===0)return[];if(ae.length===0)return p(tt,ae)===null?[ae]:[];for(var Qe=0,ht=0,bt=[];ht<ae.length;){tt.lastIndex=j?0:ht;var vt,Le=p(tt,j?H(ae,ht):ae);if(Le===null||(vt=D(O(tt.lastIndex+(j?ht:0)),ae.length))===Qe)ht=E(ae,ht,De);else{if(Q(bt,H(ae,Qe,ht)),bt.length===Ve)return bt;for(var _e=1;_e<=Le.length-1;_e++)if(Q(bt,Le[_e]),bt.length===Ve)return bt;ht=Qe=vt}}return Q(bt,H(ae,Qe)),bt}]},!ce,j)},268:function(a,s,r){"use strict";var c,d=r(9989),h=r(6576),f=r(2474).f,v=r(3126),_=r(4327),b=r(2124),w=r(4684),A=r(7413),E=r(3931),O=h("".startsWith),P=h("".slice),y=Math.min,u=A("startsWith");d({target:"String",proto:!0,forced:!(!E&&!u&&(c=f(String.prototype,"startsWith"),c&&!c.writable)||u)},{startsWith:function(g){var k=_(w(this));b(g);var x=v(y(arguments.length>1?arguments[1]:void 0,k.length)),j=_(g);return O?O(k,j,x):P(k,x,x+j.length)===j}})},8373:function(a,s,r){"use strict";r(5405)("asyncIterator")},7855:function(a,s,r){"use strict";var c=r(9989),d=r(9037),h=r(2615),f=r(8844),v=r(3931),_=r(7697),b=r(146),w=r(3689),A=r(6812),E=r(3622),O=r(5027),P=r(5290),y=r(8360),u=r(4327),p=r(5684),g=r(5391),k=r(300),x=r(2741),j=r(6062),L=r(7518),D=r(2474),F=r(2560),X=r(8920),Q=r(9556),H=r(1880),ce=r(2148),ne=r(3430),V=r(2713),Y=r(7248),oe=r(4630),q=r(4201),G=r(6145),J=r(5405),ae=r(3032),ie=r(5997),Oe=r(618),De=r(2960).forEach,ke=V("hidden"),tt="Symbol",Ve="prototype",Qe=Oe.set,ht=Oe.getterFor(tt),bt=Object[Ve],vt=d.Symbol,Le=vt&&vt[Ve],_e=d.RangeError,Ne=d.TypeError,Ze=d.QObject,Ke=D.f,Pe=F.f,at=j.f,pt=Q.f,lt=f([].push),ct=ne("symbols"),Ge=ne("op-symbols"),ze=ne("wks"),He=!Ze||!Ze[Ve]||!Ze[Ve].findChild,rt=function(nt,R,le){var ue=Ke(bt,R);ue&&delete bt[R],Pe(nt,R,le),ue&&nt!==bt&&Pe(bt,R,ue)},it=_&&w(function(){return g(Pe({},"a",{get:function(){return Pe(this,"a",{value:7}).a}})).a!==7})?rt:Pe,wt=function(nt,R){var le=ct[nt]=g(Le);return Qe(le,{type:tt,tag:nt,description:R}),_||(le.description=R),le},_t=function(Ie,nt,R){Ie===bt&&_t(Ge,nt,R),O(Ie);var le=y(nt);return O(R),A(ct,le)?(R.enumerable?(A(Ie,ke)&&Ie[ke][le]&&(Ie[ke][le]=!1),R=g(R,{enumerable:p(0,!1)})):(A(Ie,ke)||Pe(Ie,ke,p(1,{})),Ie[ke][le]=!0),it(Ie,le,R)):Pe(Ie,le,R)},xt=function(nt,R){O(nt);var le=P(R),ue=k(le).concat(qe(le));return De(ue,function(ve){_&&!h(ut,le,ve)||_t(nt,ve,le[ve])}),nt},ut=function(nt){var R=y(nt),le=h(pt,this,R);return!(this===bt&&A(ct,R)&&!A(Ge,R))&&(!(le||!A(this,R)||!A(ct,R)||A(this,ke)&&this[ke][R])||le)},we=function(nt,R){var le=P(nt),ue=y(R);if(le!==bt||!A(ct,ue)||A(Ge,ue)){var ve=Ke(le,ue);return!ve||!A(ct,ue)||A(le,ke)&&le[ke][ue]||(ve.enumerable=!0),ve}},N=function(nt){var R=at(P(nt)),le=[];return De(R,function(ue){A(ct,ue)||A(Y,ue)||lt(le,ue)}),le},qe=function(nt){var R=nt===bt,le=at(R?Ge:P(nt)),ue=[];return De(le,function(ve){!A(ct,ve)||R&&!A(bt,ve)||lt(ue,ct[ve])}),ue};b||(vt=function(){if(E(Le,this))throw new Ne("Symbol is not a constructor");var nt=arguments.length&&arguments[0]!==void 0?u(arguments[0]):void 0,R=oe(nt),le=function(ue){var ve=this===void 0?d:this;ve===bt&&h(le,Ge,ue),A(ve,ke)&&A(ve[ke],R)&&(ve[ke][R]=!1);var de=p(1,ue);try{it(ve,R,de)}catch(K){if(!_instanceof(K,_e))throw K;rt(ve,R,de)}};return _&&He&&it(bt,R,{configurable:!0,set:le}),wt(R,nt)},H(Le=vt[Ve],"toString",function(){return ht(this).tag}),H(vt,"withoutSetter",function(Ie){return wt(oe(Ie),Ie)}),Q.f=ut,F.f=_t,X.f=xt,D.f=we,x.f=j.f=N,L.f=qe,G.f=function(Ie){return wt(q(Ie),Ie)},_&&(ce(Le,"description",{configurable:!0,get:function(){return ht(this).description}}),v||H(bt,"propertyIsEnumerable",ut,{unsafe:!0}))),c({global:!0,constructor:!0,wrap:!0,forced:!b,sham:!b},{Symbol:vt}),De(k(ze),function(Ie){J(Ie)}),c({target:tt,stat:!0,forced:!b},{useSetter:function(){He=!0},useSimple:function(){He=!1}}),c({target:"Object",stat:!0,forced:!b,sham:!_},{create:function(nt,R){return R===void 0?g(nt):xt(g(nt),R)},defineProperty:_t,defineProperties:xt,getOwnPropertyDescriptor:we}),c({target:"Object",stat:!0,forced:!b},{getOwnPropertyNames:N}),ae(),ie(vt,tt),Y[ke]=!0},6544:function(a,s,r){"use strict";var c=r(9989),d=r(7697),h=r(9037),f=r(8844),v=r(6812),_=r(9985),b=r(3622),w=r(4327),A=r(2148),E=r(8758),O=h.Symbol,P=O&&O.prototype;if(d&&_(O)&&(!("description"in P)||O().description!==void 0)){var y={},u=function(){var F=arguments.length<1||arguments[0]===void 0?void 0:w(arguments[0]),X=b(P,this)?new O(F):F===void 0?O():O(F);return F===""&&(y[X]=!0),X};E(u,O),u.prototype=P,P.constructor=u;var p=String(O("description detection"))==="Symbol(description detection)",g=f(P.valueOf),k=f(P.toString),x=/^Symbol\((.*)\)[^)]+$/,j=f("".replace),L=f("".slice);A(P,"description",{configurable:!0,get:function(){var F=g(this);if(v(y,F))return"";var X=k(F),Q=p?L(X,7,-1):j(X,x,"$1");return Q===""?void 0:Q}}),c({global:!0,constructor:!0,forced:!0},{Symbol:u})}},3975:function(a,s,r){"use strict";var c=r(9989),d=r(6058),h=r(6812),f=r(4327),v=r(3430),_=r(6549),b=v("string-to-symbol-registry"),w=v("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!_},{for:function(E){var O=f(E);if(h(b,O))return b[O];var P=d("Symbol")(O);return b[O]=P,w[P]=O,P}})},4254:function(a,s,r){"use strict";r(5405)("iterator")},9749:function(a,s,r){"use strict";r(7855),r(3975),r(1445),r(8324),r(9434)},1445:function(a,s,r){"use strict";var c=r(9989),d=r(6812),h=r(734),f=r(3691),v=r(3430),_=r(6549),b=v("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!_},{keyFor:function(A){if(!h(A))throw new TypeError(f(A)+" is not a symbol");if(d(b,A))return b[A]}})},9373:function(a,s,r){"use strict";var c=r(5405),d=r(3032);c("toPrimitive"),d()},6793:function(a,s,r){"use strict";var c=r(6058),d=r(5405),h=r(5997);d("toStringTag"),h(c("Symbol"),"Symbol")},5164:function(a,s,r){"use strict";var c,d=r(1594),h=r(9037),f=r(8844),v=r(6045),_=r(5375),b=r(319),w=r(637),A=r(8999),E=r(618).enforce,O=r(3689),P=r(9834),y=Object,u=Array.isArray,p=y.isExtensible,g=y.isFrozen,k=y.isSealed,x=y.freeze,j=y.seal,L={},D={},F=!h.ActiveXObject&&"ActiveXObject"in h,X=function(q){return function(){return q(this,arguments.length?arguments[0]:void 0)}},Q=b("WeakMap",X,w),H=Q.prototype,ce=f(H.set);if(P)if(F){c=w.getConstructor(X,"WeakMap",!0),_.enable();var ne=f(H.delete),V=f(H.has),Y=f(H.get);v(H,{delete:function(q){if(A(q)&&!p(q)){var G=E(this);return G.frozen||(G.frozen=new c),ne(this,q)||G.frozen.delete(q)}return ne(this,q)},has:function(q){if(A(q)&&!p(q)){var G=E(this);return G.frozen||(G.frozen=new c),V(this,q)||G.frozen.has(q)}return V(this,q)},get:function(q){if(A(q)&&!p(q)){var G=E(this);return G.frozen||(G.frozen=new c),V(this,q)?Y(this,q):G.frozen.get(q)}return Y(this,q)},set:function(q,G){if(A(q)&&!p(q)){var J=E(this);J.frozen||(J.frozen=new c),V(this,q)?ce(this,q,G):J.frozen.set(q,G)}else ce(this,q,G);return this}})}else d&&O(function(){var oe=x([]);return ce(new Q,oe,1),!g(oe)})&&v(H,{set:function(q,G){var J;return u(q)&&(g(q)?J=L:k(q)&&(J=D)),ce(this,q,G),J===L&&x(q),J===D&&j(q),this}})},1090:function(a,s,r){"use strict";r(5164)},8832:function(a,s,r){"use strict";r(5398)},7522:function(a,s,r){"use strict";var c=r(9037),d=r(6338),h=r(3265),f=r(7612),v=r(5773),_=function(A){if(A&&A.forEach!==f)try{v(A,"forEach",f)}catch(E){A.forEach=f}};for(var b in d)d[b]&&_(c[b]&&c[b].prototype);_(h)},6265:function(a,s,r){"use strict";var c=r(9037),d=r(6338),h=r(3265),f=r(752),v=r(5773),_=r(4201),b=_("iterator"),w=_("toStringTag"),A=f.values,E=function(y,u){if(y){if(y[b]!==A)try{v(y,b,A)}catch(g){y[b]=A}if(y[w]||v(y,w,u),d[u]){for(var p in f)if(y[p]!==f[p])try{v(y,p,f[p])}catch(g){y[p]=f[p]}}}};for(var O in d)E(c[O]&&c[O].prototype,O);E(h,"DOMTokenList")},2625:function(a,s,r){"use strict";r(752);var c=r(9989),d=r(9037),h=r(2615),f=r(8844),v=r(7697),_=r(6837),b=r(1880),w=r(2148),A=r(6045),E=r(5997),O=r(974),P=r(618),y=r(767),u=r(9985),p=r(6812),g=r(4071),k=r(926),x=r(5027),j=r(8999),L=r(4327),D=r(5391),F=r(5684),X=r(5185),Q=r(1664),H=r(7807),ce=r(1500),ne=r(4201),V=r(382),Y=ne("iterator"),oe="URLSearchParams",q=oe+"Iterator",G=P.set,J=P.getterFor(oe),ae=P.getterFor(q),ie=Object.getOwnPropertyDescriptor,Oe=function(ve){if(!v)return d[ve];var de=ie(d,ve);return de&&de.value},De=Oe("fetch"),ke=Oe("Request"),tt=Oe("Headers"),Ve=ke&&ke.prototype,Qe=tt&&tt.prototype,ht=d.RegExp,bt=d.TypeError,vt=d.decodeURIComponent,Le=d.encodeURIComponent,_e=f("".charAt),Ne=f([].join),Ze=f([].push),Ke=f("".replace),Pe=f([].shift),at=f([].splice),pt=f("".split),lt=f("".slice),ct=/\+/g,Ge=Array(4),ze=function(ve){return Ge[ve-1]||(Ge[ve-1]=ht("((?:%[\\da-f]{2}){"+ve+"})","gi"))},He=function(ve){try{return vt(ve)}catch(de){return ve}},rt=function(ve){var de=Ke(ve,ct," "),K=4;try{return vt(de)}catch(ge){for(;K;)de=Ke(de,ze(K--),He);return de}},it=/[!'()~]|%20/g,wt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},_t=function(ve){return wt[ve]},xt=function(ve){return Ke(Le(ve),it,_t)},ut=O(function(ue,ve){G(this,{type:q,target:J(ue).entries,index:0,kind:ve})},oe,function(){var ue=ae(this),ve=ue.target,de=ue.index++;if(!ve||de>=ve.length)return ue.target=void 0,H(void 0,!0);var K=ve[de];switch(ue.kind){case"keys":return H(K.key,!1);case"values":return H(K.value,!1)}return H([K.key,K.value],!1)},!0),we=function(ve){this.entries=[],this.url=null,ve!==void 0&&(j(ve)?this.parseObject(ve):this.parseQuery(typeof ve=="string"?_e(ve,0)==="?"?lt(ve,1):ve:L(ve)))};we.prototype={type:oe,bindURL:function(ve){this.url=ve,this.update()},parseObject:function(ve){var de,K,ge,Ee,Ce,Ye,Be,Je=this.entries,Tt=Q(ve);if(Tt)for(K=(de=X(ve,Tt)).next;!(ge=h(K,de)).done;){if(Ce=(Ee=X(x(ge.value))).next,(Ye=h(Ce,Ee)).done||(Be=h(Ce,Ee)).done||!h(Ce,Ee).done)throw new bt("Expected sequence with length 2");Ze(Je,{key:L(Ye.value),value:L(Be.value)})}else for(var jt in ve)p(ve,jt)&&Ze(Je,{key:jt,value:L(ve[jt])})},parseQuery:function(ve){if(ve)for(var de,K,ge=this.entries,Ee=pt(ve,"&"),Ce=0;Ce<Ee.length;)(de=Ee[Ce++]).length&&(K=pt(de,"="),Ze(ge,{key:rt(Pe(K)),value:rt(Ne(K,"="))}))},serialize:function(){for(var ve,de=this.entries,K=[],ge=0;ge<de.length;)ve=de[ge++],Ze(K,xt(ve.key)+"="+xt(ve.value));return Ne(K,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var N=function(){y(this,qe);var ve=G(this,new we(arguments.length>0?arguments[0]:void 0));v||(this.size=ve.entries.length)},qe=N.prototype;if(A(qe,{append:function(ve,de){var K=J(this);ce(arguments.length,2),Ze(K.entries,{key:L(ve),value:L(de)}),v||this.length++,K.updateURL()},delete:function(ve){for(var de=J(this),K=ce(arguments.length,1),ge=de.entries,Ee=L(ve),Ce=K<2?void 0:arguments[1],Ye=Ce===void 0?Ce:L(Ce),Be=0;Be<ge.length;){var Je=ge[Be];if(Je.key!==Ee||Ye!==void 0&&Je.value!==Ye)Be++;else if(at(ge,Be,1),Ye!==void 0)break}v||(this.size=ge.length),de.updateURL()},get:function(ve){var de=J(this).entries;ce(arguments.length,1);for(var K=L(ve),ge=0;ge<de.length;ge++)if(de[ge].key===K)return de[ge].value;return null},getAll:function(ve){var de=J(this).entries;ce(arguments.length,1);for(var K=L(ve),ge=[],Ee=0;Ee<de.length;Ee++)de[Ee].key===K&&Ze(ge,de[Ee].value);return ge},has:function(ve){for(var de=J(this).entries,K=ce(arguments.length,1),ge=L(ve),Ee=K<2?void 0:arguments[1],Ce=Ee===void 0?Ee:L(Ee),Ye=0;Ye<de.length;){var Be=de[Ye++];if(Be.key===ge&&(Ce===void 0||Be.value===Ce))return!0}return!1},set:function(ve,de){var K=J(this);ce(arguments.length,1);for(var ge,Ee=K.entries,Ce=!1,Ye=L(ve),Be=L(de),Je=0;Je<Ee.length;Je++)(ge=Ee[Je]).key===Ye&&(Ce?at(Ee,Je--,1):(Ce=!0,ge.value=Be));Ce||Ze(Ee,{key:Ye,value:Be}),v||(this.size=Ee.length),K.updateURL()},sort:function(){var ve=J(this);V(ve.entries,function(de,K){return de.key>K.key?1:-1}),ve.updateURL()},forEach:function(ve){for(var de,K=J(this).entries,ge=g(ve,arguments.length>1?arguments[1]:void 0),Ee=0;Ee<K.length;)ge((de=K[Ee++]).value,de.key,this)},keys:function(){return new ut(this,"keys")},values:function(){return new ut(this,"values")},entries:function(){return new ut(this,"entries")}},{enumerable:!0}),b(qe,Y,qe.entries,{name:"entries"}),b(qe,"toString",function(){return J(this).serialize()},{enumerable:!0}),v&&w(qe,"size",{get:function(){return J(this).entries.length},configurable:!0,enumerable:!0}),E(N,oe),c({global:!0,constructor:!0,forced:!_},{URLSearchParams:N}),!_&&u(tt)){var Ie=f(Qe.has),nt=f(Qe.set),R=function(ve){if(j(ve)){var de,K=ve.body;if(k(K)===oe)return de=ve.headers?new tt(ve.headers):new tt,Ie(de,"content-type")||nt(de,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),D(ve,{body:F(0,L(K)),headers:F(0,de)})}return ve};if(u(De)&&c({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(ve){return De(ve,arguments.length>1?R(arguments[1]):{})}}),u(ke)){var le=function(ve){return y(this,Ve),new ke(ve,arguments.length>1?R(arguments[1]):{})};Ve.constructor=le,le.prototype=Ve,c({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:le})}}a.exports={URLSearchParams:N,getState:J}},9307:function(a,s,r){"use strict";r(2625)},5756:function(a,s,r){"use strict";var c=function(w,A){(A==null||A>w.length)&&(A=w.length);for(var E=0,O=new Array(A);E<A;E++)O[E]=w[E];return O},d=function(w,A){for(var E=0;E<A.length;E++){var O=A[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,(P=function(y,u){if(h(y)!=="object"||y===null)return y;var p=y[Symbol.toPrimitive];if(p!==void 0){var g=p.call(y,"string");if(h(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}(O.key),h(P)==="symbol"?P:String(P)),O)}var P};function h(b){return h=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(A){return typeof A=="undefined"?"undefined":_typeof(A)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w=="undefined"?"undefined":_typeof(w)},h(b)}r.d(s,{XM:function(){return v},Xe:function(){return _},pX:function(){return f}}),r(9373),r(9903),r(9749),r(6544),r(228),r(9288),r(4254),r(752),r(1694),r(6265),r(7049),r(9730),r(2826),r(4284),r(4043);var f={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},v=function(w){return function(){for(var A=arguments.length,E=new Array(A),O=0;O<A;O++)E[O]=arguments[O];return{_$litDirective$:w,values:E}}},_=function(){function b(E){(function(O,P){if(!_instanceof(O,P))throw new TypeError("Cannot call a class as a function")})(this,b)}var w,A;return w=b,A=[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(O,P,y){this._$Ct=O,this._$AM=P,this._$Ci=y}},{key:"_$AS",value:function(O,P){return this.update(O,P)}},{key:"update",value:function(O,P){return this.render.apply(this,function(u){if(Array.isArray(u))return c(u)}(y=P)||function(u){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}(y)||function(u,p){if(u){if(typeof u=="string")return c(u,p);var g=Object.prototype.toString.call(u).slice(8,-1);return g==="Object"&&u.constructor&&(g=u.constructor.name),g==="Map"||g==="Set"?Array.from(u):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?c(u,p):void 0}}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var y}}],A&&d(w.prototype,A),Object.defineProperty(w,"prototype",{writable:!1}),b}()},4817:function(a,s,r){"use strict";var c=function(ze,He){if(typeof He!="function"&&He!==null)throw new TypeError("Super expression must either be null or a function");ze.prototype=Object.create(He&&He.prototype,{constructor:{value:ze,writable:!0,configurable:!0}}),Object.defineProperty(ze,"prototype",{writable:!1}),He&&O(ze,He)},d=function(ze){var He=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(rt){return!1}}();return function(){var rt,it=P(ze);if(He){var wt=P(this).constructor;rt=Reflect.construct(it,arguments,wt)}else rt=it.apply(this,arguments);return function(_t,xt){if(xt&&(y(xt)==="object"||typeof xt=="function"))return xt;if(xt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ut){if(ut===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut}(_t)}(this,rt)}},h=function(ze,He){var rt=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ze[Symbol.iterator]||ze["@@iterator"];if(!rt){if(Array.isArray(ze)||(rt=f(ze))||He&&ze&&typeof ze.length=="number"){rt&&(ze=rt);var it=0,wt=function(){};return{s:wt,n:function(){return it>=ze.length?{done:!0}:{done:!1,value:ze[it++]}},e:function(N){throw N},f:wt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _t,xt=!0,ut=!1;return{s:function(){rt=rt.call(ze)},n:function(){var N=rt.next();return xt=N.done,N},e:function(N){ut=!0,_t=N},f:function(){try{xt||rt.return==null||rt.return()}finally{if(ut)throw _t}}}},f=function(ze,He){if(ze){if(typeof ze=="string")return v(ze,He);var rt=Object.prototype.toString.call(ze).slice(8,-1);return rt==="Object"&&ze.constructor&&(rt=ze.constructor.name),rt==="Map"||rt==="Set"?Array.from(ze):rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt)?v(ze,He):void 0}},v=function(ze,He){(He==null||He>ze.length)&&(He=ze.length);for(var rt=0,it=new Array(He);rt<He;rt++)it[rt]=ze[rt];return it},_=function(ze,He){if(!_instanceof(ze,He))throw new TypeError("Cannot call a class as a function")},b=function(ze,He){for(var rt=0;rt<He.length;rt++){var it=He[rt];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(ze,(wt=function(_t,xt){if(y(_t)!=="object"||_t===null)return _t;var ut=_t[Symbol.toPrimitive];if(ut!==void 0){var we=ut.call(_t,"string");if(y(we)!=="object")return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_t)}(it.key),y(wt)==="symbol"?wt:String(wt)),it)}var wt},w=function(ze,He,rt){return He&&b(ze.prototype,He),rt&&b(ze,rt),Object.defineProperty(ze,"prototype",{writable:!1}),ze},A=function(ze,He){if(!Array.isArray(ze)||!ze.hasOwnProperty("raw"))throw Error("invalid template strings array");return g!==void 0?g.createHTML(He):He},E;function O(Ge,ze){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(rt,it){return rt.__proto__=it,rt},O(Ge,ze)}function P(Ge){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(He){return He.__proto__||Object.getPrototypeOf(He)},P(Ge)}function y(Ge){return y=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(He){return typeof He=="undefined"?"undefined":_typeof(He)}:function(ze){return ze&&typeof Symbol=="function"&&ze.constructor===Symbol&&ze!==Symbol.prototype?"symbol":typeof ze=="undefined"?"undefined":_typeof(ze)},y(Ge)}r.d(s,{Al:function(){return pt},Jb:function(){return De},Ld:function(){return ke},YP:function(){return Oe},dy:function(){return ie},sY:function(){return ct}}),r(9730),r(4254),r(752),r(228),r(1694),r(6265),r(9749),r(6544),r(2003),r(4043),r(2826),r(4338),r(1090),r(268),r(2918),r(9873),r(4284),r(7895),r(9373),r(9903),r(9288),r(7049),r(8052),r(50);var u=window,p=u.trustedTypes,g=p?p.createPolicy("lit-html",{createHTML:function(ze){return ze}}):void 0,k="$lit$",x="lit$".concat((Math.random()+"").slice(9),"$"),j="?"+x,L="<".concat(j,">"),D=document,F=function(){return D.createComment("")},X=function(ze){return ze===null||y(ze)!="object"&&typeof ze!="function"},Q=Array.isArray,H=function(ze){return Q(ze)||typeof(ze==null?void 0:ze[Symbol.iterator])=="function"},ce="[ 	\n\f\r]",ne=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,V=/-->/g,Y=/>/g,oe=RegExp(">|".concat(ce,"(?:([^\\s\"'>=/]+)(").concat(ce,"*=").concat(ce,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),q=/'/g,G=/"/g,J=/^(?:script|style|textarea|title)$/i,ae=function(ze){return function(He){for(var rt=arguments.length,it=new Array(rt>1?rt-1:0),wt=1;wt<rt;wt++)it[wt-1]=arguments[wt];return{_$litType$:ze,strings:He,values:it}}},ie=ae(1),Oe=ae(2),De=Symbol.for("lit-noChange"),ke=Symbol.for("lit-nothing"),tt=new WeakMap,Ve=D.createTreeWalker(D,129,null,!1),Qe=function(ze,He){for(var rt,it=ze.length-1,wt=[],_t=He===2?"<svg>":"",xt=ne,ut=0;ut<it;ut++){for(var we=ze[ut],N=void 0,qe=void 0,Ie=-1,nt=0;nt<we.length&&(xt.lastIndex=nt,(qe=xt.exec(we))!==null);)nt=xt.lastIndex,xt===ne?qe[1]==="!--"?xt=V:qe[1]!==void 0?xt=Y:qe[2]!==void 0?(J.test(qe[2])&&(rt=RegExp("</"+qe[2],"g")),xt=oe):qe[3]!==void 0&&(xt=oe):xt===oe?qe[0]===">"?(xt=rt!=null?rt:ne,Ie=-1):qe[1]===void 0?Ie=-2:(Ie=xt.lastIndex-qe[2].length,N=qe[1],xt=qe[3]===void 0?oe:qe[3]==='"'?G:q):xt===G||xt===q?xt=oe:xt===V||xt===Y?xt=ne:(xt=oe,rt=void 0);var R=xt===oe&&ze[ut+1].startsWith("/>")?" ":"";_t+=xt===ne?we+L:Ie>=0?(wt.push(N),we.slice(0,Ie)+k+we.slice(Ie)+x+R):we+x+(Ie===-2?(wt.push(void 0),ut):R)}return[A(ze,_t+(ze[it]||"<?>")+(He===2?"</svg>":"")),wt]},ht=function(){function Ge(ze,He){var rt,it=ze.strings,wt=ze._$litType$;_(this,Ge),this.parts=[];var _t,xt=0,ut=0,we=it.length-1,N=this.parts,qe=function(Nt,Ft){return function(Dt){if(Array.isArray(Dt))return Dt}(Nt)||function(Dt,Jt){var Qt=Dt==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Dt[Symbol.iterator]||Dt["@@iterator"];if(Qt!=null){var gn,Bt,an,tn,_n=[],Wt=!0,Re=!1;try{if(an=(Qt=Qt.call(Dt)).next,Jt===0){if(Object(Qt)!==Qt)return;Wt=!1}else for(;!(Wt=(gn=an.call(Qt)).done)&&(_n.push(gn.value),_n.length!==Jt);Wt=!0);}catch(pe){Re=!0,Bt=pe}finally{try{if(!Wt&&Qt.return!=null&&(tn=Qt.return(),Object(tn)!==tn))return}finally{if(Re)throw Bt}}return _n}}(Nt,Ft)||f(Nt,Ft)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Qe(it,wt),2),Ie=qe[0],nt=qe[1];if(this.el=Ge.createElement(Ie,He),Ve.currentNode=this.el.content,wt===2){var R=this.el.content,le=R.firstChild;le.remove(),R.append.apply(R,function(Nt){if(Array.isArray(Nt))return v(Nt)}(_t=le.childNodes)||function(Nt){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Nt[Symbol.iterator]!=null||Nt["@@iterator"]!=null)return Array.from(Nt)}(_t)||f(_t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}for(;(rt=Ve.nextNode())!==null&&N.length<we;){if(rt.nodeType===1){if(rt.hasAttributes()){var ue,ve=[],de=h(rt.getAttributeNames());try{for(de.s();!(ue=de.n()).done;){var K=ue.value;if(K.endsWith(k)||K.startsWith(x)){var ge=nt[ut++];if(ve.push(K),ge!==void 0){var Ee=rt.getAttribute(ge.toLowerCase()+k).split(x),Ce=/([.?@])?(.*)/.exec(ge);N.push({type:1,index:xt,name:Ce[2],strings:Ee,ctor:Ce[1]==="."?Ne:Ce[1]==="?"?Ke:Ce[1]==="@"?Pe:_e})}else N.push({type:6,index:xt})}}}catch(Nt){de.e(Nt)}finally{de.f()}for(var Ye=0,Be=ve;Ye<Be.length;Ye++){var Je=Be[Ye];rt.removeAttribute(Je)}}if(J.test(rt.tagName)){var Tt=rt.textContent.split(x),jt=Tt.length-1;if(jt>0){rt.textContent=p?p.emptyScript:"";for(var Et=0;Et<jt;Et++)rt.append(Tt[Et],F()),Ve.nextNode(),N.push({type:2,index:++xt});rt.append(Tt[jt],F())}}}else if(rt.nodeType===8)if(rt.data===j)N.push({type:2,index:xt});else for(var Zt=-1;(Zt=rt.data.indexOf(x,Zt+1))!==-1;)N.push({type:7,index:xt}),Zt+=x.length-1;xt++}}return w(Ge,null,[{key:"createElement",value:function(He,rt){var it=D.createElement("template");return it.innerHTML=He,it}}]),Ge}();function bt(Ge,ze){var He,rt,it,wt,_t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ge,xt=arguments.length>3?arguments[3]:void 0;if(ze===De)return ze;var ut=xt!==void 0?(He=_t._$Co)===null||He===void 0?void 0:He[xt]:_t._$Cl,we=X(ze)?void 0:ze._$litDirective$;return(ut==null?void 0:ut.constructor)!==we&&((rt=ut==null?void 0:ut._$AO)===null||rt===void 0||rt.call(ut,!1),we===void 0?ut=void 0:(ut=new we(Ge))._$AT(Ge,_t,xt),xt!==void 0?((it=(wt=_t)._$Co)!==null&&it!==void 0?it:wt._$Co=[])[xt]=ut:_t._$Cl=ut),ut!==void 0&&(ze=bt(Ge,ut._$AS(Ge,ze.values),ut,xt)),ze}var vt=function(){function Ge(ze,He){_(this,Ge),this._$AV=[],this._$AN=void 0,this._$AD=ze,this._$AM=He}return w(Ge,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(He){var rt,it=this._$AD,wt=it.el.content,_t=it.parts,xt=((rt=He==null?void 0:He.creationScope)!==null&&rt!==void 0?rt:D).importNode(wt,!0);Ve.currentNode=xt;for(var ut=Ve.nextNode(),we=0,N=0,qe=_t[0];qe!==void 0;){if(we===qe.index){var Ie=void 0;qe.type===2?Ie=new Le(ut,ut.nextSibling,this,He):qe.type===1?Ie=new qe.ctor(ut,qe.name,qe.strings,this,He):qe.type===6&&(Ie=new at(ut,this,He)),this._$AV.push(Ie),qe=_t[++N]}we!==(qe==null?void 0:qe.index)&&(ut=Ve.nextNode(),we++)}return Ve.currentNode=D,xt}},{key:"v",value:function(He){var rt,it=0,wt=h(this._$AV);try{for(wt.s();!(rt=wt.n()).done;){var _t=rt.value;_t!==void 0&&(_t.strings!==void 0?(_t._$AI(He,_t,it),it+=_t.strings.length-2):_t._$AI(He[it])),it++}}catch(xt){wt.e(xt)}finally{wt.f()}}}]),Ge}(),Le=function(){function Ge(ze,He,rt,it){var wt;_(this,Ge),this.type=2,this._$AH=ke,this._$AN=void 0,this._$AA=ze,this._$AB=He,this._$AM=rt,this.options=it,this._$Cp=(wt=it==null?void 0:it.isConnected)===null||wt===void 0||wt}return w(Ge,[{key:"_$AU",get:function(){var He,rt;return(rt=(He=this._$AM)===null||He===void 0?void 0:He._$AU)!==null&&rt!==void 0?rt:this._$Cp}},{key:"parentNode",get:function(){var He=this._$AA.parentNode,rt=this._$AM;return rt!==void 0&&(He==null?void 0:He.nodeType)===11&&(He=rt.parentNode),He}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(He){He=bt(this,He,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this),X(He)?He===ke||He==null||He===""?(this._$AH!==ke&&this._$AR(),this._$AH=ke):He!==this._$AH&&He!==De&&this._(He):He._$litType$!==void 0?this.g(He):He.nodeType!==void 0?this.$(He):H(He)?this.T(He):this._(He)}},{key:"k",value:function(He){return this._$AA.parentNode.insertBefore(He,this._$AB)}},{key:"$",value:function(He){this._$AH!==He&&(this._$AR(),this._$AH=this.k(He))}},{key:"_",value:function(He){this._$AH!==ke&&X(this._$AH)?this._$AA.nextSibling.data=He:this.$(D.createTextNode(He)),this._$AH=He}},{key:"g",value:function(He){var rt,it=He.values,wt=He._$litType$,_t=typeof wt=="number"?this._$AC(He):(wt.el===void 0&&(wt.el=ht.createElement(A(wt.h,wt.h[0]),this.options)),wt);if(((rt=this._$AH)===null||rt===void 0?void 0:rt._$AD)===_t)this._$AH.v(it);else{var xt=new vt(_t,this),ut=xt.u(this.options);xt.v(it),this.$(ut),this._$AH=xt}}},{key:"_$AC",value:function(He){var rt=tt.get(He.strings);return rt===void 0&&tt.set(He.strings,rt=new ht(He)),rt}},{key:"T",value:function(He){Q(this._$AH)||(this._$AH=[],this._$AR());var rt,it,wt=this._$AH,_t=0,xt=h(He);try{for(xt.s();!(it=xt.n()).done;){var ut=it.value;_t===wt.length?wt.push(rt=new Ge(this.k(F()),this.k(F()),this,this.options)):rt=wt[_t],rt._$AI(ut),_t++}}catch(we){xt.e(we)}finally{xt.f()}_t<wt.length&&(this._$AR(rt&&rt._$AB.nextSibling,_t),wt.length=_t)}},{key:"_$AR",value:function(){var He,rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,it=arguments.length>1?arguments[1]:void 0;for((He=this._$AP)===null||He===void 0||He.call(this,!1,!0,it);rt&&rt!==this._$AB;){var wt=rt.nextSibling;rt.remove(),rt=wt}}},{key:"setConnected",value:function(He){var rt;this._$AM===void 0&&(this._$Cp=He,(rt=this._$AP)===null||rt===void 0||rt.call(this,He))}}]),Ge}(),_e=function(){function Ge(ze,He,rt,it,wt){_(this,Ge),this.type=1,this._$AH=ke,this._$AN=void 0,this.element=ze,this.name=He,this._$AM=it,this.options=wt,rt.length>2||rt[0]!==""||rt[1]!==""?(this._$AH=Array(rt.length-1).fill(new String),this.strings=rt):this._$AH=ke}return w(Ge,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(He){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,it=arguments.length>2?arguments[2]:void 0,wt=arguments.length>3?arguments[3]:void 0,_t=this.strings,xt=!1;if(_t===void 0)He=bt(this,He,rt,0),(xt=!X(He)||He!==this._$AH&&He!==De)&&(this._$AH=He);else{var ut,we,N=He;for(He=_t[0],ut=0;ut<_t.length-1;ut++)(we=bt(this,N[it+ut],rt,ut))===De&&(we=this._$AH[ut]),xt||(xt=!X(we)||we!==this._$AH[ut]),we===ke?He=ke:He!==ke&&(He+=(we!=null?we:"")+_t[ut+1]),this._$AH[ut]=we}xt&&!wt&&this.j(He)}},{key:"j",value:function(He){He===ke?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,He!=null?He:"")}}]),Ge}(),Ne=function(Ge){c(He,Ge);var ze=d(He);function He(){var rt;return _(this,He),(rt=ze.apply(this,arguments)).type=3,rt}return w(He,[{key:"j",value:function(it){this.element[this.name]=it===ke?void 0:it}}]),He}(_e),Ze=p?p.emptyScript:"",Ke=function(Ge){c(He,Ge);var ze=d(He);function He(){var rt;return _(this,He),(rt=ze.apply(this,arguments)).type=4,rt}return w(He,[{key:"j",value:function(it){it&&it!==ke?this.element.setAttribute(this.name,Ze):this.element.removeAttribute(this.name)}}]),He}(_e),Pe=function(Ge){c(He,Ge);var ze=d(He);function He(rt,it,wt,_t,xt){var ut;return _(this,He),(ut=ze.call(this,rt,it,wt,_t,xt)).type=5,ut}return w(He,[{key:"_$AI",value:function(it){var wt;if((it=(wt=bt(this,it,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,0))!==null&&wt!==void 0?wt:ke)!==De){var _t=this._$AH,xt=it===ke&&_t!==ke||it.capture!==_t.capture||it.once!==_t.once||it.passive!==_t.passive,ut=it!==ke&&(_t===ke||xt);xt&&this.element.removeEventListener(this.name,this,_t),ut&&this.element.addEventListener(this.name,this,it),this._$AH=it}}},{key:"handleEvent",value:function(it){var wt,_t;typeof this._$AH=="function"?this._$AH.call((_t=(wt=this.options)===null||wt===void 0?void 0:wt.host)!==null&&_t!==void 0?_t:this.element,it):this._$AH.handleEvent(it)}}]),He}(_e),at=function(){function Ge(ze,He,rt){_(this,Ge),this.element=ze,this.type=6,this._$AN=void 0,this._$AM=He,this.options=rt}return w(Ge,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(He){bt(this,He)}}]),Ge}(),pt={O:k,P:x,A:j,C:1,M:Qe,L:vt,R:H,D:bt,I:Le,V:_e,H:Ke,N:Pe,U:Ne,F:at},lt=u.litHtmlPolyfillSupport;lt==null||lt(ht,Le),((E=u.litHtmlVersions)!==null&&E!==void 0?E:u.litHtmlVersions=[]).push("2.8.0");var ct=function(ze,He,rt){var it,wt,_t=(it=rt==null?void 0:rt.renderBefore)!==null&&it!==void 0?it:He,xt=_t._$litPart$;if(xt===void 0){var ut=(wt=rt==null?void 0:rt.renderBefore)!==null&&wt!==void 0?wt:null;_t._$litPart$=xt=new Le(He.insertBefore(F(),ut),ut,void 0,rt!=null?rt:{})}return xt._$AI(ze),xt}},9089:function(a,s,r){"use strict";var c=function(L,D){var F=Object.keys(L);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(L);D&&(X=X.filter(function(Q){return Object.getOwnPropertyDescriptor(L,Q).enumerable})),F.push.apply(F,X)}return F},d=function(L){for(var D=arguments,F=function(Q){var H=D[Q]!=null?D[Q]:{};Q%2?c(Object(H),!0).forEach(function(ce){var ne,V,Y;ne=L,V=ce,Y=H[ce],(V=function(oe){var q=function(G,J){if(O(G)!=="object"||G===null)return G;var ae=G[Symbol.toPrimitive];if(ae!==void 0){var ie=ae.call(G,"string");if(O(ie)!=="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(oe);return O(q)==="symbol"?q:String(q)}(V))in ne?Object.defineProperty(ne,V,{value:Y,enumerable:!0,configurable:!0,writable:!0}):ne[V]=Y}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(H)):c(Object(H)).forEach(function(ce){Object.defineProperty(L,ce,Object.getOwnPropertyDescriptor(H,ce))})},X=1;X<arguments.length;X++)F(X);return L},h=function(L){return function(D,F){return F!==void 0?y(L,D,F):P(L,D)}},f=function(L,D){var F=Object.keys(L);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(L);D&&(X=X.filter(function(Q){return Object.getOwnPropertyDescriptor(L,Q).enumerable})),F.push.apply(F,X)}return F},v=function(L){for(var D=arguments,F=function(Q){var H=D[Q]!=null?D[Q]:{};Q%2?f(Object(H),!0).forEach(function(ce){var ne,V,Y;ne=L,V=ce,Y=H[ce],(V=function(oe){var q=function(G,J){if(u(G)!=="object"||G===null)return G;var ae=G[Symbol.toPrimitive];if(ae!==void 0){var ie=ae.call(G,"string");if(u(ie)!=="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(oe);return u(q)==="symbol"?q:String(q)}(V))in ne?Object.defineProperty(ne,V,{value:Y,enumerable:!0,configurable:!0,writable:!0}):ne[V]=Y}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(H)):f(Object(H)).forEach(function(ce){Object.defineProperty(L,ce,Object.getOwnPropertyDescriptor(H,ce))})},X=1;X<arguments.length;X++)F(X);return L},_=function(L){return h(v(v({},L),{},{state:!0}))},b=function(L,D){var F=Object.keys(L);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(L);D&&(X=X.filter(function(Q){return Object.getOwnPropertyDescriptor(L,Q).enumerable})),F.push.apply(F,X)}return F},w=function(L){for(var D=arguments,F=function(Q){var H=D[Q]!=null?D[Q]:{};Q%2?b(Object(H),!0).forEach(function(ce){var ne,V,Y;ne=L,V=ce,Y=H[ce],(V=function(oe){var q=function(G,J){if(p(G)!=="object"||G===null)return G;var ae=G[Symbol.toPrimitive];if(ae!==void 0){var ie=ae.call(G,"string");if(p(ie)!=="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(oe);return p(q)==="symbol"?q:String(q)}(V))in ne?Object.defineProperty(ne,V,{value:Y,enumerable:!0,configurable:!0,writable:!0}):ne[V]=Y}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(H)):b(Object(H)).forEach(function(ce){Object.defineProperty(L,ce,Object.getOwnPropertyDescriptor(H,ce))})},X=1;X<arguments.length;X++)F(X);return L},A=function(L,D){return k({descriptor:function(X){var Q={get:function(){var ne,V;return(V=(ne=this.renderRoot)===null||ne===void 0?void 0:ne.querySelector(L))!==null&&V!==void 0?V:null},enumerable:!0,configurable:!0};if(D){var H=x(X)=="symbol"?Symbol():"__"+X;Q.get=function(){var ce,ne;return this[H]===void 0&&(this[H]=(ne=(ce=this.renderRoot)===null||ce===void 0?void 0:ce.querySelector(L))!==null&&ne!==void 0?ne:null),this[H]}}return Q}})};r.d(s,{Mo:function(){return E},Cb:function(){return h},IO:function(){return A},SB:function(){return _}});var E=function(L){return function(D){return typeof D=="function"?function(F,X){return customElements.define(F,X),X}(L,D):function(F,X){return{kind:X.kind,elements:X.elements,finisher:function(H){customElements.define(F,H)}}}(L,D)}};function O(j){return O=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(D){return typeof D=="undefined"?"undefined":_typeof(D)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},O(j)}r(9749),r(6544),r(228),r(9373),r(9903),r(9288),r(9358),r(8077),r(1919),r(7522),r(9474),r(4254),r(752),r(1694),r(6265);var P=function(L,D){return D.kind==="method"&&D.descriptor&&!("value"in D.descriptor)?d(d({},D),{},{finisher:function(X){X.createProperty(D.key,L)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:D.key,initializer:function(){typeof D.initializer=="function"&&(this[D.key]=D.initializer.call(this))},finisher:function(X){X.createProperty(D.key,L)}}},y=function(L,D,F){D.constructor.createProperty(F,L)};function u(j){return u=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(D){return typeof D=="undefined"?"undefined":_typeof(D)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},u(j)}function p(j){return p=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(D){return typeof D=="undefined"?"undefined":_typeof(D)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},p(j)}r(429);var g,k=function(L){var D=L.finisher,F=L.descriptor;return function(X,Q){var H;if(Q===void 0){var ce=(H=X.originalKey)!==null&&H!==void 0?H:X.key,ne=F!=null?{kind:"method",placement:"prototype",key:ce,descriptor:F(X.key)}:w(w({},X),{},{key:ce});return D!=null&&(ne.finisher=function(Y){D(Y,ce)}),ne}var V=X.constructor;F!==void 0&&Object.defineProperty(X,Q,F(Q)),D==null||D(V,Q)}};function x(j){return x=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(D){return typeof D=="undefined"?"undefined":_typeof(D)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},x(j)}r(3964),r(8373),r(6793),r(7629),r(7509),r(8052),r(4284),r(3374),r(9730),(g=window.HTMLSlotElement)===null||g===void 0||g.prototype.assignedElements},1312:function(a,s,r){"use strict";var c=function(y,u){(u==null||u>y.length)&&(u=y.length);for(var p=0,g=new Array(u);p<u;p++)g[p]=y[p];return g},d=function(y,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,(k=function(x,j){if(_(x)!=="object"||x===null)return x;var L=x[Symbol.toPrimitive];if(L!==void 0){var D=L.call(x,"string");if(_(D)!=="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}(g.key),_(k)==="symbol"?k:String(k)),g)}var k},h=function(y,u){if(u&&(_(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}(y)};r.d(s,{V:function(){return O}}),r(4284),r(278),r(228),r(9358),r(4338),r(6801),r(3843),r(4043),r(7267),r(752),r(9649),r(1694),r(6265),r(7522),r(2918),r(9730),r(8052),r(50),r(9373),r(9903),r(9749),r(6544),r(9288),r(4254),r(2826),r(7049);var f=r(4817),v=r(5756);function _(P){return _=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(u){return typeof u=="undefined"?"undefined":_typeof(u)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y=="undefined"?"undefined":_typeof(y)},_(P)}function b(P,y){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,g){return p.__proto__=g,p},b(P,y)}function w(P){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},w(P)}var A="important",E=" !"+A,O=(0,v.XM)(function(P){(function(j,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(L&&L.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),L&&b(j,L)})(x,P);var y,u,p,g,k=(p=x,g=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}(),function(){var L,D=w(p);if(g){var F=w(this).constructor;L=Reflect.construct(D,arguments,F)}else L=D.apply(this,arguments);return h(this,L)});function x(j){var L,D;if(function(F,X){if(!_instanceof(F,X))throw new TypeError("Cannot call a class as a function")}(this,x),L=k.call(this,j),j.type!==v.pX.ATTRIBUTE||j.name!=="style"||((D=j.strings)===null||D===void 0?void 0:D.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");return h(L)}return y=x,(u=[{key:"render",value:function(L){return Object.keys(L).reduce(function(D,F){var X=L[F];return X==null?D:D+"".concat(F=F.includes("-")?F:F.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(X,";")},"")}},{key:"update",value:function(L,D){var F=this,X=function(Y,oe){return function(q){if(Array.isArray(q))return q}(Y)||function(q,G){var J=q==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&q[Symbol.iterator]||q["@@iterator"];if(J!=null){var ae,ie,Oe,De,ke=[],tt=!0,Ve=!1;try{if(Oe=(J=J.call(q)).next,G===0){if(Object(J)!==J)return;tt=!1}else for(;!(tt=(ae=Oe.call(J)).done)&&(ke.push(ae.value),ke.length!==G);tt=!0);}catch(Qe){Ve=!0,ie=Qe}finally{try{if(!tt&&J.return!=null&&(De=J.return(),Object(De)!==De))return}finally{if(Ve)throw ie}}return ke}}(Y,oe)||function(q,G){if(q){if(typeof q=="string")return c(q,G);var J=Object.prototype.toString.call(q).slice(8,-1);return J==="Object"&&q.constructor&&(J=q.constructor.name),J==="Map"||J==="Set"?Array.from(q):J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J)?c(q,G):void 0}}(Y,oe)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(D,1)[0],Q=L.element.style;if(this.ht===void 0){for(var H in this.ht=new Set,X)this.ht.add(H);return this.render(X)}for(var ce in this.ht.forEach(function(Y){X[Y]==null&&(F.ht.delete(Y),Y.includes("-")?Q.removeProperty(Y):Q[Y]="")}),X){var ne=X[ce];if(ne!=null){this.ht.add(ce);var V=typeof ne=="string"&&ne.endsWith(E);ce.includes("-")||V?Q.setProperty(ce,V?ne.slice(0,-11):ne,V?A:""):Q[ce]=ne}}return f.Jb}}])&&d(y.prototype,u),Object.defineProperty(y,"prototype",{writable:!1}),x}(v.Xe))},8318:function(a,s,r){"use strict";var c=function(_e,Ne){(Ne==null||Ne>_e.length)&&(Ne=_e.length);for(var Ze=0,Ke=new Array(Ne);Ze<Ne;Ze++)Ke[Ze]=_e[Ze];return Ke},d=function(_e,Ne){for(var Ze=0;Ze<Ne.length;Ze++){var Ke=Ne[Ze];Ke.enumerable=Ke.enumerable||!1,Ke.configurable=!0,"value"in Ke&&(Ke.writable=!0),Object.defineProperty(_e,(Pe=function(at,pt){if(P(at)!=="object"||at===null)return at;var lt=at[Symbol.toPrimitive];if(lt!==void 0){var ct=lt.call(at,"string");if(P(ct)!=="object")return ct;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)}(Ke.key),P(Pe)==="symbol"?Pe:String(Pe)),Ke)}var Pe},h=function(_e,Ne){var Ze=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(!Ze){if(Array.isArray(_e)||(Ze=v(_e))||Ne&&_e&&typeof _e.length=="number"){Ze&&(_e=Ze);var Ke=0,Pe=function(){};return{s:Pe,n:function(){return Ke>=_e.length?{done:!0}:{done:!1,value:_e[Ke++]}},e:function(Ge){throw Ge},f:Pe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var at,pt=!0,lt=!1;return{s:function(){Ze=Ze.call(_e)},n:function(){var Ge=Ze.next();return pt=Ge.done,Ge},e:function(Ge){lt=!0,at=Ge},f:function(){try{pt||Ze.return==null||Ze.return()}finally{if(lt)throw at}}}},f=function(_e){return function(Ne){if(Array.isArray(Ne))return _(Ne)}(_e)||function(Ne){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ne[Symbol.iterator]!=null||Ne["@@iterator"]!=null)return Array.from(Ne)}(_e)||v(_e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},v=function(_e,Ne){if(_e){if(typeof _e=="string")return _(_e,Ne);var Ze=Object.prototype.toString.call(_e).slice(8,-1);return Ze==="Object"&&_e.constructor&&(Ze=_e.constructor.name),Ze==="Map"||Ze==="Set"?Array.from(_e):Ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ze)?_(_e,Ne):void 0}},_=function(_e,Ne){(Ne==null||Ne>_e.length)&&(Ne=_e.length);for(var Ze=0,Ke=new Array(Ne);Ze<Ne;Ze++)Ke[Ze]=_e[Ze];return Ke},b=function(_e,Ne,Ze,Ke,Pe,at,pt){try{var lt=_e[at](pt),ct=lt.value}catch(Ge){return void Ze(Ge)}lt.done?Ne(ct):Promise.resolve(ct).then(Ke,Pe)},w=function(_e,Ne){for(var Ze=0;Ze<Ne.length;Ze++){var Ke=Ne[Ze];Ke.enumerable=Ke.enumerable||!1,Ke.configurable=!0,"value"in Ke&&(Ke.writable=!0),Object.defineProperty(_e,(Pe=function(at,pt){if(D(at)!=="object"||at===null)return at;var lt=at[Symbol.toPrimitive];if(lt!==void 0){var ct=lt.call(at,"string");if(D(ct)!=="object")return ct;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)}(Ke.key),D(Pe)==="symbol"?Pe:String(Pe)),Ke)}var Pe},A=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(_e){return!1}},E=function(_e,Ne){for(var Ze=0;Ze<Ne.length;Ze++){var Ke=Ne[Ze];Ke.enumerable=Ke.enumerable||!1,Ke.configurable=!0,"value"in Ke&&(Ke.writable=!0),Object.defineProperty(_e,(Pe=function(at,pt){if(tt(at)!=="object"||at===null)return at;var lt=at[Symbol.toPrimitive];if(lt!==void 0){var ct=lt.call(at,"string");if(tt(ct)!=="object")return ct;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)}(Ke.key),tt(Pe)==="symbol"?Pe:String(Pe)),Ke)}var Pe},O=function(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e};function P(Le){return P=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Ne){return typeof Ne=="undefined"?"undefined":_typeof(Ne)}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e=="undefined"?"undefined":_typeof(_e)},P(Le)}r.d(s,{oi:function(){return bt},iv:function(){return j},dy:function(){return ke.dy},Ld:function(){return ke.Ld},sY:function(){return ke.sY},YP:function(){return ke.YP}}),r(9288),r(9358),r(752),r(6646),r(228),r(1694),r(6265),r(3964),r(7522),r(2506),r(9749),r(6544),r(8052),r(4338),r(9997),r(9649),r(3374),r(2795),r(3383),r(2826),r(50),r(9373),r(9903),r(4254),r(8373),r(6793),r(7629),r(7509),r(4284),r(9730),r(7049),r(4043),r(1090),r(278),r(886);var y,u=window,p=u.ShadowRoot&&(u.ShadyCSS===void 0||u.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,g=Symbol(),k=new WeakMap,x=function(){function Le(Ze,Ke,Pe){if(function(at,pt){if(!_instanceof(at,pt))throw new TypeError("Cannot call a class as a function")}(this,Le),this._$cssResult$=!0,Pe!==g)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=Ze,this.t=Ke}var _e,Ne;return _e=Le,Ne=[{key:"styleSheet",get:function(){var Ke=this.o,Pe=this.t;if(p&&Ke===void 0){var at=Pe!==void 0&&Pe.length===1;at&&(Ke=k.get(Pe)),Ke===void 0&&((this.o=Ke=new CSSStyleSheet).replaceSync(this.cssText),at&&k.set(Pe,Ke))}return Ke}},{key:"toString",value:function(){return this.cssText}}],Ne&&d(_e.prototype,Ne),Object.defineProperty(_e,"prototype",{writable:!1}),Le}(),j=function(_e){for(var Ne=arguments.length,Ze=new Array(Ne>1?Ne-1:0),Ke=1;Ke<Ne;Ke++)Ze[Ke-1]=arguments[Ke];var Pe=_e.length===1?_e[0]:Ze.reduce(function(at,pt,lt){return at+function(ct){if(ct._$cssResult$===!0)return ct.cssText;if(typeof ct=="number")return ct;throw Error("Value passed to 'css' function must be a 'css' function result: "+ct+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(pt)+_e[lt+1]},_e[0]);return new x(Pe,_e,g)},L=p?function(_e){return _e}:function(Le){return _instanceof(Le,CSSStyleSheet)?function(_e){var Ne,Ze="",Ke=function(Pe,at){var pt=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Pe[Symbol.iterator]||Pe["@@iterator"];if(!pt){if(Array.isArray(Pe)||(pt=function(rt,it){if(rt){if(typeof rt=="string")return c(rt,it);var wt=Object.prototype.toString.call(rt).slice(8,-1);return wt==="Object"&&rt.constructor&&(wt=rt.constructor.name),wt==="Map"||wt==="Set"?Array.from(rt):wt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(wt)?c(rt,it):void 0}}(Pe))||at&&Pe&&typeof Pe.length=="number"){pt&&(Pe=pt);var lt=0,ct=function(){};return{s:ct,n:function(){return lt>=Pe.length?{done:!0}:{done:!1,value:Pe[lt++]}},e:function(it){throw it},f:ct}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ge,ze=!0,He=!1;return{s:function(){pt=pt.call(Pe)},n:function(){var it=pt.next();return ze=it.done,it},e:function(it){He=!0,Ge=it},f:function(){try{ze||pt.return==null||pt.return()}finally{if(He)throw Ge}}}}(_e.cssRules);try{for(Ke.s();!(Ne=Ke.n()).done;)Ze+=Ne.value.cssText}catch(Pe){Ke.e(Pe)}finally{Ke.f()}return function(Pe){return new x(typeof Pe=="string"?Pe:Pe+"",void 0,g)}(Ze)}(Le):Le};function D(Le){return D=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Ne){return typeof Ne=="undefined"?"undefined":_typeof(Ne)}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e=="undefined"?"undefined":_typeof(_e)},D(Le)}function F(){F=function(){return _e};var Le,_e={},Ne=Object.prototype,Ze=Ne.hasOwnProperty,Ke=Object.defineProperty||function(Ce,Ye,Be){Ce[Ye]=Be.value},Pe=typeof Symbol=="function"?Symbol:{},at=Pe.iterator||"@@iterator",pt=Pe.asyncIterator||"@@asyncIterator",lt=Pe.toStringTag||"@@toStringTag";function ct(Ce,Ye,Be){return Object.defineProperty(Ce,Ye,{value:Be,enumerable:!0,configurable:!0,writable:!0}),Ce[Ye]}try{ct({},"")}catch(Ce){ct=function(Be,Je,Tt){return Be[Je]=Tt}}function Ge(Ce,Ye,Be,Je){var Tt=Ye&&_instanceof(Ye.prototype,xt)?Ye:xt,jt=Object.create(Tt.prototype),Et=new ge(Je||[]);return Ke(jt,"_invoke",{value:ue(Ce,Be,Et)}),jt}function ze(Ce,Ye,Be){try{return{type:"normal",arg:Ce.call(Ye,Be)}}catch(Je){return{type:"throw",arg:Je}}}_e.wrap=Ge;var He="suspendedStart",rt="suspendedYield",it="executing",wt="completed",_t={};function xt(){}function ut(){}function we(){}var N={};ct(N,at,function(){return this});var qe=Object.getPrototypeOf,Ie=qe&&qe(qe(Ee([])));Ie&&Ie!==Ne&&Ze.call(Ie,at)&&(N=Ie);var nt=we.prototype=xt.prototype=Object.create(N);function R(Ce){["next","throw","return"].forEach(function(Ye){ct(Ce,Ye,function(Be){return this._invoke(Ye,Be)})})}function le(Ce,Ye){function Be(Tt,jt,Et,Zt){var Nt=ze(Ce[Tt],Ce,jt);if(Nt.type!=="throw"){var Ft=Nt.arg,Dt=Ft.value;return Dt&&D(Dt)=="object"&&Ze.call(Dt,"__await")?Ye.resolve(Dt.__await).then(function(Jt){Be("next",Jt,Et,Zt)},function(Jt){Be("throw",Jt,Et,Zt)}):Ye.resolve(Dt).then(function(Jt){Ft.value=Jt,Et(Ft)},function(Jt){return Be("throw",Jt,Et,Zt)})}Zt(Nt.arg)}var Je;Ke(this,"_invoke",{value:function(jt,Et){function Zt(){return new Ye(function(Nt,Ft){Be(jt,Et,Nt,Ft)})}return Je=Je?Je.then(Zt,Zt):Zt()}})}function ue(Ce,Ye,Be){var Je=He;return function(Tt,jt){if(Je===it)throw new Error("Generator is already running");if(Je===wt){if(Tt==="throw")throw jt;return{value:Le,done:!0}}for(Be.method=Tt,Be.arg=jt;;){var Et=Be.delegate;if(Et){var Zt=ve(Et,Be);if(Zt){if(Zt===_t)continue;return Zt}}if(Be.method==="next")Be.sent=Be._sent=Be.arg;else if(Be.method==="throw"){if(Je===He)throw Je=wt,Be.arg;Be.dispatchException(Be.arg)}else Be.method==="return"&&Be.abrupt("return",Be.arg);Je=it;var Nt=ze(Ce,Ye,Be);if(Nt.type==="normal"){if(Je=Be.done?wt:rt,Nt.arg===_t)continue;return{value:Nt.arg,done:Be.done}}Nt.type==="throw"&&(Je=wt,Be.method="throw",Be.arg=Nt.arg)}}}function ve(Ce,Ye){var Be=Ye.method,Je=Ce.iterator[Be];if(Je===Le)return Ye.delegate=null,Be==="throw"&&Ce.iterator.return&&(Ye.method="return",Ye.arg=Le,ve(Ce,Ye),Ye.method==="throw")||Be!=="return"&&(Ye.method="throw",Ye.arg=new TypeError("The iterator does not provide a '"+Be+"' method")),_t;var Tt=ze(Je,Ce.iterator,Ye.arg);if(Tt.type==="throw")return Ye.method="throw",Ye.arg=Tt.arg,Ye.delegate=null,_t;var jt=Tt.arg;return jt?jt.done?(Ye[Ce.resultName]=jt.value,Ye.next=Ce.nextLoc,Ye.method!=="return"&&(Ye.method="next",Ye.arg=Le),Ye.delegate=null,_t):jt:(Ye.method="throw",Ye.arg=new TypeError("iterator result is not an object"),Ye.delegate=null,_t)}function de(Ce){var Ye={tryLoc:Ce[0]};1 in Ce&&(Ye.catchLoc=Ce[1]),2 in Ce&&(Ye.finallyLoc=Ce[2],Ye.afterLoc=Ce[3]),this.tryEntries.push(Ye)}function K(Ce){var Ye=Ce.completion||{};Ye.type="normal",delete Ye.arg,Ce.completion=Ye}function ge(Ce){this.tryEntries=[{tryLoc:"root"}],Ce.forEach(de,this),this.reset(!0)}function Ee(Ce){if(Ce||Ce===""){var Ye=Ce[at];if(Ye)return Ye.call(Ce);if(typeof Ce.next=="function")return Ce;if(!isNaN(Ce.length)){var Be=-1,Je=function Tt(){for(;++Be<Ce.length;)if(Ze.call(Ce,Be))return Tt.value=Ce[Be],Tt.done=!1,Tt;return Tt.value=Le,Tt.done=!0,Tt};return Je.next=Je}}throw new TypeError(D(Ce)+" is not iterable")}return ut.prototype=we,Ke(nt,"constructor",{value:we,configurable:!0}),Ke(we,"constructor",{value:ut,configurable:!0}),ut.displayName=ct(we,lt,"GeneratorFunction"),_e.isGeneratorFunction=function(Ce){var Ye=typeof Ce=="function"&&Ce.constructor;return!!Ye&&(Ye===ut||(Ye.displayName||Ye.name)==="GeneratorFunction")},_e.mark=function(Ce){return Object.setPrototypeOf?Object.setPrototypeOf(Ce,we):(Ce.__proto__=we,ct(Ce,lt,"GeneratorFunction")),Ce.prototype=Object.create(nt),Ce},_e.awrap=function(Ce){return{__await:Ce}},R(le.prototype),ct(le.prototype,pt,function(){return this}),_e.AsyncIterator=le,_e.async=function(Ce,Ye,Be,Je,Tt){Tt===void 0&&(Tt=Promise);var jt=new le(Ge(Ce,Ye,Be,Je),Tt);return _e.isGeneratorFunction(Ye)?jt:jt.next().then(function(Et){return Et.done?Et.value:jt.next()})},R(nt),ct(nt,lt,"Generator"),ct(nt,at,function(){return this}),ct(nt,"toString",function(){return"[object Generator]"}),_e.keys=function(Ce){var Ye=Object(Ce),Be=[];for(var Je in Ye)Be.push(Je);return Be.reverse(),function Tt(){for(;Be.length;){var jt=Be.pop();if(jt in Ye)return Tt.value=jt,Tt.done=!1,Tt}return Tt.done=!0,Tt}},_e.values=Ee,ge.prototype={constructor:ge,reset:function(Ye){if(this.prev=0,this.next=0,this.sent=this._sent=Le,this.done=!1,this.delegate=null,this.method="next",this.arg=Le,this.tryEntries.forEach(K),!Ye)for(var Be in this)Be.charAt(0)==="t"&&Ze.call(this,Be)&&!isNaN(+Be.slice(1))&&(this[Be]=Le)},stop:function(){this.done=!0;var Ye=this.tryEntries[0].completion;if(Ye.type==="throw")throw Ye.arg;return this.rval},dispatchException:function(Ye){if(this.done)throw Ye;var Be=this;function Je(Ft,Dt){return Et.type="throw",Et.arg=Ye,Be.next=Ft,Dt&&(Be.method="next",Be.arg=Le),!!Dt}for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var jt=this.tryEntries[Tt],Et=jt.completion;if(jt.tryLoc==="root")return Je("end");if(jt.tryLoc<=this.prev){var Zt=Ze.call(jt,"catchLoc"),Nt=Ze.call(jt,"finallyLoc");if(Zt&&Nt){if(this.prev<jt.catchLoc)return Je(jt.catchLoc,!0);if(this.prev<jt.finallyLoc)return Je(jt.finallyLoc)}else if(Zt){if(this.prev<jt.catchLoc)return Je(jt.catchLoc,!0)}else{if(!Nt)throw new Error("try statement without catch or finally");if(this.prev<jt.finallyLoc)return Je(jt.finallyLoc)}}}},abrupt:function(Ye,Be){for(var Je=this.tryEntries.length-1;Je>=0;--Je){var Tt=this.tryEntries[Je];if(Tt.tryLoc<=this.prev&&Ze.call(Tt,"finallyLoc")&&this.prev<Tt.finallyLoc){var jt=Tt;break}}jt&&(Ye==="break"||Ye==="continue")&&jt.tryLoc<=Be&&Be<=jt.finallyLoc&&(jt=null);var Et=jt?jt.completion:{};return Et.type=Ye,Et.arg=Be,jt?(this.method="next",this.next=jt.finallyLoc,_t):this.complete(Et)},complete:function(Ye,Be){if(Ye.type==="throw")throw Ye.arg;return Ye.type==="break"||Ye.type==="continue"?this.next=Ye.arg:Ye.type==="return"?(this.rval=this.arg=Ye.arg,this.method="return",this.next="end"):Ye.type==="normal"&&Be&&(this.next=Be),_t},finish:function(Ye){for(var Be=this.tryEntries.length-1;Be>=0;--Be){var Je=this.tryEntries[Be];if(Je.finallyLoc===Ye)return this.complete(Je.completion,Je.afterLoc),K(Je),_t}},catch:function(Ye){for(var Be=this.tryEntries.length-1;Be>=0;--Be){var Je=this.tryEntries[Be];if(Je.tryLoc===Ye){var Tt=Je.completion;if(Tt.type==="throw"){var jt=Tt.arg;K(Je)}return jt}}throw new Error("illegal catch attempt")},delegateYield:function(Ye,Be,Je){return this.delegate={iterator:Ee(Ye),resultName:Be,nextLoc:Je},this.method==="next"&&(this.arg=Le),_t}},_e}function X(Le){var _e=typeof Map=="function"?new Map:void 0;return X=function(Ze){if(Ze===null||!function(Pe){try{return Function.toString.call(Pe).indexOf("[native code]")!==-1}catch(at){return typeof Pe=="function"}}(Ze))return Ze;if(typeof Ze!="function")throw new TypeError("Super expression must either be null or a function");if(_e!==void 0){if(_e.has(Ze))return _e.get(Ze);_e.set(Ze,Ke)}function Ke(){return Q(Ze,arguments,ce(this).constructor)}return Ke.prototype=Object.create(Ze.prototype,{constructor:{value:Ke,enumerable:!1,writable:!0,configurable:!0}}),H(Ke,Ze)},X(Le)}function Q(Le,_e,Ne){return Q=A()?Reflect.construct.bind():function(Ke,Pe,at){var pt=[null];pt.push.apply(pt,Pe);var lt=new(Function.bind.apply(Ke,pt));return at&&H(lt,at.prototype),lt},Q.apply(null,arguments)}function H(Le,_e){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ze,Ke){return Ze.__proto__=Ke,Ze},H(Le,_e)}function ce(Le){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ne){return Ne.__proto__||Object.getPrototypeOf(Ne)},ce(Le)}var ne=window,V=ne.trustedTypes,Y=V?V.emptyScript:"",oe=ne.reactiveElementPolyfillSupport,q={toAttribute:function(_e,Ne){switch(Ne){case Boolean:_e=_e?Y:null;break;case Object:case Array:_e=_e==null?_e:JSON.stringify(_e)}return _e},fromAttribute:function(_e,Ne){var Ze=_e;switch(Ne){case Boolean:Ze=_e!==null;break;case Number:Ze=_e===null?null:Number(_e);break;case Object:case Array:try{Ze=JSON.parse(_e)}catch(Ke){Ze=null}}return Ze}},G=function(_e,Ne){return Ne!==_e&&(Ne==Ne||_e==_e)},J={attribute:!0,type:String,converter:q,reflect:!1,hasChanged:G},ae="finalized",ie=function(Le){(function(Ge,ze){if(typeof ze!="function"&&ze!==null)throw new TypeError("Super expression must either be null or a function");Ge.prototype=Object.create(ze&&ze.prototype,{constructor:{value:Ge,writable:!0,configurable:!0}}),Object.defineProperty(Ge,"prototype",{writable:!1}),ze&&H(Ge,ze)})(ct,Le);var _e,Ne,Ze,Ke,Pe,at,pt,lt=(at=ct,pt=A(),function(){var ze,He=ce(at);if(pt){var rt=ce(this).constructor;ze=Reflect.construct(He,arguments,rt)}else ze=He.apply(this,arguments);return function(it,wt){if(wt&&(D(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_t){if(_t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _t}(it)}(this,ze)});function ct(){var Ge;return function(ze,He){if(!_instanceof(ze,He))throw new TypeError("Cannot call a class as a function")}(this,ct),(Ge=lt.call(this))._$Ei=new Map,Ge.isUpdatePending=!1,Ge.hasUpdated=!1,Ge._$El=null,Ge._$Eu(),Ge}return _e=ct,Ne=[{key:"_$Eu",value:function(){var ze,He=this;this._$E_=new Promise(function(rt){return He.enableUpdating=rt}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(ze=this.constructor.h)===null||ze===void 0||ze.forEach(function(rt){return rt(He)})}},{key:"addController",value:function(ze){var He,rt;((He=this._$ES)!==null&&He!==void 0?He:this._$ES=[]).push(ze),this.renderRoot!==void 0&&this.isConnected&&((rt=ze.hostConnected)===null||rt===void 0||rt.call(ze))}},{key:"removeController",value:function(ze){var He;(He=this._$ES)===null||He===void 0||He.splice(this._$ES.indexOf(ze)>>>0,1)}},{key:"_$Eg",value:function(){var ze=this;this.constructor.elementProperties.forEach(function(He,rt){ze.hasOwnProperty(rt)&&(ze._$Ei.set(rt,ze[rt]),delete ze[rt])})}},{key:"createRenderRoot",value:function(){var ze,He=(ze=this.shadowRoot)!==null&&ze!==void 0?ze:this.attachShadow(this.constructor.shadowRootOptions);return function(rt,it){p?rt.adoptedStyleSheets=it.map(function(wt){return _instanceof(wt,CSSStyleSheet)?wt:wt.styleSheet}):it.forEach(function(wt){var _t=document.createElement("style"),xt=u.litNonce;xt!==void 0&&_t.setAttribute("nonce",xt),_t.textContent=wt.cssText,rt.appendChild(_t)})}(He,this.constructor.elementStyles),He}},{key:"connectedCallback",value:function(){var ze;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(ze=this._$ES)===null||ze===void 0||ze.forEach(function(He){var rt;return(rt=He.hostConnected)===null||rt===void 0?void 0:rt.call(He)})}},{key:"enableUpdating",value:function(ze){}},{key:"disconnectedCallback",value:function(){var ze;(ze=this._$ES)===null||ze===void 0||ze.forEach(function(He){var rt;return(rt=He.hostDisconnected)===null||rt===void 0?void 0:rt.call(He)})}},{key:"attributeChangedCallback",value:function(ze,He,rt){this._$AK(ze,rt)}},{key:"_$EO",value:function(ze,He){var rt,it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J,wt=this.constructor._$Ep(ze,it);if(wt!==void 0&&it.reflect===!0){var _t=(((rt=it.converter)===null||rt===void 0?void 0:rt.toAttribute)!==void 0?it.converter:q).toAttribute(He,it.type);this._$El=ze,_t==null?this.removeAttribute(wt):this.setAttribute(wt,_t),this._$El=null}}},{key:"_$AK",value:function(ze,He){var rt,it=this.constructor,wt=it._$Ev.get(ze);if(wt!==void 0&&this._$El!==wt){var _t=it.getPropertyOptions(wt),xt=typeof _t.converter=="function"?{fromAttribute:_t.converter}:((rt=_t.converter)===null||rt===void 0?void 0:rt.fromAttribute)!==void 0?_t.converter:q;this._$El=wt,this[wt]=xt.fromAttribute(He,_t.type),this._$El=null}}},{key:"requestUpdate",value:function(ze,He,rt){var it=!0;ze!==void 0&&(((rt=rt||this.constructor.getPropertyOptions(ze)).hasChanged||G)(this[ze],He)?(this._$AL.has(ze)||this._$AL.set(ze,He),rt.reflect===!0&&this._$El!==ze&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(ze,rt))):it=!1),!this.isUpdatePending&&it&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(Ke=F().mark(function Ge(){var ze;return F().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return this.isUpdatePending=!0,He.prev=1,He.next=4,this._$E_;case 4:He.next=9;break;case 6:He.prev=6,He.t0=He.catch(1),Promise.reject(He.t0);case 9:if(ze=this.scheduleUpdate(),He.t1=ze!=null,!He.t1){He.next=14;break}return He.next=14,ze;case 14:return He.abrupt("return",!this.isUpdatePending);case 15:case"end":return He.stop()}},Ge,this,[[1,6]])}),Pe=function(){var ze=this,He=arguments;return new Promise(function(rt,it){var wt=Ke.apply(ze,He);function _t(ut){b(wt,rt,it,_t,xt,"next",ut)}function xt(ut){b(wt,rt,it,_t,xt,"throw",ut)}_t(void 0)})},function(){return Pe.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var ze,He=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(wt,_t){return He[_t]=wt}),this._$Ei=void 0);var rt=!1,it=this._$AL;try{(rt=this.shouldUpdate(it))?(this.willUpdate(it),(ze=this._$ES)===null||ze===void 0||ze.forEach(function(wt){var _t;return(_t=wt.hostUpdate)===null||_t===void 0?void 0:_t.call(wt)}),this.update(it)):this._$Ek()}catch(wt){throw rt=!1,this._$Ek(),wt}rt&&this._$AE(it)}}},{key:"willUpdate",value:function(ze){}},{key:"_$AE",value:function(ze){var He;(He=this._$ES)===null||He===void 0||He.forEach(function(rt){var it;return(it=rt.hostUpdated)===null||it===void 0?void 0:it.call(rt)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(ze)),this.updated(ze)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(ze){return!0}},{key:"update",value:function(ze){var He=this;this._$EC!==void 0&&(this._$EC.forEach(function(rt,it){return He._$EO(it,He[it],rt)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(ze){}},{key:"firstUpdated",value:function(ze){}}],Ze=[{key:"addInitializer",value:function(ze){var He;this.finalize(),((He=this.h)!==null&&He!==void 0?He:this.h=[]).push(ze)}},{key:"observedAttributes",get:function(){var ze=this;this.finalize();var He=[];return this.elementProperties.forEach(function(rt,it){var wt=ze._$Ep(it,rt);wt!==void 0&&(ze._$Ev.set(wt,it),He.push(wt))}),He}},{key:"createProperty",value:function(ze){var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J;if(He.state&&(He.attribute=!1),this.finalize(),this.elementProperties.set(ze,He),!He.noAccessor&&!this.prototype.hasOwnProperty(ze)){var rt=D(ze)=="symbol"?Symbol():"__"+ze,it=this.getPropertyDescriptor(ze,rt,He);it!==void 0&&Object.defineProperty(this.prototype,ze,it)}}},{key:"getPropertyDescriptor",value:function(ze,He,rt){return{get:function(){return this[He]},set:function(wt){var _t=this[ze];this[He]=wt,this.requestUpdate(ze,_t,rt)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(ze){return this.elementProperties.get(ze)||J}},{key:"finalize",value:function(){if(this.hasOwnProperty(ae))return!1;this[ae]=!0;var ze=Object.getPrototypeOf(this);if(ze.finalize(),ze.h!==void 0&&(this.h=f(ze.h)),this.elementProperties=new Map(ze.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var He,rt=this.properties,it=h([].concat(f(Object.getOwnPropertyNames(rt)),f(Object.getOwnPropertySymbols(rt))));try{for(it.s();!(He=it.n()).done;){var wt=He.value;this.createProperty(wt,rt[wt])}}catch(_t){it.e(_t)}finally{it.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(ze){var He=[];if(Array.isArray(ze)){var rt,it=h(new Set(ze.flat(1/0).reverse()));try{for(it.s();!(rt=it.n()).done;){var wt=rt.value;He.unshift(L(wt))}}catch(_t){it.e(_t)}finally{it.f()}}else ze!==void 0&&He.push(L(ze));return He}},{key:"_$Ep",value:function(ze,He){var rt=He.attribute;return rt===!1?void 0:typeof rt=="string"?rt:typeof ze=="string"?ze.toLowerCase():void 0}}],Ne&&w(_e.prototype,Ne),Ze&&w(_e,Ze),Object.defineProperty(_e,"prototype",{writable:!1}),ct}(X(HTMLElement));ie[ae]=!0,ie.elementProperties=new Map,ie.elementStyles=[],ie.shadowRootOptions={mode:"open"},oe==null||oe({ReactiveElement:ie}),((y=ne.reactiveElementVersions)!==null&&y!==void 0?y:ne.reactiveElementVersions=[]).push("1.6.3");var Oe,De,ke=r(4817);function tt(Le){return tt=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Ne){return typeof Ne=="undefined"?"undefined":_typeof(Ne)}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e=="undefined"?"undefined":_typeof(_e)},tt(Le)}function Ve(){return Ve=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(_e,Ne,Ze){var Ke=function(at,pt){for(;!Object.prototype.hasOwnProperty.call(at,pt)&&(at=ht(at))!==null;);return at}(_e,Ne);if(Ke){var Pe=Object.getOwnPropertyDescriptor(Ke,Ne);return Pe.get?Pe.get.call(arguments.length<3?_e:Ze):Pe.value}},Ve.apply(this,arguments)}function Qe(Le,_e){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ze,Ke){return Ze.__proto__=Ke,Ze},Qe(Le,_e)}function ht(Le){return ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ne){return Ne.__proto__||Object.getPrototypeOf(Ne)},ht(Le)}r(8832),r(2349),r(1919);var bt=function(Le){(function(pt,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Super expression must either be null or a function");pt.prototype=Object.create(lt&&lt.prototype,{constructor:{value:pt,writable:!0,configurable:!0}}),Object.defineProperty(pt,"prototype",{writable:!1}),lt&&Qe(pt,lt)})(at,Le);var _e,Ne,Ze,Ke,Pe=(Ze=at,Ke=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(pt){return!1}}(),function(){var lt,ct=ht(Ze);if(Ke){var Ge=ht(this).constructor;lt=Reflect.construct(ct,arguments,Ge)}else lt=ct.apply(this,arguments);return function(ze,He){if(He&&(tt(He)==="object"||typeof He=="function"))return He;if(He!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(ze)}(this,lt)});function at(){var pt;return function(lt,ct){if(!_instanceof(lt,ct))throw new TypeError("Cannot call a class as a function")}(this,at),(pt=Pe.apply(this,arguments)).renderOptions={host:O(pt)},pt._$Do=void 0,pt}return _e=at,Ne=[{key:"createRenderRoot",value:function(){var lt,ct,Ge=Ve(ht(at.prototype),"createRenderRoot",this).call(this);return(lt=(ct=this.renderOptions).renderBefore)!==null&&lt!==void 0||(ct.renderBefore=Ge.firstChild),Ge}},{key:"update",value:function(lt){var ct=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),Ve(ht(at.prototype),"update",this).call(this,lt),this._$Do=(0,ke.sY)(ct,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var lt;Ve(ht(at.prototype),"connectedCallback",this).call(this),(lt=this._$Do)===null||lt===void 0||lt.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var lt;Ve(ht(at.prototype),"disconnectedCallback",this).call(this),(lt=this._$Do)===null||lt===void 0||lt.setConnected(!1)}},{key:"render",value:function(){return ke.Jb}}],Ne&&E(_e.prototype,Ne),Object.defineProperty(_e,"prototype",{writable:!1}),at}(ie);bt.finalized=!0,bt._$litElement$=!0,(Oe=globalThis.litElementHydrateSupport)===null||Oe===void 0||Oe.call(globalThis,{LitElement:bt});var vt=globalThis.litElementPolyfillSupport;vt==null||vt({LitElement:bt}),((De=globalThis.litElementVersions)!==null&&De!==void 0?De:globalThis.litElementVersions=[]).push("3.3.3")}},n={};function o(a){var s=n[a];if(s!==void 0)return s.exports;var r=n[a]={id:a,loaded:!1,exports:{}};return e[a].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=e,t=[],o.O=function(a,s,r,c){if(!s){var d=1/0;for(b=0;b<t.length;b++){var h=function(w,A){(!1&c||d>=c)&&Object.keys(o.O).every(function(E){return o.O[E](s[A])})?s.splice(A--,1):(w=!1,c<d&&(d=c)),v=A,f=w};s=t[b][0],r=t[b][1],c=t[b][2];for(var f=!0,v=0;v<s.length;v++)h(f,v);if(f){t.splice(b--,1);var _=r();_!==void 0&&(a=_)}}return a}c=c||0;for(var b=t.length;b>0&&t[b-1][2]>c;b--)t[b]=t[b-1];t[b]=[s,r,c]},o.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(s,{a:s}),s},o.d=function(a,s){for(var r in s)o.o(s,r)&&!o.o(a,r)&&Object.defineProperty(a,r,{enumerable:!0,get:s[r]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(a){if(typeof window=="object")return window}}(),o.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},o.r=function(a){(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.nmd=function(a){return a.paths=[],a.children||(a.children=[]),a},function(){var a={898:0};o.O.j=function(c){return a[c]===0};var s=function(d,h){var f,v,_=h[0],b=h[1],w=h[2],A=0;if(_.some(function(O){return a[O]!==0})){for(f in b)o.o(b,f)&&(o.m[f]=b[f]);if(w)var E=w(o)}for(d&&d(h);A<_.length;A++)v=_[A],o.o(a,v)&&a[v]&&a[v][0](),a[v]=0;return o.O(E)},r=self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[];r.forEach(s.bind(null,0)),r.push=s.bind(null,r.push.bind(r))}();var l={};(function(){"use strict";var a=function(M,S){for(var T=0;T<S.length;T++){var I=S[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,(z=function(U,re){if(Ye(U)!=="object"||U===null)return U;var he=U[Symbol.toPrimitive];if(he!==void 0){var Se=he.call(U,"string");if(Ye(Se)!=="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(I.key),Ye(z)==="symbol"?z:String(z)),I)}var z},s=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(M){return!1}},r=function(M,S){(S==null||S>M.length)&&(S=M.length);for(var T=0,I=new Array(S);T<S;T++)I[T]=M[T];return I},c=function(M,S){for(var T=0;T<S.length;T++){var I=S[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,(z=function(U,re){if(Jt(U)!=="object"||U===null)return U;var he=U[Symbol.toPrimitive];if(he!==void 0){var Se=he.call(U,"string");if(Jt(Se)!=="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(I.key),Jt(z)==="symbol"?z:String(z)),I)}var z},d=function(M,S,T,I){var z=window.screenLeft!=null?window.screenLeft:screen.left,U=window.screenTop!=null?window.screenTop:screen.top,re=(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-S/2+z,he=(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-T/2+U,Se="status=1,width=".concat(S,",height=").concat(T,",top=").concat(he,",left=").concat(re);window.open(M,I,Se)},h=function(M,S){var T=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&M[Symbol.iterator]||M["@@iterator"];if(!T){if(Array.isArray(M)||(T=function(Se,We){if(Se){if(typeof Se=="string")return f(Se,We);var kt=Object.prototype.toString.call(Se).slice(8,-1);return kt==="Object"&&Se.constructor&&(kt=Se.constructor.name),kt==="Map"||kt==="Set"?Array.from(Se):kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(kt)?f(Se,We):void 0}}(M))||S&&M&&typeof M.length=="number"){T&&(M=T);var I=0,z=function(){};return{s:z,n:function(){return I>=M.length?{done:!0}:{done:!1,value:M[I++]}},e:function(We){throw We},f:z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var U,re=!0,he=!1;return{s:function(){T=T.call(M)},n:function(){var We=T.next();return re=We.done,We},e:function(We){he=!0,U=We},f:function(){try{re||T.return==null||T.return()}finally{if(he)throw U}}}},f=function(M,S){(S==null||S>M.length)&&(S=M.length);for(var T=0,I=new Array(S);T<S;T++)I[T]=M[T];return I},v=function(M,S){if(!_instanceof(M,S))throw new TypeError("Cannot call a class as a function")},_=function(M,S){for(var T=0;T<S.length;T++){var I=S[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,(z=function(U,re){if(gn(U)!=="object"||U===null)return U;var he=U[Symbol.toPrimitive];if(he!==void 0){var Se=he.call(U,"string");if(gn(Se)!=="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(I.key),gn(z)==="symbol"?z:String(z)),I)}var z},b=function(M,S,T){return S&&_(M.prototype,S),T&&_(M,T),Object.defineProperty(M,"prototype",{writable:!1}),M},w=function(M,S,T,I,z,U,re){try{var he=M[U](re),Se=he.value}catch(We){return void T(We)}he.done?S(Se):Promise.resolve(Se).then(I,z)},A=function(M){return function(){var S=this,T=arguments;return new Promise(function(I,z){var U=M.apply(S,T);function re(Se){w(U,I,z,re,he,"next",Se)}function he(Se){w(U,I,z,re,he,"throw",Se)}re(void 0)})}},E=function(M,S){if(!_instanceof(M,S))throw new TypeError("Cannot call a class as a function")},O=function(M,S){for(var T=0;T<S.length;T++){var I=S[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,u(I.key),I)}},P=function(M,S,T){return S&&O(M.prototype,S),T&&O(M,T),Object.defineProperty(M,"prototype",{writable:!1}),M},y=function(M,S,T){return(S=u(S))in M?Object.defineProperty(M,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):M[S]=T,M},u=function(M){var S=function(T,I){if(ot(T)!=="object"||T===null)return T;var z=T[Symbol.toPrimitive];if(z!==void 0){var U=z.call(T,"string");if(ot(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(M);return ot(S)==="symbol"?S:String(S)},p=function(M,S){for(var T=0;T<S.length;T++){var I=S[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,k(I.key),I)}},g=function(M,S,T){return(S=k(S))in M?Object.defineProperty(M,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):M[S]=T,M},k=function(M){var S=function(T,I){if(bn(T)!=="object"||T===null)return T;var z=T[Symbol.toPrimitive];if(z!==void 0){var U=z.call(T,"string");if(bn(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(M);return bn(S)==="symbol"?S:String(S)},x=function(M,S){for(var T=0;T<S.length;T++){var I=S[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,j(I.key),I)}},j=function(M){var S=function(T,I){if(Ln(T)!=="object"||T===null)return T;var z=T[Symbol.toPrimitive];if(z!==void 0){var U=z.call(T,"string");if(Ln(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(M);return Ln(S)==="symbol"?S:String(S)},L=function(M,S){for(var T=0;T<S.length;T++){var I=S[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,X(I.key),I)}},D=function(M,S,T){return S&&L(M.prototype,S),T&&L(M,T),Object.defineProperty(M,"prototype",{writable:!1}),M},F=function(M,S,T){return(S=X(S))in M?Object.defineProperty(M,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):M[S]=T,M},X=function(M){var S=function(T,I){if(ui(T)!=="object"||T===null)return T;var z=T[Symbol.toPrimitive];if(z!==void 0){var U=z.call(T,"string");if(ui(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(M);return ui(S)==="symbol"?S:String(S)},Q=function(M){return function(S){if(Array.isArray(S))return J(S)}(M)||ae(M)||G(M)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},H=function(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M},ce=function(M){var S,T=q(M.key);M.kind==="method"?S={value:M.value,writable:!0,configurable:!0,enumerable:!1}:M.kind==="get"?S={get:M.value,configurable:!0,enumerable:!1}:M.kind==="set"?S={set:M.value,configurable:!0,enumerable:!1}:M.kind==="field"&&(S={configurable:!0,writable:!0,enumerable:!0});var I={kind:M.kind==="field"?"field":"method",key:T,placement:M.static?"static":M.kind==="field"?"own":"prototype",descriptor:S};return M.decorators&&(I.decorators=M.decorators),M.kind==="field"&&(I.initializer=M.value),I},ne=function(M,S){M.descriptor.get!==void 0?S.descriptor.get=M.descriptor.get:S.descriptor.set=M.descriptor.set},V=function(M){return M.decorators&&M.decorators.length},Y=function(M){return M!==void 0&&!(M.value===void 0&&M.writable===void 0)},oe=function(M,S){var T=M[S];if(T!==void 0&&typeof T!="function")throw new TypeError("Expected '"+S+"' to be a function");return T},q=function(M){var S=function(T,I){if(Ri(T)!=="object"||T===null)return T;var z=T[Symbol.toPrimitive];if(z!==void 0){var U=z.call(T,"string");if(Ri(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(M);return Ri(S)==="symbol"?S:String(S)},G=function(M,S){if(M){if(typeof M=="string")return J(M,S);var T=Object.prototype.toString.call(M).slice(8,-1);return T==="Object"&&M.constructor&&(T=M.constructor.name),T==="Map"||T==="Set"?Array.from(M):T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T)?J(M,S):void 0}},J=function(M,S){(S==null||S>M.length)&&(S=M.length);for(var T=0,I=new Array(S);T<S;T++)I[T]=M[T];return I},ae=function(M){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)},ie=function(M,S){for(var T=0;T<S.length;T++){var I=S[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,De(I.key),I)}},Oe=function(M,S,T){return(S=De(S))in M?Object.defineProperty(M,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):M[S]=T,M},De=function(M){var S=function(T,I){if(ei(T)!=="object"||T===null)return T;var z=T[Symbol.toPrimitive];if(z!==void 0){var U=z.call(T,"string");if(ei(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(M);return ei(S)==="symbol"?S:String(S)},ke=function(M,S){return M.split(" ").map(function(T){return T+S}).join(" ")},tt=function(M){var S,T;return M.clientX!==void 0?(S=M.clientX,T=M.clientY):M.screenX!==void 0?(S=M.screenX,T=M.screenY):M.targetTouches!==void 0?(S=M.targetTouches[0].pageX,T=M.targetTouches[0].pageY):M.originalEvent===void 0?console.error("don't understand x and y for "+M.type,M):M.originalEvent.clientX!==void 0?(S=M.originalEvent.clientX,T=M.originalEvent.clientY):M.originalEvent.screenX!==void 0?(S=M.originalEvent.screenX,T=M.originalEvent.screenY):M.originalEvent.targetTouches!==void 0&&(S=M.originalEvent.targetTouches[0].pageX,T=M.originalEvent.targetTouches[0].pageY),{left:S,top:T}},Ve=function(M,S,T,I,z,U,re){try{var he=M[U](re),Se=he.value}catch(We){return void T(We)}he.done?S(Se):Promise.resolve(Se).then(I,z)},Qe=function(M){return function(){var S=this,T=arguments;return new Promise(function(I,z){var U=M.apply(S,T);function re(Se){Ve(U,I,z,re,he,"next",Se)}function he(Se){Ve(U,I,z,re,he,"throw",Se)}re(void 0)})}},ht=function(M,S){for(var T=0;T<S.length;T++){var I=S[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,(z=function(U,re){if(en(U)!=="object"||U===null)return U;var he=U[Symbol.toPrimitive];if(he!==void 0){var Se=he.call(U,"string");if(en(Se)!=="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(I.key),en(z)==="symbol"?z:String(z)),I)}var z},bt=function(M,S){return S||(S=M.slice(0)),Object.freeze(Object.defineProperties(M,{raw:{value:Object.freeze(S)}}))},vt=function(M,S,T,I,z,U,re){try{var he=M[U](re),Se=he.value}catch(We){return void T(We)}he.done?S(Se):Promise.resolve(Se).then(I,z)},Le=function(M){return function(){var S=this,T=arguments;return new Promise(function(I,z){var U=M.apply(S,T);function re(Se){vt(U,I,z,re,he,"next",Se)}function he(Se){vt(U,I,z,re,he,"throw",Se)}re(void 0)})}},_e=function(M,S){for(var T=0;T<S.length;T++){var I=S[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,rt(I.key),I)}},Ne=function(M,S,T){return S&&_e(M.prototype,S),T&&_e(M,T),Object.defineProperty(M,"prototype",{writable:!1}),M},Ze=function(M,S){if(!_instanceof(M,S))throw new TypeError("Cannot call a class as a function")},Ke=function(M,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(S&&S.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),S&&ln(M,S)},Pe=function(M){var S=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(T){return!1}}();return function(){var T,I=Hn(M);if(S){var z=Hn(this).constructor;T=Reflect.construct(I,arguments,z)}else T=I.apply(this,arguments);return function(U,re){if(re&&(di(re)==="object"||typeof re=="function"))return re;if(re!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return at(U)}(this,T)}},at=function(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M},pt=function(M,S,T,I){var z=dn();if(I)for(var U=0;U<I.length;U++)z=I[U](z);var re=S(function(Se){z.initializeInstanceElements(Se,he.elements)},T),he=z.decorateClass(function(Se){for(var We=[],kt=function(nn){return nn.kind==="method"&&nn.key===Yt.key&&nn.placement===Yt.placement},Pt=0;Pt<Se.length;Pt++){var Ht,Yt=Se[Pt];if(Yt.kind==="method"&&(Ht=We.find(kt)))if(ze(Yt.descriptor)||ze(Ht.descriptor)){if(Ge(Yt)||Ge(Ht))throw new ReferenceError("Duplicated methods ("+Yt.key+") can't be decorated.");Ht.descriptor=Yt.descriptor}else{if(Ge(Yt)){if(Ge(Ht))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+Yt.key+").");Ht.decorators=Yt.decorators}ct(Yt,Ht)}else We.push(Yt)}return We}(re.d.map(lt)),M);return z.initializeClassElements(re.F,he.elements),z.runClassFinishers(re.F,he.finishers)},lt=function(M){var S,T=rt(M.key);M.kind==="method"?S={value:M.value,writable:!0,configurable:!0,enumerable:!1}:M.kind==="get"?S={get:M.value,configurable:!0,enumerable:!1}:M.kind==="set"?S={set:M.value,configurable:!0,enumerable:!1}:M.kind==="field"&&(S={configurable:!0,writable:!0,enumerable:!0});var I={kind:M.kind==="field"?"field":"method",key:T,placement:M.static?"static":M.kind==="field"?"own":"prototype",descriptor:S};return M.decorators&&(I.decorators=M.decorators),M.kind==="field"&&(I.initializer=M.value),I},ct=function(M,S){M.descriptor.get!==void 0?S.descriptor.get=M.descriptor.get:S.descriptor.set=M.descriptor.set},Ge=function(M){return M.decorators&&M.decorators.length},ze=function(M){return M!==void 0&&!(M.value===void 0&&M.writable===void 0)},He=function(M,S){var T=M[S];if(T!==void 0&&typeof T!="function")throw new TypeError("Expected '"+S+"' to be a function");return T},rt=function(M){var S=function(T,I){if(di(T)!=="object"||T===null)return T;var z=T[Symbol.toPrimitive];if(z!==void 0){var U=z.call(T,"string");if(di(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(M);return di(S)==="symbol"?S:String(S)},it=function(M,S){if(M){if(typeof M=="string")return wt(M,S);var T=Object.prototype.toString.call(M).slice(8,-1);return T==="Object"&&M.constructor&&(T=M.constructor.name),T==="Map"||T==="Set"?Array.from(M):T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T)?wt(M,S):void 0}},wt=function(M,S){(S==null||S>M.length)&&(S=M.length);for(var T=0,I=new Array(S);T<S;T++)I[T]=M[T];return I},_t=function(M){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)},xt=function(M,S,T,I,z,U,re){try{var he=M[U](re),Se=he.value}catch(We){return void T(We)}he.done?S(Se):Promise.resolve(Se).then(I,z)},ut=function(M){return function(){var S=this,T=arguments;return new Promise(function(I,z){var U=M.apply(S,T);function re(Se){xt(U,I,z,re,he,"next",Se)}function he(Se){xt(U,I,z,re,he,"throw",Se)}re(void 0)})}},we=function(M,S){for(var T=0;T<S.length;T++){var I=S[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,(z=function(U,re){if(ri(U)!=="object"||U===null)return U;var he=U[Symbol.toPrimitive];if(he!==void 0){var Se=he.call(U,"string");if(ri(Se)!=="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(I.key),ri(z)==="symbol"?z:String(z)),I)}var z},N=function(M,S){var T=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&M[Symbol.iterator]||M["@@iterator"];if(!T){if(Array.isArray(M)||(T=function(Se,We){if(Se){if(typeof Se=="string")return qe(Se,We);var kt=Object.prototype.toString.call(Se).slice(8,-1);return kt==="Object"&&Se.constructor&&(kt=Se.constructor.name),kt==="Map"||kt==="Set"?Array.from(Se):kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(kt)?qe(Se,We):void 0}}(M))||S&&M&&typeof M.length=="number"){T&&(M=T);var I=0,z=function(){};return{s:z,n:function(){return I>=M.length?{done:!0}:{done:!1,value:M[I++]}},e:function(We){throw We},f:z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var U,re=!0,he=!1;return{s:function(){T=T.call(M)},n:function(){var We=T.next();return re=We.done,We},e:function(We){he=!0,U=We},f:function(){try{re||T.return==null||T.return()}finally{if(he)throw U}}}},qe=function(M,S){(S==null||S>M.length)&&(S=M.length);for(var T=0,I=new Array(S);T<S;T++)I[T]=M[T];return I},Ie=function(M,S){for(var T=0;T<S.length;T++){var I=S[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,(z=function(U,re){if(Pa(U)!=="object"||U===null)return U;var he=U[Symbol.toPrimitive];if(he!==void 0){var Se=he.call(U,"string");if(Pa(Se)!=="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(I.key),Pa(z)==="symbol"?z:String(z)),I)}var z},nt=function(M){return function(S){if(Array.isArray(S))return R(S)}(M)||function(S){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&S[Symbol.iterator]!=null||S["@@iterator"]!=null)return Array.from(S)}(M)||function(S,T){if(S){if(typeof S=="string")return R(S,T);var I=Object.prototype.toString.call(S).slice(8,-1);return I==="Object"&&S.constructor&&(I=S.constructor.name),I==="Map"||I==="Set"?Array.from(S):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?R(S,T):void 0}}(M)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},R=function(M,S){(S==null||S>M.length)&&(S=M.length);for(var T=0,I=new Array(S);T<S;T++)I[T]=M[T];return I},le=function(M,S){for(var T=0;T<S.length;T++){var I=S[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,(z=function(U,re){if(Mo(U)!=="object"||U===null)return U;var he=U[Symbol.toPrimitive];if(he!==void 0){var Se=he.call(U,"string");if(Mo(Se)!=="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(I.key),Mo(z)==="symbol"?z:String(z)),I)}var z},ue=function(M,S,T,I,z,U,re){try{var he=M[U](re),Se=he.value}catch(We){return void T(We)}he.done?S(Se):Promise.resolve(Se).then(I,z)},ve=function(M){return function(){var S=this,T=arguments;return new Promise(function(I,z){var U=M.apply(S,T);function re(Se){ue(U,I,z,re,he,"next",Se)}function he(Se){ue(U,I,z,re,he,"throw",Se)}re(void 0)})}},de=function(M,S){(S==null||S>M.length)&&(S=M.length);for(var T=0,I=new Array(S);T<S;T++)I[T]=M[T];return I},K=function(M,S,T){var I,z,U,re,he,Se,We,kt;z=T,U=function(Ht){return Ht.br},re=kn,he=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T,Se=function(Ht){return Ht._overrideable[S]},We=(I=M).prototype[z],kt=function(){return We.apply(Se(this),arguments)},Object.defineProperty(re.prototype,he,{get:function(){return kt},set:function(Ht){I.prototype[z]=function(){var Yt=_instanceof(this,I)?U(this):this;return Ht.apply(Yt,arguments)},kt=Ht}})};o(278),o(228),o(4338),o(886),o(6466),o(3964),o(8077),o(9358),o(4043),o(752),o(1694),o(6265),o(9307),o(1514),o(9730),o(7522),o(5728),o(6801),o(3843),o(2320),o(6203),o(2826),o(9749),o(6544),o(4254),o(7049),o(4284),o(8373),o(6793),o(7629),o(7509),o(8052),o(3374),o(6891),o(6177),o(5557);var ge=o(5685);o(939),o(9373),o(9903),o(9288),o(6227);var Ee={fragmentChange:"fragmentChange",pageChanged:"pageChanged",PostInit:"PostInit",stop:"stop",resize:"resize",userAction:"userAction",fullscreenToggled:"fullscreenToggled",zoomOut:"zoomOut",zoomIn:"zoomIn","1PageViewSelected":"1PageViewSelected","2PageViewSelected":"2PageViewSelected","3PageViewSelected":"3PageViewSelected"},Ce=o(5311);function Ye(Ae){return Ye=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(S){return typeof S=="undefined"?"undefined":_typeof(S)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},Ye(Ae)}var Be=function(){function Ae(T){(function(I,z){if(!_instanceof(I,z))throw new TypeError("Cannot call a class as a function")})(this,Ae),this.br=T,this.$root=null,this.$nav=null,this.maxPageNum=null,this.minimumControls=["viewmode"],this.maximumControls=["book_left","book_right","zoom_in","zoom_out","onepg","twopg","thumb"],this.updateNavIndexThrottled=(0,ge.throttle)(this.updateNavIndex.bind(this),250,!1)}var M,S;return M=Ae,(S=[{key:"controlFor",value:function(I){var z=this.br.options.controls[I];return z.visible?z.template?"<li>".concat(z.template(this.br),"</li>"):'<li>\n      <button class="BRicon '.concat(z.className,'" title="').concat(z.label,'">\n        <div class="icon icon-').concat(z.iconClassName,'"></div>\n        <span class="BRtooltip">').concat(z.label,"</span>\n      </button>\n    </li>"):""}},{key:"_renderControls",value:function(){var I=this;return["bookLeft","bookRight","onePage","twoPage","thumbnail","viewmode","zoomOut","zoomIn","fullScreen"].map(function(z){return I.controlFor(z)}).join("")}},{key:"_bindViewModeButton",value:function(){var I=this,z=this.br,U=z.options.controls.viewmode,re=[{mode:z.constMode1up,className:"onepg",title:"One-page view"},{mode:z.constMode2up,className:"twopg",title:"Two-page view"},{mode:z.constModeThumb,className:"thumb",title:"Thumbnail view"}].filter(function(kt){return!U.excludedModes.includes(kt.mode)}),he=re.map(function(kt){return kt.mode});U.excludedModes.includes(z.mode)&&z.switchMode(he[0]);for(var Se=he.indexOf(z.mode),We=0;We<=Se;We++)he.push(he.shift());re.length<2&&this.$nav.find(".".concat(U.className)).remove(),this.br.bind(Ee.PostInit,function(){var kt=I.$nav.find(".".concat(U.className)).off(".bindNavigationHandlers").on("click",function(Ht){var Yt=he.shift(),It=re.find(function(xn){return xn.mode===Yt}),nn=re.find(function(xn){return xn.mode===he[0]});he.push(Yt),z.viewModeOrder=he,I.updateViewModeButton(Ce(Ht.currentTarget),nn.className,nn.title),z.switchMode(It.mode)}),Pt=re.find(function(Ht){return Ht.mode===he[0]});I.updateViewModeButton(kt,Pt.className,Pt.title)})}},{key:"updateViewModeButton",value:function(I,z,U){I.attr("title",U).find(".icon").removeClass().addClass("icon icon-".concat(z)).end().find(".BRtooltip").text(U)}},{key:"switchNavbarControls",value:function(){this.br.options.bookType!=="linerNotes"&&(this.br.refs.$brContainer.prop("clientWidth")<640?this.showMinimumNavbarControls():this.showMaximumNavbarControls())}},{key:"showMinimumNavbarControls",value:function(){this.minimumControls.forEach(function(I){var z=document.querySelector(".controls .".concat(I));z&&z.classList.remove("hide")}),this.maximumControls.forEach(function(I){var z=document.querySelector(".controls .".concat(I));z&&z.classList.add("hide")})}},{key:"showMaximumNavbarControls",value:function(){this.maximumControls.forEach(function(I){var z=document.querySelector(".controls .".concat(I));z&&z.classList.remove("hide")}),this.minimumControls.forEach(function(I){var z=document.querySelector(".controls .".concat(I));z&&z.classList.add("hide")})}},{key:"init",value:function(){var I=this,z=this.br,U=z.options.navbarTitle,re=z.pageProgression==="rl",he=re?"book_flip_next":"book_flip_prev",Se=re?"book_flip_prev":"book_flip_next";this.br.options.controls.bookLeft.className="book_left ".concat(he),this.br.options.controls.bookRight.className="book_right ".concat(Se),z.refs.$BRfooter=this.$root=Ce('<div class="BRfooter"></div>'),z.refs.$BRnav=this.$nav=Ce('<div class="BRnav BRnavDesktop">\n          '.concat(U?'<div class="BRnavTitle">'.concat(U,"</div>"):"",'\n          <nav class="BRcontrols">\n            <ul class="controls">\n              <li class="scrubber">\n                <div class="BRnavpos">\n                  <div class="BRpager"></div>\n                  <div class="BRnavline"></div>\n                </div>\n                <p><span class=\'BRcurrentpage\'></span></p>\n              </li>\n              ').concat(this._renderControls(),"\n            </ul>\n          </nav>\n        </div>")),this.$root.append(this.$nav),z.refs.$br.append(this.$root);var We=this.$root.find(".BRpager").slider({animate:!0,min:0,max:z.book.getNumLeafs()-1,value:z.currentIndex(),range:"min"});return We.on("slide",function(kt,Pt){return I.updateNavPageNum(Pt.value),!0}),We.on("slidechange",function(kt,Pt){return I.updateNavPageNum(Pt.value),We.data("swallowchange")?We.data("swallowchange",!1):z.jumpToIndex(Pt.value),!0}),z.options.controls.viewmode.visible&&this._bindViewModeButton(),this.updateNavPageNum(z.currentIndex()),this.$nav}},{key:"getNavPageNumString",value:function(I){var z=this.br,U=z.book.getPageNum(I),re=(z.book.getPageProp(I,"pageType"),z.book.getNumLeafs());if(!this.maxPageNum){for(var he,Se=0,We=0;We<re;We++)he=parseFloat(z.book.getPageNum(We)),!isNaN(he)&&he>Se&&(Se=he);this.maxPageNum=Se}return function(kt,Pt,Ht,Yt,It){if(Ht[0]=="n")return"(".concat(kt+1," of ").concat(Pt,")");var nn=It&&parseFloat(Ht)?" of ".concat(It):"";return"".concat(Ht).concat(nn)}(I,re,U,0,this.maxPageNum)}},{key:"updateNavPageNum",value:function(I){this.$root.find(".BRcurrentpage").html(this.getNavPageNumString(I))}},{key:"updateNavIndex",value:function(I){I=I!==void 0?I:this.br.currentIndex(),this.$root.find(".BRpager").data("swallowchange",!0).slider("value",I)}}])&&a(M.prototype,S),Object.defineProperty(M,"prototype",{writable:!1}),Ae}();function Je(Ae){return Je=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(S){return typeof S=="undefined"?"undefined":_typeof(S)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},Je(Ae)}function Tt(Ae){var M=typeof Map=="function"?new Map:void 0;return Tt=function(T){if(T===null||!function(z){try{return Function.toString.call(z).indexOf("[native code]")!==-1}catch(U){return typeof z=="function"}}(T))return T;if(typeof T!="function")throw new TypeError("Super expression must either be null or a function");if(M!==void 0){if(M.has(T))return M.get(T);M.set(T,I)}function I(){return jt(T,arguments,Zt(this).constructor)}return I.prototype=Object.create(T.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),Et(I,T)},Tt(Ae)}function jt(Ae,M,S){return jt=s()?Reflect.construct.bind():function(I,z,U){var re=[null];re.push.apply(re,z);var he=new(Function.bind.apply(I,re));return U&&Et(he,U.prototype),he},jt.apply(null,arguments)}function Et(Ae,M){return Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,I){return T.__proto__=I,T},Et(Ae,M)}function Zt(Ae){return Zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},Zt(Ae)}o(50),o(6646);var Nt={defaults:null,padding:10,ui:"full",uiAutoHide:!1,thumbRowBuffer:1,thumbColumns:6,thumbMaxLoading:4,thumbPadding:10,thumbMinZoomColumns:2,thumbMaxZoomColumns:8,flipSpeed:400,showToolbar:!0,showNavbar:!0,navBarTitle:"",showLogo:!0,logoURL:"https://archive.org",imagesBaseURL:"/BookReader/images/",reduceSet:"pow2",reductionFactors:[{reduce:.25,autofit:null},{reduce:.5,autofit:null},{reduce:1,autofit:null},{reduce:2,autofit:null},{reduce:3,autofit:null},{reduce:4,autofit:null},{reduce:6,autofit:null}],onePage:{autofit:"auto"},twoPage:{coverInternalPadding:0,coverExternalPadding:0,bookSpineDivWidth:64,autofit:"auto"},onePageMinBreakpoint:800,bookTitle:"",bookUrl:null,bookUrlText:null,bookUrlTitle:null,enableBookTitleLink:!0,bookLanguage:null,metadata:[],thumbnail:null,bookUrlMoreInfo:null,enableExperimentalControls:!1,el:"#BookReader",pageProgression:"lr",ppi:500,protected:!1,plugins:{textSelection:null},vars:{},data:[],table_of_contents:null,getNumLeafs:null,getPageWidth:null,getPageHeight:null,getPageURI:null,getPageSide:null,getSpreadIndices:null,getPageNum:null,getPageProp:null,leafNumToIndex:null,getEmbedCode:null,controls:{bookLeft:{visible:!0,label:"Flip left",className:"book_left",iconClassName:"left-arrow"},bookRight:{visible:!0,label:"Flip right",className:"book_right",iconClassName:"left-arrow hflip"},onePage:{visible:!0,label:"One-page view",className:"onepg",iconClassName:"onepg"},twoPage:{visible:!0,label:"Two-page view",className:"twopg",iconClassName:"twopg"},thumbnail:{visible:!0,label:"Thumbnail view",className:"thumb",iconClassName:"thumb"},viewmode:{visible:!0,className:"viewmode",excludedModes:[]},zoomOut:{visible:!0,label:"Zoom out",className:"zoom_out",iconClassName:"magnify"},zoomIn:{visible:!0,label:"Zoom in",className:"zoom_in",iconClassName:"magnify plus"},fullScreen:{visible:!0,label:"Toggle fullscreen",className:"full",iconClassName:"fullscreen"}},startFullscreen:!1,enableFSLogoShortcut:!1,autoResize:!0,useSrcSet:!1},Ft=function(Ae){(function(U,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(re&&re.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),re&&Et(U,re)})(z,Ae);var M,S,T,I=(S=z,T=s(),function(){var re,he=Zt(S);if(T){var Se=Zt(this).constructor;re=Reflect.construct(he,arguments,Se)}else re=he.apply(this,arguments);return function(We,kt){if(kt&&(Je(kt)==="object"||typeof kt=="function"))return kt;if(kt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Pt){if(Pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pt}(We)}(this,re)});function z(){return function(U,re){if(!_instanceof(U,re))throw new TypeError("Cannot call a class as a function")}(this,z),I.apply(this,arguments)}return M=z,Object.defineProperty(M,"prototype",{writable:!1}),M}(Tt(Error)),Dt=(o(7267),o(4581),o(5311));function Jt(Ae){return Jt=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(S){return typeof S=="undefined"?"undefined":_typeof(S)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},Jt(Ae)}var Qt=function(){function Ae(T){(function(I,z){if(!_instanceof(I,z))throw new TypeError("Cannot call a class as a function")})(this,Ae),this.br=T}var M,S;return M=Ae,(S=[{key:"buildToolbarElement",value:function(){var I=this.br,z=I.showLogo?'\n      <span class="BRtoolbarSection BRtoolbarSectionLogo">\n        <a class="logo" href="'.concat(I.logoURL,'"></a>\n      </span>'):"";I.refs.$BRtoolbar=Dt('\n      <div class="BRtoolbar header">\n        <div class="BRtoolbarbuttons">\n          <div class="BRtoolbarLeft">\n            '.concat(z,'\n            <span class="BRtoolbarSection BRtoolbarSectionTitle"></span>\n          </div>\n          <div class="BRtoolbarRight">\n            <span class="BRtoolbarSection BRtoolbarSectionInfo">\n              <button class="BRpill info js-tooltip">Info</button>\n              <button class="BRpill share js-tooltip">Share</button>\n            </span>\n          </div>\n        </div>\n      </div>'));var U=I.refs.$BRtoolbar.find(".BRtoolbarSectionTitle");return I.bookUrl&&I.options.enableBookTitleLink?U.append(Dt("<a>").attr({href:I.bookUrl,title:I.bookUrlTitle}).addClass("BRreturn").html(I.bookUrlText||I.bookTitle)):I.bookTitle&&U.append(I.bookUrlText||I.bookTitle),I.refs.$BRtoolbar}},{key:"initToolbar",value:function(I,z){var U=this.br;U.refs.$br.append(this.buildToolbarElement()),U.$(".BRnavCntl").addClass("BRup"),U.$(".pause").hide(),U.refs.$BRtoolbar.append(),U.canSwitchToMode(U.constMode2up)||U.$(".two_page_mode, .play, .pause").hide(),U.canSwitchToMode(U.constModeThumb)||U.$(".thumbnail_mode").hide(),U.canSwitchToMode(U.constMode2up)||U.canSwitchToMode(U.constModeThumb)||U.$(".one_page_mode").hide(),Dt('<div style="display: none;"></div>').append(Dt('\n    <div class="BRfloat BRshare">\n      <div class="BRfloatHead">\n        Share\n        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>\n      </div>\n    </div>')).append(Dt('\n    <div class="BRfloat BRinfo">\n      <div class="BRfloatHead">About this book\n        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>\n      </div>\n      <div class="BRfloatBody">\n        <div class="BRfloatCover"></div>\n        <div class="BRfloatMeta">\n          <div class="BRfloatTitle">\n            <h2><a /></h2>\n          </div>\n        </div>\n      </div>\n      <div class="BRfloatFoot">\n        <a href="https://openlibrary.org/dev/docs/bookreader">About the BookReader</a>\n      </div>\n    </div>')).appendTo(U.refs.$br),U.$(".BRinfo .BRfloatTitle a").attr({href:U.bookUrl}).text(U.bookTitle).addClass("title"),this.buildInfoDiv(U.$(".BRinfo")),this.buildShareDiv(U.$(".BRshare")),U.$(".share").colorbox({inline:!0,opacity:"0.5",href:U.$(".BRshare"),onLoad:function(){U.trigger(Ee.stop),U.$(".BRpageviewValue").val(window.location.href)}}),U.$(".info").colorbox({inline:!0,opacity:"0.5",href:U.$(".BRinfo"),onLoad:function(){U.trigger(Ee.stop)}})}},{key:"buildShareDiv",value:function(I){var z=this,U=this.br,re=document.location+"",he=(re+"").replace(/#.*/,""),Se=U.getEmbedCode?'\n      <div class="share-embed">\n        <p class="share-embed-prompt">Copy and paste one of these options to share this book elsewhere.</p>\n        <form method="post" action="">\n          <fieldset class="fieldset-share-pageview">\n            <label for="pageview">Link to this page view</label>\n            <input type="text" name="pageview" class="BRpageviewValue" value="'.concat(re,'"/>\n          </fieldset>\n          <fieldset class="fieldset-share-book-link">\n            <label for="booklink">Link to the book</label>\n            <input type="text" name="booklink" class="booklink" value="').concat(he,'"/>\n          </fieldset>\n          <fieldset class="fieldset-embed">\n            <label for="iframe">Embed a mini Book Reader</label>\n            <fieldset class="sub">\n              <label class="sub">\n                <input type="radio" name="pages" value="').concat(U.constMode1up,'" checked="checked"/>\n                1 page\n              </label>\n              <label class="sub">\n                <input type="radio" name="pages" value="').concat(U.constMode2up,'"/>\n                2 pages\n              </label>\n              <label class="sub">\n                <input type="checkbox" name="thispage" value="thispage"/>\n                Open to this page?\n              </label>\n            </fieldset>\n            <textarea cols="30" rows="4" name="iframe" class="BRframeEmbed"></textarea>\n          </fieldset>\n        </form>\n      </div>'):"",We=Dt('\n      <div class="share-title">Share this book</div>\n      <div class="share-social">\n        <label class="sub open-to-this-page">\n          <input class="thispage-social" type="checkbox" />\n          Open to this page?\n        </label>\n        <div><button class="BRaction share facebook-share-button"><i class="BRicon fb" /> Facebook</button></div>\n        <div><button class="BRaction share twitter-share-button"><i class="BRicon twitter" /> Twitter</button></div>\n        <div><button class="BRaction share email-share-button"><i class="BRicon email" /> Email</button></div>\n      </div>\n      '.concat(Se,'\n      <div class="BRfloatFoot">\n        <button class="share-finished" type="button" onclick="$.fn.colorbox.close();">Finished</button>\n      </div>'));We.appendTo(I),We.find(".fieldset-embed input").on("change",function(kt){var Pt=Dt(kt.target).parents("form").first(),Ht={};Ht.mode=Dt(Pt.find(".fieldset-embed input[name=pages]:checked")).val(),Pt.find(".fieldset-embed input[name=thispage]").prop("checked")&&(Ht.page=U.book.getPageNum(U.currentIndex())),U.getEmbedCode&&Pt.find(".BRframeEmbed").val(U.getEmbedCode("480px","430px",Ht))}),We.find("input, textarea").on("focus",function(kt){return kt.target.select()}),We.find(".facebook-share-button").on("click",function(){d("https://www.facebook.com/sharer.php?"+Dt.param({u:z._getSocialShareUrl()}),600,400,"Share")}),We.find(".twitter-share-button").on("click",function(){d("https://twitter.com/intent/tweet?"+Dt.param({url:z._getSocialShareUrl(),text:U.bookTitle}),600,400,"Share")}),We.find(".email-share-button").on("click",function(){var kt="".concat(U.bookTitle,"\n\n").concat(z._getSocialShareUrl());window.location.href="mailto:?subject=".concat(encodeURI(U.bookTitle),"&body=").concat(encodeURI(kt))}),We.find("input[name=thispage]").trigger("change"),We.appendTo(I)}},{key:"_getSocialShareUrl",value:function(){return this.br.$(".thispage-social").prop("checked")?window.location.href:"".concat(document.location.protocol,"//").concat(window.location.hostname).concat(window.location.pathname)}},{key:"buildInfoDiv",value:function(I){var z=this.br;I.find(".BRfloatBody, .BRfloatCover, .BRfloatFoot").remove();var U=Dt('<div class="BRinfoLeftCol"></div>');z.thumbnail&&U.append(Dt('\n        <div class="BRimageW">\n          <img src="'.concat(z.thumbnail,'" alt="').concat((0,ge.escapeHTML)(z.bookTitle),'" />\n        </div>')));var re,he=Dt('<div class="BRinfoRightCol">'),Se=function(Sn,Yn){var Un=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Sn[Symbol.iterator]||Sn["@@iterator"];if(!Un){if(Array.isArray(Sn)||(Un=function(Qn,wr){if(Qn){if(typeof Qn=="string")return r(Qn,wr);var pr=Object.prototype.toString.call(Qn).slice(8,-1);return pr==="Object"&&Qn.constructor&&(pr=Qn.constructor.name),pr==="Map"||pr==="Set"?Array.from(Qn):pr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pr)?r(Qn,wr):void 0}}(Sn))||Yn&&Sn&&typeof Sn.length=="number"){Un&&(Sn=Un);var Pn=0,Xn=function(){};return{s:Xn,n:function(){return Pn>=Sn.length?{done:!0}:{done:!1,value:Sn[Pn++]}},e:function(wr){throw wr},f:Xn}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Gn,tr=!0,Zn=!1;return{s:function(){Un=Un.call(Sn)},n:function(){var wr=Un.next();return tr=wr.done,wr},e:function(wr){Zn=!0,Gn=wr},f:function(){try{tr||Un.return==null||Un.return()}finally{if(Zn)throw Gn}}}}(z.metadata);try{for(Se.s();!(re=Se.n()).done;){var We=re.value,kt=We.extraValueClass,Pt=kt===void 0?"":kt,Ht=We.label,Yt=We.value,It=Ht==="Title"?(0,ge.escapeHTML)(Yt):Yt;he.append(Dt('\n        <div class="BRinfoValueWrapper">\n          <div class="BRinfoLabel">'.concat(Ht,'</div>\n          <div class="BRinfoValue ').concat(Pt,'">').concat(It,"</div>\n        </div>")))}}catch(Sn){Se.e(Sn)}finally{Se.f()}var nn=z.bookUrlMoreInfo?z.bookUrlMoreInfo:z.bookTitle;nn&&z.bookUrl&&he.append(Dt('\n        <div class="BRinfoValueWrapper">\n          <div class="BRinfoMoreInfoWrapper">\n            <a class="BRinfoMoreInfo" href="'.concat(z.bookUrl,'">\n              ').concat((0,ge.escapeHTML)(nn),"\n            </a>\n          </div>\n        </div>")));var xn=Dt('<div class="BRfloatFoot BRinfoFooter"></div>'),Mn=Dt('<div class="BRinfoW mv20-lg">').append([U,he,Dt('<br style="clear:both"/>')]);I.append(Mn,xn).addClass("wide")}},{key:"getToolBarHeight",value:function(){var I=this.br.refs.$BRtoolbar;return I&&I.css("display")==="block"?I.outerHeight()+parseInt(I.css("top")):0}}])&&c(M.prototype,S),Object.defineProperty(M,"prototype",{writable:!1}),Ae}();function gn(Ae){return gn=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(S){return typeof S=="undefined"?"undefined":_typeof(S)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},gn(Ae)}function Bt(){Bt=function(){return M};var Ae,M={},S=Object.prototype,T=S.hasOwnProperty,I=Object.defineProperty||function(Me,ye,Te){Me[ye]=Te.value},z=typeof Symbol=="function"?Symbol:{},U=z.iterator||"@@iterator",re=z.asyncIterator||"@@asyncIterator",he=z.toStringTag||"@@toStringTag";function Se(Me,ye,Te){return Object.defineProperty(Me,ye,{value:Te,enumerable:!0,configurable:!0,writable:!0}),Me[ye]}try{Se({},"")}catch(Me){Se=function(Te,ft,Ot){return Te[ft]=Ot}}function We(Me,ye,Te,ft){var Ot=ye&&_instanceof(ye.prototype,xn)?ye:xn,Ct=Object.create(Ot.prototype),sn=new Jn(ft||[]);return I(Ct,"_invoke",{value:Zn(Me,Te,sn)}),Ct}function kt(Me,ye,Te){try{return{type:"normal",arg:Me.call(ye,Te)}}catch(ft){return{type:"throw",arg:ft}}}M.wrap=We;var Pt="suspendedStart",Ht="suspendedYield",Yt="executing",It="completed",nn={};function xn(){}function Mn(){}function Sn(){}var Yn={};Se(Yn,U,function(){return this});var Un=Object.getPrototypeOf,Pn=Un&&Un(Un(ur([])));Pn&&Pn!==S&&T.call(Pn,U)&&(Yn=Pn);var Xn=Sn.prototype=xn.prototype=Object.create(Yn);function Gn(Me){["next","throw","return"].forEach(function(ye){Se(Me,ye,function(Te){return this._invoke(ye,Te)})})}function tr(Me,ye){function Te(Ot,Ct,sn,cn){var jn=kt(Me[Ot],Me,Ct);if(jn.type!=="throw"){var rr=jn.arg,ir=rr.value;return ir&&gn(ir)=="object"&&T.call(ir,"__await")?ye.resolve(ir.__await).then(function(sr){Te("next",sr,sn,cn)},function(sr){Te("throw",sr,sn,cn)}):ye.resolve(ir).then(function(sr){rr.value=sr,sn(rr)},function(sr){return Te("throw",sr,sn,cn)})}cn(jn.arg)}var ft;I(this,"_invoke",{value:function(Ct,sn){function cn(){return new ye(function(jn,rr){Te(Ct,sn,jn,rr)})}return ft=ft?ft.then(cn,cn):cn()}})}function Zn(Me,ye,Te){var ft=Pt;return function(Ot,Ct){if(ft===Yt)throw new Error("Generator is already running");if(ft===It){if(Ot==="throw")throw Ct;return{value:Ae,done:!0}}for(Te.method=Ot,Te.arg=Ct;;){var sn=Te.delegate;if(sn){var cn=Qn(sn,Te);if(cn){if(cn===nn)continue;return cn}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(ft===Pt)throw ft=It,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);ft=Yt;var jn=kt(Me,ye,Te);if(jn.type==="normal"){if(ft=Te.done?It:Ht,jn.arg===nn)continue;return{value:jn.arg,done:Te.done}}jn.type==="throw"&&(ft=It,Te.method="throw",Te.arg=jn.arg)}}}function Qn(Me,ye){var Te=ye.method,ft=Me.iterator[Te];if(ft===Ae)return ye.delegate=null,Te==="throw"&&Me.iterator.return&&(ye.method="return",ye.arg=Ae,Qn(Me,ye),ye.method==="throw")||Te!=="return"&&(ye.method="throw",ye.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),nn;var Ot=kt(ft,Me.iterator,ye.arg);if(Ot.type==="throw")return ye.method="throw",ye.arg=Ot.arg,ye.delegate=null,nn;var Ct=Ot.arg;return Ct?Ct.done?(ye[Me.resultName]=Ct.value,ye.next=Me.nextLoc,ye.method!=="return"&&(ye.method="next",ye.arg=Ae),ye.delegate=null,nn):Ct:(ye.method="throw",ye.arg=new TypeError("iterator result is not an object"),ye.delegate=null,nn)}function wr(Me){var ye={tryLoc:Me[0]};1 in Me&&(ye.catchLoc=Me[1]),2 in Me&&(ye.finallyLoc=Me[2],ye.afterLoc=Me[3]),this.tryEntries.push(ye)}function pr(Me){var ye=Me.completion||{};ye.type="normal",delete ye.arg,Me.completion=ye}function Jn(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(wr,this),this.reset(!0)}function ur(Me){if(Me||Me===""){var ye=Me[U];if(ye)return ye.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var Te=-1,ft=function Ot(){for(;++Te<Me.length;)if(T.call(Me,Te))return Ot.value=Me[Te],Ot.done=!1,Ot;return Ot.value=Ae,Ot.done=!0,Ot};return ft.next=ft}}throw new TypeError(gn(Me)+" is not iterable")}return Mn.prototype=Sn,I(Xn,"constructor",{value:Sn,configurable:!0}),I(Sn,"constructor",{value:Mn,configurable:!0}),Mn.displayName=Se(Sn,he,"GeneratorFunction"),M.isGeneratorFunction=function(Me){var ye=typeof Me=="function"&&Me.constructor;return!!ye&&(ye===Mn||(ye.displayName||ye.name)==="GeneratorFunction")},M.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,Sn):(Me.__proto__=Sn,Se(Me,he,"GeneratorFunction")),Me.prototype=Object.create(Xn),Me},M.awrap=function(Me){return{__await:Me}},Gn(tr.prototype),Se(tr.prototype,re,function(){return this}),M.AsyncIterator=tr,M.async=function(Me,ye,Te,ft,Ot){Ot===void 0&&(Ot=Promise);var Ct=new tr(We(Me,ye,Te,ft),Ot);return M.isGeneratorFunction(ye)?Ct:Ct.next().then(function(sn){return sn.done?sn.value:Ct.next()})},Gn(Xn),Se(Xn,he,"Generator"),Se(Xn,U,function(){return this}),Se(Xn,"toString",function(){return"[object Generator]"}),M.keys=function(Me){var ye=Object(Me),Te=[];for(var ft in ye)Te.push(ft);return Te.reverse(),function Ot(){for(;Te.length;){var Ct=Te.pop();if(Ct in ye)return Ot.value=Ct,Ot.done=!1,Ot}return Ot.done=!0,Ot}},M.values=ur,Jn.prototype={constructor:Jn,reset:function(ye){if(this.prev=0,this.next=0,this.sent=this._sent=Ae,this.done=!1,this.delegate=null,this.method="next",this.arg=Ae,this.tryEntries.forEach(pr),!ye)for(var Te in this)Te.charAt(0)==="t"&&T.call(this,Te)&&!isNaN(+Te.slice(1))&&(this[Te]=Ae)},stop:function(){this.done=!0;var ye=this.tryEntries[0].completion;if(ye.type==="throw")throw ye.arg;return this.rval},dispatchException:function(ye){if(this.done)throw ye;var Te=this;function ft(rr,ir){return sn.type="throw",sn.arg=ye,Te.next=rr,ir&&(Te.method="next",Te.arg=Ae),!!ir}for(var Ot=this.tryEntries.length-1;Ot>=0;--Ot){var Ct=this.tryEntries[Ot],sn=Ct.completion;if(Ct.tryLoc==="root")return ft("end");if(Ct.tryLoc<=this.prev){var cn=T.call(Ct,"catchLoc"),jn=T.call(Ct,"finallyLoc");if(cn&&jn){if(this.prev<Ct.catchLoc)return ft(Ct.catchLoc,!0);if(this.prev<Ct.finallyLoc)return ft(Ct.finallyLoc)}else if(cn){if(this.prev<Ct.catchLoc)return ft(Ct.catchLoc,!0)}else{if(!jn)throw new Error("try statement without catch or finally");if(this.prev<Ct.finallyLoc)return ft(Ct.finallyLoc)}}}},abrupt:function(ye,Te){for(var ft=this.tryEntries.length-1;ft>=0;--ft){var Ot=this.tryEntries[ft];if(Ot.tryLoc<=this.prev&&T.call(Ot,"finallyLoc")&&this.prev<Ot.finallyLoc){var Ct=Ot;break}}Ct&&(ye==="break"||ye==="continue")&&Ct.tryLoc<=Te&&Te<=Ct.finallyLoc&&(Ct=null);var sn=Ct?Ct.completion:{};return sn.type=ye,sn.arg=Te,Ct?(this.method="next",this.next=Ct.finallyLoc,nn):this.complete(sn)},complete:function(ye,Te){if(ye.type==="throw")throw ye.arg;return ye.type==="break"||ye.type==="continue"?this.next=ye.arg:ye.type==="return"?(this.rval=this.arg=ye.arg,this.method="return",this.next="end"):ye.type==="normal"&&Te&&(this.next=Te),nn},finish:function(ye){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.finallyLoc===ye)return this.complete(ft.completion,ft.afterLoc),pr(ft),nn}},catch:function(ye){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.tryLoc===ye){var Ot=ft.completion;if(Ot.type==="throw"){var Ct=Ot.arg;pr(ft)}return Ct}}throw new Error("illegal catch attempt")},delegateYield:function(ye,Te,ft){return this.delegate={iterator:ur(ye),resultName:Te,nextLoc:ft},this.method==="next"&&(this.arg=Ae),nn}},M}o(5137),o(9772),o(4564),o(385);var an=function(){function Ae(M){var S,T,I,z;v(this,Ae),this.br=M,this.reduceSet=M.reduceSet,this.ppi=(S=(T=M.options)===null||T===void 0?void 0:T.ppi)!==null&&S!==void 0?S:Nt.ppi,this.pageProgression=(I=(z=M.options)===null||z===void 0?void 0:z.pageProgression)!==null&&I!==void 0?I:Nt.pageProgression,this._medianPageSize=null,this._getDataFlattenedCached=null}return b(Ae,[{key:"getMedianPageSizeInches",value:function(){if(this._medianPageSize)return this._medianPageSize;var S,T=[],I=[],z=h(this.pagesIterator());try{for(z.s();!(S=z.n()).done;){var U=S.value;T.push(U.widthInches),I.push(U.heightInches)}}catch(re){z.e(re)}finally{z.f()}return T.sort(function(re,he){return re-he}),I.sort(function(re,he){return re-he}),this._medianPageSize={width:T[Math.floor(T.length/2)],height:I[Math.floor(I.length/2)]},this._medianPageSize}},{key:"_getPageWidth",value:function(S){return S=(0,ge.clamp)(S,0,this.getNumLeafs()-1),this.getPageWidth(S)}},{key:"_getPageHeight",value:function(S){var T=(0,ge.clamp)(S,0,this.getNumLeafs()-1);return this.getPageHeight(T)}},{key:"getPageIndex",value:function(S){var T=this.getPageIndices(S);return T.length?T[T.length-1]:void 0}},{key:"getPageIndices",value:function(S){var T=[];if(S.slice(0,1)=="n")try{var I=S.slice(1,S.length),z=parseInt(I);return T.push(z),T}catch(re){}for(var U=0;U<this.getNumLeafs();U++)this.getPageNum(U)==S&&T.push(U);return T}},{key:"getPageName",value:function(S){return"Page "+this.getPageNum(S)}},{key:"getNumLeafs",value:function(){return this.br.numLeafs!==void 0?this.br.numLeafs:this._getDataFlattened().length}},{key:"getPageWidth",value:function(S){return this.getPageProp(S,"width")}},{key:"getPageHeight",value:function(S){return this.getPageProp(S,"height")}},{key:"getPageURI",value:function(S,T,I){return this.getPageProp(S,"viewable",!0)?this.getPageProp(S,"uri"):"/bookreader/static/preview-default.png"}},{key:"getPageSide",value:function(S){return this.getPageProp(S,"pageSide")||(S%2==0?"R":"L")}},{key:"getPageNum",value:function(S){var T=this.getPageProp(S,"pageNum");return T===void 0?"n".concat(S):T}},{key:"getPageProp",value:function(S,T){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this._getDataProp(S,T,I)}},{key:"getSpreadIndices",value:function(S){return this.pageProgression=="rl"?this.getPageSide(S)=="R"?[S+1,S]:[S,S-1]:this.getPageSide(S)=="L"?[S,S+1]:[S-1,S]}},{key:"leafNumToIndex",value:function(S){var T=this._getDataFlattened().findIndex(function(I){return I.leafNum==S});return T>-1?T:S}},{key:"parsePageString",value:function(S){var T,I=/^leaf(\d+)/.exec(S);return I?(T=this.leafNumToIndex(parseInt(I[1],10)))===null&&(T=void 0):T=this.getPageIndex(S),T}},{key:"getPage",value:function(S){var T=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],I=this.getNumLeafs();if(T||!(S<0||S>=I))return S<0&&S>=-I&&(S+=I),new tn(this,S%=I)}},{key:"pagesIterator",value:function(){var S=this,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=T.start,z=I===void 0?0:I,U=T.end,re=U===void 0?1/0:U,he=T.combineConsecutiveUnviewables,Se=he!==void 0&&he;return Bt().mark(function We(){var kt,Pt;return Bt().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:z=Math.max(0,z),re=Math.min(re,S.getNumLeafs()),kt=z;case 3:if(!(kt<re)){Ht.next=12;break}if(Pt=S.getPage(kt),!Se||!Pt.isConsecutiveUnviewable){Ht.next=7;break}return Ht.abrupt("continue",9);case 7:return Ht.next=9,Pt;case 9:kt++,Ht.next=3;break;case 12:case"end":return Ht.stop()}},We)})()}},{key:"_getDataFlattened",value:function(){if(this._getDataFlattenedCached&&this._getDataFlattenedCached[1]===this.br.data.length)return this._getDataFlattenedCached[0];var S=null,T=null,I=0,z=this.br.data.flatMap(function(U){return U.map(function(re){return re.pageSide||(re.pageSide=S===null?U.length===2?"L":"R":S==="L"?"R":"L"),S=re.pageSide,re.viewable===!1?re.unviewablesStart=T===null?T=I:T:T=null,I++,re})});return this._getDataFlattenedCached=[z,this.br.data.length],z}},{key:"_getDataProp",value:function(S,T){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,z=this._getDataFlattened();return isNaN(S)||S<0||S>=z.length||z[S][T]===void 0?I:z[S][T]}}]),Ae}(),tn=function(){function Ae(M,S){v(this,Ae);var T=M._getDataProp(S,"ppi",M.ppi);this.ppi=Math.max(T<10?M.ppi:T,10),this.book=M,this.index=S,this.width=M.getPageWidth(S),this.widthInches=this.width/this.ppi,this.height=M.getPageHeight(S),this.heightInches=this.height/this.ppi,this.pageSide=M.getPageSide(S),this.leafNum=M._getDataProp(S,"leafNum",this.index),this.isViewable=M._getDataProp(S,"viewable",!0),this.unviewablesStart=M._getDataProp(S,"unviewablesStart")||null,this.isConsecutiveUnviewable=!this.isViewable&&this.unviewablesStart!=this.index,this._rawData=this.book._getDataFlattened()[this.index]}return b(Ae,[{key:"makeViewable",value:function(){var S=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.isViewable!=S)if(S){this._rawData.viewable=!0,delete this._rawData.unviewablesStart;var T,I=h(this.book.pagesIterator({start:this.index+1}));try{for(I.s();!(T=I.n()).done;){var z=T.value;if(z.isViewable)break;z._rawData.unviewablesStart=this.index+1}}catch(Se){I.e(Se)}finally{I.f()}}else{this._rawData.viewable=!1,this._rawData.unviewablesStart=this.prev&&!this.prev.isViewable?this.prev.unviewablesStart:this.index;var U,re=h(this.book.pagesIterator({start:this.index+1}));try{for(re.s();!(U=re.n()).done;){var he=U.value;if(!he.isViewable)break;he._rawData.unviewablesStart=this._rawData.unviewablesStart}}catch(Se){re.e(Se)}finally{re.f()}}}},{key:"prev",get:function(){return this.findPrev()}},{key:"next",get:function(){return this.findNext()}},{key:"left",get:function(){return this.book.pageProgression==="lr"?this.prev:this.next}},{key:"right",get:function(){return this.book.pageProgression==="lr"?this.next:this.prev}},{key:"spread",get:function(){return{left:this.pageSide==="L"?this:this.left,right:this.pageSide==="R"?this:this.right}}},{key:"goLeft",value:function(S){var T=this.book.pageProgression==="lr"?this.index-S:this.index+S;return this.book.getPage(T)}},{key:"goRight",value:function(S){var T=this.book.pageProgression==="lr"?this.index+S:this.index-S;return this.book.getPage(T)}},{key:"getURI",value:function(S,T){return this.book.getPageURI(this.index,S,T)}},{key:"getURISrcSet",value:function(S){for(var T=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=this.book.reduceSet,U=z.floor(S),re=[],he=z.decr(U);he>=1;he=z.decr(he))re.push(he);return re.map(function(Se){return"".concat(T.getURI(Se,I)," ").concat(U/Se,"x")}).join(", ")}},{key:"findNext",value:function(){var S=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,T=S!==void 0&&S;return this.book.pagesIterator({start:this.index+1,combineConsecutiveUnviewables:T}).next().value}},{key:"findPrev",value:function(){var S=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,T=S!==void 0&&S;if(this.index!=0){if(T){if(this.isConsecutiveUnviewable)return this.book.getPage(this.unviewablesStart);var I=new Ae(this.book,this.index-1);return I.isViewable?I:I.findPrev({combineConsecutiveUnviewables:T})}return new Ae(this.book,this.index-1)}}},{key:"findLeft",value:function(){var S=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,T=S!==void 0&&S;return this.book.pageProgression==="lr"?this.findPrev({combineConsecutiveUnviewables:T}):this.findNext({combineConsecutiveUnviewables:T})}},{key:"findRight",value:function(){var S=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,T=S!==void 0&&S;return this.book.pageProgression==="lr"?this.findNext({combineConsecutiveUnviewables:T}):this.findPrev({combineConsecutiveUnviewables:T})}}]),Ae}(),_n=(o(2349),o(1919),o(2506),o(429),o(1830),o(9089)),Wt=o(8318),Re=o(1312),pe=(o(6976),o(8496)),xe=o.n(pe),$e=o(7775);function ot(Ae){return ot=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(S){return typeof S=="undefined"?"undefined":_typeof(S)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},ot(Ae)}function dt(){dt=function(){return M};var Ae,M={},S=Object.prototype,T=S.hasOwnProperty,I=Object.defineProperty||function(Me,ye,Te){Me[ye]=Te.value},z=typeof Symbol=="function"?Symbol:{},U=z.iterator||"@@iterator",re=z.asyncIterator||"@@asyncIterator",he=z.toStringTag||"@@toStringTag";function Se(Me,ye,Te){return Object.defineProperty(Me,ye,{value:Te,enumerable:!0,configurable:!0,writable:!0}),Me[ye]}try{Se({},"")}catch(Me){Se=function(Te,ft,Ot){return Te[ft]=Ot}}function We(Me,ye,Te,ft){var Ot=ye&&_instanceof(ye.prototype,xn)?ye:xn,Ct=Object.create(Ot.prototype),sn=new Jn(ft||[]);return I(Ct,"_invoke",{value:Zn(Me,Te,sn)}),Ct}function kt(Me,ye,Te){try{return{type:"normal",arg:Me.call(ye,Te)}}catch(ft){return{type:"throw",arg:ft}}}M.wrap=We;var Pt="suspendedStart",Ht="suspendedYield",Yt="executing",It="completed",nn={};function xn(){}function Mn(){}function Sn(){}var Yn={};Se(Yn,U,function(){return this});var Un=Object.getPrototypeOf,Pn=Un&&Un(Un(ur([])));Pn&&Pn!==S&&T.call(Pn,U)&&(Yn=Pn);var Xn=Sn.prototype=xn.prototype=Object.create(Yn);function Gn(Me){["next","throw","return"].forEach(function(ye){Se(Me,ye,function(Te){return this._invoke(ye,Te)})})}function tr(Me,ye){function Te(Ot,Ct,sn,cn){var jn=kt(Me[Ot],Me,Ct);if(jn.type!=="throw"){var rr=jn.arg,ir=rr.value;return ir&&ot(ir)=="object"&&T.call(ir,"__await")?ye.resolve(ir.__await).then(function(sr){Te("next",sr,sn,cn)},function(sr){Te("throw",sr,sn,cn)}):ye.resolve(ir).then(function(sr){rr.value=sr,sn(rr)},function(sr){return Te("throw",sr,sn,cn)})}cn(jn.arg)}var ft;I(this,"_invoke",{value:function(Ct,sn){function cn(){return new ye(function(jn,rr){Te(Ct,sn,jn,rr)})}return ft=ft?ft.then(cn,cn):cn()}})}function Zn(Me,ye,Te){var ft=Pt;return function(Ot,Ct){if(ft===Yt)throw new Error("Generator is already running");if(ft===It){if(Ot==="throw")throw Ct;return{value:Ae,done:!0}}for(Te.method=Ot,Te.arg=Ct;;){var sn=Te.delegate;if(sn){var cn=Qn(sn,Te);if(cn){if(cn===nn)continue;return cn}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(ft===Pt)throw ft=It,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);ft=Yt;var jn=kt(Me,ye,Te);if(jn.type==="normal"){if(ft=Te.done?It:Ht,jn.arg===nn)continue;return{value:jn.arg,done:Te.done}}jn.type==="throw"&&(ft=It,Te.method="throw",Te.arg=jn.arg)}}}function Qn(Me,ye){var Te=ye.method,ft=Me.iterator[Te];if(ft===Ae)return ye.delegate=null,Te==="throw"&&Me.iterator.return&&(ye.method="return",ye.arg=Ae,Qn(Me,ye),ye.method==="throw")||Te!=="return"&&(ye.method="throw",ye.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),nn;var Ot=kt(ft,Me.iterator,ye.arg);if(Ot.type==="throw")return ye.method="throw",ye.arg=Ot.arg,ye.delegate=null,nn;var Ct=Ot.arg;return Ct?Ct.done?(ye[Me.resultName]=Ct.value,ye.next=Me.nextLoc,ye.method!=="return"&&(ye.method="next",ye.arg=Ae),ye.delegate=null,nn):Ct:(ye.method="throw",ye.arg=new TypeError("iterator result is not an object"),ye.delegate=null,nn)}function wr(Me){var ye={tryLoc:Me[0]};1 in Me&&(ye.catchLoc=Me[1]),2 in Me&&(ye.finallyLoc=Me[2],ye.afterLoc=Me[3]),this.tryEntries.push(ye)}function pr(Me){var ye=Me.completion||{};ye.type="normal",delete ye.arg,Me.completion=ye}function Jn(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(wr,this),this.reset(!0)}function ur(Me){if(Me||Me===""){var ye=Me[U];if(ye)return ye.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var Te=-1,ft=function Ot(){for(;++Te<Me.length;)if(T.call(Me,Te))return Ot.value=Me[Te],Ot.done=!1,Ot;return Ot.value=Ae,Ot.done=!0,Ot};return ft.next=ft}}throw new TypeError(ot(Me)+" is not iterable")}return Mn.prototype=Sn,I(Xn,"constructor",{value:Sn,configurable:!0}),I(Sn,"constructor",{value:Mn,configurable:!0}),Mn.displayName=Se(Sn,he,"GeneratorFunction"),M.isGeneratorFunction=function(Me){var ye=typeof Me=="function"&&Me.constructor;return!!ye&&(ye===Mn||(ye.displayName||ye.name)==="GeneratorFunction")},M.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,Sn):(Me.__proto__=Sn,Se(Me,he,"GeneratorFunction")),Me.prototype=Object.create(Xn),Me},M.awrap=function(Me){return{__await:Me}},Gn(tr.prototype),Se(tr.prototype,re,function(){return this}),M.AsyncIterator=tr,M.async=function(Me,ye,Te,ft,Ot){Ot===void 0&&(Ot=Promise);var Ct=new tr(We(Me,ye,Te,ft),Ot);return M.isGeneratorFunction(ye)?Ct:Ct.next().then(function(sn){return sn.done?sn.value:Ct.next()})},Gn(Xn),Se(Xn,he,"Generator"),Se(Xn,U,function(){return this}),Se(Xn,"toString",function(){return"[object Generator]"}),M.keys=function(Me){var ye=Object(Me),Te=[];for(var ft in ye)Te.push(ft);return Te.reverse(),function Ot(){for(;Te.length;){var Ct=Te.pop();if(Ct in ye)return Ot.value=Ct,Ot.done=!1,Ot}return Ot.done=!0,Ot}},M.values=ur,Jn.prototype={constructor:Jn,reset:function(ye){if(this.prev=0,this.next=0,this.sent=this._sent=Ae,this.done=!1,this.delegate=null,this.method="next",this.arg=Ae,this.tryEntries.forEach(pr),!ye)for(var Te in this)Te.charAt(0)==="t"&&T.call(this,Te)&&!isNaN(+Te.slice(1))&&(this[Te]=Ae)},stop:function(){this.done=!0;var ye=this.tryEntries[0].completion;if(ye.type==="throw")throw ye.arg;return this.rval},dispatchException:function(ye){if(this.done)throw ye;var Te=this;function ft(rr,ir){return sn.type="throw",sn.arg=ye,Te.next=rr,ir&&(Te.method="next",Te.arg=Ae),!!ir}for(var Ot=this.tryEntries.length-1;Ot>=0;--Ot){var Ct=this.tryEntries[Ot],sn=Ct.completion;if(Ct.tryLoc==="root")return ft("end");if(Ct.tryLoc<=this.prev){var cn=T.call(Ct,"catchLoc"),jn=T.call(Ct,"finallyLoc");if(cn&&jn){if(this.prev<Ct.catchLoc)return ft(Ct.catchLoc,!0);if(this.prev<Ct.finallyLoc)return ft(Ct.finallyLoc)}else if(cn){if(this.prev<Ct.catchLoc)return ft(Ct.catchLoc,!0)}else{if(!jn)throw new Error("try statement without catch or finally");if(this.prev<Ct.finallyLoc)return ft(Ct.finallyLoc)}}}},abrupt:function(ye,Te){for(var ft=this.tryEntries.length-1;ft>=0;--ft){var Ot=this.tryEntries[ft];if(Ot.tryLoc<=this.prev&&T.call(Ot,"finallyLoc")&&this.prev<Ot.finallyLoc){var Ct=Ot;break}}Ct&&(ye==="break"||ye==="continue")&&Ct.tryLoc<=Te&&Te<=Ct.finallyLoc&&(Ct=null);var sn=Ct?Ct.completion:{};return sn.type=ye,sn.arg=Te,Ct?(this.method="next",this.next=Ct.finallyLoc,nn):this.complete(sn)},complete:function(ye,Te){if(ye.type==="throw")throw ye.arg;return ye.type==="break"||ye.type==="continue"?this.next=ye.arg:ye.type==="return"?(this.rval=this.arg=ye.arg,this.method="return",this.next="end"):ye.type==="normal"&&Te&&(this.next=Te),nn},finish:function(ye){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.finallyLoc===ye)return this.complete(ft.completion,ft.afterLoc),pr(ft),nn}},catch:function(ye){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.tryLoc===ye){var Ot=ft.completion;if(Ot.type==="throw"){var Ct=Ot.arg;pr(ft)}return Ct}}throw new Error("illegal catch attempt")},delegateYield:function(ye,Te,ft){return this.delegate={iterator:ur(ye),resultName:Te,nextLoc:ft},this.method==="next"&&(this.arg=Ae),nn}},M}var zt=function(){function Ae(M){var S=this;E(this,Ae),y(this,"scaleCenter",{x:.5,y:.5}),y(this,"_preventEvent",function(T){return T.preventDefault(),!1}),y(this,"_pinchStart",A(dt().mark(function T(){var I,z;return dt().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!S.pinching){U.next=2;break}return U.abrupt("return");case 2:if(!(0,$e.gn)()){U.next=7;break}return U.next=5,(0,ge.sleep)(0);case 5:if(!(S.touchesMonitor.touches<2)){U.next=7;break}return U.abrupt("return");case 7:S.pinching=!0,S.oldScale=1,S.mode.$visibleWorld.classList.add("BRsmooth-zooming"),S.mode.$visibleWorld.style.willChange="transform",S.mode.autoFit="none",S.detachCtrlZoom(),(I=(z=S.mode).detachScrollListeners)===null||I===void 0||I.call(z),S.interact.gesturable({listeners:{start:S._pinchStart,move:S._pinchMove,end:S._pinchEnd}});case 15:case"end":return U.stop()}},T)}))),y(this,"_pinchMove",function(){var T=A(dt().mark(function I(z){return dt().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(S.pinching){U.next=2;break}return U.abrupt("return");case 2:S.lastEvent={scale:z.scale,clientX:z.clientX,clientY:z.clientY},S.pinchMoveFrame||(S.pinchMoveFrame=S.bufferFn(S._drawPinchZoomFrame));case 4:case"end":return U.stop()}},I)}));return function(I){return T.apply(this,arguments)}}()),y(this,"_pinchEnd",A(dt().mark(function T(){var I,z;return dt().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(S.pinching){U.next=2;break}return U.abrupt("return");case 2:return S.pinching=!1,S.interact.gesturable({listeners:{start:S._pinchStart,end:S._pinchEnd}}),U.next=6,S.pinchMoveFramePromise;case 6:S.scaleCenter={x:.5,y:.5},S.oldScale=1,S.mode.$visibleWorld.classList.remove("BRsmooth-zooming"),S.mode.$visibleWorld.style.willChange="auto",S.attachCtrlZoom(),(I=(z=S.mode).attachScrollListeners)===null||I===void 0||I.call(z);case 12:case"end":return U.stop()}},T)}))),y(this,"_drawPinchZoomFrame",A(dt().mark(function T(){var I,z;return dt().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(S.pinching){U.next=3;break}return S.pinchMoveFrame=null,U.abrupt("return");case 3:if(S.mode.$container.style.overflow="hidden",S.pinchMoveFramePromiseRes=null,S.pinchMoveFramePromise=new Promise(function(re){return S.pinchMoveFramePromiseRes=re}),S.updateScaleCenter({clientX:S.lastEvent.clientX,clientY:S.lastEvent.clientY}),I=S.mode.scale,z=I*S.lastEvent.scale/S.oldScale,I==z){U.next=13;break}return S.mode.scale=z,U.next=13,S.pinchMoveFramePromise;case 13:S.mode.$container.style.overflow="auto",S.oldScale=S.lastEvent.scale,S.pinchMoveFrame=null;case 16:case"end":return U.stop()}},T)}))),y(this,"_dragMove",function(){var T=A(dt().mark(function I(z){return dt().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!S.pinching){U.next=3;break}return U.next=3,S._pinchEnd();case 3:S.mode.$container.scrollTop-=z.dy,S.mode.$container.scrollLeft-=z.dx;case 5:case"end":return U.stop()}},I)}));return function(I){return T.apply(this,arguments)}}()),y(this,"_handleCtrlWheel",function(T){if(T.ctrlKey){T.preventDefault();var I=/Mac/i.test(navigator.platform)?.045:.03;S.updateScaleCenter(T),S.mode.autoFit="none",S.mode.scale*=1-Math.sign(T.deltaY)*I}}),this.mode=M,this.pinching=!1,this.pinchMoveFrame=null,this.pinchMoveFramePromise=Promise.resolve(),this.oldScale=1,this.lastEvent=null,this.attached=!1,this.bufferFn=window.requestAnimationFrame.bind(window)}return P(Ae,[{key:"attach",value:function(){this.attached||(this.attachCtrlZoom(),this.mode.$container.addEventListener("gesturestart",this._pinchStart),this.mode.$container.addEventListener("gesturechange",this._preventEvent),this.mode.$container.addEventListener("gestureend",this._pinchEnd),(0,$e.gn)()&&(this.touchesMonitor=new mn(this.mode.$container),this.touchesMonitor.attach()),this.mode.$container.style.touchAction="pan-x pan-y",this.interact=xe()(this.mode.$container),this.interact.gesturable({listeners:{start:this._pinchStart,end:this._pinchEnd}}),(0,$e.Tv)()&&(this.mode.$container.style.touchAction="none",this.interact.draggable({inertia:{resistance:2,minSpeed:100,allowResume:!0},listeners:{move:this._dragMove}})),this.attached=!0)}},{key:"detach",value:function(){var S,T;this.detachCtrlZoom(),this.mode.$container.removeEventListener("gesturestart",this._pinchStart),this.mode.$container.removeEventListener("gesturechange",this._preventEvent),this.mode.$container.removeEventListener("gestureend",this._pinchEnd),(S=this.touchesMonitor)===null||S===void 0||(T=S.detach)===null||T===void 0||T.call(S),this.interact.unset(),xe().removeDocument(document),this.attached=!1}},{key:"attachCtrlZoom",value:function(){window.addEventListener("wheel",this._handleCtrlWheel,{passive:!1})}},{key:"detachCtrlZoom",value:function(){window.removeEventListener("wheel",this._handleCtrlWheel)}},{key:"updateScaleCenter",value:function(S){var T=S.clientX,I=S.clientY,z=this.mode.htmlDimensionsCacher.boundingClientRect;this.scaleCenter={x:(T-z.left)/this.mode.htmlDimensionsCacher.clientWidth,y:(I-z.top)/this.mode.htmlDimensionsCacher.clientHeight}}},{key:"updateViewportOnZoom",value:function(S,T){var I,z=this.mode.$container,U=z.scrollTop,re=z.scrollLeft,he=this.mode.htmlDimensionsCacher.clientWidth,Se=this.mode.htmlDimensionsCacher.clientHeight,We=S/T,kt=this.scaleCenter.x,Pt=this.scaleCenter.y,Ht=We*(re+kt*he),Yt=We*(U+Pt*Se);z.scrollTop=Yt-Pt*Se,z.scrollLeft=Ht-kt*he,(I=this.pinchMoveFramePromiseRes)===null||I===void 0||I.call(this)}}]),Ae}(),mn=function(){function Ae(M){var S=this;E(this,Ae),y(this,"_updateTouchCount",function(T){S.touches=T.touches.length}),this.container=M,this.touches=0}return P(Ae,[{key:"attach",value:function(){this.container.addEventListener("touchstart",this._updateTouchCount),this.container.addEventListener("touchend",this._updateTouchCount)}},{key:"detach",value:function(){this.container.removeEventListener("touchstart",this._updateTouchCount),this.container.removeEventListener("touchend",this._updateTouchCount)}}]),Ae}();function bn(Ae){return bn=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(S){return typeof S=="undefined"?"undefined":_typeof(S)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},bn(Ae)}var qt=function(){function Ae(T){var I=this;(function(z,U){if(!_instanceof(z,U))throw new TypeError("Cannot call a class as a function")})(this,Ae),g(this,"clientWidth",100),g(this,"clientHeight",100),g(this,"boundingClientRect",{top:0,left:0}),g(this,"updateClientSizes",function(){var z=I.element.getBoundingClientRect();I.clientWidth=I.element.clientWidth,I.clientHeight=I.element.clientHeight,I.boundingClientRect.top=z.top,I.boundingClientRect.left=z.left}),g(this,"debouncedUpdateClientSizes",(0,ge.debounce)(this.updateClientSizes,150,!1)),this.element=T}var M,S;return M=Ae,S=[{key:"attachResizeListener",value:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).addEventListener("resize",this.debouncedUpdateClientSizes)}},{key:"detachResizeListener",value:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).removeEventListener("resize",this.debouncedUpdateClientSizes)}}],S&&p(M.prototype,S),Object.defineProperty(M,"prototype",{writable:!1}),Ae}();function Ln(Ae){return Ln=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(S){return typeof S=="undefined"?"undefined":_typeof(S)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},Ln(Ae)}var Nn=function(){function Ae(T,I){var z,U,re,he=this;(function(Se,We){if(!_instanceof(Se,We))throw new TypeError("Cannot call a class as a function")})(this,Ae),z=this,re=function(){he.element.classList.add(he.className),clearTimeout(he.timeout),he.timeout=setTimeout(function(){he.element.classList.remove(he.className)},600)},(U=j(U="onScroll"))in z?Object.defineProperty(z,U,{value:re,enumerable:!0,configurable:!0,writable:!0}):z[U]=re,this.element=T,this.className=I,this.timeout=null}var M,S;return M=Ae,(S=[{key:"attach",value:function(){this.element.addEventListener("scroll",this.onScroll)}},{key:"detach",value:function(){this.element.removeEventListener("scroll",this.onScroll)}}])&&x(M.prototype,S),Object.defineProperty(M,"prototype",{writable:!1}),Ae}();function ui(Ae){return ui=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(S){return typeof S=="undefined"?"undefined":_typeof(S)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},ui(Ae)}var Pr,Li=D(function Ae(M){var S=this;(function(T,I){if(!_instanceof(T,I))throw new TypeError("Cannot call a class as a function")})(this,Ae),F(this,"screenDPI",(0,ge.calcScreenDPI)()),F(this,"worldUnitsToRenderedPixels",function(T){return T*S.screenDPI}),F(this,"renderedPixelsToWorldUnits",function(T){return T/S.screenDPI}),F(this,"renderedPixelsToVisiblePixels",function(T){return T*S.mode.scale}),F(this,"visiblePixelsToRenderedPixels",function(T){return T/S.mode.scale}),F(this,"worldUnitsToVisiblePixels",function(T){return S.renderedPixelsToVisiblePixels(S.worldUnitsToRenderedPixels(T))}),F(this,"visiblePixelsToWorldUnits",function(T){return S.renderedPixelsToWorldUnits(S.visiblePixelsToRenderedPixels(T))}),this.mode=M});function Ri(Ae){return Ri=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(S){return typeof S=="undefined"?"undefined":_typeof(S)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},Ri(Ae)}function ho(Ae,M){return ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,I){return T.__proto__=I,T},ho(Ae,M)}function Zr(){Zr=function(){return Ae};var Ae={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(S,T){["method","field"].forEach(function(I){T.forEach(function(z){z.kind===I&&z.placement==="own"&&this.defineClassElement(S,z)},this)},this)},initializeClassElements:function(S,T){var I=S.prototype;["method","field"].forEach(function(z){T.forEach(function(U){var re=U.placement;if(U.kind===z&&(re==="static"||re==="prototype")){var he=re==="static"?S:I;this.defineClassElement(he,U)}},this)},this)},defineClassElement:function(S,T){var I=T.descriptor;if(T.kind==="field"){var z=T.initializer;I={enumerable:I.enumerable,writable:I.writable,configurable:I.configurable,value:z===void 0?void 0:z.call(S)}}Object.defineProperty(S,T.key,I)},decorateClass:function(S,T){var I=[],z=[],U={static:[],prototype:[],own:[]};if(S.forEach(function(he){this.addElementPlacement(he,U)},this),S.forEach(function(he){if(!V(he))return I.push(he);var Se=this.decorateElement(he,U);I.push(Se.element),I.push.apply(I,Se.extras),z.push.apply(z,Se.finishers)},this),!T)return{elements:I,finishers:z};var re=this.decorateConstructor(I,T);return z.push.apply(z,re.finishers),re.finishers=z,re},addElementPlacement:function(S,T,I){var z=T[S.placement];if(!I&&z.indexOf(S.key)!==-1)throw new TypeError("Duplicated element ("+S.key+")");z.push(S.key)},decorateElement:function(S,T){for(var I=[],z=[],U=S.decorators,re=U.length-1;re>=0;re--){var he=T[S.placement];he.splice(he.indexOf(S.key),1);var Se=this.fromElementDescriptor(S),We=this.toElementFinisherExtras((0,U[re])(Se)||Se);S=We.element,this.addElementPlacement(S,T),We.finisher&&z.push(We.finisher);var kt=We.extras;if(kt){for(var Pt=0;Pt<kt.length;Pt++)this.addElementPlacement(kt[Pt],T);I.push.apply(I,kt)}}return{element:S,finishers:z,extras:I}},decorateConstructor:function(S,T){for(var I=[],z=T.length-1;z>=0;z--){var U=this.fromClassDescriptor(S),re=this.toClassDescriptor((0,T[z])(U)||U);if(re.finisher!==void 0&&I.push(re.finisher),re.elements!==void 0){S=re.elements;for(var he=0;he<S.length-1;he++)for(var Se=he+1;Se<S.length;Se++)if(S[he].key===S[Se].key&&S[he].placement===S[Se].placement)throw new TypeError("Duplicated element ("+S[he].key+")")}}return{elements:S,finishers:I}},fromElementDescriptor:function(S){var T={kind:S.kind,key:S.key,placement:S.placement,descriptor:S.descriptor};return Object.defineProperty(T,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),S.kind==="field"&&(T.initializer=S.initializer),T},toElementDescriptors:function(S){var T;if(S!==void 0)return(T=S,function(I){if(Array.isArray(I))return I}(T)||ae(T)||G(T)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(I){var z=this.toElementDescriptor(I);return this.disallowProperty(I,"finisher","An element descriptor"),this.disallowProperty(I,"extras","An element descriptor"),z},this)},toElementDescriptor:function(S){var T=String(S.kind);if(T!=="method"&&T!=="field")throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+T+'"');var I=q(S.key),z=String(S.placement);if(z!=="static"&&z!=="prototype"&&z!=="own")throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+z+'"');var U=S.descriptor;this.disallowProperty(S,"elements","An element descriptor");var re={kind:T,key:I,placement:z,descriptor:Object.assign({},U)};return T!=="field"?this.disallowProperty(S,"initializer","A method descriptor"):(this.disallowProperty(U,"get","The property descriptor of a field descriptor"),this.disallowProperty(U,"set","The property descriptor of a field descriptor"),this.disallowProperty(U,"value","The property descriptor of a field descriptor"),re.initializer=S.initializer),re},toElementFinisherExtras:function(S){return{element:this.toElementDescriptor(S),finisher:oe(S,"finisher"),extras:this.toElementDescriptors(S.extras)}},fromClassDescriptor:function(S){var T={kind:"class",elements:S.map(this.fromElementDescriptor,this)};return Object.defineProperty(T,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),T},toClassDescriptor:function(S){var T=String(S.kind);if(T!=="class")throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+T+'"');this.disallowProperty(S,"key","A class descriptor"),this.disallowProperty(S,"placement","A class descriptor"),this.disallowProperty(S,"descriptor","A class descriptor"),this.disallowProperty(S,"initializer","A class descriptor"),this.disallowProperty(S,"extras","A class descriptor");var I=oe(S,"finisher");return{elements:this.toElementDescriptors(S.elements),finisher:I}},runClassFinishers:function(S,T){for(var I=0;I<T.length;I++){var z=(0,T[I])(S);if(z!==void 0){if(typeof z!="function")throw new TypeError("Finishers must return a constructor.");S=z}}return S},disallowProperty:function(S,T,I){if(S[T]!==void 0)throw new TypeError(I+" can't have a ."+T+" property.")}};return Ae}function hi(){return hi=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(M,S,T){var I=function(U,re){for(;!Object.prototype.hasOwnProperty.call(U,re)&&(U=qi(U))!==null;);return U}(M,S);if(I){var z=Object.getOwnPropertyDescriptor(I,S);return z.get?z.get.call(arguments.length<3?M:T):z.value}},hi.apply(this,arguments)}function qi(Ae){return qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},qi(Ae)}var bi=function(Ae,M,S,T){var I=Zr(),z=M(function(re){I.initializeInstanceElements(re,U.elements)},S),U=I.decorateClass(function(re){for(var he=[],Se=function(Yt){return Yt.kind==="method"&&Yt.key===Pt.key&&Yt.placement===Pt.placement},We=0;We<re.length;We++){var kt,Pt=re[We];if(Pt.kind==="method"&&(kt=he.find(Se)))if(Y(Pt.descriptor)||Y(kt.descriptor)){if(V(Pt)||V(kt))throw new ReferenceError("Duplicated methods ("+Pt.key+") can't be decorated.");kt.descriptor=Pt.descriptor}else{if(V(Pt)){if(V(kt))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+Pt.key+").");kt.decorators=Pt.decorators}ne(Pt,kt)}else he.push(Pt)}return he}(z.d.map(ce)),Ae);return I.initializeClassElements(z.F,U.elements),I.runClassFinishers(z.F,U.finishers)}([(0,_n.Mo)("br-mode-1up")],function(Ae,M){var S=function(T){(function(Se,We){if(typeof We!="function"&&We!==null)throw new TypeError("Super expression must either be null or a function");Se.prototype=Object.create(We&&We.prototype,{constructor:{value:Se,writable:!0,configurable:!0}}),Object.defineProperty(Se,"prototype",{writable:!1}),We&&ho(Se,We)})(he,T);var I,z,U,re=(z=he,U=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Se){return!1}}(),function(){var We,kt=qi(z);if(U){var Pt=qi(this).constructor;We=Reflect.construct(kt,arguments,Pt)}else We=kt.apply(this,arguments);return function(Ht,Yt){if(Yt&&(Ri(Yt)==="object"||typeof Yt=="function"))return Yt;if(Yt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H(Ht)}(this,We)});function he(Se,We){var kt;return function(Pt,Ht){if(!_instanceof(Pt,Ht))throw new TypeError("Cannot call a class as a function")}(this,he),kt=re.call(this),Ae(H(kt)),kt.book=Se,kt.br=We,kt}return I=he,Object.defineProperty(I,"prototype",{writable:!1}),I}(M);return{F:S,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,_n.Cb)({type:Object})],key:"book",value:void 0},{kind:"field",decorators:[(0,_n.Cb)({type:Array})],key:"pages",value:function(){return[]}},{kind:"field",decorators:[(0,_n.Cb)({type:Object})],key:"pageTops",value:function(){return{}}},{kind:"field",key:"coordSpace",value:function(){return new Li(this)}},{kind:"field",decorators:[(0,_n.Cb)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",decorators:[(0,_n.Cb)({type:Object})],key:"visibleRegion",value:function(){return{top:0,left:0,width:100,height:100}}},{kind:"field",decorators:[(0,_n.Cb)({type:Array,hasChanged:ge.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"field",decorators:[(0,_n.Cb)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",decorators:[(0,_n.IO)(".br-mode-1up__world")],key:"$world",value:void 0},{kind:"field",key:"worldDimensions",value:function(){return{width:100,height:100}}},{kind:"get",key:"worldStyle",value:function(){var I=this.coordSpace.worldUnitsToRenderedPixels;return{width:I(this.worldDimensions.width)+"px",height:I(this.worldDimensions.height)+"px"}}},{kind:"get",key:"$container",value:function(){return this}},{kind:"field",decorators:[(0,_n.IO)(".br-mode-1up__visible-world")],key:"$visibleWorld",value:void 0},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new qt(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new zt(this)}},{kind:"field",key:"scrollClassAdder",value:function(){return new Nn(this,"BRscrolling-active")}},{kind:"field",key:"SPACING_IN",value:function(){return .2}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"method",key:"jumpToIndex",value:function(I){var z=this,U=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).smooth,re=U!==void 0&&U;re&&(this.style.scrollBehavior="smooth"),this.scrollTop=this.coordSpace.worldUnitsToVisiblePixels(this.pageTops[I]-this.SPACING_IN/2),re&&setTimeout(function(){return z.style.scrollBehavior=""},100)}},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(I){hi(qi(S.prototype),"firstUpdated",this).call(this,I),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"initFirstRender",value:function(I){var z=this.book.getPage(I);this.scale=this.computeDefaultScale(z)}},{kind:"method",key:"updated",value:function(I){if(I.has("book")&&this.updatePages(),I.has("pages")&&(this.worldDimensions=this.computeWorldDimensions(),this.pageTops=this.computePageTops(this.pages,this.SPACING_IN)),I.has("visibleRegion")&&(this.visiblePages=this.computeVisiblePages()),I.has("visiblePages")&&(this.throttledUpdateRenderedPages(),this.visiblePages.length&&(this.br.displayedIndices=this.visiblePages.map(function(U){return U.index}),this.br.updateFirstIndex(this.br.displayedIndices[0]),this.br._components.navbar.updateNavIndexThrottled())),I.has("scale")){var z=I.get("scale");this.$visibleWorld.style.transform="scale(".concat(this.scale,")"),this.smoothZoomer.updateViewportOnZoom(this.scale,z),this.updateVisibleRegion(),this.$world.style.transform="scale(".concat(this.scale,")")}}},{kind:"method",key:"updatePages",value:function(){this.pages=(0,ge.genToArray)(this.book.pagesIterator({combineConsecutiveUnviewables:!0}))}},{kind:"method",key:"connectedCallback",value:function(){hi(qi(S.prototype),"connectedCallback",this).call(this),this.htmlDimensionsCacher.attachResizeListener(),this.attachScrollListeners(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.detachScrollListeners(),this.smoothZoomer.detach(),hi(qi(S.prototype),"disconnectedCallback",this).call(this)}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var I,z,U=this;return(0,Wt.dy)(Pr||(I=['\n      <div class="br-mode-1up__world" style=','></div>\n      <div class="br-mode-1up__visible-world">\n        ',"\n      </div>"],z||(z=I.slice(0)),Pr=Object.freeze(Object.defineProperties(I,{raw:{value:Object.freeze(z)}}))),(0,Re.V)(this.worldStyle),this.renderedPages.map(function(re){return U.renderPage(re)}))}},{kind:"field",key:"createPageContainer",value:function(){var I=this;return function(z){return I.pageContainerCache[z.index]||(I.pageContainerCache[z.index]=I.br._createPageContainer(z.index))}}},{kind:"field",key:"renderPage",value:function(){var I=this;return function(z){var U=I.coordSpace.worldUnitsToRenderedPixels,re=I.coordSpace.worldUnitsToVisiblePixels,he=I.coordSpace.visiblePixelsToWorldUnits(I.htmlDimensionsCacher.clientWidth),Se=U(z.widthInches),We=U(z.heightInches),kt=Math.max(I.SPACING_IN,(he-z.widthInches)/2),Pt=I.pageTops[z.index],Ht="translate(".concat(U(kt),"px, ").concat(U(Pt),"px)"),Yt=I.createPageContainer(z).update({dimensions:{width:Se,height:We,top:0,left:0},reduce:z.width/re(z.widthInches)}).$container[0];return Yt.style.transform=Ht,Yt.classList.toggle("BRpage-visible",I.visiblePages.includes(z)),Yt}}},{kind:"field",key:"updateVisibleRegion",value:function(){var I=this;return function(){var z=I.scrollTop,U=I.scrollLeft,re=I.htmlDimensionsCacher.clientWidth,he=I.htmlDimensionsCacher.clientHeight,Se=I.coordSpace.visiblePixelsToWorldUnits;I.visibleRegion={top:Se(z),height:Se(he),left:Se(U),width:Se(re)}}}},{kind:"method",key:"computeRenderedPages",value:function(){var I,z;return[(I=this.visiblePages[0])===null||I===void 0?void 0:I.prev].concat(Q(this.visiblePages),[(z=this.visiblePages[this.visiblePages.length-1])===null||z===void 0?void 0:z.next]).filter(function(U){return U}).slice(0,10)}},{kind:"field",key:"throttledUpdateRenderedPages",value:function(){var I=this;return(0,ge.throttle)(function(){I.renderedPages=I.computeRenderedPages(),I.requestUpdate()},100,null)}},{kind:"method",key:"computePageTops",value:function(I,z){var U,re={},he=z,Se=function(kt,Pt){var Ht=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&kt[Symbol.iterator]||kt["@@iterator"];if(!Ht){if(Array.isArray(kt)||(Ht=G(kt))){Ht&&(kt=Ht);var Yt=0,It=function(){};return{s:It,n:function(){return Yt>=kt.length?{done:!0}:{done:!1,value:kt[Yt++]}},e:function(Yn){throw Yn},f:It}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var nn,xn=!0,Mn=!1;return{s:function(){Ht=Ht.call(kt)},n:function(){var Yn=Ht.next();return xn=Yn.done,Yn},e:function(Yn){Mn=!0,nn=Yn},f:function(){try{xn||Ht.return==null||Ht.return()}finally{if(Mn)throw nn}}}}(I);try{for(Se.s();!(U=Se.n()).done;){var We=U.value;re[We.index]=he,he+=We.heightInches+z}}catch(kt){Se.e(kt)}finally{Se.f()}return re}},{kind:"method",key:"computeDefaultScale",value:function(I){var z=this.coordSpace.renderedPixelsToWorldUnits(this.clientWidth);return Math.min(1,z/(I.widthInches+2*this.SPACING_IN))||1}},{kind:"method",key:"computeWorldDimensions",value:function(){return{width:Math.max.apply(Math,Q(this.pages.map(function(I){return I.widthInches})))+2*this.SPACING_IN,height:(0,ge.sum)(this.pages.map(function(I){return I.heightInches}))+(this.pages.length+1)*this.SPACING_IN}}},{kind:"method",key:"computeVisiblePages",value:function(){var I=this;return this.pages.filter(function(z){var U=I.pageTops[z.index],re=U+z.heightInches,he=I.visibleRegion.top;return U<=he+I.visibleRegion.height&&re>=he})}},{kind:"field",key:"attachScrollListeners",value:function(){var I=this;return function(){I.addEventListener("scroll",I.updateVisibleRegion),I.scrollClassAdder.attach()}}},{kind:"field",key:"detachScrollListeners",value:function(){var I=this;return function(){I.removeEventListener("scroll",I.updateVisibleRegion),I.scrollClassAdder.detach()}}}]}},Wt.oi),ci=o(5311);function ei(Ae){return ei=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(S){return typeof S=="undefined"?"undefined":_typeof(S)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},ei(Ae)}var gt={dragSelector:">:first",acceptPropagatedEvent:!0,preventDefault:!0,dragstart:"mousedown touchstart",dragcontinue:"mousemove touchmove",dragend:"mouseup touchend",dragMinDistance:5,namespace:".ds",scrollWindow:!1},et=function(){function Ae(T){var I=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(U,re){if(!_instanceof(U,re))throw new TypeError("Cannot call a class as a function")})(this,Ae),Oe(this,"_dragStartHandler",function(U){return!!I._shouldAbort()||!(U.which>1||!I.settings.acceptPropagatedEvent&&U.target!=I.handling_element[0])&&(I.lastCoord=I.firstCoord=tt(U),I.handling_element.on(I.settings.dragcontinue,I._dragContinueHandler),I.settings.dragend.split(" ").forEach(function(re){I.handling_element[0].addEventListener(re,I._dragEndHandler,!0)}),I.settings.preventDefault?(U.preventDefault(),!1):void 0)}),Oe(this,"_dragContinueHandler",function(U){if(I._shouldAbort())return!0;var re=tt(U),he=re.left-I.lastCoord.left,Se=re.top-I.lastCoord.top,We=I.settings.scrollWindow?ci(window):I.handling_element;return We.scrollLeft(We.scrollLeft()-he),We.scrollTop(We.scrollTop()-Se),I.lastCoord=re,I.settings.preventDefault?(U.preventDefault(),!1):void 0}),Oe(this,"_dragEndHandler",function(U){if(I._shouldAbort())return!0;I.handling_element.off(I.settings.dragcontinue).off(I.settings.dragend),I.settings.dragend.split(" ").forEach(function(Se){I.handling_element[0].removeEventListener(Se,I._dragEndHandler,!0)});var re={left:Math.abs(I.lastCoord.left-I.firstCoord.left),top:Math.abs(I.lastCoord.top-I.firstCoord.top)},he=Math.max(re.left,re.top);return I.settings.preventDefault&&he>I.settings.dragMinDistance?(U.preventDefault(),U.stopImmediatePropagation(),U.stopPropagation(),!1):void 0}),this.handling_element=ci(T),this.settings=ci.extend({},gt,z||{}),this.firstCoord={left:0,top:0},this.lastCoord={left:0,top:0},this.settings.dragstart=ke(this.settings.dragstart,this.settings.namespace),this.settings.dragcontinue=ke(this.settings.dragcontinue,this.settings.namespace),this.handling_element.find(this.settings.dragSelector).on(this.settings.dragstart,this._dragStartHandler)}var M,S;return M=Ae,(S=[{key:"_shouldAbort",value:function(){return"ontouchstart"in window||"msmaxtouchpoints"in window.navigator}}])&&ie(M.prototype,S),Object.defineProperty(M,"prototype",{writable:!1}),Ae}(),yt=o(5311);function en(Ae){return en=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(S){return typeof S=="undefined"?"undefined":_typeof(S)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},en(Ae)}function on(){on=function(){return M};var Ae,M={},S=Object.prototype,T=S.hasOwnProperty,I=Object.defineProperty||function(Me,ye,Te){Me[ye]=Te.value},z=typeof Symbol=="function"?Symbol:{},U=z.iterator||"@@iterator",re=z.asyncIterator||"@@asyncIterator",he=z.toStringTag||"@@toStringTag";function Se(Me,ye,Te){return Object.defineProperty(Me,ye,{value:Te,enumerable:!0,configurable:!0,writable:!0}),Me[ye]}try{Se({},"")}catch(Me){Se=function(Te,ft,Ot){return Te[ft]=Ot}}function We(Me,ye,Te,ft){var Ot=ye&&_instanceof(ye.prototype,xn)?ye:xn,Ct=Object.create(Ot.prototype),sn=new Jn(ft||[]);return I(Ct,"_invoke",{value:Zn(Me,Te,sn)}),Ct}function kt(Me,ye,Te){try{return{type:"normal",arg:Me.call(ye,Te)}}catch(ft){return{type:"throw",arg:ft}}}M.wrap=We;var Pt="suspendedStart",Ht="suspendedYield",Yt="executing",It="completed",nn={};function xn(){}function Mn(){}function Sn(){}var Yn={};Se(Yn,U,function(){return this});var Un=Object.getPrototypeOf,Pn=Un&&Un(Un(ur([])));Pn&&Pn!==S&&T.call(Pn,U)&&(Yn=Pn);var Xn=Sn.prototype=xn.prototype=Object.create(Yn);function Gn(Me){["next","throw","return"].forEach(function(ye){Se(Me,ye,function(Te){return this._invoke(ye,Te)})})}function tr(Me,ye){function Te(Ot,Ct,sn,cn){var jn=kt(Me[Ot],Me,Ct);if(jn.type!=="throw"){var rr=jn.arg,ir=rr.value;return ir&&en(ir)=="object"&&T.call(ir,"__await")?ye.resolve(ir.__await).then(function(sr){Te("next",sr,sn,cn)},function(sr){Te("throw",sr,sn,cn)}):ye.resolve(ir).then(function(sr){rr.value=sr,sn(rr)},function(sr){return Te("throw",sr,sn,cn)})}cn(jn.arg)}var ft;I(this,"_invoke",{value:function(Ct,sn){function cn(){return new ye(function(jn,rr){Te(Ct,sn,jn,rr)})}return ft=ft?ft.then(cn,cn):cn()}})}function Zn(Me,ye,Te){var ft=Pt;return function(Ot,Ct){if(ft===Yt)throw new Error("Generator is already running");if(ft===It){if(Ot==="throw")throw Ct;return{value:Ae,done:!0}}for(Te.method=Ot,Te.arg=Ct;;){var sn=Te.delegate;if(sn){var cn=Qn(sn,Te);if(cn){if(cn===nn)continue;return cn}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(ft===Pt)throw ft=It,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);ft=Yt;var jn=kt(Me,ye,Te);if(jn.type==="normal"){if(ft=Te.done?It:Ht,jn.arg===nn)continue;return{value:jn.arg,done:Te.done}}jn.type==="throw"&&(ft=It,Te.method="throw",Te.arg=jn.arg)}}}function Qn(Me,ye){var Te=ye.method,ft=Me.iterator[Te];if(ft===Ae)return ye.delegate=null,Te==="throw"&&Me.iterator.return&&(ye.method="return",ye.arg=Ae,Qn(Me,ye),ye.method==="throw")||Te!=="return"&&(ye.method="throw",ye.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),nn;var Ot=kt(ft,Me.iterator,ye.arg);if(Ot.type==="throw")return ye.method="throw",ye.arg=Ot.arg,ye.delegate=null,nn;var Ct=Ot.arg;return Ct?Ct.done?(ye[Me.resultName]=Ct.value,ye.next=Me.nextLoc,ye.method!=="return"&&(ye.method="next",ye.arg=Ae),ye.delegate=null,nn):Ct:(ye.method="throw",ye.arg=new TypeError("iterator result is not an object"),ye.delegate=null,nn)}function wr(Me){var ye={tryLoc:Me[0]};1 in Me&&(ye.catchLoc=Me[1]),2 in Me&&(ye.finallyLoc=Me[2],ye.afterLoc=Me[3]),this.tryEntries.push(ye)}function pr(Me){var ye=Me.completion||{};ye.type="normal",delete ye.arg,Me.completion=ye}function Jn(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(wr,this),this.reset(!0)}function ur(Me){if(Me||Me===""){var ye=Me[U];if(ye)return ye.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var Te=-1,ft=function Ot(){for(;++Te<Me.length;)if(T.call(Me,Te))return Ot.value=Me[Te],Ot.done=!1,Ot;return Ot.value=Ae,Ot.done=!0,Ot};return ft.next=ft}}throw new TypeError(en(Me)+" is not iterable")}return Mn.prototype=Sn,I(Xn,"constructor",{value:Sn,configurable:!0}),I(Sn,"constructor",{value:Mn,configurable:!0}),Mn.displayName=Se(Sn,he,"GeneratorFunction"),M.isGeneratorFunction=function(Me){var ye=typeof Me=="function"&&Me.constructor;return!!ye&&(ye===Mn||(ye.displayName||ye.name)==="GeneratorFunction")},M.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,Sn):(Me.__proto__=Sn,Se(Me,he,"GeneratorFunction")),Me.prototype=Object.create(Xn),Me},M.awrap=function(Me){return{__await:Me}},Gn(tr.prototype),Se(tr.prototype,re,function(){return this}),M.AsyncIterator=tr,M.async=function(Me,ye,Te,ft,Ot){Ot===void 0&&(Ot=Promise);var Ct=new tr(We(Me,ye,Te,ft),Ot);return M.isGeneratorFunction(ye)?Ct:Ct.next().then(function(sn){return sn.done?sn.value:Ct.next()})},Gn(Xn),Se(Xn,he,"Generator"),Se(Xn,U,function(){return this}),Se(Xn,"toString",function(){return"[object Generator]"}),M.keys=function(Me){var ye=Object(Me),Te=[];for(var ft in ye)Te.push(ft);return Te.reverse(),function Ot(){for(;Te.length;){var Ct=Te.pop();if(Ct in ye)return Ot.value=Ct,Ot.done=!1,Ot}return Ot.done=!0,Ot}},M.values=ur,Jn.prototype={constructor:Jn,reset:function(ye){if(this.prev=0,this.next=0,this.sent=this._sent=Ae,this.done=!1,this.delegate=null,this.method="next",this.arg=Ae,this.tryEntries.forEach(pr),!ye)for(var Te in this)Te.charAt(0)==="t"&&T.call(this,Te)&&!isNaN(+Te.slice(1))&&(this[Te]=Ae)},stop:function(){this.done=!0;var ye=this.tryEntries[0].completion;if(ye.type==="throw")throw ye.arg;return this.rval},dispatchException:function(ye){if(this.done)throw ye;var Te=this;function ft(rr,ir){return sn.type="throw",sn.arg=ye,Te.next=rr,ir&&(Te.method="next",Te.arg=Ae),!!ir}for(var Ot=this.tryEntries.length-1;Ot>=0;--Ot){var Ct=this.tryEntries[Ot],sn=Ct.completion;if(Ct.tryLoc==="root")return ft("end");if(Ct.tryLoc<=this.prev){var cn=T.call(Ct,"catchLoc"),jn=T.call(Ct,"finallyLoc");if(cn&&jn){if(this.prev<Ct.catchLoc)return ft(Ct.catchLoc,!0);if(this.prev<Ct.finallyLoc)return ft(Ct.finallyLoc)}else if(cn){if(this.prev<Ct.catchLoc)return ft(Ct.catchLoc,!0)}else{if(!jn)throw new Error("try statement without catch or finally");if(this.prev<Ct.finallyLoc)return ft(Ct.finallyLoc)}}}},abrupt:function(ye,Te){for(var ft=this.tryEntries.length-1;ft>=0;--ft){var Ot=this.tryEntries[ft];if(Ot.tryLoc<=this.prev&&T.call(Ot,"finallyLoc")&&this.prev<Ot.finallyLoc){var Ct=Ot;break}}Ct&&(ye==="break"||ye==="continue")&&Ct.tryLoc<=Te&&Te<=Ct.finallyLoc&&(Ct=null);var sn=Ct?Ct.completion:{};return sn.type=ye,sn.arg=Te,Ct?(this.method="next",this.next=Ct.finallyLoc,nn):this.complete(sn)},complete:function(ye,Te){if(ye.type==="throw")throw ye.arg;return ye.type==="break"||ye.type==="continue"?this.next=ye.arg:ye.type==="return"?(this.rval=this.arg=ye.arg,this.method="return",this.next="end"):ye.type==="normal"&&Te&&(this.next=Te),nn},finish:function(ye){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.finallyLoc===ye)return this.complete(ft.completion,ft.afterLoc),pr(ft),nn}},catch:function(ye){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.tryLoc===ye){var Ot=ft.completion;if(Ot.type==="throw"){var Ct=Ot.arg;pr(ft)}return Ct}}throw new Error("illegal catch attempt")},delegateYield:function(ye,Te,ft){return this.delegate={iterator:ur(ye),resultName:Te,nextLoc:ft},this.method==="next"&&(this.arg=Ae),nn}},M}var In,Kn,dr,An,Gr,Ur,_r,be,Gi=function(){function Ae(T,I){(function(z,U){if(!_instanceof(z,U))throw new TypeError("Cannot call a class as a function")})(this,Ae),this.br=T,this.book=I,this.mode1UpLit=new bi(I,T),this.$el=yt(this.mode1UpLit).addClass("br-mode-1up__root BRmode1up"),this.everShown=!1}var M,S;return M=Ae,(S=[{key:"$brContainer",get:function(){return this.br.refs.$brContainer}},{key:"prepare",value:function(){var I=this,z=this.br.currentIndex();this.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),setTimeout(Qe(on().mark(function U(){return on().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(I.everShown){re.next=7;break}return I.mode1UpLit.initFirstRender(z),I.everShown=!0,I.mode1UpLit.requestUpdate(),re.next=6,I.mode1UpLit.updateComplete;case 6:new et(I.mode1UpLit,{preventDefault:!0,dragSelector:".br-mode-1up__visible-world",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"});case 7:I.mode1UpLit.jumpToIndex(z),setTimeout(function(){I.mode1UpLit.updateVisibleRegion()});case 9:case"end":return re.stop()}},U)}))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(I,z,U,re){var he=Math.abs(this.br.currentIndex()-I),Se=!re&&he>0&&he<=4;this.mode1UpLit.jumpToIndex(I,{smooth:Se})}},{key:"zoom",value:function(I){switch(I){case"in":this.mode1UpLit.zoomIn();break;case"out":this.mode1UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(I))}}},{key:"resizePageView",value:function(){this.mode1UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode1UpLit.requestUpdate()}}])&&ht(M.prototype,S),Object.defineProperty(M,"prototype",{writable:!1}),Ae}(),Vr=(o(2462),o(5311));function di(Ae){return di=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(S){return typeof S=="undefined"?"undefined":_typeof(S)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},di(Ae)}function Yr(){Yr=function(){return M};var Ae,M={},S=Object.prototype,T=S.hasOwnProperty,I=Object.defineProperty||function(Me,ye,Te){Me[ye]=Te.value},z=typeof Symbol=="function"?Symbol:{},U=z.iterator||"@@iterator",re=z.asyncIterator||"@@asyncIterator",he=z.toStringTag||"@@toStringTag";function Se(Me,ye,Te){return Object.defineProperty(Me,ye,{value:Te,enumerable:!0,configurable:!0,writable:!0}),Me[ye]}try{Se({},"")}catch(Me){Se=function(Te,ft,Ot){return Te[ft]=Ot}}function We(Me,ye,Te,ft){var Ot=ye&&_instanceof(ye.prototype,xn)?ye:xn,Ct=Object.create(Ot.prototype),sn=new Jn(ft||[]);return I(Ct,"_invoke",{value:Zn(Me,Te,sn)}),Ct}function kt(Me,ye,Te){try{return{type:"normal",arg:Me.call(ye,Te)}}catch(ft){return{type:"throw",arg:ft}}}M.wrap=We;var Pt="suspendedStart",Ht="suspendedYield",Yt="executing",It="completed",nn={};function xn(){}function Mn(){}function Sn(){}var Yn={};Se(Yn,U,function(){return this});var Un=Object.getPrototypeOf,Pn=Un&&Un(Un(ur([])));Pn&&Pn!==S&&T.call(Pn,U)&&(Yn=Pn);var Xn=Sn.prototype=xn.prototype=Object.create(Yn);function Gn(Me){["next","throw","return"].forEach(function(ye){Se(Me,ye,function(Te){return this._invoke(ye,Te)})})}function tr(Me,ye){function Te(Ot,Ct,sn,cn){var jn=kt(Me[Ot],Me,Ct);if(jn.type!=="throw"){var rr=jn.arg,ir=rr.value;return ir&&di(ir)=="object"&&T.call(ir,"__await")?ye.resolve(ir.__await).then(function(sr){Te("next",sr,sn,cn)},function(sr){Te("throw",sr,sn,cn)}):ye.resolve(ir).then(function(sr){rr.value=sr,sn(rr)},function(sr){return Te("throw",sr,sn,cn)})}cn(jn.arg)}var ft;I(this,"_invoke",{value:function(Ct,sn){function cn(){return new ye(function(jn,rr){Te(Ct,sn,jn,rr)})}return ft=ft?ft.then(cn,cn):cn()}})}function Zn(Me,ye,Te){var ft=Pt;return function(Ot,Ct){if(ft===Yt)throw new Error("Generator is already running");if(ft===It){if(Ot==="throw")throw Ct;return{value:Ae,done:!0}}for(Te.method=Ot,Te.arg=Ct;;){var sn=Te.delegate;if(sn){var cn=Qn(sn,Te);if(cn){if(cn===nn)continue;return cn}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(ft===Pt)throw ft=It,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);ft=Yt;var jn=kt(Me,ye,Te);if(jn.type==="normal"){if(ft=Te.done?It:Ht,jn.arg===nn)continue;return{value:jn.arg,done:Te.done}}jn.type==="throw"&&(ft=It,Te.method="throw",Te.arg=jn.arg)}}}function Qn(Me,ye){var Te=ye.method,ft=Me.iterator[Te];if(ft===Ae)return ye.delegate=null,Te==="throw"&&Me.iterator.return&&(ye.method="return",ye.arg=Ae,Qn(Me,ye),ye.method==="throw")||Te!=="return"&&(ye.method="throw",ye.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),nn;var Ot=kt(ft,Me.iterator,ye.arg);if(Ot.type==="throw")return ye.method="throw",ye.arg=Ot.arg,ye.delegate=null,nn;var Ct=Ot.arg;return Ct?Ct.done?(ye[Me.resultName]=Ct.value,ye.next=Me.nextLoc,ye.method!=="return"&&(ye.method="next",ye.arg=Ae),ye.delegate=null,nn):Ct:(ye.method="throw",ye.arg=new TypeError("iterator result is not an object"),ye.delegate=null,nn)}function wr(Me){var ye={tryLoc:Me[0]};1 in Me&&(ye.catchLoc=Me[1]),2 in Me&&(ye.finallyLoc=Me[2],ye.afterLoc=Me[3]),this.tryEntries.push(ye)}function pr(Me){var ye=Me.completion||{};ye.type="normal",delete ye.arg,Me.completion=ye}function Jn(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(wr,this),this.reset(!0)}function ur(Me){if(Me||Me===""){var ye=Me[U];if(ye)return ye.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var Te=-1,ft=function Ot(){for(;++Te<Me.length;)if(T.call(Me,Te))return Ot.value=Me[Te],Ot.done=!1,Ot;return Ot.value=Ae,Ot.done=!0,Ot};return ft.next=ft}}throw new TypeError(di(Me)+" is not iterable")}return Mn.prototype=Sn,I(Xn,"constructor",{value:Sn,configurable:!0}),I(Sn,"constructor",{value:Mn,configurable:!0}),Mn.displayName=Se(Sn,he,"GeneratorFunction"),M.isGeneratorFunction=function(Me){var ye=typeof Me=="function"&&Me.constructor;return!!ye&&(ye===Mn||(ye.displayName||ye.name)==="GeneratorFunction")},M.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,Sn):(Me.__proto__=Sn,Se(Me,he,"GeneratorFunction")),Me.prototype=Object.create(Xn),Me},M.awrap=function(Me){return{__await:Me}},Gn(tr.prototype),Se(tr.prototype,re,function(){return this}),M.AsyncIterator=tr,M.async=function(Me,ye,Te,ft,Ot){Ot===void 0&&(Ot=Promise);var Ct=new tr(We(Me,ye,Te,ft),Ot);return M.isGeneratorFunction(ye)?Ct:Ct.next().then(function(sn){return sn.done?sn.value:Ct.next()})},Gn(Xn),Se(Xn,he,"Generator"),Se(Xn,U,function(){return this}),Se(Xn,"toString",function(){return"[object Generator]"}),M.keys=function(Me){var ye=Object(Me),Te=[];for(var ft in ye)Te.push(ft);return Te.reverse(),function Ot(){for(;Te.length;){var Ct=Te.pop();if(Ct in ye)return Ot.value=Ct,Ot.done=!1,Ot}return Ot.done=!0,Ot}},M.values=ur,Jn.prototype={constructor:Jn,reset:function(ye){if(this.prev=0,this.next=0,this.sent=this._sent=Ae,this.done=!1,this.delegate=null,this.method="next",this.arg=Ae,this.tryEntries.forEach(pr),!ye)for(var Te in this)Te.charAt(0)==="t"&&T.call(this,Te)&&!isNaN(+Te.slice(1))&&(this[Te]=Ae)},stop:function(){this.done=!0;var ye=this.tryEntries[0].completion;if(ye.type==="throw")throw ye.arg;return this.rval},dispatchException:function(ye){if(this.done)throw ye;var Te=this;function ft(rr,ir){return sn.type="throw",sn.arg=ye,Te.next=rr,ir&&(Te.method="next",Te.arg=Ae),!!ir}for(var Ot=this.tryEntries.length-1;Ot>=0;--Ot){var Ct=this.tryEntries[Ot],sn=Ct.completion;if(Ct.tryLoc==="root")return ft("end");if(Ct.tryLoc<=this.prev){var cn=T.call(Ct,"catchLoc"),jn=T.call(Ct,"finallyLoc");if(cn&&jn){if(this.prev<Ct.catchLoc)return ft(Ct.catchLoc,!0);if(this.prev<Ct.finallyLoc)return ft(Ct.finallyLoc)}else if(cn){if(this.prev<Ct.catchLoc)return ft(Ct.catchLoc,!0)}else{if(!jn)throw new Error("try statement without catch or finally");if(this.prev<Ct.finallyLoc)return ft(Ct.finallyLoc)}}}},abrupt:function(ye,Te){for(var ft=this.tryEntries.length-1;ft>=0;--ft){var Ot=this.tryEntries[ft];if(Ot.tryLoc<=this.prev&&T.call(Ot,"finallyLoc")&&this.prev<Ot.finallyLoc){var Ct=Ot;break}}Ct&&(ye==="break"||ye==="continue")&&Ct.tryLoc<=Te&&Te<=Ct.finallyLoc&&(Ct=null);var sn=Ct?Ct.completion:{};return sn.type=ye,sn.arg=Te,Ct?(this.method="next",this.next=Ct.finallyLoc,nn):this.complete(sn)},complete:function(ye,Te){if(ye.type==="throw")throw ye.arg;return ye.type==="break"||ye.type==="continue"?this.next=ye.arg:ye.type==="return"?(this.rval=this.arg=ye.arg,this.method="return",this.next="end"):ye.type==="normal"&&Te&&(this.next=Te),nn},finish:function(ye){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.finallyLoc===ye)return this.complete(ft.completion,ft.afterLoc),pr(ft),nn}},catch:function(ye){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.tryLoc===ye){var Ot=ft.completion;if(Ot.type==="throw"){var Ct=Ot.arg;pr(ft)}return Ct}}throw new Error("illegal catch attempt")},delegateYield:function(ye,Te,ft){return this.delegate={iterator:ur(ye),resultName:Te,nextLoc:ft},this.method==="next"&&(this.arg=Ae),nn}},M}function ln(Ae,M){return ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,I){return T.__proto__=I,T},ln(Ae,M)}function dn(){dn=function(){return Ae};var Ae={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(S,T){["method","field"].forEach(function(I){T.forEach(function(z){z.kind===I&&z.placement==="own"&&this.defineClassElement(S,z)},this)},this)},initializeClassElements:function(S,T){var I=S.prototype;["method","field"].forEach(function(z){T.forEach(function(U){var re=U.placement;if(U.kind===z&&(re==="static"||re==="prototype")){var he=re==="static"?S:I;this.defineClassElement(he,U)}},this)},this)},defineClassElement:function(S,T){var I=T.descriptor;if(T.kind==="field"){var z=T.initializer;I={enumerable:I.enumerable,writable:I.writable,configurable:I.configurable,value:z===void 0?void 0:z.call(S)}}Object.defineProperty(S,T.key,I)},decorateClass:function(S,T){var I=[],z=[],U={static:[],prototype:[],own:[]};if(S.forEach(function(he){this.addElementPlacement(he,U)},this),S.forEach(function(he){if(!Ge(he))return I.push(he);var Se=this.decorateElement(he,U);I.push(Se.element),I.push.apply(I,Se.extras),z.push.apply(z,Se.finishers)},this),!T)return{elements:I,finishers:z};var re=this.decorateConstructor(I,T);return z.push.apply(z,re.finishers),re.finishers=z,re},addElementPlacement:function(S,T,I){var z=T[S.placement];if(!I&&z.indexOf(S.key)!==-1)throw new TypeError("Duplicated element ("+S.key+")");z.push(S.key)},decorateElement:function(S,T){for(var I=[],z=[],U=S.decorators,re=U.length-1;re>=0;re--){var he=T[S.placement];he.splice(he.indexOf(S.key),1);var Se=this.fromElementDescriptor(S),We=this.toElementFinisherExtras((0,U[re])(Se)||Se);S=We.element,this.addElementPlacement(S,T),We.finisher&&z.push(We.finisher);var kt=We.extras;if(kt){for(var Pt=0;Pt<kt.length;Pt++)this.addElementPlacement(kt[Pt],T);I.push.apply(I,kt)}}return{element:S,finishers:z,extras:I}},decorateConstructor:function(S,T){for(var I=[],z=T.length-1;z>=0;z--){var U=this.fromClassDescriptor(S),re=this.toClassDescriptor((0,T[z])(U)||U);if(re.finisher!==void 0&&I.push(re.finisher),re.elements!==void 0){S=re.elements;for(var he=0;he<S.length-1;he++)for(var Se=he+1;Se<S.length;Se++)if(S[he].key===S[Se].key&&S[he].placement===S[Se].placement)throw new TypeError("Duplicated element ("+S[he].key+")")}}return{elements:S,finishers:I}},fromElementDescriptor:function(S){var T={kind:S.kind,key:S.key,placement:S.placement,descriptor:S.descriptor};return Object.defineProperty(T,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),S.kind==="field"&&(T.initializer=S.initializer),T},toElementDescriptors:function(S){var T;if(S!==void 0)return(T=S,function(I){if(Array.isArray(I))return I}(T)||_t(T)||it(T)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(I){var z=this.toElementDescriptor(I);return this.disallowProperty(I,"finisher","An element descriptor"),this.disallowProperty(I,"extras","An element descriptor"),z},this)},toElementDescriptor:function(S){var T=String(S.kind);if(T!=="method"&&T!=="field")throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+T+'"');var I=rt(S.key),z=String(S.placement);if(z!=="static"&&z!=="prototype"&&z!=="own")throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+z+'"');var U=S.descriptor;this.disallowProperty(S,"elements","An element descriptor");var re={kind:T,key:I,placement:z,descriptor:Object.assign({},U)};return T!=="field"?this.disallowProperty(S,"initializer","A method descriptor"):(this.disallowProperty(U,"get","The property descriptor of a field descriptor"),this.disallowProperty(U,"set","The property descriptor of a field descriptor"),this.disallowProperty(U,"value","The property descriptor of a field descriptor"),re.initializer=S.initializer),re},toElementFinisherExtras:function(S){return{element:this.toElementDescriptor(S),finisher:He(S,"finisher"),extras:this.toElementDescriptors(S.extras)}},fromClassDescriptor:function(S){var T={kind:"class",elements:S.map(this.fromElementDescriptor,this)};return Object.defineProperty(T,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),T},toClassDescriptor:function(S){var T=String(S.kind);if(T!=="class")throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+T+'"');this.disallowProperty(S,"key","A class descriptor"),this.disallowProperty(S,"placement","A class descriptor"),this.disallowProperty(S,"descriptor","A class descriptor"),this.disallowProperty(S,"initializer","A class descriptor"),this.disallowProperty(S,"extras","A class descriptor");var I=He(S,"finisher");return{elements:this.toElementDescriptors(S.elements),finisher:I}},runClassFinishers:function(S,T){for(var I=0;I<T.length;I++){var z=(0,T[I])(S);if(z!==void 0){if(typeof z!="function")throw new TypeError("Finishers must return a constructor.");S=z}}return S},disallowProperty:function(S,T,I){if(S[T]!==void 0)throw new TypeError(I+" can't have a ."+T+" property.")}};return Ae}function hn(){return hn=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(M,S,T){var I=function(U,re){for(;!Object.prototype.hasOwnProperty.call(U,re)&&(U=Hn(U))!==null;);return U}(M,S);if(I){var z=Object.getOwnPropertyDescriptor(I,S);return z.get?z.get.call(arguments.length<3?M:T):z.value}},hn.apply(this,arguments)}function Hn(Ae){return Hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},Hn(Ae)}var mr=pt([(0,_n.Mo)("br-mode-2up")],function(Ae,M){var S,T,I=function(z){Ke(re,z);var U=Pe(re);function re(he,Se){var We;return Ze(this,re),We=U.call(this),Ae(at(We)),We.book=he,We.br=Se,We}return Ne(re)}(M);return{F:I,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,_n.Cb)({type:Object})],key:"book",value:void 0},{kind:"field",key:"coordSpace",value:function(){return new Li(this)}},{kind:"field",decorators:[(0,_n.Cb)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",key:"initialScale",value:function(){return 1}},{kind:"field",decorators:[(0,_n.Cb)({type:String})],key:"autoFit",value:function(){return"auto"}},{kind:"field",key:"flipSpeed",value:function(){return 400}},{kind:"field",decorators:[(0,_n.IO)(".br-mode-2up__leafs--flipping")],key:"$flippingEdges",value:void 0},{kind:"field",decorators:[(0,_n.Cb)({type:Array,hasChanged:ge.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"get",key:"pageLeft",value:function(){return this.visiblePages.find(function(U){return U.pageSide=="L"})}},{kind:"get",key:"pageRight",value:function(){return this.visiblePages.find(function(U){return U.pageSide=="R"})}},{kind:"field",decorators:[(0,_n.Cb)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",key:"activeFlip",value:function(){return null}},{kind:"field",key:"_leftCoverWidth",value:function(){return 0}},{kind:"get",key:"$container",value:function(){return this}},{kind:"get",key:"$visibleWorld",value:function(){return this.$book}},{kind:"field",decorators:[(0,_n.IO)(".br-mode-2up__book")],key:"$book",value:void 0},{kind:"get",key:"positions",value:function(){return this.computePositions(this.pageLeft,this.pageRight)}},{kind:"method",key:"computePageHeight",value:function(U){return this.book.getMedianPageSizeInches().height}},{kind:"method",key:"computePageWidth",value:function(U){return U.widthInches*this.computePageHeight(U)/U.heightInches}},{kind:"method",key:"computePositions",value:function(U,re){var he,Se,We,kt,Pt=this.computePageWidth.bind(this),Ht=this.book.getNumLeafs(),Yt=this.activeFlip?Math.ceil(this.activeFlip.pagesFlippingCount/2)*this.PAGE_THICKNESS_IN:0,It=this.book.pageProgression=="lr"?(he=U==null?void 0:U.index)!==null&&he!==void 0?he:0:U?Ht-U.index:0,nn=this._leftCoverWidth+It*this.PAGE_THICKNESS_IN,xn=nn,Mn=Pt(U||re.right),Sn=nn-Mn,Yn=Sn,Un=((Se=this.activeFlip)===null||Se===void 0?void 0:Se.direction)!="left"?0:Yt,Pn=Math.ceil(It/2)*this.PAGE_THICKNESS_IN-Un,Xn=Un+Pn,Gn=Yn-Un,tr=Gn-Pn,Zn=nn,Qn=re?Pt(re):0,wr=Zn+Qn,pr=this.book.pageProgression=="lr"?re?Ht-re.index:0:(We=re==null?void 0:re.index)!==null&&We!==void 0?We:0,Jn=wr,ur=((kt=this.activeFlip)===null||kt===void 0?void 0:kt.direction)!="right"?0:Yt,Me=Jn+ur,ye=Math.ceil(pr/2)*this.PAGE_THICKNESS_IN-ur,Te=Jn+ye+ur;return{leafEdgesLeftStart:tr,leafEdgesLeftMainWidth:Pn,leafEdgesLeftMovingStart:Gn,leafEdgesLeftMovingWidth:Un,leafEdgesLeftEnd:Yn,leafEdgesLeftFullWidth:Xn,pageLeftStart:Sn,pageLeftWidth:Mn,pageLeftEnd:xn,gutter:nn,pageRightStart:Zn,pageRightWidth:Qn,pageRightEnd:wr,leafEdgesRightStart:Jn,leafEdgesRightMovingWidth:ur,leafEdgesRightMainStart:Me,leafEdgesRightMainWidth:ye,leafEdgesRightEnd:Te,leafEdgesRightFullWidth:ur+ye,spreadWidth:wr-Sn,bookWidth:Te-tr}}},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new qt(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new zt(this)}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"field",key:"PAGE_THICKNESS_IN",value:function(){return .002}},{kind:"method",key:"jumpToIndex",value:(T=Le(Yr().mark(function z(U){var re,he,Se=arguments;return Yr().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:return re=(Se.length>1&&Se[1]!==void 0?Se[1]:{}).smooth,he=re===void 0||re,We.next=3,this.flipAnimation(U,{animate:he});case 3:case"end":return We.stop()}},z,this)})),function(z){return T.apply(this,arguments)})},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(U){hn(Hn(I.prototype),"firstUpdated",this).call(this,U),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"connectedCallback",value:function(){hn(Hn(I.prototype),"connectedCallback",this).call(this),this.htmlDimensionsCacher.attachResizeListener(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.smoothZoomer.detach(),hn(Hn(I.prototype),"disconnectedCallback",this).call(this)}},{kind:"method",key:"updated",value:function(U){if(U.has("book")&&(this._leftCoverWidth=this.computePageWidth(this.book.getPage(this.book.pageProgression=="lr"?0:-1))),U.has("visiblePages")&&(this.renderedPages=this.computeRenderedPages(),this.br.displayedIndices=this.visiblePages.map(function(he){return he.index}),this.br.updateFirstIndex(this.br.displayedIndices[0]),this.br._components.navbar.updateNavIndexThrottled()),U.has("autoFit")&&this.autoFit!="none"&&this.resizeViaAutofit(),U.has("scale")){var re=U.get("scale");this.recenter(),this.smoothZoomer.updateViewportOnZoom(this.scale,re)}}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var U=this;return(0,Wt.dy)(In||(In=bt(['\n      <div class="br-mode-2up__book" @mouseup=',">\n        ","\n        ","\n        ","\n      </div>"])),this.handlePageClick,this.renderLeafEdges("left"),this.renderedPages.map(function(re){return U.renderPage(re)}),this.renderLeafEdges("right"))}},{kind:"field",key:"createPageContainer",value:function(){var U=this;return function(re){return U.pageContainerCache[re.index]||(U.pageContainerCache[re.index]=U.br._createPageContainer(re.index))}}},{kind:"method",key:"initFirstRender",value:function(U){var re=this.book.getPage(U),he=re.spread;this.visiblePages=(this.book.pageProgression=="lr"?[he.left,he.right]:[he.right,he.left]).filter(function(Se){return Se}),this.htmlDimensionsCacher.updateClientSizes(),this.resizeViaAutofit(re),this.initialScale=this.scale}},{kind:"field",key:"renderPage",value:function(){var U=this;return function(re){var he=U.coordSpace.worldUnitsToRenderedPixels,Se=U.coordSpace.worldUnitsToVisiblePixels,We=he(U.computePageWidth(re)),kt=he(U.computePageHeight(re)),Pt=U.visiblePages.map(function(It){return It.index}).includes(re.index),Ht=U.computePositions(re.spread.left,re.spread.right),Yt=U.createPageContainer(re).update({dimensions:{width:We,height:kt,top:0,left:he(re.pageSide=="L"?Ht.pageLeftStart:Ht.pageLeftEnd)},reduce:re.width/Se(U.computePageWidth(re))}).$container[0];return Yt.classList.toggle("BRpage-visible",Pt),Yt}}},{kind:"field",key:"renderLeafEdges",value:function(){var U=this;return function(re){var he;if(!U.visiblePages.length)return(0,Wt.dy)(Kn||(Kn=bt([""])));if(!(re=="left"?U.positions.leafEdgesLeftFullWidth:U.positions.leafEdgesRightFullWidth))return(0,Wt.dy)(dr||(dr=bt([""])));var Se=U.coordSpace.worldUnitsToRenderedPixels,We=Se(U.computePageHeight(U.visiblePages[0])),kt=((he=U.activeFlip)===null||he===void 0?void 0:he.direction)==re,Pt=U.book.getPage(U.book.pageProgression=="lr"?0:U.book.getNumLeafs()-1),Ht=U.book.getPage(U.book.pageProgression=="lr"?U.book.getNumLeafs()-1:0),Yt=kt?U.activeFlip.pagesFlippingCount:0,It=re=="left"?[Pt.index,U.pageLeft.goLeft(Yt).index]:[U.pageRight.goRight(Yt).index,Ht.index],nn={width:"".concat(Se(re=="left"?U.positions.leafEdgesLeftMainWidth:U.positions.leafEdgesRightMainWidth),"px"),height:"".concat(We,"px"),left:"".concat(Se(re=="left"?U.positions.leafEdgesLeftStart:U.positions.leafEdgesRightMainStart),"px")},xn=(0,Wt.dy)(An||(An=bt(["\n      <br-leaf-edges\n        leftIndex=","\n        rightIndex=","\n        .book=","\n        .pageClickHandler=","\n        side=",'\n        class="br-mode-2up__leafs br-mode-2up__leafs--','"\n        style=',"\n      ></br-leaf-edges>\n    "])),It[0],It[1],U.book,function(Un){return U.br.jumpToIndex(Un)},re,re,(0,Re.V)(nn));if(kt){var Mn=Se(re=="left"?U.positions.leafEdgesLeftMovingWidth:U.positions.leafEdgesRightMovingWidth),Sn={width:"".concat(Mn,"px"),height:"".concat(We,"px"),left:"".concat(Se(re=="left"?U.positions.leafEdgesLeftMovingStart:U.positions.leafEdgesRightStart),"px"),pointerEvents:"none",transformOrigin:"".concat(Se(re=="left"?U.positions.pageLeftWidth:-U.positions.pageRightWidth)+Mn/2,"px 0")},Yn=(0,Wt.dy)(Gr||(Gr=bt(["\n        <br-leaf-edges\n          leftIndex=","\n          rightIndex=","\n          .book=","\n          side=",'\n          class="br-mode-2up__leafs br-mode-2up__leafs--',' br-mode-2up__leafs--flipping"\n          style=',"\n        ></br-leaf-edges>\n      "])),U.activeFlip.pagesFlipping[0],U.activeFlip.pagesFlipping[1],U.book,re,re,(0,Re.V)(Sn));return re=="left"?(0,Wt.dy)(Ur||(Ur=bt(["","",""])),xn,Yn):(0,Wt.dy)(_r||(_r=bt(["","",""])),Yn,xn)}return xn}}},{kind:"method",key:"resizeViaAutofit",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.visiblePages[0];this.scale=this.computeScale(U,this.autoFit)}},{kind:"method",key:"recenter",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.visiblePages[0],re=this.computeTranslate(U,this.scale);this.$book.style.transform="translateX(".concat(re.x,"px) translateY(").concat(re.y,"px) scale(").concat(this.scale,")")}},{kind:"method",key:"computeRenderedPages",value:function(){var U,re,he,Se,We;return[(U=this.visiblePages[0])===null||U===void 0||(U=U.prev)===null||U===void 0?void 0:U.prev,(re=this.visiblePages[0])===null||re===void 0?void 0:re.prev].concat((We=this.visiblePages,function(kt){if(Array.isArray(kt))return wt(kt)}(We)||_t(We)||it(We)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[(he=this.visiblePages[this.visiblePages.length-1])===null||he===void 0?void 0:he.next,(Se=this.visiblePages[this.visiblePages.length-1])===null||Se===void 0||(Se=Se.next)===null||Se===void 0?void 0:Se.next]).filter(function(kt){return kt}).slice(0,10)}},{kind:"method",key:"computeScale",value:function(U,re){if(!U)return 1;var he=U.spread,Se=this.computePositions(he.left,he.right).bookWidth,We=this.computePageHeight(he.left||he.right),kt=this.scale;this.scale=1;var Pt=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientWidth-20)/Se,Ht=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientHeight-20)/We;this.scale=kt;var Yt=1;if(re=="width")Yt=Pt;else if(re=="height")Yt=Ht;else if(re=="auto")Yt=Math.min(Pt,Ht);else{if(re!="none")throw new Error("Invalid autoFit value: ".concat(re));Yt=this.scale}return Yt}},{kind:"method",key:"computeTranslate",value:function(U){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;if(!U)return{x:0,y:0};var he=U.spread,Se=this.computePositions(he.left,he.right),We=Se.bookWidth,kt=this.computePageHeight(he.left||he.right),Pt=this.coordSpace.worldUnitsToRenderedPixels(We)*re,Ht=this.coordSpace.worldUnitsToRenderedPixels(kt)*re,Yt=this.coordSpace.worldUnitsToRenderedPixels(-Se.leafEdgesLeftStart)*re,It=(this.htmlDimensionsCacher.clientWidth-Pt)/2+Yt,nn=(this.htmlDimensionsCacher.clientHeight-Ht)/2;return{x:Math.max(Yt,It),y:Math.max(0,nn)}}},{kind:"method",key:"flipAnimation",value:(S=Le(Yr().mark(function z(U){var re,he,Se,We,kt,Pt,Ht,Yt,It,nn,xn,Mn,Sn,Yn,Un,Pn,Xn,Gn,tr,Zn,Qn,wr,pr,Jn,ur,Me,ye,Te,ft,Ot=this,Ct=arguments;return Yr().wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:if(Pt=(Ct.length>1&&Ct[1]!==void 0?Ct[1]:{}).animate,Ht=Pt===void 0||Pt,Yt=(re=this.pageLeft||this.pageRight)===null||re===void 0?void 0:re.spread){sn.next=4;break}return sn.abrupt("return");case 4:if(U=this.parseNextSpread(U),!this.activeFlip&&U){sn.next=7;break}return sn.abrupt("return");case 7:if(It=this.book.pageProgression,nn=(he=(Se=Yt.left)===null||Se===void 0?void 0:Se.index)!==null&&he!==void 0?he:It=="lr"?-1:this.book.getNumLeafs(),xn=(We=(kt=U.left)===null||kt===void 0?void 0:kt.index)!==null&&We!==void 0?We:It=="lr"?-1:this.book.getNumLeafs(),nn!=xn){sn.next=12;break}return sn.abrupt("return");case 12:Mn=this.renderedPages.map(function(cn){return cn.index}),Sn=[],Yn=0,Un=[U.left,U.right];case 15:if(!(Yn<Un.length)){sn.next=24;break}if(Pn=Un[Yn]){sn.next=19;break}return sn.abrupt("continue",21);case 19:Sn.push(this.createPageContainer(Pn)),Mn.includes(Pn.index)||this.renderedPages.push(Pn);case 21:Yn++,sn.next=15;break;case 24:if(Xn=this.computeTranslate(Yt.left||Yt.right,this.scale),Gn=this.computeTranslate(U.left||U.right,this.scale),tr=Math.sqrt(Math.pow(Gn.x-Xn.x,2)+Math.pow(Gn.y-Xn.y,2)),Zn="translate(".concat(Gn.x,"px, ").concat(Gn.y,"px)"),tr<50&&(wr=(Qn=this.$book.style.transform.match(/translate\([^)]+\)/))===null||Qn===void 0?void 0:Qn[0])&&(Zn=wr),pr="".concat(Zn," scale(").concat(this.scale,")"),!Ht||!("animate"in Element.prototype)){sn.next=57;break}return Jn=It=="lr"?xn>nn?"right":"left":xn>nn?"left":"right",this.activeFlip={direction:Jn,pagesFlipping:[nn,xn],pagesFlippingCount:Math.abs(xn-nn)},this.classList.add("br-mode-2up--flipping-".concat(Jn)),this.classList.add("BRpageFlipping"),this.requestUpdate(),sn.next=38,this.updateComplete;case 38:return this.visiblePages.map(function(cn){return Ot.pageContainerCache[cn.index].$container}).forEach(function(cn){return cn.addClass("BRpage-exiting")}),Sn.forEach(function(cn){return cn.$container.addClass("BRpage-entering")}),ur={duration:this.flipSpeed+this.activeFlip.pagesFlippingCount,easing:"ease-in",fill:"none"},Me=this.$book.animate([{transform:pr}],ur),ye=this.$flippingEdges.animate([{transform:"rotateY(0deg)"},{transform:Jn=="left"?"rotateY(-180deg)":"rotateY(180deg)"}],ur),Te=Jn=="left"?this.querySelector(".BRpage-exiting[data-side=L]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(180deg)"}],ur):this.querySelector(".BRpage-exiting[data-side=R]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(-180deg)"}],ur),ft=Jn=="left"?this.querySelector(".BRpage-entering[data-side=R]").animate([{transform:"rotateY(-180deg)"},{transform:"rotateY(0deg)"}],ur):this.querySelector(".BRpage-entering[data-side=L]").animate([{transform:"rotateY(180deg)"},{transform:"rotateY(0deg)"}],ur),Me.play(),ye.play(),Te.play(),ft.play(),Sn.forEach(function(cn){return cn.$container.addClass("BRpage-visible")}),sn.next=52,Promise.race([(0,ge.promisifyEvent)(Me,"finish"),(0,ge.promisifyEvent)(ye,"finish"),(0,ge.promisifyEvent)(Te,"finish"),(0,ge.promisifyEvent)(ft,"finish")]);case 52:this.classList.remove("br-mode-2up--flipping-".concat(Jn)),this.classList.remove("BRpageFlipping"),this.visiblePages.map(function(cn){return Ot.pageContainerCache[cn.index].$container}).forEach(function(cn){return cn.removeClass("BRpage-exiting BRpage-visible")}),Sn.forEach(function(cn){return cn.$container.removeClass("BRpage-entering")}),this.activeFlip=null;case 57:this.$book.style.transform=pr,this.visiblePages=(It=="lr"?[U.left,U.right]:[U.right,U.left]).filter(function(cn){return cn});case 59:case"end":return sn.stop()}},z,this)})),function(z){return S.apply(this,arguments)})},{kind:"method",key:"parseNextSpread",value:function(U){U=="next"?U=this.book.pageProgression=="lr"?"right":"left":U=="prev"&&(U=this.book.pageProgression=="lr"?"left":"right");var re,he=(this.pageLeft||this.pageRight).spread;if(U=="left")U=(re=he.left)===null||re===void 0||(re=re.findLeft({combineConsecutiveUnviewables:!0}))===null||re===void 0?void 0:re.spread;else if(U=="right"){var Se;U=(Se=he.right)===null||Se===void 0||(Se=Se.findRight({combineConsecutiveUnviewables:!0}))===null||Se===void 0?void 0:Se.spread}return typeof U=="number"&&(U=this.book.getPage(U).spread),_instanceof(U,tn)&&(U=U.spread),U}},{kind:"field",key:"handlePageClick",value:function(){var U=this;return function(re){if(re.which==3&&U.br.protected)return!1;if(re.which==1){var he=Vr(re.target).closest(".BRpagecontainer");he.length&&(he.data("side")=="L"?U.flipAnimation("left"):he.data("side")=="R"&&U.flipAnimation("right"))}}}}]}},Wt.oi),Fr=(pt([(0,_n.Mo)("br-leaf-edges")],function(Ae,M){var S=function(T){Ke(z,T);var I=Pe(z);function z(){var U;Ze(this,z);for(var re=arguments.length,he=new Array(re),Se=0;Se<re;Se++)he[Se]=arguments[Se];return U=I.call.apply(I,[this].concat(he)),Ae(at(U)),U}return Ne(z)}(M);return{F:S,d:[{kind:"field",decorators:[(0,_n.Cb)({type:Number})],key:"leftIndex",value:function(){return 0}},{kind:"field",decorators:[(0,_n.Cb)({type:Number})],key:"rightIndex",value:function(){return 0}},{kind:"field",decorators:[(0,_n.Cb)({type:String})],key:"side",value:function(){return"left"}},{kind:"field",decorators:[(0,_n.Cb)({attribute:!1})],key:"book",value:function(){return null}},{kind:"field",decorators:[(0,_n.Cb)({attribute:!1,type:Function})],key:"pageClickHandler",value:function(){return null}},{kind:"field",decorators:[(0,_n.IO)(".br-leaf-edges__bar")],key:"$hoverBar",value:void 0},{kind:"field",decorators:[(0,_n.IO)(".br-leaf-edges__label")],key:"$hoverLabel",value:void 0},{kind:"get",key:"pageWidthPercent",value:function(){return 100/(this.rightIndex-this.leftIndex+1)}},{kind:"method",key:"render",value:function(){return(0,Wt.dy)(be||(be=bt(['\n      <div\n        class="br-leaf-edges__bar"\n        style="','"\n      ></div>\n      <div class="br-leaf-edges__label">Page</div>'])),(0,Re.V)({width:"".concat(this.pageWidthPercent,"%")}))}},{kind:"method",key:"connectedCallback",value:function(){hn(Hn(S.prototype),"connectedCallback",this).call(this),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave),this.addEventListener("click",this.onClick)}},{kind:"method",key:"disconnectedCallback",value:function(){hn(Hn(S.prototype),"disconnectedCallback",this).call(this),this.addEventListener("mouseenter",this.onMouseEnter),this.removeEventListener("mousemove",this.onMouseMove),this.removeEventListener("mouseleave",this.onMouseLeave)}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"field",key:"onMouseEnter",value:function(){var I=this;return function(z){I.addEventListener("mousemove",I.onMouseMove),I.$hoverBar.style.display="block",I.$hoverLabel.style.display="block"}}},{kind:"field",key:"onMouseMove",value:function(){var I=this;return function(z){I.$hoverBar.style.left="".concat(z.offsetX,"px"),I.side=="right"?I.$hoverLabel.style.left="".concat(z.offsetX,"px"):I.$hoverLabel.style.right="".concat(I.offsetWidth-z.offsetX,"px"),I.$hoverLabel.style.top="".concat(z.offsetY,"px");var U=I.mouseEventToPageIndex(z);I.$hoverLabel.textContent=I.book.getPageName(U)}}},{kind:"field",key:"onMouseLeave",value:function(){var I=this;return function(z){I.removeEventListener("mousemove",I.onMouseMove),I.$hoverBar.style.display="none",I.$hoverLabel.style.display="none"}}},{kind:"field",key:"onClick",value:function(){var I=this;return function(z){I.pageClickHandler(I.mouseEventToPageIndex(z))}}},{kind:"method",key:"mouseEventToPageIndex",value:function(I){return Math.floor(this.leftIndex+I.offsetX/this.offsetWidth*(this.rightIndex-this.leftIndex+1))}}]}},Wt.oi),o(5311));function ri(Ae){return ri=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(S){return typeof S=="undefined"?"undefined":_typeof(S)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},ri(Ae)}function Po(){Po=function(){return M};var Ae,M={},S=Object.prototype,T=S.hasOwnProperty,I=Object.defineProperty||function(Me,ye,Te){Me[ye]=Te.value},z=typeof Symbol=="function"?Symbol:{},U=z.iterator||"@@iterator",re=z.asyncIterator||"@@asyncIterator",he=z.toStringTag||"@@toStringTag";function Se(Me,ye,Te){return Object.defineProperty(Me,ye,{value:Te,enumerable:!0,configurable:!0,writable:!0}),Me[ye]}try{Se({},"")}catch(Me){Se=function(Te,ft,Ot){return Te[ft]=Ot}}function We(Me,ye,Te,ft){var Ot=ye&&_instanceof(ye.prototype,xn)?ye:xn,Ct=Object.create(Ot.prototype),sn=new Jn(ft||[]);return I(Ct,"_invoke",{value:Zn(Me,Te,sn)}),Ct}function kt(Me,ye,Te){try{return{type:"normal",arg:Me.call(ye,Te)}}catch(ft){return{type:"throw",arg:ft}}}M.wrap=We;var Pt="suspendedStart",Ht="suspendedYield",Yt="executing",It="completed",nn={};function xn(){}function Mn(){}function Sn(){}var Yn={};Se(Yn,U,function(){return this});var Un=Object.getPrototypeOf,Pn=Un&&Un(Un(ur([])));Pn&&Pn!==S&&T.call(Pn,U)&&(Yn=Pn);var Xn=Sn.prototype=xn.prototype=Object.create(Yn);function Gn(Me){["next","throw","return"].forEach(function(ye){Se(Me,ye,function(Te){return this._invoke(ye,Te)})})}function tr(Me,ye){function Te(Ot,Ct,sn,cn){var jn=kt(Me[Ot],Me,Ct);if(jn.type!=="throw"){var rr=jn.arg,ir=rr.value;return ir&&ri(ir)=="object"&&T.call(ir,"__await")?ye.resolve(ir.__await).then(function(sr){Te("next",sr,sn,cn)},function(sr){Te("throw",sr,sn,cn)}):ye.resolve(ir).then(function(sr){rr.value=sr,sn(rr)},function(sr){return Te("throw",sr,sn,cn)})}cn(jn.arg)}var ft;I(this,"_invoke",{value:function(Ct,sn){function cn(){return new ye(function(jn,rr){Te(Ct,sn,jn,rr)})}return ft=ft?ft.then(cn,cn):cn()}})}function Zn(Me,ye,Te){var ft=Pt;return function(Ot,Ct){if(ft===Yt)throw new Error("Generator is already running");if(ft===It){if(Ot==="throw")throw Ct;return{value:Ae,done:!0}}for(Te.method=Ot,Te.arg=Ct;;){var sn=Te.delegate;if(sn){var cn=Qn(sn,Te);if(cn){if(cn===nn)continue;return cn}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(ft===Pt)throw ft=It,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);ft=Yt;var jn=kt(Me,ye,Te);if(jn.type==="normal"){if(ft=Te.done?It:Ht,jn.arg===nn)continue;return{value:jn.arg,done:Te.done}}jn.type==="throw"&&(ft=It,Te.method="throw",Te.arg=jn.arg)}}}function Qn(Me,ye){var Te=ye.method,ft=Me.iterator[Te];if(ft===Ae)return ye.delegate=null,Te==="throw"&&Me.iterator.return&&(ye.method="return",ye.arg=Ae,Qn(Me,ye),ye.method==="throw")||Te!=="return"&&(ye.method="throw",ye.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),nn;var Ot=kt(ft,Me.iterator,ye.arg);if(Ot.type==="throw")return ye.method="throw",ye.arg=Ot.arg,ye.delegate=null,nn;var Ct=Ot.arg;return Ct?Ct.done?(ye[Me.resultName]=Ct.value,ye.next=Me.nextLoc,ye.method!=="return"&&(ye.method="next",ye.arg=Ae),ye.delegate=null,nn):Ct:(ye.method="throw",ye.arg=new TypeError("iterator result is not an object"),ye.delegate=null,nn)}function wr(Me){var ye={tryLoc:Me[0]};1 in Me&&(ye.catchLoc=Me[1]),2 in Me&&(ye.finallyLoc=Me[2],ye.afterLoc=Me[3]),this.tryEntries.push(ye)}function pr(Me){var ye=Me.completion||{};ye.type="normal",delete ye.arg,Me.completion=ye}function Jn(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(wr,this),this.reset(!0)}function ur(Me){if(Me||Me===""){var ye=Me[U];if(ye)return ye.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var Te=-1,ft=function Ot(){for(;++Te<Me.length;)if(T.call(Me,Te))return Ot.value=Me[Te],Ot.done=!1,Ot;return Ot.value=Ae,Ot.done=!0,Ot};return ft.next=ft}}throw new TypeError(ri(Me)+" is not iterable")}return Mn.prototype=Sn,I(Xn,"constructor",{value:Sn,configurable:!0}),I(Sn,"constructor",{value:Mn,configurable:!0}),Mn.displayName=Se(Sn,he,"GeneratorFunction"),M.isGeneratorFunction=function(Me){var ye=typeof Me=="function"&&Me.constructor;return!!ye&&(ye===Mn||(ye.displayName||ye.name)==="GeneratorFunction")},M.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,Sn):(Me.__proto__=Sn,Se(Me,he,"GeneratorFunction")),Me.prototype=Object.create(Xn),Me},M.awrap=function(Me){return{__await:Me}},Gn(tr.prototype),Se(tr.prototype,re,function(){return this}),M.AsyncIterator=tr,M.async=function(Me,ye,Te,ft,Ot){Ot===void 0&&(Ot=Promise);var Ct=new tr(We(Me,ye,Te,ft),Ot);return M.isGeneratorFunction(ye)?Ct:Ct.next().then(function(sn){return sn.done?sn.value:Ct.next()})},Gn(Xn),Se(Xn,he,"Generator"),Se(Xn,U,function(){return this}),Se(Xn,"toString",function(){return"[object Generator]"}),M.keys=function(Me){var ye=Object(Me),Te=[];for(var ft in ye)Te.push(ft);return Te.reverse(),function Ot(){for(;Te.length;){var Ct=Te.pop();if(Ct in ye)return Ot.value=Ct,Ot.done=!1,Ot}return Ot.done=!0,Ot}},M.values=ur,Jn.prototype={constructor:Jn,reset:function(ye){if(this.prev=0,this.next=0,this.sent=this._sent=Ae,this.done=!1,this.delegate=null,this.method="next",this.arg=Ae,this.tryEntries.forEach(pr),!ye)for(var Te in this)Te.charAt(0)==="t"&&T.call(this,Te)&&!isNaN(+Te.slice(1))&&(this[Te]=Ae)},stop:function(){this.done=!0;var ye=this.tryEntries[0].completion;if(ye.type==="throw")throw ye.arg;return this.rval},dispatchException:function(ye){if(this.done)throw ye;var Te=this;function ft(rr,ir){return sn.type="throw",sn.arg=ye,Te.next=rr,ir&&(Te.method="next",Te.arg=Ae),!!ir}for(var Ot=this.tryEntries.length-1;Ot>=0;--Ot){var Ct=this.tryEntries[Ot],sn=Ct.completion;if(Ct.tryLoc==="root")return ft("end");if(Ct.tryLoc<=this.prev){var cn=T.call(Ct,"catchLoc"),jn=T.call(Ct,"finallyLoc");if(cn&&jn){if(this.prev<Ct.catchLoc)return ft(Ct.catchLoc,!0);if(this.prev<Ct.finallyLoc)return ft(Ct.finallyLoc)}else if(cn){if(this.prev<Ct.catchLoc)return ft(Ct.catchLoc,!0)}else{if(!jn)throw new Error("try statement without catch or finally");if(this.prev<Ct.finallyLoc)return ft(Ct.finallyLoc)}}}},abrupt:function(ye,Te){for(var ft=this.tryEntries.length-1;ft>=0;--ft){var Ot=this.tryEntries[ft];if(Ot.tryLoc<=this.prev&&T.call(Ot,"finallyLoc")&&this.prev<Ot.finallyLoc){var Ct=Ot;break}}Ct&&(ye==="break"||ye==="continue")&&Ct.tryLoc<=Te&&Te<=Ct.finallyLoc&&(Ct=null);var sn=Ct?Ct.completion:{};return sn.type=ye,sn.arg=Te,Ct?(this.method="next",this.next=Ct.finallyLoc,nn):this.complete(sn)},complete:function(ye,Te){if(ye.type==="throw")throw ye.arg;return ye.type==="break"||ye.type==="continue"?this.next=ye.arg:ye.type==="return"?(this.rval=this.arg=ye.arg,this.method="return",this.next="end"):ye.type==="normal"&&Te&&(this.next=Te),nn},finish:function(ye){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.finallyLoc===ye)return this.complete(ft.completion,ft.afterLoc),pr(ft),nn}},catch:function(ye){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.tryLoc===ye){var Ot=ft.completion;if(Ot.type==="throw"){var Ct=Ot.arg;pr(ft)}return Ct}}throw new Error("illegal catch attempt")},delegateYield:function(ye,Te,ft){return this.delegate={iterator:ur(ye),resultName:Te,nextLoc:ft},this.method==="next"&&(this.arg=Ae),nn}},M}var Io=function(){function Ae(T,I){(function(z,U){if(!_instanceof(z,U))throw new TypeError("Cannot call a class as a function")})(this,Ae),this.br=T,this.book=I,this.mode2UpLit=new mr(I,T),this.mode2UpLit.flipSpeed=T.flipSpeed,this.$el=Fr(this.mode2UpLit).attr("autoFit",this.br.options.twoPage.autofit).addClass("br-mode-2up__root BRmode2up"),this.everShown=!1}var M,S;return M=Ae,(S=[{key:"prepare",value:function(){var I=this,z=this.br.currentIndex();this.br.refs.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),this.mode2UpLit.style.opacity="0",setTimeout(ut(Po().mark(function U(){return Po().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(I.everShown){re.next=9;break}return I.mode2UpLit.initFirstRender(z),I.everShown=!0,I.mode2UpLit.requestUpdate(),re.next=6,I.mode2UpLit.updateComplete;case 6:new et(I.mode2UpLit,{preventDefault:!0,dragSelector:".br-mode-2up__book",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"}),re.next=12;break;case 9:return re.next=11,I.mode2UpLit.jumpToIndex(z,{smooth:!1});case 11:I.resizePageView();case 12:I.mode2UpLit.style.opacity="1";case 13:case"end":return re.stop()}},U)}))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(I,z,U,re){this.mode2UpLit.jumpToIndex(I)}},{key:"zoom",value:function(I){switch(I){case"in":this.mode2UpLit.zoomIn();break;case"out":this.mode2UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(I))}}},{key:"resizePageView",value:function(){this.mode2UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode2UpLit.scale<this.mode2UpLit.initialScale&&this.mode2UpLit.autoFit=="none"&&(this.mode2UpLit.autoFit="auto"),this.mode2UpLit.autoFit!="none"&&this.mode2UpLit.resizeViaAutofit(),this.mode2UpLit.recenter()}}])&&we(M.prototype,S),Object.defineProperty(M,"prototype",{writable:!1}),Ae}(),wi=o(5311);function Pa(Ae){return Pa=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(S){return typeof S=="undefined"?"undefined":_typeof(S)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},Pa(Ae)}var Ia=function(){function Ae(T,I){(function(z,U){if(!_instanceof(z,U))throw new TypeError("Cannot call a class as a function")})(this,Ae),this.br=T,this.book=I}var M,S;return M=Ae,(S=[{key:"drawLeafs",value:function(I){var z,U,re,he=this,Se=Math.floor,We=this.book,kt=this.br.refs.$brContainer.prop("scrollWidth")-20,Pt=0,Ht=0,Yt=0,It=0,nn=0,xn=[],Mn=N(We.pagesIterator({combineConsecutiveUnviewables:!0}));try{for(Mn.s();!(re=Mn.n()).done;){var Sn=re.value,Yn=this.br.thumbWidth;Pt+(Yn+this.br.thumbPadding)>kt&&(It++,Pt=0,nn=0),xn[It]||(xn[It]={}),xn[It].leafs||(xn[It].leafs=[],xn[It].height=0,xn[It].top=0),xn[It].leafs[nn]={num:Sn.index,left:Pt},(z=Se(Sn.height*this.br.thumbWidth/Sn.width))>xn[It].height&&(xn[It].height=z),nn===0&&(Ht+=this.br.thumbPadding+xn[It].height),(Pt+=Yn+this.br.thumbPadding)>Yt&&(Yt=Pt),nn++,Sn.index==I&&(U=Ht-this.br.thumbPadding-xn[It].height)}}catch(oo){Mn.e(oo)}finally{Mn.f()}this.br.refs.$brPageViewEl.height(Ht);var Un=Se((this.br.refs.$brContainer.prop("scrollWidth")-Yt)/2)-14;U!==void 0&&this.br.refs.$brContainer.scrollTop(U);for(var Pn=this.br.refs.$brContainer.prop("scrollTop"),Xn=Pn+this.br.refs.$brContainer.height(),Gn=0,tr=0,Zn=[],Qn=[],wr=We.getNumLeafs()-1,pr=0,Jn=0;Jn<xn.length;Jn++)xn[Jn]&&(tr+=this.br.thumbPadding+xn[Jn].height,(Gn>=Pn&&Gn<=Xn||tr>=Pn&&tr<=Xn||Gn<=Pn&&tr>=Xn)&&(Zn.push(Jn),xn[Jn].leafs[0].num<wr&&(wr=xn[Jn].leafs[0].num),xn[Jn].leafs[xn[Jn].leafs.length-1].num>pr&&(pr=xn[Jn].leafs[xn[Jn].leafs.length-1].num)),Gn>xn[Jn].top&&(xn[Jn].top=Gn),Gn=tr);for(var ur=Zn[0],Me=Zn[Zn.length-1],ye=1;ye<this.br.thumbRowBuffer+1;ye++)Me+ye<xn.length&&Zn.push(Me+ye);for(var Te=1;Te<this.br.thumbRowBuffer;Te++)ur-Te>=0&&Zn.push(ur-Te);Zn.sort(function(oo,Ro){return oo-Ro});for(var ft=0,Ot=Zn;ft<Ot.length;ft++){var Ct=Ot[ft];if((0,ge.notInArray)(Ct,this.br.displayedRows)){if(!xn[Ct])continue;var sn,cn=N(xn[Ct].leafs);try{var jn=function(){var Ro=sn.value,Di=Ro.num,Du=Ro.left,Qi=he.br.thumbWidth,ta=Se(We.getPageHeight(Di)*he.br.thumbWidth/We.getPageWidth(Di)),$r=xn[Ct].top,Fi=Du+Un;he.br.pageProgression=="rl"&&(Fi=kt-Qi-Fi),Fi+=he.br.thumbPadding,Qn.push(Di);var ks=Se(We.getPageWidth(Di)/he.br.thumbWidth),Ma=2*Math.round(ks/2),La=he.br._createPageContainer(Di).update({dimensions:{width:Qi,height:ta,top:$r,left:Fi},reduce:Ma});La.$container.data("leaf",Di).on("mouseup",function(na){he.br.updateFirstIndex(Di,{suppressFragmentChange:!0}),he.br.switchMode(he.br.constMode1up,{suppressFragmentChange:!0});var ed=he.br.viewModeOrder.shift();he.br.viewModeOrder.push(ed),he.br._components.navbar.updateViewModeButton(wi(".viewmode"),"twopg","Two-page view"),he.br.trigger(Ee.fragmentChange),na.stopPropagation()}),he.br.refs.$brPageViewEl.append(La.$container)};for(cn.s();!(sn=cn.n()).done;)jn()}catch(oo){cn.e(oo)}finally{cn.f()}}}var rr,ir=N(this.br.displayedRows);try{for(ir.s();!(rr=ir.n()).done;){var sr=rr.value;if((0,ge.notInArray)(sr,Zn)){var _s,Lo,vo=N((_s=xn[sr])===null||_s===void 0?void 0:_s.leafs);try{for(vo.s();!(Lo=vo.n()).done;){var xo,Ru=Lo.value.num;Qn!=null&&Qn.includes(Ru)||(xo=this.br.$(".pagediv".concat(Ru)))===null||xo===void 0||xo.remove()}}catch(oo){vo.e(oo)}finally{vo.f()}}}}catch(oo){ir.e(oo)}finally{ir.f()}var Ki=this.br.currentIndex();Ki<wr?this.br.updateFirstIndex(wr):Ki>pr&&this.br.updateFirstIndex(pr),this.br.displayedRows=Zn.slice(),this.br.$(".BRpagedivthumb_highlight").removeClass("BRpagedivthumb_highlight"),this.br.$(".pagediv"+this.br.currentIndex()).addClass("BRpagedivthumb_highlight")}},{key:"lazyLoadImage",value:function(I){var z=wi(I).data("leaf"),U=wi(I).data("reduce"),re=this.br.imageCache.image(z,U),he=wi(I).parent();wi(he).append(re),wi(I).remove()}},{key:"zoom",value:function(I){var z=this.br.thumbColumns;switch(I){case"in":this.br.thumbColumns-=1;break;case"out":this.br.thumbColumns+=1;break;default:console.error("Unsupported direction: ".concat(I))}this.br.thumbColumns=(0,ge.clamp)(this.br.thumbColumns,this.br.options.thumbMinZoomColumns,this.br.options.thumbMaxZoomColumns),this.br.thumbColumns!=z&&(this.br.displayedRows=[],this.prepare())}},{key:"getThumbnailWidth",value:function(I){var z=(I+1)*this.br.thumbPadding,U=(this.br.refs.$brPageViewEl.width()-z)/(I+.5),re=Math.floor(U);return re>0?re:100}},{key:"prepare",value:function(){this.br.refs.$brContainer.empty(),this.br.refs.$brContainer.css({overflowY:"scroll",overflowX:"auto"}),this.br.refs.$brPageViewEl=wi("<div class='BRpageview'></div>"),this.br.refs.$brContainer.append(this.br.refs.$brPageViewEl),this.dragScrollable=this.dragScrollable||new et(this.br.refs.$brContainer[0],{preventDefault:!0}),this.br.bindGestures(this.br.refs.$brContainer),this.br.thumbWidth=this.getThumbnailWidth(this.br.thumbColumns),this.br.reduce=this.book.getPageWidth(0)/this.br.thumbWidth,this.br.displayedRows=[],this.drawLeafs(this.br.currentIndex()),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(I){for(var z=this,U=Math.floor,re=this.book,he=this.br.refs.$brContainer.prop("scrollWidth")-20,Se=this.br.thumbWidth,We=0,kt=0,Pt=0,Ht=0,Yt=0,It=0;It<=I;It++){kt+(Se+this.br.thumbPadding)>he&&(kt=0,Ht=0,Yt=0);var nn=U(re.getPageHeight(Yt)*this.br.thumbWidth/re.getPageWidth(Yt));nn>Ht&&(Ht=nn),Yt==0&&(We=Pt,Pt+=this.br.thumbPadding+Ht),kt+=Se+this.br.thumbPadding,Yt++}this.br.updateFirstIndex(I),this.br.refs.$brContainer.prop("scrollTop")==We?this.br.drawLeafs():(this.br.animating=!0,this.br.refs.$brContainer.stop(!0).animate({scrollTop:We},"fast",function(){z.br.animating=!1}))}}])&&Ie(M.prototype,S),Object.defineProperty(M,"prototype",{writable:!1}),Ae}(),Zc=(o(8813),{floor:Math.floor,decr:function(M){return M-1}}),Yi={floor:function(M){return Math.pow(2,Math.floor(Math.log2(Math.max(1,M))))},decr:function(M){return Math.pow(2,Math.log2(M)-1)}},Xi={pow2:Yi,integer:Zc},fo=o(5311);function Mo(Ae){return Mo=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(S){return typeof S=="undefined"?"undefined":_typeof(S)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},Mo(Ae)}var gl=function(){function Ae(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=I.useSrcSet,U=z!==void 0&&z,re=I.reduceSet,he=re===void 0?Yi:re;(function(Se,We){if(!_instanceof(Se,We))throw new TypeError("Cannot call a class as a function")})(this,Ae),this.book=T,this.useSrcSet=U,this.reduceSet=he,this.cache={},this.defaultScale=8}var M,S;return M=Ae,S=[{key:"image",value:function(I,z){var U=(this.cache[I]||[]).filter(function(he){return he.loaded&&he.reduce<=z});if(U.length){var re=Math.max.apply(Math,nt(U.map(function(he){return he.reduce})));return this._serveImageElement(I,re)}return this._serveImageElement(I,z)}},{key:"imageLoaded",value:function(I,z){var U,re,he=(U=this.cache[I])===null||U===void 0?void 0:U.find(function(Se){return Se.reduce<=z});return(re=he==null?void 0:he.loaded)!==null&&re!==void 0&&re}},{key:"getBestLoadedReduce",value:function(I){var z,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,re=((z=this.cache[I])===null||z===void 0?void 0:z.filter(function(We){return We.loaded}))||[];if(!re.length)return null;var he=re.filter(function(We){return We.reduce>=U});if(he.length)return Math.min.apply(Math,nt(he.map(function(We){return We.reduce})));var Se=re.filter(function(We){return We.reduce<U});return Math.max.apply(Math,nt(Se.map(function(We){return We.reduce})))}},{key:"_serveImageElement",value:function(I,z){var U,re=this.reduceSet.floor(z),he=(U=this.cache[I])===null||U===void 0?void 0:U.find(function(kt){return kt.reduce==re});he||(he={reduce:re,loaded:!1},(this.cache[I]||(this.cache[I]=[])).push(he));var Se=this.book.getPage(I),We=fo("<img />",{class:"BRpageimage",alt:"Book page image",src:Se.getURI(re,0)}).data("reduce",re);return this.useSrcSet&&We.attr("srcset",Se.getURISrcSet(re)),he.loaded||We.one("load",function(){return he.loaded=!0}),We}}],S&&le(M.prototype,S),Object.defineProperty(M,"prototype",{writable:!1}),Ae}(),po=o(9860),hr=o(5311),Lr=o(5311);function ea(Ae){return ea=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(S){return typeof S=="undefined"?"undefined":_typeof(S)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},ea(Ae)}function fi(){fi=function(){return M};var Ae,M={},S=Object.prototype,T=S.hasOwnProperty,I=Object.defineProperty||function(Me,ye,Te){Me[ye]=Te.value},z=typeof Symbol=="function"?Symbol:{},U=z.iterator||"@@iterator",re=z.asyncIterator||"@@asyncIterator",he=z.toStringTag||"@@toStringTag";function Se(Me,ye,Te){return Object.defineProperty(Me,ye,{value:Te,enumerable:!0,configurable:!0,writable:!0}),Me[ye]}try{Se({},"")}catch(Me){Se=function(Te,ft,Ot){return Te[ft]=Ot}}function We(Me,ye,Te,ft){var Ot=ye&&_instanceof(ye.prototype,xn)?ye:xn,Ct=Object.create(Ot.prototype),sn=new Jn(ft||[]);return I(Ct,"_invoke",{value:Zn(Me,Te,sn)}),Ct}function kt(Me,ye,Te){try{return{type:"normal",arg:Me.call(ye,Te)}}catch(ft){return{type:"throw",arg:ft}}}M.wrap=We;var Pt="suspendedStart",Ht="suspendedYield",Yt="executing",It="completed",nn={};function xn(){}function Mn(){}function Sn(){}var Yn={};Se(Yn,U,function(){return this});var Un=Object.getPrototypeOf,Pn=Un&&Un(Un(ur([])));Pn&&Pn!==S&&T.call(Pn,U)&&(Yn=Pn);var Xn=Sn.prototype=xn.prototype=Object.create(Yn);function Gn(Me){["next","throw","return"].forEach(function(ye){Se(Me,ye,function(Te){return this._invoke(ye,Te)})})}function tr(Me,ye){function Te(Ot,Ct,sn,cn){var jn=kt(Me[Ot],Me,Ct);if(jn.type!=="throw"){var rr=jn.arg,ir=rr.value;return ir&&ea(ir)=="object"&&T.call(ir,"__await")?ye.resolve(ir.__await).then(function(sr){Te("next",sr,sn,cn)},function(sr){Te("throw",sr,sn,cn)}):ye.resolve(ir).then(function(sr){rr.value=sr,sn(rr)},function(sr){return Te("throw",sr,sn,cn)})}cn(jn.arg)}var ft;I(this,"_invoke",{value:function(Ct,sn){function cn(){return new ye(function(jn,rr){Te(Ct,sn,jn,rr)})}return ft=ft?ft.then(cn,cn):cn()}})}function Zn(Me,ye,Te){var ft=Pt;return function(Ot,Ct){if(ft===Yt)throw new Error("Generator is already running");if(ft===It){if(Ot==="throw")throw Ct;return{value:Ae,done:!0}}for(Te.method=Ot,Te.arg=Ct;;){var sn=Te.delegate;if(sn){var cn=Qn(sn,Te);if(cn){if(cn===nn)continue;return cn}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(ft===Pt)throw ft=It,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);ft=Yt;var jn=kt(Me,ye,Te);if(jn.type==="normal"){if(ft=Te.done?It:Ht,jn.arg===nn)continue;return{value:jn.arg,done:Te.done}}jn.type==="throw"&&(ft=It,Te.method="throw",Te.arg=jn.arg)}}}function Qn(Me,ye){var Te=ye.method,ft=Me.iterator[Te];if(ft===Ae)return ye.delegate=null,Te==="throw"&&Me.iterator.return&&(ye.method="return",ye.arg=Ae,Qn(Me,ye),ye.method==="throw")||Te!=="return"&&(ye.method="throw",ye.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),nn;var Ot=kt(ft,Me.iterator,ye.arg);if(Ot.type==="throw")return ye.method="throw",ye.arg=Ot.arg,ye.delegate=null,nn;var Ct=Ot.arg;return Ct?Ct.done?(ye[Me.resultName]=Ct.value,ye.next=Me.nextLoc,ye.method!=="return"&&(ye.method="next",ye.arg=Ae),ye.delegate=null,nn):Ct:(ye.method="throw",ye.arg=new TypeError("iterator result is not an object"),ye.delegate=null,nn)}function wr(Me){var ye={tryLoc:Me[0]};1 in Me&&(ye.catchLoc=Me[1]),2 in Me&&(ye.finallyLoc=Me[2],ye.afterLoc=Me[3]),this.tryEntries.push(ye)}function pr(Me){var ye=Me.completion||{};ye.type="normal",delete ye.arg,Me.completion=ye}function Jn(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(wr,this),this.reset(!0)}function ur(Me){if(Me||Me===""){var ye=Me[U];if(ye)return ye.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var Te=-1,ft=function Ot(){for(;++Te<Me.length;)if(T.call(Me,Te))return Ot.value=Me[Te],Ot.done=!1,Ot;return Ot.value=Ae,Ot.done=!0,Ot};return ft.next=ft}}throw new TypeError(ea(Me)+" is not iterable")}return Mn.prototype=Sn,I(Xn,"constructor",{value:Sn,configurable:!0}),I(Sn,"constructor",{value:Mn,configurable:!0}),Mn.displayName=Se(Sn,he,"GeneratorFunction"),M.isGeneratorFunction=function(Me){var ye=typeof Me=="function"&&Me.constructor;return!!ye&&(ye===Mn||(ye.displayName||ye.name)==="GeneratorFunction")},M.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,Sn):(Me.__proto__=Sn,Se(Me,he,"GeneratorFunction")),Me.prototype=Object.create(Xn),Me},M.awrap=function(Me){return{__await:Me}},Gn(tr.prototype),Se(tr.prototype,re,function(){return this}),M.AsyncIterator=tr,M.async=function(Me,ye,Te,ft,Ot){Ot===void 0&&(Ot=Promise);var Ct=new tr(We(Me,ye,Te,ft),Ot);return M.isGeneratorFunction(ye)?Ct:Ct.next().then(function(sn){return sn.done?sn.value:Ct.next()})},Gn(Xn),Se(Xn,he,"Generator"),Se(Xn,U,function(){return this}),Se(Xn,"toString",function(){return"[object Generator]"}),M.keys=function(Me){var ye=Object(Me),Te=[];for(var ft in ye)Te.push(ft);return Te.reverse(),function Ot(){for(;Te.length;){var Ct=Te.pop();if(Ct in ye)return Ot.value=Ct,Ot.done=!1,Ot}return Ot.done=!0,Ot}},M.values=ur,Jn.prototype={constructor:Jn,reset:function(ye){if(this.prev=0,this.next=0,this.sent=this._sent=Ae,this.done=!1,this.delegate=null,this.method="next",this.arg=Ae,this.tryEntries.forEach(pr),!ye)for(var Te in this)Te.charAt(0)==="t"&&T.call(this,Te)&&!isNaN(+Te.slice(1))&&(this[Te]=Ae)},stop:function(){this.done=!0;var ye=this.tryEntries[0].completion;if(ye.type==="throw")throw ye.arg;return this.rval},dispatchException:function(ye){if(this.done)throw ye;var Te=this;function ft(rr,ir){return sn.type="throw",sn.arg=ye,Te.next=rr,ir&&(Te.method="next",Te.arg=Ae),!!ir}for(var Ot=this.tryEntries.length-1;Ot>=0;--Ot){var Ct=this.tryEntries[Ot],sn=Ct.completion;if(Ct.tryLoc==="root")return ft("end");if(Ct.tryLoc<=this.prev){var cn=T.call(Ct,"catchLoc"),jn=T.call(Ct,"finallyLoc");if(cn&&jn){if(this.prev<Ct.catchLoc)return ft(Ct.catchLoc,!0);if(this.prev<Ct.finallyLoc)return ft(Ct.finallyLoc)}else if(cn){if(this.prev<Ct.catchLoc)return ft(Ct.catchLoc,!0)}else{if(!jn)throw new Error("try statement without catch or finally");if(this.prev<Ct.finallyLoc)return ft(Ct.finallyLoc)}}}},abrupt:function(ye,Te){for(var ft=this.tryEntries.length-1;ft>=0;--ft){var Ot=this.tryEntries[ft];if(Ot.tryLoc<=this.prev&&T.call(Ot,"finallyLoc")&&this.prev<Ot.finallyLoc){var Ct=Ot;break}}Ct&&(ye==="break"||ye==="continue")&&Ct.tryLoc<=Te&&Te<=Ct.finallyLoc&&(Ct=null);var sn=Ct?Ct.completion:{};return sn.type=ye,sn.arg=Te,Ct?(this.method="next",this.next=Ct.finallyLoc,nn):this.complete(sn)},complete:function(ye,Te){if(ye.type==="throw")throw ye.arg;return ye.type==="break"||ye.type==="continue"?this.next=ye.arg:ye.type==="return"?(this.rval=this.arg=ye.arg,this.method="return",this.next="end"):ye.type==="normal"&&Te&&(this.next=Te),nn},finish:function(ye){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.finallyLoc===ye)return this.complete(ft.completion,ft.afterLoc),pr(ft),nn}},catch:function(ye){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.tryLoc===ye){var Ot=ft.completion;if(Ot.type==="throw"){var Ct=Ot.arg;pr(ft)}return Ct}}throw new Error("illegal catch attempt")},delegateYield:function(ye,Te,ft){return this.delegate={iterator:ur(ye),resultName:Te,nextLoc:ft},this.method==="next"&&(this.arg=Ae),nn}},M}function kn(){var Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=hr.extend(!0,{},kn.defaultOptions,Ae,kn.optionOverrides);this.setup(M)}kn.version="5.0.0-80",kn.constMode1up=1,kn.constMode2up=2,kn.constModeThumb=3,kn.imageCache=null,kn.constNavAnimationDuration=300,kn.constResizeAnimationDuration=100,kn.eventNames=Ee,kn.defaultOptions=Nt,kn.optionOverrides={},kn.prototype.setup=function(Ae){this.options=Ae,this.numLeafs=void 0,this.enableSearch=!1,this.viewModeOrder=[],this.suppressFragmentChange=!1,this.animationFinishedCallback=null,this.constMode1up=kn.constMode1up,this.constMode2up=kn.constMode2up,this.constModeThumb=kn.constModeThumb,this.reduce=8,this.defaults=Ae.defaults,this.padding=Ae.padding,this.reduceSet=Xi[Ae.reduceSet],this.reduceSet||(console.warn("Invalid reduceSet ".concat(Ae.reduceSet,". Ignoring.")),this.reduceSet=Xi[Nt.reduceSet]),this.mode=null,this.prevReadMode=null,this.ui=Ae.ui,this.uiAutoHide=Ae.uiAutoHide,this.thumbWidth=100,this.thumbRowBuffer=Ae.thumbRowBuffer,this.thumbColumns=Ae.thumbColumns,this.thumbMaxLoading=Ae.thumbMaxLoading,this.thumbPadding=Ae.thumbPadding,this.displayedRows=[],this.displayedIndices=[],this.animating=!1,this.flipSpeed=typeof Ae.flipSpeed=="number"?Ae.flipSpeed:{fast:200,slow:600}[Ae.flipSpeed]||400,this.flipDelay=Ae.flipDelay,this.firstIndex=null,this.isFullscreenActive=Ae.startFullscreen||!1,this.lastScroll=null,this.showLogo=Ae.showLogo,this.logoURL=Ae.logoURL,this.imagesBaseURL=Ae.imagesBaseURL,this.reductionFactors=Ae.reductionFactors,this.onePage=Ae.onePage,this.twoPage=Ae.twoPage,this.onePageMinBreakpoint=Ae.onePageMinBreakpoint,this.bookTitle=Ae.bookTitle,this.bookUrl=Ae.bookUrl,this.bookUrlText=Ae.bookUrlText,this.bookUrlTitle=Ae.bookUrlTitle,this.titleLeaf=Ae.titleLeaf,this.metadata=Ae.metadata,this.thumbnail=Ae.thumbnail,this.bookUrlMoreInfo=Ae.bookUrlMoreInfo,this.enableExperimentalControls=Ae.enableExperimentalControls,this.el=Ae.el,this.pageProgression=Ae.pageProgression,this.protected=Ae.protected,this.getEmbedCode=Ae.getEmbedCode,this.popup=null,this.data=Ae.data,this.refs={},this.book=new an(this),Ae.getNumLeafs&&(this.book.getNumLeafs=Ae.getNumLeafs.bind(this)),Ae.getPageWidth&&(this.book.getPageWidth=Ae.getPageWidth.bind(this)),Ae.getPageHeight&&(this.book.getPageHeight=Ae.getPageHeight.bind(this)),Ae.getPageURI&&(this.book.getPageURI=Ae.getPageURI.bind(this)),Ae.getPageSide&&(this.book.getPageSide=Ae.getPageSide.bind(this)),Ae.getPageNum&&(this.book.getPageNum=Ae.getPageNum.bind(this)),Ae.getPageProp&&(this.book.getPageProp=Ae.getPageProp.bind(this)),Ae.getSpreadIndices&&(this.book.getSpreadIndices=Ae.getSpreadIndices.bind(this)),Ae.leafNumToIndex&&(this.book.leafNumToIndex=Ae.leafNumToIndex.bind(this)),this._components={navbar:new Be(this),toolbar:new Qt(this)},this._modes={mode1Up:new Gi(this,this.book),mode2Up:new Io(this,this.book),modeThumb:new Ia(this,this.book)},this._overrideable={book:this.book,"_components.navbar":this._components.navbar,"_components.toolbar":this._components.toolbar,"_modes.mode1Up":this._modes.mode1Up,"_modes.mode2Up":this._modes.mode2Up,"_modes.modeThumb":this._modes.modeThumb},this.imageCache=new gl(this.book,{useSrcSet:this.options.useSrcSet,reduceSet:this.reduceSet}),this.hasKeyFocus=!0},kn.prototype.getActivePageContainerElements=function(){var Ae=Object.values(this._modes.mode2Up.mode2UpLit.pageContainerCache).map(function(M){return M.$container[0]}).concat(Object.values(this._modes.mode1Up.mode1UpLit.pageContainerCache).map(function(M){return M.$container[0]}));return this.mode==this.constModeThumb&&(Ae=Ae.concat(this.$(".BRpagecontainer").toArray())),Ae},kn.prototype.getActivePageContainerElementsForIndex=function(Ae){var M,S,T;return[(M=this._modes.mode2Up.mode2UpLit.pageContainerCache[Ae])===null||M===void 0||(M=M.$container)===null||M===void 0?void 0:M[0],(S=this._modes.mode1Up.mode1UpLit.pageContainerCache[Ae])===null||S===void 0||(S=S.$container)===null||S===void 0?void 0:S[0]].concat((T=this.mode==this.constModeThumb?this.$(".pagediv".concat(Ae)).toArray():[],function(I){if(Array.isArray(I))return de(I)}(T)||function(I){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&I[Symbol.iterator]!=null||I["@@iterator"]!=null)return Array.from(I)}(T)||function(I,z){if(I){if(typeof I=="string")return de(I,z);var U=Object.prototype.toString.call(I).slice(8,-1);return U==="Object"&&I.constructor&&(U=I.constructor.name),U==="Map"||U==="Set"?Array.from(I):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?de(I,z):void 0}}(T)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).filter(function(I){return I})},Object.defineProperty(kn.prototype,"activeMode",{get:function(){return{1:this._modes.mode1Up,2:this._modes.mode2Up,3:this._modes.modeThumb}[this.mode]}}),kn.util=ge,kn.prototype.extendParams=function(Ae,M){var S=Lr.extend({},M);if(S.page!==void 0){var T=this.book.parsePageString(S.page);isNaN(T)||(S.index=T),delete S.page}Lr.extend(Ae,S)},kn.prototype.initParams=function(){var Ae={init:!0,pageFound:!1,fragmentChange:!1};if(this.titleLeaf!==void 0&&this.book.getNumLeafs()>2?Ae.index=this.book.leafNumToIndex(this.titleLeaf):Ae.index=0,this.defaults){var M=this.paramsFromFragment(this.defaults);M.page!==void 0&&(Ae.pageFound=!0),this.extendParams(Ae,M)}if(this.options.enablePageResume){var S=this.getResumeValue();S!==null&&(Ae.index!==S&&(Ae.fragmentChange=!0),Ae.index=S)}if(this.options.enableUrlPlugin){var T=this.paramsFromFragment(this.urlReadFragment());!Object.keys(T).length&&this.urlReadHashFragment()&&this.options.urlMode==="history"&&(T=this.paramsFromFragment(this.urlReadHashFragment())),Object.keys(T).length&&(T.page!==void 0&&(Ae.pageFound=!0),this.extendParams(Ae,T),Ae.fragmentChange=!0)}if(this.options.enableSearch&&(this.options.goToFirstResult=!Ae.pageFound,!this.options.initialSearchTerm))if(Ae.search)this.options.initialSearchTerm=Ae.search,this.searchTerm=Ae.search;else{var I=new URLSearchParams(this.readQueryString()).get("q");I&&(this.options.initialSearchTerm=ge.decodeURIComponentPlus(I))}return this.suppressFragmentChange=!Ae.fragmentChange,Ae},kn.prototype.getLocationSearch=function(){return window.location.search},kn.prototype.getLocationHash=function(){return window.location.hash},kn.prototype.readQueryString=function(){var Ae=this.getLocationSearch();if(Ae)return Ae;var M=this.getLocationHash(),S=M.search(/\?\w+=/);return S>-1?M.slice(S):""},kn.prototype.getInitialMode=function(Ae){var M,S=Lr(window).width(),T=S&&S<=this.onePageMinBreakpoint;if(M=Ae.mode?Ae.mode:T?this.constMode1up:this.constMode2up,this.canSwitchToMode(M)||(M=this.constMode1up),this.options.defaults)try{M=function(I){var z={"mode/1up":1,"mode/2up":2,"mode/thumb":3};if(!(I in z))throw new Ft("Invalid mode string: ".concat(I));return z[I]}(this.options.defaults)}catch(I){}return M},kn.prototype.init=function(){this.init.initComplete=!1,this.pageScale=this.reduce;var Ae=this.initParams();this.firstIndex=Ae.index?Ae.index:0,this.isTouchDevice="ontouchstart"in window||"msmaxtouchpoints"in window.navigator,this.refs.$br=Lr(this.el).empty().removeClass().addClass("ui-"+this.ui).addClass("br-ui-"+this.ui).addClass("BookReader"),this.isTouchDevice?this.refs.$br.addClass("touch"):this.refs.$br.addClass("no-touch"),this.refs.$brContainer=Lr("<div class='BRcontainer' dir='ltr'></div>"),this.refs.$br.append(this.refs.$brContainer),Ae.mode=this.getInitialMode(Ae),this.mode=Ae.mode,this.options.showToolbar&&this.initToolbar(this.mode,this.ui),this.options.showNavbar&&this.initNavbar(),this._components.navbar.switchNavbarControls(),this.resizeBRcontainer(),this.updateFromParams(Ae),this.initUIStrings(),this.bindNavigationHandlers(),this.setupKeyListeners(),this.lastScroll=new Date().getTime(),this.refs.$brContainer.on("scroll",this,function(M){M.data.lastScroll=new Date().getTime(),M.data.constModeThumb==M.data.mode&&M.data.drawLeafsThrottled()}),this.options.autoResize&&(Lr(window).on("resize",this,function(M){M.data.resize()}),Lr(window).on("orientationchange",this,function(M){M.data.resize()}.bind(this))),this.protected&&this.$(".BRicon.share").hide(),this.options.initialSearchTerm||(this.suppressFragmentChange=!1),this.options.startFullscreen&&this.enterFullscreen(!0),this.init.initComplete=!0,this.trigger(kn.eventNames.PostInit)},kn.prototype.trigger=function(Ae){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,S="BookReader:"+Ae;ge.polyfillCustomEvent(window),window.dispatchEvent(new CustomEvent(S,{bubbles:!0,composed:!0,detail:{props:M}})),Lr(document).trigger(S,M)},kn.prototype.bind=function(Ae,M){Lr(document).on("BookReader:"+Ae,M)},kn.prototype.unbind=function(Ae,M){Lr(document).off("BookReader:"+Ae,M)},kn.prototype.resize=function(){this.init.initComplete&&(this.resizeBRcontainer(),this._components.navbar.switchNavbarControls(),this.constMode1up==this.mode?this.onePage.autofit!="none"?(this._modes.mode1Up.resizePageView(),this.centerPageView()):(this.centerPageView(),this.displayedIndices=[],this.drawLeafsThrottled()):this.constModeThumb==this.mode?this._modes.modeThumb.prepare():this._modes.mode2Up.resizePageView(),this.trigger(kn.eventNames.resize))},kn.prototype.setupKeyListeners=function(){var Ae=this;window.IntersectionObserver&&new IntersectionObserver(function(M){M.forEach(function(S){S.intersectionRatio===0?Ae.hasKeyFocus=!1:Ae.hasKeyFocus=!0})},{root:null,rootMargin:"0px",threshold:[0,.05,1]}).observe(this.refs.$br[0]),document.addEventListener("keydown",function(M){if(Ae.hasKeyFocus&&!(M.getModifierState("Control")||M.getModifierState("Alt")||M.getModifierState("Meta")||M.getModifierState("Win")||ge.isInputActive()))switch(M.key){case"Home":M.preventDefault(),Ae.first();break;case"End":M.preventDefault(),Ae.last();break;case"ArrowDown":case"PageDown":case"Down":Ae.constMode2up===Ae.mode&&(M.preventDefault(),Ae.next());break;case"ArrowUp":case"PageUp":case"Up":Ae.constMode2up===Ae.mode&&(M.preventDefault(),Ae.prev());break;case"ArrowLeft":case"Left":Ae.constModeThumb!=Ae.mode&&(M.preventDefault(),Ae.left());break;case"ArrowRight":case"Right":Ae.constModeThumb!=Ae.mode&&(M.preventDefault(),Ae.right());break;case"-":case"Subtract":M.preventDefault(),Ae.zoom(-1);break;case"+":case"=":case"Add":M.preventDefault(),Ae.zoom(1);break;case"F":case"f":M.preventDefault(),Ae.toggleFullscreen()}})},kn.prototype.drawLeafs=function(){this.constMode1up!=this.mode&&this.activeMode.drawLeafs()},kn.prototype._createPageContainer=function(Ae){return new po._z(this.book.getPage(Ae,!1),{isProtected:this.protected,imageCache:this.imageCache,loadingImage:this.imagesBaseURL+"loading.gif"})},kn.prototype.bindGestures=function(Ae){var M=this,S=1;Ae.unbind("touchmove").bind("touchmove",function(T){T.originalEvent.cancelable&&(S=T.originalEvent.touches.length),T.stopPropagation()}),Ae.unbind("gesturechange").bind("gesturechange",function(T){T.preventDefault(),S!==2||new Date().getTime()-M.lastScroll<500||(T.originalEvent.scale>1.5?M.zoom(1):T.originalEvent.scale<.6&&M.zoom(-1))})},kn.prototype.drawLeafsThrottled=ge.throttle(kn.prototype.drawLeafs,250),kn.prototype.zoom=function(Ae){var M;Ae==1?this.activeMode.zoom("in"):this.activeMode.zoom("out"),(M=this.textSelectionPlugin)===null||M===void 0||M.stopPageFlip(this.refs.$brContainer)},kn.prototype.resizeBRcontainer=function(Ae){Ae?this.refs.$brContainer.animate({top:this.getToolBarHeight(),bottom:this.getFooterHeight()},this.constResizeAnimationDuration,"linear"):this.refs.$brContainer.css({top:this.getToolBarHeight(),bottom:this.getFooterHeight()})},kn.prototype.centerPageView=function(){var Ae=this.refs.$brContainer.prop("scrollWidth"),M=this.refs.$brContainer.prop("clientWidth");Ae>M&&this.refs.$brContainer.prop("scrollLeft",(Ae-M)/2)},kn.prototype.quantizeReduce=function(Ae,M){for(var S=M[0].reduce,T=Math.abs(Ae-S),I=1;I<M.length;I++){var z=Math.abs(Ae-M[I].reduce);z<T&&(T=z,S=M[I].reduce)}return S},kn.prototype.nextReduce=function(Ae,M,S){if(M==="in"){for(var T=0,I=1;I<S.length;I++)S[I].reduce<Ae&&(T=I);return S[T]}if(M==="out"){for(var z=S.length-1,U=z,re=z;re>=0;re--)S[re].reduce>Ae&&(U=re);return S[U]}if(M==="auto"){var he=S.find(function(Ht){return Ht.autofit=="auto"});if(he)return he;for(var Se=S.filter(function(Ht){var Yt=Ht.autofit;return Yt=="height"||Yt=="width"}),We=null,kt=0;kt<Se.length;kt++)(We===null||We.reduce<Se[kt].reduce)&&(We=Se[kt]);if(We)return We}else if(M==="height"||M==="width"){var Pt=S.find(function(Ht){return Ht.autofit==M});if(Pt)return Pt}return S[0]},kn.prototype._reduceSort=function(Ae,M){return Ae.reduce-M.reduce},kn.prototype.jumpToPage=function(Ae){var M=this.book.parsePageString(Ae);return M!==void 0&&(this.jumpToIndex(M),!0)},kn.prototype._isIndexDisplayed=function(Ae){return this.displayedIndices?this.displayedIndices.includes(Ae):this.currentIndex()==Ae},kn.prototype.jumpToIndex=function(Ae,M,S,T){var I=this.book.getPage(Ae);if(!I.isViewable&&I.unviewablesStart!=I.index){var z=this._isIndexDisplayed(I.unviewablesStart)?I.findNext({combineConsecutiveUnviewables:!0}).index:I.unviewablesStart;return this.jumpToIndex(z,M,S,T)}this.trigger(kn.eventNames.stop),this.activeMode.jumpToIndex(Ae,M,S,T)},kn.prototype.getPrevReadMode=function(Ae){return Ae===kn.constMode1up||Ae===kn.constMode2up?Ae:this.prevReadMode===null?kn.constMode1up:void 0},kn.prototype.switchMode=function(Ae){var M,S,T,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=I.suppressFragmentChange,U=z!==void 0&&z;if(I.init,I.pageFound,!(this.init.initComplete&&(Ae===this.mode||!this.canSwitchToMode(Ae)))){this.trigger(kn.eventNames.stop),this.prevReadMode=this.getPrevReadMode(this.mode),this.mode!=Ae&&((S=(T=this.activeMode).unprepare)===null||S===void 0||S.call(T)),this.mode=Ae,this.pageScale!==this.reduce&&(this.reduce=this.pageScale),this.constMode1up==Ae?this._modes.mode1Up.prepare():this.constModeThumb==Ae?(this.reduce=this.quantizeReduce(this.reduce,this.reductionFactors),this._modes.modeThumb.prepare()):this._modes.mode2Up.prepare(),this.suppressFragmentChange||U||this.trigger(kn.eventNames.fragmentChange);var re=Ae+"PageViewSelected";this.trigger(kn.eventNames[re]),(M=this.textSelectionPlugin)===null||M===void 0||M.stopPageFlip(this.refs.$brContainer)}},kn.prototype.updateBrClasses=function(){var Ae={};Ae[this.constMode1up]="BRmode1up",Ae[this.constMode2up]="BRmode2up",Ae[this.constModeThumb]="BRmodeThumb",this.refs.$br.removeClass("BRmode1up BRmode2up BRmodeThumb").addClass(Ae[this.mode]),this.isFullscreen()?(this.refs.$br.addClass("fullscreenActive"),Lr(document.body).addClass("BRfullscreenActive")):(this.refs.$br.removeClass("fullscreenActive"),Lr(document.body).removeClass("BRfullscreenActive"))},kn.prototype.isFullscreen=function(){return this.isFullscreenActive},kn.prototype.toggleFullscreen=ve(fi().mark(function Ae(){var M,S=arguments;return fi().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(M=!(S.length>0&&S[0]!==void 0)||S[0],!this.isFullscreen()){T.next=6;break}return T.next=4,this.exitFullScreen();case 4:T.next=8;break;case 6:return T.next=8,this.enterFullscreen(M);case 8:case"end":return T.stop()}},Ae,this)})),kn.prototype.enterFullscreen=ve(fi().mark(function Ae(){var M,S,T,I=this,z=arguments;return fi().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(S=!(z.length>0&&z[0]!==void 0)||z[0],this.refs.$br.addClass("BRfullscreenAnimation"),T=this.currentIndex(),S&&(this._fullscreenCloseHandler=function(re){re.keyCode===27&&I.toggleFullscreen()},Lr(document).on("keyup",this._fullscreenCloseHandler)),Lr(window).width()<=this.onePageMinBreakpoint&&this.switchMode(this.constMode1up),this.isFullscreenActive=!0,this.updateBrClasses(),!_instanceof(this.activeMode,Gi)){U.next=13;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(T)),this.activeMode.mode1UpLit.requestUpdate(),U.next=13,this.activeMode.mode1UpLit.updateComplete;case 13:return this.jumpToIndex(T),(M=this.textSelectionPlugin)===null||M===void 0||M.stopPageFlip(this.refs.$brContainer),this.trigger(kn.eventNames.fragmentChange),this.trigger(kn.eventNames.fullscreenToggled),U.next=19,new Promise(function(re){return setTimeout(re,0)});case 19:this.resize(),this.refs.$br.removeClass("BRfullscreenAnimation");case 21:case"end":return U.stop()}},Ae,this)})),kn.prototype.exitFullScreen=ve(fi().mark(function Ae(){var M,S;return fi().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return this.refs.$br.addClass("BRfullscreenAnimation"),Lr(document).off("keyup",this._fullscreenCloseHandler),S=Lr(window).width(),this.options.controls.twoPage.visible&&S<=this.onePageMinBreakpoint&&this.switchMode(this.constMode2up),this.isFullscreenActive=!1,this.trigger(kn.eventNames.fullscreenToggled),this.updateBrClasses(),T.next=10,new Promise(function(I){return setTimeout(I,0)});case 10:if(this.resize(),!_instanceof(this.activeMode,Gi)){T.next=16;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(this.currentIndex())),this.activeMode.mode1UpLit.requestUpdate(),T.next=16,this.activeMode.mode1UpLit.updateComplete;case 16:(M=this.textSelectionPlugin)===null||M===void 0||M.stopPageFlip(this.refs.$brContainer),this.trigger(kn.eventNames.fragmentChange),this.refs.$br.removeClass("BRfullscreenAnimation");case 19:case"end":return T.stop()}},Ae,this)})),kn.prototype.currentIndex=function(){if(this.mode==this.constMode1up||this.mode==this.constModeThumb)return this.firstIndex;if(this.mode==this.constMode2up)return ge.clamp(this.firstIndex,0,this.book.getNumLeafs()-1);throw"currentIndex called for unimplemented mode "+this.mode},kn.prototype.updateFirstIndex=function(Ae){var M=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).suppressFragmentChange,S=M!==void 0&&M;this.firstIndex!==Ae&&(this.firstIndex=Ae,this.suppressFragmentChange||S||this.trigger(kn.eventNames.fragmentChange),this.options.initialSearchTerm&&!S&&(this.suppressFragmentChange=!1),this.trigger(kn.eventNames.pageChanged),this.trigger(kn.eventNames.userAction),this._components.navbar.updateNavIndexThrottled(Ae))},kn.prototype.right=function(){this.pageProgression!="rl"?this.next():this.prev()},kn.prototype.rightmost=function(){this.pageProgression!="rl"?this.last():this.first()},kn.prototype.left=function(){this.pageProgression!="rl"?this.prev():this.next()},kn.prototype.leftmost=function(){this.pageProgression!="rl"?this.first():this.last()},kn.prototype.next=function(){var Ae=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).triggerStop,M=Ae===void 0||Ae;this.constMode2up==this.mode?(M&&this.trigger(kn.eventNames.stop),this._modes.mode2Up.mode2UpLit.flipAnimation("next")):this.firstIndex<this.book.getNumLeafs()-1&&this.jumpToIndex(this.firstIndex+1)},kn.prototype.prev=function(){var Ae=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).triggerStop,M=Ae===void 0||Ae;this.firstIndex<1||(this.constMode2up==this.mode?(M&&this.trigger(kn.eventNames.stop),this._modes.mode2Up.mode2UpLit.flipAnimation("prev")):this.firstIndex>=1&&this.jumpToIndex(this.firstIndex-1))},kn.prototype.first=function(){this.jumpToIndex(0)},kn.prototype.last=function(){this.jumpToIndex(this.book.getNumLeafs()-1)},kn.prototype.initNavbar=Be.prototype.init,K(Be,"_components.navbar","init","initNavbar"),kn.prototype.buildToolbarElement=Qt.prototype.buildToolbarElement,K(Qt,"_components.toolbar","buildToolbarElement"),kn.prototype.initToolbar=Qt.prototype.initToolbar,K(Qt,"_components.toolbar","initToolbar"),kn.prototype.buildShareDiv=Qt.prototype.buildShareDiv,K(Qt,"_components.toolbar","buildShareDiv"),kn.prototype.buildInfoDiv=Qt.prototype.buildInfoDiv,K(Qt,"_components.toolbar","buildInfoDiv"),kn.prototype.getToolBarHeight=Qt.prototype.getToolBarHeight,K(Qt,"_components.toolbar","getToolBarHeight"),kn.prototype.bindNavigationHandlers=function(){var Ae=this,M=this,S=this.$(".BRicon"),T={book_left:function(){Ae.trigger(kn.eventNames.stop),Ae.left()},book_right:function(){Ae.trigger(kn.eventNames.stop),Ae.right()},book_top:this.first.bind(this),book_bottom:this.last.bind(this),book_leftmost:this.leftmost.bind(this),book_rightmost:this.rightmost.bind(this),onepg:function(){Ae.switchMode(M.constMode1up)},thumb:function(){Ae.switchMode(M.constModeThumb)},twopg:function(){Ae.switchMode(M.constMode2up)},zoom_in:function(){Ae.trigger(kn.eventNames.stop),Ae.zoom(1),Ae.trigger(kn.eventNames.zoomIn)},zoom_out:function(){Ae.trigger(kn.eventNames.stop),Ae.zoom(-1),Ae.trigger(kn.eventNames.zoomOut)},full:function(){if(Ae.ui=="embed"){var Se=Ae.$(".BRembedreturn a").attr("href");window.open(Se)}else Ae.toggleFullscreen()}};this.$("nav.BRcontrols li button").on("click",function(){Ae.trigger(kn.eventNames.userAction)});var I=function(Se){S.filter(".".concat(Se)).on("click.bindNavigationHandlers",function(){return T[Se](),!1})};for(var z in T)I(z);var U=this.$(".BRnavCntlBtm"),re=this.$(".BRnavCntlTop");this.$(".BRnavCntl").click(function(){var he=[];U.hasClass("BRdn")?(M.refs.$BRtoolbar&&he.push(M.refs.$BRtoolbar.animate({top:-1*M.getToolBarHeight()}).promise()),he.push(M.$(".BRfooter").animate({bottom:-1*M.getFooterHeight()}).promise()),U.addClass("BRup").removeClass("BRdn"),re.addClass("BRdn").removeClass("BRup"),M.$(".BRnavCntlBtm.BRnavCntl").animate({height:"45px"}),M.$(".BRnavCntl").delay(1e3).animate({opacity:.75},1e3)):(M.refs.$BRtoolbar&&he.push(M.refs.$BRtoolbar.animate({top:0}).promise()),he.push(M.$(".BRfooter").animate({bottom:0}).promise()),U.addClass("BRdn").removeClass("BRup"),re.addClass("BRup").removeClass("BRdn"),M.$(".BRnavCntlBtm.BRnavCntl").animate({height:"30px"}),M.$(".BRvavCntl").animate({opacity:1})),Lr.when.apply(Lr,he).done(function(){M.mode==M.constMode2up&&M.twoPage.autofit!=null&&M.twoPage.autofit!="none"||M.mode==M.constMode1up&&M.onePage.autofit!=null&&M.onePage.autofit!="none"?M.resize():M.resizeBRcontainer()})}),U.on("mouseover",function(){Lr(this).hasClass("BRup")&&M.$(".BRnavCntl").animate({opacity:1},250)}).on("mouseleave",function(){Lr(this).hasClass("BRup")&&M.$(".BRnavCntl").animate({opacity:.75},250)}),re.on("mouseover",function(){Lr(this).hasClass("BRdn")&&M.$(".BRnavCntl").animate({opacity:1},250)}).on("mouseleave",function(){Lr(this).hasClass("BRdn")&&M.$(".BRnavCntl").animate({opacity:.75},250)})},kn.prototype.getPageURI=an.prototype.getPageURI,K(an,"book","getPageURI"),kn.prototype.updateFromParams=function(Ae){var M=Ae.mode,S=M===void 0?0:M,T=Ae.init,I=T!==void 0&&T,z=Ae.fragmentChange,U=z!==void 0&&z;S&&this.switchMode(S,{init:I,suppressFragmentChange:!U}),Ae.index!==void 0?Ae.index!=this.currentIndex()&&this.jumpToIndex(Ae.index):Ae.page!==void 0&&Ae.page!=this.book.getPageNum(this.currentIndex())&&this.jumpToPage(Ae.page),this.enableSearch&&Ae.search!==void 0&&this.searchTerm!==Ae.search&&this.$(".BRsearchInput").val(Ae.search),this.enableThemesPlugin&&Ae.theme!==void 0&&this.updateTheme(Ae.theme)},kn.prototype.canSwitchToMode=function(Ae){return Ae!=this.constMode2up&&Ae!=this.constModeThumb||!(this.book.getNumLeafs()<2)},kn.prototype._getPageURI=function(Ae,M,S){var T=this.book.getPage(Ae,!1);return T?(M===void 0&&(M=T.height/this.twoPage.height),T.getURI(M,S)):this.imagesBaseURL+"transparent.png"},kn.prototype.showProgressPopup=function(Ae,M){var S=this;if(!this.popup){if(this.popup=document.createElement("div"),Lr(this.popup).prop("className","BRprogresspopup"),typeof M=="function"){var T=document.createElement("button");T.setAttribute("title","close"),T.setAttribute("class","close-popup");var I=document.createElement("span");I.setAttribute("class","icon icon-close-dark"),Lr(T).append(I),T.addEventListener("click",function(){M(),S.removeProgressPopup()}),Lr(this.popup).append(T)}var z=document.createElement("div");if(Lr(z).css({height:"20px"}).prop("className","BRprogressbar"),Lr(this.popup).append(z),Ae){var U=document.createElement("div");U.innerHTML=Ae,Lr(this.popup).append(U)}Lr(this.popup).appendTo(this.refs.$br)}},kn.prototype.removeProgressPopup=function(){Lr(this.popup).remove(),this.$(".BRprogresspopup").remove(),this.popup=null},kn.prototype.initUIStrings=function(){var Ae={".logo":"Go to Archive.org",".zoom_in":"Zoom in",".zoom_out":"Zoom out",".onepg":"One-page view",".twopg":"Two-page view",".thumb":"Thumbnail view",".print":"Print this page",".embed":"Embed BookReader",".link":"Link to this book (and page)",".bookmark":"Bookmark this page",".share":"Share this book",".info":"About this book",".full":"Toggle fullscreen",".book_left":"Flip left",".book_right":"Flip right",".play":"Play",".pause":"Pause",".BRdn":"Show/hide nav bar",".BRup":"Show/hide nav bar",".book_top":"First page",".book_bottom":"Last page",".book_leftmost":"First page",".book_rightmost":"Last page"};for(var M in this.pageProgression=="rl"&&(Ae[".book_leftmost"]="Last page",Ae[".book_rightmost"]="First page"),Ae)this.$(M).prop("title",Ae[M])},kn.prototype.reloadImages=function(){this.refs.$brContainer.find("img").each(function(Ae,M){if(!M.complete||M.naturalHeight===0){var S=M.src;M.src="",setTimeout(function(){M.src=S},1e3)}})},kn.prototype.getFooterHeight=function(){var Ae=this.mode==this.constMode2up?this.refs.$BRfooter:this.refs.$BRnav;if(Ae&&this.refs.$BRfooter){var M=Ae.outerHeight(),S=parseInt(this.refs.$BRfooter.css("bottom"));if(!isNaN(M)&&!isNaN(S))return M+S}return 0},kn.prototype.paramsFromCurrent=function(){var Ae={},M=this.currentIndex(),S=this.book.getPageNum(M);return(S===0||S)&&(Ae.page=S),Ae.index=M,Ae.mode=this.mode,this.isFullscreenActive&&(Ae.view="theater"),this.enableSearch&&(Ae.search=this.searchTerm),Ae},kn.prototype.paramsFromFragment=function(Ae){var M={};Ae.substr(0,1)=="#"&&(Ae=Ae.substr(1));var S=parseInt(/^\d+$/.exec(Ae));if(!isNaN(S))return M.index=S,M;for(var T=Ae.split("/"),I={},z=0;z<T.length;z+=2)I[T[z]]=T[z+1];return I.mode=="1up"?M.mode=this.constMode1up:I.mode=="2up"?M.mode=this.constMode2up:I.mode=="thumb"&&(M.mode=this.constModeThumb),I.page!==void 0&&(M.page=decodeURIComponent(I.page)),I.search!=null&&(M.search=ge.decodeURIComponentPlus(I.search)),I.theme!=null&&(M.theme=I.theme),M},kn.prototype.fragmentFromParams=function(Ae){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"hash",S=[];if(Ae.page!==void 0?S.push("page",encodeURIComponent(Ae.page)):Ae.index!==void 0&&S.push("page","n"+Ae.index),Ae.mode!==void 0)if(Ae.mode==this.constMode1up)S.push("mode","1up");else if(Ae.mode==this.constMode2up)S.push("mode","2up");else{if(Ae.mode!=this.constModeThumb)throw"fragmentFromParams called with unknown mode "+Ae.mode;S.push("mode","thumb")}return Ae.search&&M==="hash"&&S.push("search",ge.encodeURIComponentPlus(Ae.search)),S.join("/")},kn.prototype.queryStringFromParams=function(Ae,M){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"hash",T=new URLSearchParams(M);Ae.view?T.set("view",Ae.view):T.delete("view"),Ae.search&&S==="history"&&T.set("q",Ae.search);var I=T.toString();return I?"?"+I:""},kn.prototype.$=function(Ae){return this.refs.$br.find(Ae)},window.BookReader=kn})(),l=o.O(l)})()}),mg={},f7(mg,{default:function(){return bg}}),v7=vg(gg()),p7(mg,vg(gg()));var m;Wn=v7,m=Wn,yg=m.default,g7=Ai(Wn,["default"]),bg=yg!==void 0?yg:g7}}),y7={};ai(y7,{default:function(){return bg}});var nP=Mt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-80/BookReader/BookReader.js":function(){m7(),m7()}}),b7,dh,w7,_7,k7,x7,S7,C7,hh,A7,wg,_g,kg,O7,Wn,xg,j7,Sg,E7=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-80/esnext/BookReader/plugins/plugin.search.js":function(){b7=Object.create,dh=Object.defineProperty,w7=Object.getOwnPropertyDescriptor,_7=Object.getOwnPropertyNames,k7=Object.getPrototypeOf,x7=Object.prototype.hasOwnProperty,S7=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},C7=function(t,e){for(var n in e)dh(t,n,{get:e[n],enumerable:!0})},hh=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!x7.call(t,v)&&v!==n&&dh(t,v,{get:function(){return e[v]},enumerable:!(o=w7(e,v))||o.enumerable})},c=_7(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},A7=function(t,e,n){return hh(t,e,"default"),n&&hh(n,e,"default")},wg=function(t,e,n){return n=t!=null?b7(k7(t)):{},hh(e||!t||!t.__esModule?dh(n,"default",{value:t,enumerable:!0}):n,t)},_g=S7(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[73],{2225:function(t,e,n){var o=function(x,j){for(var L=0;L<j.length;L++){var D=j[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(x,(F=function(X,Q){if(A(X)!=="object"||X===null)return X;var H=X[Symbol.toPrimitive];if(H!==void 0){var ce=H.call(X,"string");if(A(ce)!=="object")return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(X)}(D.key),A(F)==="symbol"?F:String(F)),D)}var F},l=function(x,j){var L=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!L){if(Array.isArray(x)||(L=a(x))||j&&x&&typeof x.length=="number"){L&&(x=L);var D=0,F=function(){};return{s:F,n:function(){return D>=x.length?{done:!0}:{done:!1,value:x[D++]}},e:function(ne){throw ne},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var X,Q=!0,H=!1;return{s:function(){L=L.call(x)},n:function(){var ne=L.next();return Q=ne.done,ne},e:function(ne){H=!0,X=ne},f:function(){try{Q||L.return==null||L.return()}finally{if(H)throw X}}}},a=function(x,j){if(x){if(typeof x=="string")return s(x,j);var L=Object.prototype.toString.call(x).slice(8,-1);return L==="Object"&&x.constructor&&(L=x.constructor.name),L==="Map"||L==="Set"?Array.from(x):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?s(x,j):void 0}},s=function(x,j){(j==null||j>x.length)&&(j=x.length);for(var L=0,D=new Array(j);L<j;L++)D[L]=x[L];return D},r=function(x,j,L){var D=(0,_.escapeRegExp)((0,_.escapeHTML)(j)),F=(0,_.escapeRegExp)((0,_.escapeHTML)(L)),X=new RegExp("".concat(D,"([^]+?)").concat(F),"g");return(0,_.escapeHTML)(x).replace(X,"<mark>$1</mark>").replace(/(\b)- /g,"$1")},c=function(x,j){var L=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!L){if(Array.isArray(x)||(L=d(x))||j&&x&&typeof x.length=="number"){L&&(x=L);var D=0,F=function(){};return{s:F,n:function(){return D>=x.length?{done:!0}:{done:!1,value:x[D++]}},e:function(ne){throw ne},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var X,Q=!0,H=!1;return{s:function(){L=L.call(x)},n:function(){var ne=L.next();return Q=ne.done,ne},e:function(ne){H=!0,X=ne},f:function(){try{Q||L.return==null||L.return()}finally{if(H)throw X}}}},d=function(x,j){if(x){if(typeof x=="string")return h(x,j);var L=Object.prototype.toString.call(x).slice(8,-1);return L==="Object"&&x.constructor&&(L=x.constructor.name),L==="Map"||L==="Set"?Array.from(x):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?h(x,j):void 0}},h=function(x,j){(j==null||j>x.length)&&(j=x.length);for(var L=0,D=new Array(j);L<j;L++)D[L]=x[L];return D},f=function(x,j,L,D,F,X,Q){try{var H=x[X](Q),ce=H.value}catch(ne){return void L(ne)}H.done?j(ce):Promise.resolve(ce).then(D,F)},v=function(x){return function(){var j=this,L=arguments;return new Promise(function(D,F){var X=x.apply(j,L);function Q(ce){f(X,D,F,Q,H,"next",ce)}function H(ce){f(X,D,F,Q,H,"throw",ce)}Q(void 0)})}};n(4043),n(1514),n(5728),n(228),n(886),n(7267),n(4338),n(429),n(3964),n(6585),n(939),n(752),n(1694),n(6265),n(9307),n(9749),n(6544),n(4254),n(8373),n(6793),n(7629),n(7509),n(8052),n(7522),n(4284),n(3374),n(9730),n(2826),n(7049);var _=n(5685),b=n(9860),w=(n(2320),n(9373),n(9903),n(9288),n(5311));function A(k){return A=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(j){return typeof j=="undefined"?"undefined":_typeof(j)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x=="undefined"?"undefined":_typeof(x)},A(k)}var E=function(){function k(L){var D=L.br,F=L.searchCancelledCallback,X=F===void 0?function(){}:F;(function(Q,H){if(!_instanceof(Q,H))throw new TypeError("Cannot call a class as a function")})(this,k),this.br=D,this.matches=[],this.cacheDOMElements(),this.bindEvents(),this.cancelSearch=X}var x,j;return x=k,j=[{key:"cacheDOMElements",value:function(){this.dom={},this.dom.toolbarSearch=this.buildToolbarSearch()}},{key:"setQuery",value:function(D){this.br.$('[name="query"]').val(D)}},{key:"emptyMatches",value:function(){this.matches=[]}},{key:"removeResultPins",value:function(){this.br.$(".BRnavpos .BRsearch").remove()}},{key:"clearSearchFieldAndResults",value:function(){var D=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.br.removeSearchResults(),this.removeResultPins(),this.emptyMatches(),this.setQuery(""),this.teardownSearchNavigation(),D&&this.br.trigger("SearchResultsCleared")}},{key:"toggleSidebar",value:function(){this.br.trigger("ToggleSearchMenu")}},{key:"renderSearchNavigation",value:function(){var D="BRsearch-navigation";w(".BRnav").before('\n      <div class="'.concat(D,'">\n        <button class="toggle-sidebar">\n          <h4>\n            <span class="icon icon-search"></span> Results\n          </h4>\n        </button>\n        <div class="pagination">\n          <button class="prev" title="Previous result"><span class="icon icon-chevron hflip"></span></button>\n          <span data-id="resultsCount">').concat(this.resultsPosition(),'</span>\n          <button class="next" title="Next result"><span class="icon icon-chevron"></button>\n        </div>\n        <button class="clear" title="Clear search results">\n          <span class="icon icon-close"></span>\n        </button>\n      </div>\n    ')),this.dom.searchNavigation=w(".".concat(D))}},{key:"resultsPosition",value:function(){var D="".concat(this.matches.length," result").concat(this.matches.length===1?"":"s");return~this.currentMatchIndex&&(D="".concat(this.currentMatchIndex+1," / ").concat(this.matches.length)),D}},{key:"bindSearchNavigationEvents",value:function(){if(this.dom.searchNavigation){var D="searchNavigation";this.dom.searchNavigation.on("click.".concat(D),".clear",this.clearSearchFieldAndResults.bind(this)).on("click.".concat(D),".prev",this.showPrevResult.bind(this)).on("click.".concat(D),".next",this.showNextResult.bind(this)).on("click.".concat(D),".toggle-sidebar",this.toggleSidebar.bind(this)).on("click.".concat(D),!1)}}},{key:"showPrevResult",value:function(){this.currentMatchIndex!==0&&(this.br.mode===this.br.constModeThumb&&this.br.switchMode(this.br.constMode1up),~this.currentMatchIndex||(this.currentMatchIndex=this.getClosestMatchIndex(function(D,F,X){return F[0]>X})+1),this.br.$(".BRnavline .BRsearch").eq(--this.currentMatchIndex).click(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"showNextResult",value:function(){this.currentMatchIndex+1!==this.matches.length&&(this.br.mode===this.br.constModeThumb&&this.br.switchMode(this.br.constMode1up),~this.currentMatchIndex||(this.currentMatchIndex=this.getClosestMatchIndex(function(D,F,X){return D[D.length-1]>X})-1),this.br.$(".BRnavline .BRsearch").eq(++this.currentMatchIndex).click(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"getClosestMatchIndex",value:function(D){var F=function X(Q,H){if(Q.length===1)return Q[0];var ce=Q.slice(0,Q.length/2),ne=Q.slice(Q.length/2);return X(D(ce,ne,H)?ce:ne,H)}(this.matches.map(function(X){return X.par[0].page}),this.br.currentIndex()+1);return this.matches.indexOf(this.matches.find(function(X){return X.par[0].page===F}))}},{key:"updateResultsPosition",value:function(){this.dom.searchNavigation&&this.dom.searchNavigation.find("[data-id=resultsCount]").text(this.resultsPosition())}},{key:"updateSearchNavigationButtons",value:function(){this.dom.searchNavigation&&(this.dom.searchNavigation.find(".prev").attr("disabled",!this.currentMatchIndex),this.dom.searchNavigation.find(".next").attr("disabled",this.currentMatchIndex+1===this.matches.length))}},{key:"teardownSearchNavigation",value:function(){this.dom.searchNavigation||(this.dom.searchNavigation=w(".BRsearch-navigation")),this.dom.searchNavigation.length&&(this.dom.searchNavigation.off(".searchNavigation").remove(),this.dom.searchNavigation=null,this.br.resize())}},{key:"setCurrentMatchIndex",value:function(){var D;this.br.mode!==this.br.constModeThumb?(D=this.br.mode===this.br.constMode2up?this.find2upMatchingSearchResult():this.find1upMatchingSearchResult(),this.currentMatchIndex=this.matches.indexOf(D)):this.currentMatchIndex=-1}},{key:"find1upMatchingSearchResult",value:function(){var D=this;return this.matches.find(function(F){return D.br.currentIndex()===F.par[0].page-1})}},{key:"find2upMatchingSearchResult",value:function(){var D=this;return this.matches.find(function(F){return D.br._isIndexDisplayed(F.par[0].page-1)})}},{key:"updateSearchNavigation",value:function(){this.matches.length&&(this.setCurrentMatchIndex(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"togglePinsFor",value:function(D){var F=D?"visible":"hidden";this.br.refs.$BRfooter.find(".BRsearch").css({visibility:F})}},{key:"buildToolbarSearch",value:function(){var D=document.createElement("span");return D.classList.add("BRtoolbarSection","BRtoolbarSectionSearch"),D.innerHTML='\n      <form class="BRbooksearch desktop">\n        <input type="search" name="query" class="BRsearchInput" value="" placeholder="Search inside"/>\n        <button type="submit" class="BRsearchSubmit">\n          <img src="'.concat(this.br.imagesBaseURL,'icon_search_button.svg" />\n        </button>\n      </form>\n    '),D}},{key:"renderPins",value:function(D){var F=this;D.forEach(function(X){var Q=F.br.book.leafNumToIndex(X.par[0].page),H=F.br.constructor.util.cssPercentage(Q,F.br.book.getNumLeafs()-1),ce=X.html;if(ce.length>200){var ne=Math.max(0,ce.indexOf("<mark>")-100);ne!=0&&(ce="\u2026"+X.html.substring(ne).replace(/^\S+/,""))}w("<div>").addClass("BRsearch").css({left:H}).attr("title","Search result").append('\n          <div class="BRquery">\n            <main>'.concat(ce,"</main>\n            <footer>Page ").concat(X.displayPageNumber,"</footer>\n          </div>\n        ")).appendTo(F.br.$(".BRnavline")).on("mouseenter",function(V){var Y=V.currentTarget,oe=Y.querySelector(".BRquery"),q=oe.getBoundingClientRect(),G=Y.getBoundingClientRect(),J=2*parseInt(getComputedStyle(oe).paddingLeft);q.x-J<0&&oe.style.setProperty("transform","translateX(-".concat(G.left-J,"px)")),w(".BRsearch,.BRchapter").removeClass("front"),w(V.target).addClass("front")}).on("mouseleave",function(V){return w(V.target).removeClass("front")}).on("click",function(){F.br._searchPluginGoToResult(X.matchIndex)})})}},{key:"toggleSearchPending",value:function(D){var F=this;D?this.br.showProgressPopup("Search results will appear below...",function(){return F.progressPopupClosed()}):this.br.removeProgressPopup()}},{key:"progressPopupClosed",value:function(){this.toggleSearchPending(),this.cancelSearch()}},{key:"renderErrorModal",value:function(){var D="".concat(arguments.length>0&&arguments[0]!==void 0&&arguments[0]?"":"The text may still be processing. ","Please try again.");this.renderModalMessage("\n      Sorry, there was an error with your search.\n      <br />\n      ".concat(D,"\n    ")),this.delayModalRemovalFor(4e3)}},{key:"renderBookNotIndexedModal",value:function(){this.renderModalMessage("\n      <p>\n         This book hasn't been indexed for searching yet.\n         We've just started indexing it, so search should be available soon.\n         <br />\n         Please try again later. Thanks!\n      </p>\n    "),this.delayModalRemovalFor(5e3)}},{key:"renderResultsEmptyModal",value:function(){this.renderModalMessage("No matches were found."),this.delayModalRemovalFor(2e3)}},{key:"renderModalMessage",value:function(D){var F=document.createElement("div");F.classList.add("BRprogresspopup","search_modal"),F.innerHTML=D,document.querySelector(this.br.el).append(F)}},{key:"delayModalRemovalFor",value:function(D){setTimeout(this.br.removeProgressPopup.bind(this.br),D)}},{key:"submitHandler",value:function(D){D.preventDefault();var F=D.target.querySelector('[name="query"]').value;return!!F.length&&(this.br.search(F),this.emptyMatches(),this.toggleSearchPending(!0),!1)}},{key:"handleSearchCallback",value:function(D,F){var X=this,Q=F.results,H=F.options;this.matches=Q.matches,this.setCurrentMatchIndex(),this.teardownSearchNavigation(),this.renderSearchNavigation(),this.bindSearchNavigationEvents(),this.renderPins(Q.matches),this.toggleSearchPending(!1),H.goToFirstResult?w(document).one("BookReader:pageChanged",function(){X.br.resize()}):this.br.resize()}},{key:"handleSearchStarted",value:function(){this.emptyMatches(),this.br.removeSearchHilites(),this.removeResultPins(),this.toggleSearchPending(!0),this.teardownSearchNavigation(),this.setQuery(this.br.searchTerm)}},{key:"handleSearchCallbackError",value:function(){var D,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.toggleSearchPending(!1);var X=F==null||(D=F.detail)===null||D===void 0||(D=D.props)===null||D===void 0||(D=D.results)===null||D===void 0?void 0:D.indexed;this.renderErrorModal(X)}},{key:"handleSearchCallbackBookNotIndexed",value:function(){this.toggleSearchPending(!1),this.renderBookNotIndexedModal()}},{key:"handleSearchCallbackEmpty",value:function(){this.toggleSearchPending(!1),this.renderResultsEmptyModal()}},{key:"bindEvents",value:function(){var D="BookReader:";window.addEventListener("".concat(D,"SearchCallbackError"),this.handleSearchCallbackError.bind(this)),w(document).on("".concat(D,"SearchCallback"),this.handleSearchCallback.bind(this)).on("".concat(D,"SearchStarted"),this.handleSearchStarted.bind(this)).on("".concat(D,"SearchCallbackBookNotIndexed"),this.handleSearchCallbackBookNotIndexed.bind(this)).on("".concat(D,"SearchCallbackEmpty"),this.handleSearchCallbackEmpty.bind(this)).on("".concat(D,"pageChanged"),this.updateSearchNavigation.bind(this)),this.dom.toolbarSearch.querySelector("form").addEventListener("submit",this.submitHandler.bind(this))}}],j&&o(x.prototype,j),Object.defineProperty(x,"prototype",{writable:!1}),k}(),O=E;n(2003);var P,y=n(5311),u=n(5311);function p(k){return p=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(j){return typeof j=="undefined"?"undefined":_typeof(j)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x=="undefined"?"undefined":_typeof(x)},p(k)}function g(){g=function(){return x};var k,x={},j=Object.prototype,L=j.hasOwnProperty,D=Object.defineProperty||function(Ke,Pe,at){Ke[Pe]=at.value},F=typeof Symbol=="function"?Symbol:{},X=F.iterator||"@@iterator",Q=F.asyncIterator||"@@asyncIterator",H=F.toStringTag||"@@toStringTag";function ce(Ke,Pe,at){return Object.defineProperty(Ke,Pe,{value:at,enumerable:!0,configurable:!0,writable:!0}),Ke[Pe]}try{ce({},"")}catch(Ke){ce=function(at,pt,lt){return at[pt]=lt}}function ne(Ke,Pe,at,pt){var lt=Pe&&_instanceof(Pe.prototype,ae)?Pe:ae,ct=Object.create(lt.prototype),Ge=new Ne(pt||[]);return D(ct,"_invoke",{value:bt(Ke,at,Ge)}),ct}function V(Ke,Pe,at){try{return{type:"normal",arg:Ke.call(Pe,at)}}catch(pt){return{type:"throw",arg:pt}}}x.wrap=ne;var Y="suspendedStart",oe="suspendedYield",q="executing",G="completed",J={};function ae(){}function ie(){}function Oe(){}var De={};ce(De,X,function(){return this});var ke=Object.getPrototypeOf,tt=ke&&ke(ke(Ze([])));tt&&tt!==j&&L.call(tt,X)&&(De=tt);var Ve=Oe.prototype=ae.prototype=Object.create(De);function Qe(Ke){["next","throw","return"].forEach(function(Pe){ce(Ke,Pe,function(at){return this._invoke(Pe,at)})})}function ht(Ke,Pe){function at(lt,ct,Ge,ze){var He=V(Ke[lt],Ke,ct);if(He.type!=="throw"){var rt=He.arg,it=rt.value;return it&&p(it)=="object"&&L.call(it,"__await")?Pe.resolve(it.__await).then(function(wt){at("next",wt,Ge,ze)},function(wt){at("throw",wt,Ge,ze)}):Pe.resolve(it).then(function(wt){rt.value=wt,Ge(rt)},function(wt){return at("throw",wt,Ge,ze)})}ze(He.arg)}var pt;D(this,"_invoke",{value:function(ct,Ge){function ze(){return new Pe(function(He,rt){at(ct,Ge,He,rt)})}return pt=pt?pt.then(ze,ze):ze()}})}function bt(Ke,Pe,at){var pt=Y;return function(lt,ct){if(pt===q)throw new Error("Generator is already running");if(pt===G){if(lt==="throw")throw ct;return{value:k,done:!0}}for(at.method=lt,at.arg=ct;;){var Ge=at.delegate;if(Ge){var ze=vt(Ge,at);if(ze){if(ze===J)continue;return ze}}if(at.method==="next")at.sent=at._sent=at.arg;else if(at.method==="throw"){if(pt===Y)throw pt=G,at.arg;at.dispatchException(at.arg)}else at.method==="return"&&at.abrupt("return",at.arg);pt=q;var He=V(Ke,Pe,at);if(He.type==="normal"){if(pt=at.done?G:oe,He.arg===J)continue;return{value:He.arg,done:at.done}}He.type==="throw"&&(pt=G,at.method="throw",at.arg=He.arg)}}}function vt(Ke,Pe){var at=Pe.method,pt=Ke.iterator[at];if(pt===k)return Pe.delegate=null,at==="throw"&&Ke.iterator.return&&(Pe.method="return",Pe.arg=k,vt(Ke,Pe),Pe.method==="throw")||at!=="return"&&(Pe.method="throw",Pe.arg=new TypeError("The iterator does not provide a '"+at+"' method")),J;var lt=V(pt,Ke.iterator,Pe.arg);if(lt.type==="throw")return Pe.method="throw",Pe.arg=lt.arg,Pe.delegate=null,J;var ct=lt.arg;return ct?ct.done?(Pe[Ke.resultName]=ct.value,Pe.next=Ke.nextLoc,Pe.method!=="return"&&(Pe.method="next",Pe.arg=k),Pe.delegate=null,J):ct:(Pe.method="throw",Pe.arg=new TypeError("iterator result is not an object"),Pe.delegate=null,J)}function Le(Ke){var Pe={tryLoc:Ke[0]};1 in Ke&&(Pe.catchLoc=Ke[1]),2 in Ke&&(Pe.finallyLoc=Ke[2],Pe.afterLoc=Ke[3]),this.tryEntries.push(Pe)}function _e(Ke){var Pe=Ke.completion||{};Pe.type="normal",delete Pe.arg,Ke.completion=Pe}function Ne(Ke){this.tryEntries=[{tryLoc:"root"}],Ke.forEach(Le,this),this.reset(!0)}function Ze(Ke){if(Ke||Ke===""){var Pe=Ke[X];if(Pe)return Pe.call(Ke);if(typeof Ke.next=="function")return Ke;if(!isNaN(Ke.length)){var at=-1,pt=function lt(){for(;++at<Ke.length;)if(L.call(Ke,at))return lt.value=Ke[at],lt.done=!1,lt;return lt.value=k,lt.done=!0,lt};return pt.next=pt}}throw new TypeError(p(Ke)+" is not iterable")}return ie.prototype=Oe,D(Ve,"constructor",{value:Oe,configurable:!0}),D(Oe,"constructor",{value:ie,configurable:!0}),ie.displayName=ce(Oe,H,"GeneratorFunction"),x.isGeneratorFunction=function(Ke){var Pe=typeof Ke=="function"&&Ke.constructor;return!!Pe&&(Pe===ie||(Pe.displayName||Pe.name)==="GeneratorFunction")},x.mark=function(Ke){return Object.setPrototypeOf?Object.setPrototypeOf(Ke,Oe):(Ke.__proto__=Oe,ce(Ke,H,"GeneratorFunction")),Ke.prototype=Object.create(Ve),Ke},x.awrap=function(Ke){return{__await:Ke}},Qe(ht.prototype),ce(ht.prototype,Q,function(){return this}),x.AsyncIterator=ht,x.async=function(Ke,Pe,at,pt,lt){lt===void 0&&(lt=Promise);var ct=new ht(ne(Ke,Pe,at,pt),lt);return x.isGeneratorFunction(Pe)?ct:ct.next().then(function(Ge){return Ge.done?Ge.value:ct.next()})},Qe(Ve),ce(Ve,H,"Generator"),ce(Ve,X,function(){return this}),ce(Ve,"toString",function(){return"[object Generator]"}),x.keys=function(Ke){var Pe=Object(Ke),at=[];for(var pt in Pe)at.push(pt);return at.reverse(),function lt(){for(;at.length;){var ct=at.pop();if(ct in Pe)return lt.value=ct,lt.done=!1,lt}return lt.done=!0,lt}},x.values=Ze,Ne.prototype={constructor:Ne,reset:function(Pe){if(this.prev=0,this.next=0,this.sent=this._sent=k,this.done=!1,this.delegate=null,this.method="next",this.arg=k,this.tryEntries.forEach(_e),!Pe)for(var at in this)at.charAt(0)==="t"&&L.call(this,at)&&!isNaN(+at.slice(1))&&(this[at]=k)},stop:function(){this.done=!0;var Pe=this.tryEntries[0].completion;if(Pe.type==="throw")throw Pe.arg;return this.rval},dispatchException:function(Pe){if(this.done)throw Pe;var at=this;function pt(rt,it){return Ge.type="throw",Ge.arg=Pe,at.next=rt,it&&(at.method="next",at.arg=k),!!it}for(var lt=this.tryEntries.length-1;lt>=0;--lt){var ct=this.tryEntries[lt],Ge=ct.completion;if(ct.tryLoc==="root")return pt("end");if(ct.tryLoc<=this.prev){var ze=L.call(ct,"catchLoc"),He=L.call(ct,"finallyLoc");if(ze&&He){if(this.prev<ct.catchLoc)return pt(ct.catchLoc,!0);if(this.prev<ct.finallyLoc)return pt(ct.finallyLoc)}else if(ze){if(this.prev<ct.catchLoc)return pt(ct.catchLoc,!0)}else{if(!He)throw new Error("try statement without catch or finally");if(this.prev<ct.finallyLoc)return pt(ct.finallyLoc)}}}},abrupt:function(Pe,at){for(var pt=this.tryEntries.length-1;pt>=0;--pt){var lt=this.tryEntries[pt];if(lt.tryLoc<=this.prev&&L.call(lt,"finallyLoc")&&this.prev<lt.finallyLoc){var ct=lt;break}}ct&&(Pe==="break"||Pe==="continue")&&ct.tryLoc<=at&&at<=ct.finallyLoc&&(ct=null);var Ge=ct?ct.completion:{};return Ge.type=Pe,Ge.arg=at,ct?(this.method="next",this.next=ct.finallyLoc,J):this.complete(Ge)},complete:function(Pe,at){if(Pe.type==="throw")throw Pe.arg;return Pe.type==="break"||Pe.type==="continue"?this.next=Pe.arg:Pe.type==="return"?(this.rval=this.arg=Pe.arg,this.method="return",this.next="end"):Pe.type==="normal"&&at&&(this.next=at),J},finish:function(Pe){for(var at=this.tryEntries.length-1;at>=0;--at){var pt=this.tryEntries[at];if(pt.finallyLoc===Pe)return this.complete(pt.completion,pt.afterLoc),_e(pt),J}},catch:function(Pe){for(var at=this.tryEntries.length-1;at>=0;--at){var pt=this.tryEntries[at];if(pt.tryLoc===Pe){var lt=pt.completion;if(lt.type==="throw"){var ct=lt.arg;_e(pt)}return ct}}throw new Error("illegal catch attempt")},delegateYield:function(Pe,at,pt){return this.delegate={iterator:Ze(Pe),resultName:at,nextLoc:pt},this.method==="next"&&(this.arg=k),J}},x}y.extend(BookReader.defaultOptions,{server:"ia600609.us.archive.org",bookId:"",subPrefix:"",bookPath:"",enableSearch:!0,searchInsideProtocol:"https",searchInsideUrl:"/fulltext/inside.php",searchInsidePreTag:"{{{",searchInsidePostTag:"}}}",initialSearchTerm:null}),BookReader.prototype.setup=(P=BookReader.prototype.setup,function(k){P.call(this,k),this.searchTerm="",this.searchResults=null,this.searchInsideUrl=k.searchInsideUrl,this.enableSearch=k.enableSearch,this.bookId=k.bookId,this.server=k.server,this.subPrefix=k.subPrefix,this.bookPath=k.bookPath,this.searchXHR=null,this._cancelSearch.bind(this),this.cancelSearchRequest.bind(this),this._searchBoxesByIndex={},this.searchView=void 0}),BookReader.prototype.init=function(k){return function(){var x=this;k.call(this),this.searchView=new O({br:this,searchCancelledCallback:function(){x._cancelSearch(),x.trigger("SearchCanceled",{term:x.searchTerm,instance:x})}}),this.options.enableSearch&&this.options.initialSearchTerm&&this.search(this.options.initialSearchTerm,{goToFirstResult:this.options.goToFirstResult,suppressFragmentChange:!1})}}(BookReader.prototype.init),BookReader.prototype.buildToolbarElement=function(k){return function(){var x=k.call(this);if(this.enableSearch)return this.searchView.dom.toolbarSearch&&x.find(".BRtoolbarSectionInfo").after(this.searchView.dom.toolbarSearch),x}}(BookReader.prototype.buildToolbarElement),BookReader.prototype._createPageContainer=function(k){return function(x){var j=k.call(this,x);if(this.enableSearch&&j.page&&x in this._searchBoxesByIndex){var L=j.page.index,D=this._searchBoxesByIndex[L];(0,b.Tm)("searchHiliteLayer",D,j.page,j.$container[0],D.map(function(F){return"match-index-".concat(F.matchIndex)}))}return j}}(BookReader.prototype._createPageContainer),BookReader.prototype.search=v(g().mark(function k(){var x,j,L,D,F,X,Q,H,ce,ne,V,Y,oe=this,q=arguments;return g().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return x=q.length>0&&q[0]!==void 0?q[0]:"",j=q.length>1&&q[1]!==void 0?q[1]:{},L={goToFirstResult:!1,disablePopup:!1,suppressFragmentChange:!1,error:null,success:null},D=y.extend({},L,j),this.suppressFragmentChange=D.suppressFragmentChange,this.searchCancelled=!1,this.searchTerm=x.replace(/\//g," "),D.suppressFragmentChange||this.trigger(BookReader.eventNames.fragmentChange),F=this.server.replace(/:.+/,""),X="".concat(this.options.searchInsideProtocol,"://").concat(F).concat(this.searchInsideUrl,"?"),Q=this.bookPath,H="/".concat(this.subPrefix),this.bookPath.length-this.bookPath.lastIndexOf(H)==H.length&&(Q=this.bookPath.substr(0,this.bookPath.length-H.length)),ce={item_id:this.bookId,doc:this.subPrefix,path:Q,q:x,pre_tag:this.options.searchInsidePreTag,post_tag:this.options.searchInsidePostTag},ne=u.param(ce).replace(/%2F/g,"/"),V="".concat(X).concat(ne),Y=function(ae){if(!oe.searchCancelled){var ie=ae.error||!ae.matches.length,Oe=typeof D.error=="function",De=typeof D.success=="function";ie?(console.error("Search Inside Response Error",ae.error||"matches.length == 0"),Oe?D.error.call(oe,ae,D):oe.BRSearchCallbackError(ae,D)):De?D.success.call(oe,ae,D):oe.BRSearchCallback(ae,D)}},this.trigger("SearchStarted",{term:this.searchTerm,instance:this}),G.t0=Y,G.next=21,u.ajax({url:V,dataType:"jsonp",cache:!0,beforeSend:function(ae){oe.searchXHR=ae}});case 21:G.t1=G.sent,(0,G.t0)(G.t1);case 23:case"end":return G.stop()}},k,this)})),BookReader.prototype._cancelSearch=function(){var k;(k=this.searchXHR)===null||k===void 0||k.abort(),this.searchView.clearSearchFieldAndResults(!1),this.searchTerm="",this.searchXHR=null,this.searchCancelled=!0,this.searchResults=[]},BookReader.prototype.cancelSearchRequest=function(){this.searchCancelled=!0,this.searchXHR!==null&&(this._cancelSearch(),this.searchView.toggleSearchPending(),this.trigger("SearchCanceled",{term:this.searchTerm,instance:this}))},BookReader.prototype.BRSearchCallback=function(k,x){var j=this;(function(L,D,F,X){var Q,H,ce,ne,V=l(L.matches.entries());try{for(V.s();!(Q=V.n()).done;){var Y=(ce=Q.value,ne=2,function(Oe){if(Array.isArray(Oe))return Oe}(ce)||function(Oe,De){var ke=Oe==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Oe[Symbol.iterator]||Oe["@@iterator"];if(ke!=null){var tt,Ve,Qe,ht,bt=[],vt=!0,Le=!1;try{if(Qe=(ke=ke.call(Oe)).next,De===0){if(Object(ke)!==ke)return;vt=!1}else for(;!(vt=(tt=Qe.call(ke)).done)&&(bt.push(tt.value),bt.length!==De);vt=!0);}catch(_e){Le=!0,Ve=_e}finally{try{if(!vt&&ke.return!=null&&(ht=ke.return(),Object(ht)!==ht))return}finally{if(Le)throw Ve}}return bt}}(ce,ne)||a(ce,ne)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),oe=Y[0],q=Y[1];q.matchIndex=oe,q.displayPageNumber=(H=q.par[0].page,j.book.getPageNum(j.book.leafNumToIndex(H))),q.html=r(q.text,F,X);var G,J=l(q.par);try{for(J.s();!(G=J.n()).done;){var ae,ie=l(G.value.boxes);try{for(ie.s();!(ae=ie.n()).done;)ae.value.matchIndex=oe}catch(Oe){ie.e(Oe)}finally{ie.f()}}}catch(Oe){J.e(Oe)}finally{J.f()}}}catch(Oe){V.e(Oe)}finally{V.f()}})(k,0,this.options.searchInsidePreTag,this.options.searchInsidePostTag),this.searchResults=k||[],this.updateSearchHilites(),this.removeProgressPopup(),x.goToFirstResult&&this._searchPluginGoToResult(0),this.trigger("SearchCallback",{results:k,options:x,instance:this})},BookReader.prototype.BRSearchCallbackError=function(k){this._BRSearchCallbackError(k)},BookReader.prototype._BRSearchCallbackError=function(k){this.searchResults=k;var x={term:this.searchTerm,instance:this};if(k.error){var j=Object.assign({},x,{results:k});this.trigger("SearchCallbackError",j)}else if(k.matches.length==0){if(k.indexed===!1)return void this.trigger("SearchCallbackBookNotIndexed",x);this.trigger("SearchCallbackEmpty",x)}},BookReader.prototype.updateSearchHilites=function(){var k,x=((k=this.searchResults)===null||k===void 0?void 0:k.matches)||[],j={};this.removeSearchHilites();var L,D,F,X=c(x);try{for(X.s();!(L=X.n()).done;){var Q,H=c(L.value.par[0].boxes);try{for(H.s();!(Q=H.n()).done;){var ce=Q.value,ne=this.book.leafNumToIndex(ce.page);(j[ne]||(j[ne]=[])).push(ce)}}catch(ke){H.e(ke)}finally{H.f()}}}catch(ke){X.e(ke)}finally{X.f()}for(var V=0,Y=Object.entries(j);V<Y.length;V++){var oe,q=(D=Y[V],F=2,function(ke){if(Array.isArray(ke))return ke}(D)||function(ke,tt){var Ve=ke==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ke[Symbol.iterator]||ke["@@iterator"];if(Ve!=null){var Qe,ht,bt,vt,Le=[],_e=!0,Ne=!1;try{if(bt=(Ve=Ve.call(ke)).next,tt===0){if(Object(Ve)!==Ve)return;_e=!1}else for(;!(_e=(Qe=bt.call(Ve)).done)&&(Le.push(Qe.value),Le.length!==tt);_e=!0);}catch(Ze){Ne=!0,ht=Ze}finally{try{if(!_e&&Ve.return!=null&&(vt=Ve.return(),Object(vt)!==vt))return}finally{if(Ne)throw ht}}return Le}}(D,F)||d(D,F)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),G=q[0],J=q[1],ae=parseFloat(G),ie=this.book.getPage(ae),Oe=c(this.getActivePageContainerElementsForIndex(ae));try{var De=function(ke,tt){var Ve=oe.value;(0,b.Tm)("searchHiliteLayer",J,ie,Ve,J.map(function(Qe){return"match-index-".concat(Qe.matchIndex)}))};for(Oe.s();!(oe=Oe.n()).done;)De(V,Y)}catch(ke){Oe.e(ke)}finally{Oe.f()}}this._searchBoxesByIndex=j},BookReader.prototype.removeSearchHilites=function(){u(this.getActivePageContainerElements()).find(".searchHiliteLayer").remove()},BookReader.prototype._searchPluginGoToResult=function(){var k=v(g().mark(function x(j){var L,D,F,X,Q,H,ce,ne,V,Y,oe,q;return g().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(D=(L=this.searchResults)===null||L===void 0?void 0:L.matches[j],F=this.book,X=F.leafNumToIndex(D.par[0].page),Q=F.getPage(X),H=Math.abs(this.currentIndex()-X)<3,ce=!1,Q.isViewable){G.next=17;break}return G.next=9,fetch("/services/bookreader/request_page?"+new URLSearchParams({id:this.options.bookId,subprefix:this.options.subPrefix,leafNum:Q.leafNum})).then(function(J){return J.json()});case 9:ne=G.sent,V=c(ne.value);try{for(V.s();!(Y=V.n()).done;)oe=Y.value,F.getPage(F.leafNumToIndex(oe)).makeViewable()}catch(J){V.e(J)}finally{V.f()}if(ne.value.length||(F.getPage(X).makeViewable(),ce=!0),this._modes.mode1Up.mode1UpLit.updatePages(),this.activeMode!=this._modes.mode1Up){G.next=17;break}return G.next=17,this._modes.mode1Up.mode1UpLit.updateComplete;case 17:return this._isIndexDisplayed(X)||(this.suppressFragmentChange=!1,this.jumpToIndex(X)),ce&&F.getPage(X).makeViewable(!1),G.next=21,(0,_.poll)(function(){return u("rect.match-index-".concat(D.matchIndex))},{until:function(ae){return ae.length>0}});case 21:if(!(q=G.sent).length){G.next=28;break}return q.css("animation","none"),q[0].scrollIntoView({block:this.constMode1up==this.mode||this.isFullscreenActive?"center":"nearest",inline:"center",behavior:H?"smooth":"auto"}),G.next=27,new Promise(function(J){return setTimeout(J,100)});case 27:q.removeAttr("style");case 28:case"end":return G.stop()}},x,this)}));return function(x){return k.apply(this,arguments)}}(),BookReader.prototype.removeSearchResults=function(){var k=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.removeSearchHilites(),this.searchTerm=null,this.searchResults=null,k||this.trigger(BookReader.eventNames.fragmentChange)},BookReader.prototype.searchHighlightVisible=function(){var k=this,x=this.searchResults,j=[];if(x==null)return!1;if(this.constMode2up==this.mode)j=[this.twoPage.currentIndexL,this.twoPage.currentIndexR];else{if(this.constMode1up!=this.mode)return!1;j=[this.currentIndex()]}return x.matches.some(function(L){return L.par[0].boxes.some(function(D){var F=k.book.leafNumToIndex(D.page);if(y.inArray(F,j)>=0)return!0})}),!1}},6585:function(t,e,n){var o=n(9989),l=n(9419).entries;o({target:"Object",stat:!0},{entries:function(s){return l(s)}})}},function(t){t(t.s=2225)}])}),kg={},C7(kg,{default:function(){return Sg}}),O7=wg(_g()),A7(kg,wg(_g()));var m;Wn=O7,m=Wn,xg=m.default,j7=Ai(Wn,["default"]),Sg=xg!==void 0?xg:j7}}),T7={};ai(T7,{default:function(){return Sg}});var rP=Mt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-80/BookReader/plugins/plugin.search.js":function(){E7(),E7()}}),P7,fh,I7,M7,L7,R7,D7,$7,ph,B7,Cg,Ag,Og,N7,Wn,jg,z7,Eg,F7=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-80/esnext/BookReader/plugins/plugin.tts.js":function(){P7=Object.create,fh=Object.defineProperty,I7=Object.getOwnPropertyDescriptor,M7=Object.getOwnPropertyNames,L7=Object.getPrototypeOf,R7=Object.prototype.hasOwnProperty,D7=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},$7=function(t,e){for(var n in e)fh(t,n,{get:e[n],enumerable:!0})},ph=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!R7.call(t,v)&&v!==n&&fh(t,v,{get:function(){return e[v]},enumerable:!(o=I7(e,v))||o.enumerable})},c=M7(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},B7=function(t,e,n){return ph(t,e,"default"),n&&ph(n,e,"default")},Cg=function(t,e,n){return n=t!=null?P7(L7(t)):{},ph(e||!t||!t.__esModule?fh(n,"default",{value:t,enumerable:!0}):n,t)},Ag=D7(function(){(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[34],{2862:function(t,e,n){"use strict";var o=function(N,qe){return function(Ie){if(Array.isArray(Ie))return Ie}(N)||function(Ie,nt){var R=Ie==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ie[Symbol.iterator]||Ie["@@iterator"];if(R!=null){var le,ue,ve,de,K=[],ge=!0,Ee=!1;try{if(ve=(R=R.call(Ie)).next,nt===0){if(Object(R)!==R)return;ge=!1}else for(;!(ge=(le=ve.call(R)).done)&&(K.push(le.value),K.length!==nt);ge=!0);}catch(Ce){Ee=!0,ue=Ce}finally{try{if(!ge&&R.return!=null&&(de=R.return(),Object(de)!==de))return}finally{if(Ee)throw ue}}return K}}(N,qe)||function(Ie,nt){if(Ie){if(typeof Ie=="string")return l(Ie,nt);var R=Object.prototype.toString.call(Ie).slice(8,-1);return R==="Object"&&Ie.constructor&&(R=Ie.constructor.name),R==="Map"||R==="Set"?Array.from(Ie):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?l(Ie,nt):void 0}}(N,qe)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},l=function(N,qe){(qe==null||qe>N.length)&&(qe=N.length);for(var Ie=0,nt=new Array(qe);Ie<qe;Ie++)nt[Ie]=N[Ie];return nt},a=function(N,qe,Ie,nt,R,le,ue){try{var ve=N[le](ue),de=ve.value}catch(K){return void Ie(K)}ve.done?qe(de):Promise.resolve(de).then(nt,R)},s=function(N,qe){for(var Ie=0;Ie<qe.length;Ie++){var nt=qe[Ie];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(N,(R=function(le,ue){if(H(le)!=="object"||le===null)return le;var ve=le[Symbol.toPrimitive];if(ve!==void 0){var de=ve.call(le,"string");if(H(de)!=="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(le)}(nt.key),H(R)==="symbol"?R:String(R)),nt)}var R},r=function(N,qe,Ie,nt,R,le,ue){try{var ve=N[le](ue),de=ve.value}catch(K){return void Ie(K)}ve.done?qe(de):Promise.resolve(de).then(nt,R)},c=function(N,qe){for(var Ie=0;Ie<qe.length;Ie++){var nt=qe[Ie];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(N,(R=function(le,ue){if(V(le)!=="object"||le===null)return le;var ve=le[Symbol.toPrimitive];if(ve!==void 0){var de=ve.call(le,"string");if(V(de)!=="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(le)}(nt.key),V(R)==="symbol"?R:String(R)),nt)}var R},d=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/android/i.test(N)},h=function(N,qe){for(var Ie=0;Ie<G.Z.length;Ie++)for(var nt=0;nt<qe.length;nt++){var R=qe[nt];if(G.Z[Ie][J[R]].split(", ").map(function(le){return le.toLowerCase()}).indexOf(N)!=-1)return G.Z[Ie][J["ISO 639-1"]]}return null},f=function(){try{return!!window.localStorage}catch(N){return!1}},v=function(N,qe){(qe==null||qe>N.length)&&(qe=N.length);for(var Ie=0,nt=new Array(qe);Ie<qe;Ie++)nt[Ie]=N[Ie];return nt},_=function(N,qe,Ie,nt,R,le,ue){try{var ve=N[le](ue),de=ve.value}catch(K){return void Ie(K)}ve.done?qe(de):Promise.resolve(de).then(nt,R)},b=function(N){return function(){var qe=this,Ie=arguments;return new Promise(function(nt,R){var le=N.apply(qe,Ie);function ue(de){_(le,nt,R,ue,ve,"next",de)}function ve(de){_(le,nt,R,ue,ve,"throw",de)}ue(void 0)})}},w=function(N,qe){for(var Ie=0;Ie<qe.length;Ie++){var nt=qe[Ie];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(N,A(nt.key),nt)}},A=function(N){var qe=function(Ie,nt){if(ie(Ie)!=="object"||Ie===null)return Ie;var R=Ie[Symbol.toPrimitive];if(R!==void 0){var le=R.call(Ie,"string");if(ie(le)!=="object")return le;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ie)}(N);return ie(qe)==="symbol"?qe:String(qe)},E=function(N,qe,Ie,nt,R,le,ue){try{var ve=N[le](ue),de=ve.value}catch(K){return void Ie(K)}ve.done?qe(de):Promise.resolve(de).then(nt,R)},O=function(N){return function(){var qe=this,Ie=arguments;return new Promise(function(nt,R){var le=N.apply(qe,Ie);function ue(de){E(le,nt,R,ue,ve,"next",de)}function ve(de){E(le,nt,R,ue,ve,"throw",de)}ue(void 0)})}},P=function(N,qe){if(!_instanceof(N,qe))throw new TypeError("Cannot call a class as a function")},y=function(N,qe){for(var Ie=0;Ie<qe.length;Ie++){var nt=qe[Ie];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(N,(R=function(le,ue){if(Ve(le)!=="object"||le===null)return le;var ve=le[Symbol.toPrimitive];if(ve!==void 0){var de=ve.call(le,"string");if(Ve(de)!=="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(le)}(nt.key),Ve(R)==="symbol"?R:String(R)),nt)}var R},u=function(N,qe,Ie){return qe&&y(N.prototype,qe),Ie&&y(N,Ie),Object.defineProperty(N,"prototype",{writable:!1}),N},p=function(N,qe,Ie,nt,R,le,ue){try{var ve=N[le](ue),de=ve.value}catch(K){return void Ie(K)}ve.done?qe(de):Promise.resolve(de).then(nt,R)},g=function(N){return function(){var qe=this,Ie=arguments;return new Promise(function(nt,R){var le=N.apply(qe,Ie);function ue(de){p(le,nt,R,ue,ve,"next",de)}function ve(de){p(le,nt,R,ue,ve,"throw",de)}ue(void 0)})}},k=function(N,qe){if(!_instanceof(N,qe))throw new TypeError("Cannot call a class as a function")},x=function(N,qe){for(var Ie=0;Ie<qe.length;Ie++){var nt=qe[Ie];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(N,(R=function(le,ue){if(Ke(le)!=="object"||le===null)return le;var ve=le[Symbol.toPrimitive];if(ve!==void 0){var de=ve.call(le,"string");if(Ke(de)!=="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(le)}(nt.key),Ke(R)==="symbol"?R:String(R)),nt)}var R},j=function(N,qe,Ie){return qe&&x(N.prototype,qe),Ie&&x(N,Ie),Object.defineProperty(N,"prototype",{writable:!1}),N},L=function(N,qe){return function(Ie){if(Array.isArray(Ie))return Ie}(N)||function(Ie,nt){var R=Ie==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ie[Symbol.iterator]||Ie["@@iterator"];if(R!=null){var le,ue,ve,de,K=[],ge=!0,Ee=!1;try{if(ve=(R=R.call(Ie)).next,nt===0){if(Object(R)!==R)return;ge=!1}else for(;!(ge=(le=ve.call(R)).done)&&(K.push(le.value),K.length!==nt);ge=!0);}catch(Ce){Ee=!0,ue=Ce}finally{try{if(!ge&&R.return!=null&&(de=R.return(),Object(de)!==de))return}finally{if(Ee)throw ue}}return K}}(N,qe)||function(Ie,nt){if(Ie){if(typeof Ie=="string")return D(Ie,nt);var R=Object.prototype.toString.call(Ie).slice(8,-1);return R==="Object"&&Ie.constructor&&(R=Ie.constructor.name),R==="Map"||R==="Set"?Array.from(Ie):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?D(Ie,nt):void 0}}(N,qe)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},D=function(N,qe){(qe==null||qe>N.length)&&(qe=N.length);for(var Ie=0,nt=new Array(qe);Ie<qe;Ie++)nt[Ie]=N[Ie];return nt},F=function(N,qe,Ie,nt,R,le,ue){try{var ve=N[le](ue),de=ve.value}catch(K){return void Ie(K)}ve.done?qe(de):Promise.resolve(de).then(nt,R)},X=function(N){return function(){var qe=this,Ie=arguments;return new Promise(function(nt,R){var le=N.apply(qe,Ie);function ue(de){F(le,nt,R,ue,ve,"next",de)}function ve(de){F(le,nt,R,ue,ve,"throw",de)}ue(void 0)})}};n(4043),n(228),n(2826),n(2462),n(5728),n(4338),n(6203),n(886),n(4284),n(5137),n(8077),n(268),n(939),n(6585),n(7522),n(3964),n(9749),n(6544),n(4254),n(752),n(1694),n(6265),n(8373),n(6793),n(7629),n(7509),n(8052),n(3374),n(9730),n(7049),n(9373),n(9903),n(9288),n(50),n(2349),n(1919),n(7267),n(429);var Q=n(5311);function H(we){return H=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(qe){return typeof qe=="undefined"?"undefined":_typeof(qe)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N=="undefined"?"undefined":_typeof(N)},H(we)}function ce(){ce=function(){return N};var we,N={},qe=Object.prototype,Ie=qe.hasOwnProperty,nt=Object.defineProperty||function(Re,pe,xe){Re[pe]=xe.value},R=typeof Symbol=="function"?Symbol:{},le=R.iterator||"@@iterator",ue=R.asyncIterator||"@@asyncIterator",ve=R.toStringTag||"@@toStringTag";function de(Re,pe,xe){return Object.defineProperty(Re,pe,{value:xe,enumerable:!0,configurable:!0,writable:!0}),Re[pe]}try{de({},"")}catch(Re){de=function(xe,$e,ot){return xe[$e]=ot}}function K(Re,pe,xe,$e){var ot=pe&&_instanceof(pe.prototype,Tt)?pe:Tt,dt=Object.create(ot.prototype),zt=new _n($e||[]);return nt(dt,"_invoke",{value:gn(Re,xe,zt)}),dt}function ge(Re,pe,xe){try{return{type:"normal",arg:Re.call(pe,xe)}}catch($e){return{type:"throw",arg:$e}}}N.wrap=K;var Ee="suspendedStart",Ce="suspendedYield",Ye="executing",Be="completed",Je={};function Tt(){}function jt(){}function Et(){}var Zt={};de(Zt,le,function(){return this});var Nt=Object.getPrototypeOf,Ft=Nt&&Nt(Nt(Wt([])));Ft&&Ft!==qe&&Ie.call(Ft,le)&&(Zt=Ft);var Dt=Et.prototype=Tt.prototype=Object.create(Zt);function Jt(Re){["next","throw","return"].forEach(function(pe){de(Re,pe,function(xe){return this._invoke(pe,xe)})})}function Qt(Re,pe){function xe(ot,dt,zt,mn){var bn=ge(Re[ot],Re,dt);if(bn.type!=="throw"){var qt=bn.arg,Ln=qt.value;return Ln&&H(Ln)=="object"&&Ie.call(Ln,"__await")?pe.resolve(Ln.__await).then(function(Nn){xe("next",Nn,zt,mn)},function(Nn){xe("throw",Nn,zt,mn)}):pe.resolve(Ln).then(function(Nn){qt.value=Nn,zt(qt)},function(Nn){return xe("throw",Nn,zt,mn)})}mn(bn.arg)}var $e;nt(this,"_invoke",{value:function(dt,zt){function mn(){return new pe(function(bn,qt){xe(dt,zt,bn,qt)})}return $e=$e?$e.then(mn,mn):mn()}})}function gn(Re,pe,xe){var $e=Ee;return function(ot,dt){if($e===Ye)throw new Error("Generator is already running");if($e===Be){if(ot==="throw")throw dt;return{value:we,done:!0}}for(xe.method=ot,xe.arg=dt;;){var zt=xe.delegate;if(zt){var mn=Bt(zt,xe);if(mn){if(mn===Je)continue;return mn}}if(xe.method==="next")xe.sent=xe._sent=xe.arg;else if(xe.method==="throw"){if($e===Ee)throw $e=Be,xe.arg;xe.dispatchException(xe.arg)}else xe.method==="return"&&xe.abrupt("return",xe.arg);$e=Ye;var bn=ge(Re,pe,xe);if(bn.type==="normal"){if($e=xe.done?Be:Ce,bn.arg===Je)continue;return{value:bn.arg,done:xe.done}}bn.type==="throw"&&($e=Be,xe.method="throw",xe.arg=bn.arg)}}}function Bt(Re,pe){var xe=pe.method,$e=Re.iterator[xe];if($e===we)return pe.delegate=null,xe==="throw"&&Re.iterator.return&&(pe.method="return",pe.arg=we,Bt(Re,pe),pe.method==="throw")||xe!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+xe+"' method")),Je;var ot=ge($e,Re.iterator,pe.arg);if(ot.type==="throw")return pe.method="throw",pe.arg=ot.arg,pe.delegate=null,Je;var dt=ot.arg;return dt?dt.done?(pe[Re.resultName]=dt.value,pe.next=Re.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=we),pe.delegate=null,Je):dt:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,Je)}function an(Re){var pe={tryLoc:Re[0]};1 in Re&&(pe.catchLoc=Re[1]),2 in Re&&(pe.finallyLoc=Re[2],pe.afterLoc=Re[3]),this.tryEntries.push(pe)}function tn(Re){var pe=Re.completion||{};pe.type="normal",delete pe.arg,Re.completion=pe}function _n(Re){this.tryEntries=[{tryLoc:"root"}],Re.forEach(an,this),this.reset(!0)}function Wt(Re){if(Re||Re===""){var pe=Re[le];if(pe)return pe.call(Re);if(typeof Re.next=="function")return Re;if(!isNaN(Re.length)){var xe=-1,$e=function ot(){for(;++xe<Re.length;)if(Ie.call(Re,xe))return ot.value=Re[xe],ot.done=!1,ot;return ot.value=we,ot.done=!0,ot};return $e.next=$e}}throw new TypeError(H(Re)+" is not iterable")}return jt.prototype=Et,nt(Dt,"constructor",{value:Et,configurable:!0}),nt(Et,"constructor",{value:jt,configurable:!0}),jt.displayName=de(Et,ve,"GeneratorFunction"),N.isGeneratorFunction=function(Re){var pe=typeof Re=="function"&&Re.constructor;return!!pe&&(pe===jt||(pe.displayName||pe.name)==="GeneratorFunction")},N.mark=function(Re){return Object.setPrototypeOf?Object.setPrototypeOf(Re,Et):(Re.__proto__=Et,de(Re,ve,"GeneratorFunction")),Re.prototype=Object.create(Dt),Re},N.awrap=function(Re){return{__await:Re}},Jt(Qt.prototype),de(Qt.prototype,ue,function(){return this}),N.AsyncIterator=Qt,N.async=function(Re,pe,xe,$e,ot){ot===void 0&&(ot=Promise);var dt=new Qt(K(Re,pe,xe,$e),ot);return N.isGeneratorFunction(pe)?dt:dt.next().then(function(zt){return zt.done?zt.value:dt.next()})},Jt(Dt),de(Dt,ve,"Generator"),de(Dt,le,function(){return this}),de(Dt,"toString",function(){return"[object Generator]"}),N.keys=function(Re){var pe=Object(Re),xe=[];for(var $e in pe)xe.push($e);return xe.reverse(),function ot(){for(;xe.length;){var dt=xe.pop();if(dt in pe)return ot.value=dt,ot.done=!1,ot}return ot.done=!0,ot}},N.values=Wt,_n.prototype={constructor:_n,reset:function(pe){if(this.prev=0,this.next=0,this.sent=this._sent=we,this.done=!1,this.delegate=null,this.method="next",this.arg=we,this.tryEntries.forEach(tn),!pe)for(var xe in this)xe.charAt(0)==="t"&&Ie.call(this,xe)&&!isNaN(+xe.slice(1))&&(this[xe]=we)},stop:function(){this.done=!0;var pe=this.tryEntries[0].completion;if(pe.type==="throw")throw pe.arg;return this.rval},dispatchException:function(pe){if(this.done)throw pe;var xe=this;function $e(qt,Ln){return zt.type="throw",zt.arg=pe,xe.next=qt,Ln&&(xe.method="next",xe.arg=we),!!Ln}for(var ot=this.tryEntries.length-1;ot>=0;--ot){var dt=this.tryEntries[ot],zt=dt.completion;if(dt.tryLoc==="root")return $e("end");if(dt.tryLoc<=this.prev){var mn=Ie.call(dt,"catchLoc"),bn=Ie.call(dt,"finallyLoc");if(mn&&bn){if(this.prev<dt.catchLoc)return $e(dt.catchLoc,!0);if(this.prev<dt.finallyLoc)return $e(dt.finallyLoc)}else if(mn){if(this.prev<dt.catchLoc)return $e(dt.catchLoc,!0)}else{if(!bn)throw new Error("try statement without catch or finally");if(this.prev<dt.finallyLoc)return $e(dt.finallyLoc)}}}},abrupt:function(pe,xe){for(var $e=this.tryEntries.length-1;$e>=0;--$e){var ot=this.tryEntries[$e];if(ot.tryLoc<=this.prev&&Ie.call(ot,"finallyLoc")&&this.prev<ot.finallyLoc){var dt=ot;break}}dt&&(pe==="break"||pe==="continue")&&dt.tryLoc<=xe&&xe<=dt.finallyLoc&&(dt=null);var zt=dt?dt.completion:{};return zt.type=pe,zt.arg=xe,dt?(this.method="next",this.next=dt.finallyLoc,Je):this.complete(zt)},complete:function(pe,xe){if(pe.type==="throw")throw pe.arg;return pe.type==="break"||pe.type==="continue"?this.next=pe.arg:pe.type==="return"?(this.rval=this.arg=pe.arg,this.method="return",this.next="end"):pe.type==="normal"&&xe&&(this.next=xe),Je},finish:function(pe){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.finallyLoc===pe)return this.complete($e.completion,$e.afterLoc),tn($e),Je}},catch:function(pe){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.tryLoc===pe){var ot=$e.completion;if(ot.type==="throw"){var dt=ot.arg;tn($e)}return dt}}throw new Error("illegal catch attempt")},delegateYield:function(pe,xe,$e){return this.delegate={iterator:Wt(pe),resultName:xe,nextLoc:$e},this.method==="next"&&(this.arg=we),Je}},N}var ne=function(){function we(R,le,ue,ve){(function(de,K){if(!_instanceof(de,K))throw new TypeError("Cannot call a class as a function")})(this,we),this.leafIndex=R,this.chunkIndex=le,this.text=ue,this.lineRects=ve}var N,qe,Ie,nt;return N=we,qe=[{key:"fetch",value:(Ie=ce().mark(function R(le,ue,ve){var de;return ce().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,Q.ajax({type:"GET",url:"https://".concat(le,"/BookReader/BookReaderGetTextWrapper.php"),dataType:"jsonp",cache:!0,data:{path:"".concat(ue,"_djvu.xml"),page:ve}});case 2:return de=K.sent,K.abrupt("return",we._fromTextWrapperResponse(ve,de));case 4:case"end":return K.stop()}},R)}),nt=function(){var le=this,ue=arguments;return new Promise(function(ve,de){var K=Ie.apply(le,ue);function ge(Ce){a(K,ve,de,ge,Ee,"next",Ce)}function Ee(Ce){a(K,ve,de,ge,Ee,"throw",Ce)}ge(void 0)})},function(R,le,ue){return nt.apply(this,arguments)})},{key:"_fromTextWrapperResponse",value:function(le,ue){return ue.map(function(ve,de){var K=we._fixChunkRects(ve.slice(1)),ge=we._removeDanglingHyphens(ve[0]);return new we(le,de,ge,K)})}},{key:"_fixChunkRects",value:function(le){if(le.length<2)return le;var ue=o(le,2),ve=ue[0],de=ue[1],K=o(ve,3),ge=K[0],Ee=K[1],Ce=K[2]-ge,Ye=de[1]-de[3],Be=de[2]-de[0],Je=de[2];return Ce>30*Be&&(ve[2]=Je,ve[3]=Ee-Ye),le}},{key:"_removeDanglingHyphens",value:function(le){return le.replace(/[-¬]\s+/g,"")}}],qe&&s(N,qe),Object.defineProperty(N,"prototype",{writable:!1}),we}();function V(we){return V=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(qe){return typeof qe=="undefined"?"undefined":_typeof(qe)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N=="undefined"?"undefined":_typeof(N)},V(we)}function Y(){Y=function(){return N};var we,N={},qe=Object.prototype,Ie=qe.hasOwnProperty,nt=Object.defineProperty||function(Re,pe,xe){Re[pe]=xe.value},R=typeof Symbol=="function"?Symbol:{},le=R.iterator||"@@iterator",ue=R.asyncIterator||"@@asyncIterator",ve=R.toStringTag||"@@toStringTag";function de(Re,pe,xe){return Object.defineProperty(Re,pe,{value:xe,enumerable:!0,configurable:!0,writable:!0}),Re[pe]}try{de({},"")}catch(Re){de=function(xe,$e,ot){return xe[$e]=ot}}function K(Re,pe,xe,$e){var ot=pe&&_instanceof(pe.prototype,Tt)?pe:Tt,dt=Object.create(ot.prototype),zt=new _n($e||[]);return nt(dt,"_invoke",{value:gn(Re,xe,zt)}),dt}function ge(Re,pe,xe){try{return{type:"normal",arg:Re.call(pe,xe)}}catch($e){return{type:"throw",arg:$e}}}N.wrap=K;var Ee="suspendedStart",Ce="suspendedYield",Ye="executing",Be="completed",Je={};function Tt(){}function jt(){}function Et(){}var Zt={};de(Zt,le,function(){return this});var Nt=Object.getPrototypeOf,Ft=Nt&&Nt(Nt(Wt([])));Ft&&Ft!==qe&&Ie.call(Ft,le)&&(Zt=Ft);var Dt=Et.prototype=Tt.prototype=Object.create(Zt);function Jt(Re){["next","throw","return"].forEach(function(pe){de(Re,pe,function(xe){return this._invoke(pe,xe)})})}function Qt(Re,pe){function xe(ot,dt,zt,mn){var bn=ge(Re[ot],Re,dt);if(bn.type!=="throw"){var qt=bn.arg,Ln=qt.value;return Ln&&V(Ln)=="object"&&Ie.call(Ln,"__await")?pe.resolve(Ln.__await).then(function(Nn){xe("next",Nn,zt,mn)},function(Nn){xe("throw",Nn,zt,mn)}):pe.resolve(Ln).then(function(Nn){qt.value=Nn,zt(qt)},function(Nn){return xe("throw",Nn,zt,mn)})}mn(bn.arg)}var $e;nt(this,"_invoke",{value:function(dt,zt){function mn(){return new pe(function(bn,qt){xe(dt,zt,bn,qt)})}return $e=$e?$e.then(mn,mn):mn()}})}function gn(Re,pe,xe){var $e=Ee;return function(ot,dt){if($e===Ye)throw new Error("Generator is already running");if($e===Be){if(ot==="throw")throw dt;return{value:we,done:!0}}for(xe.method=ot,xe.arg=dt;;){var zt=xe.delegate;if(zt){var mn=Bt(zt,xe);if(mn){if(mn===Je)continue;return mn}}if(xe.method==="next")xe.sent=xe._sent=xe.arg;else if(xe.method==="throw"){if($e===Ee)throw $e=Be,xe.arg;xe.dispatchException(xe.arg)}else xe.method==="return"&&xe.abrupt("return",xe.arg);$e=Ye;var bn=ge(Re,pe,xe);if(bn.type==="normal"){if($e=xe.done?Be:Ce,bn.arg===Je)continue;return{value:bn.arg,done:xe.done}}bn.type==="throw"&&($e=Be,xe.method="throw",xe.arg=bn.arg)}}}function Bt(Re,pe){var xe=pe.method,$e=Re.iterator[xe];if($e===we)return pe.delegate=null,xe==="throw"&&Re.iterator.return&&(pe.method="return",pe.arg=we,Bt(Re,pe),pe.method==="throw")||xe!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+xe+"' method")),Je;var ot=ge($e,Re.iterator,pe.arg);if(ot.type==="throw")return pe.method="throw",pe.arg=ot.arg,pe.delegate=null,Je;var dt=ot.arg;return dt?dt.done?(pe[Re.resultName]=dt.value,pe.next=Re.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=we),pe.delegate=null,Je):dt:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,Je)}function an(Re){var pe={tryLoc:Re[0]};1 in Re&&(pe.catchLoc=Re[1]),2 in Re&&(pe.finallyLoc=Re[2],pe.afterLoc=Re[3]),this.tryEntries.push(pe)}function tn(Re){var pe=Re.completion||{};pe.type="normal",delete pe.arg,Re.completion=pe}function _n(Re){this.tryEntries=[{tryLoc:"root"}],Re.forEach(an,this),this.reset(!0)}function Wt(Re){if(Re||Re===""){var pe=Re[le];if(pe)return pe.call(Re);if(typeof Re.next=="function")return Re;if(!isNaN(Re.length)){var xe=-1,$e=function ot(){for(;++xe<Re.length;)if(Ie.call(Re,xe))return ot.value=Re[xe],ot.done=!1,ot;return ot.value=we,ot.done=!0,ot};return $e.next=$e}}throw new TypeError(V(Re)+" is not iterable")}return jt.prototype=Et,nt(Dt,"constructor",{value:Et,configurable:!0}),nt(Et,"constructor",{value:jt,configurable:!0}),jt.displayName=de(Et,ve,"GeneratorFunction"),N.isGeneratorFunction=function(Re){var pe=typeof Re=="function"&&Re.constructor;return!!pe&&(pe===jt||(pe.displayName||pe.name)==="GeneratorFunction")},N.mark=function(Re){return Object.setPrototypeOf?Object.setPrototypeOf(Re,Et):(Re.__proto__=Et,de(Re,ve,"GeneratorFunction")),Re.prototype=Object.create(Dt),Re},N.awrap=function(Re){return{__await:Re}},Jt(Qt.prototype),de(Qt.prototype,ue,function(){return this}),N.AsyncIterator=Qt,N.async=function(Re,pe,xe,$e,ot){ot===void 0&&(ot=Promise);var dt=new Qt(K(Re,pe,xe,$e),ot);return N.isGeneratorFunction(pe)?dt:dt.next().then(function(zt){return zt.done?zt.value:dt.next()})},Jt(Dt),de(Dt,ve,"Generator"),de(Dt,le,function(){return this}),de(Dt,"toString",function(){return"[object Generator]"}),N.keys=function(Re){var pe=Object(Re),xe=[];for(var $e in pe)xe.push($e);return xe.reverse(),function ot(){for(;xe.length;){var dt=xe.pop();if(dt in pe)return ot.value=dt,ot.done=!1,ot}return ot.done=!0,ot}},N.values=Wt,_n.prototype={constructor:_n,reset:function(pe){if(this.prev=0,this.next=0,this.sent=this._sent=we,this.done=!1,this.delegate=null,this.method="next",this.arg=we,this.tryEntries.forEach(tn),!pe)for(var xe in this)xe.charAt(0)==="t"&&Ie.call(this,xe)&&!isNaN(+xe.slice(1))&&(this[xe]=we)},stop:function(){this.done=!0;var pe=this.tryEntries[0].completion;if(pe.type==="throw")throw pe.arg;return this.rval},dispatchException:function(pe){if(this.done)throw pe;var xe=this;function $e(qt,Ln){return zt.type="throw",zt.arg=pe,xe.next=qt,Ln&&(xe.method="next",xe.arg=we),!!Ln}for(var ot=this.tryEntries.length-1;ot>=0;--ot){var dt=this.tryEntries[ot],zt=dt.completion;if(dt.tryLoc==="root")return $e("end");if(dt.tryLoc<=this.prev){var mn=Ie.call(dt,"catchLoc"),bn=Ie.call(dt,"finallyLoc");if(mn&&bn){if(this.prev<dt.catchLoc)return $e(dt.catchLoc,!0);if(this.prev<dt.finallyLoc)return $e(dt.finallyLoc)}else if(mn){if(this.prev<dt.catchLoc)return $e(dt.catchLoc,!0)}else{if(!bn)throw new Error("try statement without catch or finally");if(this.prev<dt.finallyLoc)return $e(dt.finallyLoc)}}}},abrupt:function(pe,xe){for(var $e=this.tryEntries.length-1;$e>=0;--$e){var ot=this.tryEntries[$e];if(ot.tryLoc<=this.prev&&Ie.call(ot,"finallyLoc")&&this.prev<ot.finallyLoc){var dt=ot;break}}dt&&(pe==="break"||pe==="continue")&&dt.tryLoc<=xe&&xe<=dt.finallyLoc&&(dt=null);var zt=dt?dt.completion:{};return zt.type=pe,zt.arg=xe,dt?(this.method="next",this.next=dt.finallyLoc,Je):this.complete(zt)},complete:function(pe,xe){if(pe.type==="throw")throw pe.arg;return pe.type==="break"||pe.type==="continue"?this.next=pe.arg:pe.type==="return"?(this.rval=this.arg=pe.arg,this.method="return",this.next="end"):pe.type==="normal"&&xe&&(this.next=xe),Je},finish:function(pe){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.finallyLoc===pe)return this.complete($e.completion,$e.afterLoc),tn($e),Je}},catch:function(pe){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.tryLoc===pe){var ot=$e.completion;if(ot.type==="throw"){var dt=ot.arg;tn($e)}return dt}}throw new Error("illegal catch attempt")},delegateYield:function(pe,xe,$e){return this.delegate={iterator:Wt(pe),resultName:xe,nextLoc:$e},this.method==="next"&&(this.arg=we),Je}},N}var oe=function(){function we(R,le,ue){(function(ve,de){if(!_instanceof(ve,de))throw new TypeError("Cannot call a class as a function")})(this,we),this.pageCount=R,this.opts=Object.assign({},q,ue),this._cursor={page:le,chunk:0},this._bufferedPages={},this._bufferingPages={},this._cursorLock=Promise.resolve()}var N,qe,Ie,nt;return N=we,qe=[{key:"next",value:function(){var le=this;return this._cursorLock=this._cursorLock.then(function(){return le._nextUncontrolled()})}},{key:"decrement",value:function(){var le=this;return this._cursorLock=this._cursorLock.then(function(){return le._decrementUncontrolled()})}},{key:"_nextUncontrolled",value:(Ie=Y().mark(function R(){var le;return Y().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(this._cursor.page!=this.pageCount){ue.next=2;break}return ue.abrupt("return",Promise.resolve(we.AT_END));case 2:return this._recenterBuffer(this._cursor.page),ue.next=5,this._fetchPageChunks(this._cursor.page);case 5:if(le=ue.sent,this._cursor.chunk!=le.length){ue.next=10;break}return this._cursor.page++,this._cursor.chunk=0,ue.abrupt("return",this._nextUncontrolled());case 10:return ue.abrupt("return",le[this._cursor.chunk++]);case 11:case"end":return ue.stop()}},R,this)}),nt=function(){var le=this,ue=arguments;return new Promise(function(ve,de){var K=Ie.apply(le,ue);function ge(Ce){r(K,ve,de,ge,Ee,"next",Ce)}function Ee(Ce){r(K,ve,de,ge,Ee,"throw",Ce)}ge(void 0)})},function(){return nt.apply(this,arguments)})},{key:"_decrementUncontrolled",value:function(){var le=this,ue=Promise.resolve();return this._cursor.chunk>0?this._cursor.chunk--:this._cursor.page>0&&(this._cursor.page--,ue=this._fetchPageChunks(this._cursor.page).then(function(ve){if(ve.length==0)return le._decrementUncontrolled();le._cursor.chunk=ve.length-1})),ue.then(function(){return le._fetchPageChunks(le._cursor.page)})}},{key:"_recenterBuffer",value:function(le){for(var ue=Math.max(0,le-this.opts.pageBufferSize),ve=Math.min(this.pageCount,le+this.opts.pageBufferSize+1),de=ue;de<ve;de++)this._fetchPageChunks(de);this._removePageFromBuffer(ue-1),this._removePageFromBuffer(ve+1)}},{key:"_removePageFromBuffer",value:function(le){delete this._bufferingPages[le],delete this._bufferedPages[le]}},{key:"_fetchPageChunks",value:function(le){var ue=this;return le in this._bufferingPages?this._bufferingPages[le]:le in this._bufferedPages?Promise.resolve(this._bufferedPages[le]):(this._bufferingPages[le]=this._fetchPageChunksDirect(le).then(function(ve){return delete ue._bufferingPages[le],ue._bufferedPages[le]=ve,ve}),this._bufferingPages[le])}},{key:"_fetchPageChunksDirect",value:function(le){return ne.fetch(this.opts.server,this.opts.bookPath,le)}}],qe&&c(N.prototype,qe),Object.defineProperty(N,"prototype",{writable:!1}),we}();oe.AT_END="__PageChunkIterator.AT_END__";var q={server:null,bookPath:null,pageBufferSize:2},G=n(1030),J={Name:0,Endonym:1,"ISO 639-1":2,"ISO 639-2/T":3,"ISO 639-2/B":4},ae=n(5311);function ie(we){return ie=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(qe){return typeof qe=="undefined"?"undefined":_typeof(qe)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N=="undefined"?"undefined":_typeof(N)},ie(we)}function Oe(){Oe=function(){return N};var we,N={},qe=Object.prototype,Ie=qe.hasOwnProperty,nt=Object.defineProperty||function(Re,pe,xe){Re[pe]=xe.value},R=typeof Symbol=="function"?Symbol:{},le=R.iterator||"@@iterator",ue=R.asyncIterator||"@@asyncIterator",ve=R.toStringTag||"@@toStringTag";function de(Re,pe,xe){return Object.defineProperty(Re,pe,{value:xe,enumerable:!0,configurable:!0,writable:!0}),Re[pe]}try{de({},"")}catch(Re){de=function(xe,$e,ot){return xe[$e]=ot}}function K(Re,pe,xe,$e){var ot=pe&&_instanceof(pe.prototype,Tt)?pe:Tt,dt=Object.create(ot.prototype),zt=new _n($e||[]);return nt(dt,"_invoke",{value:gn(Re,xe,zt)}),dt}function ge(Re,pe,xe){try{return{type:"normal",arg:Re.call(pe,xe)}}catch($e){return{type:"throw",arg:$e}}}N.wrap=K;var Ee="suspendedStart",Ce="suspendedYield",Ye="executing",Be="completed",Je={};function Tt(){}function jt(){}function Et(){}var Zt={};de(Zt,le,function(){return this});var Nt=Object.getPrototypeOf,Ft=Nt&&Nt(Nt(Wt([])));Ft&&Ft!==qe&&Ie.call(Ft,le)&&(Zt=Ft);var Dt=Et.prototype=Tt.prototype=Object.create(Zt);function Jt(Re){["next","throw","return"].forEach(function(pe){de(Re,pe,function(xe){return this._invoke(pe,xe)})})}function Qt(Re,pe){function xe(ot,dt,zt,mn){var bn=ge(Re[ot],Re,dt);if(bn.type!=="throw"){var qt=bn.arg,Ln=qt.value;return Ln&&ie(Ln)=="object"&&Ie.call(Ln,"__await")?pe.resolve(Ln.__await).then(function(Nn){xe("next",Nn,zt,mn)},function(Nn){xe("throw",Nn,zt,mn)}):pe.resolve(Ln).then(function(Nn){qt.value=Nn,zt(qt)},function(Nn){return xe("throw",Nn,zt,mn)})}mn(bn.arg)}var $e;nt(this,"_invoke",{value:function(dt,zt){function mn(){return new pe(function(bn,qt){xe(dt,zt,bn,qt)})}return $e=$e?$e.then(mn,mn):mn()}})}function gn(Re,pe,xe){var $e=Ee;return function(ot,dt){if($e===Ye)throw new Error("Generator is already running");if($e===Be){if(ot==="throw")throw dt;return{value:we,done:!0}}for(xe.method=ot,xe.arg=dt;;){var zt=xe.delegate;if(zt){var mn=Bt(zt,xe);if(mn){if(mn===Je)continue;return mn}}if(xe.method==="next")xe.sent=xe._sent=xe.arg;else if(xe.method==="throw"){if($e===Ee)throw $e=Be,xe.arg;xe.dispatchException(xe.arg)}else xe.method==="return"&&xe.abrupt("return",xe.arg);$e=Ye;var bn=ge(Re,pe,xe);if(bn.type==="normal"){if($e=xe.done?Be:Ce,bn.arg===Je)continue;return{value:bn.arg,done:xe.done}}bn.type==="throw"&&($e=Be,xe.method="throw",xe.arg=bn.arg)}}}function Bt(Re,pe){var xe=pe.method,$e=Re.iterator[xe];if($e===we)return pe.delegate=null,xe==="throw"&&Re.iterator.return&&(pe.method="return",pe.arg=we,Bt(Re,pe),pe.method==="throw")||xe!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+xe+"' method")),Je;var ot=ge($e,Re.iterator,pe.arg);if(ot.type==="throw")return pe.method="throw",pe.arg=ot.arg,pe.delegate=null,Je;var dt=ot.arg;return dt?dt.done?(pe[Re.resultName]=dt.value,pe.next=Re.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=we),pe.delegate=null,Je):dt:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,Je)}function an(Re){var pe={tryLoc:Re[0]};1 in Re&&(pe.catchLoc=Re[1]),2 in Re&&(pe.finallyLoc=Re[2],pe.afterLoc=Re[3]),this.tryEntries.push(pe)}function tn(Re){var pe=Re.completion||{};pe.type="normal",delete pe.arg,Re.completion=pe}function _n(Re){this.tryEntries=[{tryLoc:"root"}],Re.forEach(an,this),this.reset(!0)}function Wt(Re){if(Re||Re===""){var pe=Re[le];if(pe)return pe.call(Re);if(typeof Re.next=="function")return Re;if(!isNaN(Re.length)){var xe=-1,$e=function ot(){for(;++xe<Re.length;)if(Ie.call(Re,xe))return ot.value=Re[xe],ot.done=!1,ot;return ot.value=we,ot.done=!0,ot};return $e.next=$e}}throw new TypeError(ie(Re)+" is not iterable")}return jt.prototype=Et,nt(Dt,"constructor",{value:Et,configurable:!0}),nt(Et,"constructor",{value:jt,configurable:!0}),jt.displayName=de(Et,ve,"GeneratorFunction"),N.isGeneratorFunction=function(Re){var pe=typeof Re=="function"&&Re.constructor;return!!pe&&(pe===jt||(pe.displayName||pe.name)==="GeneratorFunction")},N.mark=function(Re){return Object.setPrototypeOf?Object.setPrototypeOf(Re,Et):(Re.__proto__=Et,de(Re,ve,"GeneratorFunction")),Re.prototype=Object.create(Dt),Re},N.awrap=function(Re){return{__await:Re}},Jt(Qt.prototype),de(Qt.prototype,ue,function(){return this}),N.AsyncIterator=Qt,N.async=function(Re,pe,xe,$e,ot){ot===void 0&&(ot=Promise);var dt=new Qt(K(Re,pe,xe,$e),ot);return N.isGeneratorFunction(pe)?dt:dt.next().then(function(zt){return zt.done?zt.value:dt.next()})},Jt(Dt),de(Dt,ve,"Generator"),de(Dt,le,function(){return this}),de(Dt,"toString",function(){return"[object Generator]"}),N.keys=function(Re){var pe=Object(Re),xe=[];for(var $e in pe)xe.push($e);return xe.reverse(),function ot(){for(;xe.length;){var dt=xe.pop();if(dt in pe)return ot.value=dt,ot.done=!1,ot}return ot.done=!0,ot}},N.values=Wt,_n.prototype={constructor:_n,reset:function(pe){if(this.prev=0,this.next=0,this.sent=this._sent=we,this.done=!1,this.delegate=null,this.method="next",this.arg=we,this.tryEntries.forEach(tn),!pe)for(var xe in this)xe.charAt(0)==="t"&&Ie.call(this,xe)&&!isNaN(+xe.slice(1))&&(this[xe]=we)},stop:function(){this.done=!0;var pe=this.tryEntries[0].completion;if(pe.type==="throw")throw pe.arg;return this.rval},dispatchException:function(pe){if(this.done)throw pe;var xe=this;function $e(qt,Ln){return zt.type="throw",zt.arg=pe,xe.next=qt,Ln&&(xe.method="next",xe.arg=we),!!Ln}for(var ot=this.tryEntries.length-1;ot>=0;--ot){var dt=this.tryEntries[ot],zt=dt.completion;if(dt.tryLoc==="root")return $e("end");if(dt.tryLoc<=this.prev){var mn=Ie.call(dt,"catchLoc"),bn=Ie.call(dt,"finallyLoc");if(mn&&bn){if(this.prev<dt.catchLoc)return $e(dt.catchLoc,!0);if(this.prev<dt.finallyLoc)return $e(dt.finallyLoc)}else if(mn){if(this.prev<dt.catchLoc)return $e(dt.catchLoc,!0)}else{if(!bn)throw new Error("try statement without catch or finally");if(this.prev<dt.finallyLoc)return $e(dt.finallyLoc)}}}},abrupt:function(pe,xe){for(var $e=this.tryEntries.length-1;$e>=0;--$e){var ot=this.tryEntries[$e];if(ot.tryLoc<=this.prev&&Ie.call(ot,"finallyLoc")&&this.prev<ot.finallyLoc){var dt=ot;break}}dt&&(pe==="break"||pe==="continue")&&dt.tryLoc<=xe&&xe<=dt.finallyLoc&&(dt=null);var zt=dt?dt.completion:{};return zt.type=pe,zt.arg=xe,dt?(this.method="next",this.next=dt.finallyLoc,Je):this.complete(zt)},complete:function(pe,xe){if(pe.type==="throw")throw pe.arg;return pe.type==="break"||pe.type==="continue"?this.next=pe.arg:pe.type==="return"?(this.rval=this.arg=pe.arg,this.method="return",this.next="end"):pe.type==="normal"&&xe&&(this.next=xe),Je},finish:function(pe){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.finallyLoc===pe)return this.complete($e.completion,$e.afterLoc),tn($e),Je}},catch:function(pe){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.tryLoc===pe){var ot=$e.completion;if(ot.type==="throw"){var dt=ot.arg;tn($e)}return dt}}throw new Error("illegal catch attempt")},delegateYield:function(pe,xe,$e){return this.delegate={iterator:Wt(pe),resultName:xe,nextLoc:$e},this.method==="next"&&(this.arg=we),Je}},N}var De=function(){function we(le){var ue,ve,de,K=this;(function(ge,Ee){if(!_instanceof(ge,Ee))throw new TypeError("Cannot call a class as a function")})(this,we),ue=this,de=function(){K.voice=we.getBestBookVoice(K.getVoices(),K.opts.bookLanguage)},(ve=A(ve="updateBestVoice"))in ue?Object.defineProperty(ue,ve,{value:de,enumerable:!0,configurable:!0,writable:!0}):ue[ve]=de,this.playing=!1,this.paused=!1,this.opts=le,this._chunkIterator=null,this.activeSound=null,this.playbackRate=1,this.events=ae({}),this.voice=null,this.events.on("voiceschanged",this.updateBestVoice),this.events.trigger("voiceschanged")}var N,qe,Ie,nt,R;return N=we,qe=[{key:"getVoices",value:function(){throw new Error("Unimplemented abstract class")}},{key:"init",value:function(){return null}},{key:"start",value:function(ue,ve){this.playing=!0,this.paused=!1,this.opts.onLoadingStart(),this._chunkIterator=new oe(ve,ue,{server:this.opts.server,bookPath:this.opts.bookPath,pageBufferSize:5}),this.step(),this.events.trigger("start")}},{key:"stop",value:function(){this.activeSound&&this.activeSound.stop(),this.playing=!1,this.paused=!0,this._chunkIterator=null,this.activeSound=null,this.events.trigger("stop")}},{key:"pause",value:function(){var ue=!this.paused&&this.activeSound;this.paused=!0,this.activeSound&&this.activeSound.pause(),ue&&this.events.trigger("pause")}},{key:"resume",value:function(){var ue=this.paused&&this.activeSound;this.paused=!1,this.activeSound&&this.activeSound.resume(),ue&&this.events.trigger("resume")}},{key:"togglePlayPause",value:function(){this.paused?this.resume():this.pause()}},{key:"jumpForward",value:function(){this.activeSound&&this.activeSound.finish()}},{key:"jumpBackward",value:(R=b(Oe().mark(function le(){var ue=this;return Oe().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ve.next=2,Promise.all([this.activeSound.stop(),this._chunkIterator.decrement().then(function(){return ue._chunkIterator.decrement()})]);case 2:this.step();case 3:case"end":return ve.stop()}},le,this)})),function(){return R.apply(this,arguments)})},{key:"setVoice",value:function(ue){this.events.off("voiceschanged",this.updateBestVoice),this.voice=this.getVoices().find(function(ve){return ve.voiceURI===ue}),this.opts.bookLanguage&&f()&&localStorage.setItem("BRtts-voice-".concat(this.opts.bookLanguage),this.voice.voiceURI),this.activeSound&&this.activeSound.setVoice(this.voice)}},{key:"setPlaybackRate",value:function(ue){this.playbackRate=ue,this.activeSound&&this.activeSound.setPlaybackRate(ue)}},{key:"step",value:(nt=b(Oe().mark(function le(){var ue,ve,de,K=this;return Oe().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.next=2,this._chunkIterator.next();case 2:if((ue=ge.sent)!=oe.AT_END){ge.next=7;break}return this.stop(),this.opts.onDone(),ge.abrupt("return");case 7:return this.opts.onLoadingStart(),(ve=this.createSound(ue)).chunk=ue,ve.rate=this.playbackRate,ve.voice=this.voice,ve.load(function(){return K.opts.onLoadingComplete()}),this.opts.onLoadingComplete(),ge.next=16,this.opts.beforeChunkPlay(ue);case 16:if(this.playing){ge.next=18;break}return ge.abrupt("return");case 18:return ge.next=20,this.playSound(ve).then(function(){return K.opts.afterChunkPlay(ve.chunk)});case 20:return de=ge.sent,this.paused&&this.pause(),ge.next=24,de;case 24:if(!this.playing){ge.next=26;break}return ge.abrupt("return",this.step());case 26:case"end":return ge.stop()}},le,this)})),function(){return nt.apply(this,arguments)})},{key:"createSound",value:function(ue){throw new Error("Unimplemented abstract class")}},{key:"playSound",value:function(ue){return this.activeSound=ue,this.activeSound.loaded||this.opts.onLoadingStart(),this.activeSound.play()}},{key:"getBestVoice",value:function(){return we.getBestBookVoice(this.getVoices(),this.opts.bookLanguage)}}],Ie=[{key:"isSupported",value:function(){throw new Error("Unimplemented abstract class")}},{key:"getBestBookVoice",value:function(ue,ve){var de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:navigator.languages,K=ue.filter(function(Ee){return Ee.lang.startsWith(ve)}),ge=(de=de||(navigator.language?[navigator.language]:[])).filter(function(Ee){return Ee.startsWith(ve)});return we.getMatchingStoredVoice(K,ve)||we.getMatchingVoice(ge,K)||K.find(function(Ee){return Ee.default})||K[0]||we.getMatchingVoice(de,ue)||ue.find(function(Ee){return Ee.default})||ue[0]}},{key:"getMatchingStoredVoice",value:function(ue,ve){var de=f()&&localStorage.getItem("BRtts-voice-".concat(ve));return de?ue.find(function(K){return K.voiceURI===de}):void 0}},{key:"getMatchingVoice",value:function(ue,ve){var de,K=function(Ce,Ye){var Be=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ce[Symbol.iterator]||Ce["@@iterator"];if(!Be){if(Array.isArray(Ce)||(Be=function(Nt,Ft){if(Nt){if(typeof Nt=="string")return v(Nt,Ft);var Dt=Object.prototype.toString.call(Nt).slice(8,-1);return Dt==="Object"&&Nt.constructor&&(Dt=Nt.constructor.name),Dt==="Map"||Dt==="Set"?Array.from(Nt):Dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Dt)?v(Nt,Ft):void 0}}(Ce))||Ye&&Ce&&typeof Ce.length=="number"){Be&&(Ce=Be);var Je=0,Tt=function(){};return{s:Tt,n:function(){return Je>=Ce.length?{done:!0}:{done:!1,value:Ce[Je++]}},e:function(Ft){throw Ft},f:Tt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var jt,Et=!0,Zt=!1;return{s:function(){Be=Be.call(Ce)},n:function(){var Ft=Be.next();return Et=Ft.done,Ft},e:function(Ft){Zt=!0,jt=Ft},f:function(){try{Et||Be.return==null||Be.return()}finally{if(Zt)throw jt}}}}(ue);try{var ge,Ee=function(){var Ye=de.value,Be=ve.filter(function(Je){return Je.lang.replace("_","-").startsWith(Ye)});if(Be.length)return{v:Be.find(function(Je){return Je.default})||Be[0]}};for(K.s();!(de=K.n()).done;)if(ge=Ee())return ge.v}catch(Ce){K.e(Ce)}finally{K.f()}}}],qe&&w(N.prototype,qe),Ie&&w(N,Ie),Object.defineProperty(N,"prototype",{writable:!1}),we}(),ke=n(5685),tt=(n(5529),n(4371),n(5311));function Ve(we){return Ve=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(qe){return typeof qe=="undefined"?"undefined":_typeof(qe)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N=="undefined"?"undefined":_typeof(N)},Ve(we)}function Qe(){Qe=function(){return N};var we,N={},qe=Object.prototype,Ie=qe.hasOwnProperty,nt=Object.defineProperty||function(Re,pe,xe){Re[pe]=xe.value},R=typeof Symbol=="function"?Symbol:{},le=R.iterator||"@@iterator",ue=R.asyncIterator||"@@asyncIterator",ve=R.toStringTag||"@@toStringTag";function de(Re,pe,xe){return Object.defineProperty(Re,pe,{value:xe,enumerable:!0,configurable:!0,writable:!0}),Re[pe]}try{de({},"")}catch(Re){de=function(xe,$e,ot){return xe[$e]=ot}}function K(Re,pe,xe,$e){var ot=pe&&_instanceof(pe.prototype,Tt)?pe:Tt,dt=Object.create(ot.prototype),zt=new _n($e||[]);return nt(dt,"_invoke",{value:gn(Re,xe,zt)}),dt}function ge(Re,pe,xe){try{return{type:"normal",arg:Re.call(pe,xe)}}catch($e){return{type:"throw",arg:$e}}}N.wrap=K;var Ee="suspendedStart",Ce="suspendedYield",Ye="executing",Be="completed",Je={};function Tt(){}function jt(){}function Et(){}var Zt={};de(Zt,le,function(){return this});var Nt=Object.getPrototypeOf,Ft=Nt&&Nt(Nt(Wt([])));Ft&&Ft!==qe&&Ie.call(Ft,le)&&(Zt=Ft);var Dt=Et.prototype=Tt.prototype=Object.create(Zt);function Jt(Re){["next","throw","return"].forEach(function(pe){de(Re,pe,function(xe){return this._invoke(pe,xe)})})}function Qt(Re,pe){function xe(ot,dt,zt,mn){var bn=ge(Re[ot],Re,dt);if(bn.type!=="throw"){var qt=bn.arg,Ln=qt.value;return Ln&&Ve(Ln)=="object"&&Ie.call(Ln,"__await")?pe.resolve(Ln.__await).then(function(Nn){xe("next",Nn,zt,mn)},function(Nn){xe("throw",Nn,zt,mn)}):pe.resolve(Ln).then(function(Nn){qt.value=Nn,zt(qt)},function(Nn){return xe("throw",Nn,zt,mn)})}mn(bn.arg)}var $e;nt(this,"_invoke",{value:function(dt,zt){function mn(){return new pe(function(bn,qt){xe(dt,zt,bn,qt)})}return $e=$e?$e.then(mn,mn):mn()}})}function gn(Re,pe,xe){var $e=Ee;return function(ot,dt){if($e===Ye)throw new Error("Generator is already running");if($e===Be){if(ot==="throw")throw dt;return{value:we,done:!0}}for(xe.method=ot,xe.arg=dt;;){var zt=xe.delegate;if(zt){var mn=Bt(zt,xe);if(mn){if(mn===Je)continue;return mn}}if(xe.method==="next")xe.sent=xe._sent=xe.arg;else if(xe.method==="throw"){if($e===Ee)throw $e=Be,xe.arg;xe.dispatchException(xe.arg)}else xe.method==="return"&&xe.abrupt("return",xe.arg);$e=Ye;var bn=ge(Re,pe,xe);if(bn.type==="normal"){if($e=xe.done?Be:Ce,bn.arg===Je)continue;return{value:bn.arg,done:xe.done}}bn.type==="throw"&&($e=Be,xe.method="throw",xe.arg=bn.arg)}}}function Bt(Re,pe){var xe=pe.method,$e=Re.iterator[xe];if($e===we)return pe.delegate=null,xe==="throw"&&Re.iterator.return&&(pe.method="return",pe.arg=we,Bt(Re,pe),pe.method==="throw")||xe!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+xe+"' method")),Je;var ot=ge($e,Re.iterator,pe.arg);if(ot.type==="throw")return pe.method="throw",pe.arg=ot.arg,pe.delegate=null,Je;var dt=ot.arg;return dt?dt.done?(pe[Re.resultName]=dt.value,pe.next=Re.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=we),pe.delegate=null,Je):dt:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,Je)}function an(Re){var pe={tryLoc:Re[0]};1 in Re&&(pe.catchLoc=Re[1]),2 in Re&&(pe.finallyLoc=Re[2],pe.afterLoc=Re[3]),this.tryEntries.push(pe)}function tn(Re){var pe=Re.completion||{};pe.type="normal",delete pe.arg,Re.completion=pe}function _n(Re){this.tryEntries=[{tryLoc:"root"}],Re.forEach(an,this),this.reset(!0)}function Wt(Re){if(Re||Re===""){var pe=Re[le];if(pe)return pe.call(Re);if(typeof Re.next=="function")return Re;if(!isNaN(Re.length)){var xe=-1,$e=function ot(){for(;++xe<Re.length;)if(Ie.call(Re,xe))return ot.value=Re[xe],ot.done=!1,ot;return ot.value=we,ot.done=!0,ot};return $e.next=$e}}throw new TypeError(Ve(Re)+" is not iterable")}return jt.prototype=Et,nt(Dt,"constructor",{value:Et,configurable:!0}),nt(Et,"constructor",{value:jt,configurable:!0}),jt.displayName=de(Et,ve,"GeneratorFunction"),N.isGeneratorFunction=function(Re){var pe=typeof Re=="function"&&Re.constructor;return!!pe&&(pe===jt||(pe.displayName||pe.name)==="GeneratorFunction")},N.mark=function(Re){return Object.setPrototypeOf?Object.setPrototypeOf(Re,Et):(Re.__proto__=Et,de(Re,ve,"GeneratorFunction")),Re.prototype=Object.create(Dt),Re},N.awrap=function(Re){return{__await:Re}},Jt(Qt.prototype),de(Qt.prototype,ue,function(){return this}),N.AsyncIterator=Qt,N.async=function(Re,pe,xe,$e,ot){ot===void 0&&(ot=Promise);var dt=new Qt(K(Re,pe,xe,$e),ot);return N.isGeneratorFunction(pe)?dt:dt.next().then(function(zt){return zt.done?zt.value:dt.next()})},Jt(Dt),de(Dt,ve,"Generator"),de(Dt,le,function(){return this}),de(Dt,"toString",function(){return"[object Generator]"}),N.keys=function(Re){var pe=Object(Re),xe=[];for(var $e in pe)xe.push($e);return xe.reverse(),function ot(){for(;xe.length;){var dt=xe.pop();if(dt in pe)return ot.value=dt,ot.done=!1,ot}return ot.done=!0,ot}},N.values=Wt,_n.prototype={constructor:_n,reset:function(pe){if(this.prev=0,this.next=0,this.sent=this._sent=we,this.done=!1,this.delegate=null,this.method="next",this.arg=we,this.tryEntries.forEach(tn),!pe)for(var xe in this)xe.charAt(0)==="t"&&Ie.call(this,xe)&&!isNaN(+xe.slice(1))&&(this[xe]=we)},stop:function(){this.done=!0;var pe=this.tryEntries[0].completion;if(pe.type==="throw")throw pe.arg;return this.rval},dispatchException:function(pe){if(this.done)throw pe;var xe=this;function $e(qt,Ln){return zt.type="throw",zt.arg=pe,xe.next=qt,Ln&&(xe.method="next",xe.arg=we),!!Ln}for(var ot=this.tryEntries.length-1;ot>=0;--ot){var dt=this.tryEntries[ot],zt=dt.completion;if(dt.tryLoc==="root")return $e("end");if(dt.tryLoc<=this.prev){var mn=Ie.call(dt,"catchLoc"),bn=Ie.call(dt,"finallyLoc");if(mn&&bn){if(this.prev<dt.catchLoc)return $e(dt.catchLoc,!0);if(this.prev<dt.finallyLoc)return $e(dt.finallyLoc)}else if(mn){if(this.prev<dt.catchLoc)return $e(dt.catchLoc,!0)}else{if(!bn)throw new Error("try statement without catch or finally");if(this.prev<dt.finallyLoc)return $e(dt.finallyLoc)}}}},abrupt:function(pe,xe){for(var $e=this.tryEntries.length-1;$e>=0;--$e){var ot=this.tryEntries[$e];if(ot.tryLoc<=this.prev&&Ie.call(ot,"finallyLoc")&&this.prev<ot.finallyLoc){var dt=ot;break}}dt&&(pe==="break"||pe==="continue")&&dt.tryLoc<=xe&&xe<=dt.finallyLoc&&(dt=null);var zt=dt?dt.completion:{};return zt.type=pe,zt.arg=xe,dt?(this.method="next",this.next=dt.finallyLoc,Je):this.complete(zt)},complete:function(pe,xe){if(pe.type==="throw")throw pe.arg;return pe.type==="break"||pe.type==="continue"?this.next=pe.arg:pe.type==="return"?(this.rval=this.arg=pe.arg,this.method="return",this.next="end"):pe.type==="normal"&&xe&&(this.next=xe),Je},finish:function(pe){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.finallyLoc===pe)return this.complete($e.completion,$e.afterLoc),tn($e),Je}},catch:function(pe){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.tryLoc===pe){var ot=$e.completion;if(ot.type==="throw"){var dt=ot.arg;tn($e)}return dt}}throw new Error("illegal catch attempt")},delegateYield:function(pe,xe,$e){return this.delegate={iterator:Wt(pe),resultName:xe,nextLoc:$e},this.method==="next"&&(this.arg=we),Je}},N}function ht(){return ht=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(N,qe,Ie){var nt=function(le,ue){for(;!Object.prototype.hasOwnProperty.call(le,ue)&&(le=vt(le))!==null;);return le}(N,qe);if(nt){var R=Object.getOwnPropertyDescriptor(nt,qe);return R.get?R.get.call(arguments.length<3?N:Ie):R.value}},ht.apply(this,arguments)}function bt(we,N){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ie,nt){return Ie.__proto__=nt,Ie},bt(we,N)}function vt(we){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(qe){return qe.__proto__||Object.getPrototypeOf(qe)},vt(we)}var Le=function(we){(function(le,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(ue&&ue.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Object.defineProperty(le,"prototype",{writable:!1}),ue&&bt(le,ue)})(R,we);var N,qe,Ie,nt=(qe=R,Ie=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(le){return!1}}(),function(){var ue,ve=vt(qe);if(Ie){var de=vt(this).constructor;ue=Reflect.construct(ve,arguments,de)}else ue=ve.apply(this,arguments);return function(K,ge){if(ge&&(Ve(ge)==="object"||typeof ge=="function"))return ge;if(ge!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ee){if(Ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}(K)}(this,ue)});function R(le){var ue,ve;return P(this,R),(ve=nt.call(this,le)).audioFormat=(ue=tt.browser)!==null&&ue!==void 0&&ue.mozilla?"ogg":"mp3",ve}return u(R,[{key:"getVoices",value:function(){return[{default:!0,lang:"en-US",localService:!1,name:"Festival - English (US)",voiceURI:null}]}},{key:"init",value:function(){soundManager.setup({debugMode:!1,preferFlash:!0,url:"/bookreader/BookReader/soundmanager/swf",useHTML5Audio:!0,flashVersion:9})}},{key:"start",value:function(ue,ve){var de=this,K=null;navigator.userAgent.match(/mobile/i)&&(K=this.iOSCaptureUserIntentHack()),(K=K||Promise.resolve()).then(function(){return ht(vt(R.prototype),"start",de).call(de,ue,ve)})}},{key:"createSound",value:function(ue){return new _e(this.getSoundUrl(ue.text))}},{key:"getSoundUrl",value:function(ue){return"https://"+this.opts.server+"/BookReader/BookReaderGetTTS.php?string="+encodeURIComponent(ue)+"&format=."+this.audioFormat}},{key:"iOSCaptureUserIntentHack",value:(N=O(Qe().mark(function le(){var ue;return Qe().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ue=soundManager.createSound({url:Ne[this.audioFormat]}),ve.next=3,new Promise(function(de){return ue.play({onfinish:de})});case 3:ue.destruct();case 4:case"end":return ve.stop()}},le,this)})),function(){return N.apply(this,arguments)})}],[{key:"isSupported",value:function(){return(typeof soundManager=="undefined"?"undefined":_typeof(soundManager))<"u"&&soundManager.supported()}}]),R}(De),_e=function(){function we(qe){P(this,we),this.soundUrl=qe,this.sound=null,this.rate=1,this._finishResolver=null}var N;return u(we,[{key:"loaded",get:function(){return this.sound&&this.sound.loaded}},{key:"load",value:function(Ie){var nt,R=this;return this.sound=soundManager.createSound({url:this.soundUrl,onload:function(){R.rate!=1&&R.sound.setPlaybackRate(R.rate),Ie()},onresume:(nt=O(Qe().mark(function le(){return Qe().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,(0,ke.sleep)(25);case 2:R.rate!=1&&R.sound.setPlaybackRate(R.rate);case 3:case"end":return ue.stop()}},le)})),function(){return nt.apply(this,arguments)})}),this.sound.load()}},{key:"play",value:(N=O(Qe().mark(function qe(){var Ie=this;return Qe().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return nt.next=2,new Promise(function(R){Ie._finishResolver=R,Ie.sound.play({onfinish:R})});case 2:this.sound.destruct();case 3:case"end":return nt.stop()}},qe,this)})),function(){return N.apply(this,arguments)})},{key:"stop",value:function(){return this.sound.stop(),Promise.resolve()}},{key:"pause",value:function(){this.sound.pause()}},{key:"resume",value:function(){this.sound.resume()}},{key:"setPlaybackRate",value:function(Ie){this.rate=Ie,this.sound.setPlaybackRate(Ie)}},{key:"finish",value:function(){this.sound.stop(),this._finishResolver()}}]),we}(),Ne={mp3:"data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAAAeTEFNRTMuOTlyBJwAAAAAAAAAADUgJAaUQQABrgAAAnHIf8sZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADwlwBKGAAACAAAD/AAAAEAAAAH///////////////+UBAMExBTUUzLjk5LjOqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+xDEIAPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",ogg:"data:audio/ogg;base64,T2dnUwACAAAAAAAAAAAVEgAAAAAAAADSDf4BHgF2b3JiaXMAAAAAAUSsAAAAAAAAAHcBAAAAAAC4AU9nZ1MAAAAAAAAAAAAAFRIAAAEAAAB4VKTpEDv//////////////////8kDdm9yYmlzKwAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTIwMjAzIChPbW5pcHJlc2VudCkAAAAAAQV2b3JiaXMpQkNWAQAIAAAAMUwgxYDQkFUAABAAAGAkKQ6TZkkppZShKHmYlEhJKaWUxTCJmJSJxRhjjDHGGGOMMcYYY4wgNGQVAAAEAIAoCY6j5klqzjlnGCeOcqA5aU44pyAHilHgOQnC9SZjbqa0pmtuziklCA1ZBQAAAgBASCGFFFJIIYUUYoghhhhiiCGHHHLIIaeccgoqqKCCCjLIIINMMumkk0466aijjjrqKLTQQgsttNJKTDHVVmOuvQZdfHPOOeecc84555xzzglCQ1YBACAAAARCBhlkEEIIIYUUUogppphyCjLIgNCQVQAAIACAAAAAAEeRFEmxFMuxHM3RJE/yLFETNdEzRVNUTVVVVVV1XVd2Zdd2ddd2fVmYhVu4fVm4hVvYhV33hWEYhmEYhmEYhmH4fd/3fd/3fSA0ZBUAIAEAoCM5luMpoiIaouI5ogOEhqwCAGQAAAQAIAmSIimSo0mmZmquaZu2aKu2bcuyLMuyDISGrAIAAAEABAAAAAAAoGmapmmapmmapmmapmmapmmapmmaZlmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVlAaMgqAEACAEDHcRzHcSRFUiTHciwHCA1ZBQDIAAAIAEBSLMVyNEdzNMdzPMdzPEd0RMmUTM30TA8IDVkFAAACAAgAAAAAAEAxHMVxHMnRJE9SLdNyNVdzPddzTdd1XVdVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgdCQVQAABAAAIZ1mlmqACDOQYSA0ZBUAgAAAABihCEMMCA1ZBQAABAAAiKHkIJrQmvPNOQ6a5aCpFJvTwYlUmye5qZibc84555xszhnjnHPOKcqZxaCZ0JpzzkkMmqWgmdCac855EpsHranSmnPOGeecDsYZYZxzzmnSmgep2Vibc85Z0JrmqLkUm3POiZSbJ7W5VJtzzjnnnHPOOeecc86pXpzOwTnhnHPOidqba7kJXZxzzvlknO7NCeGcc84555xzzjnnnHPOCUJDVgEAQAAABGHYGMadgiB9jgZiFCGmIZMedI8Ok6AxyCmkHo2ORkqpg1BSGSeldILQkFUAACAAAIQQUkghhRRSSCGFFFJIIYYYYoghp5xyCiqopJKKKsoos8wyyyyzzDLLrMPOOuuwwxBDDDG00kosNdVWY4215p5zrjlIa6W11lorpZRSSimlIDRkFQAAAgBAIGSQQQYZhRRSSCGGmHLKKaegggoIDVkFAAACAAgAAADwJM8RHdERHdERHdERHdERHc/xHFESJVESJdEyLVMzPVVUVVd2bVmXddu3hV3Ydd/Xfd/XjV8XhmVZlmVZlmVZlmVZlmVZlmUJQkNWAQAgAAAAQgghhBRSSCGFlGKMMcecg05CCYHQkFUAACAAgAAAAABHcRTHkRzJkSRLsiRN0izN8jRP8zTRE0VRNE1TFV3RFXXTFmVTNl3TNWXTVWXVdmXZtmVbt31Ztn3f933f933f933f933f13UgNGQVACABAKAjOZIiKZIiOY7jSJIEhIasAgBkAAAEAKAojuI4jiNJkiRZkiZ5lmeJmqmZnumpogqEhqwCAAABAAQAAAAAAKBoiqeYiqeIiueIjiiJlmmJmqq5omzKruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6QGjIKgBAAgBAR3IkR3IkRVIkRXIkBwgNWQUAyAAACADAMRxDUiTHsixN8zRP8zTREz3RMz1VdEUXCA1ZBQAAAgAIAAAAAADAkAxLsRzN0SRRUi3VUjXVUi1VVD1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVXVNE3TNIHQkJUAABkAACNBBhmEEIpykEJuPVgIMeYkBaE5BqHEGISnEDMMOQ0idJBBJz24kjnDDPPgUigVREyDjSU3jiANwqZcSeU4CEJDVgQAUQAAgDHIMcQYcs5JyaBEzjEJnZTIOSelk9JJKS2WGDMpJaYSY+Oco9JJyaSUGEuKnaQSY4mtAACAAAcAgAALodCQFQFAFAAAYgxSCimFlFLOKeaQUsox5RxSSjmnnFPOOQgdhMoxBp2DECmlHFPOKccchMxB5ZyD0EEoAAAgwAEAIMBCKDRkRQAQJwDgcCTPkzRLFCVLE0XPFGXXE03XlTTNNDVRVFXLE1XVVFXbFk1VtiVNE01N9FRVE0VVFVXTlk1VtW3PNGXZVFXdFlXVtmXbFn5XlnXfM01ZFlXV1k1VtXXXln1f1m1dmDTNNDVRVFVNFFXVVFXbNlXXtjVRdFVRVWVZVFVZdmVZ91VX1n1LFFXVU03ZFVVVtlXZ9W1Vln3hdFVdV2XZ91VZFn5b14Xh9n3hGFXV1k3X1XVVln1h1mVht3XfKGmaaWqiqKqaKKqqqaq2baqurVui6KqiqsqyZ6qurMqyr6uubOuaKKquqKqyLKqqLKuyrPuqLOu2qKq6rcqysJuuq+u27wvDLOu6cKqurquy7PuqLOu6revGceu6MHymKcumq+q6qbq6buu6ccy2bRyjquq+KsvCsMqy7+u6L7R1IVFVdd2UXeNXZVn3bV93nlv3hbJtO7+t+8px67rS+DnPbxy5tm0cs24bv637xvMrP2E4jqVnmrZtqqqtm6qr67JuK8Os60JRVX1dlWXfN11ZF27fN45b142iquq6Ksu+sMqyMdzGbxy7MBxd2zaOW9edsq0LfWPI9wnPa9vGcfs64/Z1o68MCcePAACAAQcAgAATykChISsCgDgBAAYh5xRTECrFIHQQUuogpFQxBiFzTkrFHJRQSmohlNQqxiBUjknInJMSSmgplNJSB6GlUEproZTWUmuxptRi7SCkFkppLZTSWmqpxtRajBFjEDLnpGTOSQmltBZKaS1zTkrnoKQOQkqlpBRLSi1WzEnJoKPSQUippBJTSam1UEprpaQWS0oxthRbbjHWHEppLaQSW0kpxhRTbS3GmiPGIGTOScmckxJKaS2U0lrlmJQOQkqZg5JKSq2VklLMnJPSQUipg45KSSm2kkpMoZTWSkqxhVJabDHWnFJsNZTSWkkpxpJKbC3GWltMtXUQWgultBZKaa21VmtqrcZQSmslpRhLSrG1FmtuMeYaSmmtpBJbSanFFluOLcaaU2s1ptZqbjHmGlttPdaac0qt1tRSjS3GmmNtvdWae+8gpBZKaS2U0mJqLcbWYq2hlNZKKrGVklpsMebaWow5lNJiSanFklKMLcaaW2y5ppZqbDHmmlKLtebac2w19tRarC3GmlNLtdZac4+59VYAAMCAAwBAgAlloNCQlQBAFAAAQYhSzklpEHLMOSoJQsw5J6lyTEIpKVXMQQgltc45KSnF1jkIJaUWSyotxVZrKSm1FmstAACgwAEAIMAGTYnFAQoNWQkARAEAIMYgxBiEBhmlGIPQGKQUYxAipRhzTkqlFGPOSckYcw5CKhljzkEoKYRQSiophRBKSSWlAgAAChwAAAJs0JRYHKDQkBUBQBQAAGAMYgwxhiB0VDIqEYRMSiepgRBaC6111lJrpcXMWmqttNhACK2F1jJLJcbUWmatxJhaKwAA7MABAOzAQig0ZCUAkAcAQBijFGPOOWcQYsw56Bw0CDHmHIQOKsacgw5CCBVjzkEIIYTMOQghhBBC5hyEEEIIoYMQQgillNJBCCGEUkrpIIQQQimldBBCCKGUUgoAACpwAAAIsFFkc4KRoEJDVgIAeQAAgDFKOQehlEYpxiCUklKjFGMQSkmpcgxCKSnFVjkHoZSUWuwglNJabDV2EEppLcZaQ0qtxVhrriGl1mKsNdfUWoy15pprSi3GWmvNuQAA3AUHALADG0U2JxgJKjRkJQCQBwCAIKQUY4wxhhRiijHnnEMIKcWYc84pphhzzjnnlGKMOeecc4wx55xzzjnGmHPOOeccc84555xzjjnnnHPOOeecc84555xzzjnnnHPOCQAAKnAAAAiwUWRzgpGgQkNWAgCpAAAAEVZijDHGGBsIMcYYY4wxRhJijDHGGGNsMcYYY4wxxphijDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYW2uttdZaa6211lprrbXWWmutAEC/CgcA/wcbVkc4KRoLLDRkJQAQDgAAGMOYc445Bh2EhinopIQOQgihQ0o5KCWEUEopKXNOSkqlpJRaSplzUlIqJaWWUuogpNRaSi211loHJaXWUmqttdY6CKW01FprrbXYQUgppdZaiy3GUEpKrbXYYow1hlJSaq3F2GKsMaTSUmwtxhhjrKGU1lprMcYYay0ptdZijLXGWmtJqbXWYos11loLAOBucACASLBxhpWks8LR4EJDVgIAIQEABEKMOeeccxBCCCFSijHnoIMQQgghREox5hx0EEIIIYSMMeeggxBCCCGEkDHmHHQQQgghhBA65xyEEEIIoYRSSuccdBBCCCGUUELpIIQQQgihhFJKKR2EEEIooYRSSiklhBBCCaWUUkoppYQQQgihhBJKKaWUEEIIpZRSSimllBJCCCGUUkoppZRSQgihlFBKKaWUUkoIIYRSSimllFJKCSGEUEoppZRSSikhhBJKKaWUUkoppQAAgAMHAIAAI+gko8oibDThwgNQaMhKAIAMAABx2GrrKdbIIMWchJZLhJByEGIuEVKKOUexZUgZxRjVlDGlFFNSa+icYoxRT51jSjHDrJRWSiiRgtJyrLV2zAEAACAIADAQITOBQAEUGMgAgAOEBCkAoLDA0DFcBATkEjIKDArHhHPSaQMAEITIDJGIWAwSE6qBomI6AFhcYMgHgAyNjbSLC+gywAVd3HUghCAEIYjFARSQgIMTbnjiDU+4wQk6RaUOAgAAAAAAAQAeAACSDSAiIpo5jg6PD5AQkRGSEpMTlAAAAAAA4AGADwCAJAWIiIhmjqPD4wMkRGSEpMTkBCUAAAAAAAAAAAAICAgAAAAAAAQAAAAICE9nZ1MABCwAAAAAAAAAFRIAAAIAAAAPBTD1AgEBAAo="},Ze=n(7775);function Ke(we){return Ke=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(qe){return typeof qe=="undefined"?"undefined":_typeof(qe)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N=="undefined"?"undefined":_typeof(N)},Ke(we)}function Pe(){Pe=function(){return N};var we,N={},qe=Object.prototype,Ie=qe.hasOwnProperty,nt=Object.defineProperty||function(Re,pe,xe){Re[pe]=xe.value},R=typeof Symbol=="function"?Symbol:{},le=R.iterator||"@@iterator",ue=R.asyncIterator||"@@asyncIterator",ve=R.toStringTag||"@@toStringTag";function de(Re,pe,xe){return Object.defineProperty(Re,pe,{value:xe,enumerable:!0,configurable:!0,writable:!0}),Re[pe]}try{de({},"")}catch(Re){de=function(xe,$e,ot){return xe[$e]=ot}}function K(Re,pe,xe,$e){var ot=pe&&_instanceof(pe.prototype,Tt)?pe:Tt,dt=Object.create(ot.prototype),zt=new _n($e||[]);return nt(dt,"_invoke",{value:gn(Re,xe,zt)}),dt}function ge(Re,pe,xe){try{return{type:"normal",arg:Re.call(pe,xe)}}catch($e){return{type:"throw",arg:$e}}}N.wrap=K;var Ee="suspendedStart",Ce="suspendedYield",Ye="executing",Be="completed",Je={};function Tt(){}function jt(){}function Et(){}var Zt={};de(Zt,le,function(){return this});var Nt=Object.getPrototypeOf,Ft=Nt&&Nt(Nt(Wt([])));Ft&&Ft!==qe&&Ie.call(Ft,le)&&(Zt=Ft);var Dt=Et.prototype=Tt.prototype=Object.create(Zt);function Jt(Re){["next","throw","return"].forEach(function(pe){de(Re,pe,function(xe){return this._invoke(pe,xe)})})}function Qt(Re,pe){function xe(ot,dt,zt,mn){var bn=ge(Re[ot],Re,dt);if(bn.type!=="throw"){var qt=bn.arg,Ln=qt.value;return Ln&&Ke(Ln)=="object"&&Ie.call(Ln,"__await")?pe.resolve(Ln.__await).then(function(Nn){xe("next",Nn,zt,mn)},function(Nn){xe("throw",Nn,zt,mn)}):pe.resolve(Ln).then(function(Nn){qt.value=Nn,zt(qt)},function(Nn){return xe("throw",Nn,zt,mn)})}mn(bn.arg)}var $e;nt(this,"_invoke",{value:function(dt,zt){function mn(){return new pe(function(bn,qt){xe(dt,zt,bn,qt)})}return $e=$e?$e.then(mn,mn):mn()}})}function gn(Re,pe,xe){var $e=Ee;return function(ot,dt){if($e===Ye)throw new Error("Generator is already running");if($e===Be){if(ot==="throw")throw dt;return{value:we,done:!0}}for(xe.method=ot,xe.arg=dt;;){var zt=xe.delegate;if(zt){var mn=Bt(zt,xe);if(mn){if(mn===Je)continue;return mn}}if(xe.method==="next")xe.sent=xe._sent=xe.arg;else if(xe.method==="throw"){if($e===Ee)throw $e=Be,xe.arg;xe.dispatchException(xe.arg)}else xe.method==="return"&&xe.abrupt("return",xe.arg);$e=Ye;var bn=ge(Re,pe,xe);if(bn.type==="normal"){if($e=xe.done?Be:Ce,bn.arg===Je)continue;return{value:bn.arg,done:xe.done}}bn.type==="throw"&&($e=Be,xe.method="throw",xe.arg=bn.arg)}}}function Bt(Re,pe){var xe=pe.method,$e=Re.iterator[xe];if($e===we)return pe.delegate=null,xe==="throw"&&Re.iterator.return&&(pe.method="return",pe.arg=we,Bt(Re,pe),pe.method==="throw")||xe!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+xe+"' method")),Je;var ot=ge($e,Re.iterator,pe.arg);if(ot.type==="throw")return pe.method="throw",pe.arg=ot.arg,pe.delegate=null,Je;var dt=ot.arg;return dt?dt.done?(pe[Re.resultName]=dt.value,pe.next=Re.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=we),pe.delegate=null,Je):dt:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,Je)}function an(Re){var pe={tryLoc:Re[0]};1 in Re&&(pe.catchLoc=Re[1]),2 in Re&&(pe.finallyLoc=Re[2],pe.afterLoc=Re[3]),this.tryEntries.push(pe)}function tn(Re){var pe=Re.completion||{};pe.type="normal",delete pe.arg,Re.completion=pe}function _n(Re){this.tryEntries=[{tryLoc:"root"}],Re.forEach(an,this),this.reset(!0)}function Wt(Re){if(Re||Re===""){var pe=Re[le];if(pe)return pe.call(Re);if(typeof Re.next=="function")return Re;if(!isNaN(Re.length)){var xe=-1,$e=function ot(){for(;++xe<Re.length;)if(Ie.call(Re,xe))return ot.value=Re[xe],ot.done=!1,ot;return ot.value=we,ot.done=!0,ot};return $e.next=$e}}throw new TypeError(Ke(Re)+" is not iterable")}return jt.prototype=Et,nt(Dt,"constructor",{value:Et,configurable:!0}),nt(Et,"constructor",{value:jt,configurable:!0}),jt.displayName=de(Et,ve,"GeneratorFunction"),N.isGeneratorFunction=function(Re){var pe=typeof Re=="function"&&Re.constructor;return!!pe&&(pe===jt||(pe.displayName||pe.name)==="GeneratorFunction")},N.mark=function(Re){return Object.setPrototypeOf?Object.setPrototypeOf(Re,Et):(Re.__proto__=Et,de(Re,ve,"GeneratorFunction")),Re.prototype=Object.create(Dt),Re},N.awrap=function(Re){return{__await:Re}},Jt(Qt.prototype),de(Qt.prototype,ue,function(){return this}),N.AsyncIterator=Qt,N.async=function(Re,pe,xe,$e,ot){ot===void 0&&(ot=Promise);var dt=new Qt(K(Re,pe,xe,$e),ot);return N.isGeneratorFunction(pe)?dt:dt.next().then(function(zt){return zt.done?zt.value:dt.next()})},Jt(Dt),de(Dt,ve,"Generator"),de(Dt,le,function(){return this}),de(Dt,"toString",function(){return"[object Generator]"}),N.keys=function(Re){var pe=Object(Re),xe=[];for(var $e in pe)xe.push($e);return xe.reverse(),function ot(){for(;xe.length;){var dt=xe.pop();if(dt in pe)return ot.value=dt,ot.done=!1,ot}return ot.done=!0,ot}},N.values=Wt,_n.prototype={constructor:_n,reset:function(pe){if(this.prev=0,this.next=0,this.sent=this._sent=we,this.done=!1,this.delegate=null,this.method="next",this.arg=we,this.tryEntries.forEach(tn),!pe)for(var xe in this)xe.charAt(0)==="t"&&Ie.call(this,xe)&&!isNaN(+xe.slice(1))&&(this[xe]=we)},stop:function(){this.done=!0;var pe=this.tryEntries[0].completion;if(pe.type==="throw")throw pe.arg;return this.rval},dispatchException:function(pe){if(this.done)throw pe;var xe=this;function $e(qt,Ln){return zt.type="throw",zt.arg=pe,xe.next=qt,Ln&&(xe.method="next",xe.arg=we),!!Ln}for(var ot=this.tryEntries.length-1;ot>=0;--ot){var dt=this.tryEntries[ot],zt=dt.completion;if(dt.tryLoc==="root")return $e("end");if(dt.tryLoc<=this.prev){var mn=Ie.call(dt,"catchLoc"),bn=Ie.call(dt,"finallyLoc");if(mn&&bn){if(this.prev<dt.catchLoc)return $e(dt.catchLoc,!0);if(this.prev<dt.finallyLoc)return $e(dt.finallyLoc)}else if(mn){if(this.prev<dt.catchLoc)return $e(dt.catchLoc,!0)}else{if(!bn)throw new Error("try statement without catch or finally");if(this.prev<dt.finallyLoc)return $e(dt.finallyLoc)}}}},abrupt:function(pe,xe){for(var $e=this.tryEntries.length-1;$e>=0;--$e){var ot=this.tryEntries[$e];if(ot.tryLoc<=this.prev&&Ie.call(ot,"finallyLoc")&&this.prev<ot.finallyLoc){var dt=ot;break}}dt&&(pe==="break"||pe==="continue")&&dt.tryLoc<=xe&&xe<=dt.finallyLoc&&(dt=null);var zt=dt?dt.completion:{};return zt.type=pe,zt.arg=xe,dt?(this.method="next",this.next=dt.finallyLoc,Je):this.complete(zt)},complete:function(pe,xe){if(pe.type==="throw")throw pe.arg;return pe.type==="break"||pe.type==="continue"?this.next=pe.arg:pe.type==="return"?(this.rval=this.arg=pe.arg,this.method="return",this.next="end"):pe.type==="normal"&&xe&&(this.next=xe),Je},finish:function(pe){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.finallyLoc===pe)return this.complete($e.completion,$e.afterLoc),tn($e),Je}},catch:function(pe){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.tryLoc===pe){var ot=$e.completion;if(ot.type==="throw"){var dt=ot.arg;tn($e)}return dt}}throw new Error("illegal catch attempt")},delegateYield:function(pe,xe,$e){return this.delegate={iterator:Wt(pe),resultName:xe,nextLoc:$e},this.method==="next"&&(this.arg=we),Je}},N}function at(){return at=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(N,qe,Ie){var nt=function(le,ue){for(;!Object.prototype.hasOwnProperty.call(le,ue)&&(le=lt(le))!==null;);return le}(N,qe);if(nt){var R=Object.getOwnPropertyDescriptor(nt,qe);return R.get?R.get.call(arguments.length<3?N:Ie):R.value}},at.apply(this,arguments)}function pt(we,N){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ie,nt){return Ie.__proto__=nt,Ie},pt(we,N)}function lt(we){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(qe){return qe.__proto__||Object.getPrototypeOf(qe)},lt(we)}var ct,Ge=function(we){(function(R,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(le&&le.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),le&&pt(R,le)})(nt,we);var N,qe,Ie=(N=nt,qe=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(R){return!1}}(),function(){var le,ue=lt(N);if(qe){var ve=lt(this).constructor;le=Reflect.construct(ue,arguments,ve)}else le=ue.apply(this,arguments);return function(de,K){if(K&&(Ke(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ge){if(ge===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ge}(de)}(this,le)});function nt(R){var le;return k(this,nt),le=Ie.call(this,R),speechSynthesis.addEventListener&&speechSynthesis.addEventListener("voiceschanged",function(){return le.events.trigger("voiceschanged")}),le}return j(nt,[{key:"start",value:function(le,ue){var ve=this;if("mediaSession"in navigator){var de=new Audio(He);de.loop=!0,this.events.on("pause",function(){return de.pause()}),this.events.on("resume",function(){return de.play()}),this.events.on("stop",function(){return de.src=""}),de.play().then(function(){navigator.mediaSession.metadata=new MediaMetadata({title:br.bookTitle,artist:br.options.metadata.filter(function(K){return K.label=="Author"}).map(function(K){return K.value})[0],artwork:[{src:br.options.thumbnail,type:"image/jpg"}]}),navigator.mediaSession.setActionHandler("play",function(){de.play(),ve.resume()}),navigator.mediaSession.setActionHandler("pause",function(){de.pause(),ve.pause()}),navigator.mediaSession.setActionHandler("previoustrack",function(){return ve.jumpBackward()}),navigator.mediaSession.setActionHandler("nexttrack",function(){return ve.jumpForward()})})}return at(lt(nt.prototype),"start",this).call(this,le,ue)}},{key:"getVoices",value:function(){var le=speechSynthesis.getVoices();return le.filter(function(ue){return ue.default}).length!=1&&le.unshift({voiceURI:"bookreader.SystemDefault",name:"System Default",lang:navigator.language,default:!0,localService:!0}),le}},{key:"createSound",value:function(le){return new ze(le.text)}}],[{key:"isSupported",value:function(){return window.speechSynthesis!==void 0&&!/samsungbrowser/i.test(navigator.userAgent)}}]),nt}(De),ze=function(){function we(le){k(this,we),this.text=le,this.loaded=!1,this.paused=!1,this.started=!1,this.stopped=!1,this.rate=1,this.utterance=null,this.voice=null,this._lastEvents={pause:null,boundary:null,start:null},this._charIndex=0,this._finishResolver=null,this._finishPromise=null}var N,qe,Ie,nt,R;return j(we,[{key:"load",value:function(ue){var ve,de=this;this.loaded=!1,this.started=!1,this.utterance=new SpeechSynthesisUtterance(this.text.slice(this._charIndex)),((ve=this.voice)===null||ve===void 0?void 0:ve.voiceURI)!=="bookreader.SystemDefault"&&(this.utterance.voice=this.voice),this.voice&&(this.utterance.lang=this.voice.lang),this.utterance.rate=this.rate,location.toString().indexOf("_debugReadAloud=true")!=-1&&(this.utterance.addEventListener("pause",function(){return console.log("pause")}),this.utterance.addEventListener("resume",function(){return console.log("resume")}),this.utterance.addEventListener("start",function(){return console.log("start")}),this.utterance.addEventListener("end",function(){return console.log("end")}),this.utterance.addEventListener("error",function(){return console.log("error")}),this.utterance.addEventListener("boundary",function(){return console.log("boundary")}),this.utterance.addEventListener("mark",function(){return console.log("mark")}),this.utterance.addEventListener("finish",function(){return console.log("finish")})),this.utterance.addEventListener("start",function(K){return de._lastEvents.start=K}),this.utterance.addEventListener("boundary",function(K){return de._lastEvents.boundary=K}),this.utterance.addEventListener("pause",function(K){return de._lastEvents.pause=K}),this.utterance.addEventListener("start",function(){de.started=!0,de.stopped=!1,de.paused=!1}),this.utterance.addEventListener("pause",function(){return de.paused=!0}),this.utterance.addEventListener("resume",function(){return de.paused=!1}),this.utterance.addEventListener("end",function(K){de.paused||de.stopped||de.utterance.dispatchEvent(new CustomEvent("finish",K))}),this.loaded=!0,ue&&ue()}},{key:"reload",value:(R=g(Pe().mark(function le(){var ue,ve;return Pe().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return ue=this.paused,(ve=this._lastEvents.boundary||this._lastEvents.pause)&&(this._charIndex=this.text.indexOf(ve.target.text)+ve.charIndex),de.next=5,this.stop();case 5:this.load(),ue||this.play();case 7:case"end":return de.stop()}},le,this)})),function(){return R.apply(this,arguments)})},{key:"play",value:function(){var ue=this;this._finishPromise=this._finishPromise||new Promise(function(de){return ue._finishResolver=de}),this.utterance.addEventListener("finish",this._finishResolver),speechSynthesis.cancel(),speechSynthesis.resume(),speechSynthesis.speak(this.utterance);var ve=this.utterance.voice&&this.utterance.voice.localService;return(0,Ze.i7)()&&!ve&&this._chromePausingBugFix(),this._finishPromise}},{key:"stop",value:function(){var ue=Promise.resolve();return this.stopped||(ue=Promise.race([(0,ke.promisifyEvent)(this.utterance,"end"),(0,ke.promisifyEvent)(this.utterance,"error")])),this.stopped=!0,speechSynthesis.cancel(),ue}},{key:"finish",value:(nt=g(Pe().mark(function le(){return Pe().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,this.stop();case 2:this.utterance.dispatchEvent(new Event("finish"));case 3:case"end":return ue.stop()}},le,this)})),function(){return nt.apply(this,arguments)})},{key:"pause",value:(Ie=g(Pe().mark(function le(){var ue,ve,de;return Pe().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(!this.paused){K.next=2;break}return K.abrupt("return");case 2:if(ue=(0,ke.promisifyEvent)(this.utterance,"pause"),speechSynthesis.pause(),ve=(0,Ze.vU)()&&d(),!(0,Ze.i7)()&&!ve){K.next=15;break}return de=(0,ke.sleep)(100).then(function(){return"timeout"}),K.next=10,Promise.race([ue,de]);case 10:if(K.sent=="timeout"){K.next=13;break}return K.abrupt("return");case 13:this.utterance.dispatchEvent(new CustomEvent("pause",this._lastEvents.start)),ve&&this.stop();case 15:case"end":return K.stop()}},le,this)})),function(){return Ie.apply(this,arguments)})},{key:"resume",value:(qe=g(Pe().mark(function le(){var ue,ve,de;return Pe().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(this.started){K.next=3;break}return this.play(),K.abrupt("return");case 3:if(this.paused){K.next=5;break}return K.abrupt("return");case 5:if(ue=(0,Ze.i7)()&&d()||(0,Ze.vU)()&&d(),ve=(0,Ze.i7)()||ue,de=(0,ke.promisifyEvent)(this.utterance,"resume"),speechSynthesis.resume(),!ve){K.next=20;break}return K.next=12,Promise.race([de,(0,ke.sleep)(100).then(function(){return"timeout"})]);case 12:if(K.sent=="timeout"){K.next=15;break}return K.abrupt("return");case 15:if(this.utterance.dispatchEvent(new CustomEvent("resume",{})),!ue){K.next=20;break}return K.next=19,this.reload();case 19:this.play();case 20:case"end":return K.stop()}},le,this)})),function(){return qe.apply(this,arguments)})},{key:"setPlaybackRate",value:function(ue){this.rate=ue,this.reload()}},{key:"setVoice",value:function(ue){this.voice=ue,this.reload()}},{key:"_chromePausingBugFix",value:(N=g(Pe().mark(function le(){var ue,ve,de,K;return Pe().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ue=(0,ke.sleep)(14e3).then(function(){return"timeout"}),ve=(0,ke.promisifyEvent)(this.utterance,"pause").then(function(){return"paused"}),de=(0,ke.promisifyEvent)(this.utterance,"end").then(function(){return"ended"}),ge.next=5,Promise.race([ue,ve,de]);case 5:K=ge.sent,location.toString().indexOf("_debugReadAloud=true")!=-1&&console.log("CHROME-PAUSE-HACK: ".concat(K)),ge.t0=K,ge.next=ge.t0==="ended"?10:ge.t0==="paused"?11:ge.t0==="timeout"?15:21;break;case 10:return ge.abrupt("break",21);case 11:return ge.next=13,Promise.race([(0,ke.promisifyEvent)(this.utterance,"resume"),(0,ke.sleep)(14e3).then(function(){return"timeout"})]);case 13:return K=="timeout"?this.reload():this._chromePausingBugFix(),ge.abrupt("break",21);case 15:return speechSynthesis.pause(),ge.next=18,(0,ke.sleep)(25);case 18:return speechSynthesis.resume(),this._chromePausingBugFix(),ge.abrupt("break",21);case 21:case"end":return ge.stop()}},le,this)})),function(){return N.apply(this,arguments)})}]),we}(),He="data:audio/mp3;base64,/+MYxAAMEAISSAhElhIpJYzz1vz9mUdlHvJwTP/n3FJesPxB9/8mp0oGaz9+7+T//8oCDhJqOMqLh4o4uhUAUUDaf//3r+///+MYxAoKy2ImKAgEqbfr/t///27/+n3s32/////+b5qMsq7vnXCKh2By3ZcIqyrUYbbRH0fp+ljtf+n2Uo72PHX/03f0df///+MYxBkKUAYmQAhEAL+2l44oKFjZMwJAOJnhguMqokFAqBKl/5f1/+f+3/v////9GT//r+//v+//////b1VvucaRChqnMqsY/+MYxCoLo2IiSAgEpRrgIRVq//p////25nlpVFbQ9kuXtrpt+n//3ZUZNKHVTHdJk3Q6h961DAU8loFlsfTnTZYLLQ1xiIYC/+MYxDYLa2YYAACNFAKKv5swEnqSccBoi//xVP9R/q/370r02////7VpaiWWLrDaF//X8+Rf/6ys2irmURCrI/Lr7///+m1t/+MYxEMKqAI2SAhElh7vNPmHrKdmMPFMimBI5xYQEiIRxh1gk0pKvfo7nezMyH6P67uKW+z/7NusoS/4//STUtCUiwASccAQ/+MYxFMKs2IcIABFEFRhEOUCgACs//l3/6df///+qZf6V9X2t69f/p////+v97UOY7UyyIxZWPa1inCgyCDq//pXpSia2v23/+MYxGMK6AYqSABEAl70RfX2+nu6///v+rfdWCLKMhUBmZhIDqt23LQGBjyNGEjBCnI5JGjRWkU2a8b29z/+n6/9SnN7LUfo/+MYxHILg2IiQAgEUPpX9//96jShqxUCtNiIeCAcmxc3/tn18pTBRmaNzgUvIqropQvPf/Fy99+z9/8/bx43Xn95kr6QHFQp/+MYxH8LG2IcAACNMTZjQ1mIlAyLi1r7PBeeff3WH/rB/r/2/7a/+6/0/0b19F5lfb/p////9qWyzOGqY5WlRoqAGuCOp1Dm/+MYxI0KuAIuSAhElhZ6kDcciBDa1gec/T1uqXsq/0Pf+z/9tf0fbV8Jf//xrqJs4BnZgPhibbcDkhvrmd9q9s+3XL+2X+9e/+MYxJ0MK14UAABNLG/7/dfT6f/1Rt+v/0/09f///1fZbWuR7ohD7JuzWZRbVe5Or5lVUWrunn1/Z+v/v//p9Ozvqh6OoMKb/+MYxKcMo2YhgAgExmatD1TeZuDdxZACD6ZEipG5JWjTNJZ16WIitt4yx3+/3fud9dFaG/7fdRQ///2a8PsCLxIDokWAam24/+MYxK8JsAYuSAhEAtxow+XubpX85GAu+/8z//2cpeR+xf/KXOZchkyy8//P5f+X/////edcJFIEjHFNBB0OtjXoQIEUm8mx/+MYxMMMi14mKAgEpmaRQYFFM5jChhMBskKSnLHwMz8jUiTb6rq////Pf0u6p038KcqLh8tFIDPK0waRwBJBSIFgBH+eAMDT/+MYxMsKG2IYAACNTf///9P/////5/+f9ZKCZazujkeQGA+RIYDEc4oApsX+dz5P//O5+WXJWPpLGoNdAyEtBgspdF5FUbFU/+MYxN0KUAIuSAhElphZOtQNqKkTl6///B7L9f//5//5fz+V1/L5f++f3/qD/n3//+3svyOlCl52VRRE7iVvgaFRcAxZVbe0/+MYxO4Og2ImSAhG3+lb683WpVSNSyNspd0UzsyTkRVqjsj0ej//1rZG9Co1Go8hSlgMjhQucpg9Fp6+uL06ZdcfIdD1ckrm/+MYxO8Os14QAABNLaj9X+YufyaKj/L1t//8H/qi//5+RF+LQjyw2+XDjO2/Oaj///93+ja45qSmWYIJQEc0bZqkTcr7IVep/+MYxO8QI2YVgAjNoNrP+QIELy/8t6XR+eyorh/f//lg2WZf/7/5e//fR+/3n+YOX5f///owB5uJ2AJjUjMSRgzRqNJV/rUZ/+MYxOkNS2oiSAiHoCRFe8nrl2Pvi15/JiyX/5T+vecv8z17/L5R9F5k5Z3b+YC6yr8fP+3q1m0TMZjrAnSg0CCBw7EjjUWC/+MYxO4OY14QAAFTMVFqv0w2rN+YPGceXOXn/+XP//8v/n//9fy/35BrF///f/////yI08yQDwI+dXQ0HJERuhH+9xIkWcvm/+MYxO8Pq2YaQAiNoPYT38z3LPn/X//1v32IRy49cz/5f9Lnzfz5/InIzKD/1+Xp1/0ar6I8YqlQQZkzYJLkIcO6sDjmwHuv/+MYxOsNi14lqAhG3//33Ln8vBl/P9Kf/8/+X2UpVxaJV+kYMsr9dtFr///l//3SQ2v1CRbHIPKziXzJVEkeHFBQADHVjccc/+MYxO8P214dqAiHoohQ8T6PXm5mjvzJirn9X//eX/5r/5fykE3Ni12f/185fn+v/8/6e//TaqOoNyZTiIJc8YEAygzxf//P/+MYxOoMez4iQAhG3fry//////8v//Kf7ckWwdjU6uAlPIxG5Tl6VM4PV/5f55eZylFPOPd8+pBCJZ/XpEmmNSwmYOHpl+8l/+MYxPMO62YhqAiHomIQPMfzYfl//Lr/YkBd3APxQ/z3//5ctVrMPakfyqebn//T////TkqS/QylsGVd48YSy46YoyMkuz/T/+MYxPIPW2IaQAhGvcsh/D/M/+9+ll//Oyz/88v5//+y5v/yk3nL8pTl////8+f5FlWkpuw22NXIjbfSLWc61WWWHynCuQIe/+MYxO8OGz4mSAiHo5f/+fl+6PQReMvX//PaIhL//fN/sqD6zWhL/V65v73///f+YCU4yRtDLIwg1XBowhGBB9hrgDTcaBER/+MYxPEPg2IVYAjNoU///15+ZcFdV//eSL/y//l1+i+vPy/kfv/rl////+JaajzwMYMAghvUbHiBQQIPAbC1ssAgiBYf57+v/+MYxO4Og0IhqAiHh//3////z/Oz7+W3lNll+U07IIZZzqTh3M8nFman/H///JZ7yZNkaLB0Jm7sJc+SMA55lhJMhxxWD//3/+MYxO8Og2IdgAjNoxkk379d8j1rs5dfLbn/8nP/6/fI96P9df/z4r//9ecXX89H+6aUs2dmtayGHP0pclEjszX4HMJuF/65/+MYxPAOO2IdoAhG3j/XzN0ullhGsszM/ozztvKpndTslEpKj2PdL6fT+7s2V7EMsIZjAR3CNdSEIWWkxGnEVitwwSIE0yNv/+MYxPIN42IiSAhG32r/XVk9VVG107IY5j6q57Gc/pXT+eX//+u/PR8s7s6FI5zlEKGJVKLKV40qeS1MtkxKW2ro9xEXn7/P/+MYxPUQg14WQAjNof1Q3Xr4q2XJfy//y//l/z+EveR/6GLX/8K////6fbT9CoRyDsdHMIn279+ZuHuOFIvVt//e1pVZ1Sju/+MYxO4Oe2YhqAiNorOaY+51MxL2UoMIjmcxjQdFRyNVVa1LUd6/172a9VbR1U4VCCXA1HkcQMoC0U/SoACSMRAUgYdoKEGU/+MYxO8Pk2oQIACTFIGGIGiRxzP/iH/vP+A5r///z/838v36n//7//P//6P33///+IWZyzRmB+SBvm5THMSlFEL/+Rk4Zi9+/+MYxOsMk2oUAACTMIu5BP9fIxC7h//3y/+pSujznMj/z9S/P/z/3LmX////5b//JkWqxxoRRaLrubJCHAdzYcWODdv+mtvZ/+MYxPMOC2odoAiNotVJZ0Vt2VqSD52bqzoQUdUKy2er0mroz2ImX/ffZq7X1k3INcezhRmERUQFFMAKMfV+gmPaVJ1igl2k/+MYxPUQ+2oMAACNFHP/9xk/D8srrZ8vzu/6//+Rn/z/z+zneV/+v/4uZ9f//r///7ra1i0znd0Ugk4dN6Y7gvKgUdX79xks/+MYxOwM804mSAhG3/KCtd87mQv5c/5Zf/7Ev/78+WauWX//kpIjI5uRowybyixL5XX///9ljMuUzMQqXJK/tDgIgrL/559G/+MYxPMPO14hoAhGv/mf5ZzlJLOy2QkeTfcjvUyVy//8/f2FeWu88vZVPrqa9ZRm4QQNIl+ZXNGC6/SXL88C+nHJ/7+SvMhI/+MYxPEQQ2YMAAFTFIs2gqVC7+4N/uX//f8vxH/58uUymv/9y3n5b6p/////23ZHynRxARCkKUwRQQKsdFCUNswfdmL1lgtv/+MYxOsNU1YhoAiHo6Sv3/l/Xzl3+2v//z//39/Rn/Bzz50R8pf+u1l1////p1TRqIXaXd0lDIY1USShoAoxCxaAAqa79xkE/+MYxPAOq2YlqAhG3i/PH3PO5xkW66X2h6/88sP8+U/+uX5lkd1Wyys9az/smhajlmX//5cUNkTjmAKPJoxzJyrMUopoJBRq/+MYxPAOQ2YQAABTEP73EgSF593QPX7+U3v8///5P/5f/1//8WfL5/1/wwp+mQv5f/LOigzvMjoczjItyM9EgLnY/+XqeeNw/+MYxPIPW1odgAiNh1SJsuiWWbOXoFVzs2a4NzlzXZn5//7X3dqO9L75RtzsmeQIKivkbIknm6xULDDSF5G5edXuv9C5lKVa/+MYxO8Og2IeQAiHhU3LrlyX7QBy//nfQ//Ky//ly7J58a7KBc0ayl7+6f2b///zX2K6SHIepGMDBElCtphtGsZv0xJEKiQ//+MYxPAPq1odqAhG3wDT/nXn7///////L//e/cyXZbb6AMy12NvdI9zIy89yP////v7TUeUIqnHCCasDDMKcm5u123L8cVu3/+MYxOwNQ1YhqAhG3zUVguuHqHy/6l2v3wV/qv//1/y/6/L//4es9nUvyz39T////ZutU9IzMWbQyKjY5epCS1vy5xHlVZJJ/+MYxPIOS2YQAABTEANCv/fIss+X6P////8v+Z//7/LI8NLlZNFck/z+/Xv////0K/83Yuomhozh1pUW7Qga+6t4NNE0ONyy/+MYxPMQQ14ZgAiNo8toABfy/svsz/rLv/17a0avX2vbuuzH00V0+XbV20T///3+ljpQxDFMyOMU1BpkIo8YcHKrCcyiKKre/+MYxO0PY2YVgAiToO2vyGX6nq+ZGb/rXl1//z//5b//lP8uf//EXKv+v0/////XvQqTHqxWoRRgrhmDQQThlQOyKj8/0/Nr/+MYxOoNk14eQAiNob7U7/4/la2f//OxCL/n//f/3l2Y15p5/upz2pf9f//vb6fPQrUQuQWcUc+KjmrmzmEozKAfEE2ozP6//+MYxO4PA2oaIAjNoPr/Nfaw///33+X9X/eZ+fn1/WsjbNckfer3+X////IfPyFgNsUSt77vc4pDvI10yuq3EgRQpc7tf8uf/+MYxO0Oq2IeQAgKyYp9+ff/8t/VKaoXy//G//Mlg/vqertShLzX3z/v1/1usqWRrBmSOCTfz+xy0sx9H63VEYg/r1//y/f9/+MYxO0Nk1YiQAiHhPRtNNHzUTq6q62f1XTbORdOq//X+ifdGOWrVHT2OY9hoLyZQ1I1OkSI4NyocRYoUKCKLRLH0W23JYjT/+MYxPEOe14dgAiNo19+/Ln9Uglsp4+ZoF/0oiS+//+6/Ky99yje////qTa8////5/i+DFN2QNkCg0QUzocL/8z+9XOZ54F5/+MYxPINW2IeQAhM3ceYqGZJzgEAMZmZnZwkIrdFDDe/+6/bO+zrRU5sYqdzx7dIYqqOyjECzyIUAwNkCJGxav/3/cvwCyzh/+MYxPcPC14dqAiNow2kh3GeZQmSGeKjgYTMzZ7l58z/3//633UfmVt4ncevdKqvispjUlOkhOkTwuwsXQoxMruyQWgISfyX/+MYxPUPs2oV4AgOkPLK//PPzf////5n/+/8NeDSNlRbu9FKjI8Zn/O89Z/+f/L6fL6ObO7wiuTKLQRjt4JUkfCiZZFYEpXT/+MYxPENwzYqSAhG3zlwiHl+Vln8utc8+X///36///L9Tv5LMl1ftaeZd/zl//////nLfhZytqwKmCjMFcMIwQcAMZ2oQGKn/+MYxPUO214QAABNEf1y0qzKPqaNn3AEjuGta0EsZF8j/+X/+avnuL5WLWOhrPCGdKIznKWIbhBiOUIrq4eiMNb++RofJUR//+MYxPQO+2oQAABTECDLKpKyp7AFEE8jv/+Sl/f/y/f/l5fP4fymp//l////19DUomQyM0m1ZpEZBzxYoAZF/76MqX0Xlyuc/+MYxPMQE2YaQAjNoOhkaR051mjiXVyEahjrxZUVKOOczO6VzO22dvX/72/XSfKGp6jj1xthiMTqqkaMDONH8CrEtDC58Rlm/+MYxO0PA2IeQAhGvRcLtzbVM/gZH6X/lrIqeVGpIri//vyEv/zP/5f5/9b/8Pz/X6/////b9NHfUzFhEoxzO4G0JqZksJg5/+MYxOwNA2oUAABRLKr/0/12Xg3ZXsiKqursXOls6MpKE2znexzO55WW+peuvZ/7auaSuIHKhjghBhAV3CmBClmIxpPSkSy7/+MYxPMOIz4hoAhG3yfJyIVqohcXWCjI/8vP9+1/7//X/3/6f61/+v7/t77f6/2/////+26mQzIyjqylhTO4eKGRQxhbNDiJ/+MYxPUSE2oIAACTEFX/++n7JrSx2WYNMZFc7AlUirWqGBPCXOpzmRTPQjIe9czff/5/PfLPJX3KO6w22kttoaJ9pNWZDjFM/+MYxOcNi2YhoAiHhqk05mxEuYDmFRBBIGDT7+IflmVMb/0Wf/0/QLkHf1/2m6v6fpoY+1+sAhoMlxoGOFQ+jbbcZJGljIXK/+MYxOsQO2IMAACTFb+lv4fH/GVV//r//efnoslIj/r9fxbPO8vHItLDn/P//ZdO6lS9VdVByqsIqUNAYfBAhpCxuXVke+X2/+MYxOUNE2IiQAgEwV5f0jVYbP3//7v/L//l5f5ss4GVEaGbmesRh9K0ju6///837UmOjpIwssokUcxQt+gNYplsHLYhB5eJ/+MYxOsQk1YMAACTEY3JJQ1wxZtG/tak6KISwy/uZ/j6nkHvZei9RjajSy8n3x/u3///stJyKaAKCFJMKC4b/r/WvwKplRP5/+MYxOMKOAYuSABEAnq+WEvP//5I//v/QMz8//X758VpvOnnOVPn/f//uX2+f7nDYvkGpozxt8Xn2tRGoPBM1PX/6/+YdDJZ/+MYxPUPQ1YiSAiHo8IiMFFDMfiOduTSMAxPIM7R9Lkv8t/3993+be079FC2LRc8jYlp5R6KheqB2l0kwFwoFSmWOyCsZ8v+/+MYxPMQg2IaQAlNoFP7Ly7/X//+W+gepL/1mP1mfb8ccMf6rJy7AZA9f8//z/1MupC79GSiKa17cElnuR7pw5MG48AV+ucZ/+MYxOwMgAYuSAhEAhglKMW9+py5S+PP+Rf/6MP/fXz/vlOfvzMv/LWRcWGz16///9fZMlpasVhhHOGxIRbHk8nkkYP+EQKl/+MYxPUPG2IdgAjNozJQByAMF/6//le/y////8/rVl/v5/d/5U98kU2tzl5SITKXk///7Pt5VWhZSMOQqIHZwB0LymkzFFnA/+MYxPMOw2oQAABNEL0pKo025GgSbCS9H7lzLlV58mRTv//3+W8WT//f/7zz5//l/9ki/6////WXFkRjlygC4US7JYQwCIg1/+MYxPMPk1YaQAjNof+3GgQj8XKu+pz/PNeX2//81+BMxLX//nz8/5vXovznf9GZ8kZy//J/t1dPqqsZWQIqK2lF4LBUIAJn/+MYxO8Pq2YdoAlNopA5QImv5P/i4cqmi/y///9DP/mplLdWL/8rZS/qX////m+pfVpWM5jBgJysYxQpTGMYUcygIwYU6qqq/+MYxOsPE14aQAiNoYAwNmLCuoX4szULsxZmoXZiwr/FhX//gIWFSJmtiVCwr3f7P/ioqLCwsLC4qK1MQU1FMy45OS4zVVVV/+MYxOkN614mSAhE31VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOwOwz4hqAiHo1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOwOG1oOIAgEqFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxO4L6AVtkAhEAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",rt="Read this book aloud",it=n(9860),wt=n(5311),_t=n(5311);function xt(we){return xt=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(qe){return typeof qe=="undefined"?"undefined":_typeof(qe)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N=="undefined"?"undefined":_typeof(N)},xt(we)}function ut(){ut=function(){return N};var we,N={},qe=Object.prototype,Ie=qe.hasOwnProperty,nt=Object.defineProperty||function(Re,pe,xe){Re[pe]=xe.value},R=typeof Symbol=="function"?Symbol:{},le=R.iterator||"@@iterator",ue=R.asyncIterator||"@@asyncIterator",ve=R.toStringTag||"@@toStringTag";function de(Re,pe,xe){return Object.defineProperty(Re,pe,{value:xe,enumerable:!0,configurable:!0,writable:!0}),Re[pe]}try{de({},"")}catch(Re){de=function(xe,$e,ot){return xe[$e]=ot}}function K(Re,pe,xe,$e){var ot=pe&&_instanceof(pe.prototype,Tt)?pe:Tt,dt=Object.create(ot.prototype),zt=new _n($e||[]);return nt(dt,"_invoke",{value:gn(Re,xe,zt)}),dt}function ge(Re,pe,xe){try{return{type:"normal",arg:Re.call(pe,xe)}}catch($e){return{type:"throw",arg:$e}}}N.wrap=K;var Ee="suspendedStart",Ce="suspendedYield",Ye="executing",Be="completed",Je={};function Tt(){}function jt(){}function Et(){}var Zt={};de(Zt,le,function(){return this});var Nt=Object.getPrototypeOf,Ft=Nt&&Nt(Nt(Wt([])));Ft&&Ft!==qe&&Ie.call(Ft,le)&&(Zt=Ft);var Dt=Et.prototype=Tt.prototype=Object.create(Zt);function Jt(Re){["next","throw","return"].forEach(function(pe){de(Re,pe,function(xe){return this._invoke(pe,xe)})})}function Qt(Re,pe){function xe(ot,dt,zt,mn){var bn=ge(Re[ot],Re,dt);if(bn.type!=="throw"){var qt=bn.arg,Ln=qt.value;return Ln&&xt(Ln)=="object"&&Ie.call(Ln,"__await")?pe.resolve(Ln.__await).then(function(Nn){xe("next",Nn,zt,mn)},function(Nn){xe("throw",Nn,zt,mn)}):pe.resolve(Ln).then(function(Nn){qt.value=Nn,zt(qt)},function(Nn){return xe("throw",Nn,zt,mn)})}mn(bn.arg)}var $e;nt(this,"_invoke",{value:function(dt,zt){function mn(){return new pe(function(bn,qt){xe(dt,zt,bn,qt)})}return $e=$e?$e.then(mn,mn):mn()}})}function gn(Re,pe,xe){var $e=Ee;return function(ot,dt){if($e===Ye)throw new Error("Generator is already running");if($e===Be){if(ot==="throw")throw dt;return{value:we,done:!0}}for(xe.method=ot,xe.arg=dt;;){var zt=xe.delegate;if(zt){var mn=Bt(zt,xe);if(mn){if(mn===Je)continue;return mn}}if(xe.method==="next")xe.sent=xe._sent=xe.arg;else if(xe.method==="throw"){if($e===Ee)throw $e=Be,xe.arg;xe.dispatchException(xe.arg)}else xe.method==="return"&&xe.abrupt("return",xe.arg);$e=Ye;var bn=ge(Re,pe,xe);if(bn.type==="normal"){if($e=xe.done?Be:Ce,bn.arg===Je)continue;return{value:bn.arg,done:xe.done}}bn.type==="throw"&&($e=Be,xe.method="throw",xe.arg=bn.arg)}}}function Bt(Re,pe){var xe=pe.method,$e=Re.iterator[xe];if($e===we)return pe.delegate=null,xe==="throw"&&Re.iterator.return&&(pe.method="return",pe.arg=we,Bt(Re,pe),pe.method==="throw")||xe!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+xe+"' method")),Je;var ot=ge($e,Re.iterator,pe.arg);if(ot.type==="throw")return pe.method="throw",pe.arg=ot.arg,pe.delegate=null,Je;var dt=ot.arg;return dt?dt.done?(pe[Re.resultName]=dt.value,pe.next=Re.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=we),pe.delegate=null,Je):dt:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,Je)}function an(Re){var pe={tryLoc:Re[0]};1 in Re&&(pe.catchLoc=Re[1]),2 in Re&&(pe.finallyLoc=Re[2],pe.afterLoc=Re[3]),this.tryEntries.push(pe)}function tn(Re){var pe=Re.completion||{};pe.type="normal",delete pe.arg,Re.completion=pe}function _n(Re){this.tryEntries=[{tryLoc:"root"}],Re.forEach(an,this),this.reset(!0)}function Wt(Re){if(Re||Re===""){var pe=Re[le];if(pe)return pe.call(Re);if(typeof Re.next=="function")return Re;if(!isNaN(Re.length)){var xe=-1,$e=function ot(){for(;++xe<Re.length;)if(Ie.call(Re,xe))return ot.value=Re[xe],ot.done=!1,ot;return ot.value=we,ot.done=!0,ot};return $e.next=$e}}throw new TypeError(xt(Re)+" is not iterable")}return jt.prototype=Et,nt(Dt,"constructor",{value:Et,configurable:!0}),nt(Et,"constructor",{value:jt,configurable:!0}),jt.displayName=de(Et,ve,"GeneratorFunction"),N.isGeneratorFunction=function(Re){var pe=typeof Re=="function"&&Re.constructor;return!!pe&&(pe===jt||(pe.displayName||pe.name)==="GeneratorFunction")},N.mark=function(Re){return Object.setPrototypeOf?Object.setPrototypeOf(Re,Et):(Re.__proto__=Et,de(Re,ve,"GeneratorFunction")),Re.prototype=Object.create(Dt),Re},N.awrap=function(Re){return{__await:Re}},Jt(Qt.prototype),de(Qt.prototype,ue,function(){return this}),N.AsyncIterator=Qt,N.async=function(Re,pe,xe,$e,ot){ot===void 0&&(ot=Promise);var dt=new Qt(K(Re,pe,xe,$e),ot);return N.isGeneratorFunction(pe)?dt:dt.next().then(function(zt){return zt.done?zt.value:dt.next()})},Jt(Dt),de(Dt,ve,"Generator"),de(Dt,le,function(){return this}),de(Dt,"toString",function(){return"[object Generator]"}),N.keys=function(Re){var pe=Object(Re),xe=[];for(var $e in pe)xe.push($e);return xe.reverse(),function ot(){for(;xe.length;){var dt=xe.pop();if(dt in pe)return ot.value=dt,ot.done=!1,ot}return ot.done=!0,ot}},N.values=Wt,_n.prototype={constructor:_n,reset:function(pe){if(this.prev=0,this.next=0,this.sent=this._sent=we,this.done=!1,this.delegate=null,this.method="next",this.arg=we,this.tryEntries.forEach(tn),!pe)for(var xe in this)xe.charAt(0)==="t"&&Ie.call(this,xe)&&!isNaN(+xe.slice(1))&&(this[xe]=we)},stop:function(){this.done=!0;var pe=this.tryEntries[0].completion;if(pe.type==="throw")throw pe.arg;return this.rval},dispatchException:function(pe){if(this.done)throw pe;var xe=this;function $e(qt,Ln){return zt.type="throw",zt.arg=pe,xe.next=qt,Ln&&(xe.method="next",xe.arg=we),!!Ln}for(var ot=this.tryEntries.length-1;ot>=0;--ot){var dt=this.tryEntries[ot],zt=dt.completion;if(dt.tryLoc==="root")return $e("end");if(dt.tryLoc<=this.prev){var mn=Ie.call(dt,"catchLoc"),bn=Ie.call(dt,"finallyLoc");if(mn&&bn){if(this.prev<dt.catchLoc)return $e(dt.catchLoc,!0);if(this.prev<dt.finallyLoc)return $e(dt.finallyLoc)}else if(mn){if(this.prev<dt.catchLoc)return $e(dt.catchLoc,!0)}else{if(!bn)throw new Error("try statement without catch or finally");if(this.prev<dt.finallyLoc)return $e(dt.finallyLoc)}}}},abrupt:function(pe,xe){for(var $e=this.tryEntries.length-1;$e>=0;--$e){var ot=this.tryEntries[$e];if(ot.tryLoc<=this.prev&&Ie.call(ot,"finallyLoc")&&this.prev<ot.finallyLoc){var dt=ot;break}}dt&&(pe==="break"||pe==="continue")&&dt.tryLoc<=xe&&xe<=dt.finallyLoc&&(dt=null);var zt=dt?dt.completion:{};return zt.type=pe,zt.arg=xe,dt?(this.method="next",this.next=dt.finallyLoc,Je):this.complete(zt)},complete:function(pe,xe){if(pe.type==="throw")throw pe.arg;return pe.type==="break"||pe.type==="continue"?this.next=pe.arg:pe.type==="return"?(this.rval=this.arg=pe.arg,this.method="return",this.next="end"):pe.type==="normal"&&xe&&(this.next=xe),Je},finish:function(pe){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.finallyLoc===pe)return this.complete($e.completion,$e.afterLoc),tn($e),Je}},catch:function(pe){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.tryLoc===pe){var ot=$e.completion;if(ot.type==="throw"){var dt=ot.arg;tn($e)}return dt}}throw new Error("illegal catch attempt")},delegateYield:function(pe,xe,$e){return this.delegate={iterator:Wt(pe),resultName:xe,nextLoc:$e},this.method==="next"&&(this.arg=we),Je}},N}wt.extend(BookReader.defaultOptions,{server:"ia600609.us.archive.org",bookPath:"",enableTtsPlugin:!0}),BookReader.prototype.setup=(ct=BookReader.prototype.setup,function(we){if(ct.call(this,we),this.options.enableTtsPlugin){this._ttsBoxesByIndex={};var N=Ge.isSupported()?Ge:Le.isSupported()?Le:null;if(/_forceTTSEngine=(festival|web)/.test(location.toString())){var qe=location.toString().match(/_forceTTSEngine=(festival|web)/)[1];N={festival:Le,web:Ge}[qe]}N&&(this.ttsEngine=new N({server:we.server,bookPath:we.bookPath,bookLanguage:(Ie=we.bookLanguage,Ie?h(Ie=Ie.toLowerCase(),["ISO 639-1"])||h(Ie,["ISO 639-2/B"])||h(Ie,["ISO 639-2/T","Endonym","Name"]):null),onLoadingStart:this.showProgressPopup.bind(this,"Loading audio..."),onLoadingComplete:this.removeProgressPopup.bind(this),onDone:this.ttsStop.bind(this),beforeChunkPlay:this.ttsBeforeChunkPlay.bind(this),afterChunkPlay:this.ttsSendChunkFinishedAnalyticsEvent.bind(this)}))}var Ie}),BookReader.prototype.init=function(we){return function(){var N=this;this.options.enableTtsPlugin&&this.bind(BookReader.eventNames.PostInit,function(){N.$(".BRicon.read").click(function(){return N.ttsToggle(),!1}),N.ttsEngine&&(N.ttsEngine.init(),/[?&]_autoReadAloud=show/.test(location.toString())&&N.ttsStart(!1))}),we.call(this)}}(BookReader.prototype.init),BookReader.prototype._createPageContainer=function(we){return function(N){var qe=we.call(this,N);if(this.options.enableTtsPlugin&&qe.page&&N in this._ttsBoxesByIndex){var Ie=qe.page.index;(0,it.Tm)("ttsHiliteLayer",this._ttsBoxesByIndex[Ie],qe.page,qe.$container[0])}return qe}}(BookReader.prototype._createPageContainer),BookReader.prototype.buildMobileDrawerElement=function(we){return function(){var N=we.call(this);return this.options.enableTtsPlugin&&this.ttsEngine&&N.find(".BRmobileMenu__moreInfoRow").after(_t('\n        <li>\n            <span>\n                <span class="DrawerIconWrapper"><img class="DrawerIcon" src="'.concat(this.imagesBaseURL,'icon_speaker_open.svg" alt="info-speaker"/></span>\n                Read Aloud\n            </span>\n            <div>\n                <span class="larger">Press to toggle read aloud</span>\n                <br/>\n                <button class="BRicon read"></button>\n            </div>\n        </li>'))),N}}(BookReader.prototype.buildMobileDrawerElement),BookReader.prototype.initNavbar=function(we){return function(){var N=this,qe=we.call(this);if(this.options.enableTtsPlugin&&this.ttsEngine){this.refs.$BRReadAloudToolbar=_t('\n        <ul class="read-aloud">\n          <li>\n            <select class="playback-speed" name="playback-speed" title="'.concat("Playback speed",'">\n              <option value="0.25">0.25x</option>\n              <option value="0.5">0.5x</option>\n              <option value="0.75">0.75x</option>\n              <option value="1.0" selected>1.0x</option>\n              <option value="1.25">1.25x</option>\n              <option value="1.5">1.5x</option>\n              <option value="1.75">1.75x</option>\n              <option value="2">2x</option>\n            </select>\n          </li>\n          <li>\n            <button type="button" name="review" title="').concat("Review 10 seconds",'">\n              <div class="icon icon-review"></div>\n            </button>\n          </li>\n          <li>\n            <button type="button" name="play" title="').concat("Play",'">\n              <div class="icon icon-play"></div>\n              <div class="icon icon-pause"></div>\n            </button>\n          </li>\n          <li>\n            <button type="button" name="advance" title="').concat("Advance 10 seconds",'">\n              <div class="icon icon-advance"></div>\n            </button>\n          </li>\n          <li>\n            <select class="playback-voices" name="playback-voice" style="display: none" title="Change read aloud voices">\n            </select>\n          </li>\n        </ul>\n      ')),qe.find(".BRcontrols").prepend(this.refs.$BRReadAloudToolbar);var Ie=function(de){return de.map(function(K){return'<option value="'.concat(K.voiceURI,'">').concat(K.lang," - ").concat(K.name,"</option>")}).join("")},nt=function(de,K){return"".concat(de.lang," - ").concat(de.name).localeCompare("".concat(K.lang," - ").concat(K.name))},R=function(de){de.empty();var K=N.ttsEngine.opts.bookLanguage,ge=N.ttsEngine.getVoices().filter(function(Ce){return Ce.lang.startsWith(K)}).sort(nt),Ee=N.ttsEngine.getVoices().filter(function(Ce){return!Ce.lang.startsWith(K)}).sort(nt);N.ttsEngine.getVoices().length>1?(de.append(_t('<optgroup label="Book Language ('.concat(K,')"> ').concat(Ie(ge)," </optgroup>"))),de.append(_t('<optgroup label="Other Languages"> '.concat(Ie(Ee)," </optgroup>"))),de.val(N.ttsEngine.voice.voiceURI),de.show()):de.hide()},le=this.refs.$BRReadAloudToolbar.find("[name=playback-voice]");R(le),le.on("change",function(ve){return N.ttsEngine.setVoice(le.val())}),this.ttsEngine.events.on("pause resume start",function(){return N.ttsUpdateState()}),this.ttsEngine.events.on("voiceschanged",function(){return R(le)}),this.refs.$BRReadAloudToolbar.find("[name=play]").on("click",this.ttsPlayPause.bind(this)),this.refs.$BRReadAloudToolbar.find("[name=advance]").on("click",this.ttsJumpForward.bind(this)),this.refs.$BRReadAloudToolbar.find("[name=review]").on("click",this.ttsJumpBackward.bind(this));var ue=this.refs.$BRReadAloudToolbar.find('select[name="playback-speed"]');ue.on("change",function(ve){return N.ttsEngine.setPlaybackRate(parseFloat(ue.val()))}),_t('<li>\n          <button class="BRicon read js-tooltip" title="'.concat(rt,'">\n            <div class="icon icon-read-aloud"></div>\n            <span class="BRtooltip">').concat(rt,"</span>\n          </button>\n        </li>")).insertBefore(qe.find(".BRcontrols .BRicon.zoom_out").closest("li"))}return qe}}(BookReader.prototype.initNavbar),BookReader.prototype.ttsToggle=function(){this.autoStop&&this.autoStop(),this.ttsEngine.playing?this.ttsStop():this.ttsStart()},BookReader.prototype.ttsStart=function(){var we=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.constModeThumb==this.mode&&this.switchMode(this.constMode1up),this.refs.$BRReadAloudToolbar.addClass("visible"),this.$(".BRicon.read").addClass("unread active"),this.ttsSendAnalyticsEvent("Start"),we&&this.ttsEngine.start(this.currentIndex(),this.book.getNumLeafs())},BookReader.prototype.ttsJumpForward=function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpForward()},BookReader.prototype.ttsJumpBackward=function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpBackward()},BookReader.prototype.ttsUpdateState=function(){var we=!(this.ttsEngine.paused||!this.ttsEngine.playing);this.$(".read-aloud [name=play]").toggleClass("playing",we)},BookReader.prototype.ttsPlayPause=function(){this.ttsEngine.playing?(this.ttsEngine.togglePlayPause(),this.ttsUpdateState()):this.ttsToggle()},BookReader.prototype.ttsStop=function(){this.refs.$BRReadAloudToolbar.removeClass("visible"),this.$(".BRicon.read").removeClass("unread active"),this.ttsSendAnalyticsEvent("Stop"),this.ttsEngine.stop(),this.ttsRemoveHilites(),this.removeProgressPopup()},BookReader.prototype.ttsBeforeChunkPlay=function(){var we=X(ut().mark(function N(qe){return ut().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ie.next=2,this.ttsMaybeFlipToIndex(qe.leafIndex);case 2:this.ttsHighlightChunk(qe),this.ttsScrollToChunk(qe);case 4:case"end":return Ie.stop()}},N,this)}));return function(N){return we.apply(this,arguments)}}(),BookReader.prototype.ttsSendChunkFinishedAnalyticsEvent=function(we){var N;this.ttsSendAnalyticsEvent("ChunkFinished-Words",(N=we.text.match(/\S+/g))?N.length:0)},BookReader.prototype.ttsMaybeFlipToIndex=function(){var we=X(ut().mark(function N(qe){return ut().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(this.constMode2up==this.mode){Ie.next=4;break}this.jumpToIndex(qe),Ie.next=6;break;case 4:return Ie.next=6,this._modes.mode2Up.mode2UpLit.jumpToIndex(qe);case 6:case"end":return Ie.stop()}},N,this)}));return function(N){return we.apply(this,arguments)}}(),BookReader.prototype.ttsHighlightChunk=function(we){var N,qe,Ie,nt=this,R=we.leafIndex;this.ttsRemoveHilites(),this._ttsBoxesByIndex=(N={},qe=R,Ie=we.lineRects.map(function(de){var K=L(de,4),ge=K[0],Ee=K[1];return{l:ge,r:K[2],b:Ee,t:K[3]}}),(qe=function(de){var K=function(ge,Ee){if(xt(ge)!=="object"||ge===null)return ge;var Ce=ge[Symbol.toPrimitive];if(Ce!==void 0){var Ye=Ce.call(ge,"string");if(xt(Ye)!=="object")return Ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ge)}(de);return xt(K)==="symbol"?K:String(K)}(qe))in N?Object.defineProperty(N,qe,{value:Ie,enumerable:!0,configurable:!0,writable:!0}):N[qe]=Ie,N);for(var le=function(){var K=L(ve[ue],2),ge=K[0],Ee=K[1],Ce=parseFloat(ge),Ye=nt.book.getPage(Ce);nt.getActivePageContainerElementsForIndex(Ce).forEach(function(Be){return(0,it.Tm)("ttsHiliteLayer",Ee,Ye,Be)})},ue=0,ve=Object.entries(this._ttsBoxesByIndex);ue<ve.length;ue++)le()},BookReader.prototype.ttsScrollToChunk=function(we){var N;this.constModeThumb!=this.mode&&((N=_t(".pagediv".concat(we.leafIndex," .ttsHiliteLayer rect")).last())===null||N===void 0||(N=N[0])===null||N===void 0||N.scrollIntoView({block:this.constMode1up==this.mode||this.isFullscreenActive?"center":"nearest",inline:"center",behavior:"smooth"}))},BookReader.prototype.ttsRemoveHilites=function(){_t(this.getActivePageContainerElements()).find(".ttsHiliteLayer").remove(),this._ttsBoxesByIndex={}},BookReader.prototype.ttsSendAnalyticsEvent=function(we,N){if(this.archiveAnalyticsSendEvent){var qe={},Ie=this.ttsEngine.opts.bookLanguage;Ie&&(qe.mediaLanguage=Ie),this.archiveAnalyticsSendEvent("BRReadAloud",we,N,qe)}}},1030:function(t,e){"use strict";e.Z=void 0,e.Z=[["Serbian","\u0441\u0440\u043F\u0441\u043A\u0438 \u0458\u0435\u0437\u0438\u043A","sr","srp","srp"],["Romanian, Moldavian, Moldovan","Rom\xE2n\u0103","ro","ron","rum"],["Sichuan Yi, Nuosu","\uA188\uA320\uA4BF Nuosuhxop","ii","iii","iii"],["Tahitian","Reo Tahiti","ty","tah","tah"],["Tagalog","Wikang Tagalog","tl","tgl","tgl"],["Yiddish","\u05D9\u05D9\u05B4\u05D3\u05D9\u05E9","yi","yid","yid"],["Akan","Akan","ak","aka","aka"],["Malay","Bahasa Melayu, \u0628\u0647\u0627\u0633 \u0645\u0644\u0627\u064A\u0648\u200E","ms","msa","may"],["Arabic","\u0627\u0644\u0639\u0631\u0628\u064A\u0629","ar","ara","ara"],["Norwegian","Norsk","no","nor","nor"],["Ojibwa","\u140A\u14C2\u1511\u14C8\u142F\u14A7\u140E\u14D0","oj","oji","oji"],["Fulah","Fulfulde, Pulaar, Pular","ff","ful","ful"],["Persian","\u0641\u0627\u0631\u0633\u06CC","fa","fas","per"],["Albanian","Shqip","sq","sqi","alb"],["Aymara","aymar aru","ay","aym","aym"],["Azerbaijani","az\u0259rbaycan dili","az","aze","aze"],["Chinese","\u4E2D\u6587 (Zh\u014Dngw\xE9n), \u6C49\u8BED, \u6F22\u8A9E","zh","zho","chi"],["Cree","\u14C0\u1426\u1403\u152D\u140D\u140F\u1423","cr","cre","cre"],["Estonian","eesti, eesti keel","et","est","est"],["Guaran\xED","Ava\xF1e'\u1EBD","gn","grn","grn"],["Inupiaq","I\xF1upiaq, I\xF1upiatun","ik","ipk","ipk"],["Inuktitut","\u1403\u14C4\u1483\u144E\u1450\u1466","iu","iku","iku"],["Kanuri","Kanuri","kr","kau","kau"],["Komi","\u043A\u043E\u043C\u0438 \u043A\u044B\u0432","kv","kom","kom"],["Kongo","Kikongo","kg","kon","kon"],["Kurdish","Kurd\xEE, \u06A9\u0648\u0631\u062F\u06CC\u200E","ku","kur","kur"],["Latvian","latvie\u0161u valoda","lv","lav","lav"],["Malagasy","fiteny malagasy","mg","mlg","mlg"],["Mongolian","\u041C\u043E\u043D\u0433\u043E\u043B \u0445\u044D\u043B","mn","mon","mon"],["Oromo","Afaan Oromoo","om","orm","orm"],["Pashto, Pushto","\u067E\u069A\u062A\u0648","ps","pus","pus"],["Quechua","Runa Simi, Kichwa","qu","que","que"],["Sardinian","sardu","sc","srd","srd"],["Swahili","Kiswahili","sw","swa","swa"],["Uzbek","O\u02BBzbek, \u040E\u0437\u0431\u0435\u043A, \u0623\u06C7\u0632\u0628\u06D0\u0643\u200E","uz","uzb","uzb"],["Zhuang, Chuang","Sa\u026F cue\u014B\u0185, Saw cuengh","za","zha","zha"],["Bislama","Bislama","bi","bis","bis"],["Norwegian Bokm\xE5l","Norsk Bokm\xE5l","nb","nob","nob"],["Norwegian Nynorsk","Norsk Nynorsk","nn","nno","nno"],["Indonesian","Bahasa Indonesia","id","ind","ind"],["Twi","Twi","tw","twi","twi"],["Esperanto","Esperanto","eo","epo","epo"],["Interlingua","Interlingua","ia","ina","ina"],["Interlingue","Originally called Occidental; then Interlingue after WWII","ie","ile","ile"],["Ido","Ido","io","ido","ido"],["Volap\xFCk","Volap\xFCk","vo","vol","vol"],["Bihari languages","\u092D\u094B\u091C\u092A\u0941\u0930\u0940","bh","bih","bih"],["Hebrew (modern)","\u05E2\u05D1\u05E8\u05D9\u05EA","he","heb","heb"],["Sanskrit","\u0938\u0902\u0938\u094D\u0915\u0943\u0924\u092E\u094D","sa","san","san"],["Church Slavic, Church Slavonic, Old Church Slavonic, Old Slavonic, Old Bulgarian","\u0469\u0437\u044B\u043A\u044A \u0441\u043B\u043E\u0432\u0463\u043D\u044C\u0441\u043A\u044A","cu","chu","chu"],["Pali","\u092A\u093E\u0934\u093F","pi","pli","pli"],["Avestan","avesta","ae","ave","ave"],["Latin","latine, lingua latina","la","lat","lat"],["Armenian","\u0540\u0561\u0575\u0565\u0580\u0565\u0576","hy","hye","arm"],["Swati","SiSwati","ss","ssw","ssw"],["Tibetan","\u0F56\u0F7C\u0F51\u0F0B\u0F61\u0F72\u0F42","bo","bod","tib"],["South Ndebele","isiNdebele","nr","nbl","nbl"],["Slovene","Slovenski Jezik, Sloven\u0161\u010Dina","sl","slv","slv"],["Oriya","\u0B13\u0B21\u0B3C\u0B3F\u0B06","or","ori","ori"],["North Ndebele","isiNdebele","nd","nde","nde"],["Nauru","Dorerin Naoero","na","nau","nau"],["Maori","te reo M\u0101ori","mi","mri","mao"],["Marathi","\u092E\u0930\u093E\u0920\u0940","mr","mar","mar"],["Luba-Katanga","Kiluba","lu","lub","lub"],["Rundi","Ikirundi","rn","run","run"],["Central Khmer","\u1781\u17D2\u1798\u17C2\u179A, \u1781\u17C1\u1798\u179A\u1797\u17B6\u179F\u17B6, \u1797\u17B6\u179F\u17B6\u1781\u17D2\u1798\u17C2\u179A","km","khm","khm"],["Western Frisian","Frysk","fy","fry","fry"],["Bengali","\u09AC\u09BE\u0982\u09B2\u09BE","bn","ben","ben"],["Avaric","\u0430\u0432\u0430\u0440 \u043C\u0430\u0446\u04C0, \u043C\u0430\u0433\u04C0\u0430\u0440\u0443\u043B \u043C\u0430\u0446\u04C0","av","ava","ava"],["Abkhazian","\u0430\u04A7\u0441\u0443\u0430 \u0431\u044B\u0437\u0448\u04D9\u0430, \u0430\u04A7\u0441\u0448\u04D9\u0430","ab","abk","abk"],["Afar","Afaraf","aa","aar","aar"],["Afrikaans","Afrikaans","af","afr","afr"],["Amharic","\u12A0\u121B\u122D\u129B","am","amh","amh"],["Aragonese","aragon\xE9s","an","arg","arg"],["Assamese","\u0985\u09B8\u09AE\u09C0\u09AF\u09BC\u09BE","as","asm","asm"],["Bambara","bamanankan","bm","bam","bam"],["Bashkir","\u0431\u0430\u0448\u04A1\u043E\u0440\u0442 \u0442\u0435\u043B\u0435","ba","bak","bak"],["Basque","euskara, euskera","eu","eus","baq"],["Belarusian","\u0431\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0430\u044F \u043C\u043E\u0432\u0430","be","bel","bel"],["Bosnian","bosanski jezik","bs","bos","bos"],["Breton","brezhoneg","br","bre","bre"],["Bulgarian","\u0431\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438 \u0435\u0437\u0438\u043A","bg","bul","bul"],["Burmese","\u1017\u1019\u102C\u1005\u102C","my","mya","bur"],["Catalan, Valencian","catal\xE0, valenci\xE0","ca","cat","cat"],["Chamorro","Chamoru","ch","cha","cha"],["Chechen","\u043D\u043E\u0445\u0447\u0438\u0439\u043D \u043C\u043E\u0442\u0442","ce","che","che"],["Chichewa, Chewa, Nyanja","chiChe\u0175a, chinyanja","ny","nya","nya"],["Chuvash","\u0447\u04D1\u0432\u0430\u0448 \u0447\u04D7\u043B\u0445\u0438","cv","chv","chv"],["Cornish","Kernewek","kw","cor","cor"],["Corsican","corsu, lingua corsa","co","cos","cos"],["Croatian","hrvatski jezik","hr","hrv","hrv"],["Czech","\u010De\u0161tina, \u010Desk\xFD jazyk","cs","ces","cze"],["Danish","dansk","da","dan","dan"],["Divehi, Dhivehi, Maldivian","\u078B\u07A8\u0788\u07AC\u0780\u07A8","dv","div","div"],["Dutch, Flemish","Nederlands, Vlaams","nl","nld","dut"],["Dzongkha","\u0F62\u0FAB\u0F7C\u0F44\u0F0B\u0F41","dz","dzo","dzo"],["English","English","en","eng","eng"],["Ewe","E\u028Begbe","ee","ewe","ewe"],["Faroese","f\xF8royskt","fo","fao","fao"],["Fijian","vosa Vakaviti","fj","fij","fij"],["Finnish","suomi, suomen kieli","fi","fin","fin"],["French","fran\xE7ais, langue fran\xE7aise","fr","fra","fre"],["Galician","Galego","gl","glg","glg"],["Georgian","\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8","ka","kat","geo"],["German","Deutsch","de","deu","ger"],["Greek (modern)","\u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC","el","ell","gre"],["Gujarati","\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0","gu","guj","guj"],["Haitian, Haitian Creole","Krey\xF2l ayisyen","ht","hat","hat"],["Hausa","(Hausa) \u0647\u064E\u0648\u064F\u0633\u064E","ha","hau","hau"],["Herero","Otjiherero","hz","her","her"],["Hindi","\u0939\u093F\u0928\u094D\u0926\u0940, \u0939\u093F\u0902\u0926\u0940","hi","hin","hin"],["Hiri Motu","Hiri Motu","ho","hmo","hmo"],["Hungarian","magyar","hu","hun","hun"],["Irish","Gaeilge","ga","gle","gle"],["Igbo","As\u1EE5s\u1EE5 Igbo","ig","ibo","ibo"],["Icelandic","\xCDslenska","is","isl","ice"],["Italian","Italiano","it","ita","ita"],["Japanese","\u65E5\u672C\u8A9E (\u306B\u307B\u3093\u3054)","ja","jpn","jpn"],["Javanese","\uA9A7\uA9B1\uA997\uA9AE, Basa Jawa","jv","jav","jav"],["Kalaallisut, Greenlandic","kalaallisut, kalaallit oqaasii","kl","kal","kal"],["Kannada","\u0C95\u0CA8\u0CCD\u0CA8\u0CA1","kn","kan","kan"],["Kashmiri","\u0915\u0936\u094D\u092E\u0940\u0930\u0940, \u0643\u0634\u0645\u064A\u0631\u064A\u200E","ks","kas","kas"],["Kazakh","\u049B\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456","kk","kaz","kaz"],["Kikuyu, Gikuyu","G\u0129k\u0169y\u0169","ki","kik","kik"],["Kinyarwanda","Ikinyarwanda","rw","kin","kin"],["Kirghiz, Kyrgyz","\u041A\u044B\u0440\u0433\u044B\u0437\u0447\u0430, \u041A\u044B\u0440\u0433\u044B\u0437 \u0442\u0438\u043B\u0438","ky","kir","kir"],["Korean","\uD55C\uAD6D\uC5B4","ko","kor","kor"],["Kuanyama, Kwanyama","Kuanyama","kj","kua","kua"],["Luxembourgish, Letzeburgesch","L\xEBtzebuergesch","lb","ltz","ltz"],["Ganda","Luganda","lg","lug","lug"],["Limburgan, Limburger, Limburgish","Limburgs","li","lim","lim"],["Lingala","Ling\xE1la","ln","lin","lin"],["Lao","\u0E9E\u0EB2\u0EAA\u0EB2\u0EA5\u0EB2\u0EA7","lo","lao","lao"],["Lithuanian","lietuvi\u0173 kalba","lt","lit","lit"],["Manx","Gaelg, Gailck","gv","glv","glv"],["Macedonian","\u043C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438 \u0458\u0430\u0437\u0438\u043A","mk","mkd","mac"],["Malayalam","\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02","ml","mal","mal"],["Maltese","Malti","mt","mlt","mlt"],["Marshallese","Kajin M\u0327aje\u013C","mh","mah","mah"],["Navajo, Navaho","Din\xE9 bizaad","nv","nav","nav"],["Nepali","\u0928\u0947\u092A\u093E\u0932\u0940","ne","nep","nep"],["Ndonga","Owambo","ng","ndo","ndo"],["Occitan","occitan, lenga d'\xF2c","oc","oci","oci"],["Ossetian, Ossetic","\u0438\u0440\u043E\u043D \xE6\u0432\u0437\u0430\u0433","os","oss","oss"],["Panjabi, Punjabi","\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40","pa","pan","pan"],["Polish","j\u0119zyk polski, polszczyzna","pl","pol","pol"],["Portuguese","Portugu\xEAs","pt","por","por"],["Romansh","Rumantsch Grischun","rm","roh","roh"],["Russian","\u0440\u0443\u0441\u0441\u043A\u0438\u0439","ru","rus","rus"],["Sindhi","\u0938\u093F\u0928\u094D\u0927\u0940, \u0633\u0646\u068C\u064A\u060C \u0633\u0646\u062F\u06BE\u06CC\u200E","sd","snd","snd"],["Northern Sami","Davvis\xE1megiella","se","sme","sme"],["Samoan","gagana fa'a Samoa","sm","smo","smo"],["Sango","y\xE2ng\xE2 t\xEE s\xE4ng\xF6","sg","sag","sag"],["Gaelic, Scottish Gaelic","G\xE0idhlig","gd","gla","gla"],["Shona","chiShona","sn","sna","sna"],["Sinhala, Sinhalese","\u0DC3\u0DD2\u0D82\u0DC4\u0DBD","si","sin","sin"],["Slovak","Sloven\u010Dina, Slovensk\xFD Jazyk","sk","slk","slo"],["Somali","Soomaaliga, af Soomaali","so","som","som"],["Southern Sotho","Sesotho","st","sot","sot"],["Spanish, Castilian","Espa\xF1ol","es","spa","spa"],["Sundanese","Basa Sunda","su","sun","sun"],["Swedish","Svenska","sv","swe","swe"],["Tamil","\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD","ta","tam","tam"],["Telugu","\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41","te","tel","tel"],["Tajik","\u0442\u043E\u04B7\u0438\u043A\u04E3, to\xE7ik\u012B, \u062A\u0627\u062C\u06CC\u06A9\u06CC\u200E","tg","tgk","tgk"],["Thai","\u0E44\u0E17\u0E22","th","tha","tha"],["Tigrinya","\u1275\u130D\u122D\u129B","ti","tir","tir"],["Turkmen","T\xFCrkmen, \u0422\u04AF\u0440\u043A\u043C\u0435\u043D","tk","tuk","tuk"],["Tswana","Setswana","tn","tsn","tsn"],["Tongan (Tonga Islands)","Faka Tonga","to","ton","ton"],["Turkish","T\xFCrk\xE7e","tr","tur","tur"],["Tsonga","Xitsonga","ts","tso","tso"],["Tatar","\u0442\u0430\u0442\u0430\u0440 \u0442\u0435\u043B\u0435, tatar tele","tt","tat","tat"],["Uighur, Uyghur","\u0626\u06C7\u064A\u063A\u06C7\u0631\u0686\u06D5\u200E, Uyghurche","ug","uig","uig"],["Ukrainian","\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430","uk","ukr","ukr"],["Urdu","\u0627\u0631\u062F\u0648","ur","urd","urd"],["Venda","Tshiven\u1E13a","ve","ven","ven"],["Vietnamese","Ti\u1EBFng Vi\u1EC7t","vi","vie","vie"],["Walloon","Walon","wa","wln","wln"],["Welsh","Cymraeg","cy","cym","wel"],["Wolof","Wollof","wo","wol","wol"],["Xhosa","isiXhosa","xh","xho","xho"],["Yoruba","Yor\xF9b\xE1","yo","yor","yor"],["Zulu","isiZulu","zu","zul","zul"]]},4371:function(t,e,n){var o,l;o=[n(5311)],(l=function(a){return function(s){"use strict";var r=function(d){d===void 0&&(d=window.navigator.userAgent),d=d.toLowerCase();var h=/(edge)\/([\w.]+)/.exec(d)||/(opr)[\/]([\w.]+)/.exec(d)||/(chrome)[ \/]([\w.]+)/.exec(d)||/(iemobile)[\/]([\w.]+)/.exec(d)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(d)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(d)||/(webkit)[ \/]([\w.]+)/.exec(d)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(d)||/(msie) ([\w.]+)/.exec(d)||d.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(d)||d.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(d)||[],f=/(ipad)/.exec(d)||/(ipod)/.exec(d)||/(windows phone)/.exec(d)||/(iphone)/.exec(d)||/(kindle)/.exec(d)||/(silk)/.exec(d)||/(android)/.exec(d)||/(win)/.exec(d)||/(mac)/.exec(d)||/(linux)/.exec(d)||/(cros)/.exec(d)||/(playbook)/.exec(d)||/(bb)/.exec(d)||/(blackberry)/.exec(d)||[],v={},_={browser:h[5]||h[3]||h[1]||"",version:h[2]||h[4]||"0",versionNumber:h[4]||h[2]||"0",platform:f[0]||""};if(_.browser&&(v[_.browser]=!0,v.version=_.version,v.versionNumber=parseInt(_.versionNumber,10)),_.platform&&(v[_.platform]=!0),(v.android||v.bb||v.blackberry||v.ipad||v.iphone||v.ipod||v.kindle||v.playbook||v.silk||v["windows phone"])&&(v.mobile=!0),(v.cros||v.mac||v.linux||v.win)&&(v.desktop=!0),(v.chrome||v.opr||v.safari)&&(v.webkit=!0),v.rv||v.iemobile){var b="msie";_.browser=b,v[b]=!0}if(v.edge){delete v.edge;var w="msedge";_.browser=w,v[w]=!0}if(v.safari&&v.blackberry){var A="blackberry";_.browser=A,v[A]=!0}if(v.safari&&v.playbook){var E="playbook";_.browser=E,v[E]=!0}if(v.bb){var O="blackberry";_.browser=O,v[O]=!0}if(v.opr){var P="opera";_.browser=P,v[P]=!0}if(v.safari&&v.android){var y="android";_.browser=y,v[y]=!0}if(v.safari&&v.kindle){var u="kindle";_.browser=u,v[u]=!0}if(v.safari&&v.silk){var p="silk";_.browser=p,v[p]=!0}return v.name=_.browser,v.platform=_.platform,v};return window.jQBrowser=r(window.navigator.userAgent),window.jQBrowser.uaMatch=r,s&&(s.browser=window.jQBrowser),window.jQBrowser}(a)}.apply(e,o))===void 0||(t.exports=l)},5529:function(t,e,n){var o;t=n.nmd(t),function(l,a){"use strict";var s=function(d,h){this.setupOptions={url:d||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=h||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var f,v,_,b,w,A,E,O,P,y,u,p,g,k,x,j,L,D,F,X,Q,H,ce,ne,V,Y,oe,q,G,J,ae,ie,Oe,De,ke,tt,Ve,Qe,ht,bt,vt,Le,_e,Ne,Ze,Ke,Pe,at,pt,lt,ct,Ge,ze,He,rt,it,wt,_t,xt,ut,we,N,qe,Ie,nt,R=this,le=null,ue=null,ve="soundManager",de=ve+": ",K=navigator.userAgent,ge=l.location.href.toString(),Ee=document,Ce=[],Ye=!0,Be=!1,Je=!1,Tt=!1,jt=!1,Et=!1,Zt=0,Nt=["log","info","warn","error"],Ft=null,Dt=null,Jt=!1,Qt=!1,gn=0,Bt=null,an=[],tn=null,_n=Array.prototype.slice,Wt=!1,Re=0,pe=1e3,xe=K.match(/(ipad|iphone|ipod)/i),$e=K.match(/android/i),ot=K.match(/msie|trident/i),dt=K.match(/webkit/i),zt=K.match(/safari/i)&&!K.match(/chrome/i),mn=K.match(/opera/i),bn=K.match(/(mobile|pre\/|xoom)/i)||xe||$e,qt=!ge.match(/usehtml5audio/i)&&!ge.match(/sm2-ignorebadua/i)&&zt&&!K.match(/silk/i)&&K.match(/OS\sX\s10_6_([3-7])/i),Ln=l.console!==a&&console.log!==a,Nn=Ee.hasFocus!==a?Ee.hasFocus():null,ui=zt&&(Ee.hasFocus===a||!Ee.hasFocus()),Pr=!ui,Li=/(mp3|mp4|mpa|m4a|m4b)/i,Ri="about:blank",ho=Ee.location?Ee.location.protocol.match(/http/i):null,Zr=ho?"":"//",hi=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,qi=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],bi=new RegExp("\\.("+qi.join("|")+")(\\?.*)?$","i");function ci(gt){return R.preferFlash&&_t&&!R.ignoreFlash&&R.flash[gt]!==a&&R.flash[gt]}function ei(gt){return function(et){var yt,en=this._s;return en&&en._a?yt=gt.call(this,et):(en&&en.id?R._wD(en.id+": Ignoring "+et.type):R._wD("HTML5::Ignoring "+et.type),yt=null),yt}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!ho,Ve={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},ct=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==a&&(mn&&opera!==a&&opera.version()<10?new Audio(null):new Audio).canPlayType!==a}catch(gt){return!1}}(),this.setup=function(gt){var et=!R.url;return gt!==a&&Tt&&tn&&R.ok()&&(gt.flashVersion!==a||gt.url!==a||gt.html5Test!==a)&&vt(De("setupLate")),u(gt),Wt||(bn?R.setupOptions.ignoreMobileRestrictions&&!R.setupOptions.forceUseGlobalHTML5Audio||(an.push(Q.globalHTML5),Wt=!0):R.setupOptions.forceUseGlobalHTML5Audio&&(an.push(Q.globalHTML5),Wt=!0)),!nt&&bn&&(R.setupOptions.ignoreMobileRestrictions?an.push(Q.ignoreMobile):(R.setupOptions.useHTML5Audio&&!R.setupOptions.preferFlash||R._wD(Q.mobileUA),R.setupOptions.useHTML5Audio=!0,R.setupOptions.preferFlash=!1,xe?R.ignoreFlash=!0:($e&&!K.match(/android\s2\.3/i)||!$e)&&(R._wD(Q.globalHTML5),Wt=!0))),gt&&(et&&V&&gt.url!==a&&R.beginDelayedInit(),V||gt.url===a||Ee.readyState!=="complete"||setTimeout(ce,1)),nt=!0,R},this.ok=function(){return tn?Tt&&!jt:R.useHTML5Audio&&R.hasHTML5},this.supported=this.ok,this.getMovie=function(gt){return v(gt)||Ee[gt]||l[gt]},this.createSound=function(gt,et){var yt,en,on,In=null;if(en=(yt=ve+".createSound(): ")+De(Tt?"notOK":"notReady"),!Tt||!R.ok())return vt(en),!1;if(et!==a&&(gt={id:gt,url:et}),(on=y(gt)).url=Ke(on.url),on.id===a&&(on.id=R.setupOptions.idPrefix+Re++),on.id.toString().charAt(0).match(/^[0-9]$/)&&R._wD(yt+De("badID",on.id),2),R._wD(yt+on.id+(on.url?" ("+on.url+")":""),1),Le(on.id,!0))return R._wD(yt+on.id+" exists",1),R.sounds[on.id];function Kn(){return on=ht(on),R.sounds[on.id]=new f(on),R.soundIDs.push(on.id),R.sounds[on.id]}if(pt(on))In=Kn(),R.html5Only||R._wD(on.id+": Using HTML5"),In._setup_html5(on);else{if(R.html5Only)return R._wD(on.id+": No HTML5 support for this sound, and no Flash. Exiting."),Kn();if(R.html5.usingFlash&&on.url&&on.url.match(/data:/i))return R._wD(on.id+": data: URIs not supported via Flash. Exiting."),Kn();A>8&&(on.isMovieStar===null&&(on.isMovieStar=!!(on.serverURL||on.type&&on.type.match(hi)||on.url&&on.url.match(bi))),on.isMovieStar&&(R._wD(yt+"using MovieStar handling"),on.loops>1&&O("noNSLoop"))),on=bt(on,yt),In=Kn(),A===8?ue._createSound(on.id,on.loops||1,on.usePolicyFile):(ue._createSound(on.id,on.url,on.usePeakData,on.useWaveformData,on.useEQData,on.isMovieStar,!!on.isMovieStar&&on.bufferTime,on.loops||1,on.serverURL,on.duration||null,on.autoPlay,!0,on.autoLoad,on.usePolicyFile),on.serverURL||(In.connected=!0,on.onconnect&&on.onconnect.apply(In))),on.serverURL||!on.autoLoad&&!on.autoPlay||In.load(on)}return!on.serverURL&&on.autoPlay&&In.play(),In},this.destroySound=function(gt,et){if(!Le(gt))return!1;var yt,en=R.sounds[gt];for(en.stop(),en._iO={},en.unload(),yt=0;yt<R.soundIDs.length;yt++)if(R.soundIDs[yt]===gt){R.soundIDs.splice(yt,1);break}return et||en.destruct(!0),en=null,delete R.sounds[gt],!0},this.load=function(gt,et){return!!Le(gt)&&R.sounds[gt].load(et)},this.unload=function(gt){return!!Le(gt)&&R.sounds[gt].unload()},this.onPosition=function(gt,et,yt,en){return!!Le(gt)&&R.sounds[gt].onposition(et,yt,en)},this.onposition=this.onPosition,this.clearOnPosition=function(gt,et,yt){return!!Le(gt)&&R.sounds[gt].clearOnPosition(et,yt)},this.play=function(gt,et){var yt=null,en=et&&!_instanceof(et,Object);if(!Tt||!R.ok())return vt(ve+".play(): "+De(Tt?"notOK":"notReady")),!1;if(Le(gt,en))en&&(et={url:et});else{if(!en)return!1;en&&(et={url:et}),et&&et.url&&(R._wD(ve+'.play(): Attempting to create "'+gt+'"',1),et.id=gt,yt=R.createSound(et).play())}return yt===null&&(yt=R.sounds[gt].play(et)),yt},this.start=this.play,this.setPlaybackRate=function(gt,et,yt){return!!Le(gt)&&R.sounds[gt].setPlaybackRate(et,yt)},this.setPosition=function(gt,et){return!!Le(gt)&&R.sounds[gt].setPosition(et)},this.stop=function(gt){return!!Le(gt)&&(R._wD(ve+".stop("+gt+")",1),R.sounds[gt].stop())},this.stopAll=function(){var gt;for(gt in R._wD(ve+".stopAll()",1),R.sounds)R.sounds.hasOwnProperty(gt)&&R.sounds[gt].stop()},this.pause=function(gt){return!!Le(gt)&&R.sounds[gt].pause()},this.pauseAll=function(){var gt;for(gt=R.soundIDs.length-1;gt>=0;gt--)R.sounds[R.soundIDs[gt]].pause()},this.resume=function(gt){return!!Le(gt)&&R.sounds[gt].resume()},this.resumeAll=function(){var gt;for(gt=R.soundIDs.length-1;gt>=0;gt--)R.sounds[R.soundIDs[gt]].resume()},this.togglePause=function(gt){return!!Le(gt)&&R.sounds[gt].togglePause()},this.setPan=function(gt,et){return!!Le(gt)&&R.sounds[gt].setPan(et)},this.setVolume=function(gt,et){var yt,en;if(gt!==a&&!isNaN(gt)&&et===a){for(yt=0,en=R.soundIDs.length;yt<en;yt++)R.sounds[R.soundIDs[yt]].setVolume(gt);return!1}return!!Le(gt)&&R.sounds[gt].setVolume(et)},this.mute=function(gt){var et=0;if(_instanceof(gt,String)&&(gt=null),gt)return!!Le(gt)&&(R._wD(ve+'.mute(): Muting "'+gt+'"'),R.sounds[gt].mute());for(R._wD(ve+".mute(): Muting all sounds"),et=R.soundIDs.length-1;et>=0;et--)R.sounds[R.soundIDs[et]].mute();return R.muted=!0,!0},this.muteAll=function(){R.mute()},this.unmute=function(gt){var et;if(_instanceof(gt,String)&&(gt=null),gt)return!!Le(gt)&&(R._wD(ve+'.unmute(): Unmuting "'+gt+'"'),R.sounds[gt].unmute());for(R._wD(ve+".unmute(): Unmuting all sounds"),et=R.soundIDs.length-1;et>=0;et--)R.sounds[R.soundIDs[et]].unmute();return R.muted=!1,!0},this.unmuteAll=function(){R.unmute()},this.toggleMute=function(gt){return!!Le(gt)&&R.sounds[gt].toggleMute()},this.getMemoryUse=function(){var gt=0;return ue&&A!==8&&(gt=parseInt(ue._getMemoryUse(),10)),gt},this.disable=function(gt){var et;if(gt===a&&(gt=!1),jt)return!1;for(jt=!0,O("shutdown",1),et=R.soundIDs.length-1;et>=0;et--)ae(R.sounds[R.soundIDs[et]]);return ae(R),P(gt),it.remove(l,"load",x),!0},this.canPlayMIME=function(gt){var et;return R.hasHTML5&&(et=lt({type:gt})),!et&&tn&&(et=gt&&R.ok()?!!(A>8&&gt.match(hi)||gt.match(R.mimePattern)):null),et},this.canPlayURL=function(gt){var et;return R.hasHTML5&&(et=lt({url:gt})),!et&&tn&&(et=gt&&R.ok()?!!gt.match(R.filePattern):null),et},this.canPlayLink=function(gt){return!(gt.type===a||!gt.type||!R.canPlayMIME(gt.type))||R.canPlayURL(gt.href)},this.getSoundById=function(gt,et){if(!gt)return null;var yt=R.sounds[gt];return yt||et||R._wD(ve+'.getSoundById(): Sound "'+gt+'" not found.',2),yt},this.onready=function(gt,et){var yt="onready";if(typeof gt!="function")throw De("needFunction",yt);return Tt&&R._wD(De("queue",yt)),et||(et=l),g(yt,gt,et),k(),!0},this.ontimeout=function(gt,et){var yt="ontimeout";if(typeof gt!="function")throw De("needFunction",yt);return Tt&&R._wD(De("queue",yt)),et||(et=l),g(yt,gt,et),k({type:yt}),!0},this._writeDebug=function(gt,et){var yt,en;return!(!R.setupOptions.debugMode||!(Ln&&R.useConsole&&(et&&typeof et=="object"?console.log(gt,et):Nt[et]!==a?console[Nt[et]](gt):console.log(gt),R.consoleOnly))&&(!(yt=v("soundmanager-debug"))||(en=Ee.createElement("div"),++Zt%2==0&&(en.className="sm2-alt"),et=et===a?0:parseInt(et,10),en.appendChild(Ee.createTextNode(gt)),et&&(et>=2&&(en.style.fontWeight="bold"),et===3&&(en.style.color="#ff3333")),yt.insertBefore(en,yt.firstChild),yt=null,0)))},ge.indexOf("sm2-debug=alert")!==-1&&(this._writeDebug=function(gt){l.alert(gt)}),this._wD=this._writeDebug,this._debug=function(){var gt,et;for(O("currentObj",1),gt=0,et=R.soundIDs.length;gt<et;gt++)R.sounds[R.soundIDs[gt]]._debug()},this.reboot=function(gt,et){var yt,en,on;for(R.soundIDs.length&&R._wD("Destroying "+R.soundIDs.length+" SMSound object"+(R.soundIDs.length!==1?"s":"")+"..."),yt=R.soundIDs.length-1;yt>=0;yt--)R.sounds[R.soundIDs[yt]].destruct();if(ue)try{ot&&(Dt=ue.innerHTML),Ft=ue.parentNode.removeChild(ue)}catch(In){O("badRemove",2)}if(Dt=Ft=tn=ue=null,R.enabled=V=Tt=Jt=Qt=Be=Je=jt=Wt=R.swfLoaded=!1,R.soundIDs=[],R.sounds={},Re=0,nt=!1,gt)Ce=[];else for(yt in Ce)if(Ce.hasOwnProperty(yt))for(en=0,on=Ce[yt].length;en<on;en++)Ce[yt][en].fired=!1;return et||R._wD(ve+": Rebooting..."),R.html5={usingFlash:null},R.flash={},R.html5Only=!1,R.ignoreFlash=!1,l.setTimeout(function(){et||R.beginDelayedInit()},20),R},this.reset=function(){return O("reset"),R.reboot(!0,!0)},this.getMoviePercent=function(){return ue&&"PercentLoaded"in ue?ue.PercentLoaded():null},this.beginDelayedInit=function(){Et=!0,ce(),setTimeout(function(){return!Qt&&(oe(),H(),Qt=!0,!0)},20),j()},this.destruct=function(){R._wD(ve+".destruct()"),R.disable(!0)},f=function(et){var yt,en,on,In,Kn,dr,An,Gr,Ur,_r,be=this,Gi=!1,Vr=[],di=0,Yr=null;Ur={duration:null,time:null},this.id=et.id,this.sID=this.id,this.url=et.url,this.options=y(et),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,_r=!this.url,this.id3={},this._debug=function(){R._wD(be.id+": Merged options:",be.options)},this.load=function(ln){var dn;if(ln!==a?be._iO=y(ln,be.options):(ln=be.options,be._iO=ln,Yr&&Yr!==be.url&&(O("manURL"),be._iO.url=be.url,be.url=null)),be._iO.url||(be._iO.url=be.url),be._iO.url=Ke(be._iO.url),be.instanceOptions=be._iO,dn=be._iO,R._wD(be.id+": load ("+dn.url+")"),!dn.url&&!be.url)return R._wD(be.id+": load(): url is unassigned. Exiting.",2),be;if(be.isHTML5||A!==8||be.url||dn.autoPlay||R._wD(be.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),dn.url===be.url&&be.readyState!==0&&be.readyState!==2)return O("onURL",1),be.readyState===3&&dn.onload&&Ie(be,function(){dn.onload.apply(be,[!!be.duration])}),be;if(be.loaded=!1,be.readyState=1,be.playState=0,be.id3={},pt(dn))be._setup_html5(dn)._called_load?R._wD(be.id+": Ignoring request to load again"):(be._html5_canplay=!1,be.url!==dn.url&&(R._wD(O("manURL")+": "+dn.url),be._a.src=dn.url,be.setPosition(0)),be._a.autobuffer="auto",be._a.preload="auto",be._a._called_load=!0);else{if(R.html5Only)return R._wD(be.id+": No flash support. Exiting."),be;if(be._iO.url&&be._iO.url.match(/data:/i))return R._wD(be.id+": data: URIs not supported via Flash. Exiting."),be;try{be.isHTML5=!1,be._iO=bt(ht(dn)),be._iO.autoPlay&&(be._iO.position||be._iO.from)&&(R._wD(be.id+": Disabling autoPlay because of non-zero offset case"),be._iO.autoPlay=!1),dn=be._iO,A===8?ue._load(be.id,dn.url,dn.stream,dn.autoPlay,dn.usePolicyFile):ue._load(be.id,dn.url,!!dn.stream,!!dn.autoPlay,dn.loops||1,!!dn.autoLoad,dn.usePolicyFile)}catch(hn){O("smError",2),E("onload",!1),q({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return be.url=dn.url,be},this.unload=function(){return be.readyState!==0&&(R._wD(be.id+": unload()"),be.isHTML5?(In(),be._a&&(be._a.pause(),Yr=ze(be._a))):A===8?ue._unload(be.id,Ri):ue._unload(be.id),yt()),be},this.destruct=function(ln){R._wD(be.id+": Destruct"),be.isHTML5?(In(),be._a&&(be._a.pause(),ze(be._a),Wt||on(),be._a._s=null,be._a=null)):(be._iO.onfailure=null,ue._destroySound(be.id)),ln||R.destroySound(be.id,!0)},this.play=function(ln,dn){var hn,Hn,mr,Fr,ri,Po,Io=!0;if(hn=be.id+": play(): ",dn=dn===a||dn,ln||(ln={}),be.url&&(be._iO.url=be.url),be._iO=y(be._iO,be.options),be._iO=y(ln,be._iO),be._iO.url=Ke(be._iO.url),be.instanceOptions=be._iO,!be.isHTML5&&be._iO.serverURL&&!be.connected)return be.getAutoPlay()||(R._wD(hn+" Netstream not connected yet - setting autoPlay"),be.setAutoPlay(!0)),be;if(pt(be._iO)&&(be._setup_html5(be._iO),Kn()),be.playState===1&&!be.paused){if(!be._iO.multiShot)return R._wD(hn+"Already playing (one-shot)",1),be.isHTML5&&be.setPosition(be._iO.position),be;R._wD(hn+"Already playing (multi-shot)",1)}if(ln.url&&ln.url!==be.url&&(be.readyState||be.isHTML5||A!==8||!_r?be.load(be._iO):_r=!1),be.loaded)R._wD(hn.substr(0,hn.lastIndexOf(":")));else if(be.readyState===0){if(R._wD(hn+"Attempting to load"),be.isHTML5||R.html5Only){if(!be.isHTML5)return R._wD(hn+"Unsupported type. Exiting."),be;be.load(be._iO)}else be._iO.autoPlay=!0,be.load(be._iO);be.instanceOptions=be._iO}else{if(be.readyState===2)return R._wD(hn+"Could not load - exiting",2),be;R._wD(hn+"Loading - attempting to play...")}return!be.isHTML5&&A===9&&be.position>0&&be.position===be.duration&&(R._wD(hn+"Sound at end, resetting to position: 0"),ln.position=0),be.paused&&be.position>=0&&(!be._iO.serverURL||be.position>0)?(R._wD(hn+"Resuming from paused state",1),be.resume()):(be._iO=y(ln,be._iO),(!be.isHTML5&&be._iO.position!==null&&be._iO.position>0||be._iO.from!==null&&be._iO.from>0||be._iO.to!==null)&&be.instanceCount===0&&be.playState===0&&!be._iO.serverURL&&(mr=function(){be._iO=y(ln,be._iO),be.play(be._iO)},be.isHTML5&&!be._html5_canplay?(R._wD(hn+"Beginning load for non-zero offset case"),be.load({_oncanplay:mr})):be.isHTML5||be.loaded||be.readyState&&be.readyState===2||(R._wD(hn+"Preloading for non-zero offset case"),be.load({onload:mr})),be._iO=Gr()),(!be.instanceCount||be._iO.multiShotEvents||be.isHTML5&&be._iO.multiShot&&!Wt||!be.isHTML5&&A>8&&!be.getAutoPlay())&&be.instanceCount++,be._iO.onposition&&be.playState===0&&dr(be),be.playState=1,be.paused=!1,be.position=be._iO.position===a||isNaN(be._iO.position)?0:be._iO.position,be.isHTML5||(be._iO=bt(ht(be._iO))),be._iO.onplay&&dn&&(be._iO.onplay.apply(be),Gi=!0),be.setVolume(be._iO.volume,!0),be.setPan(be._iO.pan,!0),be._iO.playbackRate!==1&&be.setPlaybackRate(be._iO.playbackRate),be.isHTML5?be.instanceCount<2?(Kn(),Hn=be._setup_html5(),be.setPosition(be._iO.position),Hn.play()):(R._wD(be.id+": Cloning Audio() for instance #"+be.instanceCount+"..."),Fr=new Audio(be._iO.url),ri=function(){it.remove(Fr,"ended",ri),be._onfinish(be),ze(Fr),Fr=null},Po=function(){it.remove(Fr,"canplay",Po);try{Fr.currentTime=be._iO.position/pe}catch(wi){vt(be.id+": multiShot play() failed to apply position of "+be._iO.position/pe)}Fr.play()},it.add(Fr,"ended",ri),be._iO.volume!==a&&(Fr.volume=Math.max(0,Math.min(1,be._iO.volume/100))),be.muted&&(Fr.muted=!0),be._iO.position?it.add(Fr,"canplay",Po):Fr.play()):(Io=ue._start(be.id,be._iO.loops||1,A===9?be.position:be.position/pe,be._iO.multiShot||!1),A!==9||Io||(R._wD(hn+"No sound hardware, or 32-sound ceiling hit",2),be._iO.onplayerror&&be._iO.onplayerror.apply(be)))),be},this.start=this.play,this.stop=function(ln){var dn,hn=be._iO;return be.playState===1&&(R._wD(be.id+": stop()"),be._onbufferchange(0),be._resetOnPosition(0),be.paused=!1,be.isHTML5||(be.playState=0),An(),hn.to&&be.clearOnPosition(hn.to),be.isHTML5?be._a&&(dn=be.position,be.setPosition(0),be.position=dn,be._a.pause(),be.playState=0,be._onTimer(),In()):(ue._stop(be.id,ln),hn.serverURL&&be.unload()),be.instanceCount=0,be._iO={},hn.onstop&&hn.onstop.apply(be)),be},this.setAutoPlay=function(ln){R._wD(be.id+": Autoplay turned "+(ln?"on":"off")),be._iO.autoPlay=ln,be.isHTML5||(ue._setAutoPlay(be.id,ln),ln&&(be.instanceCount||be.readyState!==1||(be.instanceCount++,R._wD(be.id+": Incremented instance count to "+be.instanceCount))))},this.getAutoPlay=function(){return be._iO.autoPlay},this.setPlaybackRate=function(ln){var dn=Math.max(.5,Math.min(4,ln));if(dn!==ln&&R._wD(be.id+": setPlaybackRate("+ln+"): limiting rate to "+dn,2),be.isHTML5)try{be._iO.playbackRate=dn,be._a.playbackRate=dn}catch(hn){R._wD(be.id+": setPlaybackRate("+dn+") failed: "+hn.message,2)}return be},this.setPosition=function(ln){ln===a&&(ln=0);var dn,hn,Hn=be.isHTML5?Math.max(ln,0):Math.min(be.duration||be._iO.duration,Math.max(ln,0));if(be.position=Hn,hn=be.position/pe,be._resetOnPosition(be.position),be._iO.position=Hn,be.isHTML5){if(be._a){if(be._html5_canplay){if(be._a.currentTime.toFixed(3)!==hn.toFixed(3)){R._wD(be.id+": setPosition("+hn+")");try{be._a.currentTime=hn,(be.playState===0||be.paused)&&be._a.pause()}catch(mr){R._wD(be.id+": setPosition("+hn+") failed: "+mr.message,2)}}}else if(hn)return R._wD(be.id+": setPosition("+hn+"): Cannot seek yet, sound not ready",2),be;be.paused&&be._onTimer(!0)}}else dn=A===9?be.position:hn,be.readyState&&be.readyState!==2&&ue._setPosition(be.id,dn,be.paused||!be.playState,be._iO.multiShot);return be},this.pause=function(ln){return be.paused||be.playState===0&&be.readyState!==1||(R._wD(be.id+": pause()"),be.paused=!0,be.isHTML5?(be._setup_html5().pause(),In()):(ln||ln===a)&&ue._pause(be.id,be._iO.multiShot),be._iO.onpause&&be._iO.onpause.apply(be)),be},this.resume=function(){var ln=be._iO;return be.paused&&(R._wD(be.id+": resume()"),be.paused=!1,be.playState=1,be.isHTML5?(be._setup_html5().play(),Kn()):(ln.isMovieStar&&!ln.serverURL&&be.setPosition(be.position),ue._pause(be.id,ln.multiShot)),!Gi&&ln.onplay?(ln.onplay.apply(be),Gi=!0):ln.onresume&&ln.onresume.apply(be)),be},this.togglePause=function(){return R._wD(be.id+": togglePause()"),be.playState===0?(be.play({position:A!==9||be.isHTML5?be.position/pe:be.position}),be):(be.paused?be.resume():be.pause(),be)},this.setPan=function(ln,dn){return ln===a&&(ln=0),dn===a&&(dn=!1),be.isHTML5||ue._setPan(be.id,ln),be._iO.pan=ln,dn||(be.pan=ln,be.options.pan=ln),be},this.setVolume=function(ln,dn){return ln===a&&(ln=100),dn===a&&(dn=!1),be.isHTML5?be._a&&(R.muted&&!be.muted&&(be.muted=!0,be._a.muted=!0),be._a.volume=Math.max(0,Math.min(1,ln/100))):ue._setVolume(be.id,R.muted&&!be.muted||be.muted?0:ln),be._iO.volume=ln,dn||(be.volume=ln,be.options.volume=ln),be},this.mute=function(){return be.muted=!0,be.isHTML5?be._a&&(be._a.muted=!0):ue._setVolume(be.id,0),be},this.unmute=function(){be.muted=!1;var ln=be._iO.volume!==a;return be.isHTML5?be._a&&(be._a.muted=!1):ue._setVolume(be.id,ln?be._iO.volume:be.options.volume),be},this.toggleMute=function(){return be.muted?be.unmute():be.mute()},this.onPosition=function(ln,dn,hn){return Vr.push({position:parseInt(ln,10),method:dn,scope:hn!==a?hn:be,fired:!1}),be},this.onposition=this.onPosition,this.clearOnPosition=function(ln,dn){var hn;if(ln=parseInt(ln,10),!isNaN(ln))for(hn=0;hn<Vr.length;hn++)ln===Vr[hn].position&&(dn&&dn!==Vr[hn].method||(Vr[hn].fired&&di--,Vr.splice(hn,1)))},this._processOnPosition=function(){var ln,dn,hn=Vr.length;if(!hn||!be.playState||di>=hn)return!1;for(ln=hn-1;ln>=0;ln--)!(dn=Vr[ln]).fired&&be.position>=dn.position&&(dn.fired=!0,di++,dn.method.apply(dn.scope,[dn.position]),hn=Vr.length);return!0},this._resetOnPosition=function(ln){var dn,hn,Hn=Vr.length;if(!Hn)return!1;for(dn=Hn-1;dn>=0;dn--)(hn=Vr[dn]).fired&&ln<=hn.position&&(hn.fired=!1,di--);return!0},Gr=function(){var dn,hn,Hn=be._iO,mr=Hn.from,Fr=Hn.to;return hn=function(){R._wD(be.id+': "To" time of '+Fr+" reached."),be.clearOnPosition(Fr,hn),be.stop()},dn=function(){R._wD(be.id+': Playing "from" '+mr),Fr===null||isNaN(Fr)||be.onPosition(Fr,hn)},mr===null||isNaN(mr)||(Hn.position=mr,Hn.multiShot=!1,dn()),Hn},dr=function(){var dn,hn=be._iO.onposition;if(hn)for(dn in hn)hn.hasOwnProperty(dn)&&be.onPosition(parseInt(dn,10),hn[dn])},An=function(){var dn,hn=be._iO.onposition;if(hn)for(dn in hn)hn.hasOwnProperty(dn)&&be.clearOnPosition(parseInt(dn,10))},Kn=function(){be.isHTML5&&_e(be)},In=function(){be.isHTML5&&Ne(be)},(yt=function(dn){dn||(Vr=[],di=0),Gi=!1,be._hasTimer=null,be._a=null,be._html5_canplay=!1,be.bytesLoaded=null,be.bytesTotal=null,be.duration=be._iO&&be._iO.duration?be._iO.duration:null,be.durationEstimate=null,be.buffered=[],be.eqData=[],be.eqData.left=[],be.eqData.right=[],be.failures=0,be.isBuffering=!1,be.instanceOptions={},be.instanceCount=0,be.loaded=!1,be.metadata={},be.readyState=0,be.muted=!1,be.paused=!1,be.peakData={left:0,right:0},be.waveformData={left:[],right:[]},be.playState=0,be.position=null,be.id3={}})(),this._onTimer=function(ln){var dn,hn,Hn=!1,mr={};return(be._hasTimer||ln)&&be._a&&(ln||(be.playState>0||be.readyState===1)&&!be.paused)&&((dn=be._get_html5_duration())!==Ur.duration&&(Ur.duration=dn,be.duration=dn,Hn=!0),be.durationEstimate=be.duration,(hn=be._a.currentTime*pe||0)!==Ur.time&&(Ur.time=hn,Hn=!0),(Hn||ln)&&be._whileplaying(hn,mr,mr,mr,mr)),Hn},this._get_html5_duration=function(){var ln=be._iO,dn=be._a&&be._a.duration?be._a.duration*pe:ln&&ln.duration?ln.duration:null;return dn&&!isNaN(dn)&&dn!==1/0?dn:null},this._apply_loop=function(ln,dn){!ln.loop&&dn>1&&R._wD("Note: Native HTML5 looping is infinite.",1),ln.loop=dn>1?"loop":""},this._setup_html5=function(ln){var dn,hn=y(be._iO,ln),Hn=Wt?le:be._a,mr=decodeURI(hn.url);if(Wt?mr===decodeURI(wt)&&(dn=!0):mr===decodeURI(Yr)&&(dn=!0),Hn){if(Hn._s){if(Wt)Hn._s&&Hn._s.playState&&!dn&&Hn._s.stop();else if(!Wt&&mr===decodeURI(Yr))return be._apply_loop(Hn,hn.loops),Hn}dn||(Yr&&yt(!1),Hn.src=hn.url,be.url=hn.url,Yr=hn.url,wt=hn.url,Hn._called_load=!1)}else hn.autoLoad||hn.autoPlay?(be._a=new Audio(hn.url),be._a.load()):be._a=mn&&opera.version()<10?new Audio(null):new Audio,(Hn=be._a)._called_load=!1,Wt&&(le=Hn);return be.isHTML5=!0,be._a=Hn,Hn._s=be,en(),be._apply_loop(Hn,hn.loops),hn.autoLoad||hn.autoPlay?be.load():(Hn.autobuffer=!1,Hn.preload="auto"),Hn},en=function(){if(be._a._added_events)return!1;var dn,hn,Hn;for(dn in be._a._added_events=!0,we)we.hasOwnProperty(dn)&&(hn=dn,Hn=we[dn],be._a&&be._a.addEventListener(hn,Hn,!1));return!0},on=function(){var dn,hn,Hn;for(dn in R._wD(be.id+": Removing event listeners"),be._a._added_events=!1,we)we.hasOwnProperty(dn)&&(hn=dn,Hn=we[dn],be._a&&be._a.removeEventListener(hn,Hn,!1))},this._onload=function(ln){var dn,hn=!!ln||!be.isHTML5&&A===8&&be.duration;return dn=be.id+": ",R._wD(dn+(hn?"onload()":"Failed to load / invalid sound?"+(be.duration?" -":" Zero-length duration reported.")+" ("+be.url+")"),hn?1:2),hn||be.isHTML5||(R.sandbox.noRemote===!0&&R._wD(dn+De("noNet"),1),R.sandbox.noLocal===!0&&R._wD(dn+De("noLocal"),1)),be.loaded=hn,be.readyState=hn?3:2,be._onbufferchange(0),hn||be.isHTML5||be._onerror(),be._iO.onload&&Ie(be,function(){be._iO.onload.apply(be,[hn])}),!0},this._onerror=function(ln,dn){be._iO.onerror&&Ie(be,function(){be._iO.onerror.apply(be,[ln,dn])})},this._onbufferchange=function(ln){return!(be.playState===0||ln&&be.isBuffering||!ln&&!be.isBuffering||(be.isBuffering=ln===1,be._iO.onbufferchange&&(R._wD(be.id+": Buffer state change: "+ln),be._iO.onbufferchange.apply(be,[ln])),0))},this._onsuspend=function(){return be._iO.onsuspend&&(R._wD(be.id+": Playback suspended"),be._iO.onsuspend.apply(be)),!0},this._onfailure=function(ln,dn,hn){be.failures++,R._wD(be.id+": Failure ("+be.failures+"): "+ln),be._iO.onfailure&&be.failures===1?be._iO.onfailure(ln,dn,hn):R._wD(be.id+": Ignoring failure")},this._onwarning=function(ln,dn,hn){be._iO.onwarning&&be._iO.onwarning(ln,dn,hn)},this._onfinish=function(){var ln=be._iO.onfinish;be._onbufferchange(0),be._resetOnPosition(0),be.instanceCount&&(be.instanceCount--,be.instanceCount||(An(),be.playState=0,be.paused=!1,be.instanceCount=0,be.instanceOptions={},be._iO={},In(),be.isHTML5&&(be.position=0)),be.instanceCount&&!be._iO.multiShotEvents||ln&&(R._wD(be.id+": onfinish()"),Ie(be,function(){ln.apply(be)})))},this._whileloading=function(ln,dn,hn,Hn){var mr=be._iO;be.bytesLoaded=ln,be.bytesTotal=dn,be.duration=Math.floor(hn),be.bufferLength=Hn,be.isHTML5||mr.isMovieStar?be.durationEstimate=be.duration:mr.duration?be.durationEstimate=be.duration>mr.duration?be.duration:mr.duration:be.durationEstimate=parseInt(be.bytesTotal/be.bytesLoaded*be.duration,10),be.isHTML5||(be.buffered=[{start:0,end:be.duration}]),(be.readyState!==3||be.isHTML5)&&mr.whileloading&&mr.whileloading.apply(be)},this._whileplaying=function(ln,dn,hn,Hn,mr){var Fr,ri=be._iO;return!isNaN(ln)&&ln!==null&&(be.position=Math.max(0,ln),be._processOnPosition(),!be.isHTML5&&A>8&&(ri.usePeakData&&dn!==a&&dn&&(be.peakData={left:dn.leftPeak,right:dn.rightPeak}),ri.useWaveformData&&hn!==a&&hn&&(be.waveformData={left:hn.split(","),right:Hn.split(",")}),ri.useEQData&&mr!==a&&mr&&mr.leftEQ&&(Fr=mr.leftEQ.split(","),be.eqData=Fr,be.eqData.left=Fr,mr.rightEQ!==a&&mr.rightEQ&&(be.eqData.right=mr.rightEQ.split(",")))),be.playState===1&&(be.isHTML5||A!==8||be.position||!be.isBuffering||be._onbufferchange(0),ri.whileplaying&&ri.whileplaying.apply(be)),!0)},this._oncaptiondata=function(ln){R._wD(be.id+": Caption data received."),be.captiondata=ln,be._iO.oncaptiondata&&be._iO.oncaptiondata.apply(be,[ln])},this._onmetadata=function(ln,dn){R._wD(be.id+": Metadata received.");var hn,Hn,mr={};for(hn=0,Hn=ln.length;hn<Hn;hn++)mr[ln[hn]]=dn[hn];be.metadata=mr,be._iO.onmetadata&&be._iO.onmetadata.call(be,be.metadata)},this._onid3=function(ln,dn){R._wD(be.id+": ID3 data received.");var hn,Hn,mr=[];for(hn=0,Hn=ln.length;hn<Hn;hn++)mr[ln[hn]]=dn[hn];be.id3=y(be.id3,mr),be._iO.onid3&&be._iO.onid3.apply(be)},this._onconnect=function(ln){ln=ln===1,R._wD(be.id+": "+(ln?"Connected.":"Failed to connect? - "+be.url),ln?1:2),be.connected=ln,ln&&(be.failures=0,Le(be.id)&&(be.getAutoPlay()?be.play(a,be.getAutoPlay()):be._iO.autoLoad&&be.load()),be._iO.onconnect&&be._iO.onconnect.apply(be,[ln]))},this._ondataerror=function(ln){be.playState>0&&(R._wD(be.id+": Data error: "+ln),be._iO.ondataerror&&be._iO.ondataerror.apply(be))},this._debug()},Y=function(){return Ee.body||Ee.getElementsByTagName("div")[0]},v=function(et){return Ee.getElementById(et)},y=function(gt,et){var yt,en,on=gt||{};for(en in yt=et===a?R.defaultOptions:et)yt.hasOwnProperty(en)&&on[en]===a&&(typeof yt[en]!="object"||yt[en]===null?on[en]=yt[en]:on[en]=y(on[en],yt[en]));return on},Ie=function(et,yt){et.isHTML5||A!==8?yt():l.setTimeout(yt,0)},p={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},u=function(gt,et){var yt,en=!0,on=et!==a,In=R.setupOptions,Kn=p;if(gt===a){for(yt in en=[],In)In.hasOwnProperty(yt)&&en.push(yt);for(yt in Kn)Kn.hasOwnProperty(yt)&&(typeof R[yt]=="object"?en.push(yt+": {...}"):_instanceof(R[yt],Function)?en.push(yt+": function() {...}"):en.push(yt));return R._wD(De("setup",en.join(", "))),!1}for(yt in gt)if(gt.hasOwnProperty(yt))if(typeof gt[yt]!="object"||gt[yt]===null||_instanceof(gt[yt],Array)||_instanceof(gt[yt],RegExp))on&&Kn[et]!==a?R[et][yt]=gt[yt]:In[yt]!==a?(R.setupOptions[yt]=gt[yt],R[yt]=gt[yt]):Kn[yt]===a?(vt(De(R[yt]===a?"setupUndef":"setupError",yt),2),en=!1):_instanceof(R[yt],Function)?R[yt].apply(R,_instanceof(gt[yt],Array)?gt[yt]:[gt[yt]]):R[yt]=gt[yt];else{if(Kn[yt]!==a)return u(gt[yt],yt);vt(De(R[yt]===a?"setupUndef":"setupError",yt),2),en=!1}return en},it=function(){var gt=l.attachEvent,et={add:gt?"attachEvent":"addEventListener",remove:gt?"detachEvent":"removeEventListener"};function yt(on){var In=_n.call(on),Kn=In.length;return gt?(In[1]="on"+In[1],Kn>3&&In.pop()):Kn===3&&In.push(!1),In}function en(on,In){var Kn=on.shift(),dr=[et[In]];gt?Kn[dr](on[0],on[1]):Kn[dr].apply(Kn,on)}return{add:function(){en(yt(arguments),"add")},remove:function(){en(yt(arguments),"remove")}}}(),we={abort:ei(function(){R._wD(this._s.id+": abort")}),canplay:ei(function(){var gt,et=this._s;if(!et._html5_canplay){if(et._html5_canplay=!0,R._wD(et.id+": canplay"),et._onbufferchange(0),gt=et._iO.position===a||isNaN(et._iO.position)?null:et._iO.position/pe,this.currentTime!==gt){R._wD(et.id+": canplay: Setting position to "+gt);try{this.currentTime=gt}catch(yt){R._wD(et.id+": canplay: Setting position of "+gt+" failed: "+yt.message,2)}}et._iO._oncanplay&&et._iO._oncanplay()}}),canplaythrough:ei(function(){var gt=this._s;gt.loaded||(gt._onbufferchange(0),gt._whileloading(gt.bytesLoaded,gt.bytesTotal,gt._get_html5_duration()),gt._onload(!0))}),durationchange:ei(function(){var gt,et=this._s;gt=et._get_html5_duration(),isNaN(gt)||gt===et.duration||(R._wD(this._s.id+": durationchange ("+gt+")"+(et.duration?", previously "+et.duration:"")),et.durationEstimate=et.duration=gt)}),ended:ei(function(){var gt=this._s;R._wD(gt.id+": ended"),gt._onfinish()}),error:ei(function(){var gt=ct[this.error.code]||null;R._wD(this._s.id+": HTML5 error, code "+this.error.code+(gt?" ("+gt+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,gt)}),loadeddata:ei(function(){var gt=this._s;R._wD(gt.id+": loadeddata"),gt._loaded||zt||(gt.duration=gt._get_html5_duration())}),loadedmetadata:ei(function(){R._wD(this._s.id+": loadedmetadata")}),loadstart:ei(function(){R._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:ei(function(){this._s._onbufferchange(0)}),playing:ei(function(){R._wD(this._s.id+": playing \u266B"),this._s._onbufferchange(0)}),progress:ei(function(gt){var et,yt,en,on=this._s,In=0,Kn=gt.type==="progress",dr=gt.target.buffered,An=gt.loaded||0,Gr=gt.total||1;if(on.buffered=[],dr&&dr.length){for(et=0,yt=dr.length;et<yt;et++)on.buffered.push({start:dr.start(et)*pe,end:dr.end(et)*pe});if(In=(dr.end(0)-dr.start(0))*pe,An=Math.min(1,In/(gt.target.duration*pe)),Kn&&dr.length>1){for(en=[],yt=dr.length,et=0;et<yt;et++)en.push(gt.target.buffered.start(et)*pe+"-"+gt.target.buffered.end(et)*pe);R._wD(this._s.id+": progress, timeRanges: "+en.join(", "))}Kn&&!isNaN(An)&&R._wD(this._s.id+": progress, "+Math.floor(100*An)+"% loaded")}isNaN(An)||(on._whileloading(An,Gr,on._get_html5_duration()),An&&Gr&&An===Gr&&we.canplaythrough.call(this,gt))}),ratechange:ei(function(){R._wD(this._s.id+": ratechange")}),suspend:ei(function(gt){var et=this._s;R._wD(this._s.id+": suspend"),we.progress.call(this,gt),et._onsuspend()}),stalled:ei(function(){R._wD(this._s.id+": stalled")}),timeupdate:ei(function(){this._s._onTimer()}),waiting:ei(function(){var gt=this._s;R._wD(this._s.id+": waiting"),gt._onbufferchange(1)})},pt=function(et){return!(!et||!(et.type||et.url||et.serverURL))&&!(et.serverURL||et.type&&ci(et.type))&&(et.type?lt({type:et.type}):lt({url:et.url})||R.html5Only||et.url.match(/data:/i))},ze=function(et){var yt;return et&&(yt=zt?Ri:R.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":Ri,et.src=yt,et._called_unload!==a&&(et._called_load=!1)),Wt&&(wt=null),yt},lt=function(et){if(!R.useHTML5Audio||!R.hasHTML5)return!1;var yt,en,on,In,Kn=et.url||null,dr=et.type||null,An=R.audioFormats;if(dr&&R.html5[dr]!==a)return R.html5[dr]&&!ci(dr);if(!Ge){for(In in Ge=[],An)An.hasOwnProperty(In)&&(Ge.push(In),An[In].related&&(Ge=Ge.concat(An[In].related)));Ge=new RegExp("\\.("+Ge.join("|")+")(\\?.*)?$","i")}return(on=Kn?Kn.toLowerCase().match(Ge):null)&&on.length?on=on[1]:dr?on=((en=dr.indexOf(";"))!==-1?dr.substr(0,en):dr).substr(6):yt=!1,on&&R.html5[on]!==a?yt=R.html5[on]&&!ci(on):(dr="audio/"+on,yt=R.html5.canPlayType({type:dr}),R.html5[on]=yt,yt=yt&&R.html5[dr]&&!ci(dr)),yt},rt=function(){if(!R.useHTML5Audio||!R.hasHTML5)return R.html5.usingFlash=!0,tn=!0,!1;var et,yt,en,on,In=Audio!==a?mn&&opera.version()<10?new Audio(null):new Audio:null,Kn={};function dr(An){var Gr,Ur,_r=!1,be=!1;if(!In||typeof In.canPlayType!="function")return _r;if(_instanceof(An,Array)){for(on=0,Ur=An.length;on<Ur;on++)(R.html5[An[on]]||In.canPlayType(An[on]).match(R.html5Test))&&(be=!0,R.html5[An[on]]=!0,R.flash[An[on]]=!!An[on].match(Li));_r=be}else _r=!(!(Gr=!(!In||typeof In.canPlayType!="function")&&In.canPlayType(An))||!Gr.match(R.html5Test));return _r}for(et in en=R.audioFormats)if(en.hasOwnProperty(et)&&(yt="audio/"+et,Kn[et]=dr(en[et].type),Kn[yt]=Kn[et],et.match(Li)?(R.flash[et]=!0,R.flash[yt]=!0):(R.flash[et]=!1,R.flash[yt]=!1),en[et]&&en[et].related))for(on=en[et].related.length-1;on>=0;on--)Kn["audio/"+en[et].related[on]]=Kn[et],R.html5[en[et].related[on]]=Kn[et],R.flash[en[et].related[on]]=Kn[et];return Kn.canPlayType=In?dr:null,R.html5=y(R.html5,Kn),R.html5.usingFlash=at(),tn=R.html5.usingFlash,!0},Q={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:ve+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:de+"Verify that %s is a valid path.",tryDebug:"Try "+ve+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:de+"Non-HTTP page ("+Ee.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:de+"Special case: Waiting for SWF to load with window focus...",waitForever:de+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:de+"Waiting for 100% SWF load...",needFunction:de+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:de+"_debug(): Current sound objects",waitOnload:de+"Waiting for window.onload()",docLoaded:de+"Document already loaded",onload:de+"initComplete(): calling soundManager.onload()",onloadOK:ve+".onload() complete",didInit:de+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:de+"Failed to remove Flash node.",shutdown:ve+".disable(): Shutting down",queue:de+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+Ve.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:de+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:ve+".load(): current URL already assigned.",badFV:ve+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:de+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:de+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:ve+".setup(): allowed parameters: %s",setupError:ve+'.setup(): "%s" cannot be assigned with this method.',setupUndef:ve+'.setup(): Could not find option "%s"',setupLate:ve+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:de+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. \u2713",reset:ve+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},De=function(){var et,yt,en,on,In;if(on=(et=_n.call(arguments)).shift(),(In=Q&&Q[on]?Q[on]:"")&&et&&et.length)for(yt=0,en=et.length;yt<en;yt++)In=In.replace("%s",et[yt]);return In},ht=function(et){return A===8&&et.loops>1&&et.stream&&(O("as2loop"),et.stream=!1),et},bt=function(et,yt){return et&&!et.usePolicyFile&&(et.onid3||et.usePeakData||et.useWaveformData||et.useEQData)&&(R._wD((yt||"")+De("policy")),et.usePolicyFile=!0),et},vt=function(et){Ln&&console.warn!==a?console.warn(et):R._wD(et)},_=function(){return!1},ae=function(et){var yt;for(yt in et)et.hasOwnProperty(yt)&&typeof et[yt]=="function"&&(et[yt]=_);yt=null},ie=function(et){et===a&&(et=!1),(jt||et)&&R.disable(et)},Oe=function(et){var yt;if(et)if(et.match(/\.swf(\?.*)?$/i)){if(et.substr(et.toLowerCase().lastIndexOf(".swf?")+4))return et}else et.lastIndexOf("/")!==et.length-1&&(et+="/");return yt=(et&&et.lastIndexOf("/")!==-1?et.substr(0,et.lastIndexOf("/")+1):"./")+R.movieURL,R.noSWFCache&&(yt+="?ts="+new Date().getTime()),yt},F=function(){(A=parseInt(R.flashVersion,10))!==8&&A!==9&&(R._wD(De("badFV",A,8)),R.flashVersion=A=8);var et=R.debugMode||R.debugFlash?"_debug.swf":".swf";R.useHTML5Audio&&!R.html5Only&&R.audioFormats.mp4.required&&A<9&&(R._wD(De("needfl9")),R.flashVersion=A=9),R.version=R.versionNumber+(R.html5Only?" (HTML5-only mode)":A===9?" (AS3/Flash 9)":" (AS2/Flash 8)"),A>8?(R.defaultOptions=y(R.defaultOptions,R.flash9Options),R.features.buffering=!0,R.defaultOptions=y(R.defaultOptions,R.movieStarOptions),R.filePatterns.flash9=new RegExp("\\.(mp3|"+qi.join("|")+")(\\?.*)?$","i"),R.features.movieStar=!0):R.features.movieStar=!1,R.filePattern=R.filePatterns[A!==8?"flash9":"flash8"],R.movieURL=(A===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",et),R.features.peakData=R.features.waveformData=R.features.eqData=A>8},G=function(et,yt){ue&&ue._setPolling(et,yt)},J=function(){if(R.debugURLParam.test(ge)&&(R.setupOptions.debugMode=R.debugMode=!0),!v(R.debugID)){var et,yt,en,on,In;if(R.debugMode&&!v(R.debugID)&&(!Ln||!R.useConsole||!R.consoleOnly)){for(In in(et=Ee.createElement("div")).id=R.debugID+"-toggle",on={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},et.appendChild(Ee.createTextNode("-")),et.onclick=Qe,et.title="Toggle SM2 debug console",K.match(/msie 6/i)&&(et.style.position="absolute",et.style.cursor="hand"),on)on.hasOwnProperty(In)&&(et.style[In]=on[In]);if((yt=Ee.createElement("div")).id=R.debugID,yt.style.display=R.debugMode?"block":"none",R.debugMode&&!v(et.id)){try{(en=Y()).appendChild(et)}catch(Kn){throw new Error(De("domError")+" \n"+Kn.toString())}en.appendChild(yt)}}en=null}},Le=this.getSoundById,O=function(et,yt){return et?R._wD(De(et),yt):""},Qe=function(){var et=v(R.debugID),yt=v(R.debugID+"-toggle");et&&(Ye?(yt.innerHTML="+",et.style.display="none"):(yt.innerHTML="-",et.style.display="block"),Ye=!Ye)},E=function(et,yt,en){if(l.sm2Debugger!==a)try{sm2Debugger.handleEvent(et,yt,en)}catch(on){return!1}return!0},tt=function(){var et=[];return R.debugMode&&et.push(Ve.sm2Debug),R.debugFlash&&et.push(Ve.flashDebug),R.useHighPerformance&&et.push(Ve.highPerf),et.join(" ")},ke=function(){var et=De("fbHandler"),yt=R.getMoviePercent(),en=Ve,on={type:"FLASHBLOCK"};R.html5Only||(R.ok()?(R.didFlashBlock&&R._wD(et+": Unblocked"),R.oMC&&(R.oMC.className=[tt(),en.swfDefault,en.swfLoaded+(R.didFlashBlock?" "+en.swfUnblocked:"")].join(" "))):(tn&&(R.oMC.className=tt()+" "+en.swfDefault+" "+(yt===null?en.swfTimedout:en.swfError),R._wD(et+": "+De("fbTimeout")+(yt?" ("+De("fbLoaded")+")":""))),R.didFlashBlock=!0,k({type:"ontimeout",ignoreInit:!0,error:on}),q(on)))},g=function(et,yt,en){Ce[et]===a&&(Ce[et]=[]),Ce[et].push({method:yt,scope:en||null,fired:!1})},k=function(et){if(et||(et={type:R.ok()?"onready":"ontimeout"}),!Tt&&et&&!et.ignoreInit||et.type==="ontimeout"&&(R.ok()||jt&&!et.ignoreInit))return!1;var yt,en,on={success:et&&et.ignoreInit?R.ok():!jt},In=et&&et.type&&Ce[et.type]||[],Kn=[],dr=[on],An=tn&&!R.ok();for(et.error&&(dr[0].error=et.error),yt=0,en=In.length;yt<en;yt++)In[yt].fired!==!0&&Kn.push(In[yt]);if(Kn.length)for(yt=0,en=Kn.length;yt<en;yt++)Kn[yt].scope?Kn[yt].method.apply(Kn[yt].scope,dr):Kn[yt].method.apply(this,dr),An||(Kn[yt].fired=!0);return!0},x=function(){l.setTimeout(function(){R.useFlashBlock&&ke(),k(),typeof R.onload=="function"&&(O("onload",1),R.onload.apply(l),O("onloadOK",1)),R.waitForWindowLoad&&it.add(l,"load",x)},1)},xt=function(){if(_t!==a)return _t;var et,yt,en,on,In=!1,Kn=navigator,dr=l.ActiveXObject;try{on=Kn.plugins}catch(An){on=void 0}if(on&&on.length)yt="application/x-shockwave-flash",(en=Kn.mimeTypes)&&en[yt]&&en[yt].enabledPlugin&&en[yt].enabledPlugin.description&&(In=!0);else if(dr!==a&&!K.match(/MSAppHost/i)){try{et=new dr("ShockwaveFlash.ShockwaveFlash")}catch(An){et=null}In=!!et,et=null}return _t=In,In},at=function(){var et,yt,en=R.audioFormats;if(xe&&K.match(/os (1|2|3_0|3_1)\s/i)?(R.hasHTML5=!1,R.html5Only=!0,R.oMC&&(R.oMC.style.display="none")):R.useHTML5Audio&&(R.html5&&R.html5.canPlayType||(R._wD("SoundManager: No HTML5 Audio() support detected."),R.hasHTML5=!1),qt&&R._wD(de+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(_t?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),R.useHTML5Audio&&R.hasHTML5)for(yt in Pe=!0,en)en.hasOwnProperty(yt)&&en[yt].required&&(R.html5.canPlayType(en[yt].type)?R.preferFlash&&(R.flash[yt]||R.flash[en[yt].type])&&(et=!0):(Pe=!1,et=!0));return R.ignoreFlash&&(et=!1,Pe=!0),R.html5Only=R.hasHTML5&&R.useHTML5Audio&&!et,!R.html5Only},Ke=function(et){var yt,en,on,In=0;if(_instanceof(et,Array)){for(yt=0,en=et.length;yt<en;yt++)if(_instanceof(et[yt],Object)){if(R.canPlayMIME(et[yt].type)){In=yt;break}}else if(R.canPlayURL(et[yt])){In=yt;break}et[In].url&&(et[In]=et[In].url),on=et[In]}else on=et;return on},_e=function(et){et._hasTimer||(et._hasTimer=!0,!bn&&R.html5PollingInterval&&(Bt===null&&gn===0&&(Bt=setInterval(Ze,R.html5PollingInterval)),gn++))},Ne=function(et){et._hasTimer&&(et._hasTimer=!1,!bn&&R.html5PollingInterval&&gn--)},Ze=function(){var et;if(Bt!==null&&!gn)return clearInterval(Bt),void(Bt=null);for(et=R.soundIDs.length-1;et>=0;et--)R.sounds[R.soundIDs[et]].isHTML5&&R.sounds[R.soundIDs[et]]._hasTimer&&R.sounds[R.soundIDs[et]]._onTimer()},q=function(et){et=et!==a?et:{},typeof R.onerror=="function"&&R.onerror.apply(l,[{type:et.type!==a?et.type:null}]),et.fatal!==a&&et.fatal&&R.disable()},ut=function(){if(qt&&xt()){var et,yt,en=R.audioFormats;for(yt in en)if(en.hasOwnProperty(yt)&&(yt==="mp3"||yt==="mp4")&&(R._wD(ve+": Using flash fallback for "+yt+" format"),R.html5[yt]=!1,en[yt]&&en[yt].related))for(et=en[yt].related.length-1;et>=0;et--)R.html5[en[yt].related[et]]=!1}},this._setSandboxType=function(gt){var et=R.sandbox;et.type=gt,et.description=et.types[et.types[gt]!==a?gt:"unknown"],et.type==="localWithFile"?(et.noRemote=!0,et.noLocal=!1,O("secNote",2)):et.type==="localWithNetwork"?(et.noRemote=!1,et.noLocal=!0):et.type==="localTrusted"&&(et.noRemote=!1,et.noLocal=!1)},this._externalInterfaceOK=function(gt){if(!R.swfLoaded){var et;if(E("swf",!0),E("flashtojs",!0),R.swfLoaded=!0,ui=!1,qt&&ut(),!gt||gt.replace(/\+dev/i,"")!==R.versionNumber.replace(/\+dev/i,""))return et=ve+': Fatal: JavaScript file build "'+R.versionNumber+'" does not match Flash SWF build "'+gt+'" at '+R.url+". Ensure both are up-to-date.",void setTimeout(function(){throw new Error(et)},0);setTimeout(w,ot?100:1)}},oe=function(et,yt){if(Be&&Je)return!1;function en(){var hn,Hn=[],mr=[];hn="SoundManager "+R.version+(!R.html5Only&&R.useHTML5Audio?R.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),R.html5Only?R.html5PollingInterval&&Hn.push("html5PollingInterval ("+R.html5PollingInterval+"ms)"):(R.preferFlash&&Hn.push("preferFlash"),R.useHighPerformance&&Hn.push("useHighPerformance"),R.flashPollingInterval&&Hn.push("flashPollingInterval ("+R.flashPollingInterval+"ms)"),R.html5PollingInterval&&Hn.push("html5PollingInterval ("+R.html5PollingInterval+"ms)"),R.wmode&&Hn.push("wmode ("+R.wmode+")"),R.debugFlash&&Hn.push("debugFlash"),R.useFlashBlock&&Hn.push("flashBlock")),Hn.length&&(mr=mr.concat([Hn.join(" + ")])),R._wD(hn+(mr.length?" + "+mr.join(", "):""),1),N()}if(R.html5Only)return F(),en(),R.oMC=v(R.movieID),w(),Be=!0,Je=!0,!1;var on,In,Kn,dr,An,Gr,Ur,_r,be,Gi=yt||R.url,Vr=R.altURL||Gi,di=Y(),Yr=tt(),ln=Ee.getElementsByTagName("html")[0];function dn(hn,Hn){return'<param name="'+hn+'" value="'+Hn+'" />'}if(on=ln&&ln.dir&&ln.dir.match(/rtl/i),et=et===a?R.id:et,F(),R.url=Oe(ho?Gi:Vr),yt=R.url,R.wmode=!R.wmode&&R.useHighPerformance?"transparent":R.wmode,R.wmode!==null&&(K.match(/msie 8/i)||!ot&&!R.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(an.push(Q.spcWmode),R.wmode=null),In={name:et,id:et,src:yt,quality:"high",allowScriptAccess:R.allowScriptAccess,bgcolor:R.bgColor,pluginspage:Zr+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:R.wmode,hasPriority:"true"},R.debugFlash&&(In.FlashVars="debug=1"),R.wmode||delete In.wmode,ot)Kn=Ee.createElement("div"),An=['<object id="'+et+'" data="'+yt+'" type="'+In.type+'" title="'+In.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',dn("movie",yt),dn("AllowScriptAccess",R.allowScriptAccess),dn("quality",In.quality),R.wmode?dn("wmode",R.wmode):"",dn("bgcolor",R.bgColor),dn("hasPriority","true"),R.debugFlash?dn("FlashVars",In.FlashVars):"","</object>"].join("");else for(dr in Kn=Ee.createElement("embed"),In)In.hasOwnProperty(dr)&&Kn.setAttribute(dr,In[dr]);if(J(),Yr=tt(),di=Y())if(R.oMC=v(R.movieID)||Ee.createElement("div"),R.oMC.id)be=R.oMC.className,R.oMC.className=(be?be+" ":Ve.swfDefault)+(Yr?" "+Yr:""),R.oMC.appendChild(Kn),ot&&((Gr=R.oMC.appendChild(Ee.createElement("div"))).className=Ve.swfBox,Gr.innerHTML=An),Je=!0;else{if(R.oMC.id=R.movieID,R.oMC.className=Ve.swfDefault+" "+Yr,Ur=null,Gr=null,R.useFlashBlock||(R.useHighPerformance?Ur={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(Ur={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},on&&(Ur.left=Math.abs(parseInt(Ur.left,10))+"px"))),dt&&(R.oMC.style.zIndex=1e4),!R.debugFlash)for(_r in Ur)Ur.hasOwnProperty(_r)&&(R.oMC.style[_r]=Ur[_r]);try{ot||R.oMC.appendChild(Kn),di.appendChild(R.oMC),ot&&((Gr=R.oMC.appendChild(Ee.createElement("div"))).className=Ve.swfBox,Gr.innerHTML=An),Je=!0}catch(hn){throw new Error(De("domError")+" \n"+hn.toString())}}return Be=!0,en(),!0},H=function(){return R.html5Only?(oe(),!1):!ue&&(R.url?((ue=R.getMovie(R.id))||(Ft?(ot?R.oMC.innerHTML=Dt:R.oMC.appendChild(Ft),Ft=null,Be=!0):oe(R.id,R.url),ue=R.getMovie(R.id)),typeof R.oninitmovie=="function"&&setTimeout(R.oninitmovie,1),qe(),!0):(O("noURL"),!1))},j=function(){setTimeout(L,1e3)},D=function(){l.setTimeout(function(){vt(de+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),R.setup({preferFlash:!1}).reboot(),R.didFlashBlock=!0,R.beginDelayedInit()},1)},L=function(){var et,yt=!1;R.url&&(Jt||(Jt=!0,it.remove(l,"load",j),_t&&ui&&!Nn?O("waitFocus"):(Tt||(et=R.getMoviePercent())>0&&et<100&&(yt=!0),setTimeout(function(){if(et=R.getMoviePercent(),yt)return Jt=!1,R._wD(De("waitSWF")),void l.setTimeout(j,1);Tt||(R._wD(ve+": No Flash response within expected time. Likely causes: "+(et===0?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(R.debugFlash?" "+De("checkSWF"):""),2),!ho&&et&&(O("localFail",2),R.debugFlash||O("tryDebug",2)),et===0&&R._wD(De("swf404",R.url),1),E("flashtojs",!1,": Timed out"+(ho?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!Tt&&Pr&&(et===null?R.useFlashBlock||R.flashLoadTimeout===0?(R.useFlashBlock&&ke(),O("waitForever")):!R.useFlashBlock&&Pe?D():(O("waitForever"),k({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):R.flashLoadTimeout===0?O("waitForever"):!R.useFlashBlock&&Pe?D():ie(!0))},R.flashLoadTimeout))))},X=function(){function gt(){it.remove(l,"focus",X)}return Nn||!ui?(gt(),!0):(Pr=!0,Nn=!0,O("gotFocus"),Jt=!1,j(),gt(),!0)},qe=function(){an.length&&(R._wD("SoundManager 2: "+an.join(" "),1),an=[])},N=function(){qe();var et,yt=[];if(R.useHTML5Audio&&R.hasHTML5){for(et in R.audioFormats)R.audioFormats.hasOwnProperty(et)&&yt.push(et+" = "+R.html5[et]+(!R.html5[et]&&tn&&R.flash[et]?" (using flash)":R.preferFlash&&R.flash[et]&&tn?" (preferring flash)":R.html5[et]?"":" ("+(R.audioFormats[et].required?"required, ":"")+"and no flash support)"));R._wD("SoundManager 2 HTML5 support: "+yt.join(", "),1)}},P=function(et){if(Tt)return!1;if(R.html5Only)return O("sm2Loaded",1),Tt=!0,x(),E("onload",!0),!0;var yt,en=!0;return R.useFlashBlock&&R.flashLoadTimeout&&!R.getMoviePercent()||(Tt=!0),yt={type:!_t&&tn?"NO_FLASH":"INIT_TIMEOUT"},R._wD("SoundManager 2 "+(jt?"failed to load":"loaded")+" ("+(jt?"Flash security/load error":"OK")+") "+String.fromCharCode(jt?10006:10003),jt?2:1),jt||et?(R.useFlashBlock&&R.oMC&&(R.oMC.className=tt()+" "+(R.getMoviePercent()===null?Ve.swfTimedout:Ve.swfError)),k({type:"ontimeout",error:yt,ignoreInit:!0}),E("onload",!1),q(yt),en=!1):E("onload",!0),jt||(R.waitForWindowLoad&&!Et?(O("waitOnload"),it.add(l,"load",x)):(R.waitForWindowLoad&&Et&&O("docLoaded"),x())),en},b=function(){var et,yt=R.setupOptions;for(et in yt)yt.hasOwnProperty(et)&&(R[et]===a?R[et]=yt[et]:R[et]!==yt[et]&&(R.setupOptions[et]=R[et]))},w=function(){if(Tt)return O("didInit"),!1;function et(){it.remove(l,"load",R.beginDelayedInit)}if(R.html5Only)return Tt||(et(),R.enabled=!0,P()),!0;H();try{ue._externalInterfaceTest(!1),G(!0,R.flashPollingInterval||(R.useHighPerformance?10:50)),R.debugMode||ue._disableDebug(),R.enabled=!0,E("jstoflash",!0),R.html5Only||it.add(l,"unload",_)}catch(yt){return R._wD("js/flash exception: "+yt.toString()),E("jstoflash",!1),q({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),ie(!0),P(),!1}return P(),et(),!0},ce=function(){return!V&&(V=!0,b(),J(),!_t&&R.hasHTML5&&(R._wD("SoundManager 2: No Flash detected"+(R.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),R.setup({useHTML5Audio:!0,preferFlash:!1})),rt(),!_t&&tn&&(an.push(Q.needFlash),R.setup({flashLoadTimeout:1})),Ee.removeEventListener&&Ee.removeEventListener("DOMContentLoaded",ce,!1),H(),!0)},He=function(){return Ee.readyState==="complete"&&(ce(),Ee.detachEvent("onreadystatechange",He)),!0},ne=function(){Et=!0,ce(),it.remove(l,"load",ne)},xt(),it.add(l,"focus",X),it.add(l,"load",j),it.add(l,"load",ne),Ee.addEventListener?Ee.addEventListener("DOMContentLoaded",ce,!1):Ee.attachEvent?Ee.attachEvent("onreadystatechange",He):(E("onload",!1),q({type:"NO_DOM2_EVENTS",fatal:!0}))};if(!l||!l.document)throw new Error("SoundManager requires a browser with window and document objects.");var r=null;l.SM2_DEFER!==a&&SM2_DEFER||(r=new s),t&&typeof t.exports=="object"?(t.exports.SoundManager=s,t.exports.soundManager=r):(o=function(){return{constructor:s,getInstance:function(d){if(!l.soundManager&&_instanceof(d,Function)){var h=d(s);_instanceof(h,s)&&(l.soundManager=h)}return l.soundManager}}}.call(e,n,e,t))===void 0||(t.exports=o),l.SoundManager=s,l.soundManager=r}(window)},6585:function(t,e,n){"use strict";var o=n(9989),l=n(9419).entries;o({target:"Object",stat:!0},{entries:function(s){return l(s)}})}},function(t){t(t.s=2862)}])}),Og={},$7(Og,{default:function(){return Eg}}),N7=Cg(Ag()),B7(Og,Cg(Ag()));var m;Wn=N7,m=Wn,jg=m.default,z7=Ai(Wn,["default"]),Eg=jg!==void 0?jg:z7}}),H7={};ai(H7,{default:function(){return Eg}});var iP=Mt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-80/BookReader/plugins/plugin.tts.js":function(){F7(),F7()}}),U7,vh,V7,W7,q7,G7,Y7,X7,gh,K7,Tg,Pg,Ig,Q7,Wn,Mg,J7,Lg,Z7=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-80/esnext/BookReader/plugins/plugin.url.js":function(){U7=Object.create,vh=Object.defineProperty,V7=Object.getOwnPropertyDescriptor,W7=Object.getOwnPropertyNames,q7=Object.getPrototypeOf,G7=Object.prototype.hasOwnProperty,Y7=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},X7=function(t,e){for(var n in e)vh(t,n,{get:e[n],enumerable:!0})},gh=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!G7.call(t,v)&&v!==n&&vh(t,v,{get:function(){return e[v]},enumerable:!(o=V7(e,v))||o.enumerable})},c=W7(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},K7=function(t,e,n){return gh(t,e,"default"),n&&gh(n,e,"default")},Tg=function(t,e,n){return n=t!=null?U7(q7(t)):{},gh(e||!t||!t.__esModule?vh(n,"default",{value:t,enumerable:!0}):n,t)},Pg=Y7(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[336],{1226:function(t,e,n){var o=function(w,A){(A==null||A>w.length)&&(A=w.length);for(var E=0,O=new Array(A);E<A;E++)O[E]=w[E];return O},l=function(w,A){for(var E=0;E<A.length;E++){var O=A[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,(P=function(y,u){if(s(y)!=="object"||y===null)return y;var p=y[Symbol.toPrimitive];if(p!==void 0){var g=p.call(y,"string");if(s(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}(O.key),s(P)==="symbol"?P:String(P)),O)}var P},a=function(w,A){for(var E=0;E<A.length;E++){var O=A[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,(P=function(y,u){if(d(y)!=="object"||y===null)return y;var p=y[Symbol.toPrimitive];if(p!==void 0){var g=p.call(y,"string");if(d(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}(O.key),d(P)==="symbol"?P:String(P)),O)}var P};function s(b){return s=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(A){return typeof A=="undefined"?"undefined":_typeof(A)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w=="undefined"?"undefined":_typeof(w)},s(b)}n(278),n(228),n(4043),n(7267),n(4338),n(752),n(1694),n(6265),n(9307),n(8052),n(50),n(2349),n(1919),n(9373),n(9903),n(9749),n(6544),n(9288),n(4254),n(7522),n(9358),n(5728),n(4284),n(6203),n(886),n(8077),n(2826),n(8730),n(5415),n(2462),n(6585),n(8436),n(1514),n(9730),n(7049);var r,c=function(){function b(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(O,P){if(!_instanceof(O,P))throw new TypeError("Cannot call a class as a function")})(this,b),this.bookReaderOptions=E,this.urlSchema=[{name:"page",position:"path",default:"n0"},{name:"mode",position:"path",default:"2up"},{name:"search",position:"path",deprecated_for:"q"},{name:"q",position:"query_param"},{name:"sort",position:"query_param"},{name:"view",position:"query_param"},{name:"admin",position:"query_param"}],this.urlState={},this.urlMode=this.bookReaderOptions.urlMode||"hash",this.urlHistoryBasePath=this.bookReaderOptions.urlHistoryBasePath||"/",this.urlLocationPollId=null,this.oldLocationHash=null,this.oldUserHash=null}var w,A;return w=b,A=[{key:"urlStateToUrlString",value:function(O){var P=this,y=new URLSearchParams,u={};Object.keys(O).forEach(function(x){var j,L,D,F,X=P.urlSchema.find(function(Q){return Q.name===x});(j=X)!==null&&j!==void 0&&j.deprecated_for&&(X=P.urlSchema.find(function(Q){return Q.name===X.deprecated_for})),((L=X)===null||L===void 0?void 0:L.position)=="path"?u[(D=X)===null||D===void 0?void 0:D.name]=O[x]:y.append(((F=X)===null||F===void 0?void 0:F.name)||x,O[x])});var p=this.urlSchema.filter(function(x){return x.position=="path"}).map(function(x){return u[x.name]?"".concat(x.name,"/").concat(encodeURIComponent(u[x.name])):""}).join("/"),g="".concat(p.replace(/\/+/g,"/").replace(/\/+$/,"")),k="".concat(g,"?").concat(y.toString());return y.toString()?k:"".concat(g)}},{key:"urlStringToUrlState",value:function(O){var P={},y=new URL(O,"http://example.com"),u=Object.fromEntries(y.searchParams.entries()),p=y.pathname.match(/[^\\/]+\/[^\\/]+/g),g=p?Object.fromEntries(p.map(function(x){return x.split("/")})):{},k=function(j,L){return Object.keys(j).some(function(D){return D==L})};return this.urlSchema.filter(function(x){return x.position=="path"}).forEach(function(x){var j=k(g,x.name),L=k(x,"deprecated_for")&&j;if(j||L){var D=L?x.deprecated_for:x.name;P[D]=decodeURIComponent(g[x.name])}}),Object.entries(u).forEach(function(x){var j,L,D=(L=2,function(Q){if(Array.isArray(Q))return Q}(j=x)||function(Q,H){var ce=Q==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Q[Symbol.iterator]||Q["@@iterator"];if(ce!=null){var ne,V,Y,oe,q=[],G=!0,J=!1;try{if(Y=(ce=ce.call(Q)).next,H===0){if(Object(ce)!==ce)return;G=!1}else for(;!(G=(ne=Y.call(ce)).done)&&(q.push(ne.value),q.length!==H);G=!0);}catch(ae){J=!0,V=ae}finally{try{if(!G&&ce.return!=null&&(oe=ce.return(),Object(oe)!==oe))return}finally{if(J)throw V}}return q}}(j,L)||function(Q,H){if(Q){if(typeof Q=="string")return o(Q,H);var ce=Object.prototype.toString.call(Q).slice(8,-1);return ce==="Object"&&Q.constructor&&(ce=Q.constructor.name),ce==="Map"||ce==="Set"?Array.from(Q):ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce)?o(Q,H):void 0}}(j,L)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),F=D[0],X=D[1];P[F]=X}),P}},{key:"setUrlParam",value:function(O,P){this.urlState[O]=P,this.pushToAddressBar()}},{key:"removeUrlParam",value:function(O){delete this.urlState[O],this.pushToAddressBar()}},{key:"getUrlParam",value:function(O){return this.urlState[O]}},{key:"pushToAddressBar",value:function(){var O=this.urlStateToUrlString(this.urlState),P=O!=="/"?O:"";if(this.urlMode=="history")if(window.history&&window.history.replaceState){var y="".concat(this.urlHistoryBasePath).concat(P).trim().replace(/(\/+)/g,"/");try{window.history.replaceState({},null,y)}catch(u){this.urlMode="hash"}}else this.options.urlMode="hash";this.urlMode=="hash"&&window.location.replace("#"+P),this.oldLocationHash=O}},{key:"listenForHashChanges",value:function(){var O=this;this.oldLocationHash=window.location.hash.substr(1),this.urlLocationPollId&&(clearInterval(this.urlLocationPollId),this.urlLocationPollId=null),this.urlLocationPollId=setInterval(function(){var P=window.location.hash.substr(1);P!=O.oldLocationHash&&(O.urlState=O.urlStringToUrlState(P))},500)}},{key:"pullFromAddressBar",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.location,P=this.urlMode==="history"?O.pathname.substr(this.urlHistoryBasePath.length)+O.search:O.hash.substr(1);this.urlState=this.urlStringToUrlState(P)}}],A&&l(w.prototype,A),Object.defineProperty(w,"prototype",{writable:!1}),b}();function d(b){return d=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(A){return typeof A=="undefined"?"undefined":_typeof(A)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w=="undefined"?"undefined":_typeof(w)},d(b)}function h(){return h=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(w,A,E){var O=function(y,u){for(;!Object.prototype.hasOwnProperty.call(y,u)&&(y=v(y))!==null;);return y}(w,A);if(O){var P=Object.getOwnPropertyDescriptor(O,A);return P.get?P.get.call(arguments.length<3?w:E):P.value}},h.apply(this,arguments)}function f(b,w){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,O){return E.__proto__=O,E},f(b,w)}function v(b){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},v(b)}n(5311).extend(BookReader.defaultOptions,{enableUrlPlugin:!0,bookId:"",defaults:null,updateWindowTitle:!1,urlMode:"hash",urlHistoryBasePath:"/",urlTrackedParams:["page","search","mode","region","highlight","view"],urlTrackIndex0:!1}),BookReader.prototype.setup=(r=BookReader.prototype.setup,function(b){r.call(this,b),this.bookId=b.bookId,this.defaults=b.defaults,this.locationPollId=null,this.oldLocationHash=null,this.oldUserHash=null}),BookReader.prototype.init=function(b){return function(){var w=this;this.options.enableUrlPlugin&&(this.bind(BookReader.eventNames.PostInit,function(){var A=w.options,E=A.updateWindowTitle,O=A.urlMode;E&&(document.title=w.shortTitle(w.bookTitle,50)),O==="hash"&&w.urlStartLocationPolling()}),this.bind(BookReader.eventNames.fragmentChange,this.urlUpdateFragment.bind(this))),b.call(this)}}(BookReader.prototype.init),BookReader.prototype.shortTitle=function(b){return this.bookTitle.length<b?this.bookTitle:"".concat(this.bookTitle.substr(0,b-3),"...")},BookReader.prototype.urlStartLocationPolling=function(){var b=this;this.oldLocationHash=this.urlReadFragment(),this.locationPollId&&(clearInterval(this.locationPollId),this.locationPollId=null),this.locationPollId=setInterval(function(){var w=b.urlReadFragment();if(w!=b.oldLocationHash&&w!=b.oldUserHash){var A=b.paramsFromFragment(w),E=function(){return b.updateFromParams(A)};b.trigger(BookReader.eventNames.stop),b.animating?(b.autoStop&&b.autoStop(),b.animationFinishedCallback=E):E(),b.oldUserHash=w}},500)},BookReader.prototype.urlUpdateFragment=function(){var b=this.paramsFromCurrent(),w=this.options,A=w.urlTrackIndex0,E=w.urlTrackedParams;A||b.index===void 0||b.index!==0||(delete b.index,delete b.page);var O=E.reduce(function(L,D){return D in b&&(L[D]=b[D]),L},{}),P=this.fragmentFromParams(O,this.options.urlMode),y=this.urlReadFragment(),u=this.getLocationSearch(),p=this.queryStringFromParams(O,u,this.options.urlMode);if(y!==P||u!==p){if(this.options.urlMode==="history")if(window.history&&window.history.replaceState){var g=this.options.urlHistoryBasePath.replace(/\/+$/,""),k=P===""?"":"/".concat(P),x="".concat(g).concat(k).concat(p);try{window.history.replaceState({},null,x),this.oldLocationHash=P+p}catch(L){this.options.urlMode="hash"}}else this.options.urlMode="hash";if(this.options.urlMode==="hash"){var j=this.urlParamsFiltersOnlySearch(this.readQueryString());window.location.replace("#"+P+j),this.oldLocationHash=P+j}}},BookReader.prototype.urlParamsFiltersOnlySearch=function(b){var w=new URLSearchParams(b);return w.has("q")?"?".concat(new URLSearchParams({q:w.get("q")})):""},BookReader.prototype.urlReadFragment=function(){var b=this.options,w=b.urlMode,A=b.urlHistoryBasePath;return w==="history"?window.location.pathname.substr(A.length):window.location.hash.substr(1)},BookReader.prototype.urlReadHashFragment=function(){return window.location.hash.substr(1)};var _=function(b){(function(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),p&&f(u,p)})(y,BookReader);var w,A,E,O,P=(E=y,O=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(u){return!1}}(),function(){var p,g=v(E);if(O){var k=v(this).constructor;p=Reflect.construct(g,arguments,k)}else p=g.apply(this,arguments);return function(x,j){if(j&&(d(j)==="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}(x)}(this,p)});function y(){return function(u,p){if(!_instanceof(u,p))throw new TypeError("Cannot call a class as a function")}(this,y),P.apply(this,arguments)}return w=y,(A=[{key:"init",value:function(){var p=this;this.options.enableUrlPlugin&&(this.urlPlugin=new c(this.options),this.bind(BookReader.eventNames.PostInit,function(){p.options.urlMode==="hash"&&p.urlPlugin.listenForHashChanges()})),h(v(y.prototype),"init",this).call(this)}}])&&a(w.prototype,A),Object.defineProperty(w,"prototype",{writable:!1}),y}();window.BookReader=_},6430:function(t,e,n){var o=n(8844),l=2147483647,a=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,r="Overflow: input needs wider integers to process",c=RangeError,d=o(s.exec),h=Math.floor,f=String.fromCharCode,v=o("".charCodeAt),_=o([].join),b=o([].push),w=o("".replace),A=o("".split),E=o("".toLowerCase),O=function(p){return p+22+75*(p<26)},P=function(p,g,k){var x=0;for(p=k?h(p/700):p>>1,p+=h(p/g);p>455;)p=h(p/35),x+=36;return h(x+36*p/(p+38))},y=function(p){var g=[];p=function(G){for(var J=[],ae=0,ie=G.length;ae<ie;){var Oe=v(G,ae++);if(Oe>=55296&&Oe<=56319&&ae<ie){var De=v(G,ae++);(64512&De)==56320?b(J,((1023&Oe)<<10)+(1023&De)+65536):(b(J,Oe),ae--)}else b(J,Oe)}return J}(p);var k,x,j=p.length,L=128,D=0,F=72;for(k=0;k<p.length;k++)(x=p[k])<128&&b(g,f(x));var X=g.length,Q=X;for(X&&b(g,"-");Q<j;){var H=l;for(k=0;k<p.length;k++)(x=p[k])>=L&&x<H&&(H=x);var ce=Q+1;if(H-L>h((l-D)/ce))throw new c(r);for(D+=(H-L)*ce,L=H,k=0;k<p.length;k++){if((x=p[k])<L&&++D>l)throw new c(r);if(x===L){for(var ne=D,V=36;;){var Y=V<=F?1:V>=F+26?26:V-F;if(ne<Y)break;var oe=ne-Y,q=36-Y;b(g,f(O(Y+oe%q))),ne=h(oe/q),V+=36}b(g,f(O(ne))),F=P(D,ce,Q===X),D=0,Q++}}D++,L++}return _(g,"")};t.exports=function(u){var p,g,k=[],x=A(w(E(u),s,"."),".");for(p=0;p<x.length;p++)g=x[p],b(k,d(a,g)?"xn--"+y(g):g);return _(k,".")}},5984:function(t,e,n){var o=n(1236).PROPER,l=n(3689),a=n(6350);t.exports=function(s){return l(function(){return!!a[s]()||"\u200B\x85\u180E"[s]()!=="\u200B\x85\u180E"||o&&a[s].name!==s})}},6585:function(t,e,n){var o=n(9989),l=n(9419).entries;o({target:"Object",stat:!0},{entries:function(s){return l(s)}})},5415:function(t,e,n){var o=n(9989),l=n(8734),a=n(6522);o({target:"Object",stat:!0},{fromEntries:function(r){var c={};return l(r,function(d,h){a(c,d,h)},{AS_ENTRIES:!0}),c}})},8436:function(t,e,n){var o=n(9989),l=n(1435).trim;o({target:"String",proto:!0,forced:n(5984)("trim")},{trim:function(){return l(this)}})},9391:function(t,e,n){n(1694);var o,l=n(9989),a=n(7697),s=n(6837),r=n(9037),c=n(4071),d=n(8844),h=n(1880),f=n(2148),v=n(767),_=n(6812),b=n(5394),w=n(1055),A=n(9015),E=n(730).codeAt,O=n(6430),P=n(4327),y=n(5997),u=n(1500),p=n(2625),g=n(618),k=g.set,x=g.getterFor("URL"),j=p.URLSearchParams,L=p.getState,D=r.URL,F=r.TypeError,X=r.parseInt,Q=Math.floor,H=Math.pow,ce=d("".charAt),ne=d(/./.exec),V=d([].join),Y=d(1 .toString),oe=d([].pop),q=d([].push),G=d("".replace),J=d([].shift),ae=d("".split),ie=d("".slice),Oe=d("".toLowerCase),De=d([].unshift),ke="Invalid scheme",tt="Invalid host",Ve="Invalid port",Qe=/[a-z]/i,ht=/[\d+-.a-z]/i,bt=/\d/,vt=/^0x/i,Le=/^[0-7]+$/,_e=/^\d+$/,Ne=/^[\da-f]+$/i,Ze=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Ke=/[\0\t\n\r #/:<>?@[\\\]^|]/,Pe=/^[\u0000-\u0020]+/,at=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,pt=/[\t\n\r]/g,lt=function(Bt){var an,tn,_n,Wt;if(typeof Bt=="number"){for(an=[],tn=0;tn<4;tn++)De(an,Bt%256),Bt=Q(Bt/256);return V(an,".")}if(typeof Bt=="object"){for(an="",_n=function(Re){for(var pe=null,xe=1,$e=null,ot=0,dt=0;dt<8;dt++)Re[dt]!==0?(ot>xe&&(pe=$e,xe=ot),$e=null,ot=0):($e===null&&($e=dt),++ot);return ot>xe&&(pe=$e,xe=ot),pe}(Bt),tn=0;tn<8;tn++)Wt&&Bt[tn]===0||(Wt&&(Wt=!1),_n===tn?(an+=tn?":":"::",Wt=!0):(an+=Y(Bt[tn],16),tn<7&&(an+=":")));return"["+an+"]"}return Bt},ct={},Ge=b({},ct,{" ":1,'"':1,"<":1,">":1,"`":1}),ze=b({},Ge,{"#":1,"?":1,"{":1,"}":1}),He=b({},ze,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),rt=function(Bt,an){var tn=E(Bt,0);return tn>32&&tn<127&&!_(an,Bt)?Bt:encodeURIComponent(Bt)},it={ftp:21,file:null,http:80,https:443,ws:80,wss:443},wt=function(Bt,an){var tn;return Bt.length===2&&ne(Qe,ce(Bt,0))&&((tn=ce(Bt,1))===":"||!an&&tn==="|")},_t=function(Bt){var an;return Bt.length>1&&wt(ie(Bt,0,2))&&(Bt.length===2||(an=ce(Bt,2))==="/"||an==="\\"||an==="?"||an==="#")},xt=function(Bt){return Bt==="."||Oe(Bt)==="%2e"},ut={},we={},N={},qe={},Ie={},nt={},R={},le={},ue={},ve={},de={},K={},ge={},Ee={},Ce={},Ye={},Be={},Je={},Tt={},jt={},Et={},Zt=function(gn,Bt,an){var tn,_n,Wt,Re=P(gn);if(Bt){if(_n=this.parse(Re))throw new F(_n);this.searchParams=null}else{if(an!==void 0&&(tn=new Zt(an,!0)),_n=this.parse(Re,null,tn))throw new F(_n);(Wt=L(new j)).bindURL(this),this.searchParams=Wt}};Zt.prototype={type:"URL",parse:function(Bt,an,tn){var _n,Wt,Re,pe,xe,$e=this,ot=an||ut,dt=0,zt="",mn=!1,bn=!1,qt=!1;for(Bt=P(Bt),an||($e.scheme="",$e.username="",$e.password="",$e.host=null,$e.port=null,$e.path=[],$e.query=null,$e.fragment=null,$e.cannotBeABaseURL=!1,Bt=G(Bt,Pe,""),Bt=G(Bt,at,"$1")),Bt=G(Bt,pt,""),_n=w(Bt);dt<=_n.length;){switch(Wt=_n[dt],ot){case ut:if(!Wt||!ne(Qe,Wt)){if(an)return ke;ot=N;continue}zt+=Oe(Wt),ot=we;break;case we:if(Wt&&(ne(ht,Wt)||Wt==="+"||Wt==="-"||Wt==="."))zt+=Oe(Wt);else{if(Wt!==":"){if(an)return ke;zt="",ot=N,dt=0;continue}if(an&&($e.isSpecial()!==_(it,zt)||zt==="file"&&($e.includesCredentials()||$e.port!==null)||$e.scheme==="file"&&!$e.host))return;if($e.scheme=zt,an)return void($e.isSpecial()&&it[$e.scheme]===$e.port&&($e.port=null));zt="",$e.scheme==="file"?ot=Ee:$e.isSpecial()&&tn&&tn.scheme===$e.scheme?ot=qe:$e.isSpecial()?ot=le:_n[dt+1]==="/"?(ot=Ie,dt++):($e.cannotBeABaseURL=!0,q($e.path,""),ot=Tt)}break;case N:if(!tn||tn.cannotBeABaseURL&&Wt!=="#")return ke;if(tn.cannotBeABaseURL&&Wt==="#"){$e.scheme=tn.scheme,$e.path=A(tn.path),$e.query=tn.query,$e.fragment="",$e.cannotBeABaseURL=!0,ot=Et;break}ot=tn.scheme==="file"?Ee:nt;continue;case qe:if(Wt!=="/"||_n[dt+1]!=="/"){ot=nt;continue}ot=ue,dt++;break;case Ie:if(Wt==="/"){ot=ve;break}ot=Je;continue;case nt:if($e.scheme=tn.scheme,Wt===o)$e.username=tn.username,$e.password=tn.password,$e.host=tn.host,$e.port=tn.port,$e.path=A(tn.path),$e.query=tn.query;else if(Wt==="/"||Wt==="\\"&&$e.isSpecial())ot=R;else if(Wt==="?")$e.username=tn.username,$e.password=tn.password,$e.host=tn.host,$e.port=tn.port,$e.path=A(tn.path),$e.query="",ot=jt;else{if(Wt!=="#"){$e.username=tn.username,$e.password=tn.password,$e.host=tn.host,$e.port=tn.port,$e.path=A(tn.path),$e.path.length--,ot=Je;continue}$e.username=tn.username,$e.password=tn.password,$e.host=tn.host,$e.port=tn.port,$e.path=A(tn.path),$e.query=tn.query,$e.fragment="",ot=Et}break;case R:if(!$e.isSpecial()||Wt!=="/"&&Wt!=="\\"){if(Wt!=="/"){$e.username=tn.username,$e.password=tn.password,$e.host=tn.host,$e.port=tn.port,ot=Je;continue}ot=ve}else ot=ue;break;case le:if(ot=ue,Wt!=="/"||ce(zt,dt+1)!=="/")continue;dt++;break;case ue:if(Wt!=="/"&&Wt!=="\\"){ot=ve;continue}break;case ve:if(Wt==="@"){mn&&(zt="%40"+zt),mn=!0,Re=w(zt);for(var Ln=0;Ln<Re.length;Ln++){var Nn=Re[Ln];if(Nn!==":"||qt){var ui=rt(Nn,He);qt?$e.password+=ui:$e.username+=ui}else qt=!0}zt=""}else if(Wt===o||Wt==="/"||Wt==="?"||Wt==="#"||Wt==="\\"&&$e.isSpecial()){if(mn&&zt==="")return"Invalid authority";dt-=w(zt).length+1,zt="",ot=de}else zt+=Wt;break;case de:case K:if(an&&$e.scheme==="file"){ot=Ye;continue}if(Wt!==":"||bn){if(Wt===o||Wt==="/"||Wt==="?"||Wt==="#"||Wt==="\\"&&$e.isSpecial()){if($e.isSpecial()&&zt==="")return tt;if(an&&zt===""&&($e.includesCredentials()||$e.port!==null))return;if(pe=$e.parseHost(zt))return pe;if(zt="",ot=Be,an)return;continue}Wt==="["?bn=!0:Wt==="]"&&(bn=!1),zt+=Wt}else{if(zt==="")return tt;if(pe=$e.parseHost(zt))return pe;if(zt="",ot=ge,an===K)return}break;case ge:if(!ne(bt,Wt)){if(Wt===o||Wt==="/"||Wt==="?"||Wt==="#"||Wt==="\\"&&$e.isSpecial()||an){if(zt!==""){var Pr=X(zt,10);if(Pr>65535)return Ve;$e.port=$e.isSpecial()&&Pr===it[$e.scheme]?null:Pr,zt=""}if(an)return;ot=Be;continue}return Ve}zt+=Wt;break;case Ee:if($e.scheme="file",Wt==="/"||Wt==="\\")ot=Ce;else{if(!tn||tn.scheme!=="file"){ot=Je;continue}switch(Wt){case o:$e.host=tn.host,$e.path=A(tn.path),$e.query=tn.query;break;case"?":$e.host=tn.host,$e.path=A(tn.path),$e.query="",ot=jt;break;case"#":$e.host=tn.host,$e.path=A(tn.path),$e.query=tn.query,$e.fragment="",ot=Et;break;default:_t(V(A(_n,dt),""))||($e.host=tn.host,$e.path=A(tn.path),$e.shortenPath()),ot=Je;continue}}break;case Ce:if(Wt==="/"||Wt==="\\"){ot=Ye;break}tn&&tn.scheme==="file"&&!_t(V(A(_n,dt),""))&&(wt(tn.path[0],!0)?q($e.path,tn.path[0]):$e.host=tn.host),ot=Je;continue;case Ye:if(Wt===o||Wt==="/"||Wt==="\\"||Wt==="?"||Wt==="#"){if(!an&&wt(zt))ot=Je;else if(zt===""){if($e.host="",an)return;ot=Be}else{if(pe=$e.parseHost(zt))return pe;if($e.host==="localhost"&&($e.host=""),an)return;zt="",ot=Be}continue}zt+=Wt;break;case Be:if($e.isSpecial()){if(ot=Je,Wt!=="/"&&Wt!=="\\")continue}else if(an||Wt!=="?")if(an||Wt!=="#"){if(Wt!==o&&(ot=Je,Wt!=="/"))continue}else $e.fragment="",ot=Et;else $e.query="",ot=jt;break;case Je:if(Wt===o||Wt==="/"||Wt==="\\"&&$e.isSpecial()||!an&&(Wt==="?"||Wt==="#")){if((xe=Oe(xe=zt))===".."||xe==="%2e."||xe===".%2e"||xe==="%2e%2e"?($e.shortenPath(),Wt==="/"||Wt==="\\"&&$e.isSpecial()||q($e.path,"")):xt(zt)?Wt==="/"||Wt==="\\"&&$e.isSpecial()||q($e.path,""):($e.scheme==="file"&&!$e.path.length&&wt(zt)&&($e.host&&($e.host=""),zt=ce(zt,0)+":"),q($e.path,zt)),zt="",$e.scheme==="file"&&(Wt===o||Wt==="?"||Wt==="#"))for(;$e.path.length>1&&$e.path[0]==="";)J($e.path);Wt==="?"?($e.query="",ot=jt):Wt==="#"&&($e.fragment="",ot=Et)}else zt+=rt(Wt,ze);break;case Tt:Wt==="?"?($e.query="",ot=jt):Wt==="#"?($e.fragment="",ot=Et):Wt!==o&&($e.path[0]+=rt(Wt,ct));break;case jt:an||Wt!=="#"?Wt!==o&&(Wt==="'"&&$e.isSpecial()?$e.query+="%27":$e.query+=Wt==="#"?"%23":rt(Wt,ct)):($e.fragment="",ot=Et);break;case Et:Wt!==o&&($e.fragment+=rt(Wt,Ge))}dt++}},parseHost:function(Bt){var an,tn,_n;if(ce(Bt,0)==="["){if(ce(Bt,Bt.length-1)!=="]"||(an=function(Wt){var Re,pe,xe,$e,ot,dt,zt,mn=[0,0,0,0,0,0,0,0],bn=0,qt=null,Ln=0,Nn=function(){return ce(Wt,Ln)};if(Nn()===":"){if(ce(Wt,1)!==":")return;Ln+=2,qt=++bn}for(;Nn();){if(bn===8)return;if(Nn()!==":"){for(Re=pe=0;pe<4&&ne(Ne,Nn());)Re=16*Re+X(Nn(),16),Ln++,pe++;if(Nn()==="."){if(pe===0||(Ln-=pe,bn>6))return;for(xe=0;Nn();){if($e=null,xe>0){if(!(Nn()==="."&&xe<4))return;Ln++}if(!ne(bt,Nn()))return;for(;ne(bt,Nn());){if(ot=X(Nn(),10),$e===null)$e=ot;else{if($e===0)return;$e=10*$e+ot}if($e>255)return;Ln++}mn[bn]=256*mn[bn]+$e,++xe!=2&&xe!==4||bn++}if(xe!==4)return;break}if(Nn()===":"){if(Ln++,!Nn())return}else if(Nn())return;mn[bn++]=Re}else{if(qt!==null)return;Ln++,qt=++bn}}if(qt!==null)for(dt=bn-qt,bn=7;bn!==0&&dt>0;)zt=mn[bn],mn[bn--]=mn[qt+dt-1],mn[qt+--dt]=zt;else if(bn!==8)return;return mn}(ie(Bt,1,-1)),!an))return tt;this.host=an}else if(this.isSpecial()){if(Bt=O(Bt),ne(Ze,Bt)||(an=function(Wt){var Re,pe,xe,$e,ot,dt,zt,mn=ae(Wt,".");if(mn.length&&mn[mn.length-1]===""&&mn.length--,(Re=mn.length)>4)return Wt;for(pe=[],xe=0;xe<Re;xe++){if(($e=mn[xe])==="")return Wt;if(ot=10,$e.length>1&&ce($e,0)==="0"&&(ot=ne(vt,$e)?16:8,$e=ie($e,ot===8?1:2)),$e==="")dt=0;else{if(!ne(ot===10?_e:ot===8?Le:Ne,$e))return Wt;dt=X($e,ot)}q(pe,dt)}for(xe=0;xe<Re;xe++)if(dt=pe[xe],xe===Re-1){if(dt>=H(256,5-Re))return null}else if(dt>255)return null;for(zt=oe(pe),xe=0;xe<pe.length;xe++)zt+=pe[xe]*H(256,3-xe);return zt}(Bt),an===null))return tt;this.host=an}else{if(ne(Ke,Bt))return tt;for(an="",tn=w(Bt),_n=0;_n<tn.length;_n++)an+=rt(tn[_n],ct);this.host=an}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return _(it,this.scheme)},shortenPath:function(){var Bt=this.path,an=Bt.length;!an||this.scheme==="file"&&an===1&&wt(Bt[0],!0)||Bt.length--},serialize:function(){var Bt=this,an=Bt.scheme,tn=Bt.username,_n=Bt.password,Wt=Bt.host,Re=Bt.port,pe=Bt.path,xe=Bt.query,$e=Bt.fragment,ot=an+":";return Wt!==null?(ot+="//",Bt.includesCredentials()&&(ot+=tn+(_n?":"+_n:"")+"@"),ot+=lt(Wt),Re!==null&&(ot+=":"+Re)):an==="file"&&(ot+="//"),ot+=Bt.cannotBeABaseURL?pe[0]:pe.length?"/"+V(pe,"/"):"",xe!==null&&(ot+="?"+xe),$e!==null&&(ot+="#"+$e),ot},setHref:function(Bt){var an=this.parse(Bt);if(an)throw new F(an);this.searchParams.update()},getOrigin:function(){var Bt=this.scheme,an=this.port;if(Bt==="blob")try{return new Nt(Bt.path[0]).origin}catch(tn){return"null"}return Bt!=="file"&&this.isSpecial()?Bt+"://"+lt(this.host)+(an!==null?":"+an:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(Bt){this.parse(P(Bt)+":",ut)},getUsername:function(){return this.username},setUsername:function(Bt){var an=w(P(Bt));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var tn=0;tn<an.length;tn++)this.username+=rt(an[tn],He)}},getPassword:function(){return this.password},setPassword:function(Bt){var an=w(P(Bt));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var tn=0;tn<an.length;tn++)this.password+=rt(an[tn],He)}},getHost:function(){var Bt=this.host,an=this.port;return Bt===null?"":an===null?lt(Bt):lt(Bt)+":"+an},setHost:function(Bt){this.cannotBeABaseURL||this.parse(Bt,de)},getHostname:function(){var Bt=this.host;return Bt===null?"":lt(Bt)},setHostname:function(Bt){this.cannotBeABaseURL||this.parse(Bt,K)},getPort:function(){var Bt=this.port;return Bt===null?"":P(Bt)},setPort:function(Bt){this.cannotHaveUsernamePasswordPort()||((Bt=P(Bt))===""?this.port=null:this.parse(Bt,ge))},getPathname:function(){var Bt=this.path;return this.cannotBeABaseURL?Bt[0]:Bt.length?"/"+V(Bt,"/"):""},setPathname:function(Bt){this.cannotBeABaseURL||(this.path=[],this.parse(Bt,Be))},getSearch:function(){var Bt=this.query;return Bt?"?"+Bt:""},setSearch:function(Bt){(Bt=P(Bt))===""?this.query=null:(ce(Bt,0)==="?"&&(Bt=ie(Bt,1)),this.query="",this.parse(Bt,jt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var Bt=this.fragment;return Bt?"#"+Bt:""},setHash:function(Bt){(Bt=P(Bt))!==""?(ce(Bt,0)==="#"&&(Bt=ie(Bt,1)),this.fragment="",this.parse(Bt,Et)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Nt=function(Bt){var an=v(this,Ft),tn=u(arguments.length,1)>1?arguments[1]:void 0,_n=k(an,new Zt(Bt,!1,tn));a||(an.href=_n.serialize(),an.origin=_n.getOrigin(),an.protocol=_n.getProtocol(),an.username=_n.getUsername(),an.password=_n.getPassword(),an.host=_n.getHost(),an.hostname=_n.getHostname(),an.port=_n.getPort(),an.pathname=_n.getPathname(),an.search=_n.getSearch(),an.searchParams=_n.getSearchParams(),an.hash=_n.getHash())},Ft=Nt.prototype,Dt=function(Bt,an){return{get:function(){return x(this)[Bt]()},set:an&&function(tn){return x(this)[an](tn)},configurable:!0,enumerable:!0}};if(a&&(f(Ft,"href",Dt("serialize","setHref")),f(Ft,"origin",Dt("getOrigin")),f(Ft,"protocol",Dt("getProtocol","setProtocol")),f(Ft,"username",Dt("getUsername","setUsername")),f(Ft,"password",Dt("getPassword","setPassword")),f(Ft,"host",Dt("getHost","setHost")),f(Ft,"hostname",Dt("getHostname","setHostname")),f(Ft,"port",Dt("getPort","setPort")),f(Ft,"pathname",Dt("getPathname","setPathname")),f(Ft,"search",Dt("getSearch","setSearch")),f(Ft,"searchParams",Dt("getSearchParams")),f(Ft,"hash",Dt("getHash","setHash"))),h(Ft,"toJSON",function(){return x(this).serialize()},{enumerable:!0}),h(Ft,"toString",function(){return x(this).serialize()},{enumerable:!0}),D){var Jt=D.createObjectURL,Qt=D.revokeObjectURL;Jt&&h(Nt,"createObjectURL",c(Jt,D)),Qt&&h(Nt,"revokeObjectURL",c(Qt,D))}y(Nt,"URL"),l({global:!0,constructor:!0,forced:!s,sham:!a},{URL:Nt})},8730:function(t,e,n){n(9391)}},function(t){t(t.s=1226)}])}),Ig={},X7(Ig,{default:function(){return Lg}}),Q7=Tg(Pg()),K7(Ig,Tg(Pg()));var m;Wn=Q7,m=Wn,Mg=m.default,J7=Ai(Wn,["default"]),Lg=Mg!==void 0?Mg:J7}}),eS={};ai(eS,{default:function(){return Lg}});var oP=Mt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-80/BookReader/plugins/plugin.url.js":function(){Z7(),Z7()}}),tS,mh,nS,rS,iS,oS,aS,sS,yh,lS,Rg,Dg,$g,uS,Wn,Bg,cS,Ng,dS=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-80/esnext/BookReader/plugins/plugin.autoplay.js":function(){tS=Object.create,mh=Object.defineProperty,nS=Object.getOwnPropertyDescriptor,rS=Object.getOwnPropertyNames,iS=Object.getPrototypeOf,oS=Object.prototype.hasOwnProperty,aS=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},sS=function(t,e){for(var n in e)mh(t,n,{get:e[n],enumerable:!0})},yh=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!oS.call(t,v)&&v!==n&&mh(t,v,{get:function(){return e[v]},enumerable:!(o=nS(e,v))||o.enumerable})},c=rS(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},lS=function(t,e,n){return yh(t,e,"default"),n&&yh(n,e,"default")},Rg=function(t,e,n){return n=t!=null?tS(iS(t)):{},yh(e||!t||!t.__esModule?mh(n,"default",{value:t,enumerable:!0}):n,t)},Dg=aS(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[320],{2024:function(t,e,n){n(8077),n(228);var o,l=n(5311),a=n(5311);l.extend(BookReader.defaultOptions,{enableAutoPlayPlugin:!0}),BookReader.prototype.setup=(o=BookReader.prototype.setup,function(s){o.call(this,s),this.auto=!1,this.autoTimer=null,this.flipDelay=5e3}),BookReader.prototype.init=function(s){return function(r){var c=this;s.call(this,r),this.options.enableAutoPlayPlugin&&this.bind(BookReader.eventNames.stop,function(){return c.autoStop()})}}(BookReader.prototype.init),BookReader.prototype.bindNavigationHandlers=function(s){return function(){var r=this;if(s.call(this),this.options.enableAutoPlayPlugin){var c=this.$(".BRicon");c.filter(".play").click(function(){return r.autoToggle(),!1}),c.filter(".pause").click(function(){return r.autoToggle(),!1})}}}(BookReader.prototype.bindNavigationHandlers),BookReader.prototype.autoToggle=function(s){var r=this;if(this.options.enableAutoPlayPlugin){var c=a.extend({flipSpeed:this.flipSpeed,flipDelay:this.flipDelay},s);this.flipSpeed=typeof c.flipSpeed=="number"?c.flipSpeed:this.flipSpeed,this.flipDelay=typeof c.flipDelay=="number"?c.flipDelay:this.flipDelay,this.trigger(BookReader.eventNames.stop);var d=!1;this.constMode2up!=this.mode&&(d=!0,this.switchMode(this.constMode2up)),this.autoTimer==null?(this.pageProgression=="rl"&&d||this.next({triggerStop:!1}),this.$(".play").hide(),this.$(".pause").show(),this.autoTimer=setInterval(function(){r.animating||(Math.max(r.twoPage.currentIndexL,r.twoPage.currentIndexR)>=r.book.getNumLeafs()-1?r.prev({triggerStop:!1}):r.next({triggerStop:!1}))},this.flipDelay)):this.autoStop()}},BookReader.prototype.autoStop=function(){this.options.enableAutoPlayPlugin&&this.autoTimer!=null&&(clearInterval(this.autoTimer),this.flipSpeed="fast",this.$(".pause").hide(),this.$(".play").show(),this.autoTimer=null)}}},function(t){t(t.s=2024)}])}),$g={},sS($g,{default:function(){return Ng}}),uS=Rg(Dg()),lS($g,Rg(Dg()));var m;Wn=uS,m=Wn,Bg=m.default,cS=Ai(Wn,["default"]),Ng=Bg!==void 0?Bg:cS}}),hS={};ai(hS,{default:function(){return Ng}});var aP=Mt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-80/BookReader/plugins/plugin.autoplay.js":function(){dS(),dS()}}),fS,bh,pS,vS,gS,mS,yS,bS,wh,wS,zg,Fg,Hg,_S,Wn,Ug,kS,Vg,xS=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-80/esnext/BookReader/plugins/plugin.resume.js":function(){fS=Object.create,bh=Object.defineProperty,pS=Object.getOwnPropertyDescriptor,vS=Object.getOwnPropertyNames,gS=Object.getPrototypeOf,mS=Object.prototype.hasOwnProperty,yS=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},bS=function(t,e){for(var n in e)bh(t,n,{get:e[n],enumerable:!0})},wh=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!mS.call(t,v)&&v!==n&&bh(t,v,{get:function(){return e[v]},enumerable:!(o=pS(e,v))||o.enumerable})},c=vS(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},wS=function(t,e,n){return wh(t,e,"default"),n&&wh(n,e,"default")},zg=function(t,e,n){return n=t!=null?fS(gS(t)):{},wh(e||!t||!t.__esModule?bh(n,"default",{value:t,enumerable:!0}):n,t)},Fg=yS(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[951],{5842:function(t,e,n){var o=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;try{return v.cookie,!1}catch(_){return!0}},l=function(v){return c||!v?null:decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(v).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},a=function(v,_,b,w,A,E){return!c&&(document.cookie=encodeURIComponent(v)+"="+encodeURIComponent(_)+(b?"; expires=".concat(b.toUTCString()):"")+(A?"; domain=".concat(A):"")+(w?"; path=".concat(w):"")+(E?"; secure":""),!0)},s=function(v,_,b){return!c&&!!hasItem(v)&&(document.cookie=encodeURIComponent(v)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(b?"; domain=".concat(b):"")+(_?"; path=".concat(_):""),!0)},r={};n.r(r),n.d(r,{areCookiesBlocked:function(){return o},getItem:function(){return l},removeItem:function(){return s},setItem:function(){return a}}),n(2320),n(4043),n(2462),n(7267),n(2003),n(2826);var c=o(),d,h=n(5311);BookReader.docCookies=r,h.extend(BookReader.defaultOptions,{enablePageResume:!0,resumeCookiePath:null}),BookReader.prototype.init=(d=BookReader.prototype.init,function(){var f=this;d.call(this),this.options.enablePageResume&&this.bind(BookReader.eventNames.fragmentChange,function(){var v=f.paramsFromCurrent();f.updateResumeValue(v.index)})}),BookReader.prototype.getResumeValue=function(){var f=BookReader.docCookies.getItem("br-resume");return f!==null?parseInt(f):null},BookReader.prototype.getCookiePath=function(f){return f.match(".+?(?=/page/|/mode/|$)")[0]},BookReader.prototype.updateResumeValue=function(f,v){var _=new Date(+new Date+12096e5),b=this.options.resumeCookiePath||this.getCookiePath(window.location.pathname);BookReader.docCookies.setItem(v||"br-resume",f,_,b,null,!1)}}},function(t){t(t.s=5842)}])}),Hg={},bS(Hg,{default:function(){return Vg}}),_S=zg(Fg()),wS(Hg,zg(Fg()));var m;Wn=_S,m=Wn,Ug=m.default,kS=Ai(Wn,["default"]),Vg=Ug!==void 0?Ug:kS}}),SS={};ai(SS,{default:function(){return Vg}});var sP=Mt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-80/BookReader/plugins/plugin.resume.js":function(){xS(),xS()}}),CS,_h,AS,OS,jS,ES,TS,PS,kh,IS,Wg,qg,Gg,MS,Wn,Yg,LS,Xg,RS=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-80/esnext/BookReader/plugins/plugin.archive_analytics.js":function(){CS=Object.create,_h=Object.defineProperty,AS=Object.getOwnPropertyDescriptor,OS=Object.getOwnPropertyNames,jS=Object.getPrototypeOf,ES=Object.prototype.hasOwnProperty,TS=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},PS=function(t,e){for(var n in e)_h(t,n,{get:e[n],enumerable:!0})},kh=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!ES.call(t,v)&&v!==n&&_h(t,v,{get:function(){return e[v]},enumerable:!(o=AS(e,v))||o.enumerable})},c=OS(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},IS=function(t,e,n){return kh(t,e,"default"),n&&kh(n,e,"default")},Wg=function(t,e,n){return n=t!=null?CS(jS(t)):{},kh(e||!t||!t.__esModule?_h(n,"default",{value:t,enumerable:!0}):n,t)},qg=TS(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[810],{2815:function(t,e,n){var o;n(4043),n(2462),n(5311).extend(BookReader.defaultOptions,{enableArchiveAnalytics:!0,debugArchiveAnaltyics:!1}),BookReader.prototype.init=(o=BookReader.prototype.init,function(){var l=this;o.call(this),this.options.enableArchiveAnalytics&&this.bind(BookReader.eventNames.fragmentChange,function(){return l.archiveAnalyticsSendFragmentChange()})}),BookReader.prototype.archiveAnalyticsSendFragmentChange=function(){if(window.archive_analytics){var l=this.archiveAnalyticsSendFragmentChange.prevFragment,a=this.paramsFromCurrent(),s=this.fragmentFromParams(a);if(l!=s){var r={bookreader:"user_changed_view",itemid:this.bookId,cache_bust:Math.random(),offsite:1,details:0};try{r.offsite=window.top.location.hostname.match(/\.archive.org$/)?0:1,r.details=!r.offsite&&window.top.location.pathname.match(/^\/details\//)?1:0}catch(d){}window.archive_analytics.send_ping(r,null,"augment_for_ao_site");var c=this.options.lendingInfo&&this.options.lendingInfo.loanId?{loanId:this.options.lendingInfo.loanId}:{};window.archive_analytics.send_event("BookReader","UserChangedView",window.location.pathname,c),this.archiveAnalyticsSendFragmentChange.prevFragment=s}}},BookReader.prototype.archiveAnalyticsSendEvent=function(l,a,s,r){this.options.enableArchiveAnalytics&&(this.options.debugArchiveAnaltyics&&console.log("archiveAnalyticsSendEvent",arguments,window.archive_analytics),window.archive_analytics&&(r=r||{},typeof s=="number"&&(r.ev=s),window.archive_analytics.send_event(l,a,null,r)))}}},function(t){t(t.s=2815)}])}),Gg={},PS(Gg,{default:function(){return Xg}}),MS=Wg(qg()),IS(Gg,Wg(qg()));var m;Wn=MS,m=Wn,Yg=m.default,LS=Ai(Wn,["default"]),Xg=Yg!==void 0?Yg:LS}}),DS={};ai(DS,{default:function(){return Xg}});var lP=Mt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-80/BookReader/plugins/plugin.archive_analytics.js":function(){RS(),RS()}}),$S,xh,BS,NS,zS,FS,HS,US,Sh,VS,Kg,Qg,Jg,WS,Wn,Zg,qS,em,GS=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-80/esnext/BookReader/plugins/plugin.chapters.js":function(){$S=Object.create,xh=Object.defineProperty,BS=Object.getOwnPropertyDescriptor,NS=Object.getOwnPropertyNames,zS=Object.getPrototypeOf,FS=Object.prototype.hasOwnProperty,HS=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},US=function(t,e){for(var n in e)xh(t,n,{get:e[n],enumerable:!0})},Sh=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!FS.call(t,v)&&v!==n&&xh(t,v,{get:function(){return e[v]},enumerable:!(o=BS(e,v))||o.enumerable})},c=NS(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},VS=function(t,e,n){return Sh(t,e,"default"),n&&Sh(n,e,"default")},Kg=function(t,e,n){return n=t!=null?$S(zS(t)):{},Sh(e||!t||!t.__esModule?xh(n,"default",{value:t,enumerable:!0}):n,t)},Qg=HS(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[529],{4775:function(t,e,n){var o=function(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q},l=function(q){var G,J=d(q.key);q.kind==="method"?G={value:q.value,writable:!0,configurable:!0,enumerable:!1}:q.kind==="get"?G={get:q.value,configurable:!0,enumerable:!1}:q.kind==="set"?G={set:q.value,configurable:!0,enumerable:!1}:q.kind==="field"&&(G={configurable:!0,writable:!0,enumerable:!0});var ae={kind:q.kind==="field"?"field":"method",key:J,placement:q.static?"static":q.kind==="field"?"own":"prototype",descriptor:G};return q.decorators&&(ae.decorators=q.decorators),q.kind==="field"&&(ae.initializer=q.value),ae},a=function(q,G){q.descriptor.get!==void 0?G.descriptor.get=q.descriptor.get:G.descriptor.set=q.descriptor.set},s=function(q){return q.decorators&&q.decorators.length},r=function(q){return q!==void 0&&!(q.value===void 0&&q.writable===void 0)},c=function(q,G){var J=q[G];if(J!==void 0&&typeof J!="function")throw new TypeError("Expected '"+G+"' to be a function");return J},d=function(q){var G=function(J,ae){if(Q(J)!=="object"||J===null)return J;var ie=J[Symbol.toPrimitive];if(ie!==void 0){var Oe=ie.call(J,"string");if(Q(Oe)!=="object")return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(J)}(q);return Q(G)==="symbol"?G:String(G)},h=function(q,G){if(q){if(typeof q=="string")return v(q,G);var J=Object.prototype.toString.call(q).slice(8,-1);return J==="Object"&&q.constructor&&(J=q.constructor.name),J==="Map"||J==="Set"?Array.from(q):J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J)?v(q,G):void 0}},f=function(q){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&q[Symbol.iterator]!=null||q["@@iterator"]!=null)return Array.from(q)},v=function(q,G){(G==null||G>q.length)&&(G=q.length);for(var J=0,ae=new Array(G);J<G;J++)ae[J]=q[J];return ae},_=function(q,G){return G||(G=q.slice(0)),Object.freeze(Object.defineProperties(q,{raw:{value:Object.freeze(G)}}))},b=function(q,G,J,ae,ie,Oe,De){try{var ke=q[Oe](De),tt=ke.value}catch(Ve){return void J(Ve)}ke.done?G(tt):Promise.resolve(tt).then(ae,ie)},w=function(q){return function(){var G=this,J=arguments;return new Promise(function(ae,ie){var Oe=q.apply(G,J);function De(tt){b(Oe,ae,ie,De,ke,"next",tt)}function ke(tt){b(Oe,ae,ie,De,ke,"throw",tt)}De(void 0)})}};n(9749),n(6544),n(4254),n(752),n(1694),n(6265),n(8373),n(6793),n(7629),n(7509),n(8052),n(4284),n(9730),n(1830),n(7049),n(2826),n(4043),n(2349),n(1919),n(9373),n(9903),n(9288),n(2506),n(5728),n(50),n(886),n(429),n(228),n(7522),n(6203),n(8077),n(2320),n(4338),n(3374),n(9772),n(3964);var A=n(8318),E=n(9089),O=n(4817),P=n(1312),y=A.dy(_templateObject105()),u=function(oe){_inherits(G,oe);var q=_createSuper(G);function G(){return _classCallCheck(this,G),q.apply(this,arguments)}return _createClass(G,[{key:"render",value:function(){return y}}],[{key:"styles",get:function(){return A.iv(_templateObject106())}}]),G}(A.oi);customElements.define("ia-icon-toc",u);var p,g,k,x,j,L,D,F=n(5311),X=n(5311);function Q(oe){return Q=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(G){return typeof G=="undefined"?"undefined":_typeof(G)}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q=="undefined"?"undefined":_typeof(q)},Q(oe)}function H(oe,q){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(J,ae){return J.__proto__=ae,J},H(oe,q)}function ce(){ce=function(){return oe};var oe={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(G,J){["method","field"].forEach(function(ae){J.forEach(function(ie){ie.kind===ae&&ie.placement==="own"&&this.defineClassElement(G,ie)},this)},this)},initializeClassElements:function(G,J){var ae=G.prototype;["method","field"].forEach(function(ie){J.forEach(function(Oe){var De=Oe.placement;if(Oe.kind===ie&&(De==="static"||De==="prototype")){var ke=De==="static"?G:ae;this.defineClassElement(ke,Oe)}},this)},this)},defineClassElement:function(G,J){var ae=J.descriptor;if(J.kind==="field"){var ie=J.initializer;ae={enumerable:ae.enumerable,writable:ae.writable,configurable:ae.configurable,value:ie===void 0?void 0:ie.call(G)}}Object.defineProperty(G,J.key,ae)},decorateClass:function(G,J){var ae=[],ie=[],Oe={static:[],prototype:[],own:[]};if(G.forEach(function(ke){this.addElementPlacement(ke,Oe)},this),G.forEach(function(ke){if(!s(ke))return ae.push(ke);var tt=this.decorateElement(ke,Oe);ae.push(tt.element),ae.push.apply(ae,tt.extras),ie.push.apply(ie,tt.finishers)},this),!J)return{elements:ae,finishers:ie};var De=this.decorateConstructor(ae,J);return ie.push.apply(ie,De.finishers),De.finishers=ie,De},addElementPlacement:function(G,J,ae){var ie=J[G.placement];if(!ae&&ie.indexOf(G.key)!==-1)throw new TypeError("Duplicated element ("+G.key+")");ie.push(G.key)},decorateElement:function(G,J){for(var ae=[],ie=[],Oe=G.decorators,De=Oe.length-1;De>=0;De--){var ke=J[G.placement];ke.splice(ke.indexOf(G.key),1);var tt=this.fromElementDescriptor(G),Ve=this.toElementFinisherExtras((0,Oe[De])(tt)||tt);G=Ve.element,this.addElementPlacement(G,J),Ve.finisher&&ie.push(Ve.finisher);var Qe=Ve.extras;if(Qe){for(var ht=0;ht<Qe.length;ht++)this.addElementPlacement(Qe[ht],J);ae.push.apply(ae,Qe)}}return{element:G,finishers:ie,extras:ae}},decorateConstructor:function(G,J){for(var ae=[],ie=J.length-1;ie>=0;ie--){var Oe=this.fromClassDescriptor(G),De=this.toClassDescriptor((0,J[ie])(Oe)||Oe);if(De.finisher!==void 0&&ae.push(De.finisher),De.elements!==void 0){G=De.elements;for(var ke=0;ke<G.length-1;ke++)for(var tt=ke+1;tt<G.length;tt++)if(G[ke].key===G[tt].key&&G[ke].placement===G[tt].placement)throw new TypeError("Duplicated element ("+G[ke].key+")")}}return{elements:G,finishers:ae}},fromElementDescriptor:function(G){var J={kind:G.kind,key:G.key,placement:G.placement,descriptor:G.descriptor};return Object.defineProperty(J,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),G.kind==="field"&&(J.initializer=G.initializer),J},toElementDescriptors:function(G){var J;if(G!==void 0)return(J=G,function(ae){if(Array.isArray(ae))return ae}(J)||f(J)||h(J)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(ae){var ie=this.toElementDescriptor(ae);return this.disallowProperty(ae,"finisher","An element descriptor"),this.disallowProperty(ae,"extras","An element descriptor"),ie},this)},toElementDescriptor:function(G){var J=String(G.kind);if(J!=="method"&&J!=="field")throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+J+'"');var ae=d(G.key),ie=String(G.placement);if(ie!=="static"&&ie!=="prototype"&&ie!=="own")throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+ie+'"');var Oe=G.descriptor;this.disallowProperty(G,"elements","An element descriptor");var De={kind:J,key:ae,placement:ie,descriptor:Object.assign({},Oe)};return J!=="field"?this.disallowProperty(G,"initializer","A method descriptor"):(this.disallowProperty(Oe,"get","The property descriptor of a field descriptor"),this.disallowProperty(Oe,"set","The property descriptor of a field descriptor"),this.disallowProperty(Oe,"value","The property descriptor of a field descriptor"),De.initializer=G.initializer),De},toElementFinisherExtras:function(G){return{element:this.toElementDescriptor(G),finisher:c(G,"finisher"),extras:this.toElementDescriptors(G.extras)}},fromClassDescriptor:function(G){var J={kind:"class",elements:G.map(this.fromElementDescriptor,this)};return Object.defineProperty(J,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),J},toClassDescriptor:function(G){var J=String(G.kind);if(J!=="class")throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+J+'"');this.disallowProperty(G,"key","A class descriptor"),this.disallowProperty(G,"placement","A class descriptor"),this.disallowProperty(G,"descriptor","A class descriptor"),this.disallowProperty(G,"initializer","A class descriptor"),this.disallowProperty(G,"extras","A class descriptor");var ae=c(G,"finisher");return{elements:this.toElementDescriptors(G.elements),finisher:ae}},runClassFinishers:function(G,J){for(var ae=0;ae<J.length;ae++){var ie=(0,J[ae])(G);if(ie!==void 0){if(typeof ie!="function")throw new TypeError("Finishers must return a constructor.");G=ie}}return G},disallowProperty:function(G,J,ae){if(G[J]!==void 0)throw new TypeError(ae+" can't have a ."+J+" property.")}};return oe}function ne(){return ne=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(q,G,J){var ae=function(Oe,De){for(;!Object.prototype.hasOwnProperty.call(Oe,De)&&(Oe=V(Oe))!==null;);return Oe}(q,G);if(ae){var ie=Object.getOwnPropertyDescriptor(ae,G);return ie.get?ie.get.call(arguments.length<3?q:J):ie.value}},ne.apply(this,arguments)}function V(oe){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},V(oe)}function Y(){Y=function(){return q};var oe,q={},G=Object.prototype,J=G.hasOwnProperty,ae=Object.defineProperty||function(xt,ut,we){xt[ut]=we.value},ie=typeof Symbol=="function"?Symbol:{},Oe=ie.iterator||"@@iterator",De=ie.asyncIterator||"@@asyncIterator",ke=ie.toStringTag||"@@toStringTag";function tt(xt,ut,we){return Object.defineProperty(xt,ut,{value:we,enumerable:!0,configurable:!0,writable:!0}),xt[ut]}try{tt({},"")}catch(xt){tt=function(we,N,qe){return we[N]=qe}}function Ve(xt,ut,we,N){var qe=ut&&_instanceof(ut.prototype,Ne)?ut:Ne,Ie=Object.create(qe.prototype),nt=new wt(N||[]);return ae(Ie,"_invoke",{value:ze(xt,we,nt)}),Ie}function Qe(xt,ut,we){try{return{type:"normal",arg:xt.call(ut,we)}}catch(N){return{type:"throw",arg:N}}}q.wrap=Ve;var ht="suspendedStart",bt="suspendedYield",vt="executing",Le="completed",_e={};function Ne(){}function Ze(){}function Ke(){}var Pe={};tt(Pe,Oe,function(){return this});var at=Object.getPrototypeOf,pt=at&&at(at(_t([])));pt&&pt!==G&&J.call(pt,Oe)&&(Pe=pt);var lt=Ke.prototype=Ne.prototype=Object.create(Pe);function ct(xt){["next","throw","return"].forEach(function(ut){tt(xt,ut,function(we){return this._invoke(ut,we)})})}function Ge(xt,ut){function we(qe,Ie,nt,R){var le=Qe(xt[qe],xt,Ie);if(le.type!=="throw"){var ue=le.arg,ve=ue.value;return ve&&Q(ve)=="object"&&J.call(ve,"__await")?ut.resolve(ve.__await).then(function(de){we("next",de,nt,R)},function(de){we("throw",de,nt,R)}):ut.resolve(ve).then(function(de){ue.value=de,nt(ue)},function(de){return we("throw",de,nt,R)})}R(le.arg)}var N;ae(this,"_invoke",{value:function(Ie,nt){function R(){return new ut(function(le,ue){we(Ie,nt,le,ue)})}return N=N?N.then(R,R):R()}})}function ze(xt,ut,we){var N=ht;return function(qe,Ie){if(N===vt)throw new Error("Generator is already running");if(N===Le){if(qe==="throw")throw Ie;return{value:oe,done:!0}}for(we.method=qe,we.arg=Ie;;){var nt=we.delegate;if(nt){var R=He(nt,we);if(R){if(R===_e)continue;return R}}if(we.method==="next")we.sent=we._sent=we.arg;else if(we.method==="throw"){if(N===ht)throw N=Le,we.arg;we.dispatchException(we.arg)}else we.method==="return"&&we.abrupt("return",we.arg);N=vt;var le=Qe(xt,ut,we);if(le.type==="normal"){if(N=we.done?Le:bt,le.arg===_e)continue;return{value:le.arg,done:we.done}}le.type==="throw"&&(N=Le,we.method="throw",we.arg=le.arg)}}}function He(xt,ut){var we=ut.method,N=xt.iterator[we];if(N===oe)return ut.delegate=null,we==="throw"&&xt.iterator.return&&(ut.method="return",ut.arg=oe,He(xt,ut),ut.method==="throw")||we!=="return"&&(ut.method="throw",ut.arg=new TypeError("The iterator does not provide a '"+we+"' method")),_e;var qe=Qe(N,xt.iterator,ut.arg);if(qe.type==="throw")return ut.method="throw",ut.arg=qe.arg,ut.delegate=null,_e;var Ie=qe.arg;return Ie?Ie.done?(ut[xt.resultName]=Ie.value,ut.next=xt.nextLoc,ut.method!=="return"&&(ut.method="next",ut.arg=oe),ut.delegate=null,_e):Ie:(ut.method="throw",ut.arg=new TypeError("iterator result is not an object"),ut.delegate=null,_e)}function rt(xt){var ut={tryLoc:xt[0]};1 in xt&&(ut.catchLoc=xt[1]),2 in xt&&(ut.finallyLoc=xt[2],ut.afterLoc=xt[3]),this.tryEntries.push(ut)}function it(xt){var ut=xt.completion||{};ut.type="normal",delete ut.arg,xt.completion=ut}function wt(xt){this.tryEntries=[{tryLoc:"root"}],xt.forEach(rt,this),this.reset(!0)}function _t(xt){if(xt||xt===""){var ut=xt[Oe];if(ut)return ut.call(xt);if(typeof xt.next=="function")return xt;if(!isNaN(xt.length)){var we=-1,N=function qe(){for(;++we<xt.length;)if(J.call(xt,we))return qe.value=xt[we],qe.done=!1,qe;return qe.value=oe,qe.done=!0,qe};return N.next=N}}throw new TypeError(Q(xt)+" is not iterable")}return Ze.prototype=Ke,ae(lt,"constructor",{value:Ke,configurable:!0}),ae(Ke,"constructor",{value:Ze,configurable:!0}),Ze.displayName=tt(Ke,ke,"GeneratorFunction"),q.isGeneratorFunction=function(xt){var ut=typeof xt=="function"&&xt.constructor;return!!ut&&(ut===Ze||(ut.displayName||ut.name)==="GeneratorFunction")},q.mark=function(xt){return Object.setPrototypeOf?Object.setPrototypeOf(xt,Ke):(xt.__proto__=Ke,tt(xt,ke,"GeneratorFunction")),xt.prototype=Object.create(lt),xt},q.awrap=function(xt){return{__await:xt}},ct(Ge.prototype),tt(Ge.prototype,De,function(){return this}),q.AsyncIterator=Ge,q.async=function(xt,ut,we,N,qe){qe===void 0&&(qe=Promise);var Ie=new Ge(Ve(xt,ut,we,N),qe);return q.isGeneratorFunction(ut)?Ie:Ie.next().then(function(nt){return nt.done?nt.value:Ie.next()})},ct(lt),tt(lt,ke,"Generator"),tt(lt,Oe,function(){return this}),tt(lt,"toString",function(){return"[object Generator]"}),q.keys=function(xt){var ut=Object(xt),we=[];for(var N in ut)we.push(N);return we.reverse(),function qe(){for(;we.length;){var Ie=we.pop();if(Ie in ut)return qe.value=Ie,qe.done=!1,qe}return qe.done=!0,qe}},q.values=_t,wt.prototype={constructor:wt,reset:function(ut){if(this.prev=0,this.next=0,this.sent=this._sent=oe,this.done=!1,this.delegate=null,this.method="next",this.arg=oe,this.tryEntries.forEach(it),!ut)for(var we in this)we.charAt(0)==="t"&&J.call(this,we)&&!isNaN(+we.slice(1))&&(this[we]=oe)},stop:function(){this.done=!0;var ut=this.tryEntries[0].completion;if(ut.type==="throw")throw ut.arg;return this.rval},dispatchException:function(ut){if(this.done)throw ut;var we=this;function N(ue,ve){return nt.type="throw",nt.arg=ut,we.next=ue,ve&&(we.method="next",we.arg=oe),!!ve}for(var qe=this.tryEntries.length-1;qe>=0;--qe){var Ie=this.tryEntries[qe],nt=Ie.completion;if(Ie.tryLoc==="root")return N("end");if(Ie.tryLoc<=this.prev){var R=J.call(Ie,"catchLoc"),le=J.call(Ie,"finallyLoc");if(R&&le){if(this.prev<Ie.catchLoc)return N(Ie.catchLoc,!0);if(this.prev<Ie.finallyLoc)return N(Ie.finallyLoc)}else if(R){if(this.prev<Ie.catchLoc)return N(Ie.catchLoc,!0)}else{if(!le)throw new Error("try statement without catch or finally");if(this.prev<Ie.finallyLoc)return N(Ie.finallyLoc)}}}},abrupt:function(ut,we){for(var N=this.tryEntries.length-1;N>=0;--N){var qe=this.tryEntries[N];if(qe.tryLoc<=this.prev&&J.call(qe,"finallyLoc")&&this.prev<qe.finallyLoc){var Ie=qe;break}}Ie&&(ut==="break"||ut==="continue")&&Ie.tryLoc<=we&&we<=Ie.finallyLoc&&(Ie=null);var nt=Ie?Ie.completion:{};return nt.type=ut,nt.arg=we,Ie?(this.method="next",this.next=Ie.finallyLoc,_e):this.complete(nt)},complete:function(ut,we){if(ut.type==="throw")throw ut.arg;return ut.type==="break"||ut.type==="continue"?this.next=ut.arg:ut.type==="return"?(this.rval=this.arg=ut.arg,this.method="return",this.next="end"):ut.type==="normal"&&we&&(this.next=we),_e},finish:function(ut){for(var we=this.tryEntries.length-1;we>=0;--we){var N=this.tryEntries[we];if(N.finallyLoc===ut)return this.complete(N.completion,N.afterLoc),it(N),_e}},catch:function(ut){for(var we=this.tryEntries.length-1;we>=0;--we){var N=this.tryEntries[we];if(N.tryLoc===ut){var qe=N.completion;if(qe.type==="throw"){var Ie=qe.arg;it(N)}return Ie}}throw new Error("illegal catch attempt")},delegateYield:function(ut,we,N){return this.delegate={iterator:_t(ut),resultName:we,nextLoc:N},this.method==="next"&&(this.arg=oe),_e}},q}F.extend(BookReader.defaultOptions,{olHost:"https://openlibrary.org",enableChaptersPlugin:!0,bookId:""}),BookReader.prototype.init=(D=BookReader.prototype.init,function(){D.call(this),this.options.enableChaptersPlugin&&this.ui!=="embed"&&this._chapterInit()}),BookReader.prototype._chapterInit=w(Y().mark(function oe(){var q,G,J,ae,ie=this;return Y().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(G=null,(q=this.options.table_of_contents)===null||q===void 0||!q.length){Oe.next=5;break}G=this.options.table_of_contents,Oe.next=9;break;case 5:return Oe.next=7,this.getOpenLibraryRecord(this.options.olHost,this.options.bookId);case 7:(ae=Oe.sent)!=null&&(J=ae.table_of_contents)!==null&&J!==void 0&&J.length&&(G=ae.table_of_contents);case 9:G&&(this._tocEntries=G.map(function(De){return Object.assign({},De,{pageIndex:typeof De.leaf=="number"?ie.book.leafNumToIndex(De.leaf):De.pagenum?ie.book.getPageIndex(De.pagenum):void 0})}),this._chaptersRender(this._tocEntries),this.bind(BookReader.eventNames.pageChanged,function(){return ie._chaptersUpdateCurrent()}));case 10:case"end":return Oe.stop()}},oe,this)})),BookReader.prototype._chaptersRender=function(){var oe=this,q=this.shell;q.menuProviders.chapters={id:"chapters",icon:(0,A.dy)(p||(p=_(['<ia-icon-toc style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-toc>']))),label:"Table of Contents",component:(0,A.dy)(g||(g=_(['<br-chapters-panel\n      .contents="','"\n      .jumpToPage="','"\n      @connected="','"\n    />'])),this._tocEntries,function(G){oe._chaptersUpdateCurrent(G),oe.jumpToIndex(G)},function(G){oe._chaptersPanel=G.target,oe._chaptersUpdateCurrent()})},q.addMenuShortcut("chapters"),q.updateMenuContents(),this._tocEntries.forEach(function(G,J){return oe._chaptersRenderMarker(G,J)})},BookReader.prototype._chaptersRenderMarker=function(oe,q){var G=this;if(oe.pageIndex!=null){var J=[oe.label,oe.title].filter(function(ie){return ie}).join(" ")||"Chapter ".concat(q+1),ae=BookReader.util.cssPercentage(oe.pageIndex,this.book.getNumLeafs()-1);X("<div></div>").append(X("<div />").text(J).append(X('<div class="BRchapterPage" />').text(this.book.getPageName(oe.pageIndex)))).addClass("BRchapter").css({left:ae}).appendTo(this.$(".BRnavline")).on("mouseenter",function(ie){var Oe=ie.currentTarget,De=Oe.querySelector("div"),ke=De.getBoundingClientRect(),tt=Oe.getBoundingClientRect(),Ve=2*parseInt(getComputedStyle(De).paddingLeft);ke.x-Ve<0&&De.style.setProperty("transform","translateX(-".concat(tt.left-Ve,"px)")),G.$(".BRsearch,.BRchapter").removeClass("front"),X(ie.target).addClass("front")}).on("mouseleave",function(ie){return X(ie.target).removeClass("front")}).on("click",function(){G._chaptersUpdateCurrent(oe.pageIndex),G.jumpToIndex(oe.pageIndex)}),this.$(".BRchapter, .BRsearch").each(function(ie,Oe){var De=X(Oe);De.on("mouseenter",function(){return De.addClass("front")}).on("mouseleave",function(){return De.removeClass("front")})})}},BookReader.prototype.getOpenLibraryRecord=function(){var oe=w(Y().mark(function q(G,J){var ae,ie,Oe,De;return Y().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ie="".concat(G,"/query.json?type=/type/edition&*="),Oe="".concat(ie,"&ocaid=").concat(J),ke.next=4,X.ajax({url:Oe,dataType:"jsonp"});case 4:if((De=ke.sent)&&De.length){ke.next=9;break}return ke.next=8,X.ajax({url:"".concat(ie,"&source_records=ia:").concat(J),dataType:"jsonp"});case 8:De=ke.sent;case 9:return ke.abrupt("return",(ae=De)===null||ae===void 0?void 0:ae[0]);case 10:case"end":return ke.stop()}},q)}));return function(q,G){return oe.apply(this,arguments)}}(),BookReader.prototype._chaptersUpdateCurrent=function(){var oe,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.mode==2?Math.max.apply(Math,function(ae){if(Array.isArray(ae))return v(ae)}(oe=this.displayedIndices)||f(oe)||h(oe)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):this.firstIndex,G=this._tocEntries.filter(function(ae){return ae.pageIndex!=null}).reverse(),J=G[G.findIndex(function(ae){return ae.pageIndex<=q})];this._chaptersPanel&&(this._chaptersPanel.currentChapter=J)},function(oe,q,G,J){var ae=ce(),ie=q(function(De){ae.initializeInstanceElements(De,Oe.elements)},G),Oe=ae.decorateClass(function(De){for(var ke=[],tt=function(vt){return vt.kind==="method"&&vt.key===ht.key&&vt.placement===ht.placement},Ve=0;Ve<De.length;Ve++){var Qe,ht=De[Ve];if(ht.kind==="method"&&(Qe=ke.find(tt)))if(r(ht.descriptor)||r(Qe.descriptor)){if(s(ht)||s(Qe))throw new ReferenceError("Duplicated methods ("+ht.key+") can't be decorated.");Qe.descriptor=ht.descriptor}else{if(s(ht)){if(s(Qe))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+ht.key+").");Qe.decorators=ht.decorators}a(ht,Qe)}else ke.push(ht)}return ke}(ie.d.map(l)),oe);ae.initializeClassElements(ie.F,Oe.elements),ae.runClassFinishers(ie.F,Oe.finishers)}([(0,E.Mo)("br-chapters-panel")],function(oe,q){var G=function(J){(function(tt,Ve){if(typeof Ve!="function"&&Ve!==null)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(Ve&&Ve.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),Object.defineProperty(tt,"prototype",{writable:!1}),Ve&&H(tt,Ve)})(ke,J);var ae,ie,Oe,De=(ie=ke,Oe=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(tt){return!1}}(),function(){var Ve,Qe=V(ie);if(Oe){var ht=V(this).constructor;Ve=Reflect.construct(Qe,arguments,ht)}else Ve=Qe.apply(this,arguments);return function(bt,vt){if(vt&&(Q(vt)==="object"||typeof vt=="function"))return vt;if(vt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(bt)}(this,Ve)});function ke(tt){var Ve;return function(Qe,ht){if(!_instanceof(Qe,ht))throw new TypeError("Cannot call a class as a function")}(this,ke),Ve=De.call(this),oe(o(Ve)),Ve.contents=tt,Ve}return ae=ke,Object.defineProperty(ae,"prototype",{writable:!1}),ae}(q);return{F:G,d:[{kind:"field",decorators:[(0,E.Cb)({type:Array})],key:"contents",value:function(){return[]}},{kind:"field",decorators:[(0,E.Cb)({type:Object})],key:"currentChapter",value:function(){return{}}},{kind:"field",key:"jumpToPage",value:function(){return function(){}}},{kind:"method",key:"render",value:function(){var ae=this;return(0,A.dy)(k||(k=_(["\n    <ol>\n      ","\n    </ol>\n    "])),this.contents.map(function(ie){return ae.renderTOCEntry(ie)}))}},{kind:"method",key:"renderTOCEntry",value:function(ae){var ie,Oe=this,De=[ae.label,ae.title].filter(function(tt){return tt}).join(" "),ke=ae.pageIndex!=null;return(0,A.dy)(x||(x=_(['\n    <li\n      class="\n        BRtable-contents-el\n        ',"\n        ",'\n      "\n      style="','"\n      data-event-click-tracking="','"\n      @click="','"\n    >\n      ',"\n      ","\n    </li>"])),ke?"clickable":"",ae==this.currentChapter?"current":"",(0,P.V)({marginLeft:10*(ae.level-1)+"px"}),(ie=ke?"BRTOCPanel|GoToChapter":void 0)!=null?ie:O.Ld,function(){return Oe.jumpToPage(ae.pageIndex)},De,ae.pagenum?(0,A.dy)(j||(j=_(['\n        <br />\n        <span class="BRTOCElementPage">Page ',"</span>\n      "])),ae.pagenum):A.Ld)}},{kind:"method",key:"connectedCallback",value:function(){ne(V(G.prototype),"connectedCallback",this).call(this),this.dispatchEvent(new CustomEvent("connected"))}},{kind:"method",key:"updated",value:function(ae){var ie;ae.has("currentChapter")&&((ie=this.shadowRoot.querySelector("li.current"))===null||ie===void 0||ie.scrollIntoView({block:"nearest",behavior:"smooth"}))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,A.iv)(L||(L=_(["\n      ol {\n        padding: 0;\n        margin: 0;\n        margin-right: 5px;\n      }\n      li {\n        padding: 10px;\n        overflow: hidden;\n        border-radius: 4px;\n      }\n      li.clickable {\n        font-weight: normal;\n        cursor: pointer;\n        transition: background-color 0.2s;\n      }\n\n      li.clickable:not(.current):hover {\n        background-color: rgba(255,255,255, 0.05);\n      }\n\n      li.current {\n        background-color: rgba(255,255,255,0.9);\n        color: #333;\n      }\n\n      .BRTOCElementPage {\n        font-size: 0.85em;\n        opacity: .8;\n      }"])))}}]}},A.oi)}},function(t){t(t.s=4775)}])}),Jg={},US(Jg,{default:function(){return em}}),WS=Kg(Qg()),VS(Jg,Kg(Qg()));var m;Wn=WS,m=Wn,Zg=m.default,qS=Ai(Wn,["default"]),em=Zg!==void 0?Zg:qS}}),YS={};ai(YS,{default:function(){return em}});var uP=Mt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-80/BookReader/plugins/plugin.chapters.js":function(){GS(),GS()}}),XS,Ch,KS,QS,JS,ZS,e8,t8,Ah,n8,tm,nm,rm,r8,Wn,im,i8,om,o8=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-80/esnext/BookReader/plugins/plugin.text_selection.js":function(){XS=Object.create,Ch=Object.defineProperty,KS=Object.getOwnPropertyDescriptor,QS=Object.getOwnPropertyNames,JS=Object.getPrototypeOf,ZS=Object.prototype.hasOwnProperty,e8=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},t8=function(t,e){for(var n in e)Ch(t,n,{get:e[n],enumerable:!0})},Ah=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!ZS.call(t,v)&&v!==n&&Ch(t,v,{get:function(){return e[v]},enumerable:!(o=KS(e,v))||o.enumerable})},c=QS(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},n8=function(t,e,n){return Ah(t,e,"default"),n&&Ah(n,e,"default")},tm=function(t,e,n){return n=t!=null?XS(JS(t)):{},Ah(e||!t||!t.__esModule?Ch(n,"default",{value:t,enumerable:!0}):n,t)},nm=e8(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[423],{4742:function(t,e,n){var o=function(ke,tt){for(var Ve=0;Ve<tt.length;Ve++){var Qe=tt[Ve];Qe.enumerable=Qe.enumerable||!1,Qe.configurable=!0,"value"in Qe&&(Qe.writable=!0),Object.defineProperty(ke,a(Qe.key),Qe)}},l=function(ke,tt,Ve){return(tt=a(tt))in ke?Object.defineProperty(ke,tt,{value:Ve,enumerable:!0,configurable:!0,writable:!0}):ke[tt]=Ve,ke},a=function(ke){var tt=function(Ve,Qe){if(x(Ve)!=="object"||Ve===null)return Ve;var ht=Ve[Symbol.toPrimitive];if(ht!==void 0){var bt=ht.call(Ve,"string");if(x(bt)!=="object")return bt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ve)}(ke);return x(tt)==="symbol"?tt:String(tt)},s=function(ke,tt){(tt==null||tt>ke.length)&&(tt=ke.length);for(var Ve=0,Qe=new Array(tt);Ve<tt;Ve++)Qe[Ve]=ke[Ve];return Qe},r=function(ke,tt){var Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Qe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:L;return ke==null?void 0:ke.replace(/\{\{([^}]*?)\}\}/g,function(ht,bt){if(!bt)return ht;var vt,Le=function(Ke){if(Array.isArray(Ke))return Ke}(vt=bt.split("|").map(function(Ke){return Ke.trim()}))||function(Ke){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ke[Symbol.iterator]!=null||Ke["@@iterator"]!=null)return Array.from(Ke)}(vt)||function(Ke,Pe){if(Ke){if(typeof Ke=="string")return s(Ke,Pe);var at=Object.prototype.toString.call(Ke).slice(8,-1);return at==="Object"&&Ke.constructor&&(at=Ke.constructor.name),at==="Map"||at==="Set"?Array.from(Ke):at==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at)?s(Ke,Pe):void 0}}(vt)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_e=Le[0],Ne=Le.slice(1);if(!(_e in Ve)&&!(_e in tt))return ht;var Ze=_e in Ve?Ve[_e]:_e in tt?tt[_e]:null;return Ne.map(function(Ke){return Qe[Ke]}).reduce(function(Ke,Pe){return Pe(Ke)},Ze&&Ze.toString())})},c=function(ke,tt){return function(Ve){if(Array.isArray(Ve))return Ve}(ke)||function(Ve,Qe){var ht=Ve==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ve[Symbol.iterator]||Ve["@@iterator"];if(ht!=null){var bt,vt,Le,_e,Ne=[],Ze=!0,Ke=!1;try{if(Le=(ht=ht.call(Ve)).next,Qe===0){if(Object(ht)!==ht)return;Ze=!1}else for(;!(Ze=(bt=Le.call(ht)).done)&&(Ne.push(bt.value),Ne.length!==Qe);Ze=!0);}catch(Pe){Ke=!0,vt=Pe}finally{try{if(!Ze&&ht.return!=null&&(_e=ht.return(),Object(_e)!==_e))return}finally{if(Ke)throw vt}}return Ne}}(ke,tt)||h(ke,tt)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},d=function(ke,tt){var Ve=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ke[Symbol.iterator]||ke["@@iterator"];if(!Ve){if(Array.isArray(ke)||(Ve=h(ke))||tt&&ke&&typeof ke.length=="number"){Ve&&(ke=Ve);var Qe=0,ht=function(){};return{s:ht,n:function(){return Qe>=ke.length?{done:!0}:{done:!1,value:ke[Qe++]}},e:function(Ne){throw Ne},f:ht}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var bt,vt=!0,Le=!1;return{s:function(){Ve=Ve.call(ke)},n:function(){var Ne=Ve.next();return vt=Ne.done,Ne},e:function(Ne){Le=!0,bt=Ne},f:function(){try{vt||Ve.return==null||Ve.return()}finally{if(Le)throw bt}}}},h=function(ke,tt){if(ke){if(typeof ke=="string")return f(ke,tt);var Ve=Object.prototype.toString.call(ke).slice(8,-1);return Ve==="Object"&&ke.constructor&&(Ve=ke.constructor.name),Ve==="Map"||Ve==="Set"?Array.from(ke):Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve)?f(ke,tt):void 0}},f=function(ke,tt){(tt==null||tt>ke.length)&&(tt=ke.length);for(var Ve=0,Qe=new Array(tt);Ve<tt;Ve++)Qe[Ve]=ke[Ve];return Qe},v=function(ke,tt,Ve,Qe,ht,bt,vt){try{var Le=ke[bt](vt),_e=Le.value}catch(Ne){return void Ve(Ne)}Le.done?tt(_e):Promise.resolve(_e).then(Qe,ht)},_=function(ke){return function(){var tt=this,Ve=arguments;return new Promise(function(Qe,ht){var bt=ke.apply(tt,Ve);function vt(_e){v(bt,Qe,ht,vt,Le,"next",_e)}function Le(_e){v(bt,Qe,ht,vt,Le,"throw",_e)}vt(void 0)})}},b=function(ke,tt){if(!_instanceof(ke,tt))throw new TypeError("Cannot call a class as a function")},w=function(ke,tt){for(var Ve=0;Ve<tt.length;Ve++){var Qe=tt[Ve];Qe.enumerable=Qe.enumerable||!1,Qe.configurable=!0,"value"in Qe&&(Qe.writable=!0),Object.defineProperty(ke,E(Qe.key),Qe)}},A=function(ke,tt,Ve){return tt&&w(ke.prototype,tt),Ve&&w(ke,Ve),Object.defineProperty(ke,"prototype",{writable:!1}),ke},E=function(ke){var tt=function(Ve,Qe){if(F(Ve)!=="object"||Ve===null)return Ve;var ht=Ve[Symbol.toPrimitive];if(ht!==void 0){var bt=ht.call(Ve,"string");if(F(bt)!=="object")return bt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ve)}(ke);return F(tt)==="symbol"?tt:String(tt)},O=function(ke,tt){var Ve={position:ke.style.position,visibility:ke.style.visibility,top:ke.style.top,left:ke.style.left,transform:ke.style.transform};ke.style.position="absolute",ke.style.visibility="hidden",ke.style.top="0",ke.style.left="0",ke.style.transform="none",document.body.appendChild(ke);var Qe=new Map(Array.from(ke.querySelectorAll(tt)).map(function(ht){var bt=ht.getBoundingClientRect();return[ht,new Oe(bt.left+window.scrollX,bt.top+window.scrollY,bt.width,bt.height)]}));return document.body.removeChild(ke),Object.assign(ke.style,Ve),Qe},P=function(ke){var tt=D(ke).find("WORD").toArray();return{ocrElement:ke,words:tt,firstWord:tt[0],lastWord:tt[tt.length-1]}},y=function(ke,tt){var Ve,Qe,ht;return Y().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:Ve=d(ke),bt.prev=1,Ve.s();case 3:if((Qe=Ve.n()).done){bt.next=9;break}return ht=Qe.value,bt.next=7,tt(ht);case 7:bt.next=3;break;case 9:bt.next=14;break;case 11:bt.prev=11,bt.t0=bt.catch(1),Ve.e(bt.t0);case 14:return bt.prev=14,Ve.f(),bt.finish(14);case 17:case"end":return bt.stop()}},X,null,[[1,11,14,17]])},u=function(ke){var tt,Ve,Qe,ht,bt,vt;return Y().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:tt=void 0,Ve=void 0,Qe=void 0,ht=d(ke),Le.prev=4,ht.s();case 6:if((bt=ht.n()).done){Le.next=17;break}if(vt=bt.value,Ve===void 0){Le.next=12;break}return Qe=vt,Le.next=12,[tt,Ve,Qe];case 12:tt=Ve,Ve=vt,Qe=void 0;case 15:Le.next=6;break;case 17:Le.next=22;break;case 19:Le.prev=19,Le.t0=Le.catch(4),ht.e(Le.t0);case 22:return Le.prev=22,ht.f(),Le.finish(22);case 25:if(Ve===void 0){Le.next=28;break}return Le.next=28,[tt,Ve,Qe];case 28:case"end":return Le.stop()}},Q,null,[[4,19,22,25]])},p=function(ke,tt){var Ve,Qe,ht,bt;return Y().wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:Ve=ke[Symbol.iterator](),Qe=tt[Symbol.iterator]();case 2:if(ht=Ve.next(),bt=Qe.next(),!ht.done||!bt.done){vt.next=7;break}return vt.abrupt("return");case 7:if(!ht.done&&!bt.done){vt.next=9;break}throw new Error("zip: one of the iterators is done");case 9:return vt.next=11,[ht.value,bt.value];case 11:vt.next=2;break;case 13:case"end":return vt.stop()}},H)};n(752),n(228),n(6265),n(5728),n(2826),n(4338),n(939),n(3964),n(886),n(5137),n(7049),n(1694),n(2918),n(8436),n(9730),n(429),n(6646),n(4254),n(9749),n(6544),n(6203),n(9373),n(9903),n(9288),n(8373),n(6793),n(7629),n(7509),n(8052),n(7522),n(4284),n(3374),n(4043),n(50),n(2349),n(1919);var g=n(9860),k=n(5311);function x(De){return x=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(tt){return typeof tt=="undefined"?"undefined":_typeof(tt)}:function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke=="undefined"?"undefined":_typeof(ke)},x(De)}var j=function(){function De(Ve,Qe){var ht=this;(function(bt,vt){if(!_instanceof(bt,vt))throw new TypeError("Cannot call a class as a function")})(this,De),l(this,"selecting",!1),l(this,"startedInSelector",!1),l(this,"target",null),l(this,"_onSelectionChange",function(){var bt=window.getSelection();if(!ht.selecting&&bt.toString()){var vt=k(bt.anchorNode).closest(ht.selector)[0];if(!vt)return;ht.target=vt,ht.selecting=!0,ht.handler("started",ht.target)}!ht.selecting||!bt.isCollapsed&&bt.toString()&&k(bt.anchorNode).closest(ht.selector)[0]||(ht.selecting=!1,ht.handler("cleared",ht.target))}),this.selector=Ve,this.handler=Qe}var ke,tt;return ke=De,(tt=[{key:"attach",value:function(){document.addEventListener("selectionchange",this._onSelectionChange)}},{key:"detach",value:function(){document.removeEventListener("selectionchange",this._onSelectionChange)}}])&&o(ke.prototype,tt),Object.defineProperty(ke,"prototype",{writable:!1}),De}();n(7267),n(278);var L={urlencode:encodeURIComponent},D=n(5311);function F(De){return F=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(tt){return typeof tt=="undefined"?"undefined":_typeof(tt)}:function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke=="undefined"?"undefined":_typeof(ke)},F(De)}var X=Y().mark(y),Q=Y().mark(u),H=Y().mark(p);function ce(){return ce=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(ke,tt,Ve){var Qe=function(bt,vt){for(;!Object.prototype.hasOwnProperty.call(bt,vt)&&(bt=V(bt))!==null;);return bt}(ke,tt);if(Qe){var ht=Object.getOwnPropertyDescriptor(Qe,tt);return ht.get?ht.get.call(arguments.length<3?ke:Ve):ht.value}},ce.apply(this,arguments)}function ne(De,ke){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ve,Qe){return Ve.__proto__=Qe,Ve},ne(De,ke)}function V(De){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(tt){return tt.__proto__||Object.getPrototypeOf(tt)},V(De)}function Y(){Y=function(){return ke};var De,ke={},tt=Object.prototype,Ve=tt.hasOwnProperty,Qe=Object.defineProperty||function(R,le,ue){R[le]=ue.value},ht=typeof Symbol=="function"?Symbol:{},bt=ht.iterator||"@@iterator",vt=ht.asyncIterator||"@@asyncIterator",Le=ht.toStringTag||"@@toStringTag";function _e(R,le,ue){return Object.defineProperty(R,le,{value:ue,enumerable:!0,configurable:!0,writable:!0}),R[le]}try{_e({},"")}catch(R){_e=function(ue,ve,de){return ue[ve]=de}}function Ne(R,le,ue,ve){var de=le&&_instanceof(le.prototype,ct)?le:ct,K=Object.create(de.prototype),ge=new Ie(ve||[]);return Qe(K,"_invoke",{value:ut(R,ue,ge)}),K}function Ze(R,le,ue){try{return{type:"normal",arg:R.call(le,ue)}}catch(ve){return{type:"throw",arg:ve}}}ke.wrap=Ne;var Ke="suspendedStart",Pe="suspendedYield",at="executing",pt="completed",lt={};function ct(){}function Ge(){}function ze(){}var He={};_e(He,bt,function(){return this});var rt=Object.getPrototypeOf,it=rt&&rt(rt(nt([])));it&&it!==tt&&Ve.call(it,bt)&&(He=it);var wt=ze.prototype=ct.prototype=Object.create(He);function _t(R){["next","throw","return"].forEach(function(le){_e(R,le,function(ue){return this._invoke(le,ue)})})}function xt(R,le){function ue(de,K,ge,Ee){var Ce=Ze(R[de],R,K);if(Ce.type!=="throw"){var Ye=Ce.arg,Be=Ye.value;return Be&&F(Be)=="object"&&Ve.call(Be,"__await")?le.resolve(Be.__await).then(function(Je){ue("next",Je,ge,Ee)},function(Je){ue("throw",Je,ge,Ee)}):le.resolve(Be).then(function(Je){Ye.value=Je,ge(Ye)},function(Je){return ue("throw",Je,ge,Ee)})}Ee(Ce.arg)}var ve;Qe(this,"_invoke",{value:function(K,ge){function Ee(){return new le(function(Ce,Ye){ue(K,ge,Ce,Ye)})}return ve=ve?ve.then(Ee,Ee):Ee()}})}function ut(R,le,ue){var ve=Ke;return function(de,K){if(ve===at)throw new Error("Generator is already running");if(ve===pt){if(de==="throw")throw K;return{value:De,done:!0}}for(ue.method=de,ue.arg=K;;){var ge=ue.delegate;if(ge){var Ee=we(ge,ue);if(Ee){if(Ee===lt)continue;return Ee}}if(ue.method==="next")ue.sent=ue._sent=ue.arg;else if(ue.method==="throw"){if(ve===Ke)throw ve=pt,ue.arg;ue.dispatchException(ue.arg)}else ue.method==="return"&&ue.abrupt("return",ue.arg);ve=at;var Ce=Ze(R,le,ue);if(Ce.type==="normal"){if(ve=ue.done?pt:Pe,Ce.arg===lt)continue;return{value:Ce.arg,done:ue.done}}Ce.type==="throw"&&(ve=pt,ue.method="throw",ue.arg=Ce.arg)}}}function we(R,le){var ue=le.method,ve=R.iterator[ue];if(ve===De)return le.delegate=null,ue==="throw"&&R.iterator.return&&(le.method="return",le.arg=De,we(R,le),le.method==="throw")||ue!=="return"&&(le.method="throw",le.arg=new TypeError("The iterator does not provide a '"+ue+"' method")),lt;var de=Ze(ve,R.iterator,le.arg);if(de.type==="throw")return le.method="throw",le.arg=de.arg,le.delegate=null,lt;var K=de.arg;return K?K.done?(le[R.resultName]=K.value,le.next=R.nextLoc,le.method!=="return"&&(le.method="next",le.arg=De),le.delegate=null,lt):K:(le.method="throw",le.arg=new TypeError("iterator result is not an object"),le.delegate=null,lt)}function N(R){var le={tryLoc:R[0]};1 in R&&(le.catchLoc=R[1]),2 in R&&(le.finallyLoc=R[2],le.afterLoc=R[3]),this.tryEntries.push(le)}function qe(R){var le=R.completion||{};le.type="normal",delete le.arg,R.completion=le}function Ie(R){this.tryEntries=[{tryLoc:"root"}],R.forEach(N,this),this.reset(!0)}function nt(R){if(R||R===""){var le=R[bt];if(le)return le.call(R);if(typeof R.next=="function")return R;if(!isNaN(R.length)){var ue=-1,ve=function de(){for(;++ue<R.length;)if(Ve.call(R,ue))return de.value=R[ue],de.done=!1,de;return de.value=De,de.done=!0,de};return ve.next=ve}}throw new TypeError(F(R)+" is not iterable")}return Ge.prototype=ze,Qe(wt,"constructor",{value:ze,configurable:!0}),Qe(ze,"constructor",{value:Ge,configurable:!0}),Ge.displayName=_e(ze,Le,"GeneratorFunction"),ke.isGeneratorFunction=function(R){var le=typeof R=="function"&&R.constructor;return!!le&&(le===Ge||(le.displayName||le.name)==="GeneratorFunction")},ke.mark=function(R){return Object.setPrototypeOf?Object.setPrototypeOf(R,ze):(R.__proto__=ze,_e(R,Le,"GeneratorFunction")),R.prototype=Object.create(wt),R},ke.awrap=function(R){return{__await:R}},_t(xt.prototype),_e(xt.prototype,vt,function(){return this}),ke.AsyncIterator=xt,ke.async=function(R,le,ue,ve,de){de===void 0&&(de=Promise);var K=new xt(Ne(R,le,ue,ve),de);return ke.isGeneratorFunction(le)?K:K.next().then(function(ge){return ge.done?ge.value:K.next()})},_t(wt),_e(wt,Le,"Generator"),_e(wt,bt,function(){return this}),_e(wt,"toString",function(){return"[object Generator]"}),ke.keys=function(R){var le=Object(R),ue=[];for(var ve in le)ue.push(ve);return ue.reverse(),function de(){for(;ue.length;){var K=ue.pop();if(K in le)return de.value=K,de.done=!1,de}return de.done=!0,de}},ke.values=nt,Ie.prototype={constructor:Ie,reset:function(le){if(this.prev=0,this.next=0,this.sent=this._sent=De,this.done=!1,this.delegate=null,this.method="next",this.arg=De,this.tryEntries.forEach(qe),!le)for(var ue in this)ue.charAt(0)==="t"&&Ve.call(this,ue)&&!isNaN(+ue.slice(1))&&(this[ue]=De)},stop:function(){this.done=!0;var le=this.tryEntries[0].completion;if(le.type==="throw")throw le.arg;return this.rval},dispatchException:function(le){if(this.done)throw le;var ue=this;function ve(Ye,Be){return ge.type="throw",ge.arg=le,ue.next=Ye,Be&&(ue.method="next",ue.arg=De),!!Be}for(var de=this.tryEntries.length-1;de>=0;--de){var K=this.tryEntries[de],ge=K.completion;if(K.tryLoc==="root")return ve("end");if(K.tryLoc<=this.prev){var Ee=Ve.call(K,"catchLoc"),Ce=Ve.call(K,"finallyLoc");if(Ee&&Ce){if(this.prev<K.catchLoc)return ve(K.catchLoc,!0);if(this.prev<K.finallyLoc)return ve(K.finallyLoc)}else if(Ee){if(this.prev<K.catchLoc)return ve(K.catchLoc,!0)}else{if(!Ce)throw new Error("try statement without catch or finally");if(this.prev<K.finallyLoc)return ve(K.finallyLoc)}}}},abrupt:function(le,ue){for(var ve=this.tryEntries.length-1;ve>=0;--ve){var de=this.tryEntries[ve];if(de.tryLoc<=this.prev&&Ve.call(de,"finallyLoc")&&this.prev<de.finallyLoc){var K=de;break}}K&&(le==="break"||le==="continue")&&K.tryLoc<=ue&&ue<=K.finallyLoc&&(K=null);var ge=K?K.completion:{};return ge.type=le,ge.arg=ue,K?(this.method="next",this.next=K.finallyLoc,lt):this.complete(ge)},complete:function(le,ue){if(le.type==="throw")throw le.arg;return le.type==="break"||le.type==="continue"?this.next=le.arg:le.type==="return"?(this.rval=this.arg=le.arg,this.method="return",this.next="end"):le.type==="normal"&&ue&&(this.next=ue),lt},finish:function(le){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var ve=this.tryEntries[ue];if(ve.finallyLoc===le)return this.complete(ve.completion,ve.afterLoc),qe(ve),lt}},catch:function(le){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var ve=this.tryEntries[ue];if(ve.tryLoc===le){var de=ve.completion;if(de.type==="throw"){var K=de.arg;qe(ve)}return K}}throw new Error("illegal catch attempt")},delegateYield:function(le,ue,ve){return this.delegate={iterator:nt(le),resultName:ue,nextLoc:ve},this.method==="next"&&(this.arg=De),lt}},ke}var oe=window.BookReader,q={enabled:!0,fullDjvuXmlUrl:null,singlePageDjvuXmlUrl:null,jsonp:!1},G=function(){function De(){var ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;b(this,De),this.maxSize=ke,this.entries=[]}return A(De,[{key:"add",value:function(tt){this.entries.length>=this.maxSize&&this.entries.shift(),this.entries.push(tt)}}]),De}(),J=function(){function De(){var Ve,Qe,ht,bt=this,vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q,Le=arguments.length>1?arguments[1]:void 0,_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"lr";b(this,De),Ve=this,ht=function(Ze,Ke){if(Ze==="started")bt.textSelectingMode(Ke);else{if(Ze!=="cleared")throw new Error("Unknown type ".concat(Ze));bt.defaultMode(Ke)}},(Qe=E(Qe="_onSelectionChange"))in Ve?Object.defineProperty(Ve,Qe,{value:ht,enumerable:!0,configurable:!0,writable:!0}):Ve[Qe]=ht,this.options=vt,this.optionVariables=Le,this.djvuPagesPromise=null,this.rtl=_e==="rl",this.pageTextCache=new G,this.maxWordRendered=2500,this.selectionObserver=new j(".BRtextLayer",this._onSelectionChange)}var ke,tt;return A(De,[{key:"init",value:function(){this.selectionObserver.attach(),this.options.singlePageDjvuXmlUrl||(this.djvuPagesPromise=D.ajax({type:"GET",url:r(this.options.fullDjvuXmlUrl,this.optionVariables),dataType:this.options.jsonp?"jsonp":"html",cache:!0,error:function(ht){}}).then(function(Qe){try{var ht=D.parseXML(Qe);return ht&&D(ht).find("OBJECT")}catch(bt){return}}))}},{key:"getPageText",value:(tt=_(Y().mark(function Ve(Qe){var ht,bt,vt,Le,_e;return Y().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:if(!this.options.singlePageDjvuXmlUrl){Ne.next=19;break}if(!(ht=this.pageTextCache.entries.find(function(Ze){return Ze.index==Qe}))){Ne.next=4;break}return Ne.abrupt("return",ht.response);case 4:return Ne.next=6,D.ajax({type:"GET",url:r(this.options.singlePageDjvuXmlUrl,this.optionVariables,{pageIndex:Qe}),dataType:this.options.jsonp?"jsonp":"html",cache:!0,error:function(Ke){}});case 6:return bt=Ne.sent,Ne.prev=7,vt=D.parseXML(bt),Le=vt&&D(vt).find("OBJECT")[0],this.pageTextCache.add({index:Qe,response:Le}),Ne.abrupt("return",Le);case 14:return Ne.prev=14,Ne.t0=Ne.catch(7),Ne.abrupt("return",void 0);case 17:Ne.next=24;break;case 19:return Ne.next=21,this.djvuPagesPromise;case 21:if(!(_e=Ne.sent)){Ne.next=24;break}return Ne.abrupt("return",_e[Qe]);case 24:case"end":return Ne.stop()}},Ve,this,[[7,14]])})),function(Ve){return tt.apply(this,arguments)})},{key:"interceptCopy",value:function(Qe){Qe[0].addEventListener("copy",function(ht){var bt=document.getSelection();ht.clipboardData.setData("text/plain",bt.toString()),ht.preventDefault()})}},{key:"defaultMode",value:function(Qe){var ht=this,bt=D(Qe).closest(".BRpagecontainer");Qe.style.pointerEvents="none",bt.find("img").css("pointer-events","auto"),D(Qe).off(".textSelectPluginHandler");var vt=this.mouseIsDown,Le=this.mouseIsDown;vt&&(Qe.style.pointerEvents="auto"),D(Qe).on("mousedown.textSelectPluginHandler",function(_e){ht.mouseIsDown=!0,D(_e.target).is(".BRwordElement, .BRspace")&&_e.stopPropagation()}),D(Qe).on("mouseup.textSelectPluginHandler",function(_e){ht.mouseIsDown=!1,Qe.style.pointerEvents="none",Le&&(Le=!1,_e.stopPropagation())})}},{key:"textSelectingMode",value:function(Qe){var ht=this,bt=D(Qe).closest(".BRpagecontainer");Qe.style.pointerEvents="all",bt.find("img").css("pointer-events","none"),D(Qe).off(".textSelectPluginHandler"),D(Qe).on("mousedown.textSelectPluginHandler",function(vt){ht.mouseIsDown=!0,vt.stopPropagation()}),D(Qe).on("mouseup.textSelectPluginHandler",function(vt){ht.mouseIsDown=!1,vt.stopPropagation()})}},{key:"stopPageFlip",value:function(Qe){var ht=this,bt=Qe.find(".BRtextLayer");bt.length&&(bt.each(function(vt,Le){return ht.defaultMode(Le)}),this.interceptCopy(Qe))}},{key:"createTextLayer",value:(ke=_(Y().mark(function Ve(Qe){var ht,bt,vt,Le,_e,Ne,Ze,Ke,Pe,at,pt,lt,ct,Ge,ze,He,rt,it,wt,_t,xt,ut,we,N,qe=this;return Y().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(ht=Qe.page.index,!(bt=Qe.$container).find(".BRtextLayer").length){Ie.next=5;break}return Ie.abrupt("return");case 5:return Ie.next=7,this.getPageText(ht);case 7:if(vt=Ie.sent){Ie.next=10;break}return Ie.abrupt("return");case 10:if(ie(vt),!((Le=D(vt).find("WORD").length)>this.maxWordRendered)){Ie.next=15;break}return console.log("Page ".concat(ht," has too many words (").concat(Le," > ").concat(this.maxWordRendered,"). Not rendering text layer.")),Ie.abrupt("return");case 15:_e=(0,g.RS)(Qe.page,"BRtextLayer"),Ne=parseFloat(Qe.$container[0].style.width)/Qe.page.width,Ze=parseFloat(Qe.$container[0].style.height)/Qe.page.height,_e.style.transform="scale(".concat(Ne,", ").concat(Ze,")"),_e.setAttribute("dir",this.rtl?"rtl":"ltr"),Ke=D(vt).find("PARAGRAPH[coords]").toArray(),Pe=Ke.map(function(nt){var R=qe.renderParagraph(nt);return _e.appendChild(R),R}),at=O(_e,".BRparagraphElement"),pt=0,lt=d(p(Ke,Pe));try{for(lt.s();!(ct=lt.n()).done;)Ge=c(ct.value,2),ze=Ge[0],He=Ge[1],rt=D(ze).attr("coords").split(",").map(parseFloat),it=at.get(He),wt=c(rt,4),_t=wt[0],xt=wt[2],ut=wt[3],we=this.rtl?it.right-xt:_t-it.left,N=ut-(it.top+pt),He.style[this.rtl?"marginRight":"marginLeft"]="".concat(we,"px"),He.style.marginTop="".concat(N,"px"),pt+=N,_e.appendChild(He)}catch(nt){lt.e(nt)}finally{lt.f()}bt.append(_e),this.stopPageFlip(bt);case 28:case"end":return Ie.stop()}},Ve,this)})),function(Ve){return ke.apply(this,arguments)})},{key:"renderParagraph",value:function(Qe){var ht=document.createElement("p");ht.classList.add("BRparagraphElement");var bt=c(D(Qe).attr("coords").split(",").map(parseFloat),4),vt=bt[0],Le=bt[1],_e=bt[2],Ne=bt[3],Ze=[],Ke=D(Qe).find("LINE[coords]").toArray();if(!Ke.length)return ht;var Pe,at=d(u(y(Ke,P)));try{for(at.s();!(Pe=at.n()).done;){var pt=c(Pe.value,3),lt=pt[0],ct=pt[1],Ge=pt[2],ze=ct.ocrElement==Ke[Ke.length-1],He=document.createElement("span");He.classList.add("BRlineElement");var rt,it=d(ct.words.entries());try{for(it.s();!(rt=it.n()).done;){var wt=c(rt.value,2),_t=wt[0],xt=wt[1],ut=c(D(xt).attr("coords").split(",").map(parseFloat),4),we=ut[1],N=ut[2],qe=ut[3],Ie=we-qe;if(Ze.push(Ie),_t==0&&lt!=null&&lt.lastWord.textContent.trim().endsWith("-")){var nt=c(D((Ge||lt).firstWord).attr("coords").split(",").map(parseFloat),3)[0];D(xt).attr("coords","".concat(nt,",").concat(we,",").concat(N,",").concat(qe))}var R=document.createElement("span");if(R.setAttribute("class","BRwordElement"),R.textContent=xt.textContent.trim(),_t>0){var le=document.createElement("span");le.classList.add("BRspace"),le.textContent=" ",He.append(le),He.appendChild(document.createTextNode(" "))}He.appendChild(R)}}catch(Pr){it.e(Pr)}finally{it.f()}var ue=ct.lastWord.textContent.trim().endsWith("-"),ve=He.children[He.children.length-1];ue&&!ze&&(ve.textContent=ve.textContent.trim().slice(0,-1),ve.classList.add("BRwordElement--hyphen")),ht.appendChild(He),ze||ue||ht.appendChild(document.createTextNode(" "))}}catch(Pr){at.e(Pr)}finally{at.f()}Ze.sort(function(Pr,Li){return Pr-Li});var de=Ze[Math.floor(.85*Ze.length)]+4;ht.style.left="".concat(vt,"px"),ht.style.top="".concat(Ne,"px"),ht.style.width="".concat(_e-vt,"px"),ht.style.height="".concat(Le-Ne,"px"),ht.style.fontSize="".concat(de,"px");var K,ge=O(ht,".BRwordElement"),Ee=d(p(D(Qe).find("WORD").toArray(),ht.querySelectorAll(".BRwordElement")));try{for(Ee.s();!(K=Ee.n()).done;){var Ce=c(K.value,2),Ye=Ce[0],Be=Ce[1],Je=ge.get(Be),Tt=c(D(Ye).attr("coords").split(",").map(parseFloat),3),jt=Tt[0],Et=Tt[2]-jt;Ye.textContent.endsWith(" ")&&(Et=Et*(Ye.textContent.length-1)/Ye.textContent.length);var Zt=Et-Je.width;Be.style.letterSpacing="".concat(Zt/(Ye.textContent.length-1),"px")}}catch(Pr){Ee.e(Pr)}finally{Ee.f()}ge=O(ht,".BRwordElement");var Nt,Ft,Dt=O(ht,".BRspace"),Jt=D(Qe).find("LINE[coords]").toArray(),Qt=Array.from(ht.querySelectorAll(".BRlineElement")),gn=Ne,Bt=d(p(Jt,Qt));try{for(Bt.s();!(Nt=Bt.n()).done;){var an,tn=c(Nt.value,2),_n=tn[0],Wt=tn[1],Re=D(_n).find("WORD").toArray(),pe=this.rtl?_e:vt,xe=d(p(Re,Wt.querySelectorAll(".BRwordElement")));try{for(xe.s();!(an=xe.n()).done;){var $e=c(an.value,2),ot=$e[0],dt=$e[1],zt=ge.get(dt),mn=c(D(ot).attr("coords").split(",").map(parseFloat),3),bn=mn[0],qt=mn[2],Ln=this.rtl?-(qt-pe):bn-pe;if(dt.previousElementSibling){var Nn=dt.previousElementSibling;Nn.style.letterSpacing="".concat(Ln-Dt.get(Nn).width,"px")}else dt.style[this.rtl?"paddingRight":"paddingLeft"]="".concat(Ln,"px");this.rtl?pe-=Ln+zt.width:pe+=Ln+zt.width}}catch(Pr){xe.e(Pr)}finally{xe.f()}var ui=Math.min.apply(Math,function(Pr){if(Array.isArray(Pr))return f(Pr)}(Ft=Re.map(function(Pr){return parseFloat(D(Pr).attr("coords").split(",")[3])}))||function(Pr){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Pr[Symbol.iterator]!=null||Pr["@@iterator"]!=null)return Array.from(Pr)}(Ft)||h(Ft)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())-gn;Wt.previousElementSibling&&(Wt.previousElementSibling.style.lineHeight="".concat(ui,"px"),gn+=ui)}}catch(Pr){Bt.e(Pr)}finally{Bt.f()}return Qt[Qt.length-1].style.lineHeight="".concat(Le-gn,"px"),ht.appendChild(document.createElement("br")),ht}}]),De}(),ae=function(De){(function(ht,bt){if(typeof bt!="function"&&bt!==null)throw new TypeError("Super expression must either be null or a function");ht.prototype=Object.create(bt&&bt.prototype,{constructor:{value:ht,writable:!0,configurable:!0}}),Object.defineProperty(ht,"prototype",{writable:!1}),bt&&ne(ht,bt)})(Qe,De);var ke,tt,Ve=(ke=Qe,tt=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ht){return!1}}(),function(){var bt,vt=V(ke);if(tt){var Le=V(this).constructor;bt=Reflect.construct(vt,arguments,Le)}else bt=vt.apply(this,arguments);return function(_e,Ne){if(Ne&&(F(Ne)==="object"||typeof Ne=="function"))return Ne;if(Ne!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ze){if(Ze===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ze}(_e)}(this,bt)});function Qe(){return b(this,Qe),Ve.apply(this,arguments)}return A(Qe,[{key:"init",value:function(){var bt=this,vt=Object.assign({},q,this.options.plugins.textSelection);vt.enabled&&(this.textSelectionPlugin=new J(vt,this.options.vars,this.pageProgression),this.options.plugins.textSelection=vt,this.textSelectionPlugin.init(),new j(".BRtextLayer",function(Le){var _e;Le=="started"&&((_e=bt.archiveAnalyticsSendEvent)===null||_e===void 0||_e.call(bt,"BookReader","SelectStart"),bt.refs.$br.find(".BRpagecontainer--hasSelection").removeClass("BRpagecontainer--hasSelection"),D(window.getSelection().anchorNode).closest(".BRpagecontainer").addClass("BRpagecontainer--hasSelection"))}).attach()),ce(V(Qe.prototype),"init",this).call(this)}},{key:"_createPageContainer",value:function(bt){var vt,Le=ce(V(Qe.prototype),"_createPageContainer",this).call(this,bt);return this.mode!==this.constModeThumb&&Le.page&&((vt=this.textSelectionPlugin)===null||vt===void 0||vt.createTextLayer(Le)),Le}}]),Qe}(oe);function ie(De){if(!D(De).attr("coords")&&De.children){var ke=D(De).children().toArray();if(ke.length!==0){var tt,Ve=d(ke);try{for(Ve.s();!(tt=Ve.n()).done;)ie(tt.value)}catch(_e){Ve.e(_e)}finally{Ve.f()}var Qe,ht=[],bt=d(ke);try{for(bt.s();!(Qe=bt.n()).done;){var vt=Qe.value;D(vt).attr("coords")&&ht.push(D(vt).attr("coords").split(",").map(parseFloat))}}catch(_e){bt.e(_e)}finally{bt.f()}var Le=function(_e){var Ne,Ze=1/0,Ke=-1/0,Pe=-1/0,at=1/0,pt=d(_e);try{for(pt.s();!(Ne=pt.n()).done;){var lt=c(Ne.value,4),ct=lt[0],Ge=lt[1],ze=lt[2],He=lt[3];Ze=Math.min(Ze,ct),Ke=Math.max(Ke,Ge),Pe=Math.max(Pe,ze),at=Math.min(at,He)}}catch(rt){pt.e(rt)}finally{pt.f()}return[Ze,Ke,Pe,at]}(ht);Math.abs(Le[0])!=1/0&&D(De).attr("coords",Le.join(","))}}}window.BookReader=ae;var Oe=function(){function De(ke,tt,Ve,Qe){b(this,De),this.x=ke,this.y=tt,this.width=Ve,this.height=Qe}return A(De,[{key:"right",get:function(){return this.x+this.width}},{key:"bottom",get:function(){return this.y+this.height}},{key:"top",get:function(){return this.y}},{key:"left",get:function(){return this.x}}]),De}()},5984:function(t,e,n){var o=n(1236).PROPER,l=n(3689),a=n(6350);t.exports=function(s){return l(function(){return!!a[s]()||"\u200B\x85\u180E"[s]()!=="\u200B\x85\u180E"||o&&a[s].name!==s})}},8436:function(t,e,n){var o=n(9989),l=n(1435).trim;o({target:"String",proto:!0,forced:n(5984)("trim")},{trim:function(){return l(this)}})}},function(t){t(t.s=4742)}])}),rm={},t8(rm,{default:function(){return om}}),r8=tm(nm()),n8(rm,tm(nm()));var m;Wn=r8,m=Wn,im=m.default,i8=Ai(Wn,["default"]),om=im!==void 0?im:i8}}),a8={};ai(a8,{default:function(){return om}});var cP=Mt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-80/BookReader/plugins/plugin.text_selection.js":function(){o8(),o8()}}),dP={},hP=Mt({"www/sf/bookreader/BookReaderHelpers.js":function(){typeof Object.assign!="function"&&function(){Object.assign=function(m){"use strict";if(m==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(m),e=1;e<arguments.length;e++){var n=arguments[e];if(n!=null)for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t}}(),window.logError=ET}}),Va,s8,ga,Oh,Ao,xi,am,l8,sm,u8,c8,lm,d8,h8,Bl,um,f8,cm,p8,fP=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/search-service@0.1.2/esnext/search-service.mjs":function(){vi(),vi(),vi(),vi(),vi(),vi(),vi(),vi(),vi(),vi(),Va=function(){"use strict";function m(t,e){_classCallCheck(this,m),this.values=[],this.parser=t,this.rawValue=e,this.processRawValue()}return _createClass(m,[{key:"value",get:function(){return this.values.length>0?this.values[0]:void 0}},{key:"processRawValue",value:function(){var e=this;this.rawValue!==void 0&&(Array.isArray(this.rawValue)?this.rawValue.forEach(function(n){e.parseAndPersistValue(n)}):this.parseAndPersistValue(this.rawValue))}},{key:"parseAndPersistValue",value:function(e){var n=this.parser.parseValue(e);n!==void 0&&this.values.push(n)}}]),m}(),s8=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,ac.shared,n)}return e}(Va),ga=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,va.shared,n)}return e}(Va),Oh=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,zs.shared,n)}return e}(Va),Ao=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,eo.shared,n)}return e}(Va),xi=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,$l.shared,n)}return e}(Va),am=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Ua.shared,n)}return e}(Va),l8=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,sc.shared,n)}return e}(Va),sm=function m(t){"use strict";_classCallCheck(this,m),this.rawMetadata=t,this.identifier=t.identifier,this.addeddate=t.addeddate?new ga(t.addeddate):void 0,this.publicdate=t.publicdate?new ga(t.publicdate):void 0,this.indexdate=t.indexdate?new ga(t.indexdate):void 0,this.audio_codec=t.audio_codec?new xi(t.audio_codec):void 0,this.audio_sample_rate=t.audio_sample_rate?new Ao(t.audio_sample_rate):void 0,this.collection=t.collection?new xi(t.collection):void 0,this.collections_raw=t.collections_raw?new xi(t.collections_raw):void 0,this.collection_size=t.collection_size?new am(t.collection_size):void 0,this.contributor=t.contributor?new xi(t.contributor):void 0,this.coverage=t.coverage?new xi(t.coverage):void 0,this.creator=t.creator?new xi(t.creator):void 0,this.date=t.date?new ga(t.date):void 0,this.description=t.description?new xi(t.description):void 0,this.downloads=t.downloads?new Ao(t.downloads):void 0,this.duration=t.duration?new Oh(t.duration):void 0,this.files_count=t.files_count?new Ao(t.files_count):void 0,this.item_count=t.item_count?new Ao(t.item_count):void 0,this.item_size=t.item_size?new am(t.item_size):void 0,this.language=t.language?new xi(t.language):void 0,this.length=t.length?new Oh(t.length):void 0,this.lineage=t.lineage?new xi(t.lineage):void 0,this.mediatype=t.mediatype?new l8(t.mediatype):void 0,this.month=t.month?new Ao(t.month):void 0,this.noindex=t.noindex?new s8(t.noindex):void 0,this.notes=t.notes?new xi(t.notes):void 0,this.num_favorites=t.num_favorites?new Ao(t.num_favorites):void 0,this.num_reviews=t.num_reviews?new Ao(t.num_reviews):void 0,this.runtime=t.runtime?new Oh(t.runtime):void 0,this.scanner=t.scanner?new xi(t.scanner):void 0,this.source=t.source?new xi(t.source):void 0,this.start_localtime=t.start_localtime?new ga(t.start_localtime):void 0,this.start_time=t.start_time?new ga(t.start_time):void 0,this.stop_time=t.stop_time?new ga(t.stop_time):void 0,this.subject=t.subject?new xi(t.subject):void 0,this.taper=t.taper?new xi(t.taper):void 0,this.title=t.title?new xi(t.title):void 0,this.track=t.track?new Ao(t.track):void 0,this.transferer=t.transferer?new xi(t.transferer):void 0,this.type=t.type?new xi(t.type):void 0,this.uploader=t.uploader?new xi(t.uploader):void 0,this.utc_offset=t.utc_offset?new Ao(t.utc_offset):void 0,this.venue=t.venue?new xi(t.venue):void 0,this.week=t.week?new Ao(t.week):void 0,this.year=t.year?new ga(t.year):void 0},u8=function m(t){"use strict";_classCallCheck(this,m),this.name=t.name,this.source=t.source,this.btih=t.btih,this.md5=t.md5,this.format=t.format,this.mtime=t.mtime,this.crc32=t.crc32,this.sha1=t.sha1,this.original=t.original,this.title=t.title,this.length=t.length?zs.shared.parseValue(t.length):void 0,this.size=t.size?Ua.shared.parseValue(t.size):void 0,this.height=t.height?eo.shared.parseValue(t.height):void 0,this.width=t.width?eo.shared.parseValue(t.width):void 0,this.track=t.track?eo.shared.parseValue(t.track):void 0,this.external_identifier=t["external-identifier"],this.creator=t.creator,this.album=t.album},c8=function m(t){"use strict";_classCallCheck(this,m),this.reviewbody=t.reviewbody,this.reviewtitle=t.reviewtitle,this.reviewer=t.reviewer,this.reviewdate=va.shared.parseValue(t.reviewdate),this.createdate=va.shared.parseValue(t.createdate),this.stars=t.stars?parseFloat(t.stars):void 0},lm=function m(t){"use strict";_classCallCheck(this,m);var e,n;this.rawResponse=t,this.created=t.created,this.d1=t.d1,this.d2=t.d2,this.dir=t.dir,this.files=(e=t.files)===null||e===void 0?void 0:e.map(function(o){return new u8(o)}),this.files_count=t.files_count,this.item_last_updated=t.item_last_updated,this.item_size=t.item_size,this.metadata=new sm(t.metadata),this.server=t.server,this.uniq=t.uniq,this.workable_servers=t.workable_servers,this.speech_vs_music_asr=t.speech_vs_music_asr,this.reviews=(n=t.reviews)===null||n===void 0?void 0:n.map(function(o){return new c8(o)})},d8=function m(t){"use strict";_classCallCheck(this,m),this.numFound=t.numFound,this.start=t.start,this.docs=t.docs.map(function(e){return new sm(e)}),this.aggregations=t.aggregations},h8=function m(t){"use strict";_classCallCheck(this,m),this.rawResponse=t,this.responseHeader=t.responseHeader,this.response=new d8(t.response)},function(m){m.networkError="SearchService.NetworkError",m.itemNotFound="SearchService.ItemNotFound",m.decodingError="SearchService.DecodingError",m.searchEngineError="SearchService.SearchEngineError"}(Bl||(Bl={})),um=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n,o,l){_classCallCheck(this,e);var a;return a=t.call(this,o),a.name=n,a.type=n,a.details=l,_possibleConstructorReturn(a)}return e}(_wrapNativeSuper(Error)),f8=function(){"use strict";function m(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"archive.org";_classCallCheck(this,m),this.baseUrl=t}return _createClass(m,[{key:"performSearch",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){var o,l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=e.asUrlSearchParams.toString(),l="https://".concat(this.baseUrl,"/advancedsearch.php?").concat(o),s.abrupt("return",this.fetchUrl(l));case 2:case"end":return s.stop()}},n,this)}))}},{key:"fetchMetadata",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){var o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o="https://".concat(this.baseUrl,"/metadata/").concat(e),a.abrupt("return",this.fetchUrl(o));case 2:case"end":return a.stop()}},n,this)}))}},{key:"fetchUrl",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a,s,r,c;return _regeneratorRuntime.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=1,h.next=4,fetch(e);case 4:o=h.sent,h.next=11;break;case 7:return h.prev=7,h.t0=h.catch(1),l=_instanceof(h.t0,Error)?h.t0.message:h.t0,h.abrupt("return",this.getErrorResult(Bl.networkError,l));case 11:return h.prev=11,h.next=14,o.json();case 14:if(a=h.sent,s=a.error,!s){h.next=21;break}return r=a.forensics,h.abrupt("return",this.getErrorResult(Bl.searchEngineError,s,r));case 21:return h.abrupt("return",{success:a});case 22:h.next=28;break;case 24:return h.prev=24,h.t1=h.catch(11),c=_instanceof(h.t1,Error)?h.t1.message:h.t1,h.abrupt("return",this.getErrorResult(Bl.decodingError,c));case 28:case"end":return h.stop()}},n,this,[[1,7],[11,24]])}))}},{key:"getErrorResult",value:function(e,n,o){return{error:new um(e,n,o)}}}]),m}(),cm=function(){"use strict";function m(t){_classCallCheck(this,m),this.searchBackend=t}return _createClass(m,[{key:"search",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){var o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.searchBackend.performSearch(e);case 2:return o=a.sent,a.abrupt("return",o.error?o:{success:new h8(o.success)});case 4:case"end":return a.stop()}},n,this)}))}},{key:"fetchMetadata",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){var o,l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,this.searchBackend.fetchMetadata(e);case 3:return l=s.sent,s.abrupt("return",l.error?l:((o=l.success)===null||o===void 0?void 0:o.metadata)===void 0?{error:new um(Bl.itemNotFound)}:{success:new lm(l.success)});case 5:case"end":return s.stop()}},n,this)}))}}]),m}(),cm.default=new cm(new f8),function(m){m.Asc="asc",m.Desc="desc"}(p8||(p8={}))}}),v8,g8,pP=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-ellipses@1.3.4/esnext/icon-ellipses.js":function(){vn(),vn(),v8=St(_templateObject107()),g8=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return v8}}],[{key:"styles",get:function(){return Lt(_templateObject108())}}]),e}(Vn),customElements.define("ia-icon-ellipses",g8)}}),m8,y8,vP=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-collapse-sidebar@1.3.4/esnext/icon-collapse-sidebar.mjs":function(){vn(),vn(),m8=St(_templateObject109()),y8=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return m8}}],[{key:"styles",get:function(){return Lt(_templateObject110())}}]),e}(Vn),customElements.define("ia-icon-collapse-sidebar",y8)}}),b8,w8,_8=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-share@1.3.4/esnext/icon-share.js":function(){vn(),vn(),b8=St(_templateObject111()),w8=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return b8}}],[{key:"styles",get:function(){return Lt(_templateObject112())}}]),e}(Vn),customElements.define("ia-icon-share",w8)}}),k8,x8,S8=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-twitter@1.3.4/esnext/icon-twitter.js":function(){vn(),vn(),k8=St(_templateObject113()),x8=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return k8}}],[{key:"styles",get:function(){return Lt(_templateObject114())}}]),e}(Vn),customElements.define("ia-icon-twitter",x8)}}),C8,A8,O8=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-facebook@1.3.4/esnext/icon-facebook.js":function(){vn(),vn(),C8=St(_templateObject115()),A8=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return C8}}],[{key:"styles",get:function(){return Lt(_templateObject116())}}]),e}(Vn),customElements.define("ia-icon-facebook",A8)}}),j8,E8,T8=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-tumblr@1.3.4/esnext/icon-tumblr.js":function(){vn(),vn(),j8=St(_templateObject117()),E8=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return j8}}],[{key:"styles",get:function(){return Lt(_templateObject118())}}]),e}(Vn),customElements.define("ia-icon-tumblr",E8)}}),P8,I8,M8=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-pinterest@1.3.4/esnext/icon-pinterest.js":function(){vn(),vn(),P8=St(_templateObject119()),I8=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return P8}}],[{key:"styles",get:function(){return Lt(_templateObject120())}}]),e}(Vn),customElements.define("ia-icon-pinterest",I8)}}),L8,R8,D8=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-email@1.3.4/esnext/icon-email.js":function(){vn(),vn(),L8=St(_templateObject121()),R8=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return L8}}],[{key:"styles",get:function(){return Lt(_templateObject122())}}]),e}(Vn),customElements.define("ia-icon-email",R8)}}),$8,B8,N8=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-link@1.3.4/esnext/icon-link.js":function(){vn(),vn(),$8=St(_templateObject123()),B8=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return $8}}],[{key:"styles",get:function(){return Lt(_templateObject124())}}]),e}(Vn),customElements.define("ia-icon-link",B8)}}),lc,Nl,zl,uc=Mt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directive.js":function(){lc={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Nl=function(m){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return{_$litDirective$:m,values:e}}},zl=function(){"use strict";function m(t){_classCallCheck(this,m)}return _createClass(m,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(e,n,o){this._$Ct=e,this._$AM=n,this._$Ci=o}},{key:"_$AS",value:function(e,n){return this.update(e,n)}},{key:"update",value:function(e,n){return this.render.apply(this,_toConsumableArray(n))}}]),m}()}});function Fs(m,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===Ul)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,c=Fl(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(m),r._$AT(m,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=Fs(m,r._$AS(m,t.values),r,n)),t}var dm,cc,Hs,hm,dc,Fo,jh,z8,Wa,hc,Fl,fm,pm,Eh,Hl,vm,gm,qa,mm,ym,bm,wm,gP,mP,Ul,Oi,_m,Ga,km,Th,xm,Ph,Vl,Sm,F8,Cm,Am,Om,H8,jm,U8,Em,V8,Tm,Ya,Xa,W8,Ih,Mh,Lh,q8,G8=Mt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directive-helpers.js":function(){cc=window,Hs=cc.trustedTypes,hm=Hs?Hs.createPolicy("lit-html",{createHTML:function(t){return t}}):void 0,dc="$lit$",Fo="lit$".concat((Math.random()+"").slice(9),"$"),jh="?"+Fo,z8="<".concat(jh,">"),Wa=document,hc=function(){return Wa.createComment("")},Fl=function(t){return t===null||typeof t!="object"&&typeof t!="function"},fm=Array.isArray,pm=function(t){return fm(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function"},Eh="[ 	\n\f\r]",Hl=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,vm=/-->/g,gm=/>/g,qa=RegExp(">|".concat(Eh,"(?:([^\\s\"'>=/]+)(").concat(Eh,"*=").concat(Eh,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),mm=/'/g,ym=/"/g,bm=/^(?:script|style|textarea|title)$/i,wm=function(t){return function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),l=1;l<n;l++)o[l-1]=arguments[l];return{_$litType$:t,strings:e,values:o}}},gP=wm(1),mP=wm(2),Ul=Symbol.for("lit-noChange"),Oi=Symbol.for("lit-nothing"),_m=new WeakMap,Ga=Wa.createTreeWalker(Wa,129,null,!1),km=function(t,e){for(var n=t.length-1,o=[],l,a=e===2?"<svg>":"",s=Hl,r=0;r<n;r++){for(var c=t[r],d=void 0,h=void 0,f=-1,v=0;v<c.length&&(s.lastIndex=v,h=s.exec(c),h!==null);)v=s.lastIndex,s===Hl?h[1]==="!--"?s=vm:h[1]!==void 0?s=gm:h[2]!==void 0?(bm.test(h[2])&&(l=RegExp("</"+h[2],"g")),s=qa):h[3]!==void 0&&(s=qa):s===qa?h[0]===">"?(s=l!=null?l:Hl,f=-1):h[1]===void 0?f=-2:(f=s.lastIndex-h[2].length,d=h[1],s=h[3]===void 0?qa:h[3]==='"'?ym:mm):s===ym||s===mm?s=qa:s===vm||s===gm?s=Hl:(s=qa,l=void 0);var _=s===qa&&t[r+1].startsWith("/>")?" ":"";a+=s===Hl?c+z8:f>=0?(o.push(d),c.slice(0,f)+dc+c.slice(f)+Fo+_):c+Fo+(f===-2?(o.push(void 0),r):_)}return[t5(t,a+(t[n]||"<?>")+(e===2?"</svg>":"")),o]},Th=function(){"use strict";function t(e,n){var o=e.strings,l=e._$litType$;_classCallCheck(this,t);var a;this.parts=[];var s=0,r=0,c=o.length-1,d=this.parts,h=_slicedToArray(km(o,l),2),f=h[0],v=h[1];if(this.el=t.createElement(f,n),Ga.currentNode=this.el.content,l===2){var _,b=this.el.content,w=b.firstChild;w.remove(),(_=b).append.apply(_,_toConsumableArray(w.childNodes))}for(;(a=Ga.nextNode())!==null&&d.length<c;){if(a.nodeType===1){if(a.hasAttributes()){var A=[],E=!0,O=!1,P=void 0;try{for(var y=a.getAttributeNames()[Symbol.iterator](),u;!(E=(u=y.next()).done);E=!0){var p=u.value;if(p.endsWith(dc)||p.startsWith(Fo)){var g=v[r++];if(A.push(p),g!==void 0){var k=a.getAttribute(g.toLowerCase()+dc).split(Fo),x=/([.?@])?(.*)/.exec(g);d.push({type:1,index:s,name:x[2],strings:k,ctor:x[1]==="."?Sm:x[1]==="?"?Cm:x[1]==="@"?Am:Vl})}else d.push({type:6,index:s})}}}catch(Y){O=!0,P=Y}finally{try{!E&&y.return!=null&&y.return()}finally{if(O)throw P}}var j=!0,L=!1,D=void 0;try{for(var F=A[Symbol.iterator](),X;!(j=(X=F.next()).done);j=!0){var Q=X.value;a.removeAttribute(Q)}}catch(Y){L=!0,D=Y}finally{try{!j&&F.return!=null&&F.return()}finally{if(L)throw D}}}if(bm.test(a.tagName)){var H=a.textContent.split(Fo),ce=H.length-1;if(ce>0){a.textContent=Hs?Hs.emptyScript:"";for(var ne=0;ne<ce;ne++)a.append(H[ne],hc()),Ga.nextNode(),d.push({type:2,index:++s});a.append(H[ce],hc())}}}else if(a.nodeType===8)if(a.data===jh)d.push({type:2,index:s});else for(var V=-1;(V=a.data.indexOf(Fo,V+1))!==-1;)d.push({type:7,index:s}),V+=Fo.length-1;s++}}return _createClass(t,null,[{key:"createElement",value:function(n,o){var l=Wa.createElement("template");return l.innerHTML=n,l}}]),t}(),xm=function(){"use strict";function t(e,n){_classCallCheck(this,t),this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}return _createClass(t,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(n){var o,l=this._$AD,a=l.el,s=a.content,r=l.parts,c=((o=n==null?void 0:n.creationScope)!==null&&o!==void 0?o:Wa).importNode(s,!0);Ga.currentNode=c;for(var d=Ga.nextNode(),h=0,f=0,v=r[0];v!==void 0;){if(h===v.index){var _=void 0;v.type===2?_=new Ph(d,d.nextSibling,this,n):v.type===1?_=new v.ctor(d,v.name,v.strings,this,n):v.type===6&&(_=new Om(d,this,n)),this._$AV.push(_),v=r[++f]}h!==(v==null?void 0:v.index)&&(d=Ga.nextNode(),h++)}return Ga.currentNode=Wa,c}},{key:"v",value:function(n){var o=0,l=!0,a=!1,s=void 0;try{for(var r=this._$AV[Symbol.iterator](),c;!(l=(c=r.next()).done);l=!0){var d=c.value;d!==void 0&&(d.strings!==void 0?(d._$AI(n,d,o),o+=d.strings.length-2):d._$AI(n[o])),o++}}catch(h){a=!0,s=h}finally{try{!l&&r.return!=null&&r.return()}finally{if(a)throw s}}}}]),t}(),Ph=function(){"use strict";function t(e,n,o,l){_classCallCheck(this,t);var a;this.type=2,this._$AH=Oi,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=o,this.options=l,this._$Cp=(a=l==null?void 0:l.isConnected)===null||a===void 0||a}return _createClass(t,[{key:"_$AU",get:function(){var n,o;return(o=(n=this._$AM)===null||n===void 0?void 0:n._$AU)!==null&&o!==void 0?o:this._$Cp}},{key:"parentNode",get:function(){var n=this._$AA.parentNode,o=this._$AM;return o!==void 0&&(n==null?void 0:n.nodeType)===11&&(n=o.parentNode),n}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;n=Fs(this,n,o),Fl(n)?n===Oi||n==null||n===""?(this._$AH!==Oi&&this._$AR(),this._$AH=Oi):n!==this._$AH&&n!==Ul&&this._(n):n._$litType$!==void 0?this.g(n):n.nodeType!==void 0?this.$(n):pm(n)?this.T(n):this._(n)}},{key:"k",value:function(n){return this._$AA.parentNode.insertBefore(n,this._$AB)}},{key:"$",value:function(n){this._$AH!==n&&(this._$AR(),this._$AH=this.k(n))}},{key:"_",value:function(n){this._$AH!==Oi&&Fl(this._$AH)?this._$AA.nextSibling.data=n:this.$(Wa.createTextNode(n)),this._$AH=n}},{key:"g",value:function(n){var o,l=n.values,a=n._$litType$,s=typeof a=="number"?this._$AC(n):(a.el===void 0&&(a.el=Th.createElement(t5(a.h,a.h[0]),this.options)),a);if(((o=this._$AH)===null||o===void 0?void 0:o._$AD)===s)this._$AH.v(l);else{var r=new xm(s,this),c=r.u(this.options);r.v(l),this.$(c),this._$AH=r}}},{key:"_$AC",value:function(n){var o=_m.get(n.strings);return o===void 0&&_m.set(n.strings,o=new Th(n)),o}},{key:"T",value:function(n){fm(this._$AH)||(this._$AH=[],this._$AR());var o=this._$AH,l,a=0,s=!0,r=!1,c=void 0;try{for(var d=n[Symbol.iterator](),h;!(s=(h=d.next()).done);s=!0){var f=h.value;a===o.length?o.push(l=new t(this.k(hc()),this.k(hc()),this,this.options)):l=o[a],l._$AI(f),a++}}catch(v){r=!0,c=v}finally{try{!s&&d.return!=null&&d.return()}finally{if(r)throw c}}a<o.length&&(this._$AR(l&&l._$AB.nextSibling,a),o.length=a)}},{key:"_$AR",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,o=arguments.length>1?arguments[1]:void 0,l;for((l=this._$AP)===null||l===void 0||l.call(this,!1,!0,o);n&&n!==this._$AB;){var a=n.nextSibling;n.remove(),n=a}}},{key:"setConnected",value:function(n){var o;this._$AM===void 0&&(this._$Cp=n,(o=this._$AP)===null||o===void 0||o.call(this,n))}}]),t}(),Vl=function(){"use strict";function t(e,n,o,l,a){_classCallCheck(this,t),this.type=1,this._$AH=Oi,this._$AN=void 0,this.element=e,this.name=n,this._$AM=l,this.options=a,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=Oi}return _createClass(t,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,l=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=this.strings,r=!1;if(s===void 0)n=Fs(this,n,o,0),r=!Fl(n)||n!==this._$AH&&n!==Ul,r&&(this._$AH=n);else{var c=n,d,h;for(n=s[0],d=0;d<s.length-1;d++)h=Fs(this,c[l+d],o,d),h===Ul&&(h=this._$AH[d]),r||(r=!Fl(h)||h!==this._$AH[d]),h===Oi?n=Oi:n!==Oi&&(n+=(h!=null?h:"")+s[d+1]),this._$AH[d]=h}r&&!a&&this.j(n)}},{key:"j",value:function(n){n===Oi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,n!=null?n:"")}}]),t}(),Sm=function(t){"use strict";_inherits(n,t);var e=_createSuper(n);function n(){_classCallCheck(this,n);var o;return o=e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments))),o.type=3,_possibleConstructorReturn(o)}return _createClass(n,[{key:"j",value:function(l){this.element[this.name]=l===Oi?void 0:l}}]),n}(Vl),F8=Hs?Hs.emptyScript:"",Cm=function(t){"use strict";_inherits(n,t);var e=_createSuper(n);function n(){_classCallCheck(this,n);var o;return o=e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments))),o.type=4,_possibleConstructorReturn(o)}return _createClass(n,[{key:"j",value:function(l){l&&l!==Oi?this.element.setAttribute(this.name,F8):this.element.removeAttribute(this.name)}}]),n}(Vl),Am=function(t){"use strict";_inherits(n,t);var e=_createSuper(n);function n(o,l,a,s,r){_classCallCheck(this,n);var c;return c=e.call(this,o,l,a,s,r),c.type=5,_possibleConstructorReturn(c)}return _createClass(n,[{key:"_$AI",value:function(l){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,s;if((l=(s=Fs(this,l,a,0))!==null&&s!==void 0?s:Oi)!==Ul){var r=this._$AH,c=l===Oi&&r!==Oi||l.capture!==r.capture||l.once!==r.once||l.passive!==r.passive,d=l!==Oi&&(r===Oi||c);c&&this.element.removeEventListener(this.name,this,r),d&&this.element.addEventListener(this.name,this,l),this._$AH=l}}},{key:"handleEvent",value:function(l){var a,s;typeof this._$AH=="function"?this._$AH.call((s=(a=this.options)===null||a===void 0?void 0:a.host)!==null&&s!==void 0?s:this.element,l):this._$AH.handleEvent(l)}}]),n}(Vl),Om=function(){"use strict";function t(e,n,o){_classCallCheck(this,t),this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=o}return _createClass(t,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(n){Fs(this,n)}}]),t}(),H8={O:dc,P:Fo,A:jh,C:1,M:km,L:xm,R:pm,D:Fs,I:Ph,V:Vl,H:Cm,N:Am,U:Sm,F:Om},jm=cc.litHtmlPolyfillSupport,jm==null||jm(Th,Ph),((dm=cc.litHtmlVersions)!==null&&dm!==void 0?dm:cc.litHtmlVersions=[]).push("2.8.0");var m;m=H8,U8=m.I,Em=function(t,e){return e===void 0?(t==null?void 0:t._$litType$)!==void 0:(t==null?void 0:t._$litType$)===e},V8=function(t){var e;return((e=t==null?void 0:t._$litType$)===null||e===void 0?void 0:e.h)!=null},Tm=function(){return document.createComment("")},Ya=function(t,e,n){var o,l=t._$AA.parentNode,a=e===void 0?t._$AB:e._$AA;if(n===void 0){var s=l.insertBefore(Tm(),a),r=l.insertBefore(Tm(),a);n=new U8(s,r,t,t.options)}else{var c=n._$AB.nextSibling,d=n._$AM,h=d!==t;if(h){var f;(o=n._$AQ)===null||o===void 0||o.call(n,t),n._$AM=t,n._$AP!==void 0&&(f=t._$AU)!==d._$AU&&n._$AP(f)}if(c!==a||h)for(var v=n._$AA;v!==c;){var _=v.nextSibling;l.insertBefore(v,a),v=_}}return n},Xa=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;return t._$AI(e,n),t},W8={},Ih=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W8;return t._$AH=e},Mh=function(t){return t._$AH},Lh=function(t){var e;(e=t._$AP)===null||e===void 0||e.call(t,!1,!0);for(var n=t._$AA,o=t._$AB.nextSibling;n!==o;){var l=n.nextSibling;n.remove(),n=l}},q8=function(t){t._$AR()}}});function Wl(m,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===Vs)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,c=ql(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(m),r._$AT(m,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=Wl(m,r._$AS(m,t.values),r,n)),t}var Pm,fc,Us,Im,Rh,ma,Mm,Y8,Ka,pc,ql,Lm,X8,Dh,Gl,Rm,Dm,Qa,$m,Bm,Nm,zm,yP,bP,Vs,ji,Fm,Ja,K8,$h,Q8,Hm,vc,J8,Z8,eC,tC,nC,Um,Vm,Yl,wP=Mt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directives/repeat.js":function(){uc(),G8(),fc=window,Us=fc.trustedTypes,Im=Us?Us.createPolicy("lit-html",{createHTML:function(m){return m}}):void 0,Rh="$lit$",ma="lit$".concat((Math.random()+"").slice(9),"$"),Mm="?"+ma,Y8="<".concat(Mm,">"),Ka=document,pc=function(){return Ka.createComment("")},ql=function(m){return m===null||typeof m!="object"&&typeof m!="function"},Lm=Array.isArray,X8=function(m){return Lm(m)||typeof(m==null?void 0:m[Symbol.iterator])=="function"},Dh="[ 	\n\f\r]",Gl=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Rm=/-->/g,Dm=/>/g,Qa=RegExp(">|".concat(Dh,"(?:([^\\s\"'>=/]+)(").concat(Dh,"*=").concat(Dh,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),$m=/'/g,Bm=/"/g,Nm=/^(?:script|style|textarea|title)$/i,zm=function(m){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:m,strings:t,values:n}}},yP=zm(1),bP=zm(2),Vs=Symbol.for("lit-noChange"),ji=Symbol.for("lit-nothing"),Fm=new WeakMap,Ja=Ka.createTreeWalker(Ka,129,null,!1),K8=function(m,t){for(var e=m.length-1,n=[],o,l=t===2?"<svg>":"",a=Gl,s=0;s<e;s++){for(var r=m[s],c=void 0,d=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,d=a.exec(r),d!==null);)f=a.lastIndex,a===Gl?d[1]==="!--"?a=Rm:d[1]!==void 0?a=Dm:d[2]!==void 0?(Nm.test(d[2])&&(o=RegExp("</"+d[2],"g")),a=Qa):d[3]!==void 0&&(a=Qa):a===Qa?d[0]===">"?(a=o!=null?o:Gl,h=-1):d[1]===void 0?h=-2:(h=a.lastIndex-d[2].length,c=d[1],a=d[3]===void 0?Qa:d[3]==='"'?Bm:$m):a===Bm||a===$m?a=Qa:a===Rm||a===Dm?a=Gl:(a=Qa,o=void 0);var v=a===Qa&&m[s+1].startsWith("/>")?" ":"";l+=a===Gl?r+Y8:h>=0?(n.push(c),r.slice(0,h)+Rh+r.slice(h)+ma+v):r+ma+(h===-2?(n.push(void 0),s):v)}return[n5(m,l+(m[e]||"<?>")+(t===2?"</svg>":"")),n]},$h=function(){"use strict";function m(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,m);var l;this.parts=[];var a=0,s=0,r=n.length-1,c=this.parts,d=_slicedToArray(K8(n,o),2),h=d[0],f=d[1];if(this.el=m.createElement(h,e),Ja.currentNode=this.el.content,o===2){var v,_=this.el.content,b=_.firstChild;b.remove(),(v=_).append.apply(v,_toConsumableArray(b.childNodes))}for(;(l=Ja.nextNode())!==null&&c.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var w=[],A=!0,E=!1,O=void 0;try{for(var P=l.getAttributeNames()[Symbol.iterator](),y;!(A=(y=P.next()).done);A=!0){var u=y.value;if(u.endsWith(Rh)||u.startsWith(ma)){var p=f[s++];if(w.push(u),p!==void 0){var g=l.getAttribute(p.toLowerCase()+Rh).split(ma),k=/([.?@])?(.*)/.exec(p);c.push({type:1,index:a,name:k[2],strings:g,ctor:k[1]==="."?J8:k[1]==="?"?eC:k[1]==="@"?tC:vc})}else c.push({type:6,index:a})}}}catch(V){E=!0,O=V}finally{try{!A&&P.return!=null&&P.return()}finally{if(E)throw O}}var x=!0,j=!1,L=void 0;try{for(var D=w[Symbol.iterator](),F;!(x=(F=D.next()).done);x=!0){var X=F.value;l.removeAttribute(X)}}catch(V){j=!0,L=V}finally{try{!x&&D.return!=null&&D.return()}finally{if(j)throw L}}}if(Nm.test(l.tagName)){var Q=l.textContent.split(ma),H=Q.length-1;if(H>0){l.textContent=Us?Us.emptyScript:"";for(var ce=0;ce<H;ce++)l.append(Q[ce],pc()),Ja.nextNode(),c.push({type:2,index:++a});l.append(Q[H],pc())}}}else if(l.nodeType===8)if(l.data===Mm)c.push({type:2,index:a});else for(var ne=-1;(ne=l.data.indexOf(ma,ne+1))!==-1;)c.push({type:7,index:a}),ne+=ma.length-1;a++}}return _createClass(m,null,[{key:"createElement",value:function(e,n){var o=Ka.createElement("template");return o.innerHTML=e,o}}]),m}(),Q8=function(){"use strict";function m(t,e){_classCallCheck(this,m),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(m,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:Ka).importNode(a,!0);Ja.currentNode=r;for(var c=Ja.nextNode(),d=0,h=0,f=s[0];f!==void 0;){if(d===f.index){var v=void 0;f.type===2?v=new Hm(c,c.nextSibling,this,e):f.type===1?v=new f.ctor(c,f.name,f.strings,this,e):f.type===6&&(v=new nC(c,this,e)),this._$AV.push(v),f=s[++h]}d!==(f==null?void 0:f.index)&&(c=Ja.nextNode(),d++)}return Ja.currentNode=Ka,r}},{key:"v",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,n),n+=c.strings.length-2):c._$AI(e[n])),n++}}catch(d){l=!0,a=d}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),m}(),Hm=function(){"use strict";function m(t,e,n,o){_classCallCheck(this,m);var l;this.type=2,this._$AH=ji,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(m,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=Wl(this,e,n),ql(e)?e===ji||e==null||e===""?(this._$AH!==ji&&this._$AR(),this._$AH=ji):e!==this._$AH&&e!==Vs&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):X8(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==ji&&ql(this._$AH)?this._$AA.nextSibling.data=e:this.$(Ka.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=$h.createElement(n5(l.h,l.h[0]),this.options)),l);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.v(o);else{var s=new Q8(a,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=Fm.get(e.strings);return n===void 0&&Fm.set(e.strings,n=new $h(e)),n}},{key:"T",value:function(e){Lm(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(a=(d=c.next()).done);a=!0){var h=d.value;l===n.length?n.push(o=new m(this.k(pc()),this.k(pc()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),m}(),vc=function(){"use strict";function m(t,e,n,o,l){_classCallCheck(this,m),this.type=1,this._$AH=ji,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=ji}return _createClass(m,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=Wl(this,e,n,0),s=!ql(e)||e!==this._$AH&&e!==Vs,s&&(this._$AH=e);else{var r=e,c,d;for(e=a[0],c=0;c<a.length-1;c++)d=Wl(this,r[o+c],n,c),d===Vs&&(d=this._$AH[c]),s||(s=!ql(d)||d!==this._$AH[c]),d===ji?e=ji:e!==ji&&(e+=(d!=null?d:"")+a[c+1]),this._$AH[c]=d}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===ji?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),m}(),J8=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===ji?void 0:o}}]),e}(vc),Z8=Us?Us.emptyScript:"",eC=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==ji?this.element.setAttribute(this.name,Z8):this.element.removeAttribute(this.name)}}]),e}(vc),tC=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=Wl(this,o,l,0))!==null&&a!==void 0?a:ji)!==Vs){var s=this._$AH,r=o===ji&&s!==ji||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,c=o!==ji&&(s===ji||r);r&&this.element.removeEventListener(this.name,this,s),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(vc),nC=function(){"use strict";function m(t,e,n){_classCallCheck(this,m),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(m,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){Wl(this,e)}}]),m}(),Um=fc.litHtmlPolyfillSupport,Um==null||Um($h,Hm),((Pm=fc.litHtmlVersions)!==null&&Pm!==void 0?Pm:fc.litHtmlVersions=[]).push("2.8.0"),Vm=function(m,t,e){for(var n=new Map,o=t;o<=e;o++)n.set(m[o],o);return n},Yl=Nl(function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;if(o=t.call(this,n),n.type!==lc.CHILD)throw Error("repeat() can only be used in text expressions");return _possibleConstructorReturn(o)}return _createClass(e,[{key:"ct",value:function(o,l,a){var s;a===void 0?a=l:l!==void 0&&(s=l);var r=[],c=[],d=0,h=!0,f=!1,v=void 0;try{for(var _=o[Symbol.iterator](),b;!(h=(b=_.next()).done);h=!0){var w=b.value;r[d]=s?s(w,d):d,c[d]=a(w,d),d++}}catch(A){f=!0,v=A}finally{try{!h&&_.return!=null&&_.return()}finally{if(f)throw v}}return{values:c,keys:r}}},{key:"render",value:function(o,l,a){return this.ct(o,l,a).values}},{key:"update",value:function(o,l){var a=_slicedToArray(l,3),s=a[0],r=a[1],c=a[2],d,h=Mh(o),f=this.ct(s,r,c),v=f.values,_=f.keys;if(!Array.isArray(h))return this.ut=_,v;for(var b=(d=this.ut)!==null&&d!==void 0?d:this.ut=[],w=[],A,E,O=0,P=h.length-1,y=0,u=v.length-1;O<=P&&y<=u;)if(h[O]===null)O++;else if(h[P]===null)P--;else if(b[O]===_[y])w[y]=Xa(h[O],v[y]),O++,y++;else if(b[P]===_[u])w[u]=Xa(h[P],v[u]),P--,u--;else if(b[O]===_[u])w[u]=Xa(h[O],v[u]),Ya(o,w[u+1],h[O]),O++,u--;else if(b[P]===_[y])w[y]=Xa(h[P],v[y]),Ya(o,h[O],h[P]),P--,y++;else if(A===void 0&&(A=Vm(_,y,u),E=Vm(b,O,P)),A.has(b[O]))if(A.has(b[P])){var p=E.get(_[y]),g=p!==void 0?h[p]:null;if(g===null){var k=Ya(o,h[O]);Xa(k,v[y]),w[y]=k}else w[y]=Xa(g,v[y]),Ya(o,h[O],g),h[p]=null;y++}else Lh(h[P]),P--;else Lh(h[O]),O++;for(;y<=u;){var x=Ya(o,w[u+1]);Xa(x,v[y]),w[y++]=x}for(;O<=P;){var j=h[O++];j!==null&&Lh(j)}return this.ut=_,Ih(o,w),Vs}}]),e}(zl))}}),Xl=Mt({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/directives/repeat.js":function(){wP()}}),rC,Bh,Wm,iC,oC,Ho,aC,ya,Nh,zh,Ei,qm,_P,bo,sC,lC,uC,kP,Kl,Za,cC=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-item-navigator@2.1.2/esnext/ia-item-navigator.mjs":function(){Cr(),vn(),Or(),fP(),pP(),Cr(),vn(),Or(),vn(),vP(),Cr(),vn(),Or(),vn(),Cr(),vn(),Or(),Cr(),vn(),Or(),Cr(),vn(),Or(),_8(),S8(),O8(),T8(),M8(),D8(),N8(),Cr(),vn(),Or(),Xl(),rC=Lt(_templateObject125()),Bh=Lt(_templateObject126()),Wm=Lt(_templateObject127()),iC=Lt(_templateObject128(),Wm,Bh,Bh,rC,Bh,Wm),oC=Lt(_templateObject129()),Ho=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.icon="",n.href="",n.label="",n.menuDetails="",n.buttonId="",n.selected=!1,n.followable=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"onClick",value:function(o){o.preventDefault(),this.dispatchMenuTypeSelectedEvent()}},{key:"dispatchMenuTypeSelectedEvent",value:function(){this.dispatchEvent(new CustomEvent("menuTypeSelected",{bubbles:!0,composed:!0,detail:{id:this.buttonId}}))}},{key:"buttonClass",get:function(){return this.selected?"selected":""}},{key:"iconClass",get:function(){return this.selected?"active":""}},{key:"menuItem",get:function(){return St(_templateObject130(),this.iconClass,this.icon,this.label,this.menuDetails)}},{key:"linkButton",get:function(){return St(_templateObject131(),this.href,this.buttonClass,this.followable?void 0:this.onClick,this.menuItem)}},{key:"clickButton",get:function(){return St(_templateObject132(),this.buttonClass,this.onClick,this.menuItem)}},{key:"render",value:function(){return this.href?this.linkButton:this.clickButton}}],[{key:"styles",get:function(){return oC}}]),e}(Vn),Xe([Kt({type:String})],Ho.prototype,"icon",void 0),Xe([Kt({type:String})],Ho.prototype,"href",void 0),Xe([Kt({type:String})],Ho.prototype,"label",void 0),Xe([Kt({type:String})],Ho.prototype,"menuDetails",void 0),Xe([Kt({type:String})],Ho.prototype,"buttonId",void 0),Xe([Kt({type:Boolean})],Ho.prototype,"selected",void 0),Xe([Kt({type:Boolean})],Ho.prototype,"followable",void 0),Ho=Xe([Mr("menu-button")],Ho),aC={closeDrawer:"menuSliderClosed"},ya=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.menus=[],n.open=!1,n.manuallyHandleClose=!1,n.selectedMenu="",n.selectedMenuAction=Rn,n.animateMenuOpen=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(){var o=this.selectedMenuDetails||{},l=o.actionButton;l!==this.selectedMenuAction&&(this.selectedMenuAction=l||Rn)}},{key:"setSelectedMenu",value:function(o){var l=o.detail,a=l.id;this.selectedMenu=this.selectedMenu===a?"":a;var s=this.selectedMenuDetails||{},r=s.actionButton;this.selectedMenuAction=r||Rn}},{key:"closeMenu",value:function(){this.manuallyHandleClose||(this.open=!1);var o=aC.closeDrawer,l=new CustomEvent(o,{detail:this.selectedMenuDetails});this.dispatchEvent(l)}},{key:"selectedMenuDetails",get:function(){var o=this;return this.menus.find(function(l){return l.id===o.selectedMenu})}},{key:"selectedMenuComponent",get:function(){var o=this.selectedMenuDetails;return o&&(o!=null&&o.component)?o.component:St(_templateObject133())}},{key:"sliderDetailsClass",get:function(){var o=this.animateMenuOpen?"animate":"",l=this.open?"open":"";return"".concat(o," ").concat(l)}},{key:"selectedMenuClass",get:function(){return this.selectedMenu?"open":""}},{key:"menuItems",get:function(){var o=this;return this.menus.map(function(l){return St(_templateObject134(),o.setSelectedMenu,l.icon,l.label,l.menuDetails,l.id,l.id===o.selectedMenu,l.followable,l.href)})}},{key:"renderMenuHeader",get:function(){var o=this.selectedMenuDetails||{},l=o.label,a=l===void 0?"":l,s=o.menuDetails,r=s===void 0?"":s,c=this.selectedMenuAction?"with-secondary-action":"",d=this.selectedMenuAction?St(_templateObject135(),this.selectedMenuAction):Rn;return St(_templateObject136(),c,a,r,d,this.closeButton)}},{key:"closeButton",get:function(){return St(_templateObject137(),this.closeMenu)}},{key:"render",value:function(){return St(_templateObject138(),this.sliderDetailsClass,this.closeButton,this.menuItems,this.selectedMenuClass,this.setSelectedMenu,this.renderMenuHeader,this.selectedMenuComponent)}}],[{key:"styles",get:function(){return iC}}]),e}(Vn),Xe([Kt({type:Array})],ya.prototype,"menus",void 0),Xe([Kt({type:Boolean})],ya.prototype,"open",void 0),Xe([Kt({type:Boolean})],ya.prototype,"manuallyHandleClose",void 0),Xe([Kt({type:String})],ya.prototype,"selectedMenu",void 0),Xe([Kt({type:Object})],ya.prototype,"selectedMenuAction",void 0),Xe([Kt({type:Boolean})],ya.prototype,"animateMenuOpen",void 0),ya=Xe([Mr("ia-menu-slider")],ya),Nh=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.loaderMessage="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"bookIconSvg",get:function(){return So(_templateObject139())}},{key:"icon",get:function(){return this.bookIconSvg}},{key:"loader",get:function(){return So(_templateObject140(),this.icon)}},{key:"render",value:function(){var o=this.loaderMessage?St(_templateObject141(),this.loaderMessage):Rn;return St(_templateObject142(),o,this.loader)}}],[{key:"styles",get:function(){return Lt(_templateObject143())}}]),e}(Vn),Xe([Kt({type:String})],Nh.prototype,"loaderMessage",void 0),Nh=Xe([Mr("ia-itemnav-loader")],Nh),zh=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.identifier="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"emitLoaded",value:function(){this.dispatchEvent(new CustomEvent("loadingStateUpdated",{detail:{loaded:!0}}))}},{key:"updated",value:function(o){o.has("identifier")&&this.emitLoaded()}},{key:"downloadUrl",get:function(){return"/download/".concat(this.identifier)}},{key:"render",value:function(){return St(_templateObject144(),this.downloadUrl)}}],[{key:"styles",get:function(){return Lt(_templateObject145())}}]),e}(Vn),Xe([Kt({type:String})],zh.prototype,"identifier",void 0),zh=Xe([Mr("ia-no-theater-available")],zh),Ei=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.viewAvailable=!0,n.baseHost="archive.org",n.signedIn=!1,n.menuContents=[],n.menuShortcuts=[],n.viewportInFullscreen=null,n.menuOpened=!1,n.loaded=!1,n.openMenuState="shift",_possibleConstructorReturn(n)}return _createClass(e,[{key:"disconnectedCallback",value:function(){this.removeResizeObserver()}},{key:"updated",value:function(o){if(o.has("sharedObserver")){var l=o.get("sharedObserver");l==null||l.removeObserver(this.resizeObserverConfig),this.setResizeObserver()}}},{key:"handleResize",value:function(o){var l=o.contentRect,a=l.width;if(a<=600){this.openMenuState="overlay";return}this.openMenuState="shift"}},{key:"setResizeObserver",value:function(){var o=this,l,a;(l=this.sharedObserver)===null||l===void 0||l.addObserver(this.resizeObserverConfig),(a=this.sharedObserver)===null||a===void 0||a.addObserver({target:this.headerSlot,handler:{handleResize:function(s){var r=s.contentRect;r.height&&o.requestUpdate()}}})}},{key:"removeResizeObserver",value:function(){var o;(o=this.sharedObserver)===null||o===void 0||o.removeObserver(this.resizeObserverConfig)}},{key:"resizeObserverConfig",get:function(){return{handler:this,target:this.frame}}},{key:"loaderTitle",get:function(){return this.viewportInFullscreen?"Internet Archive":""}},{key:"loadingArea",get:function(){return St(_templateObject146(),this.loaderTitle)}},{key:"slotChange",value:function(o,l){var a,s=(a=o.target.assignedNodes())===null||a===void 0?void 0:a[0];this.dispatchEvent(new CustomEvent("slotChange",{detail:{slot:s,type:l}})),this.requestUpdate()}},{key:"render",value:function(){var o=this,l,a,s=this.loaded?"":"hidden",r=((a=(l=this.headerSlot)===null||l===void 0?void 0:l.assignedNodes()[0])===null||a===void 0?void 0:a.offsetHeight)||0;return St(_templateObject147(),this.menuClass,"height: ".concat(r,"px"),function(c){return o.slotChange(c,"header")},this.shouldRenderMenu?this.renderSideMenu:Rn,s,this.renderViewport,this.loaded?Rn:this.loadingArea)}},{key:"noTheaterView",get:function(){var o,l;return St(_templateObject148(),(l=(o=this.item)===null||o===void 0?void 0:o.metadata)===null||l===void 0?void 0:l.identifier,this.loadingStateUpdated)}},{key:"renderViewport",get:function(){var o=this;if(!this.viewAvailable)return this.noTheaterView;var l=this.loaded?"opacity: 1;":"opacity: 0;";return St(_templateObject149(),l,function(a){return o.slotChange(a,"main")})}},{key:"loadingStateUpdated",value:function(o){var l=o.detail,a=l.loaded;this.loaded=a!=null?a:!1}},{key:"manageViewportFullscreen",value:function(o){var l=!!o.detail.isFullScreen;this.viewportInFullscreen=l||null;var a=new CustomEvent("fullscreenToggled",{detail:o.detail});this.dispatchEvent(a)}},{key:"shouldRenderMenu",get:function(){var o;return!!(!((o=this.menuContents)===null||o===void 0)&&o.length)}},{key:"toggleMenu",value:function(){this.menuOpened=!this.menuOpened}},{key:"closeMenu",value:function(){this.menuOpened=!1}},{key:"setOpenMenu",value:function(o){var l=o.detail,a=l.id;this.openMenu=a!==this.openMenu?a:void 0}},{key:"setMenuContents",value:function(o){var l=_toConsumableArray(o.detail);this.menuContents=l}},{key:"setMenuShortcuts",value:function(o){this.menuShortcuts=_toConsumableArray(o.detail)}},{key:"manageSideMenuEvents",value:function(o){var l=o.detail,a=l.menuId,s=l.action;a&&(s==="open"?this.openShortcut(a):s==="toggle"&&(this.openMenu=a,this.toggleMenu()))}},{key:"menuToggleButton",get:function(){return St(_templateObject150(),this.toggleMenu)}},{key:"selectedMenuId",get:function(){return this.openMenu||""}},{key:"renderSideMenu",get:function(){var o=this.menuOpened?"":"hidden";return St(_templateObject151(),this.shortcuts,this.menuToggleButton,o,this.menuContents,this.selectedMenuId,this.setOpenMenu,this.closeMenu)}},{key:"openShortcut",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";this.openMenu=o,this.menuOpened=!0}},{key:"shortcuts",get:function(){var o=this,l=this.menuShortcuts.map(function(a){var s=a.icon,r=a.id;return r==="fullscreen"?St(_templateObject152(),s):St(_templateObject153(),r,function(){return o.openShortcut(r)},s)});return St(_templateObject154(),l)}},{key:"menuClass",get:function(){var o,l,a=((o=this.menuContents)===null||o===void 0?void 0:o.length)||((l=this.menuShortcuts)===null||l===void 0?void 0:l.length),s=this.menuOpened&&a?"open":"",r=this.viewportInFullscreen?"fullscreen":"";return"".concat(s," ").concat(r," ").concat(this.openMenuState)}}],[{key:"styles",get:function(){var o=Lt(_templateObject155()),l=Lt(_templateObject156()),a=Lt(_templateObject157(),l),s=Lt(_templateObject158()),r=Lt(_templateObject159());return Lt(_templateObject160(),r,s,s,s,o,o,o,a,o,a,o,o,a)}}]),e}(Vn),Xe([Kt({type:Object,converter:function(m){return m&&typeof m=="string"?new lm(JSON.parse(atob(m))):m}})],Ei.prototype,"item",void 0),Xe([Kt({type:Boolean,reflect:!0})],Ei.prototype,"viewAvailable",void 0),Xe([Kt({type:String})],Ei.prototype,"baseHost",void 0),Xe([Kt({type:Boolean})],Ei.prototype,"signedIn",void 0),Xe([Kt({type:Array})],Ei.prototype,"menuContents",void 0),Xe([Kt({type:Array})],Ei.prototype,"menuShortcuts",void 0),Xe([Kt({type:Boolean,reflect:!0,attribute:!0})],Ei.prototype,"viewportInFullscreen",void 0),Xe([Kt({type:Boolean,reflect:!0})],Ei.prototype,"menuOpened",void 0),Xe([Kt({type:String,reflect:!0})],Ei.prototype,"openMenu",void 0),Xe([Kt({attribute:!1})],Ei.prototype,"modal",void 0),Xe([Kt({attribute:!1})],Ei.prototype,"sharedObserver",void 0),Xe([Kt({type:Boolean,reflect:!0,attribute:!0})],Ei.prototype,"loaded",void 0),Xe([Vi()],Ei.prototype,"openMenuState",void 0),Xe([Hr("#frame")],Ei.prototype,"frame",void 0),Xe([Hr('slot[name="header"]')],Ei.prototype,"headerSlot",void 0),Xe([Hr('slot[name="main"]')],Ei.prototype,"mainSlot",void 0),Ei=Xe([Mr("iaux-item-navigator")],Ei),qm=function(m){var t=m.currentTarget,e=t.querySelector("textarea"),n=t.querySelector("small");e.select(),document.execCommand("copy"),e.blur(),n.classList.add("visible"),clearTimeout(n.timeout),n.timeout=setTimeout(function(){return n.classList.remove("visible")},4e3)},_P=St(_templateObject161()),bo=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.baseHost="archive.org",n.creator="",n.description="",n.embedOptionsVisible=!1,n.identifier="",n.sharingOptions=[],n.type="",n.renderHeader=!1,n.fileSubPrefix="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){o.has("sharingOptions")&&!this.sharingOptions.length&&this.loadProviders()}},{key:"loadProviders",value:function(){var o="https://".concat(this.baseHost,"/details/").concat(this.identifier);this.fileSubPrefix&&(o+="/".concat(this.fileSubPrefix));var l=[this.description,this.creator,"Free Download, Borrow, and Streaming","Internet Archive"].filter(Boolean).join(" : ");this.sharingOptions=[{name:"Twitter",icon:St(_templateObject162()),url:"https://twitter.com/intent/tweet?".concat(new URLSearchParams({url:o,text:l,via:"internetarchive"}))},{name:"Facebook",icon:St(_templateObject163()),url:"https://www.facebook.com/sharer/sharer.php?".concat(new URLSearchParams({u:o}))},{name:"Tumblr",icon:St(_templateObject164()),url:"https://www.tumblr.com/widgets/share/tool/preview?".concat(new URLSearchParams({posttype:"link",canonicalUrl:o,title:l}))},{name:"Pinterest",icon:St(_templateObject165()),url:"http://www.pinterest.com/pin/create/button/?".concat(new URLSearchParams({url:o,description:l}))},{name:"Email",icon:St(_templateObject166()),url:"mailto:?".concat(new URLSearchParams({subject:l,body:o}))}]}},{key:"iframeEmbed",get:function(){return'<iframe\n      src="https://'.concat(this.baseHost,"/embed/").concat(this.identifier,'"\n      width="560" height="384" frameborder="0"\n      webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen\n    ></iframe>')}},{key:"bbcodeEmbed",get:function(){return"[archiveorg ".concat(this.identifier," width=560 height=384 frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]")}},{key:"helpURL",get:function(){return"https://".concat(this.baseHost,"/help/audio.php?identifier=").concat(this.identifier)}},{key:"header",get:function(){var o=St(_templateObject167(),this.type);return this.renderHeader?o:Rn}},{key:"render",value:function(){return St(_templateObject169(),this.header,this.sharingOptions.map(function(o){return St(_templateObject168(),o.url,o.icon,o.name)}),qm,this.iframeEmbed,qm,this.bbcodeEmbed,this.helpURL)}},{key:"providerIcon",get:function(){return St(_templateObject170())}}],[{key:"styles",get:function(){return Lt(_templateObject171())}}]),e}(Vn),Xe([Kt({type:String})],bo.prototype,"baseHost",void 0),Xe([Kt({type:String})],bo.prototype,"creator",void 0),Xe([Kt({type:String})],bo.prototype,"description",void 0),Xe([Kt({type:Boolean})],bo.prototype,"embedOptionsVisible",void 0),Xe([Kt({type:String})],bo.prototype,"identifier",void 0),Xe([Kt({type:Array})],bo.prototype,"sharingOptions",void 0),Xe([Kt({type:String})],bo.prototype,"type",void 0),Xe([Kt({type:Boolean})],bo.prototype,"renderHeader",void 0),Xe([Kt({type:String})],bo.prototype,"fileSubPrefix",void 0),bo=Xe([Mr("iaux-in-share-panel")],bo),sC=St(_templateObject172()),lC=St(_templateObject173()),uC=St(_templateObject174()),kP=St(_templateObject175()),Kl=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.fileListRaw=[],n.fileListSorted=[],n.sortOrderBy="default",_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return St(_templateObject176(),this.sortButton)}},{key:"sortButton",get:function(){var o=this;return{default:St(_templateObject177(),function(){return o.sortVolumes("title_asc")},uC),title_asc:St(_templateObject178(),function(){return o.sortVolumes("title_desc")},sC),title_desc:St(_templateObject179(),function(){return o.sortVolumes("default")},lC)}[this.sortOrderBy]}},{key:"sortVolumes",value:function(o){this.sortOrderBy=o;var l=[];l=this.fileListRaw.sort(function(a,s){return o==="title_asc"?a.title.localeCompare(s.title):o==="title_desc"?s.title.localeCompare(a.title):a.orig_sort-s.orig_sort}),this.dispatchEvent(new CustomEvent("fileListSorted",{detail:{sortType:o,sortedFiles:l},bubbles:!0,composed:!0})),this.fileListSorted=l}}],[{key:"styles",get:function(){return Lt(_templateObject180())}}]),e}(Vn),Xe([Kt({type:Array})],Kl.prototype,"fileListRaw",void 0),Xe([Kt({type:Array})],Kl.prototype,"fileListSorted",void 0),Xe([Kt({type:String,reflect:!0})],Kl.prototype,"sortOrderBy",void 0),Kl=Xe([Mr("iaux-in-sort-files-button")],Kl),Za=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.baseHost="archive.org",n.sortOrderBy="default",n.subPrefix="",n.fileList=[],n.addSortToUrl=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"firstUpdated",value:function(){var o=this.shadowRoot.querySelector(".content.active");setTimeout(function(){o!=null&&o.scrollIntoViewIfNeeded?o==null||o.scrollIntoViewIfNeeded(!0):o==null||o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},350)}},{key:"volumeItemWithImageTitle",value:function(o){var l=this.fileUrl(o);return St(_templateObject181(),l,o.image,o.title,o.author)}},{key:"fileUrl",value:function(o){var l="//".concat(this.baseHost).concat(o.url_path),a=l;return this.addSortToUrl&&(a=this.sortOrderBy==="default"?"".concat(l):"".concat(l,"?sort=").concat(this.sortOrderBy)),a}},{key:"pdfLabel",get:function(){return St(_templateObject182())}},{key:"fileLi",value:function(o){var l,a=this.subPrefix===o.file_subprefix?" active":"",s=this.fileUrl(o),r=((l=o.file_source)!==null&&l!==void 0?l:"").match(/^[^+]+\.pdf$/i);return St(_templateObject183(),a,s,o.title,r?this.pdfLabel:Rn)}},{key:"fileListTemplate",get:function(){var o=Yl(this.fileList,function(l){return l==null?void 0:l.file_prefix},this.fileLi.bind(this));return St(_templateObject184(),o)}},{key:"render",value:function(){return St(_templateObject185(),this.fileList.length?this.fileListTemplate:Rn)}}],[{key:"styles",get:function(){return Lt(_templateObject186())}}]),e}(Vn),Xe([Kt({type:String})],Za.prototype,"baseHost",void 0),Xe([Kt({type:String})],Za.prototype,"sortOrderBy",void 0),Xe([Kt({type:String})],Za.prototype,"subPrefix",void 0),Xe([Kt({type:Array})],Za.prototype,"fileList",void 0),Xe([Kt({type:Boolean,reflect:!0})],Za.prototype,"addSortToUrl",void 0),Za=Xe([Mr("iaux-in-viewable-files-panel")],Za)}}),dC,Gm,hC,xP=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-close@1.3.4/esnext/index.js":function(){vn(),vn(),dC=St(_templateObject187()),Gm=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return dC}}],[{key:"styles",get:function(){return Lt(_templateObject188())}}]),e}(Vn),customElements.define("ia-icon-close",Gm),hC=Gm}}),fC,Ym,pC,SP=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-ia-logo@1.3.4/esnext/index.js":function(){vn(),vn(),fC=St(_templateObject189()),Ym=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return fC}}],[{key:"styles",get:function(){return Lt(_templateObject190())}}]),e}(Vn),customElements.define("ia-icon-ia-logo",Ym),pC=Ym}}),Xm,Fh,Ws,vC,qs,gc=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/modal-manager@0.2.12/esnext/modal-manager.mjs":function(){Cr(),vn(),Or(),Cr(),vn(),Or(),qu(),xP(),SP(),bp(),Xm=function m(t){"use strict";_classCallCheck(this,m);var e,n,o,l,a,s,r;this.title=t==null?void 0:t.title,this.subtitle=t==null?void 0:t.subtitle,this.headline=t==null?void 0:t.headline,this.message=t==null?void 0:t.message,this.headerColor=(e=t==null?void 0:t.headerColor)!==null&&e!==void 0?e:"#55A183",this.bodyColor=(n=t==null?void 0:t.bodyColor)!==null&&n!==void 0?n:"#f5f5f7",this.showProcessingIndicator=(o=t==null?void 0:t.showProcessingIndicator)!==null&&o!==void 0?o:!1,this.processingImageMode=(l=t==null?void 0:t.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(a=t==null?void 0:t.showCloseButton)!==null&&a!==void 0?a:!0,this.showHeaderLogo=(s=t==null?void 0:t.showHeaderLogo)!==null&&s!==void 0?s:!0,this.closeOnBackdropClick=(r=t==null?void 0:t.closeOnBackdropClick)!==null&&r!==void 0?r:!0},Fh=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.config=new Xm,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return St(_templateObject196(),this.config.headerColor,this.config.showCloseButton?this.closeButtonTemplate:"",this.config.showHeaderLogo?St(_templateObject191(),pC):Rn,this.config.title?St(_templateObject192(),this.config.title):"",this.config.subtitle?St(_templateObject193(),this.config.subtitle):"",this.config.bodyColor,this.config.showProcessingIndicator?"":"hidden",this.config.processingImageMode,this.config.headline?St(_templateObject194(),this.config.headline):"",this.config.message?St(_templateObject195(),this.config.message):"")}},{key:"handleCloseButton",value:function(){var o=new Event("closeButtonPressed");this.dispatchEvent(o)}},{key:"closeButtonTemplate",get:function(){return St(_templateObject197(),this.handleCloseButton,hC)}}],[{key:"styles",get:function(){var o=Lt(_templateObject198()),l=Lt(_templateObject199()),a=Lt(_templateObject200()),s=Lt(_templateObject201()),r=Lt(_templateObject202()),c=Lt(_templateObject203()),d=Lt(_templateObject204()),h=Lt(_templateObject205()),f=Lt(_templateObject206()),v=Lt(_templateObject207()),_=Lt(_templateObject208()),b=Lt(_templateObject209()),w=Lt(_templateObject210()),A=Lt(_templateObject211()),E=Lt(_templateObject212()),O=Lt(_templateObject213()),P=Lt(_templateObject214());return Lt(_templateObject215(),l,l,a,c,a,a,s,d,v,A,_,E,a,a,s,h,f,r,f,b,O,w,P,o,o,o,o)}}]),e}(Vn),Xe([Kt({type:Object})],Fh.prototype,"config",void 0),Fh=Xe([Mr("modal-template")],Fh),function(m){m.Open="open",m.Closed="closed"}(Ws||(Ws={})),vC=function(){"use strict";function m(t){_classCallCheck(this,m),this.windowResizeThrottler=fe(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=t}return _createClass(m,[{key:"handleModeChange",value:function(e){switch(e){case Ws.Open:this.startResizeListener(),this.stopDocumentScroll();break;case Ws.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}},{key:"updateModalContainerHeight",value:function(){this.modalManager.style.setProperty("--containerHeight","".concat(window.innerHeight,"px"))}},{key:"stopDocumentScroll",value:function(){document.body.classList.add("modal-manager-open")}},{key:"resumeDocumentScroll",value:function(){document.body.classList.remove("modal-manager-open")}},{key:"startResizeListener",value:function(){window.addEventListener("resize",this.windowResizeThrottler)}},{key:"stopResizeListener",value:function(){window.removeEventListener("resize",this.windowResizeThrottler)}}]),m}(),qs=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.mode=Ws.Closed,n.hostBridge=new vC(_assertThisInitialized(n)),n.closeOnBackdropClick=!0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return St(_templateObject216(),this.backdropClicked,this.closeButtonPressed,this.customModalContent)}},{key:"getMode",value:function(){return this.mode}},{key:"closeModal",value:function(){this.mode=Ws.Closed}},{key:"callUserClosedModalCallback",value:function(){var o=this.userClosedModalCallback;this.userClosedModalCallback=void 0,o&&o()}},{key:"showModal",value:function(o){return Er(this,void 0,void 0,_regeneratorRuntime.default.mark(function l(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.closeOnBackdropClick=o.config.closeOnBackdropClick,this.userClosedModalCallback=o.userClosedModalCallback,this.modalTemplate.config=o.config,this.customModalContent=o.customModalContent,this.mode=Ws.Open,s.next=7,this.modalTemplate.updateComplete;case 7:this.modalTemplate.focus();case 8:case"end":return s.stop()}},l,this)}))}},{key:"updated",value:function(o){o.has("mode")&&this.handleModeChange()}},{key:"backdropClicked",value:function(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}},{key:"handleModeChange",value:function(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}},{key:"emitModeChangeEvent",value:function(){var o=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(o)}},{key:"closeButtonPressed",value:function(){this.closeModal(),this.callUserClosedModalCallback()}}],[{key:"styles",get:function(){var o=Lt(_templateObject217()),l=Lt(_templateObject218()),a=Lt(_templateObject219()),s=Lt(_templateObject220()),r=Lt(_templateObject221());return Lt(_templateObject222(),o,l,r,a,s)}}]),e}(Vn),Xe([Kt({type:String,reflect:!0})],qs.prototype,"mode",void 0),Xe([Kt({type:Object})],qs.prototype,"customModalContent",void 0),Xe([Kt({type:Object})],qs.prototype,"hostBridge",void 0),Xe([Hr("modal-template")],qs.prototype,"modalTemplate",void 0),qs=Xe([Mr("modal-manager")],qs)}}),gC,mC,yC=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-search@1.3.4/esnext/icon-search.js":function(){vn(),vn(),gC=St(_templateObject223()),mC=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return gC}}],[{key:"styles",get:function(){return Lt(_templateObject224())}}]),e}(Vn),customElements.define("ia-icon-search",mC)}}),bC,wC=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-bookmark@1.3.4/esnext/icon-bookmark.mjs":function(){vn(),bC=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return St(_templateObject226(),this.state)}}],[{key:"styles",get:function(){return Lt(_templateObject225())}},{key:"properties",get:function(){return{state:{type:String}}}}]),e}(Vn),window.customElements.define("icon-bookmark",bC)}});function Ql(m,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===Ys)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,c=Jl(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(m),r._$AT(m,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=Ql(m,r._$AS(m,t.values),r,n)),t}var Km,mc,Gs,Qm,Hh,ba,Jm,_C,es,yc,Jl,Zm,kC,Uh,Zl,ey,ty,ts,ny,ry,iy,oy,CP,AP,Ys,yi,ay,ns,xC,Vh,SC,sy,bc,CC,AC,OC,jC,EC,ly,Wh,uy,OP=Mt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directives/unsafe-html.js":function(){uc(),mc=window,Gs=mc.trustedTypes,Qm=Gs?Gs.createPolicy("lit-html",{createHTML:function(m){return m}}):void 0,Hh="$lit$",ba="lit$".concat((Math.random()+"").slice(9),"$"),Jm="?"+ba,_C="<".concat(Jm,">"),es=document,yc=function(){return es.createComment("")},Jl=function(m){return m===null||typeof m!="object"&&typeof m!="function"},Zm=Array.isArray,kC=function(m){return Zm(m)||typeof(m==null?void 0:m[Symbol.iterator])=="function"},Uh="[ 	\n\f\r]",Zl=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ey=/-->/g,ty=/>/g,ts=RegExp(">|".concat(Uh,"(?:([^\\s\"'>=/]+)(").concat(Uh,"*=").concat(Uh,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),ny=/'/g,ry=/"/g,iy=/^(?:script|style|textarea|title)$/i,oy=function(m){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:m,strings:t,values:n}}},CP=oy(1),AP=oy(2),Ys=Symbol.for("lit-noChange"),yi=Symbol.for("lit-nothing"),ay=new WeakMap,ns=es.createTreeWalker(es,129,null,!1),xC=function(m,t){for(var e=m.length-1,n=[],o,l=t===2?"<svg>":"",a=Zl,s=0;s<e;s++){for(var r=m[s],c=void 0,d=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,d=a.exec(r),d!==null);)f=a.lastIndex,a===Zl?d[1]==="!--"?a=ey:d[1]!==void 0?a=ty:d[2]!==void 0?(iy.test(d[2])&&(o=RegExp("</"+d[2],"g")),a=ts):d[3]!==void 0&&(a=ts):a===ts?d[0]===">"?(a=o!=null?o:Zl,h=-1):d[1]===void 0?h=-2:(h=a.lastIndex-d[2].length,c=d[1],a=d[3]===void 0?ts:d[3]==='"'?ry:ny):a===ry||a===ny?a=ts:a===ey||a===ty?a=Zl:(a=ts,o=void 0);var v=a===ts&&m[s+1].startsWith("/>")?" ":"";l+=a===Zl?r+_C:h>=0?(n.push(c),r.slice(0,h)+Hh+r.slice(h)+ba+v):r+ba+(h===-2?(n.push(void 0),s):v)}return[r5(m,l+(m[e]||"<?>")+(t===2?"</svg>":"")),n]},Vh=function(){"use strict";function m(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,m);var l;this.parts=[];var a=0,s=0,r=n.length-1,c=this.parts,d=_slicedToArray(xC(n,o),2),h=d[0],f=d[1];if(this.el=m.createElement(h,e),ns.currentNode=this.el.content,o===2){var v,_=this.el.content,b=_.firstChild;b.remove(),(v=_).append.apply(v,_toConsumableArray(b.childNodes))}for(;(l=ns.nextNode())!==null&&c.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var w=[],A=!0,E=!1,O=void 0;try{for(var P=l.getAttributeNames()[Symbol.iterator](),y;!(A=(y=P.next()).done);A=!0){var u=y.value;if(u.endsWith(Hh)||u.startsWith(ba)){var p=f[s++];if(w.push(u),p!==void 0){var g=l.getAttribute(p.toLowerCase()+Hh).split(ba),k=/([.?@])?(.*)/.exec(p);c.push({type:1,index:a,name:k[2],strings:g,ctor:k[1]==="."?CC:k[1]==="?"?OC:k[1]==="@"?jC:bc})}else c.push({type:6,index:a})}}}catch(V){E=!0,O=V}finally{try{!A&&P.return!=null&&P.return()}finally{if(E)throw O}}var x=!0,j=!1,L=void 0;try{for(var D=w[Symbol.iterator](),F;!(x=(F=D.next()).done);x=!0){var X=F.value;l.removeAttribute(X)}}catch(V){j=!0,L=V}finally{try{!x&&D.return!=null&&D.return()}finally{if(j)throw L}}}if(iy.test(l.tagName)){var Q=l.textContent.split(ba),H=Q.length-1;if(H>0){l.textContent=Gs?Gs.emptyScript:"";for(var ce=0;ce<H;ce++)l.append(Q[ce],yc()),ns.nextNode(),c.push({type:2,index:++a});l.append(Q[H],yc())}}}else if(l.nodeType===8)if(l.data===Jm)c.push({type:2,index:a});else for(var ne=-1;(ne=l.data.indexOf(ba,ne+1))!==-1;)c.push({type:7,index:a}),ne+=ba.length-1;a++}}return _createClass(m,null,[{key:"createElement",value:function(e,n){var o=es.createElement("template");return o.innerHTML=e,o}}]),m}(),SC=function(){"use strict";function m(t,e){_classCallCheck(this,m),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(m,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:es).importNode(a,!0);ns.currentNode=r;for(var c=ns.nextNode(),d=0,h=0,f=s[0];f!==void 0;){if(d===f.index){var v=void 0;f.type===2?v=new sy(c,c.nextSibling,this,e):f.type===1?v=new f.ctor(c,f.name,f.strings,this,e):f.type===6&&(v=new EC(c,this,e)),this._$AV.push(v),f=s[++h]}d!==(f==null?void 0:f.index)&&(c=ns.nextNode(),d++)}return ns.currentNode=es,r}},{key:"v",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,n),n+=c.strings.length-2):c._$AI(e[n])),n++}}catch(d){l=!0,a=d}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),m}(),sy=function(){"use strict";function m(t,e,n,o){_classCallCheck(this,m);var l;this.type=2,this._$AH=yi,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(m,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=Ql(this,e,n),Jl(e)?e===yi||e==null||e===""?(this._$AH!==yi&&this._$AR(),this._$AH=yi):e!==this._$AH&&e!==Ys&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):kC(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==yi&&Jl(this._$AH)?this._$AA.nextSibling.data=e:this.$(es.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=Vh.createElement(r5(l.h,l.h[0]),this.options)),l);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.v(o);else{var s=new SC(a,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=ay.get(e.strings);return n===void 0&&ay.set(e.strings,n=new Vh(e)),n}},{key:"T",value:function(e){Zm(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(a=(d=c.next()).done);a=!0){var h=d.value;l===n.length?n.push(o=new m(this.k(yc()),this.k(yc()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),m}(),bc=function(){"use strict";function m(t,e,n,o,l){_classCallCheck(this,m),this.type=1,this._$AH=yi,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=yi}return _createClass(m,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=Ql(this,e,n,0),s=!Jl(e)||e!==this._$AH&&e!==Ys,s&&(this._$AH=e);else{var r=e,c,d;for(e=a[0],c=0;c<a.length-1;c++)d=Ql(this,r[o+c],n,c),d===Ys&&(d=this._$AH[c]),s||(s=!Jl(d)||d!==this._$AH[c]),d===yi?e=yi:e!==yi&&(e+=(d!=null?d:"")+a[c+1]),this._$AH[c]=d}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===yi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),m}(),CC=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===yi?void 0:o}}]),e}(bc),AC=Gs?Gs.emptyScript:"",OC=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==yi?this.element.setAttribute(this.name,AC):this.element.removeAttribute(this.name)}}]),e}(bc),jC=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=Ql(this,o,l,0))!==null&&a!==void 0?a:yi)!==Ys){var s=this._$AH,r=o===yi&&s!==yi||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,c=o!==yi&&(s===yi||r);r&&this.element.removeEventListener(this.name,this,s),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(bc),EC=function(){"use strict";function m(t,e,n){_classCallCheck(this,m),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(m,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){Ql(this,e)}}]),m}(),ly=mc.litHtmlPolyfillSupport,ly==null||ly(Vh,sy),((Km=mc.litHtmlVersions)!==null&&Km!==void 0?Km:mc.litHtmlVersions=[]).push("2.8.0"),Wh=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;if(o=t.call(this,n),o.et=yi,n.type!==lc.CHILD)throw Error(o.constructor.directiveName+"() can only be used in child bindings");return _possibleConstructorReturn(o)}return _createClass(e,[{key:"render",value:function(o){if(o===yi||o==null)return this.ft=void 0,this.et=o;if(o===Ys)return o;if(typeof o!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(o===this.et)return this.ft;this.et=o;var l=[o];return l.raw=l,this.ft={_$litType$:this.constructor.resultType,strings:l,values:[]}}}]),e}(zl),Wh.directiveName="unsafeHTML",Wh.resultType=1,uy=Nl(Wh)}}),qh=Mt({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/directives/unsafe-html.js":function(){OP()}}),TC,PC,IC=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-visual-adjustment@1.3.4/esnext/icon-visual-adjustment.js":function(){vn(),vn(),TC=St(_templateObject227()),PC=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return TC}}],[{key:"styles",get:function(){return Lt(_templateObject228())}}]),e}(Vn),customElements.define("ia-icon-visual-adjustment",PC)}}),MC,LC,RC=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-edit-pencil@1.3.4/esnext/icon-edit-pencil.js":function(){vn(),vn(),MC=St(_templateObject229()),LC=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return MC}}],[{key:"styles",get:function(){return Lt(_templateObject230())}}]),e}(Vn),customElements.define("ia-icon-edit-pencil",LC)}}),DC,$C,BC=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-dl@1.3.4/esnext/icon-dl.js":function(){vn(),vn(),DC=St(_templateObject231()),$C=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return DC}}],[{key:"styles",get:function(){return Lt(_templateObject232())}}]),e}(Vn),customElements.define("ia-icon-dl",$C)}}),cy,NC,wo,dy=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-item-navigator@2.1.2/esnext/dist/src/menus/share-panel.js":function(){Cr(),vn(),Or(),_8(),S8(),O8(),T8(),M8(),D8(),N8(),cy=function(m){var t=m.currentTarget,e=t.querySelector("textarea"),n=t.querySelector("small");e.select(),document.execCommand("copy"),e.blur(),n.classList.add("visible"),clearTimeout(n.timeout),n.timeout=setTimeout(function(){return n.classList.remove("visible")},4e3)},NC=St(_templateObject233()),wo=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.baseHost="archive.org",n.creator="",n.description="",n.embedOptionsVisible=!1,n.identifier="",n.sharingOptions=[],n.type="",n.renderHeader=!1,n.fileSubPrefix="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){o.has("sharingOptions")&&!this.sharingOptions.length&&this.loadProviders()}},{key:"loadProviders",value:function(){var o="https://".concat(this.baseHost,"/details/").concat(this.identifier);this.fileSubPrefix&&(o+="/".concat(this.fileSubPrefix));var l=[this.description,this.creator,"Free Download, Borrow, and Streaming","Internet Archive"].filter(Boolean).join(" : ");this.sharingOptions=[{name:"Twitter",icon:St(_templateObject234()),url:"https://twitter.com/intent/tweet?".concat(new URLSearchParams({url:o,text:l,via:"internetarchive"}))},{name:"Facebook",icon:St(_templateObject235()),url:"https://www.facebook.com/sharer/sharer.php?".concat(new URLSearchParams({u:o}))},{name:"Tumblr",icon:St(_templateObject236()),url:"https://www.tumblr.com/widgets/share/tool/preview?".concat(new URLSearchParams({posttype:"link",canonicalUrl:o,title:l}))},{name:"Pinterest",icon:St(_templateObject237()),url:"http://www.pinterest.com/pin/create/button/?".concat(new URLSearchParams({url:o,description:l}))},{name:"Email",icon:St(_templateObject238()),url:"mailto:?".concat(new URLSearchParams({subject:l,body:o}))}]}},{key:"iframeEmbed",get:function(){return'<iframe\n      src="https://'.concat(this.baseHost,"/embed/").concat(this.identifier,'"\n      width="560" height="384" frameborder="0"\n      webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen\n    ></iframe>')}},{key:"bbcodeEmbed",get:function(){return"[archiveorg ".concat(this.identifier," width=560 height=384 frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]")}},{key:"helpURL",get:function(){return"https://".concat(this.baseHost,"/help/audio.php?identifier=").concat(this.identifier)}},{key:"header",get:function(){var o=St(_templateObject239(),this.type);return this.renderHeader?o:Rn}},{key:"render",value:function(){return St(_templateObject241(),this.header,this.sharingOptions.map(function(o){return St(_templateObject240(),o.url,o.icon,o.name)}),cy,this.iframeEmbed,cy,this.bbcodeEmbed,this.helpURL)}},{key:"providerIcon",get:function(){return St(_templateObject242())}}],[{key:"styles",get:function(){return Lt(_templateObject243())}}]),e}(Vn),Xe([Kt({type:String})],wo.prototype,"baseHost",void 0),Xe([Kt({type:String})],wo.prototype,"creator",void 0),Xe([Kt({type:String})],wo.prototype,"description",void 0),Xe([Kt({type:Boolean})],wo.prototype,"embedOptionsVisible",void 0),Xe([Kt({type:String})],wo.prototype,"identifier",void 0),Xe([Kt({type:Array})],wo.prototype,"sharingOptions",void 0),Xe([Kt({type:String})],wo.prototype,"type",void 0),Xe([Kt({type:Boolean})],wo.prototype,"renderHeader",void 0),Xe([Kt({type:String})],wo.prototype,"fileSubPrefix",void 0),wo=Xe([Mr("iaux-in-share-panel")],wo)}}),zC,FC,HC=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-magnify-minus@1.3.4/esnext/icon-magnify-minus.js":function(){vn(),vn(),zC=St(_templateObject244()),FC=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return zC}}],[{key:"styles",get:function(){return Lt(_templateObject245())}}]),e}(Vn),customElements.define("ia-icon-magnify-minus",FC)}}),UC,VC,WC=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-magnify-plus@1.3.4/esnext/icon-magnify-plus.js":function(){vn(),vn(),UC=St(_templateObject246()),VC=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return UC}}],[{key:"styles",get:function(){return Lt(_templateObject247())}}]),e}(Vn),customElements.define("ia-icon-magnify-plus",VC)}}),qC,GC,YC,XC,eu,rs,hy=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-item-navigator@2.1.2/esnext/dist/src/menus/viewable-files.js":function(){Cr(),vn(),Or(),Xl(),qC=St(_templateObject248()),GC=St(_templateObject249()),YC=St(_templateObject250()),XC=St(_templateObject251()),eu=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.fileListRaw=[],n.fileListSorted=[],n.sortOrderBy="default",_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return St(_templateObject252(),this.sortButton)}},{key:"sortButton",get:function(){var o=this;return{default:St(_templateObject253(),function(){return o.sortVolumes("title_asc")},YC),title_asc:St(_templateObject254(),function(){return o.sortVolumes("title_desc")},qC),title_desc:St(_templateObject255(),function(){return o.sortVolumes("default")},GC)}[this.sortOrderBy]}},{key:"sortVolumes",value:function(o){this.sortOrderBy=o;var l=[];l=this.fileListRaw.sort(function(a,s){return o==="title_asc"?a.title.localeCompare(s.title):o==="title_desc"?s.title.localeCompare(a.title):a.orig_sort-s.orig_sort}),this.dispatchEvent(new CustomEvent("fileListSorted",{detail:{sortType:o,sortedFiles:l},bubbles:!0,composed:!0})),this.fileListSorted=l}}],[{key:"styles",get:function(){return Lt(_templateObject256())}}]),e}(Vn),Xe([Kt({type:Array})],eu.prototype,"fileListRaw",void 0),Xe([Kt({type:Array})],eu.prototype,"fileListSorted",void 0),Xe([Kt({type:String,reflect:!0})],eu.prototype,"sortOrderBy",void 0),eu=Xe([Mr("iaux-in-sort-files-button")],eu),rs=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.baseHost="archive.org",n.sortOrderBy="default",n.subPrefix="",n.fileList=[],n.addSortToUrl=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"firstUpdated",value:function(){var o=this.shadowRoot.querySelector(".content.active");setTimeout(function(){o!=null&&o.scrollIntoViewIfNeeded?o==null||o.scrollIntoViewIfNeeded(!0):o==null||o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},350)}},{key:"volumeItemWithImageTitle",value:function(o){var l=this.fileUrl(o);return St(_templateObject257(),l,o.image,o.title,o.author)}},{key:"fileUrl",value:function(o){var l="//".concat(this.baseHost).concat(o.url_path),a=l;return this.addSortToUrl&&(a=this.sortOrderBy==="default"?"".concat(l):"".concat(l,"?sort=").concat(this.sortOrderBy)),a}},{key:"pdfLabel",get:function(){return St(_templateObject258())}},{key:"fileLi",value:function(o){var l,a=this.subPrefix===o.file_subprefix?" active":"",s=this.fileUrl(o),r=((l=o.file_source)!==null&&l!==void 0?l:"").match(/^[^+]+\.pdf$/i);return St(_templateObject259(),a,s,o.title,r?this.pdfLabel:Rn)}},{key:"fileListTemplate",get:function(){var o=Yl(this.fileList,function(l){return l==null?void 0:l.file_prefix},this.fileLi.bind(this));return St(_templateObject260(),o)}},{key:"render",value:function(){return St(_templateObject261(),this.fileList.length?this.fileListTemplate:Rn)}}],[{key:"styles",get:function(){return Lt(_templateObject262())}}]),e}(Vn),Xe([Kt({type:String})],rs.prototype,"baseHost",void 0),Xe([Kt({type:String})],rs.prototype,"sortOrderBy",void 0),Xe([Kt({type:String})],rs.prototype,"subPrefix",void 0),Xe([Kt({type:Array})],rs.prototype,"fileList",void 0),Xe([Kt({type:Boolean,reflect:!0})],rs.prototype,"addSortToUrl",void 0),rs=Xe([Mr("iaux-in-viewable-files-panel")],rs)}}),fy,py,tu,KC,si,QC,JC,vy,ZC,eA,Gh,Yh,tA,nA,rA,iA,oA,aA,sA,lA,gy,uA,cA,dA,hA,wc,fA,pA,_c,vA,my,jP=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-80/esnext/bookreader.mjs":function(){vn(),cC(),Rl(),gc(),vn(),vn(),yC(),qh(),vn(),qu(),vn(),vn(),vn(),vn(),BC(),vn(),vn(),IC(),vn(),Xl(),vn(),HC(),WC(),vn(),vn(),vn(),vn(),gc(),vn(),Xl(),vn(),vn(),Xl(),vn(),RC(),wC(),vn(),dy(),dy(),vn(),hy(),hy(),vn(),gc(),gc(),Rl(),fy=Lt(_templateObject263()),py=Lt(_templateObject264()),tu=Lt(_templateObject265()),KC=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.results=[],n.query="",n.queryInProgress=!1,n.renderHeader=!1,n.renderSearchAllFields=!1,n.displayResultImages=!1,n.errorMessage="",n.bindBookReaderListeners(),_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(){this.focusOnInputIfNecessary()}},{key:"bindBookReaderListeners",value:function(){document.addEventListener("BookReader:SearchCallback",this.setResults.bind(this))}},{key:"focusOnInputIfNecessary",value:function(){this.results.length||this.shadowRoot.querySelector("input[type='search']").focus()}},{key:"setResults",value:function(o){var l=o.detail;this.results=l.results}},{key:"setQuery",value:function(o){this.query=o.currentTarget.value,this.query||this.cancelSearch()}},{key:"performSearch",value:function(o){o.preventDefault();var l=o.currentTarget.querySelector('input[type="search"]');!l||!l.value||this.dispatchEvent(new CustomEvent("bookSearchInitiated",{bubbles:!0,composed:!0,detail:{query:this.query}}))}},{key:"selectResult",value:function(o){this.dispatchEvent(new CustomEvent("resultSelected",{bubbles:!0,composed:!0,detail:{match:o}})),this.dispatchEvent(new CustomEvent("closeMenu",{bubbles:!0,composed:!0}))}},{key:"cancelSearch",value:function(){this.queryInProgress=!1,this.dispatchSearchCanceled()}},{key:"dispatchSearchCanceled",value:function(){this.dispatchEvent(new Event("bookSearchCanceled"))}},{key:"resultsCount",get:function(){var o=this.results.length;return o?St(_templateObject266(),o,o>1?"s":""):Rn}},{key:"headerSection",get:function(){var o=St(_templateObject267(),this.resultsCount);return this.renderHeader?o:Rn}},{key:"searchMultipleControls",get:function(){var o=St(_templateObject268());return this.renderSearchAllFiles?o:Rn}},{key:"loadingIndicator",get:function(){return St(_templateObject269(),this.cancelSearch)}},{key:"resultsSet",get:function(){var o=this,l=this.displayResultImages?"show-image":"";return St(_templateObject272(),l,this.results.map(function(a){return St(_templateObject271(),o.selectResult.bind(o,a),a.cover?St(_templateObject270(),a.cover):Rn,a.title||Rn,a.displayPageNumber,uy(a.html))}))}},{key:"searchForm",get:function(){return St(_templateObject273(),this.performSearch,this.searchMultipleControls,this.setQuery,this.setQuery,this.query)}},{key:"setErrorMessage",get:function(){return St(_templateObject274(),this.errorMessage)}},{key:"searchCTA",get:function(){return St(_templateObject275())}},{key:"render",value:function(){var o=!this.queryInProgress&&!this.errorMessage&&!this.queryInProgress&&!this.results.length;return St(_templateObject276(),this.headerSection,this.searchForm,this.queryInProgress?this.loadingIndicator:Rn,this.errorMessage?this.setErrorMessage:Rn,this.results.length?this.resultsSet:Rn,o?this.searchCTA:Rn)}}],[{key:"properties",get:function(){return{results:{type:Array},query:{type:String},queryInProgress:{type:Boolean},renderHeader:{type:Boolean},renderSearchAllFiles:{type:Boolean},displayResultImages:{type:Boolean},errorMessage:{type:String}}}},{key:"styles",get:function(){var o=Lt(_templateObject277()),l=Lt(_templateObject278()),a=Lt(_templateObject279()),s=Lt(_templateObject280()),r=Lt(_templateObject281(),o,l,a,fy,s,py,py);return[tu,r]}}]),e}(Vn),customElements.define("ia-book-search-results",KC),si={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""},QC=function(){"use strict";function m(t){var e=t.onProviderChange,n=t.bookreader;_classCallCheck(this,m),this.onBookSearchInitiated=this.onBookSearchInitiated.bind(this),this.onSearchStarted=this.onSearchStarted.bind(this),this.onSearchRequestError=this.onSearchRequestError.bind(this),this.onSearchResultsClicked=this.onSearchResultsClicked.bind(this),this.onSearchResultsChange=this.onSearchResultsChange.bind(this),this.onSearchResultsCleared=this.onSearchResultsCleared.bind(this),this.searchCanceledInMenu=this.searchCanceledInMenu.bind(this),this.bindEventListeners=this.bindEventListeners.bind(this),this.getMenuDetails=this.getMenuDetails.bind(this),this.getComponent=this.getComponent.bind(this),this.updateMenu=this.updateMenu.bind(this),this.onProviderChange=e,this.bookreader=n,this.icon=St(_templateObject285()),this.label="Search inside",this.menuDetails=this.getMenuDetails(),this.id="search",this.component=this.getComponent(),this.bindEventListeners()}return _createClass(m,[{key:"getMenuDetails",value:function(){var e=si.resultsCount,n=si.query,o=si.queryInProgress;return o||!n?Rn:St(_templateObject282(),e,e===1?"result":"results")}},{key:"bindEventListeners",value:function(){var e=this;window.addEventListener("BookReader:SearchStarted",this.onSearchStarted),window.addEventListener("BookReader:SearchCallback",this.onSearchResultsChange),window.addEventListener("BookReader:SearchCallbackEmpty",function(n){e.onSearchRequestError(n,"noResults")}),window.addEventListener("BookReader:SearchCallbackNotIndexed",function(n){e.onSearchRequestError(n,"notIndexed")}),window.addEventListener("BookReader:SearchCallbackError",function(n){e.onSearchRequestError(n)}),window.addEventListener("BookReader:SearchResultsCleared",function(){e.onSearchResultsCleared()}),window.addEventListener("BookReader:SearchCanceled",function(n){e.onSearchCanceled(n)})}},{key:"onSearchCanceled",value:function(){si={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""};var e={searchCanceled:!0};this.updateMenu(e),this.bookreader.urlPlugin&&this.updateSearchInUrl()}},{key:"onSearchStarted",value:function(e){var n=e.detail.props,o=n.term,l=o===void 0?"":o,a=n.instance;a&&(this.bookreader=a),si.query=l,si.results=[],si.resultsCount=0,si.queryInProgress=!0,si.errorMessage="",this.updateMenu()}},{key:"onBookSearchInitiated",value:function(e){var n=e.detail;si.query=n.query,this.bookreader.search(si.query)}},{key:"onSearchRequestError",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",o,l,a=e.detail,s=a.props,r=s===void 0?{}:s,c=r.instance,d=c===void 0?null:c;d&&(this.bookreader=d);var h={noResults:"0 results",notIndexed:"This book hasn't been indexed for searching yet.  We've just started indexing it,\n       so search should be available soon.  Please try again later.  Thanks!",default:"Sorry, there was an error with your search.  Please try again."},f=(o=h[n])!=null?o:h.default;si.query=((l=d==null?void 0:d.searchResults)==null?void 0:l.q)||"",si.results=[],si.resultsCount=0,si.queryInProgress=!1,si.errorMessage=St(_templateObject283(),f),this.updateMenu()}},{key:"onSearchResultsChange",value:function(e){var n=e.detail,o=n.props,l=o===void 0?{}:o,a=l.instance,s=a===void 0?null:a,r=l.results,c=r===void 0?[]:r;s&&(this.bookreader=s);var d=c.matches||[],h=d.length,f=c.q;si={results:d,resultsCount:h,query:f,queryInProgress:!1,errorMessage:""},this.updateMenu()}},{key:"searchCanceledInMenu",value:function(){var e;(e=this.bookreader)==null||e.cancelSearchRequest()}},{key:"onSearchResultsCleared",value:function(){var e,n;si={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""},this.updateMenu({openMenu:!1}),(n=(e=this.bookreader)==null?void 0:e.searchView)==null||n.clearSearchFieldAndResults(!1),this.bookreader.urlPlugin&&this.updateSearchInUrl()}},{key:"updateSearchInUrl",value:function(){this.bookreader.urlPlugin&&(this.bookreader.urlPlugin.pullFromAddressBar(),si.query?this.bookreader.urlPlugin.setUrlParam("q",si.query):this.bookreader.urlPlugin.removeUrlParam("q"))}},{key:"updateMenu",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.menuDetails=this.getMenuDetails(),this.component=this.getComponent(),this.onProviderChange(this.bookreader,e)}},{key:"getComponent",value:function(){var e=si.query,n=si.results,o=si.queryInProgress,l=si.errorMessage;return St(_templateObject284(),e,n,l,o,!1,this.onSearchResultsClicked,this.onBookSearchInitiated,this.onSearchResultsCleared,this.searchCanceledInMenu)}},{key:"onSearchResultsClicked",value:function(e){var n=e.detail;this.bookreader._searchPluginGoToResult(n.match.matchIndex)}}]),m}(),JC=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.downloads=[],n.expiration=0,n.renderHeader=!1,n.isBookProtected=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"formatsCount",get:function(){var o=this.downloads.length;return o?St(_templateObject286(),o,o>1?"s":""):St(_templateObject287())}},{key:"loanExpiryMessage",get:function(){return this.expiration?St(_templateObject288(),this.expiration):St(_templateObject289())}},{key:"renderDownloadOptions",value:function(){return this.downloads.map(function(o){return St(_templateObject292(),o.url,o.type,o.note?St(_templateObject290(),o.note):St(_templateObject291()))})}},{key:"hasLCPOption",get:function(){var o=/^(LCP)/g;return this.downloads.some(function(l){var a;return(a=l.type)==null?void 0:a.match(o)})}},{key:"header",get:function(){return this.renderHeader?St(_templateObject293(),this.formatsCount):Rn}},{key:"accessProtectedBook",get:function(){return St(_templateObject294())}},{key:"installSimplyEAldikoThoriumMsg",get:function(){return St(_templateObject295())}},{key:"render",value:function(){return St(_templateObject296(),this.header,this.loanExpiryMessage,this.renderDownloadOptions(),this.hasLCPOption?this.installSimplyEAldikoThoriumMsg:this.isBookProtected?this.accessProtectedBook:Rn)}}],[{key:"properties",get:function(){return{downloads:{type:Array},expiration:{type:Number},renderHeader:{type:Boolean},isBookProtected:{type:Boolean}}}},{key:"styles",get:function(){var o=Lt(_templateObject297());return[tu,o]}}]),e}(Vn),customElements.define("ia-book-downloads",JC),vy={pdf:{type:"Encrypted Adobe PDF",url:"#",note:"PDF files contain high quality images of pages."},lcppdf:{type:"Get LCP PDF",url:"#",note:"PDF files contain high quality images of pages."},lcpepub:{type:"Get LCP ePub",url:"#",note:"ePub files are smaller in size, but may contain errors."},epub:{type:"Encrypted Adobe ePub",url:"#",note:"ePub files are smaller in size, but may contain errors."}},ZC={pdf:"PDF",epub:"ePub",lcppdf:"LCP PDF",lcpepub:"LCP ePub"},eA=function(){"use strict";function m(t){var e=t.bookreader;_classCallCheck(this,m);var n;this.icon=St(_templateObject299()),this.label="Downloadable files",this.menuDetails="",this.downloads=[],this.id="downloads",this.component="",this.isBookProtected=((n=e==null?void 0:e.options)==null?void 0:n.isProtected)||!1}return _createClass(m,[{key:"update",value:function(e){this.computeAvailableTypes(e),this.component=this.menu,this.component.isBookProtected=this.isBookProtected;var n=this.downloads.length===1?"":"s";this.menuDetails="(".concat(this.downloads.length," format").concat(n,")")}},{key:"computeAvailableTypes",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=this,o=e.reduce(function(l){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=_slicedToArray(a,2),r=s[0],c=r===void 0?"":r,d=s[1],h=d===void 0?"":d,f=c.toLowerCase(),v=vy[f]||null;if(v){var _=n.isBookProtected?vy[f].type:ZC[f],b=Object.assign({},v,{url:h,type:_});l.push(b)}return l},[]);this.downloads=o}},{key:"menu",get:function(){return St(_templateObject298(),this.downloads)}}]),m}(),Gh=function(m){return"visualAdjustment".concat(m)},Yh={optionChange:Gh("OptionChanged"),zoomIn:Gh("ZoomIn"),zoomOut:Gh("ZoomOut")},tA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.activeCount=0,n.options=[],n.renderHeader=!1,n.showZoomControls=!0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"firstUpdated",value:function(){this.activeCount=this.activeOptions.length,this.emitOptionChangedEvent()}},{key:"activeOptions",get:function(){return this.options.reduce(function(o,l){return l.active?_toConsumableArray(o).concat([l.id]):o},[])}},{key:"prepareEventDetails",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return{options:this.options,activeCount:this.activeCount,changedOptionId:o}}},{key:"emitOptionChangedEvent",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=this.prepareEventDetails(o);this.dispatchEvent(new CustomEvent(Yh.optionChange,{bubbles:!0,composed:!0,detail:l}))}},{key:"emitZoomIn",value:function(){this.dispatchEvent(new CustomEvent(Yh.zoomIn))}},{key:"emitZoomOut",value:function(){this.dispatchEvent(new CustomEvent(Yh.zoomOut))}},{key:"changeActiveStateFor",value:function(o){var l=_toConsumableArray(this.options),a=l.find(function(s){return s.id===o});a.active=!a.active,this.options=l,this.activeCount=this.activeOptions.length,this.emitOptionChangedEvent(a.id)}},{key:"setRangeValue",value:function(o,l){var a=_toConsumableArray(this.options);a.find(function(s){return s.id===o}).value=l,this.options=_toConsumableArray(a)}},{key:"rangeSlider",value:function(o){var l=this;return St(_templateObject300(),"range".concat(o.active?" visible":""),o.id,o.min||0,o.max||100,o.step||1,o.value,function(a){return l.setRangeValue(o.id,a.target.value)},function(){return l.emitOptionChangedEvent()},o.value)}},{key:"adjustmentCheckbox",value:function(o){var l=this,a="adjustment_".concat(o.id);return St(_templateObject301(),a,o.name,a,a,function(){return l.changeActiveStateFor(o.id)},o.active,o.value!==void 0?this.rangeSlider(o):Rn)}},{key:"headerSection",get:function(){var o=this.activeCount?St(_templateObject302(),this.activeCount):Rn,l=St(_templateObject303(),o);return this.renderHeader?l:Rn}},{key:"zoomControls",get:function(){return St(_templateObject304(),this.emitZoomOut,this.emitZoomIn)}},{key:"render",value:function(){return St(_templateObject305(),this.headerSection,Yl(this.options,function(o){return o.id},this.adjustmentCheckbox.bind(this)),this.showZoomControls?this.zoomControls:Rn)}}],[{key:"properties",get:function(){return{activeCount:{type:Number},options:{type:Array},renderHeader:{type:Boolean},showZoomControls:{type:Boolean}}}},{key:"styles",get:function(){return Lt(_templateObject306(),fy)}}]),e}(Vn),customElements.define("ia-book-visual-adjustments",tA),nA=[{id:"brightness",name:"Adjust brightness",active:!1,min:0,max:150,step:1,value:100},{id:"contrast",name:"Adjust contrast",active:!1,min:0,max:150,step:1,value:100},{id:"invert",name:"Inverted colors (dark mode)",active:!1},{id:"grayscale",name:"Grayscale",active:!1}],rA=function(){"use strict";function m(t){_classCallCheck(this,m);var e=t.onProviderChange,n=t.bookreader;this.onProviderChange=e,this.bookContainer=n.refs.$brContainer,this.bookreader=n,this.onAdjustmentChange=this.onAdjustmentChange.bind(this),this.optionUpdateComplete=this.optionUpdateComplete.bind(this),this.updateOptionsCount=this.updateOptionsCount.bind(this),this.onZoomIn=this.onZoomIn.bind(this),this.onZoomOut=this.onZoomOut.bind(this),this.activeCount=0,this.icon=St(_templateObject307()),this.label="Visual Adjustments",this.menuDetails=this.updateOptionsCount(),this.id="adjustment",this.component=St(_templateObject308(),nA,this.onAdjustmentChange,this.onZoomIn,this.onZoomOut)}return _createClass(m,[{key:"onZoomIn",value:function(){this.bookreader.zoom(1)}},{key:"onZoomOut",value:function(){this.bookreader.zoom(-1)}},{key:"onAdjustmentChange",value:function(e){var n=e.detail,o={brightness:function(a){return"brightness(".concat(a,"%)")},contrast:function(a){return"contrast(".concat(a,"%)")},grayscale:function(){return"grayscale(100%)"},invert:function(){return"invert(100%)"}},l=n.options.reduce(function(a,s){var r="".concat(s.active?o[s.id](s.value):"");return r?_toConsumableArray(a).concat([r]):a},[]).join(" ");this.bookContainer.css("filter",l),this.optionUpdateComplete(e)}},{key:"optionUpdateComplete",value:function(e){this.activeCount=e.detail.activeCount,this.updateOptionsCount(e),this.onProviderChange()}},{key:"updateOptionsCount",value:function(){this.menuDetails="(".concat(this.activeCount," active)")}}]),m}(),iA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){var o=this;return St(_templateObject310(),function(){return o.deleteAction({detail:{id:"".concat(o.pageID)}})},function(){return o.cancelAction()})}}],[{key:"styles",get:function(){return Lt(_templateObject309())}},{key:"properties",get:function(){return{cancelAction:{type:Function},deleteAction:{type:Function},pageID:{type:String}}}}]),e}(Vn),customElements.define("delete-modal-actions",iA),oA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.state="hollow",n.side=void 0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"handleClick",value:function(o){o.preventDefault(),this.dispatchEvent(new CustomEvent("bookmarkButtonClicked"))}},{key:"title",get:function(){return"".concat(this.state==="hollow"?"Add":"Remove"," bookmark")}},{key:"render",value:function(){var o=this.side||"right";return St(_templateObject312(),this.title,this.handleClick,o,this.state)}}],[{key:"styles",get:function(){return Lt(_templateObject311())}},{key:"properties",get:function(){return{side:{type:String},state:{type:String}}}}]),e}(Vn),customElements.define("bookmark-button",oA),aA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.url="https://archive.org/account/login",_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return St(_templateObject313(),this.url)}}],[{key:"properties",get:function(){return{url:{type:String}}}},{key:"styles",get:function(){return tu}}]),e}(Vn),customElements.define("bookmarks-login",aA),sA={endpoint:"/services/bookmarks.php",headers:{"Content-Type":"application/json"},delete:function(t){return fetch("".concat(this.endpoint,"?identifier=").concat(this.identifier,"&page_num=").concat(t),{credentials:"same-origin",method:"DELETE",headers:this.headers})},get:function(t){return fetch("".concat(this.endpoint,"?identifier=").concat(this.identifier,"&page_num=").concat(t),{credentials:"same-origin",method:"GET",headers:this.headers})},getAll:function(){return fetch("".concat(this.endpoint,"?identifier=").concat(this.identifier),{credentials:"same-origin",method:"GET",headers:this.headers})},post:function(t){return this.sendBookmarkData(t,"POST")},put:function(t){return this.sendBookmarkData(t,"POST")},sendBookmarkData:function(t,e){var n={note:t.note,color:t.color};return fetch("".concat(this.endpoint,"?identifier=").concat(this.identifier,"&page_num=").concat(t.id),{credentials:"same-origin",method:e,headers:this.headers,body:JSON.stringify({notes:n})})}},lA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.bookmarks=[],n.bookreader={},n.editedBookmark={},n.modal=void 0,n.loginOptions={loginClicked:function(){},loginUrl:""},n.displayMode="bookmarks",n.bookmarkColors=[{id:0,className:"red"},{id:1,className:"blue"},{id:2,className:"green"}],n.defaultColor=n.bookmarkColors[0],n.api=sA,n.deleteModalConfig=new Xm({title:"Delete Bookmark",headline:"This bookmark contains a note. Deleting it will permanently delete the note. Are you sure?",headerColor:"#194880"}),_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){o.has("displayMode")&&this.updateDisplay(),this.emitBookmarksChanged()}},{key:"setup",value:function(){this.api.identifier=this.getIdentifier(),this.displayMode!=="login"&&(this.fetchUserBookmarks(),this.setBREventListeners())}},{key:"getIdentifier",value:function(){return this.bookreader.bookId!==this.bookreader.subPrefix?"".concat(this.bookreader.bookId,"/").concat(this.bookreader.subPrefix):this.bookreader.bookId}},{key:"updateDisplay",value:function(){this.displayMode==="bookmarks"&&this.fetchUserBookmarks()}},{key:"fetchUserBookmarks",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.t0=this.api.identifier,!a.t0){a.next=5;break}return a.next=4,this.fetchBookmarks();case 4:this.initializeBookmarks();case 5:case"end":return a.stop()}},o,this)}))}},{key:"setBREventListeners",value:function(){var o=this;["3PageViewSelected"].forEach(function(l){var a=o;window.addEventListener("BookReader:".concat(l),function(s){var r=a;setTimeout(function(){r.renderBookmarkButtons()},100)})}),["pageChanged","1PageViewSelected","2PageViewSelected"].forEach(function(l){var a=o;window.addEventListener("BookReader:".concat(l),function(s){var r=a;setTimeout(function(){r.renderBookmarkButtons(),r.markActiveBookmark()},100)})}),["zoomOut","zoomIn","resize"].forEach(function(l){var a=o;window.addEventListener("BookReader:".concat(l),function(){a.renderBookmarkButtons()})})}},{key:"initializeBookmarks",value:function(){this.renderBookmarkButtons(),this.markActiveBookmark(!0),this.emitBookmarksChanged()}},{key:"formatBookmark",value:function(o){var l=o.leafNum,a=l===void 0?"":l,s=o.notes,r=s===void 0?{}:s,c=r.note,d=c===void 0?"":c,h=r.color,f={note:d,color:this.getBookmarkColor(h)?h:this.defaultColor.id},v=e.formatPage(this.bookreader.book.getPageNum(a)),_=this.bookreader.book.getPageURI("".concat(a).replace(/\D/g,""),32);return oi(Dr({},f),{id:a,leafNum:a,page:v,thumbnail:_})}},{key:"fetchBookmarks",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r,c,d,h,f,v;return _regeneratorRuntime.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return l=this,b.next=3,this.api.getAll().then(function(w){return w.text()});case 3:a=b.sent;try{s=JSON.parse(a)}catch(w){s={error:w.message}}return r=s.success,c=s.error,d=c===void 0?"Something happened while fetching bookmarks.":c,h=s.value,f=h===void 0?[]:h,r||(console==null||console.warn("Error fetching bookmarks",d)),v={},b.abrupt("return",(Object.keys(f).forEach(function(w){var A=f[w],E=parseInt(w,10),O=l.formatBookmark(oi(Dr({},A),{leafNum:E}));v[w]=O}),this.bookmarks=v,v));case 9:case"end":return b.stop()}},o,this)}))}},{key:"emitBookmarksChanged",value:function(){this.dispatchEvent(new CustomEvent("bookmarksChanged",{bubbles:!0,composed:!0,detail:{bookmarks:this.bookmarks}}))}},{key:"emitBookmarkButtonClicked",value:function(){this.dispatchEvent(new CustomEvent("bookmarkButtonClicked",{bubbles:!0,composed:!0,detail:{editedBookmark:this.editedBookmark}}))}},{key:"bookmarkButtonClicked",value:function(o){this.getBookmark(o)?this.confirmDeletion(o):this.createBookmark(o)}},{key:"renderBookmarkButtons",value:function(){var o=this;this.bookreader.$(".BRpagecontainer").not(".BRemptypage").get().forEach(function(l){var a=o,s=l.querySelector(".bookmark-button");s&&s.remove();var r=+l.classList.value.match(/pagediv\d+/)[0].replace(/\D/g,""),c=o.getBookmark(r),d=c?"filled":"hollow",h=o.bookreader.book.getPage(r),f=h.isViewable;if(f){var v=document.createElement("div");["mousedown","mouseup"].forEach(function(b){v.addEventListener(b,function(w){return w.stopPropagation()})}),v.classList.add("bookmark-button",d),c&&v.classList.add(o.getBookmarkColor(c.color));var _=l.getAttribute("data-side")==="L"&&o.bookreader.mode===o.bookreader.constMode2up?"left":"right";zp(St(_templateObject315(),function(){return a.bookmarkButtonClicked(r)},d,_),v),l.appendChild(v)}})}},{key:"markActiveBookmark",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,l=this.bookreader,a=l.mode,s=l.constMode2up,r=l.constModeThumb,c=this.bookreader.currentIndex();if(a===r){var d=this.bookmarks[c];o&&d&&(this.activeBookmarkID=c);return}if(!(a===s&&this.bookreader.displayedIndices.includes(+this.activeBookmarkID))){if(this.bookmarks[c]){this.activeBookmarkID=c;return}this.activeBookmarkID=""}}},{key:"bookmarkEdited",value:function(o){var l=o.detail,a=l.bookmark.id===this.editedBookmark.id;this.editedBookmark=a?{}:l.bookmark}},{key:"getBookmark",value:function(o){return this.bookmarks[o]}},{key:"getBookmarkColor",value:function(o){var l;return(l=this.bookmarkColors.find(function(a){return a.id===o}))==null?void 0:l.className}},{key:"addBookmark",value:function(){var o=this.bookreader.currentIndex();if(this.bookreader.mode===this.bookreader.constMode2up){var l=this.bookreader.displayedIndices;o=l[l.length-1]}this.createBookmark(o)}},{key:"createBookmark",value:function(o){var l=this.getBookmark(o);if(l){this.bookmarkEdited({detail:{bookmark:l}}),this.emitBookmarkButtonClicked();return}this.editedBookmark=this.formatBookmark({leafNum:o}),this.api.post(this.editedBookmark),this.bookmarks[o]=this.editedBookmark,this.activeBookmarkID=o,this.disableAddBookmarkButton=!0,this.renderBookmarkButtons(),this.emitBookmarkButtonClicked()}},{key:"bookmarkSelected",value:function(o){var l=o.detail,a=l.bookmark,s=a.leafNum;this.bookreader.jumpToPage("".concat(this.bookreader.book.getPageNum("".concat(s).replace(/\D/g,"")))),this.activeBookmarkID=s}},{key:"saveBookmark",value:function(o){var l=o.detail,a=this.bookmarks[l.bookmark.id];Object.assign(a,l.bookmark),this.api.put(a),this.editedBookmark={},this.renderBookmarkButtons()}},{key:"confirmDeletion",value:function(o){if(this.getBookmark(o).note){this.displayDeletionModal(o);return}this.deleteBookmark({detail:{id:"".concat(o)}})}},{key:"displayDeletionModal",value:function(o){var l=this,a=St(_templateObject316(),function(){return l.deleteBookmark({detail:{id:"".concat(o)}})},function(){return l.modal.closeModal()},o);this.modal.showModal({config:this.deleteModalConfig,customModalContent:a})}},{key:"deleteBookmark",value:function(o){var l=o.detail,a=l.id,s=this.bookmarks;delete s[a],this.bookmarks=Dr({},s),this.api.delete(l.id),this.editedBookmark={},this.modal.closeModal(),this.renderBookmarkButtons()}},{key:"shouldEnableAddBookmarkButton",get:function(){var o=this.bookreader.mode===this.bookreader.constMode2up?this.bookreader.displayedIndices[this.bookreader.displayedIndices.length-1]:this.bookreader.currentIndex();return!!this.getBookmark(o)}},{key:"allowAddingBookmark",get:function(){return this.bookreader.mode!==this.bookreader.constModeThumb}},{key:"addBookmarkButton",get:function(){return St(_templateObject317(),this.shouldEnableAddBookmarkButton,this.addBookmark)}},{key:"bookmarksList",get:function(){return St(_templateObject318(),this.bookmarkEdited,this.bookmarkSelected,this.saveBookmark,this.deleteBookmark,this.editedBookmark,Dr({},this.bookmarks),this.activeBookmarkID,this.bookmarkColors,this.defaultColor)}},{key:"bookmarkHelperMessage",get:function(){return St(_templateObject319())}},{key:"render",value:function(){var o=this,l=St(_templateObject320(),this.bookmarksList,this.allowAddingBookmark?this.addBookmarkButton:this.bookmarkHelperMessage);return St(_templateObject322(),this.displayMode==="login"?St(_templateObject321(),function(){return o.loginOptions.loginClicked()},this.loginOptions.loginUrl):l)}}],[{key:"properties",get:function(){return{activeBookmarkID:{type:String},bookmarks:{type:Array},bookreader:{type:Object},displayMode:{type:String},editedBookmark:{type:Object},deleteModalConfig:{type:Object},modal:{attribute:!1},loginOptions:{type:Object,attribute:!1}}}},{key:"styles",get:function(){var o=Lt(_templateObject314());return[tu,o]}},{key:"formatPage",value:function(o){return isNaN(+o)?"(".concat(o.replace(/\D/g,""),")"):o}}]),e}(Vn),customElements.define("ia-bookmarks",lA),gy=Lt(_templateObject323()),uA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.bookmark={},n.bookmarkColors=[],n.renderHeader=!1,n.showBookmark=!0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"emitSaveEvent",value:function(o){o.preventDefault(),this.dispatchEvent(new CustomEvent("saveBookmark",{detail:{bookmark:this.bookmark}}))}},{key:"emitDeleteEvent",value:function(){this.dispatchEvent(new CustomEvent("deleteBookmark",{detail:{id:this.bookmark.id}}))}},{key:"emitColorChangedEvent",value:function(o){this.dispatchEvent(new CustomEvent("bookmarkColorChanged",{detail:{bookmarkId:this.bookmark.id,colorId:o}}))}},{key:"changeColorTo",value:function(o){this.bookmark.color=o,this.emitColorChangedEvent(o)}},{key:"updateNote",value:function(o){this.bookmark.note=o.currentTarget.value}},{key:"bookmarkColor",value:function(o){var l=this;return St(_templateObject325(),o.id,o.id,function(){return l.changeColorTo(o.id)},this.bookmark.color===o.id,o.id,o.className)}},{key:"bookmarkTemplate",get:function(){return St(_templateObject326(),this.bookmark.thumbnail,this.bookmark.page)}},{key:"render",value:function(){return St(_templateObject327(),this.renderHeader?e.headerSection:Rn,this.showBookmark?this.bookmarkTemplate:Rn,this.emitSaveEvent,this.updateNote,this.bookmark.note,Yl(this.bookmarkColors,function(o){return o.id},this.bookmarkColor.bind(this)),this.emitDeleteEvent)}}],[{key:"properties",get:function(){return{bookmark:{type:Object},bookmarkColors:{type:Array},renderHeader:{type:Boolean},showBookmark:{type:Boolean}}}},{key:"headerSection",get:function(){return St(_templateObject324())}},{key:"styles",get:function(){var o=Lt(_templateObject328());return[tu,gy,o]}}]),e}(Vn),customElements.define("ia-bookmark-edit",uA),cA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.activeBookmarkID=void 0,n.bookmarkColors=[],n.defaultBookmarkColor={},n.bookmarks={},n.editedBookmark={},n.renderHeader=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"emitEditEvent",value:function(o,l){this.dispatchEvent(new CustomEvent("bookmarkEdited",{detail:{bookmark:l}}))}},{key:"emitSelectedEvent",value:function(o){this.activeBookmarkID=o.id,this.dispatchEvent(new CustomEvent("bookmarkSelected",{detail:{bookmark:o}}))}},{key:"emitSaveBookmark",value:function(o){this.dispatchEvent(new CustomEvent("saveBookmark",{detail:{bookmark:o}}))}},{key:"emitDeleteBookmark",value:function(o){this.dispatchEvent(new CustomEvent("deleteBookmark",{detail:{id:o}}))}},{key:"emitBookmarkColorChanged",value:function(o){var l=o.detail,a=l.bookmarkId,s=l.colorId;this.dispatchEvent(new CustomEvent("bookmarkColorChanged",{detail:{bookmarkId:a,colorId:s}}))}},{key:"emitAddBookmark",value:function(){this.dispatchEvent(new CustomEvent("addBookmark"))}},{key:"editBookmark",value:function(o,l){this.emitEditEvent(o,l),this.editedBookmark=this.editedBookmark===l?{}:l}},{key:"saveBookmark",value:function(o){var l=o.detail,a=l.bookmark;this.editedBookmark={},this.emitSaveBookmark(a)}},{key:"deleteBookmark",value:function(o){var l=o.detail,a=l.id;this.editedBookmark={},this.emitDeleteBookmark(a)}},{key:"bookmarkColorInfo",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.bookmarkColors.find(function(l){return(l==null?void 0:l.id)===o})}},{key:"bookmarkItem",value:function(o){var l=this,a=this.editedBookmark.id===o.id,s=this.bookmarkColorInfo(o.color),r=s.className,c=o.id===this.activeBookmarkID?"active":"";return St(_templateObject330(),function(){return l.emitSelectedEvent(o)},o.id,c,function(d){return l.editBookmark(d,o)},r,o.page,!a&&o.note?St(_templateObject329(),o.note):Rn,a?this.editBookmarkComponent:Rn)}},{key:"editBookmarkComponent",get:function(){return St(_templateObject331(),this.editedBookmark,this.bookmarkColors,this.defaultBookmarkColor,!1,this.saveBookmark,this.deleteBookmark,this.emitBookmarkColorChanged)}},{key:"sortBookmarks",value:function(){var o=this;return Object.keys(this.bookmarks).sort(function(l,a){return+l>+a?1:+l<+a?-1:0}).map(function(l){return o.bookmarks[l]})}},{key:"bookmarksCount",get:function(){var o=this.bookmarks.length;return St(_templateObject332(),o)}},{key:"headerSection",get:function(){return St(_templateObject333(),this.bookmarks.length?this.bookmarksCount:Rn)}},{key:"bookmarkslist",get:function(){var o=this.sortBookmarks(),l=Yl(o,function(a){return a==null?void 0:a.id},this.bookmarkItem.bind(this));return St(_templateObject334(),l)}},{key:"render",value:function(){return St(_templateObject335(),this.renderHeader?this.headerSection:Rn,Object.keys(this.bookmarks).length?this.bookmarkslist:Rn)}}],[{key:"properties",get:function(){return{activeBookmarkID:{type:Number},bookmarkColors:{type:Array},defaultBookmarkColor:{type:Object},bookmarks:{type:Object},editedBookmark:{type:Object},renderHeader:{type:Boolean}}}},{key:"styles",get:function(){return[Lt(_templateObject336()),gy]}}]),e}(Vn),customElements.define("ia-bookmarks-list",cA),dA=function(){"use strict";function m(t){_classCallCheck(this,m);var e=t.baseHost,n=t.signedIn,o=t.bookreader,l=t.modal,a=t.onProviderChange,s="referer=".concat(encodeURIComponent(location.href)),r="https://".concat(e,"/account/login?").concat(s);this.component=document.createElement("ia-bookmarks"),this.component.bookreader=o,this.component.displayMode=n?"bookmarks":"login",this.component.modal=l,this.component.loginOptions={loginClicked:this.bookmarksLoginClicked,loginUrl:r},this.bindEvents(),this.icon=St(_templateObject337()),this.label="Bookmarks",this.id="bookmarks",this.onProviderChange=a,this.component.setup(),this.updateMenu(this.component.bookmarks.length)}return _createClass(m,[{key:"updateMenu",value:function(e){this.menuDetails="(".concat(e,")")}},{key:"bindEvents",value:function(){this.component.addEventListener("bookmarksChanged",this.bookmarksChanged.bind(this))}},{key:"bookmarksChanged",value:function(e){var n=e.detail,o=Object.keys(n.bookmarks).length;this.updateMenu(o),this.onProviderChange(n.bookmarks,n.showSidePanel)}},{key:"bookmarksLoginClicked",value:function(){var e;(e=window.archive_analytics)==null||e.send_event_no_sampling("BookReader","BookmarksLogin",window.location.path)}}]),m}(),hA=function m(t){"use strict";var e=t.item,n=t.baseHost,o=t.bookreader;_classCallCheck(this,m);var l=e==null?void 0:e.metadata,a=l.identifier,s=l.creator,r=l.title,c=Array.isArray(s)?s[0]:s,d=o.options.subPrefix||"",h="Share this book";this.icon=St(_templateObject338(),NC),this.label=h,this.id="share",this.component=St(_templateObject339(),a,"book",c,r,n,d)},wc={title_asc:"title_asc",title_desc:"title_desc",default:"default"},fA=function(){"use strict";function m(t){var e=t.baseHost,n=t.bookreader,o=t.onProviderChange,l=this;_classCallCheck(this,m),this.bookreader=n,this.onProviderChange=o,this.baseHost=e;var a=n.options.multipleBooksList.by_subprefix;if(this.viewableFiles=Object.keys(a).map(function(r){return a[r]}),this.volumeCount=Object.keys(a).length,this.id="volumes",this.label="Viewable files (".concat(this.volumeCount,")"),this.icon=St(_templateObject340(),XC),this.sortOrderBy=wc.default,this.component=document.createElement("iaux-in-viewable-files-panel"),this.component.addSortToUrl=!0,this.component.subPrefix=n.options.subPrefix||"",this.component.baseHost=e,this.component.fileList=_toConsumableArray(this.viewableFiles),this.sortFilesComponent=document.createElement("iaux-in-sort-files-button"),this.sortFilesComponent.fileListRaw=this.viewableFiles,this.sortFilesComponent.addEventListener("fileListSorted",function(r){return l.handleFileListSorted(r)}),this.actionButton=this.sortFilesComponent,this.bookreader.urlPlugin){this.bookreader.urlPlugin.pullFromAddressBar();var s=this.bookreader.urlPlugin.getUrlParam("sort");(s===wc.title_asc||s===wc.title_desc)&&(this.sortOrderBy=s)}this.sortFilesComponent.sortVolumes(this.sortOrderBy),this.onProviderChange(this.bookreader)}return _createClass(m,[{key:"handleFileListSorted",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.detail,l=o.sortType,a=o.sortedFiles,this.viewableFiles=a,this.sortOrderBy=l,this.component.fileList=_toConsumableArray(this.viewableFiles),r.next=6,this.component.updateComplete;case 6:this.bookreader.urlPlugin&&(this.bookreader.urlPlugin.pullFromAddressBar(),this.sortOrderBy!==wc.default?this.bookreader.urlPlugin.setUrlParam("sort",this.sortOrderBy):this.bookreader.urlPlugin.removeUrlParam("sort")),this.onProviderChange(this.bookreader),this.multipleFilesClicked(this.sortOrderBy);case 9:case"end":return r.stop()}},n,this)}))}},{key:"multipleFilesClicked",value:function(e){var n;(n=window.archive_analytics)==null||n.send_event("BookReader","VolumesSort|".concat(e),window.location.path)}}]),m}(),pA=So(_templateObject341()),_c={menuUpdated:"menuUpdated",updateSideMenu:"updateSideMenu",PostInit:"PostInit",ViewportInFullScreen:"ViewportInFullScreen"},vA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.itemMD=void 0,n.loaded=!1,n.bookReaderCannotLoad=!1,n.bookReaderLoaded=!1,n.bookreader=null,n.bookIsRestricted=!1,n.downloadableTypes=[],n.isAdmin=!1,n.lendingInitialized=!1,n.lendingStatus={},n.menuProviders={},n.menuShortcuts=[],n.signedIn=!1,n.modal=void 0,n.sharedObserver=void 0,n.fullscreenBranding=pA,n.sharedObserverHandler=void 0,n.brWidth=0,n.brHeight=0,n.shortcutOrder=["fullscreen","volumes","chapters","search","bookmarks"],_possibleConstructorReturn(n)}return _createClass(e,[{key:"disconnectedCallback",value:function(){this.sharedObserver.removeObserver({target:this.mainBRContainer,handler:this.sharedObserverHandler})}},{key:"firstUpdated",value:function(){this.bindEventListeners(),this.emitPostInit(),this.loaded=!0}},{key:"updated",value:function(o){!this.bookreader||!this.itemMD||!this.bookReaderLoaded||((o.has("loaded")&&this.loaded||o.has("itemMD")||o.has("bookreader")||o.has("signedIn")||o.has("isAdmin")||o.has("modal"))&&this.initializeBookSubmenus(),o.has("sharedObserver")&&this.bookreader&&(this.loadSharedObserver(),this.initializeBookSubmenus()),o.has("downloadableTypes")&&this.initializeBookSubmenus())}},{key:"emitPostInit",value:function(){var o;this.dispatchEvent(new CustomEvent("BrBookNav:".concat(_c.PostInit),{detail:{brSelector:(o=this.bookreader)==null?void 0:o.el},bubbles:!0,composed:!0}))}},{key:"baseProviderConfig",get:function(){return{baseHost:this.baseHost,modal:this.modal,sharedObserver:this.sharedObserver,bookreader:this.bookreader,item:this.itemMD,signedIn:this.signedIn,isAdmin:this.isAdmin,onProviderChange:function(){}}}},{key:"isWideEnoughToOpenMenu",get:function(){return this.brWidth>=640}},{key:"initializeBookSubmenus",value:function(){var o=this,l={visualAdjustments:new rA(oi(Dr({},this.baseProviderConfig),{onProviderChange:function(){o.updateMenuContents()}}))};this.baseProviderConfig.item&&(l.share=new hA(this.baseProviderConfig)),this.shouldShowDownloadsMenu()&&(l.downloads=new eA(this.baseProviderConfig)),this.bookreader.options.enableSearch&&(l.search=new QC(oi(Dr({},this.baseProviderConfig),{onProviderChange:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=o;a&&(o.bookreader=a),o.updateMenuContents(),s.openMenu!==!1&&o.isWideEnoughToOpenMenu&&!(s!=null&&s.searchCanceled)&&setTimeout(function(){r.updateSideMenu("search","open")},0)}}))),this.bookreader.options.enableBookmarks&&(l.bookmarks=new dA(oi(Dr({},this.baseProviderConfig),{onProviderChange:function(a){var s=Object.keys(a).length?"add":"remove";o["".concat(s,"MenuShortcut")]("bookmarks"),o.updateMenuContents()}}))),this.bookreader.options.enableMultipleBooks&&(l.volumes=new fA(oi(Dr({},this.baseProviderConfig),{onProviderChange:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=o;a&&(o.bookreader=a),o.updateMenuContents(),o.isWideEnoughToOpenMenu&&setTimeout(function(){r.updateSideMenu("volumes","open")})}}))),Object.assign(this.menuProviders,l),this.addMenuShortcut("search"),this.addMenuShortcut("volumes"),this.updateMenuContents()}},{key:"mainBRContainer",get:function(){var o;return document.querySelector((o=this.bookreader)==null?void 0:o.el)}},{key:"addFullscreenShortcut",value:function(){var o={icon:this.fullscreenShortcut,id:"fullscreen"};this.menuShortcuts.push(o),this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated()}},{key:"deleteFullscreenShortcut",value:function(){var o=this.menuShortcuts.filter(function(l){var a=l.id;return a!=="fullscreen"});this.menuShortcuts=o,this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated()}},{key:"closeFullscreen",value:function(){this.bookreader.exitFullScreen()}},{key:"fullscreenShortcut",get:function(){var o=this;return St(_templateObject342(),function(){return o.closeFullscreen()},this.fullscreenBranding)}},{key:"updateSideMenu",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"open";if(o){var a=new CustomEvent(_c.updateSideMenu,{detail:{menuId:o,action:l}});this.dispatchEvent(a)}}},{key:"updateMenuContents",value:function(){var o=this.menuProviders,l=o.search,a=o.downloads,s=o.visualAdjustments,r=o.share,c=o.bookmarks,d=o.volumes,h=o.chapters,f=[d,h,l,c,s,r].filter(function(_){return!!_});this.shouldShowDownloadsMenu()&&(a==null||a.update(this.downloadableTypes),f.splice(-2,0,a));var v=new CustomEvent(_c.menuUpdated,{detail:f});this.dispatchEvent(v)}},{key:"shouldShowDownloadsMenu",value:function(){if(!this.downloadableTypes.length)return!1;if(this.bookIsRestricted===!1||this.isAdmin)return!0;var o=this.lendingStatus,l=o.user_loan_record,a=l===void 0?{}:l;return Array.isArray(a)?!1:a.type&&a.type!=="SESSION_LOAN"}},{key:"addMenuShortcut",value:function(o){this.menuShortcuts.find(function(l){return l.id===o})||this.menuProviders[o]&&(this.menuShortcuts.push(this.menuProviders[o]),this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated())}},{key:"removeMenuShortcut",value:function(o){this.menuShortcuts=this.menuShortcuts.filter(function(l){return l.id!==o}),this.emitMenuShortcutsUpdated()}},{key:"sortMenuShortcuts",value:function(){var o=this;this.menuShortcuts=this.shortcutOrder.reduce(function(l,a){var s=o.menuShortcuts.find(function(r){return r.id===a});return s&&l.push(s),l},[])}},{key:"emitMenuShortcutsUpdated",value:function(){var o=new CustomEvent("menuShortcutsUpdated",{detail:this.menuShortcuts});this.dispatchEvent(o)}},{key:"emitLoadingStatusUpdate",value:function(o){var l=new CustomEvent("loadingStateUpdated",{detail:{loaded:o}});this.dispatchEvent(l)}},{key:"bindEventListeners",value:function(){var o=this;window.addEventListener("BookReader:PostInit",function(l){var a=o;o.bookreader=l.detail.props,o.bookreader.shell=o,o.bookReaderLoaded=!0,o.bookReaderCannotLoad=!1,o.emitLoadingStatusUpdate(!0),o.loadSharedObserver(),setTimeout(function(){a.bookreader.resize()},0)}),window.addEventListener("BookReader:fullscreenToggled",function(l){var a=l.detail,s=a.props,r=s===void 0?null:s;r&&(o.bookreader=r),o.manageFullScreenBehavior()},{passive:!0}),window.addEventListener("BookReader:ToggleSearchMenu",function(l){o.dispatchEvent(new CustomEvent(_c.updateSideMenu,{detail:{menuId:"search",action:"toggle"}}))}),window.addEventListener("LendingFlow:PostInit",function(l){var a=l.detail,s=a.downloadTypesAvailable,r=a.lendingStatus,c=a.isAdmin,d=a.previewType;o.lendingInitialized=!0,o.downloadableTypes=s,o.lendingStatus=r,o.isAdmin=c,o.bookReaderCannotLoad=d==="singlePagePreview",o.emitLoadingStatusUpdate(!0)}),window.addEventListener("BRJSIA:PostInit",function(l){var a=l.detail,s=a.isRestricted,r=a.downloadURLs;o.bookReaderLoaded=!0,o.downloadableTypes=r,o.bookIsRestricted=s}),window.addEventListener("contextmenu",function(l){return o.manageContextMenuVisibility(l)},{capture:!0})}},{key:"manageContextMenuVisibility",value:function(o){var l,a,s;if((s=window.archive_analytics)==null||s.send_event("BookReader","contextmenu-".concat(this.bookIsRestricted?"restricted":"unrestricted"),(a=(l=o.target)==null?void 0:l.classList)==null?void 0:a.value),!(!this.bookIsRestricted||!o.target.classList.value.match(/BRscreen|BRpageimage/g)))return o.preventDefault(),!1}},{key:"loadSharedObserver",value:function(){var o;this.sharedObserverHandler={handleResize:this.handleResize.bind(this)},(o=this.sharedObserver)==null||o.addObserver({target:this.mainBRContainer,handler:this.sharedObserverHandler})}},{key:"handleResize",value:function(o){var l=o.contentRect,a=o.target,s,r=this.brWidth,c=this.brHeight,d=this.bookreader,h=d.animating;a===this.mainBRContainer&&(this.brWidth=l.width,this.brHeight=l.height),!r&&this.brWidth&&this.initializeBookSubmenus();var f=r!==this.brWidth,v=c!==this.brHeight;!h&&(f||v)&&((s=this.bookreader)==null||s.resize())}},{key:"manageFullScreenBehavior",value:function(){this.emitFullScreenState(),this.bookreader.options.enableFSLogoShortcut&&(this.bookreader.isFullscreen()?this.addFullscreenShortcut():this.deleteFullscreenShortcut())}},{key:"emitFullScreenState",value:function(){var o=this.bookreader.isFullscreen(),l=new CustomEvent("ViewportInFullScreen",{detail:{isFullScreen:o}});this.dispatchEvent(l)}},{key:"itemImage",get:function(){var o,l=(o=this.itemMD)==null?void 0:o.metadata.identifier,a="https://".concat(this.baseHost,"/services/img/").concat(l);return St(_templateObject343(),a,l)}},{key:"placeholder",get:function(){return St(_templateObject344(),this.itemImage)}},{key:"render",value:function(){return St(_templateObject346(),this.bookReaderCannotLoad?this.placeholder:Rn,this.bookReaderCannotLoad?Rn:St(_templateObject345()))}}],[{key:"properties",get:function(){return{itemMD:{type:Object},bookReaderLoaded:{type:Boolean},bookreader:{type:Object},bookIsRestricted:{type:Boolean},downloadableTypes:{type:Array},isAdmin:{type:Boolean},lendingInitialized:{type:Boolean},lendingStatus:{type:Object},menuProviders:{type:Object},menuShortcuts:{type:Array},signedIn:{type:Boolean},loaded:{type:Boolean},sharedObserver:{type:Object,attribute:!1},modal:{type:Object,attribute:!1},fullscreenBranding:{type:Object}}}},{key:"styles",get:function(){return Lt(_templateObject347())}}]),e}(Vn),customElements.define("book-navigator",vA),my=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.item=void 0,n.bookreader=void 0,n.baseHost="archive.org",n.fullscreen=!1,n.signedIn=!1,n.modal=void 0,n.sharedObserver=void 0,n.loaded=!1,n.menuShortcuts=[],n.menuContents=[],n.openMenuName="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(){this.modal||this.setModalManager(),this.sharedObserver||(this.sharedObserver=new Ha)}},{key:"itemNav",get:function(){return this.shadowRoot.querySelector("iaux-item-navigator")}},{key:"setModalManager",value:function(){var o=document.querySelector("modal-manager");o||(o=document.createElement("modal-manager"),document.body.appendChild(o)),this.modal=o}},{key:"manageFullscreen",value:function(o){var l=o.detail,a=!!l.isFullScreen;this.fullscreen=a,this.dispatchEvent(new CustomEvent("fullscreenStateUpdated",{detail:{fullscreen:a}}))}},{key:"loadingStateUpdated",value:function(o){var l=o.detail,a=l.loaded;this.loaded=a||null,this.dispatchEvent(new CustomEvent("loadingStateUpdated",{detail:{loaded:a}}))}},{key:"setMenuShortcuts",value:function(o){this.menuShortcuts=_toConsumableArray(o.detail)}},{key:"setMenuContents",value:function(o){var l=_toConsumableArray(o.detail);this.menuContents=l}},{key:"manageSideMenuEvents",value:function(o){var l,a,s=o.detail,r=s.menuId,c=s.action;r&&(this.openMenuName=r,c==="open"?(l=this.itemNav)==null||l.openShortcut(r):c==="toggle"&&((a=this.itemNav)==null||a.toggleMenu()))}},{key:"render",value:function(){return St(_templateObject348(),this.fullscreen,this.baseHost,this.item,this.modal,this.loaded,this.sharedObserver,this.signedIn,this.menuShortcuts,this.menuContents,this.openMenuName,this.modal,this.baseHost,this.item,this.signedIn,this.menuOpened,this.sharedObserver,this.manageFullscreen,this.loadingStateUpdated,this.manageSideMenuEvents,this.setMenuContents,this.setMenuShortcuts)}}],[{key:"properties",get:function(){return{item:{type:Object},baseHost:{type:String},signedIn:{type:Boolean},fullscreen:{type:Boolean,reflect:!0,attribute:!0},sharedObserver:{type:Object,attribute:!1},modal:{type:Object,attribute:!1},loaded:{type:Boolean},menuShortcuts:{type:Array},menuContents:{type:Array}}}},{key:"styles",get:function(){return Lt(_templateObject349())}}]),e}(Vn),window.customElements.define("ia-bookreader",my)}}),gA={};ai(gA,{IaBookReader:function(){return my}});var EP=Mt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-80":function(){vn(),cC(),gc(),Rl(),yC(),wC(),qh(),qu(),Xl(),IC(),RC(),BC(),dy(),HC(),WC(),hy(),jP()}});function nu(m,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===Js)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,c=iu(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(m),r._$AT(m,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=nu(m,r._$AS(m,t.values),r,n)),t}var mA,kc,Xh,Kh,yy,by,yA,wy,bA,_y,ky,xc,xy,wA,Sy,Qh,Cy,Jh,Xs,Ay,Sc,Ks,Oy,wa,jy,_A,Qs,ru,iu,Ey,kA,ou,Ty,Py,is,Iy,My,Ly,Ry,au,TP,Js,Si,Dy,Zs,xA,Cc,SA,Ac,Oc,CA,AA,OA,jA,EA,$y,TA,By,Ny,el,zy,PA=Mt({"https-url:https://offshoot.prod.archive.org/lit.js":function(){mA=function(m,t,e){return new Promise(function(n,o){var l=function(r){try{s(e.next(r))}catch(c){o(c)}},a=function(r){try{s(e.throw(r))}catch(c){o(c)}},s=function(r){return r.done?n(r.value):Promise.resolve(r.value).then(l,a)};s((e=e.apply(m,t)).next())})},kc=window,Xh=kc.ShadowRoot&&(kc.ShadyCSS===void 0||kc.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Kh=Symbol(),yy=new WeakMap,by=function(){"use strict";function m(t,e,n){if(_classCallCheck(this,m),this._$cssResult$=!0,n!==Kh)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}return _createClass(m,[{key:"styleSheet",get:function(){var e=this.o,n=this.t;if(Xh&&e===void 0){var o=n!==void 0&&n.length===1;o&&(e=yy.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),o&&yy.set(n,e))}return e}},{key:"toString",value:function(){return this.cssText}}]),m}(),yA=function(m){return new by(typeof m=="string"?m:m+"",void 0,Kh)},wy=function(m){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var o=m.length===1?m[0]:e.reduce(function(l,a,s){return l+function(r){if(r._$cssResult$===!0)return r.cssText;if(typeof r=="number")return r;throw Error("Value passed to 'css' function must be a 'css' function result: "+r+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(a)+m[s+1]},m[0]);return new by(o,m,Kh)},bA=function(m,t){Xh?m.adoptedStyleSheets=t.map(function(e){return _instanceof(e,CSSStyleSheet)?e:e.styleSheet}):t.forEach(function(e){var n=document.createElement("style"),o=kc.litNonce;o!==void 0&&n.setAttribute("nonce",o),n.textContent=e.cssText,m.appendChild(n)})},_y=Xh?function(m){return m}:function(m){return _instanceof(m,CSSStyleSheet)?function(t){var e="",n=!0,o=!1,l=void 0;try{for(var a=t.cssRules[Symbol.iterator](),s;!(n=(s=a.next()).done);n=!0){var r=s.value;e+=r.cssText}}catch(c){o=!0,l=c}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw l}}return yA(e)}(m):m},xc=window,xy=xc.trustedTypes,wA=xy?xy.emptyScript:"",Sy=xc.reactiveElementPolyfillSupport,Qh={toAttribute:function(t,e){switch(e){case Boolean:t=t?wA:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute:function(t,e){var n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(o){n=null}}return n}},Cy=function(m,t){return t!==m&&(t==t||m==m)},Jh={attribute:!0,type:String,converter:Qh,reflect:!1,hasChanged:Cy},Xs=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n._$Ei=new Map,n.isUpdatePending=!1,n.hasUpdated=!1,n._$El=null,n.u(),_possibleConstructorReturn(n)}return _createClass(e,[{key:"u",value:function(){var o=this,l;this._$E_=new Promise(function(a){return o.enableUpdating=a}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(l=this.constructor.h)===null||l===void 0||l.forEach(function(a){return a(o)})}},{key:"addController",value:function(o){var l,a;((l=this._$ES)!==null&&l!==void 0?l:this._$ES=[]).push(o),this.renderRoot!==void 0&&this.isConnected&&((a=o.hostConnected)===null||a===void 0||a.call(o))}},{key:"removeController",value:function(o){var l;(l=this._$ES)===null||l===void 0||l.splice(this._$ES.indexOf(o)>>>0,1)}},{key:"_$Eg",value:function(){var o=this;this.constructor.elementProperties.forEach(function(l,a){o.hasOwnProperty(a)&&(o._$Ei.set(a,o[a]),delete o[a])})}},{key:"createRenderRoot",value:function(){var o,l=(o=this.shadowRoot)!==null&&o!==void 0?o:this.attachShadow(this.constructor.shadowRootOptions);return bA(l,this.constructor.elementStyles),l}},{key:"connectedCallback",value:function(){var o;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(o=this._$ES)===null||o===void 0||o.forEach(function(l){var a;return(a=l.hostConnected)===null||a===void 0?void 0:a.call(l)})}},{key:"enableUpdating",value:function(o){}},{key:"disconnectedCallback",value:function(){var o;(o=this._$ES)===null||o===void 0||o.forEach(function(l){var a;return(a=l.hostDisconnected)===null||a===void 0?void 0:a.call(l)})}},{key:"attributeChangedCallback",value:function(o,l,a){this._$AK(o,a)}},{key:"_$EO",value:function(o,l){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jh,s,r=this.constructor._$Ep(o,a);if(r!==void 0&&a.reflect===!0){var c=(((s=a.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?a.converter:Qh).toAttribute(l,a.type);this._$El=o,c==null?this.removeAttribute(r):this.setAttribute(r,c),this._$El=null}}},{key:"_$AK",value:function(o,l){var a,s=this.constructor,r=s._$Ev.get(o);if(r!==void 0&&this._$El!==r){var c=s.getPropertyOptions(r),d=typeof c.converter=="function"?{fromAttribute:c.converter}:((a=c.converter)===null||a===void 0?void 0:a.fromAttribute)!==void 0?c.converter:Qh;this._$El=r,this[r]=d.fromAttribute(l,c.type),this._$El=null}}},{key:"requestUpdate",value:function(o,l,a){var s=!0;o!==void 0&&(((a=a||this.constructor.getPropertyOptions(o)).hasChanged||Cy)(this[o],l)?(this._$AL.has(o)||this._$AL.set(o,l),a.reflect===!0&&this._$El!==o&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(o,a))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:function(){return mA(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.isUpdatePending=!0,s.prev=1,s.next=4,this._$E_;case 4:s.next=9;break;case 6:s.prev=6,s.t0=s.catch(1),Promise.reject(s.t0);case 9:if(l=this.scheduleUpdate(),s.t1=l!=null,!s.t1){s.next=14;break}return s.next=14,l;case 14:return s.abrupt("return",(s.t1&&s.sent,!this.isUpdatePending));case 15:case"end":return s.stop()}},o,this,[[1,6]])}))}},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var o=this,l;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(r,c){return o[c]=r}),this._$Ei=void 0);var a=!1,s=this._$AL;try{a=this.shouldUpdate(s),a?(this.willUpdate(s),(l=this._$ES)===null||l===void 0||l.forEach(function(r){var c;return(c=r.hostUpdate)===null||c===void 0?void 0:c.call(r)}),this.update(s)):this._$Ek()}catch(r){throw a=!1,this._$Ek(),r}a&&this._$AE(s)}}},{key:"willUpdate",value:function(o){}},{key:"_$AE",value:function(o){var l;(l=this._$ES)===null||l===void 0||l.forEach(function(a){var s;return(s=a.hostUpdated)===null||s===void 0?void 0:s.call(a)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(o)),this.updated(o)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(o){return!0}},{key:"update",value:function(o){var l=this;this._$EC!==void 0&&(this._$EC.forEach(function(a,s){return l._$EO(s,l[s],a)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(o){}},{key:"firstUpdated",value:function(o){}}],[{key:"addInitializer",value:function(o){var l;this.finalize(),((l=this.h)!==null&&l!==void 0?l:this.h=[]).push(o)}},{key:"observedAttributes",get:function(){var o=this;this.finalize();var l=[];return this.elementProperties.forEach(function(a,s){var r=o._$Ep(s,a);r!==void 0&&(o._$Ev.set(r,s),l.push(r))}),l}},{key:"createProperty",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jh;if(l.state&&(l.attribute=!1),this.finalize(),this.elementProperties.set(o,l),!l.noAccessor&&!this.prototype.hasOwnProperty(o)){var a=(typeof o=="undefined"?"undefined":_typeof(o))=="symbol"?Symbol():"__"+o,s=this.getPropertyDescriptor(o,a,l);s!==void 0&&Object.defineProperty(this.prototype,o,s)}}},{key:"getPropertyDescriptor",value:function(o,l,a){return{get:function(){return this[l]},set:function(r){var c=this[o];this[l]=r,this.requestUpdate(o,c,a)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(o){return this.elementProperties.get(o)||Jh}},{key:"finalize",value:function(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var o=Object.getPrototypeOf(this);if(o.finalize(),o.h!==void 0&&(this.h=_toConsumableArray(o.h)),this.elementProperties=new Map(o.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var l=this.properties,a=_toConsumableArray(Object.getOwnPropertyNames(l)).concat(_toConsumableArray(Object.getOwnPropertySymbols(l))),s=!0,r=!1,c=void 0;try{for(var d=a[Symbol.iterator](),h;!(s=(h=d.next()).done);s=!0){var f=h.value;this.createProperty(f,l[f])}}catch(v){r=!0,c=v}finally{try{!s&&d.return!=null&&d.return()}finally{if(r)throw c}}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(o){var l=[];if(Array.isArray(o)){var a=new Set(o.flat(1/0).reverse()),s=!0,r=!1,c=void 0;try{for(var d=a[Symbol.iterator](),h;!(s=(h=d.next()).done);s=!0){var f=h.value;l.unshift(_y(f))}}catch(v){r=!0,c=v}finally{try{!s&&d.return!=null&&d.return()}finally{if(r)throw c}}}else o!==void 0&&l.push(_y(o));return l}},{key:"_$Ep",value:function(o,l){var a=l.attribute;return a===!1?void 0:typeof a=="string"?a:typeof o=="string"?o.toLowerCase():void 0}}]),e}(_wrapNativeSuper(HTMLElement)),Xs.finalized=!0,Xs.elementProperties=new Map,Xs.elementStyles=[],Xs.shadowRootOptions={mode:"open"},Sy==null||Sy({ReactiveElement:Xs}),((ky=xc.reactiveElementVersions)!==null&&ky!==void 0?ky:xc.reactiveElementVersions=[]).push("1.5.0"),Sc=window,Ks=Sc.trustedTypes,Oy=Ks?Ks.createPolicy("lit-html",{createHTML:function(m){return m}}):void 0,wa="lit$".concat((Math.random()+"").slice(9),"$"),jy="?"+wa,_A="<".concat(jy,">"),Qs=document,ru=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Qs.createComment(m)},iu=function(m){return m===null||typeof m!="object"&&typeof m!="function"},Ey=Array.isArray,kA=function(m){return Ey(m)||typeof(m==null?void 0:m[Symbol.iterator])=="function"},ou=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ty=/-->/g,Py=/>/g,is=RegExp(">|[ 	\n\f\r](?:([^\\s\"'>=/]+)([ 	\n\f\r]*=[ 	\n\f\r]*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)","g"),Iy=/'/g,My=/"/g,Ly=/^(?:script|style|textarea|title)$/i,Ry=function(m){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:m,strings:t,values:n}}},au=Ry(1),TP=Ry(2),Js=Symbol.for("lit-noChange"),Si=Symbol.for("lit-nothing"),Dy=new WeakMap,Zs=Qs.createTreeWalker(Qs,129,null,!1),xA=function(m,t){for(var e=m.length-1,n=[],o,l=t===2?"<svg>":"",a=ou,s=0;s<e;s++){for(var r=m[s],c=void 0,d=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,d=a.exec(r),d!==null);)f=a.lastIndex,a===ou?d[1]==="!--"?a=Ty:d[1]!==void 0?a=Py:d[2]!==void 0?(Ly.test(d[2])&&(o=RegExp("</"+d[2],"g")),a=is):d[3]!==void 0&&(a=is):a===is?d[0]===">"?(a=o!=null?o:ou,h=-1):d[1]===void 0?h=-2:(h=a.lastIndex-d[2].length,c=d[1],a=d[3]===void 0?is:d[3]==='"'?My:Iy):a===My||a===Iy?a=is:a===Ty||a===Py?a=ou:(a=is,o=void 0);var v=a===is&&m[s+1].startsWith("/>")?" ":"";l+=a===ou?r+_A:h>=0?(n.push(c),r.slice(0,h)+"$lit$"+r.slice(h)+wa+v):r+wa+(h===-2?(n.push(void 0),s):v)}var _=l+(m[e]||"<?>")+(t===2?"</svg>":"");if(!Array.isArray(m)||!m.hasOwnProperty("raw"))throw Error("invalid template strings array");return[Oy!==void 0?Oy.createHTML(_):_,n]},Cc=function(){"use strict";function m(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,m);var l;this.parts=[];var a=0,s=0,r=n.length-1,c=this.parts,d=_slicedToArray(xA(n,o),2),h=d[0],f=d[1];if(this.el=Cc.createElement(h,e),Zs.currentNode=this.el.content,o===2){var v,_=this.el.content,b=_.firstChild;b.remove(),(v=_).append.apply(v,_toConsumableArray(b.childNodes))}for(;(l=Zs.nextNode())!==null&&c.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var w=[],A=!0,E=!1,O=void 0;try{for(var P=l.getAttributeNames()[Symbol.iterator](),y;!(A=(y=P.next()).done);A=!0){var u=y.value;if(u.endsWith("$lit$")||u.startsWith(wa)){var p=f[s++];if(w.push(u),p!==void 0){var g=l.getAttribute(p.toLowerCase()+"$lit$").split(wa),k=/([.?@])?(.*)/.exec(p);c.push({type:1,index:a,name:k[2],strings:g,ctor:k[1]==="."?CA:k[1]==="?"?OA:k[1]==="@"?jA:Oc})}else c.push({type:6,index:a})}}}catch(V){E=!0,O=V}finally{try{!A&&P.return!=null&&P.return()}finally{if(E)throw O}}var x=!0,j=!1,L=void 0;try{for(var D=w[Symbol.iterator](),F;!(x=(F=D.next()).done);x=!0){var X=F.value;l.removeAttribute(X)}}catch(V){j=!0,L=V}finally{try{!x&&D.return!=null&&D.return()}finally{if(j)throw L}}}if(Ly.test(l.tagName)){var Q=l.textContent.split(wa),H=Q.length-1;if(H>0){l.textContent=Ks?Ks.emptyScript:"";for(var ce=0;ce<H;ce++)l.append(Q[ce],ru()),Zs.nextNode(),c.push({type:2,index:++a});l.append(Q[H],ru())}}}else if(l.nodeType===8)if(l.data===jy)c.push({type:2,index:a});else for(var ne=-1;(ne=l.data.indexOf(wa,ne+1))!==-1;)c.push({type:7,index:a}),ne+=wa.length-1;a++}}return _createClass(m,null,[{key:"createElement",value:function(e,n){var o=Qs.createElement("template");return o.innerHTML=e,o}}]),m}(),SA=function(){"use strict";function m(t,e){_classCallCheck(this,m),this.u=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(m,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"v",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:Qs).importNode(a,!0);Zs.currentNode=r;for(var c=Zs.nextNode(),d=0,h=0,f=s[0];f!==void 0;){if(d===f.index){var v=void 0;f.type===2?v=new Ac(c,c.nextSibling,this,e):f.type===1?v=new f.ctor(c,f.name,f.strings,this,e):f.type===6&&(v=new EA(c,this,e)),this.u.push(v),f=s[++h]}d!==(f==null?void 0:f.index)&&(c=Zs.nextNode(),d++)}return r}},{key:"p",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this.u[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,n),n+=c.strings.length-2):c._$AI(e[n])),n++}}catch(d){l=!0,a=d}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),m}(),Ac=function(){"use strict";function m(t,e,n,o){_classCallCheck(this,m);var l;this.type=2,this._$AH=Si,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cm=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(m,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cm}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&e.nodeType===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=nu(this,e,n),iu(e)?e===Si||e==null||e===""?(this._$AH!==Si&&this._$AR(),this._$AH=Si):e!==this._$AH&&e!==Js&&this.g(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):kA(e)?this.k(e):this.g(e)}},{key:"O",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(e,n)}},{key:"T",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}},{key:"g",value:function(e){this._$AH!==Si&&iu(this._$AH)?this._$AA.nextSibling.data=e:this.T(Qs.createTextNode(e)),this._$AH=e}},{key:"$",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=Cc.createElement(l.h,this.options)),l);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.p(o);else{var s=new SA(a,this),r=s.v(this.options);s.p(o),this.T(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=Dy.get(e.strings);return n===void 0&&Dy.set(e.strings,n=new Cc(e)),n}},{key:"k",value:function(e){Ey(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(a=(d=c.next()).done);a=!0){var h=d.value;l===n.length?n.push(o=new Ac(this.O(ru()),this.O(ru()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cm=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),m}(),Oc=function(){"use strict";function m(t,e,n,o,l){_classCallCheck(this,m),this.type=1,this._$AH=Si,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Si}return _createClass(m,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=nu(this,e,n,0),s=!iu(e)||e!==this._$AH&&e!==Js,s&&(this._$AH=e);else{var r=e,c,d;for(e=a[0],c=0;c<a.length-1;c++)d=nu(this,r[o+c],n,c),d===Js&&(d=this._$AH[c]),s||(s=!iu(d)||d!==this._$AH[c]),d===Si?e=Si:e!==Si&&(e+=(d!=null?d:"")+a[c+1]),this._$AH[c]=d}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===Si?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),m}(),CA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Si?void 0:o}}]),e}(Oc),AA=Ks?Ks.emptyScript:"",OA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Si?this.element.setAttribute(this.name,AA):this.element.removeAttribute(this.name)}}]),e}(Oc),jA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=nu(this,o,l,0))!==null&&a!==void 0?a:Si)!==Js){var s=this._$AH,r=o===Si&&s!==Si||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,c=o!==Si&&(s===Si||r);r&&this.element.removeEventListener(this.name,this,s),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(Oc),EA=function(){"use strict";function m(t,e,n){_classCallCheck(this,m),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(m,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){nu(this,e)}}]),m}(),$y=Sc.litHtmlPolyfillSupport,$y==null||$y(Cc,Ac),((Ay=Sc.litHtmlVersions)!==null&&Ay!==void 0?Ay:Sc.litHtmlVersions=[]).push("2.5.0"),TA=function(m,t,e){var n,o,l=(n=e==null?void 0:e.renderBefore)!==null&&n!==void 0?n:t,a=l._$litPart$;if(a===void 0){var s=(o=e==null?void 0:e.renderBefore)!==null&&o!==void 0?o:null;l._$litPart$=a=new Ac(t.insertBefore(ru(),s),s,void 0,e!=null?e:{})}return a._$AI(m),a},el=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.renderOptions={host:_assertThisInitialized(n)},n._$Do=void 0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"createRenderRoot",value:function(){var o,l,a=_get(_getPrototypeOf(e.prototype),"createRenderRoot",this).call(this);return(o=(l=this.renderOptions).renderBefore)!==null&&o!==void 0||(l.renderBefore=a.firstChild),a}},{key:"update",value:function(o){var l=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(e.prototype),"update",this).call(this,o),this._$Do=TA(l,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"connectedCallback",this).call(this),(o=this._$Do)===null||o===void 0||o.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),(o=this._$Do)===null||o===void 0||o.setConnected(!1)}},{key:"render",value:function(){return Js}}]),e}(Xs),el.finalized=!0,el._$litElement$=!0,(By=globalThis.litElementHydrateSupport)===null||By===void 0||By.call(globalThis,{LitElement:el}),zy=globalThis.litElementPolyfillSupport,zy==null||zy({LitElement:el}),((Ny=globalThis.litElementVersions)!==null&&Ny!==void 0?Ny:globalThis.litElementVersions=[]).push("3.2.2")}}),PP=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-music-player@1.2.0/esnext/dist/src/photo-viewer/bookreader-utils.js":function(){}}),IP=Mt({"https-url:https://esm.archive.org/@internetarchive/ia-music-player@1.2.0/dist/src/photo-viewer/bookreader-utils.js":function(){PP()}}),_o,IA,Uo,Zh,co,Kr,MA,Fy,LA,RA,DA,or,_a,jc,Hy,$A,BA,tl,ef,NA,zA,Uy,su=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/search-service@0.3.4/esnext/search-service.mjs":function(){Cr(),yo(),vi(),Cr(),yo(),vi(),vi(),vi(),vi(),vi(),vi(),vi(),vi(),Cr(),yo(),vi(),Cr(),yo(),vi(),_o=function(){"use strict";function m(t,e){_classCallCheck(this,m),this.parser=t,this.rawValue=e}return _createClass(m,[{key:"values",get:function(){return this.parseRawValue()}},{key:"value",get:function(){return this.values[0]}},{key:"parseRawValue",value:function(){var e=this;if(this.rawValue===void 0)return[];var n=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],o=[];return n.forEach(function(l){var a,s=e.parser.parseValue(l);Array.isArray(s)?(a=o).push.apply(a,_toConsumableArray(s)):s!==void 0&&o.push(s)}),o}}]),m}(),Xe([Vt()],_o.prototype,"values",null),Xe([Vt()],_o.prototype,"value",null),IA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,ac.shared,n)}return e}(_o),Uo=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,va.shared,n)}return e}(_o),Zh=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,zs.shared,n)}return e}(_o),co=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,eo.shared,n)}return e}(_o),Kr=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,$l.shared,n)}return e}(_o),MA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,lh.shared,n)}return e}(_o),Fy=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Ua.shared,n)}return e}(_o),LA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,sc.shared,n)}return e}(_o),RA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n,o){return _classCallCheck(this,e),t.call(this,o,n)}return e}(_o),DA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o=new a7($l.shared);return t.call(this,n,o)}return e}(RA),or=function(){"use strict";function m(t){_classCallCheck(this,m),this.rawMetadata=t}return _createClass(m,[{key:"identifier",get:function(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.identifier}},{key:"addeddate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.addeddate?new Uo(this.rawMetadata.addeddate):void 0}},{key:"audio_codec",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_codec?new Kr(this.rawMetadata.audio_codec):void 0}},{key:"audio_sample_rate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_sample_rate?new co(this.rawMetadata.audio_sample_rate):void 0}},{key:"avg_rating",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.avg_rating?new co(this.rawMetadata.avg_rating):void 0}},{key:"collection",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection?new Kr(this.rawMetadata.collection):void 0}},{key:"collections_raw",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collections_raw?new Kr(this.rawMetadata.collections_raw):void 0}},{key:"collection_size",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection_size?new Fy(this.rawMetadata.collection_size):void 0}},{key:"contributor",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.contributor?new Kr(this.rawMetadata.contributor):void 0}},{key:"coverage",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.coverage?new Kr(this.rawMetadata.coverage):void 0}},{key:"creator",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.creator?new Kr(this.rawMetadata.creator):void 0}},{key:"date",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.date?new Uo(this.rawMetadata.date):void 0}},{key:"description",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.description?new Kr(this.rawMetadata.description):void 0}},{key:"downloads",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.downloads?new co(this.rawMetadata.downloads):void 0}},{key:"duration",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.duration?new Zh(this.rawMetadata.duration):void 0}},{key:"external-identifier",get:function(){var e,n;return!((e=this.rawMetadata)===null||e===void 0)&&e["external-identifier"]?new Kr((n=this.rawMetadata)===null||n===void 0?void 0:n["external-identifier"]):void 0}},{key:"files_count",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.files_count?new co(this.rawMetadata.files_count):void 0}},{key:"indexdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.indexdate?new Uo(this.rawMetadata.indexdate):void 0}},{key:"isbn",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.isbn?new Kr(this.rawMetadata.isbn):void 0}},{key:"issue",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.issue?new Kr(this.rawMetadata.issue):void 0}},{key:"item_count",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_count?new co(this.rawMetadata.item_count):void 0}},{key:"item_size",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_size?new Fy(this.rawMetadata.item_size):void 0}},{key:"language",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.language?new Kr(this.rawMetadata.language):void 0}},{key:"length",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.length?new Zh(this.rawMetadata.length):void 0}},{key:"lineage",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.lineage?new Kr(this.rawMetadata.lineage):void 0}},{key:"month",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.month?new co(this.rawMetadata.month):void 0}},{key:"mediatype",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.mediatype?new LA(this.rawMetadata.mediatype):void 0}},{key:"noindex",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.noindex?new IA(this.rawMetadata.noindex):void 0}},{key:"notes",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.notes?new Kr(this.rawMetadata.notes):void 0}},{key:"num_favorites",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_favorites?new co(this.rawMetadata.num_favorites):void 0}},{key:"num_reviews",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_reviews?new co(this.rawMetadata.num_reviews):void 0}},{key:"openlibrary_edition",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_edition?new Kr(this.rawMetadata.openlibrary_edition):void 0}},{key:"openlibrary_work",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_work?new Kr(this.rawMetadata.openlibrary_work):void 0}},{key:"page_progression",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.page_progression?new MA(this.rawMetadata.page_progression):void 0}},{key:"partner",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.partner?new Kr(this.rawMetadata.partner):void 0}},{key:"ppi",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.ppi?new co(this.rawMetadata.ppi):void 0}},{key:"publicdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publicdate?new Uo(this.rawMetadata.publicdate):void 0}},{key:"publisher",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publisher?new Kr(this.rawMetadata.publisher):void 0}},{key:"reviewdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.reviewdate?new Uo(this.rawMetadata.reviewdate):void 0}},{key:"runtime",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.runtime?new Zh(this.rawMetadata.runtime):void 0}},{key:"scanner",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.scanner?new Kr(this.rawMetadata.scanner):void 0}},{key:"source",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.source?new Kr(this.rawMetadata.source):void 0}},{key:"start_localtime",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_localtime?new Uo(this.rawMetadata.start_localtime):void 0}},{key:"start_time",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_time?new Uo(this.rawMetadata.start_time):void 0}},{key:"stop_time",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.stop_time?new Uo(this.rawMetadata.stop_time):void 0}},{key:"subject",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.subject?new DA(this.rawMetadata.subject):void 0}},{key:"taper",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.taper?new Kr(this.rawMetadata.taper):void 0}},{key:"title",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.title?new Kr(this.rawMetadata.title):void 0}},{key:"transferer",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.transferer?new Kr(this.rawMetadata.transferer):void 0}},{key:"track",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.track?new co(this.rawMetadata.track):void 0}},{key:"type",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.type?new Kr(this.rawMetadata.type):void 0}},{key:"uploader",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.uploader?new Kr(this.rawMetadata.uploader):void 0}},{key:"utc_offset",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.utc_offset?new co(this.rawMetadata.utc_offset):void 0}},{key:"venue",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.venue?new Kr(this.rawMetadata.venue):void 0}},{key:"volume",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.volume?new Kr(this.rawMetadata.volume):void 0}},{key:"week",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.week?new co(this.rawMetadata.week):void 0}},{key:"year",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.year?new Uo(this.rawMetadata.year):void 0}}]),m}(),Xe([Vt()],or.prototype,"addeddate",null),Xe([Vt()],or.prototype,"audio_codec",null),Xe([Vt()],or.prototype,"audio_sample_rate",null),Xe([Vt()],or.prototype,"avg_rating",null),Xe([Vt()],or.prototype,"collection",null),Xe([Vt()],or.prototype,"collections_raw",null),Xe([Vt()],or.prototype,"collection_size",null),Xe([Vt()],or.prototype,"contributor",null),Xe([Vt()],or.prototype,"coverage",null),Xe([Vt()],or.prototype,"creator",null),Xe([Vt()],or.prototype,"date",null),Xe([Vt()],or.prototype,"description",null),Xe([Vt()],or.prototype,"downloads",null),Xe([Vt()],or.prototype,"duration",null),Xe([Vt()],or.prototype,"external-identifier",null),Xe([Vt()],or.prototype,"files_count",null),Xe([Vt()],or.prototype,"indexdate",null),Xe([Vt()],or.prototype,"isbn",null),Xe([Vt()],or.prototype,"issue",null),Xe([Vt()],or.prototype,"item_count",null),Xe([Vt()],or.prototype,"item_size",null),Xe([Vt()],or.prototype,"language",null),Xe([Vt()],or.prototype,"length",null),Xe([Vt()],or.prototype,"lineage",null),Xe([Vt()],or.prototype,"month",null),Xe([Vt()],or.prototype,"mediatype",null),Xe([Vt()],or.prototype,"noindex",null),Xe([Vt()],or.prototype,"notes",null),Xe([Vt()],or.prototype,"num_favorites",null),Xe([Vt()],or.prototype,"num_reviews",null),Xe([Vt()],or.prototype,"openlibrary_edition",null),Xe([Vt()],or.prototype,"openlibrary_work",null),Xe([Vt()],or.prototype,"page_progression",null),Xe([Vt()],or.prototype,"partner",null),Xe([Vt()],or.prototype,"ppi",null),Xe([Vt()],or.prototype,"publicdate",null),Xe([Vt()],or.prototype,"publisher",null),Xe([Vt()],or.prototype,"reviewdate",null),Xe([Vt()],or.prototype,"runtime",null),Xe([Vt()],or.prototype,"scanner",null),Xe([Vt()],or.prototype,"source",null),Xe([Vt()],or.prototype,"start_localtime",null),Xe([Vt()],or.prototype,"start_time",null),Xe([Vt()],or.prototype,"stop_time",null),Xe([Vt()],or.prototype,"subject",null),Xe([Vt()],or.prototype,"taper",null),Xe([Vt()],or.prototype,"title",null),Xe([Vt()],or.prototype,"transferer",null),Xe([Vt()],or.prototype,"track",null),Xe([Vt()],or.prototype,"type",null),Xe([Vt()],or.prototype,"uploader",null),Xe([Vt()],or.prototype,"utc_offset",null),Xe([Vt()],or.prototype,"venue",null),Xe([Vt()],or.prototype,"volume",null),Xe([Vt()],or.prototype,"week",null),Xe([Vt()],or.prototype,"year",null),_a=function(){"use strict";function m(t){_classCallCheck(this,m),this.rawValue=t}return _createClass(m,[{key:"name",get:function(){return this.rawValue.name}},{key:"source",get:function(){return this.rawValue.source}},{key:"btih",get:function(){return this.rawValue.btih}},{key:"md5",get:function(){return this.rawValue.md5}},{key:"format",get:function(){return this.rawValue.format}},{key:"mtime",get:function(){return this.rawValue.mtime}},{key:"crc32",get:function(){return this.rawValue.crc32}},{key:"sha1",get:function(){return this.rawValue.sha1}},{key:"original",get:function(){return this.rawValue.original}},{key:"size",get:function(){return this.rawValue.size?Ua.shared.parseValue(this.rawValue.size):void 0}},{key:"title",get:function(){return this.rawValue.title}},{key:"length",get:function(){return this.rawValue.length?zs.shared.parseValue(this.rawValue.length):void 0}},{key:"height",get:function(){return this.rawValue.height?eo.shared.parseValue(this.rawValue.height):void 0}},{key:"width",get:function(){return this.rawValue.width?eo.shared.parseValue(this.rawValue.width):void 0}},{key:"track",get:function(){return this.rawValue.track?eo.shared.parseValue(this.rawValue.track):void 0}},{key:"external_identifier",get:function(){return this.rawValue.external_identifier}},{key:"creator",get:function(){return this.rawValue.creator}},{key:"album",get:function(){return this.rawValue.album}}]),m}(),Xe([Vt()],_a.prototype,"size",null),Xe([Vt()],_a.prototype,"length",null),Xe([Vt()],_a.prototype,"height",null),Xe([Vt()],_a.prototype,"width",null),Xe([Vt()],_a.prototype,"track",null),jc=function(){"use strict";function m(t){_classCallCheck(this,m),this.rawValue=t}return _createClass(m,[{key:"reviewbody",get:function(){return this.rawValue.reviewbody}},{key:"reviewtitle",get:function(){return this.rawValue.reviewtitle}},{key:"reviewer",get:function(){return this.rawValue.reviewer}},{key:"reviewdate",get:function(){return this.rawValue.reviewdate?va.shared.parseValue(this.rawValue.reviewdate):void 0}},{key:"createdate",get:function(){return this.rawValue.createdate?va.shared.parseValue(this.rawValue.createdate):void 0}},{key:"stars",get:function(){return this.rawValue.stars?eo.shared.parseValue(this.rawValue.stars):void 0}}]),m}(),Xe([Vt()],jc.prototype,"reviewdate",null),Xe([Vt()],jc.prototype,"createdate",null),Xe([Vt()],jc.prototype,"stars",null),Hy=function m(t){"use strict";_classCallCheck(this,m);var e,n;this.rawResponse=t,this.created=t.created,this.d1=t.d1,this.d2=t.d2,this.dir=t.dir,this.files=(e=t.files)===null||e===void 0?void 0:e.map(function(o){return new _a(o)}),this.files_count=t.files_count,this.item_last_updated=t.item_last_updated,this.item_size=t.item_size,this.metadata=new or(t.metadata),this.server=t.server,this.uniq=t.uniq,this.workable_servers=t.workable_servers,this.speech_vs_music_asr=t.speech_vs_music_asr,this.reviews=(n=t.reviews)===null||n===void 0?void 0:n.map(function(o){return new jc(o)})},$A=function m(t){"use strict";_classCallCheck(this,m),this.numFound=t.numFound,this.start=t.start,this.docs=t.docs.map(function(e){return new or(e)}),this.aggregations=t.aggregations},BA=function m(t){"use strict";_classCallCheck(this,m),this.rawResponse=t,this.responseHeader=t.responseHeader,this.response=new $A(t.response)},function(m){m.networkError="SearchService.NetworkError",m.itemNotFound="SearchService.ItemNotFound",m.decodingError="SearchService.DecodingError",m.searchEngineError="SearchService.SearchEngineError"}(tl||(tl={})),ef=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n,o,l){_classCallCheck(this,e);var a;return a=t.call(this,o),a.name=n,a.type=n,a.details=l,_possibleConstructorReturn(a)}return e}(_wrapNativeSuper(Error)),NA=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,null,[{key:"aggregateSearchParamsAsString",value:function(e){if(e.advancedParams){var n=e.advancedParams.map(function(o){return{terms:o}});return JSON.stringify(n)}if(e.simpleParams)return e.simpleParams.join(",")}},{key:"sortParamsAsString",value:function(e){return"".concat(e.field," ").concat(e.direction)}},{key:"generateURLSearchParams",value:function(e){var n=new URLSearchParams;if(n.append("q",e.query),n.append("output","json"),e.rows&&n.append("rows",String(e.rows)),e.page&&n.append("page",String(e.page)),e.fields&&n.append("fl",e.fields.join(",")),e.sort){var o=this,l=e.sort.map(function(r){return o.sortParamsAsString(r)});n.append("sort",l.join(","))}var a=e.aggregations;if(a){var s=this.aggregateSearchParamsAsString(a);s&&n.append("user_aggs",s)}return n}}]),m}(),zA=function(){"use strict";function m(t){_classCallCheck(this,m);var e;if(this.baseUrl=(e=t==null?void 0:t.baseUrl)!==null&&e!==void 0?e:"archive.org",(t==null?void 0:t.includeCredentials)!==void 0?this.includeCredentials=t.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null,(t==null?void 0:t.scope)!==void 0)this.requestScope=t.scope;else{var n=new URL(window.location.href).searchParams.get("scope");n&&(this.requestScope=n)}}return _createClass(m,[{key:"performSearch",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){var o,l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=NA.generateURLSearchParams(e).toString(),l="https://".concat(this.baseUrl,"/advancedsearch.php?").concat(o),s.abrupt("return",this.fetchUrl(l));case 2:case"end":return s.stop()}},n,this)}))}},{key:"fetchMetadata",value:function(e,n){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return l=n?"/".concat(n):"",a="https://".concat(this.baseUrl,"/metadata/").concat(e).concat(l),r.abrupt("return",this.fetchUrl(a,{requestOptions:{credentials:"omit"}}));case 2:case"end":return r.stop()}},o,this)}))}},{key:"fetchUrl",value:function(e,n){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r,c,d,h,f,v;return _regeneratorRuntime.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return a=new URL(e),this.requestScope&&a.searchParams.set("scope",this.requestScope),b.prev=4,r=(l=n==null?void 0:n.requestOptions)!==null&&l!==void 0?l:{credentials:this.includeCredentials?"include":"same-origin"},b.next=8,fetch(a.href,r);case 8:s=b.sent,b.next=15;break;case 11:return b.prev=11,b.t0=b.catch(4),c=_instanceof(b.t0,Error)?b.t0.message:typeof b.t0=="string"?b.t0:"Unknown error",b.abrupt("return",this.getErrorResult(tl.networkError,c));case 15:return b.prev=15,b.next=18,s.json();case 18:if(d=b.sent,h=d.error,!h){b.next=25;break}return f=d.forensics,b.abrupt("return",this.getErrorResult(tl.searchEngineError,h,f));case 25:return b.abrupt("return",{success:d});case 26:b.next=32;break;case 28:return b.prev=28,b.t1=b.catch(15),v=_instanceof(b.t1,Error)?b.t1.message:typeof b.t1=="string"?b.t1:"Unknown error",b.abrupt("return",this.getErrorResult(tl.decodingError,v));case 32:case"end":return b.stop()}},o,this,[[4,11],[15,28]])}))}},{key:"getErrorResult",value:function(e,n,o){return{error:new ef(e,n,o)}}}]),m}(),Uy=function(){"use strict";function m(t){_classCallCheck(this,m),this.searchBackend=t}return _createClass(m,[{key:"search",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){var o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.searchBackend.performSearch(e);case 2:return o=a.sent,a.abrupt("return",o.error?o:{success:new BA(o.success)});case 4:case"end":return a.stop()}},n,this)}))}},{key:"fetchMetadata",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){var o,l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,this.searchBackend.fetchMetadata(e);case 3:return l=s.sent,s.abrupt("return",l.error?l:((o=l.success)===null||o===void 0?void 0:o.metadata)===void 0?{error:new ef(tl.itemNotFound)}:{success:new Hy(l.success)});case 5:case"end":return s.stop()}},n,this)}))}},{key:"fetchMetadataValue",value:function(e,n){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,this.searchBackend.fetchMetadata(e,n);case 3:return a=r.sent,r.abrupt("return",a.error?a:((l=a.success)===null||l===void 0?void 0:l.result)===void 0?{error:new ef(tl.itemNotFound)}:{success:a.success.result});case 5:case"end":return r.stop()}},o,this)}))}}]),m}(),Uy.default=new Uy(new zA)}}),FA,HA,MP=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-music-player@1.2.0/esnext/dist/src/models/album.js":function(){su(),su(),FA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"archive.org";_classCallCheck(this,e);var l;return l=t.call(this,n),l.isSegmented=!1,l.private=!1,l.details=null,l.orig="",l.image="",l.duration=0,l.sources=[],l._playlistTrack=null,l.details=n.details,l.baseHost=o,_possibleConstructorReturn(l)}return _createClass(e,[{key:"setPlaylistInfo",value:function(o){this._playlistTrack=o,this.orig=o.orig,this.image=o.image,this.duration=o.duration,this.sources=o.sources}},{key:"url",get:function(){return"https://".concat(this.baseHost,"/").concat(this.name)}},{key:"title",get:function(){var o;return((o=this._playlistTrack)===null||o===void 0?void 0:o.title)||(this===null||this===void 0?void 0:this.title)||this.name}},{key:"youtubeId",get:function(){return this.externalIds.find(function(o){return o.match(/youtube/gi)})||""}},{key:"spotifyId",get:function(){return this.externalIds.find(function(o){return o.match(/spotify/gi)})||""}},{key:"externalIds",get:function(){return Array.isArray(this.rawValue["external-identifier"])?this.rawValue["external-identifier"]:[this.rawValue["external-identifier"]||""]}}]),e}(_a),HA=function(){"use strict";function m(t,e){_classCallCheck(this,m),this.tracks=[],this.images=[],this.linerNotes=[],this.tracksAreSegmented=!1,this.baseHost="archive.org",this.relatedFiles=[],this.rawPlaylistTracks=[],this.item=new Hy(t),this.rawPlaylistTracks=e,this.tracks=e,this.filterFiles(this.item.files)}return _createClass(m,[{key:"title",get:function(){var e,n;return((n=(e=this.item.metadata)===null||e===void 0?void 0:e.title)===null||n===void 0?void 0:n.values.join("; "))||""}},{key:"creator",get:function(){var e,n,o,l,a,s;return!((n=(e=this.item.metadata)===null||e===void 0?void 0:e.creator)===null||n===void 0)&&n.values?(l=(o=this.item.metadata)===null||o===void 0?void 0:o.creator)===null||l===void 0?void 0:l.values.join("; "):!((a=this.item.metadata.rawMetadata)===null||a===void 0)&&a.artist?(s=this.item.metadata.rawMetadata)===null||s===void 0?void 0:s.artist:""}},{key:"youtubeId",get:function(){return this.externalIds.find(function(e){return e.match(/youtube/gi)})||""}},{key:"spotifyId",get:function(){return this.externalIds.find(function(e){return e.match(/spotify/gi)})||""}},{key:"externalIds",get:function(){var e;if(!this.item.metadata.rawMetadata)return[""];var n=this.item.metadata["external-identifier"];return!((e=n==null?void 0:n.values)===null||e===void 0)&&e.length?n.values:[(n==null?void 0:n.value)||""]}},{key:"youtubeTracks",get:function(){var e=this.tracks.filter(function(n){return n.youtubeId});return this.albumTrackOption("yt")!==void 0&&e.unshift(this.albumTrackOption("yt")),e}},{key:"spotifyTracks",get:function(){var e=this.tracks.filter(function(n){return n.spotifyId});return this.albumTrackOption("sp")!==void 0&&e.unshift(this.albumTrackOption("sp")),e}},{key:"albumImage",get:function(){var e=this.images.find(function(l){return l.format==="Item Image"}),n="https://".concat(this.baseHost,"/download/").concat(this.item.metadata.identifier,"/");if(e)return"".concat(n).concat(e.name);var o=this.images.find(function(l){var a=["Item Image","JPEG Thumb"];return l.source==="original"&&!a.includes(l.format)});return o?"".concat(n).concat(o.name):"".concat(n,"__ia_thumb.jpg")}},{key:"albumTrackOption",value:function(e){var n={title:"Full Album",orig:"",image:"",duration:"-- : --",track:0,iaTrackNum:-1,sources:[]};if(e==="yt"&&this.youtubeId)return oi(Dr({},n),{youtubeId:this.youtubeId});if(e==="sp"&&this.spotifyId)return oi(Dr({},n),{spotifyId:this.spotifyId})}},{key:"isAlbumRelatedFile",value:function(e){var n,o;return!!(!((n=e.name.match(/.(ffp|md5)$/g))===null||n===void 0)&&n.length)&&!!(!((o=e.original)===null||o===void 0)&&o.length)&&e.source==="derivative"}},{key:"isValidAudioFile",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/(mp3|ogg|flac|m4a|wma|aiff|aac|aa|ra|ram|shn|wav|wave|opus)$/gi))===null||n===void 0)&&n.length)}},{key:"isValidImageFile",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/.(png|jpg|jpeg)$/gi))===null||n===void 0)&&n.length)}},{key:"isValidImageFileFormat",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/(png|jpg|jpeg)/gi))===null||n===void 0)&&n.length)}},{key:"isValidSegmentFile",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/_segments.(json|xml)$/gi))===null||n===void 0)&&n.length)}},{key:"isSpectrogram",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/spectrogram/gi))===null||n===void 0)&&n.length)}},{key:"isSampleMP3",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/_sample\.mp3$/gi))===null||n===void 0)&&n.length)}},{key:"hasScannedLinerNotes",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/_jp2.(zip|tar)/gi))===null||n===void 0)&&n.length)}},{key:"filterFiles",value:function(e){var n=this,o=[],l={};e.forEach(function(s){var r,c,d=s.rawValue,h=n.isValidAudioFile(d.name);if(n.isAlbumRelatedFile(d)){n.relatedFiles.push(d);return}if(n.isValidSegmentFile(d.name)&&(n.tracksAreSegmented=!0,n.relatedFiles.push(d),d.original&&n.isValidAudioFile(d.name)&&!l[d.original]&&(l[d.original]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0})),d.source==="original"&&!l[d.name]&&h&&(l[d.name]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),d.original&&n.isValidAudioFile(d.original)&&!l[d.original]&&(l[d.original]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),n.hasScannedLinerNotes(d.name)&&n.linerNotes.push(d),n.isValidImageFile(d.name)){d.original&&n.isValidAudioFile(d.original)?l[d.original].spectrogram=d:o.push(d);return}if(d.original&&n.isValidAudioFile(d.original)&&!n.isValidAudioFile(d.name)){l[d.original].related.push(d);return}if(!(!n.isValidAudioFile(d.name)||!n.isValidImageFile(d.name)&&!n.isValidAudioFile(d.name))){var f=n.isValidSegmentFile(d.original)&&n.isValidAudioFile(d.name);if(d.source==="original"&&n.isValidAudioFile(d.name)||f){l[d.name]||(l[d.name]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),l[d.name].primary=d;return}if(!((r=d.name.match(/_sample\.mp3$/))===null||r===void 0)&&r.length&&d.original){l[d.original].sampleMp3=new _a(d);return}n.isValidAudioFile(d.name)&&!n.isSampleMP3(d.name)&&n.isValidAudioFile(d.original)&&d.original&&(!((c=d.name.match(/.mp3$/))===null||c===void 0)&&c.length?l[d.original].fullMp3=d:l[d.original].related.push(d))}}),this.images=o;var a=[];this.tracks.forEach(function(s,r){var c=l[s.orig].primary,d=new FA(oi(Dr(Dr({},s),c),{details:l[s.orig]}),"archive.org");d.setPlaylistInfo(s),a[r]=d}),this.tracks=a}}]),m}()}}),LP=Mt({"https-url:https://esm.archive.org/@internetarchive/ia-music-player@1.2.0/dist/src/models/album":function(){su(),MP()}}),UA,VA,WA=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-audio@1.3.4/esnext/icon-audio.mjs":function(){vn(),vn(),UA=St(_templateObject350()),VA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return UA}}],[{key:"styles",get:function(){return Lt(_templateObject351())}}]),e}(Vn),customElements.define("ia-icon-audio",VA)}}),qA,GA,YA=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-close-circle@1.3.6/esnext/icon-close-circle.mjs":function(){vn(),vn(),qA=St(_templateObject352()),GA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return qA}}],[{key:"styles",get:function(){return Lt(_templateObject353())}}]),e}(Vn),customElements.define("ia-icon-close-circle",GA)}});function lu(m,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===hu)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,c=cu(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(m),r._$AT(m,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=lu(m,r._$AS(m,t.values),r,n)),t}var Vy,Ec,nl,Wy,tf,ka,qy,XA,os,uu,cu,Gy,KA,nf,du,Yy,Xy,as,Ky,Qy,Jy,Zy,RP,DP,hu,Ci,e0,ss,QA,rf,JA,of,Tc,ZA,eO,tO,nO,rO,t0,iO,n0,oO,$P=Mt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directives/cache.js":function(){uc(),G8(),Ec=window,nl=Ec.trustedTypes,Wy=nl?nl.createPolicy("lit-html",{createHTML:function(m){return m}}):void 0,tf="$lit$",ka="lit$".concat((Math.random()+"").slice(9),"$"),qy="?"+ka,XA="<".concat(qy,">"),os=document,uu=function(){return os.createComment("")},cu=function(m){return m===null||typeof m!="object"&&typeof m!="function"},Gy=Array.isArray,KA=function(m){return Gy(m)||typeof(m==null?void 0:m[Symbol.iterator])=="function"},nf="[ 	\n\f\r]",du=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Yy=/-->/g,Xy=/>/g,as=RegExp(">|".concat(nf,"(?:([^\\s\"'>=/]+)(").concat(nf,"*=").concat(nf,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),Ky=/'/g,Qy=/"/g,Jy=/^(?:script|style|textarea|title)$/i,Zy=function(m){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:m,strings:t,values:n}}},RP=Zy(1),DP=Zy(2),hu=Symbol.for("lit-noChange"),Ci=Symbol.for("lit-nothing"),e0=new WeakMap,ss=os.createTreeWalker(os,129,null,!1),QA=function(m,t){for(var e=m.length-1,n=[],o,l=t===2?"<svg>":"",a=du,s=0;s<e;s++){for(var r=m[s],c=void 0,d=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,d=a.exec(r),d!==null);)f=a.lastIndex,a===du?d[1]==="!--"?a=Yy:d[1]!==void 0?a=Xy:d[2]!==void 0?(Jy.test(d[2])&&(o=RegExp("</"+d[2],"g")),a=as):d[3]!==void 0&&(a=as):a===as?d[0]===">"?(a=o!=null?o:du,h=-1):d[1]===void 0?h=-2:(h=a.lastIndex-d[2].length,c=d[1],a=d[3]===void 0?as:d[3]==='"'?Qy:Ky):a===Qy||a===Ky?a=as:a===Yy||a===Xy?a=du:(a=as,o=void 0);var v=a===as&&m[s+1].startsWith("/>")?" ":"";l+=a===du?r+XA:h>=0?(n.push(c),r.slice(0,h)+tf+r.slice(h)+ka+v):r+ka+(h===-2?(n.push(void 0),s):v)}return[i5(m,l+(m[e]||"<?>")+(t===2?"</svg>":"")),n]},rf=function(){"use strict";function m(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,m);var l;this.parts=[];var a=0,s=0,r=n.length-1,c=this.parts,d=_slicedToArray(QA(n,o),2),h=d[0],f=d[1];if(this.el=m.createElement(h,e),ss.currentNode=this.el.content,o===2){var v,_=this.el.content,b=_.firstChild;b.remove(),(v=_).append.apply(v,_toConsumableArray(b.childNodes))}for(;(l=ss.nextNode())!==null&&c.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var w=[],A=!0,E=!1,O=void 0;try{for(var P=l.getAttributeNames()[Symbol.iterator](),y;!(A=(y=P.next()).done);A=!0){var u=y.value;if(u.endsWith(tf)||u.startsWith(ka)){var p=f[s++];if(w.push(u),p!==void 0){var g=l.getAttribute(p.toLowerCase()+tf).split(ka),k=/([.?@])?(.*)/.exec(p);c.push({type:1,index:a,name:k[2],strings:g,ctor:k[1]==="."?ZA:k[1]==="?"?tO:k[1]==="@"?nO:Tc})}else c.push({type:6,index:a})}}}catch(V){E=!0,O=V}finally{try{!A&&P.return!=null&&P.return()}finally{if(E)throw O}}var x=!0,j=!1,L=void 0;try{for(var D=w[Symbol.iterator](),F;!(x=(F=D.next()).done);x=!0){var X=F.value;l.removeAttribute(X)}}catch(V){j=!0,L=V}finally{try{!x&&D.return!=null&&D.return()}finally{if(j)throw L}}}if(Jy.test(l.tagName)){var Q=l.textContent.split(ka),H=Q.length-1;if(H>0){l.textContent=nl?nl.emptyScript:"";for(var ce=0;ce<H;ce++)l.append(Q[ce],uu()),ss.nextNode(),c.push({type:2,index:++a});l.append(Q[H],uu())}}}else if(l.nodeType===8)if(l.data===qy)c.push({type:2,index:a});else for(var ne=-1;(ne=l.data.indexOf(ka,ne+1))!==-1;)c.push({type:7,index:a}),ne+=ka.length-1;a++}}return _createClass(m,null,[{key:"createElement",value:function(e,n){var o=os.createElement("template");return o.innerHTML=e,o}}]),m}(),JA=function(){"use strict";function m(t,e){_classCallCheck(this,m),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(m,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:os).importNode(a,!0);ss.currentNode=r;for(var c=ss.nextNode(),d=0,h=0,f=s[0];f!==void 0;){if(d===f.index){var v=void 0;f.type===2?v=new of(c,c.nextSibling,this,e):f.type===1?v=new f.ctor(c,f.name,f.strings,this,e):f.type===6&&(v=new rO(c,this,e)),this._$AV.push(v),f=s[++h]}d!==(f==null?void 0:f.index)&&(c=ss.nextNode(),d++)}return ss.currentNode=os,r}},{key:"v",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,n),n+=c.strings.length-2):c._$AI(e[n])),n++}}catch(d){l=!0,a=d}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),m}(),of=function(){"use strict";function m(t,e,n,o){_classCallCheck(this,m);var l;this.type=2,this._$AH=Ci,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(m,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=lu(this,e,n),cu(e)?e===Ci||e==null||e===""?(this._$AH!==Ci&&this._$AR(),this._$AH=Ci):e!==this._$AH&&e!==hu&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):KA(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Ci&&cu(this._$AH)?this._$AA.nextSibling.data=e:this.$(os.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=rf.createElement(i5(l.h,l.h[0]),this.options)),l);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.v(o);else{var s=new JA(a,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=e0.get(e.strings);return n===void 0&&e0.set(e.strings,n=new rf(e)),n}},{key:"T",value:function(e){Gy(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(a=(d=c.next()).done);a=!0){var h=d.value;l===n.length?n.push(o=new m(this.k(uu()),this.k(uu()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),m}(),Tc=function(){"use strict";function m(t,e,n,o,l){_classCallCheck(this,m),this.type=1,this._$AH=Ci,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Ci}return _createClass(m,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=lu(this,e,n,0),s=!cu(e)||e!==this._$AH&&e!==hu,s&&(this._$AH=e);else{var r=e,c,d;for(e=a[0],c=0;c<a.length-1;c++)d=lu(this,r[o+c],n,c),d===hu&&(d=this._$AH[c]),s||(s=!cu(d)||d!==this._$AH[c]),d===Ci?e=Ci:e!==Ci&&(e+=(d!=null?d:"")+a[c+1]),this._$AH[c]=d}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===Ci?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),m}(),ZA=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Ci?void 0:o}}]),e}(Tc),eO=nl?nl.emptyScript:"",tO=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Ci?this.element.setAttribute(this.name,eO):this.element.removeAttribute(this.name)}}]),e}(Tc),nO=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=lu(this,o,l,0))!==null&&a!==void 0?a:Ci)!==hu){var s=this._$AH,r=o===Ci&&s!==Ci||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,c=o!==Ci&&(s===Ci||r);r&&this.element.removeEventListener(this.name,this,s),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(Tc),rO=function(){"use strict";function m(t,e,n){_classCallCheck(this,m),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(m,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){lu(this,e)}}]),m}(),t0=Ec.litHtmlPolyfillSupport,t0==null||t0(rf,of),((Vy=Ec.litHtmlVersions)!==null&&Vy!==void 0?Vy:Ec.litHtmlVersions=[]).push("2.8.0"),iO=function(m,t,e){var n,o,l=(n=e==null?void 0:e.renderBefore)!==null&&n!==void 0?n:t,a=l._$litPart$;if(a===void 0){var s=(o=e==null?void 0:e.renderBefore)!==null&&o!==void 0?o:null;l._$litPart$=a=new of(t.insertBefore(uu(),s),s,void 0,e!=null?e:{})}return a._$AI(m),a},n0=function(m){return V8(m)?m._$litType$.h:m.strings},oO=Nl(function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;return o=t.call(this,n),o.tt=new WeakMap,_possibleConstructorReturn(o)}return _createClass(e,[{key:"render",value:function(o){return[o]}},{key:"update",value:function(o,l){var a=_slicedToArray(l,1),s=a[0],r=Em(this.et)?n0(this.et):null,c=Em(s)?n0(s):null;if(r!==null&&(c===null||r!==c)){var d=Mh(o).pop(),h=this.tt.get(r);if(h===void 0){var f=document.createDocumentFragment();h=iO(Ci,f),h.setConnected(!1),this.tt.set(r,h)}Ih(h,[d]),Ya(h,void 0,d)}if(c!==null){if(r===null||r!==c){var v=this.tt.get(c);if(v!==void 0){var _=Mh(v).pop();q8(o),Ya(o,void 0,_),Ih(o,[_])}}this.et=s}else this.et=void 0;return this.render(s)}}]),e}(zl))}}),aO=Mt({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/directives/cache.js":function(){$P()}}),Vo,sO=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-dropdown@1.0.5/esnext/dist/src/ia-dropdown.js":function(){Cr(),vn(),Or(),Vo=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.open=!1,n.displayCaret=!1,n.selectedOption="",n.options=[],n.optionGroup="options",n.optionSelected=function(){},_possibleConstructorReturn(n)}return _createClass(e,[{key:"renderOption",value:function(o){var l=this,a=o.label,s=o.url,r=s===void 0?void 0:s,c=o.id,d,h=this.selectedOption===c?"selected":"";return r?d=St(_templateObject354(),r,function(){return l.optionClicked(o)},a):d=St(_templateObject355(),function(){return l.optionClicked(o)},a),St(_templateObject356(),h,d)}},{key:"optionClicked",value:function(o){this.selectedOption=o.id,this.dispatchEvent(new CustomEvent("optionSelected",{detail:{option:o}})),o.selectedHandler&&(o==null||o.selectedHandler(o))}},{key:"toggleOptions",value:function(){this.open=!this.open}},{key:"caret",get:function(){return this.open?this.caretUp:this.caretDown}},{key:"dropdownState",get:function(){return this.open?"open":"closed"}},{key:"caretUp",get:function(){return So(_templateObject357())}},{key:"caretDown",get:function(){return So(_templateObject358())}},{key:"availableOptions",get:function(){var o=this;return this.options.filter(function(l){return o.selectedOption!==l.id})}},{key:"render",value:function(){var o=this;return St(_templateObject360(),this.toggleOptions,this.optionGroup,this.displayCaret?St(_templateObject359(),this.caret):Rn,this.dropdownState,this.availableOptions.map(function(l){return o.renderOption(l)}))}}]),e}(Vn),Vo.styles=Lt(_templateObject361()),Xe([Kt({type:Boolean,attribute:!0})],Vo.prototype,"open",void 0),Xe([Kt({type:Boolean,attribute:!0})],Vo.prototype,"displayCaret",void 0),Xe([Kt({type:String,attribute:!0})],Vo.prototype,"selectedOption",void 0),Xe([Kt({type:Array})],Vo.prototype,"options",void 0),Xe([Kt({type:String})],Vo.prototype,"optionGroup",void 0),Xe([Kt({type:Function})],Vo.prototype,"optionSelected",void 0),Vo=Xe([Mr("ia-dropdown")],Vo)}}),af,lO=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-dropdown@1.0.5/esnext/dist/src/ia-icon-label.js":function(){Cr(),vn(),Or(),af=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return St(_templateObject362())}}]),e}(Vn),af.styles=Lt(_templateObject363()),af=Xe([Mr("ia-icon-label")],af)}});function fu(m,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===il)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,c=pu(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(m),r._$AT(m,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=fu(m,r._$AS(m,t.values),r,n)),t}var r0,Pc,rl,i0,sf,xa,o0,uO,ls,Ic,pu,a0,cO,lf,vu,s0,l0,us,u0,c0,d0,h0,BP,NP,il,Ti,f0,cs,dO,uf,hO,p0,Mc,fO,pO,vO,gO,mO,v0,g0,yO,cf,zP=Mt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directives/style-map.js":function(){uc(),Pc=window,rl=Pc.trustedTypes,i0=rl?rl.createPolicy("lit-html",{createHTML:function(m){return m}}):void 0,sf="$lit$",xa="lit$".concat((Math.random()+"").slice(9),"$"),o0="?"+xa,uO="<".concat(o0,">"),ls=document,Ic=function(){return ls.createComment("")},pu=function(m){return m===null||typeof m!="object"&&typeof m!="function"},a0=Array.isArray,cO=function(m){return a0(m)||typeof(m==null?void 0:m[Symbol.iterator])=="function"},lf="[ 	\n\f\r]",vu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,s0=/-->/g,l0=/>/g,us=RegExp(">|".concat(lf,"(?:([^\\s\"'>=/]+)(").concat(lf,"*=").concat(lf,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),u0=/'/g,c0=/"/g,d0=/^(?:script|style|textarea|title)$/i,h0=function(m){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:m,strings:t,values:n}}},BP=h0(1),NP=h0(2),il=Symbol.for("lit-noChange"),Ti=Symbol.for("lit-nothing"),f0=new WeakMap,cs=ls.createTreeWalker(ls,129,null,!1),dO=function(m,t){for(var e=m.length-1,n=[],o,l=t===2?"<svg>":"",a=vu,s=0;s<e;s++){for(var r=m[s],c=void 0,d=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,d=a.exec(r),d!==null);)f=a.lastIndex,a===vu?d[1]==="!--"?a=s0:d[1]!==void 0?a=l0:d[2]!==void 0?(d0.test(d[2])&&(o=RegExp("</"+d[2],"g")),a=us):d[3]!==void 0&&(a=us):a===us?d[0]===">"?(a=o!=null?o:vu,h=-1):d[1]===void 0?h=-2:(h=a.lastIndex-d[2].length,c=d[1],a=d[3]===void 0?us:d[3]==='"'?c0:u0):a===c0||a===u0?a=us:a===s0||a===l0?a=vu:(a=us,o=void 0);var v=a===us&&m[s+1].startsWith("/>")?" ":"";l+=a===vu?r+uO:h>=0?(n.push(c),r.slice(0,h)+sf+r.slice(h)+xa+v):r+xa+(h===-2?(n.push(void 0),s):v)}return[o5(m,l+(m[e]||"<?>")+(t===2?"</svg>":"")),n]},uf=function(){"use strict";function m(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,m);var l;this.parts=[];var a=0,s=0,r=n.length-1,c=this.parts,d=_slicedToArray(dO(n,o),2),h=d[0],f=d[1];if(this.el=m.createElement(h,e),cs.currentNode=this.el.content,o===2){var v,_=this.el.content,b=_.firstChild;b.remove(),(v=_).append.apply(v,_toConsumableArray(b.childNodes))}for(;(l=cs.nextNode())!==null&&c.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var w=[],A=!0,E=!1,O=void 0;try{for(var P=l.getAttributeNames()[Symbol.iterator](),y;!(A=(y=P.next()).done);A=!0){var u=y.value;if(u.endsWith(sf)||u.startsWith(xa)){var p=f[s++];if(w.push(u),p!==void 0){var g=l.getAttribute(p.toLowerCase()+sf).split(xa),k=/([.?@])?(.*)/.exec(p);c.push({type:1,index:a,name:k[2],strings:g,ctor:k[1]==="."?fO:k[1]==="?"?vO:k[1]==="@"?gO:Mc})}else c.push({type:6,index:a})}}}catch(V){E=!0,O=V}finally{try{!A&&P.return!=null&&P.return()}finally{if(E)throw O}}var x=!0,j=!1,L=void 0;try{for(var D=w[Symbol.iterator](),F;!(x=(F=D.next()).done);x=!0){var X=F.value;l.removeAttribute(X)}}catch(V){j=!0,L=V}finally{try{!x&&D.return!=null&&D.return()}finally{if(j)throw L}}}if(d0.test(l.tagName)){var Q=l.textContent.split(xa),H=Q.length-1;if(H>0){l.textContent=rl?rl.emptyScript:"";for(var ce=0;ce<H;ce++)l.append(Q[ce],Ic()),cs.nextNode(),c.push({type:2,index:++a});l.append(Q[H],Ic())}}}else if(l.nodeType===8)if(l.data===o0)c.push({type:2,index:a});else for(var ne=-1;(ne=l.data.indexOf(xa,ne+1))!==-1;)c.push({type:7,index:a}),ne+=xa.length-1;a++}}return _createClass(m,null,[{key:"createElement",value:function(e,n){var o=ls.createElement("template");return o.innerHTML=e,o}}]),m}(),hO=function(){"use strict";function m(t,e){_classCallCheck(this,m),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(m,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:ls).importNode(a,!0);cs.currentNode=r;for(var c=cs.nextNode(),d=0,h=0,f=s[0];f!==void 0;){if(d===f.index){var v=void 0;f.type===2?v=new p0(c,c.nextSibling,this,e):f.type===1?v=new f.ctor(c,f.name,f.strings,this,e):f.type===6&&(v=new mO(c,this,e)),this._$AV.push(v),f=s[++h]}d!==(f==null?void 0:f.index)&&(c=cs.nextNode(),d++)}return cs.currentNode=ls,r}},{key:"v",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,n),n+=c.strings.length-2):c._$AI(e[n])),n++}}catch(d){l=!0,a=d}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),m}(),p0=function(){"use strict";function m(t,e,n,o){_classCallCheck(this,m);var l;this.type=2,this._$AH=Ti,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(m,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=fu(this,e,n),pu(e)?e===Ti||e==null||e===""?(this._$AH!==Ti&&this._$AR(),this._$AH=Ti):e!==this._$AH&&e!==il&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):cO(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Ti&&pu(this._$AH)?this._$AA.nextSibling.data=e:this.$(ls.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=uf.createElement(o5(l.h,l.h[0]),this.options)),l);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.v(o);else{var s=new hO(a,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=f0.get(e.strings);return n===void 0&&f0.set(e.strings,n=new uf(e)),n}},{key:"T",value:function(e){a0(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(a=(d=c.next()).done);a=!0){var h=d.value;l===n.length?n.push(o=new m(this.k(Ic()),this.k(Ic()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),m}(),Mc=function(){"use strict";function m(t,e,n,o,l){_classCallCheck(this,m),this.type=1,this._$AH=Ti,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Ti}return _createClass(m,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=fu(this,e,n,0),s=!pu(e)||e!==this._$AH&&e!==il,s&&(this._$AH=e);else{var r=e,c,d;for(e=a[0],c=0;c<a.length-1;c++)d=fu(this,r[o+c],n,c),d===il&&(d=this._$AH[c]),s||(s=!pu(d)||d!==this._$AH[c]),d===Ti?e=Ti:e!==Ti&&(e+=(d!=null?d:"")+a[c+1]),this._$AH[c]=d}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===Ti?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),m}(),fO=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Ti?void 0:o}}]),e}(Mc),pO=rl?rl.emptyScript:"",vO=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Ti?this.element.setAttribute(this.name,pO):this.element.removeAttribute(this.name)}}]),e}(Mc),gO=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=fu(this,o,l,0))!==null&&a!==void 0?a:Ti)!==il){var s=this._$AH,r=o===Ti&&s!==Ti||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,c=o!==Ti&&(s===Ti||r);r&&this.element.removeEventListener(this.name,this,s),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(Mc),mO=function(){"use strict";function m(t,e,n){_classCallCheck(this,m),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(m,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){fu(this,e)}}]),m}(),v0=Pc.litHtmlPolyfillSupport,v0==null||v0(uf,p0),((r0=Pc.litHtmlVersions)!==null&&r0!==void 0?r0:Pc.litHtmlVersions=[]).push("2.8.0"),g0="important",yO=" !"+g0,cf=Nl(function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o,l;if(o=t.call(this,n),n.type!==lc.ATTRIBUTE||n.name!=="style"||((l=n.strings)===null||l===void 0?void 0:l.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");return _possibleConstructorReturn(o)}return _createClass(e,[{key:"render",value:function(o){return Object.keys(o).reduce(function(l,a){var s=o[a];return s==null?l:l+"".concat(a=a.includes("-")?a:a.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(s,";")},"")}},{key:"update",value:function(o,l){var a=_slicedToArray(l,1),s=a[0],r=this,c=o.element,d=c.style;if(this.ht===void 0){this.ht=new Set;for(var h in s)this.ht.add(h);return this.render(s)}this.ht.forEach(function(b){s[b]==null&&(r.ht.delete(b),b.includes("-")?d.removeProperty(b):d[b]="")});for(var f in s){var v=s[f];if(v!=null){this.ht.add(f);var _=typeof v=="string"&&v.endsWith(yO);f.includes("-")||_?d.setProperty(f,_?v.slice(0,-11):v,_?g0:""):d[f]=v}}return il}}]),e}(zl))}}),bO=Mt({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/directives/style-map.js":function(){zP()}});function gu(m,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===al)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,c=mu(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(m),r._$AT(m,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=gu(m,r._$AS(m,t.values),r,n)),t}var m0,Lc,ol,y0,df,Sa,b0,wO,ds,Rc,mu,w0,_O,hf,yu,_0,k0,hs,x0,S0,C0,A0,FP,HP,al,Pi,O0,fs,kO,ff,xO,j0,Dc,SO,CO,AO,OO,jO,E0,bu,UP=Mt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directives/class-map.js":function(){uc(),Lc=window,ol=Lc.trustedTypes,y0=ol?ol.createPolicy("lit-html",{createHTML:function(m){return m}}):void 0,df="$lit$",Sa="lit$".concat((Math.random()+"").slice(9),"$"),b0="?"+Sa,wO="<".concat(b0,">"),ds=document,Rc=function(){return ds.createComment("")},mu=function(m){return m===null||typeof m!="object"&&typeof m!="function"},w0=Array.isArray,_O=function(m){return w0(m)||typeof(m==null?void 0:m[Symbol.iterator])=="function"},hf="[ 	\n\f\r]",yu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_0=/-->/g,k0=/>/g,hs=RegExp(">|".concat(hf,"(?:([^\\s\"'>=/]+)(").concat(hf,"*=").concat(hf,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),x0=/'/g,S0=/"/g,C0=/^(?:script|style|textarea|title)$/i,A0=function(m){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:m,strings:t,values:n}}},FP=A0(1),HP=A0(2),al=Symbol.for("lit-noChange"),Pi=Symbol.for("lit-nothing"),O0=new WeakMap,fs=ds.createTreeWalker(ds,129,null,!1),kO=function(m,t){for(var e=m.length-1,n=[],o,l=t===2?"<svg>":"",a=yu,s=0;s<e;s++){for(var r=m[s],c=void 0,d=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,d=a.exec(r),d!==null);)f=a.lastIndex,a===yu?d[1]==="!--"?a=_0:d[1]!==void 0?a=k0:d[2]!==void 0?(C0.test(d[2])&&(o=RegExp("</"+d[2],"g")),a=hs):d[3]!==void 0&&(a=hs):a===hs?d[0]===">"?(a=o!=null?o:yu,h=-1):d[1]===void 0?h=-2:(h=a.lastIndex-d[2].length,c=d[1],a=d[3]===void 0?hs:d[3]==='"'?S0:x0):a===S0||a===x0?a=hs:a===_0||a===k0?a=yu:(a=hs,o=void 0);var v=a===hs&&m[s+1].startsWith("/>")?" ":"";l+=a===yu?r+wO:h>=0?(n.push(c),r.slice(0,h)+df+r.slice(h)+Sa+v):r+Sa+(h===-2?(n.push(void 0),s):v)}return[a5(m,l+(m[e]||"<?>")+(t===2?"</svg>":"")),n]},ff=function(){"use strict";function m(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,m);var l;this.parts=[];var a=0,s=0,r=n.length-1,c=this.parts,d=_slicedToArray(kO(n,o),2),h=d[0],f=d[1];if(this.el=m.createElement(h,e),fs.currentNode=this.el.content,o===2){var v,_=this.el.content,b=_.firstChild;b.remove(),(v=_).append.apply(v,_toConsumableArray(b.childNodes))}for(;(l=fs.nextNode())!==null&&c.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var w=[],A=!0,E=!1,O=void 0;try{for(var P=l.getAttributeNames()[Symbol.iterator](),y;!(A=(y=P.next()).done);A=!0){var u=y.value;if(u.endsWith(df)||u.startsWith(Sa)){var p=f[s++];if(w.push(u),p!==void 0){var g=l.getAttribute(p.toLowerCase()+df).split(Sa),k=/([.?@])?(.*)/.exec(p);c.push({type:1,index:a,name:k[2],strings:g,ctor:k[1]==="."?SO:k[1]==="?"?AO:k[1]==="@"?OO:Dc})}else c.push({type:6,index:a})}}}catch(V){E=!0,O=V}finally{try{!A&&P.return!=null&&P.return()}finally{if(E)throw O}}var x=!0,j=!1,L=void 0;try{for(var D=w[Symbol.iterator](),F;!(x=(F=D.next()).done);x=!0){var X=F.value;l.removeAttribute(X)}}catch(V){j=!0,L=V}finally{try{!x&&D.return!=null&&D.return()}finally{if(j)throw L}}}if(C0.test(l.tagName)){var Q=l.textContent.split(Sa),H=Q.length-1;if(H>0){l.textContent=ol?ol.emptyScript:"";for(var ce=0;ce<H;ce++)l.append(Q[ce],Rc()),fs.nextNode(),c.push({type:2,index:++a});l.append(Q[H],Rc())}}}else if(l.nodeType===8)if(l.data===b0)c.push({type:2,index:a});else for(var ne=-1;(ne=l.data.indexOf(Sa,ne+1))!==-1;)c.push({type:7,index:a}),ne+=Sa.length-1;a++}}return _createClass(m,null,[{key:"createElement",value:function(e,n){var o=ds.createElement("template");return o.innerHTML=e,o}}]),m}(),xO=function(){"use strict";function m(t,e){_classCallCheck(this,m),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(m,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:ds).importNode(a,!0);fs.currentNode=r;for(var c=fs.nextNode(),d=0,h=0,f=s[0];f!==void 0;){if(d===f.index){var v=void 0;f.type===2?v=new j0(c,c.nextSibling,this,e):f.type===1?v=new f.ctor(c,f.name,f.strings,this,e):f.type===6&&(v=new jO(c,this,e)),this._$AV.push(v),f=s[++h]}d!==(f==null?void 0:f.index)&&(c=fs.nextNode(),d++)}return fs.currentNode=ds,r}},{key:"v",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,n),n+=c.strings.length-2):c._$AI(e[n])),n++}}catch(d){l=!0,a=d}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),m}(),j0=function(){"use strict";function m(t,e,n,o){_classCallCheck(this,m);var l;this.type=2,this._$AH=Pi,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(m,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=gu(this,e,n),mu(e)?e===Pi||e==null||e===""?(this._$AH!==Pi&&this._$AR(),this._$AH=Pi):e!==this._$AH&&e!==al&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):_O(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Pi&&mu(this._$AH)?this._$AA.nextSibling.data=e:this.$(ds.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=ff.createElement(a5(l.h,l.h[0]),this.options)),l);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.v(o);else{var s=new xO(a,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=O0.get(e.strings);return n===void 0&&O0.set(e.strings,n=new ff(e)),n}},{key:"T",value:function(e){w0(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(a=(d=c.next()).done);a=!0){var h=d.value;l===n.length?n.push(o=new m(this.k(Rc()),this.k(Rc()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),m}(),Dc=function(){"use strict";function m(t,e,n,o,l){_classCallCheck(this,m),this.type=1,this._$AH=Pi,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Pi}return _createClass(m,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=gu(this,e,n,0),s=!mu(e)||e!==this._$AH&&e!==al,s&&(this._$AH=e);else{var r=e,c,d;for(e=a[0],c=0;c<a.length-1;c++)d=gu(this,r[o+c],n,c),d===al&&(d=this._$AH[c]),s||(s=!mu(d)||d!==this._$AH[c]),d===Pi?e=Pi:e!==Pi&&(e+=(d!=null?d:"")+a[c+1]),this._$AH[c]=d}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===Pi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),m}(),SO=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Pi?void 0:o}}]),e}(Dc),CO=ol?ol.emptyScript:"",AO=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Pi?this.element.setAttribute(this.name,CO):this.element.removeAttribute(this.name)}}]),e}(Dc),OO=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=gu(this,o,l,0))!==null&&a!==void 0?a:Pi)!==al){var s=this._$AH,r=o===Pi&&s!==Pi||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,c=o!==Pi&&(s===Pi||r);r&&this.element.removeEventListener(this.name,this,s),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(Dc),jO=function(){"use strict";function m(t,e,n){_classCallCheck(this,m),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(m,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){gu(this,e)}}]),m}(),E0=Lc.litHtmlPolyfillSupport,E0==null||E0(ff,j0),((m0=Lc.litHtmlVersions)!==null&&m0!==void 0?m0:Lc.litHtmlVersions=[]).push("2.8.0"),bu=Nl(function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o,l;if(o=t.call(this,n),n.type!==lc.ATTRIBUTE||n.name!=="class"||((l=n.strings)===null||l===void 0?void 0:l.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.");return _possibleConstructorReturn(o)}return _createClass(e,[{key:"render",value:function(o){return" "+Object.keys(o).filter(function(l){return o[l]}).join(" ")+" "}},{key:"update",value:function(o,l){var a=_slicedToArray(l,1),s=a[0],r=this,c,d;if(this.it===void 0){this.it=new Set,o.strings!==void 0&&(this.nt=new Set(o.strings.join(" ").split(/\s/).filter(function(b){return b!==""})));for(var h in s)s[h]&&!(!((c=this.nt)===null||c===void 0)&&c.has(h))&&this.it.add(h);return this.render(s)}var f=o.element.classList;this.it.forEach(function(b){b in s||(f.remove(b),r.it.delete(b))});for(var v in s){var _=!!s[v];_===this.it.has(v)||!((d=this.nt)===null||d===void 0)&&d.has(v)||(_?(f.add(v),this.it.add(v)):(f.remove(v),this.it.delete(v)))}return al}}]),e}(zl))}}),pf=Mt({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/directives/class-map.js":function(){UP()}}),EO,xr,to,Oo,$c,T0,P0,I0,M0,TO,PO,IO,MO,LO,RO,DO,$O,BO,NO,zO,FO,HO,vf,no,wu,UO,Bi,sl,Bc,Wo,VP=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-music-player@1.2.0/esnext/dist.js":function(){Cr(),vn(),Or(),aO(),sO(),vn(),vn(),lO(),bO(),pf(),Cr(),vn(),Or(),YA(),Cr(),vn(),Or(),WA(),vn(),Cr(),vn(),Or(),Cr(),vn(),Or(),Cr(),vn(),Or(),su(),su(),EO=Lt(_templateObject364()),function(m){m.ia="ia",m.beta="beta",m.youtube="youtube",m.spotify="spotify",m.webamp="webamp"}(xr||(xr={})),function(m){m.iaSamples="Samples",m.iaPlayer="Player",m.beta="Beta",m.spotify="Spotify",m.webamp="Webamp",m.youtube="YouTube"}(to||(to={})),Oo={ia:St(_templateObject365()),beta:St(_templateObject366()),spotify:St(_templateObject367()),webamp:St(_templateObject368()),youtube:St(_templateObject369())},$c=function(m){var t=m.label,e=t===void 0?to.iaPlayer:t,n=m.selected,o=cf({filter:n?"invert(1)":"invert(0)",height:"20px",width:"20px"}),l=bu({selected:n,"invert-icon-at-hover-selected":n});return St(_templateObject370(),l,o,Oo.ia,e)},T0=function(m){var t=cf({filter:m?"invert(1)":"invert(0)",height:"20px",width:"20px"}),e=bu({selected:m,"invert-icon-at-hover-selected":m});return St(_templateObject371(),e,t,Oo.beta,to.beta)},P0=function(m){return St(_templateObject372(),m?"selected":"",Oo.spotify,to.spotify)},I0=function(m){var t=cf({filter:m?"invert(1)":"invert(0)",height:"20px",width:"20px"}),e=bu({selected:m,"invert-icon-at-hover-selected":m});return St(_templateObject373(),e,t,Oo.webamp)},M0=function(m){return St(_templateObject374(),m?"selected":"",Oo.youtube,to.youtube)},TO=function(m){var t=m.samples,e=m.onClick,n=m.href,o=m.selected,l=t?to.iaSamples:to.iaPlayer;return St(_templateObject375(),n,function(){return e()},$c({label:l,selected:o}))},PO=function(m){var t=m.samples,e=m.onClick,n=m.selected,o=t?to.iaSamples:to.iaPlayer;return St(_templateObject376(),function(l){return e(l)},$c({label:o,selected:n}))},IO=function(m){var t=m.onClick,e=m.selected;return St(_templateObject377(),function(n){return t(n)},T0(e))},MO=function(m){var t=m.onClick,e=m.selected;return St(_templateObject378(),function(n){return t(n)},P0(e))},LO=function(m){var t=m.onClick,e=m.href,n=m.selected,o="".concat(e,"?webamp=default");return St(_templateObject379(),o,function(l){return t(l)},I0(n))},RO=function(m){var t=m.onClick,e=m.selected;return St(_templateObject380(),function(n){return t(n)},M0(e))},DO=function(m){var t=m.samples,e=m.onClick,n=m.href,o=m.selectedOption;return{url:n,selectedHandler:function(l){e(l)},label:$c({label:t?to.iaSamples:to.iaPlayer,selected:o===xr.ia}),id:xr.ia}},$O=function(m){var t=m.samples,e=m.onClick,n=m.selectedOption;return{selectedHandler:function(o){e(o)},label:$c({label:t?to.iaSamples:to.iaPlayer,selected:n===xr.ia}),id:xr.ia}},BO=function(m){var t=m.onClick,e=m.selectedOption;return{selectedHandler:function(n){t(n)},label:T0(e===xr.beta),id:xr.beta}},NO=function(m){var t=m.onClick,e=m.selectedOption;return{selectedHandler:function(n){t(n)},label:P0(e===xr.spotify),id:xr.spotify}},zO=function(m){var t=m.href,e=m.onClick,n=m.selectedOption,o=function(l){e(l)};return{url:"".concat(t,"?webamp=default"),selectedHandler:o,label:I0(n===xr.webamp),id:xr.webamp}},FO=function(m){var t=m.onClick,e=m.selectedOption;return{selectedHandler:function(n){t(n)},label:M0(e===xr.youtube),id:xr.youtube}},HO=function(m){var t=m.spotify,e=m.beta,n=m.youtube,o=m.selectedOption;return[o===xr.webamp?DO(m):$O(m),e?BO(m):null,t?NO(m):null,n?FO(m):null,zO(m)].filter(Boolean)},function(m){m.postInit="postInit",m.channelChange="channelChange"}(vf||(vf={})),no=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.youtube=!1,n.spotify=!1,n.beta=!1,n.webamp=!0,n.samples=!1,n.backgroundTheme="dark",n.selected=xr.ia,n.displayStyle="radio",n.url="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"firstUpdated",value:function(){this.dispatchEvent(new CustomEvent(vf.postInit,{detail:{channel:this.selected},composed:!0,bubbles:!0}))}},{key:"emitChannelChanged",value:function(){this.dispatchEvent(new CustomEvent(vf.channelChange,{detail:{channel:this.selected},composed:!0,bubbles:!0}))}},{key:"iaClicked",value:function(){this.selected!==xr.ia&&(this.selected=xr.ia,this.emitChannelChanged())}},{key:"betaClicked",value:function(){this.selected!==xr.beta&&(this.selected=xr.beta,this.emitChannelChanged())}},{key:"spotifyClicked",value:function(){this.selected!==xr.spotify&&(this.selected=xr.spotify,this.emitChannelChanged())}},{key:"webampClicked",value:function(){this.selected!==xr.webamp&&(this.selected=xr.webamp,this.emitChannelChanged())}},{key:"youtubeClicked",value:function(){this.selected!==xr.youtube&&(this.selected=xr.youtube,this.emitChannelChanged())}},{key:"dropdownOptionSelected",value:function(o){this.selected=o.id,this.emitChannelChanged(),this.iaDropdown.open=!1}},{key:"iaLinkSelector",get:function(){var o=this,l=this.selected===xr.ia?"selected":"";return St(_templateObject381(),l,TO({samples:this.samples,selected:this.selected===xr.ia,onClick:function(){return o.iaClicked()},href:this.url}))}},{key:"iaButtonSelector",get:function(){var o=this,l=this.selected===xr.ia?"selected":"";return St(_templateObject382(),l,PO({samples:this.samples,selected:this.selected===xr.ia,onClick:function(){return o.iaClicked()}}))}},{key:"iaBetaSelector",get:function(){var o=this,l=this.selected===xr.beta?"selected":"";return St(_templateObject383(),l,IO({selected:this.selected===xr.beta,onClick:function(){return o.betaClicked()}}))}},{key:"spotifySelector",get:function(){var o=this,l=this.selected===xr.spotify?"selected":"";return St(_templateObject384(),l,MO({selected:this.selected===xr.spotify,onClick:function(){return o.spotifyClicked()}}))}},{key:"webampSelector",get:function(){var o=this,l=this.selected===xr.webamp?"selected":"";return St(_templateObject385(),l,LO({href:this.url||window.location.href,selected:this.selected===xr.webamp,onClick:function(){return o.webampClicked()}}))}},{key:"youtubeSelector",get:function(){var o=this,l=this.selected===xr.youtube?"selected":"";return St(_templateObject386(),l,RO({selected:this.selected===xr.youtube,onClick:function(){return o.youtubeClicked()}}))}},{key:"properIaSelector",get:function(){return this.selected===xr.webamp?this.iaLinkSelector:this.iaButtonSelector}},{key:"toggleDisplayStyle",value:function(){var o=this.displayStyle==="dropdown"?"radio":"dropdown";this.displayStyle=o}},{key:"shouldShowChannelType",value:function(o){var l=this.selected===o;return this.displayStyle==="radio"?!0:!(this.displayStyle==="dropdown"&&l)}},{key:"dropdownOptions",get:function(){var o=this,l=o.samples,a=o.beta,s=o.spotify,r=o.webamp,c=o.youtube,d=o.url,h=o.selected;return HO({selectedOption:h,samples:!!l,beta:a,spotify:s,webamp:r,youtube:c,href:d,onClick:this.dropdownOptionSelected.bind(this)})}},{key:"currentlySelectedIcon",get:function(){switch(this.selected){case xr.beta:return Oo.beta;case xr.spotify:return Oo.spotify;case xr.youtube:return Oo.youtube;case xr.webamp:return Oo.webamp;default:return Oo.ia}}},{key:"dropdown",get:function(){return St(_templateObject387(),this.dropdownOptions,this.selected,this.backgroundTheme,this.currentlySelectedIcon)}},{key:"radioView",get:function(){return St(_templateObject388(),this.properIaSelector,this.beta?this.iaBetaSelector:Rn,this.youtube?this.youtubeSelector:Rn,this.spotify?this.spotifySelector:Rn,this.webamp?this.webampSelector:Rn)}},{key:"render",value:function(){return St(_templateObject389(),this.displayStyle,this.displayStyle,this.backgroundTheme,oO(this.displayStyle==="radio"?this.radioView:this.dropdown))}}]),e}(Vn),no.styles=[Lt(_templateObject390()),EO],Xe([Kt({attribute:!0,type:Boolean,reflect:!0})],no.prototype,"youtube",void 0),Xe([Kt({attribute:!0,type:Boolean,reflect:!0})],no.prototype,"spotify",void 0),Xe([Kt({attribute:!0,type:Boolean,reflect:!0})],no.prototype,"beta",void 0),Xe([Kt({attribute:!0,type:Boolean,reflect:!0})],no.prototype,"webamp",void 0),Xe([Kt({attribute:!0,type:Boolean,reflect:!0})],no.prototype,"samples",void 0),Xe([Kt({attribute:!0,type:String,reflect:!0})],no.prototype,"backgroundTheme",void 0),Xe([Kt({type:String,reflect:!0})],no.prototype,"selected",void 0),Xe([Kt({type:String,reflect:!0})],no.prototype,"displayStyle",void 0),Xe([Kt({type:String})],no.prototype,"url",void 0),Xe([Hr("ia-dropdown")],no.prototype,"iaDropdown",void 0),no=Xe([Mr("channel-selector")],no),wu=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.iaIdentifier="",n.gradType="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){o.has("iaIdentifier")&&this.setGradType()}},{key:"hashStrToInt",value:function(o){return o.split("").reduce(function(l,a){return l+a.charCodeAt(0)},0)}},{key:"setGradType",value:function(){var o=0;this.iaIdentifier?(o=this.hashStrToInt(this.iaIdentifier)%6,this.gradType="grad".concat(o)):this.gradType="grad0",this.dispatchEvent(new CustomEvent("iaMusicNoImageAvailable",{detail:{gradient:o,gradType:this.gradType,identifier:this.iaIdentifier},bubbles:!0,composed:!0}))}},{key:"render",value:function(){return St(_templateObject391(),this.gradType)}}]),e}(Vn),wu.styles=Lt(_templateObject392()),Xe([Kt({type:String,reflect:!0,attribute:!0})],wu.prototype,"iaIdentifier",void 0),Xe([Kt({type:String,reflect:!0})],wu.prototype,"gradType",void 0),wu=Xe([Mr("iamusic-noimage")],wu),UO=St(_templateObject393()),Bi=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.showAllPhotos=!1,n.baseHost="archive.org",n.signedIn=!1,n.itemIdentifier="",n.fullscreenActive=!1,n.reInitBrAtFullscreen=!1,n.noImageAvailable=!1,n.backgroundTheme="dark",n.bindBrEvents=function(){window.addEventListener("BookReader:PostInit",n.handleBrPostInit),window.addEventListener("BookReader:fullscreenToggled",function(){var o;n.fullscreenActive=((o=n.bookreader)===null||o===void 0?void 0:o.isFullscreen())||!1;var l=n.fullscreenActive?"fullscreenOpened":"fullscreenClosed";n.dispatchEvent(new Event(l))})},_possibleConstructorReturn(n)}return _createClass(e,[{key:"disconnectedCallback",value:function(){_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),window.removeEventListener("BookReader:PostInit",this.handleBrPostInit)}},{key:"firstUpdated",value:function(){this.bindBrEvents()}},{key:"updated",value:function(o){o.has("linerNotesManifest")&&this.linerNotesManifest&&this.loadFreshBookReaderFromManifest(),o.has("showAllPhotos")&&this.showAllPhotos&&this.initBr(500)}},{key:"render",value:function(){if(this.noImageAvailable)return St(_templateObject394(),this.itemIdentifier);var o=this.backgroundTheme==="light"?"light":"",l=this.showAllPhotos?"show-back":"",a=this.fullscreenActive?"fullscreenActive":"";return St(_templateObject395(),"flip-card ".concat(l," ").concat(a," ").concat(o),this.photoAlbumCover,this.linerNotesView)}},{key:"togglePhotoViewer",value:function(){this.showAllPhotos=!this.showAllPhotos,this.showAllPhotos||(this.fullscreenActive=!1,this.dispatchEvent(new Event("fullscreenClosed")))}},{key:"imageBaseUrl",get:function(){return"https://".concat(this.baseHost,"/download/").concat(this.itemIdentifier)}},{key:"primaryImage",get:function(){var o;if(this.linerNotesManifest){var l=(o=this.linerNotesManifest.brOptions.data)===null||o===void 0?void 0:o.flat()[0];return(l==null?void 0:l.uri)||void 0}}},{key:"linerNotesView",get:function(){var o=this;return St(_templateObject396(),"photo-viewer-container",function(){var l;(l=o.bookreader)===null||l===void 0||l.exitFullScreen(),o.togglePhotoViewer()},this.linerNotesManifest,this.baseHost,this.signedIn)}},{key:"photoAlbumCover",get:function(){var o=this,l,a,s=(a=(l=this.itemMD)===null||l===void 0?void 0:l.title)!==null&&a!==void 0?a:this.itemIdentifier,r=this.primaryImage?this.primaryImage:"//".concat(this.baseHost,"/services/img/").concat(this.itemIdentifier);return St(_templateObject397(),function(){return On(o,null,_regeneratorRuntime.default.mark(function c(){return _regeneratorRuntime.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:this.togglePhotoViewer();case 1:case"end":return h.stop()}},c,this)}))},r,"primary image for ".concat(s),function(c){var d=c.target,h=d.getBoundingClientRect(),f=h.width,v=h.height;o.dispatchEvent(new CustomEvent("coverImageLoaded",{detail:{width:f,height:v,target:d}}))},s,UO)}},{key:"handleBrPostInit",value:function(o){var l=this;this.bookreader=o==null?void 0:o.detail.props,window.br=this.bookreader,setTimeout(function(){var a,s;(a=l.bookreader)===null||a===void 0||a.jumpToIndex(0),(s=l.bookreader)===null||s===void 0||s.resize()},1e3)}},{key:"prepareLightDomHook",value:function(){var o,l,a=(o=this.lightDomHook)===null||o===void 0?void 0:o.querySelector("div.bookreader-slot");a&&((l=this.lightDomHook)===null||l===void 0||l.removeChild(a))}},{key:"loadFreshBookReaderFromManifest",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.mountBookReaderLightDomHook();case 2:return a.next=4,this.initBr();case 4:case"end":return a.stop()}},o,this)}))}},{key:"initBr",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return On(this,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=this,console.log("&&&& INIT BR"),r.next=4,new Promise(function(c){var d=a;setTimeout(function(){var h,f;d.bookreader=d.linerNotesManifest&&RT(d.linerNotesManifest),console.log("&&&& BR OPTIONS",(h=d.bookreader)===null||h===void 0?void 0:h.options),(f=d.bookreader)===null||f===void 0||f.init(),c()},o)});case 4:case"end":return r.stop()}},l,this)}))}},{key:"mountBookReaderLightDomHook",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l=this,s.next=3,new Promise(function(r){var c,d,h,f=(c=l.lightDomHook)===null||c===void 0?void 0:c.querySelector("div.bookreader-slot");f&&((d=l.lightDomHook)===null||d===void 0||d.removeChild(f));var v=document.createElement("div");v.setAttribute("slot","main"),v.classList.add("bookreader-slot");var _=document.createElement("div");_.classList.add("liner-notes"),v.append(_),(h=l.lightDomHook)===null||h===void 0||h.append(v),_.setAttribute("id","BookReader"),_.classList.add("BookReader"),r(!0)});case 3:case"end":return s.stop()}},o,this)}))}}]),e}(Vn),Bi.styles=Lt(_templateObject398()),Xe([Kt({type:Boolean,reflect:!0})],Bi.prototype,"showAllPhotos",void 0),Xe([Kt({type:String,attribute:!0,reflect:!0})],Bi.prototype,"baseHost",void 0),Xe([Kt({type:Boolean,reflect:!0})],Bi.prototype,"signedIn",void 0),Xe([Kt({type:String,reflect:!0,attribute:!0})],Bi.prototype,"itemIdentifier",void 0),Xe([Kt({type:Object})],Bi.prototype,"itemMD",void 0),Xe([Kt({type:Object})],Bi.prototype,"linerNotesManifest",void 0),Xe([Kt({type:Object})],Bi.prototype,"bookreader",void 0),Xe([Kt({type:Boolean,reflect:!0})],Bi.prototype,"fullscreenActive",void 0),Xe([Kt({type:Boolean})],Bi.prototype,"reInitBrAtFullscreen",void 0),Xe([Kt({type:Boolean,reflect:!0})],Bi.prototype,"noImageAvailable",void 0),Xe([Kt({attribute:!0,type:String,reflect:!0})],Bi.prototype,"backgroundTheme",void 0),Xe([Kt({type:Object})],Bi.prototype,"lightDomHook",void 0),Xe([Hr("button.click-for-photos img")],Bi.prototype,"coverImage",void 0),Bi=Xe([Mr("iaux-photo-viewer")],Bi),sl=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.iaUrn="",n.display=!1,n.baseHost="https://archive.org",_possibleConstructorReturn(n)}return _createClass(e,[{key:"youTubeUrl",get:function(){if(!this.iaUrn||!this.iaUrn.match(/urn:youtube:/g))return"";var o=this.iaUrn.replace(/urn:youtube:/g,"").replace(/:/g,"/"),l="origin=".concat(this.baseHost,"&widgetid=1&autoplay=1&rel=0");return"https://www.youtube.com/embed/".concat(o,"?").concat(l)}},{key:"render",value:function(){var o=this.youTubeUrl;return o?St(_templateObject399(),o):Rn}}],[{key:"styles",get:function(){return[Lt(_templateObject400())]}}]),e}(Vn),Xe([Kt({type:String,reflect:!0})],sl.prototype,"iaUrn",void 0),Xe([Kt({type:Boolean,reflect:!0})],sl.prototype,"display",void 0),Xe([Kt({type:String})],sl.prototype,"baseHost",void 0),Xe([Hr("iframe")],sl.prototype,"iframe",void 0),sl=Xe([Mr("youtube-player")],sl),Bc=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.iaUrn="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"spotifyUrl",get:function(){return!this.iaUrn||!this.iaUrn.match(/urn:spotify:/g)?"":"https://open.spotify.com/embed/".concat(this.iaUrn.replace(/urn:spotify:/g,"").replace(/:/g,"/"))}},{key:"render",value:function(){var o=this.spotifyUrl;return o?St(_templateObject401(),o):St(_templateObject402(),this.iaUrn)}}],[{key:"styles",get:function(){return[Lt(_templateObject403())]}}]),e}(Vn),Xe([Kt({type:String,attribute:!0,reflect:!0})],Bc.prototype,"iaUrn",void 0),Xe([Hr("iframe")],Bc.prototype,"iframe",void 0),Bc=Xe([Mr("spotify-player")],Bc),Wo=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.selectedChannel="",n.playerApi=void 0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){o.has("album")&&this.album&&this.dispatchAlbumInfo(),o.has("selectedChannel")&&this.selectedChannel&&this.album&&this.updateToSelectedChannel(),o.has("selectedTrack")&&this.selectedTrack&&this.dispatchSelectedTrack()}},{key:"dispatchSelectedTrack",value:function(){console.log("externalchannels-player: SELECTED TRACK",this.selectedTrack),this.dispatchEvent(new CustomEvent("externalChannelsSelectedTrack",{detail:{track:this.selectedTrack}}))}},{key:"dispatchAlbumInfo",value:function(){var o,l;console.log("externalchannels-player: ALBUM INFO",this.album),this.dispatchEvent(new CustomEvent("externalChannelsPlayerLoaded",{detail:{album:this.album,spotifyTracks:((o=this.album)===null||o===void 0?void 0:o.spotifyTracks)||[],youtubeTracks:((l=this.album)===null||l===void 0?void 0:l.youtubeTracks)||[]}}))}},{key:"onTracklistClickCallback",value:function(o){var l=this,a,s,r,c,d;this.currentTrackNum=o+1;var h=(a=this.album)===null||a===void 0?void 0:a.tracks.find(function(w){return w.track===l.currentTrackNum});if(this.selectedChannel===xr.spotify){var f=this,v=(s=this.album)===null||s===void 0?void 0:s.spotifyTracks.find(function(w){return w.track===f.currentTrackNum});h=v!=null?v:(r=this.album)===null||r===void 0?void 0:r.spotifyTracks[0]}else if(this.selectedChannel===xr.youtube){var _=this,b=(c=this.album)===null||c===void 0?void 0:c.youtubeTracks.find(function(w){return w.track===_.currentTrackNum});h=b!=null?b:(d=this.album)===null||d===void 0?void 0:d.youtubeTracks[0]}this.selectedTrack=h,console.log("*** onTracklistClickCallback ** ",{selectedTrack:h,iaTrackNum:o,currentTrackNum:this.currentTrackNum})}},{key:"updateToSelectedChannel",value:function(){var o,l,a,s,r;if(this.selectedChannel==="youtube"){var c=this.album.youtubeTracks||[],d=[];if(console.log("youtubeTracks",c),c.length){var h=this,f=c.reduce(function(A,E){var O=Number.isInteger(E.track)?"".concat(E.track):"n/a";if(A.push(O),O!=="n/a"){var P=Number(O)-1;d.push(P)}return A},[]).join(", ");console.log("ytTrackNums",{ytTrackNums:f,iaYtTracklist:d}),(o=this.playerApi)===null||o===void 0||o.headless(d,function(A){return h.onTracklistClickCallback(A)})}}else if(this.selectedChannel==="spotify"){var v=((l=this.album)===null||l===void 0?void 0:l.spotifyTracks)||[],_=[];if(console.log("spotifyTracks",v),v.length){var b=this,w=((a=this.album)===null||a===void 0?void 0:a.spotifyTracks.reduce(function(A,E){var O=Number.isInteger(E.track)?"".concat(E.track):"n/a";if(A.push(O),O!=="n/a"){var P=Number(O)-1;_.push(P)}return A},[])).join(", ");console.log("spTrackNums ------",{spTrackNums:w,iaSpTracklist:_}),(s=this.playerApi)===null||s===void 0||s.headless(_,function(A){return b.onTracklistClickCallback(A)})}}else(r=this.playerApi)===null||r===void 0||r.headless()}},{key:"render",value:function(){var o,l;if(!(this.selectedChannel==="youtube"||this.selectedChannel==="spotify"))return Rn;if(this.selectedChannel==="spotify"){var a=this,s=(o=this.album)===null||o===void 0?void 0:o.spotifyTracks.find(function(d){var h;return(d==null?void 0:d.track)===((h=a.selectedTrack)===null||h===void 0?void 0:h.track)});if(s)return St(_templateObject404(),s==null?void 0:s.spotifyId)}else if(this.selectedChannel==="youtube"){var r=this,c=(l=this.album)===null||l===void 0?void 0:l.youtubeTracks.find(function(d){var h;return d.track===((h=r.selectedTrack)===null||h===void 0?void 0:h.track)});if(console.log("~~~~ trackFound YT ID",c==null?void 0:c.youtubeId,c),c)return St(_templateObject405(),c.youtubeId)}return Rn}}]),e}(Vn),Xe([Kt({type:String,attribute:!0,reflect:!0})],Wo.prototype,"selectedChannel",void 0),Xe([Kt({type:Object})],Wo.prototype,"playerApi",void 0),Xe([Kt({type:Object})],Wo.prototype,"album",void 0),Xe([Kt({type:Object})],Wo.prototype,"selectedTrack",void 0),Xe([Vi()],Wo.prototype,"currentTrackNum",void 0),Xe([Hr("spotify-player")],Wo.prototype,"spotifyPlayer",void 0),Xe([Hr("youtube-player")],Wo.prototype,"youtubePlayer",void 0),Wo=Xe([Mr("externalchannels-player")],Wo)}}),WP=Mt({"https-url:https://esm.archive.org/@internetarchive/ia-music-player@1.2.0/dist/index.js":function(){su(),Cr(),vn(),Or(),WA(),YA(),aO(),sO(),lO(),bO(),pf(),VP()}}),VO={};ai(VO,{IaMusicTheater:function(){return L0}});var L0,qP=Mt({"components/ia-music-theater/ia-music-theater.js":function(){PA(),IP(),LP(),Lv(),WP(),uo(),A3(),window.SharedResizeObserver||(window.SharedResizeObserver=Ha),yn("** ia-music-player@1.2.0 **"),L0=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.baseHost="",n.signedIn=!1,n.hasFullAudioAccess=!0,n.identifier="",n.sharedRO=void 0,n.displayStyle="one-col",n.bgTheme="dark",n.linerNotesUrl="",n.linerNotesManifest=void 0,n.itemInfo=void 0,n.looseImageInfo=[],n.linerNotesFullscreen=!1,n.noImageAvailable=!1,n.photoViewerReady=!1,n.iaPlaylist=void 0,n.hasSpotifyTracks=!1,n.hasYoutubeTracks=!1,n.album=void 0,n.analyticsHandler=new Dv,n.selectedChannel="ia",n.currComponentWidth=0,n}return _createClass(e,[{key:"firstUpdated",value:function(){var o;this.classList.remove("preload"),this.setupResizeObserver(),this.analyticsHandler.send_event("ia-music-theater","channel-onload","".concat(this.selectedChannel));var l=document.querySelector(".js-ia-metadata").value;this.itemInfo={metadata:JSON.parse(l),rawString:l};var a=document.querySelector(".js-iaux-loose-images").value,s=((o=JSON.parse(a))==null?void 0:o.image_filenames)||[];yn("~~~~ parsedImageInfo: ",s,"~~~~");var r=(s==null?void 0:s.includes("_"))&&(s==null?void 0:s.length)===1;this.looseImageInfo=!r&&(s!=null&&s.length)?s:[];var c=document.querySelector(".js-play8-playlist").value;this.iaPlaylist=JSON.parse(c),this.album=new HA(this.itemInfo.metadata,this.iaPlaylist)}},{key:"updated",value:function(o){var l;o.has("linerNotesUrl")&&this.linerNotesUrl&&this.fetchLinerNotes(),this.fullscreenActive||(o.has("displayStyle")&&this.displayStyle==="one-col"&&this.setBookReaderClassesForMobileView(),o.has("displayStyle")&&this.displayStyle!=="one-col"&&this.removeBookReaderMobileViewClasses()),o.has("looseImageInfo")&&((l=this.looseImageInfo)!=null&&l.length)&&!this.linerNotesUrl&&this.createManifestToLoad()}},{key:"createManifestToLoad",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,MT({itemIdentifier:this.identifier,images:this.looseImageInfo,baseHost:"archive.org"});case 2:l=s.sent,yn("*** manifest ***",l),this.linerNotesManifest=l;case 5:case"end":return s.stop()}},o,this)}))}},{key:"removeBookReaderMobileViewClasses",value:function(){var o=this.querySelector("div#BookReader");o==null||o.classList.remove("iaux-music-theater-mobile-view")}},{key:"setBookReaderClassesForMobileView",value:function(){var o=this.querySelector("div#BookReader");o==null||o.classList.add("iaux-music-theater-mobile-view")}},{key:"fetchLinerNotes",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=1,r.next=4,$.ajax({url:"/embed/".concat(this.identifier,"?output=json"),type:"GET",dataType:"json",crossDomain:!0}).then(function(c){return c}).catch(function(){return[]});case 4:l=r.sent,r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),l=[];case 10:return this.jwplayerPlaylist=l,yn("*** jwplayerPlaylist ***",l),r.prev=13,r.next=16,$.ajax({url:this.linerNotesUrl,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).then(function(c){return c}).catch(function(){return null});case 16:a=r.sent,r.next=22;break;case 19:r.prev=19,r.t1=r.catch(13),a=void 0;case 22:this.linerNotesManifest=a==null?void 0:a.data,this.noImageAvailable=!1,yn("*** linerNotesManifest ***",a);case 25:case"end":return r.stop()}},o,this,[[1,7],[13,19]])}))}},{key:"itemUrl",get:function(){return"https://".concat(this.baseHost,"/details/").concat(this.identifier)}},{key:"iauxPhotoViewer",get:function(){return this.shadowRoot.querySelector("iaux-photo-viewer")}},{key:"channelSelector",get:function(){return this.shadowRoot.querySelector("channel-selector")}},{key:"setupResizeObserver",value:function(){this.sharedRO=new Ha,this.sharedRO.addObserver({handler:{handleResize:this.handleResize.bind(this)},target:this.shadowRoot.host})}},{key:"handleResize",value:function(o){var l,a,s=o.contentRect;if(s.width!==this.currComponentWidth){if(this.linerNotesFullscreen&&(this.style.removeProperty("--linerNotesFullscreenHeight"),this.style.setProperty("--linerNotesFullScreenHeight","".concat(Math.round(s.height),"px"))),document.body.style.removeProperty("--linerNotesInTheaterHeight"),s.width<768)this.displayStyle="one-col",this.channelSelector.displayStyle="dropdown";else{this.displayStyle="two-col",this.channelSelector.displayStyle="radio";var r=(a=(l=this.iauxPhotoViewer)==null?void 0:l.coverImage)==null?void 0:a.getBoundingClientRect();if(!r)return;var c=r.height,d=r.width,h=Math.floor(c),f=950;if(s.width<f){this.setBookReaderHeight(h);return}var v=Math.floor(c/d),_=Math.floor(this.offsetHeight-c),b=this.offsetHeight>=c&&_>250,w=v===1&&_>170,A=_<0;(A||w||b)&&(h=this.offsetHeight-20),this.setBookReaderHeight(h)}yn("music-player handleResize",{width:s.width,displayStyle:this.displayStyle})}}},{key:"channelChange",value:function(o){var l=o.detail,a=(l==null?void 0:l.channel)||"unknown";yn("channel change",a),this.selectedChannel=a,this.analyticsHandler.send_event("ia-music-theater","channel-change","".concat(this.selectedChannel))}},{key:"setBookReaderHeight",value:function(o){var l=Math.floor(o);!o||!l||(document.body.style.removeProperty("--linerNotesInTheaterHeight"),document.body.style.setProperty("--linerNotesInTheaterHeight","".concat(l,"px")))}},{key:"render",value:function(){var o=this,l;yn("~~~ render: linerNotesManifest ",this.linerNotesManifest);var a=this.linerNotesFullscreen?"linerNotesFullscreen":"";return au(_templateObject409(),"".concat(this.displayStyle," ").concat(a," ").concat(this.bgTheme," ").concat(this.noImageAvailable?"noimageavailable":"hasimage"),this.bgTheme,this.hasYoutubeTracks,this.hasSpotifyTracks,this.itemUrl,this.selectedChannel,function(s){return o.channelChange(s)},this.displayStyle==="one-col"?"dropdown":"radio",this.noImageAvailable?au(_templateObject406(),this.identifier):au(_templateObject407(),this.noImageAvailable,this.linerNotesManifest?"":"hide",this.bgTheme,this.baseHost,this.identifier,(l=this.itemInfo)==null?void 0:l.metadata,this.signedIn,this.linerNotesManifest,this,this.sharedRO,function(){if(o.displayStyle==="one-col"){var s=window.innerHeight;o.style.removeProperty("--linerNotesFullscreenHeight"),o.style.setProperty("--linerNotesFullScreenHeight","".concat(Math.round(s),"px"))}o.linerNotesFullscreen=!0},function(){o.displayStyle==="one-col"&&o.style.removeProperty("--linerNotesFullScreenHeight"),o.linerNotesFullscreen=!1},function(){o.displayStyle==="one-col"&&o.setBookReaderClassesForMobileView(),o.analyticsHandler.send_event("ia-music-theater","liner-notes-viewed","".concat(o.displayStyle))},function(s){var r,c=!o.noImageAvailable&&!((r=o.looseImageInfo)!=null&&r.length)&&!o.linerNotesManifest;if(!c){var d=s.detail,h=d.height,f=d.width,v=h;if(o.displayStyle==="one-col")v=250;else{var _=Math.round(h/f);(_===1||h>=o.offsetHeight)&&(v=o.offsetHeight-20)}o.setBookReaderHeight(v),o.photoViewerReady=!0}}),this.photoViewerReady?Si:au(_templateObject408()),this.album,this.selectedChannel,window==null?void 0:window.Play,function(s){var r=s.detail,c=r.youtubeTracks,d=r.spotifyTracks,h=r.album;o.hasYoutubeTracks=!!c.length,o.hasSpotifyTracks=!!d.length,o.album=h,yn("*** external player loaded",s.detail)},function(s){yn("*** external player selected track Received",s.detail)})}}],[{key:"properties",get:function(){return{itemInfo:{type:Object},baseHost:{type:String},identifier:{type:String,reflect:!0},sharedRO:{type:Object},linerNotesFullscreen:{type:Boolean,attribute:!0,reflect:!0},signedIn:{type:Boolean,attribute:!0,reflect:!0},hasFullAudioAccess:{type:Boolean,attribute:!0,reflect:!0},displayStyle:{type:String,attribute:!0,reflect:!0},bgTheme:{type:String,attribute:!0,reflect:!0},selectedChannel:{type:String,attribute:!0,reflect:!0},linerNotesUrl:{type:String,attribute:!0,reflect:!0},linerNotesManifest:{type:Object},looseImageInfo:{type:Array},noImageAvailable:{type:Boolean,attribute:!0,reflect:!0},photoViewerReady:{type:Boolean,attribute:!0,reflect:!0},iaPlaylist:{type:Object},hasYoutubeTracks:{type:Boolean,attribute:!0,reflect:!0},hasSpotifyTracks:{type:Boolean,attribute:!0,reflect:!0},album:{type:Object}}}},{key:"styles",get:function(){return wy(_templateObject410())}}]),e}(el),customElements.define("ia-music-theater",L0)}}),R0=Mt({"https-url:https://archive.org/components/util/jquery.js":function(){jd(),window.jQuery=Z,window.$=Z}}),D0,GP=Mt({"https-url:https://archive.org/components/util/message.js":function(){D0=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,null,[{key:"LoadingMessage",value:function(e){var n=e.message,o=n===void 0?"Loading":n;return'<small class="loading-message">'.concat(o,"</small>")}},{key:"ErrorMessage",value:function(e){var n=e.errorMessage;return"<small>".concat(n,"</small>")}}]),m}()}}),YP=Mt({"https-url:https://archive.org/components/tilebars/tilebars.js":function(){R0()}}),WO,XP=Mt({"https-url:https://archive.org/components/util/throttler.js":function(){WO=function(){"use strict";function m(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;_classCallCheck(this,m),this.callback=t,this.threshhold=e,this.context=n,this.last=void 0,this.deferTimeout=void 0}return _createClass(m,[{key:"execute",value:function(){var e=+new Date;this.last&&e<this.last+this.threshhold?(clearTimeout(this.deferTimeout),this.deferTimeout=setTimeout(this.executeCallback.bind(this),this.threshhold)):this.executeCallback.call(this)}},{key:"executeCallback",value:function(){this.last=+new Date,this.callback.apply(this.context)}}]),m}()}}),qO,KP=Mt({"https-url:https://archive.org/components/util/scroll-proximity-handler.js":function(){R0(),XP(),qO=function(){"use strict";function m(t,e,n){_classCallCheck(this,m),this.identifier=t,this.$targetElement=e,this.callback=n,this.$window=Z(window),this.throttler=new WO(this.scrollListener,100,this)}return _createClass(m,[{key:"startListener",value:function(){this.$window.on("scroll.".concat(this.identifier),this.throttledListener.bind(this)),this.scrollListener()}},{key:"throttledListener",value:function(){return this.throttler.execute()}},{key:"getTargetScrollOffset",value:function(){var e=this.$targetElement.offset().top,n=this.$window.height();return e-n/2}},{key:"scrollListener",value:function(){var e=this.getTargetScrollOffset();this.$window.scrollTop()+this.$window.height()>=e&&(this.$window.off(".".concat(this.identifier)),this.callback())}}]),m}()}}),GO,QP=Mt({"https-url:https://archive.org/components/util/is-bot.js":function(){GO=/bot|crawl|spider/i.test(navigator.userAgent)}}),_u,YO=Mt({"https-url:https://archive.org/components/related/related.js":function(){R0(),GP(),YP(),KP(),QP(),_u=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,null,[{key:"setup",value:function(){var e=Z("#js-related");if(e.length&&(pp(),Z(window).on("resize  orientationchange",function(o){clearTimeout(m.also_found_throttler),m.also_found_throttler=setTimeout(pp,250)})),!(!e.length||GO)){var n=Z("#also-found");this.scrollProximityHandler=new qO("related_items",n,function(){if(!e.text())return n.find(".tilebars").show(),e.html(D0.LoadingMessage({message:"Fetching items"})),m.doWhenScrolledToRelatedSection()}),this.scrollProximityHandler.startListener()}}},{key:"doWhenScrolledToRelatedSection",value:function(){var e=Z("#also-found").data("identifier"),n=Z("#js-related");return m.getRelatedItems(e).then(function(o){n.html(o),pp()}).catch(function(o){Z("#playplayset").hide(),n.html(D0.ErrorMessage({errorMessage:o.message})).show()})}},{key:"getRelatedItems",value:function(e,n){return new Promise(function(o,l){var a="/details/".concat(encodeURIComponent(e),"?RelatedItemsGet=").concat(n?"json":1),s="Related items temporarily unavailable. Please try back later.";Z.get(a,function(r){r===""&&l(new Error("No similar items found.")),r==="service_disabled"&&l(new Error(s)),o(r)}).fail(function(){l(new Error(s))})})}}]),m}(),Z(function(){return _u.setup()})}});function ku(m,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m,n=arguments.length>3?arguments[3]:void 0,o,l,a;if(t===ll)return t;var s=n!==void 0?(o=e.o)==null?void 0:o[n]:e.l,r=Su(t)?void 0:t._$litDirective$;return(s==null?void 0:s.constructor)!==r&&((l=s==null?void 0:s._$AO)==null||l.call(s,!1),r===void 0?s=void 0:(s=new r(m),s._$AT(m,e,n)),n!==void 0?((a=e.o)!=null?a:e.o=[])[n]=s:e.l=s),s!==void 0&&(t=ku(m,s._$AS(m,t.values),s,n)),t}var Nc,zc,$0,B0,Ca,N0,XO,ps,xu,Su,gf,KO,mf,Cu,z0,F0,vs,H0,U0,V0,yf,zr,JP,ZP,ll,Ii,W0,gs,QO,bf,JO,wf,Fc,ZO,e4,t4,n4,q0,r4,i4,_f=Mt({"https-url:https://esm.archive.org/v135/lit-html@3.2.0/esnext/lit-html.mjs":function(){Nc=globalThis,zc=Nc.trustedTypes,$0=zc?zc.createPolicy("lit-html",{createHTML:function(m){return m}}):void 0,B0="$lit$",Ca="lit$".concat(Math.random().toFixed(9).slice(2),"$"),N0="?"+Ca,XO="<".concat(N0,">"),ps=document,xu=function(){return ps.createComment("")},Su=function(m){return m===null||typeof m!="object"&&typeof m!="function"},gf=Array.isArray,KO=function(m){return gf(m)||typeof(m==null?void 0:m[Symbol.iterator])=="function"},mf="[ 	\n\f\r]",Cu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,z0=/-->/g,F0=/>/g,vs=RegExp(">|".concat(mf,"(?:([^\\s\"'>=/]+)(").concat(mf,"*=").concat(mf,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),H0=/'/g,U0=/"/g,V0=/^(?:script|style|textarea|title)$/i,yf=function(m){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:m,strings:t,values:n}}},zr=yf(1),JP=yf(2),ZP=yf(3),ll=Symbol.for("lit-noChange"),Ii=Symbol.for("lit-nothing"),W0=new WeakMap,gs=ps.createTreeWalker(ps,129),QO=function(m,t){for(var e=m.length-1,n=[],o,l=t===2?"<svg>":t===3?"<math>":"",a=Cu,s=0;s<e;s++){for(var r=m[s],c=void 0,d=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,d=a.exec(r),d!==null);)f=a.lastIndex,a===Cu?d[1]==="!--"?a=z0:d[1]!==void 0?a=F0:d[2]!==void 0?(V0.test(d[2])&&(o=RegExp("</"+d[2],"g")),a=vs):d[3]!==void 0&&(a=vs):a===vs?d[0]===">"?(a=o!=null?o:Cu,h=-1):d[1]===void 0?h=-2:(h=a.lastIndex-d[2].length,c=d[1],a=d[3]===void 0?vs:d[3]==='"'?U0:H0):a===U0||a===H0?a=vs:a===z0||a===F0?a=Cu:(a=vs,o=void 0);var v=a===vs&&m[s+1].startsWith("/>")?" ":"";l+=a===Cu?r+XO:h>=0?(n.push(c),r.slice(0,h)+B0+r.slice(h)+Ca+v):r+Ca+(h===-2?s:v)}return[s5(m,l+(m[e]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),n]},bf=function(){"use strict";function m(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,m);var l;this.parts=[];var a=0,s=0,r=n.length-1,c=this.parts,d=_slicedToArray(QO(n,o),2),h=d[0],f=d[1];if(this.el=m.createElement(h,e),gs.currentNode=this.el.content,o===2||o===3){var v,_=this.el.content.firstChild;(v=_).replaceWith.apply(v,_toConsumableArray(_.childNodes))}for(;(l=gs.nextNode())!==null&&c.length<r;){if(l.nodeType===1){var b=!0,w=!1,A=void 0;if(l.hasAttributes())try{for(var E=l.getAttributeNames()[Symbol.iterator](),O;!(b=(O=E.next()).done);b=!0){var P=O.value;if(P.endsWith(B0)){var y=f[s++],u=l.getAttribute(P).split(Ca),p=/([.?@])?(.*)/.exec(y);c.push({type:1,index:a,name:p[2],strings:u,ctor:p[1]==="."?ZO:p[1]==="?"?e4:p[1]==="@"?t4:Fc}),l.removeAttribute(P)}else P.startsWith(Ca)&&(c.push({type:6,index:a}),l.removeAttribute(P))}}catch(L){w=!0,A=L}finally{try{!b&&E.return!=null&&E.return()}finally{if(w)throw A}}if(V0.test(l.tagName)){var g=l.textContent.split(Ca),k=g.length-1;if(k>0){l.textContent=zc?zc.emptyScript:"";for(var x=0;x<k;x++)l.append(g[x],xu()),gs.nextNode(),c.push({type:2,index:++a});l.append(g[k],xu())}}}else if(l.nodeType===8)if(l.data===N0)c.push({type:2,index:a});else for(var j=-1;(j=l.data.indexOf(Ca,j+1))!==-1;)c.push({type:7,index:a}),j+=Ca.length-1;a++}}return _createClass(m,null,[{key:"createElement",value:function(e,n){var o=ps.createElement("template");return o.innerHTML=e,o}}]),m}(),JO=function(){"use strict";function m(t,e){_classCallCheck(this,m),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(m,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!=null?n:ps).importNode(a,!0);gs.currentNode=r;for(var c=gs.nextNode(),d=0,h=0,f=s[0];f!==void 0;){if(d===f.index){var v=void 0;f.type===2?v=new wf(c,c.nextSibling,this,e):f.type===1?v=new f.ctor(c,f.name,f.strings,this,e):f.type===6&&(v=new n4(c,this,e)),this._$AV.push(v),f=s[++h]}d!==(f==null?void 0:f.index)&&(c=gs.nextNode(),d++)}return gs.currentNode=ps,r}},{key:"p",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,n),n+=c.strings.length-2):c._$AI(e[n])),n++}}catch(d){l=!0,a=d}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),m}(),wf=function(){"use strict";function m(t,e,n,o){_classCallCheck(this,m);var l;this.type=2,this._$AH=Ii,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this.v=(l=o==null?void 0:o.isConnected)!=null?l:!0}return _createClass(m,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)==null?void 0:e._$AU)!=null?n:this.v}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=ku(this,e,n),Su(e)?e===Ii||e==null||e===""?(this._$AH!==Ii&&this._$AR(),this._$AH=Ii):e!==this._$AH&&e!==ll&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):KO(e)?this.k(e):this._(e)}},{key:"O",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"T",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}},{key:"_",value:function(e){this._$AH!==Ii&&Su(this._$AH)?this._$AA.nextSibling.data=e:this.T(ps.createTextNode(e)),this._$AH=e}},{key:"$",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=bf.createElement(s5(l.h,l.h[0]),this.options)),l);if(((n=this._$AH)==null?void 0:n._$AD)===a)this._$AH.p(o);else{var s=new JO(a,this),r=s.u(this.options);s.p(o),this.T(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=W0.get(e.strings);return n===void 0&&W0.set(e.strings,n=new bf(e)),n}},{key:"k",value:function(e){gf(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(a=(d=c.next()).done);a=!0){var h=d.value;l===n.length?n.push(o=new m(this.O(xu()),this.O(xu()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)==null?void 0:o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this.v=e,(n=this._$AP)==null||n.call(this,e))}}]),m}(),Fc=function(){"use strict";function m(t,e,n,o,l){_classCallCheck(this,m),this.type=1,this._$AH=Ii,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Ii}return _createClass(m,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=ku(this,e,n,0),s=!Su(e)||e!==this._$AH&&e!==ll,s&&(this._$AH=e);else{var r=e,c,d;for(e=a[0],c=0;c<a.length-1;c++)d=ku(this,r[o+c],n,c),d===ll&&(d=this._$AH[c]),s||(s=!Su(d)||d!==this._$AH[c]),d===Ii?e=Ii:e!==Ii&&(e+=(d!=null?d:"")+a[c+1]),this._$AH[c]=d}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===Ii?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),m}(),ZO=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Ii?void 0:o}}]),e}(Fc),e4=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element.toggleAttribute(this.name,!!o&&o!==Ii)}}]),e}(Fc),t4=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=ku(this,o,l,0))!=null?a:Ii)!==ll){var s=this._$AH,r=o===Ii&&s!==Ii||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,c=o!==Ii&&(s===Ii||r);r&&this.element.removeEventListener(this.name,this,s),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)==null?void 0:l.host)!=null?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(Fc),n4=function(){"use strict";function m(t,e,n){_classCallCheck(this,m),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(m,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){ku(this,e)}}]),m}(),q0=Nc.litHtmlPolyfillSupport,q0==null||q0(bf,wf),((r4=Nc.litHtmlVersions)!=null?r4:Nc.litHtmlVersions=[]).push("3.2.0"),i4=function(m,t,e){var n,o,l=(n=e==null?void 0:e.renderBefore)!=null?n:t,a=l._$litPart$;if(a===void 0){var s=(o=e==null?void 0:e.renderBefore)!=null?o:null;l._$litPart$=a=new wf(t.insertBefore(xu(),s),s,void 0,e!=null?e:{})}return a._$AI(m),a}}}),jo,o4,G0,a4,s4=Mt({"https-url:https://esm.archive.org/v135/lit-element@4.1.0/esnext/lit-element.js":function(){oc(),oc(),_f(),_f(),jo=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.renderOptions={host:_assertThisInitialized(n)},n.o=void 0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"createRenderRoot",value:function(){var o,l,a=_get(_getPrototypeOf(e.prototype),"createRenderRoot",this).call(this);return(l=(o=this.renderOptions).renderBefore)!=null||(o.renderBefore=a.firstChild),a}},{key:"update",value:function(o){var l=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(e.prototype),"update",this).call(this,o),this.o=i4(l,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"connectedCallback",this).call(this),(o=this.o)==null||o.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),(o=this.o)==null||o.setConnected(!1)}},{key:"render",value:function(){return ll}}]),e}(Ns),jo._$litElement$=!0,jo.finalized=!0,(o4=globalThis.litElementHydrateSupport)==null||o4.call(globalThis,{LitElement:jo}),G0=globalThis.litElementPolyfillSupport,G0==null||G0({LitElement:jo}),((a4=globalThis.litElementVersions)!=null?a4:globalThis.litElementVersions=[]).push("4.1.0")}}),l4=Mt({"https-url:https://esm.archive.org/v135/lit-html@3.2.0/esnext/is-server.js":function(){}}),eI=Mt({"https-url:https://esm.archive.org/v135/lit@3.2.0/esnext/lit.mjs":function(){oc(),_f(),s4(),l4()}}),Au=Mt({"https-url:https://esm.archive.org/lit":function(){oc(),_f(),s4(),l4(),eI()}}),u4=Mt({"https-url:https://av.dev.archive.org/js/util/jquery.js":function(){jd(),globalThis.jQuery=Z,globalThis.$=Z}}),Aa,Y0=Mt({"https-url:https://av.dev.archive.org/js/util/cgiarg.js":function(){Aa=DT}}),c4,$n,tI,ul=Mt({"https-url:https://av.dev.archive.org/js/util/log.js":function(){$n=typeof Deno!="undefined"||typeof location=="undefined"||location.host==="av.dev.archive.org"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org/)||location.host.endsWith(".code.archive.org")||location.host.startsWith("ia-petabox")||location.host.split(":")[0]==="localhost"||((c4=globalThis==null?void 0:globalThis.navigator)==null?void 0:c4.onLine)===!1?console.log.bind(console):function(){},tI=console.error.bind(console)}}),nI=Mt({"https-url:https://av.dev.archive.org/jw/8/jwplayer.js":function(){window.jwplayer=function(m){var t=function(d){for(var h,f,v=d[0],_=d[1],b=0,w=[];b<v.length;b++)f=v[b],Object.prototype.hasOwnProperty.call(n,f)&&n[f]&&w.push(n[f][0]),n[f]=0;for(h in _)Object.prototype.hasOwnProperty.call(_,h)&&(m[h]=_[h]);for(r&&r(d);w.length;)w.shift()()},e={},n={0:0};function o(c){if(e[c])return e[c].exports;var d=e[c]={i:c,l:!1,exports:{}};return m[c].call(d.exports,d,d.exports,o),d.l=!0,d.exports}o.e=function(c){var d=[],h=n[c];if(h!==0)if(h)d.push(h[2]);else{var f=new Promise(function(A,E){h=n[c]=[A,E]});d.push(h[2]=f);var v,_=document.createElement("script");_.charset="utf-8",_.timeout=120,o.nc&&_.setAttribute("nonce",o.nc),_.src=function(A){return o.p+""+({1:"jwplayer.controls",2:"jwplayer.controls.tizen",3:"jwplayer.core",4:"jwplayer.core.controls",5:"jwplayer.core.controls.html5",6:"jwplayer.core.controls.polyfills",7:"jwplayer.core.controls.polyfills.html5",8:"polyfills.intersection-observer",9:"polyfills.webvtt",10:"provider.html5",11:"vttparser"}[A]||A)+".js"}(c);var b=new Error;v=function(E){_.onerror=_.onload=null,clearTimeout(w);var O=n[c];if(O!==0){if(O){var P=E&&(E.type==="load"?"missing":E.type),y=E&&E.target&&E.target.src;b.message="Loading chunk "+c+" failed.\n("+P+": "+y+")",b.name="ChunkLoadError",b.type=P,b.request=y,O[1](b)}n[c]=void 0}};var w=setTimeout(function(){v({type:"timeout",target:_})},12e4);_.onerror=_.onload=v,document.head.appendChild(_)}return Promise.all(d)},o.m=m,o.c=e,o.d=function(c,d,h){o.o(c,d)||Object.defineProperty(c,d,{enumerable:!0,get:h})},o.r=function(c){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},o.t=function(c,d){if(1&d&&(c=o(c)),8&d||4&d&&typeof c=="object"&&c&&c.__esModule)return c;var h=Object.create(null);if(o.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:c}),2&d&&typeof c!="string")for(var f in c)o.d(h,f,function(v){return c[v]}.bind(null,f));return h},o.n=function(c){var d=c&&c.__esModule?function(){return c.default}:function(){return c};return o.d(d,"a",d),d},o.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)},o.p="",o.oe=function(c){throw console.error(c),c};var l=window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var r=a;return o(o.s=56)}([function(m,t,e){"use strict";e.d(t,"f",function(){return p}),e.d(t,"v",function(){return k}),e.d(t,"i",function(){return X}),e.d(t,"h",function(){return H}),e.d(t,"z",function(){return Oe}),e.d(t,"b",function(){return De}),e.d(t,"j",function(){return tt}),e.d(t,"e",function(){return Ve}),e.d(t,"l",function(){return Qe}),e.d(t,"a",function(){return bt}),e.d(t,"A",function(){return Ze}),e.d(t,"m",function(){return at}),e.d(t,"d",function(){return pt}),e.d(t,"g",function(){return lt}),e.d(t,"x",function(){return ct}),e.d(t,"p",function(){return wt}),e.d(t,"r",function(){return _t}),e.d(t,"s",function(){return xt}),e.d(t,"o",function(){return ut}),e.d(t,"q",function(){return we}),e.d(t,"n",function(){return N}),e.d(t,"t",function(){return qe}),e.d(t,"k",function(){return nt}),e.d(t,"y",function(){return R}),e.d(t,"w",function(){return le}),e.d(t,"u",function(){return ve});var n=e(16),o={},l=Array.prototype,a=Object.prototype,s=Function.prototype,r=l.slice,c=l.concat,d=a.toString,h=a.hasOwnProperty,f=l.map,v=l.reduce,_=l.forEach,b=l.filter,w=l.every,A=l.some,E=l.indexOf,O=Array.isArray,P=Object.keys,y=s.bind,u=window.isFinite,p=function(K,ge,Ee){var Ce,Ye;if(K==null)return K;if(_&&K.forEach===_)K.forEach(ge,Ee);else if(K.length===+K.length){for(Ce=0,Ye=K.length;Ce<Ye;Ce++)if(ge.call(Ee,K[Ce],Ce,K)===o)return}else{var Be=Ke(K);for(Ce=0,Ye=Be.length;Ce<Ye;Ce++)if(ge.call(Ee,K[Be[Ce]],Be[Ce],K)===o)return}return K},g=p,k=function(K,ge,Ee){var Ce=[];return K==null?Ce:f&&K.map===f?K.map(ge,Ee):(p(K,function(Ye,Be,Je){Ce.push(ge.call(Ee,Ye,Be,Je))}),Ce)},x=k,j="Reduce of empty array with no initial value",L=function(K,ge,Ee,Ce){var Ye=arguments.length>2;if(K==null&&(K=[]),v&&K.reduce===v)return Ce&&(ge=bt(ge,Ce)),Ye?K.reduce(ge,Ee):K.reduce(ge);if(p(K,function(Be,Je,Tt){Ye?Ee=ge.call(Ce,Ee,Be,Je,Tt):(Ee=Be,Ye=!0)}),!Ye)throw new TypeError(j);return Ee},D=L,F=L,X=function(K,ge,Ee){var Ce;return Y(K,function(Ye,Be,Je){if(ge.call(Ee,Ye,Be,Je))return Ce=Ye,!0}),Ce},Q=X,H=function(K,ge,Ee){var Ce=[];return K==null?Ce:b&&K.filter===b?K.filter(ge,Ee):(p(K,function(Ye,Be,Je){ge.call(Ee,Ye,Be,Je)&&Ce.push(Ye)}),Ce)},ce=H,ne=function(K,ge,Ee){ge||(ge=nt);var Ce=!0;return K==null?Ce:w&&K.every===w?K.every(ge,Ee):(p(K,function(Ye,Be,Je){if(!(Ce=Ce&&ge.call(Ee,Ye,Be,Je)))return o}),!!Ce)},V=ne,Y=function(K,ge,Ee){ge||(ge=nt);var Ce=!1;return K==null?Ce:A&&K.some===A?K.some(ge,Ee):(p(K,function(Ye,Be,Je){if(Ce||(Ce=ge.call(Ee,Ye,Be,Je)))return o}),!!Ce)},oe=Y,q=function(K,ge){var Ee;return function(){return--K>0&&(Ee=ge.apply(this,arguments)),K<=1&&(ge=null),Ee}},G=function(K){return K==null?nt:wt(K)?K:R(K)},J=function(K){return function(ge,Ee,Ce){var Ye={};return Ee=G(Ee),p(ge,function(Be,Je){var Tt=Ee.call(Ce,Be,Je,ge);K(Ye,Tt,Be)}),Ye}},ae=J(function(de,K,ge){Ie(de,K)?de[K].push(ge):de[K]=[ge]}),ie=J(function(de,K,ge){de[K]=ge}),Oe=function(K,ge,Ee,Ce){for(var Ye=(Ee=G(Ee)).call(Ce,ge),Be=0,Je=K.length;Be<Je;){var Tt=Be+Je>>>1;Ee.call(Ce,K[Tt])<Ye?Be=Tt+1:Je=Tt}return Be},De=function(K,ge){return K!=null&&(K.length!==+K.length&&(K=Pe(K)),Qe(K,ge)>=0)},ke=De,tt=function(K,ge){return X(K,le(ge))},Ve=function(K){var ge=c.apply(l,r.call(arguments,1));return H(K,function(Ee){return!De(ge,Ee)})},Qe=function(K,ge,Ee){if(K==null)return-1;var Ce=0,Ye=K.length;if(Ee){if(typeof Ee!="number")return K[Ce=Oe(K,ge)]===ge?Ce:-1;Ce=Ee<0?Math.max(0,Ye+Ee):Ee}if(E&&K.indexOf===E)return K.indexOf(ge,Ee);for(;Ce<Ye;Ce++)if(K[Ce]===ge)return Ce;return-1},ht=function(){},bt=function(K,ge){var Ee,Ce;if(y&&K.bind===y)return y.apply(K,r.call(arguments,1));if(!wt(K))throw new TypeError;return Ee=r.call(arguments,2),Ce=function(){if(!_instanceof(this,Ce))return K.apply(ge,Ee.concat(r.call(arguments)));ht.prototype=K.prototype;var Ye=new ht;ht.prototype=null;var Be=K.apply(Ye,Ee.concat(r.call(arguments)));return Object(Be)===Be?Be:Ye}},vt=function(K){var ge=r.call(arguments,1);return function(){for(var Ee=0,Ce=ge.slice(),Ye=0,Be=Ce.length;Ye<Be;Ye++)Ie(Ce[Ye],"partial")&&(Ce[Ye]=arguments[Ee++]);for(;Ee<arguments.length;)Ce.push(arguments[Ee++]);return K.apply(this,Ce)}},Le=vt(q,2),_e=function(K,ge){var Ee=r.call(arguments,2);return setTimeout(function(){return K.apply(null,Ee)},ge)},Ne=vt(_e,{partial:vt},1),Ze=function(K,ge,Ee){var Ce,Ye,Be,Je=null,Tt=0;Ee||(Ee={});var jt=function(){Tt=Ee.leading===!1?0:ue(),Je=null,Be=K.apply(Ce,Ye),Ce=Ye=null};return function(){Tt||Ee.leading!==!1||(Tt=ue);var Et=ge-(ue-Tt);return Ce=this,Ye=arguments,Et<=0?(clearTimeout(Je),Je=null,Tt=ue,Be=K.apply(Ce,Ye),Ce=Ye=null):Je||Ee.trailing===!1||(Je=setTimeout(jt,Et)),Be}},Ke=function(K){if(!ze(K))return[];if(P)return P(K);var ge=[];for(var Ee in K)Ie(K,Ee)&&ge.push(Ee);return ge},Pe=function(K){for(var ge=Ke(K),Ee=Ke.length,Ce=Array(Ee),Ye=0;Ye<Ee;Ye++)Ce[Ye]=K[ge[Ye]];return Ce},at=function(K){for(var ge={},Ee=Ke(K),Ce=0,Ye=Ee.length;Ce<Ye;Ce++)ge[K[Ee[Ce]]]=Ee[Ce];return ge},pt=function(K){return p(r.call(arguments,1),function(ge){if(ge)for(var Ee in ge)K[Ee]===void 0&&(K[Ee]=ge[Ee])}),K},lt=Object.assign||function(de){return p(r.call(arguments,1),function(K){if(K)for(var ge in K)Object.prototype.hasOwnProperty.call(K,ge)&&(de[ge]=K[ge])}),de},ct=function(K){var ge={},Ee=c.apply(l,r.call(arguments,1));return p(Ee,function(Ce){Ce in K&&(ge[Ce]=K[Ce])}),ge},Ge=O||function(de){return d.call(de)=="[object Array]"},ze=function(K){return K===Object(K)},He=[];p(["Function","String","Number","Date","RegExp"],function(de){He[de]=function(K){return d.call(K)=="[object "+de+"]"}}),He.Function=function(de){return typeof de=="function"};var rt=He.Date,it=He.RegExp,wt=He.Function,_t=He.Number,xt=He.String,ut=function(K){return u(K)&&!we(parseFloat(K))},we=function(K){return _t(K)&&K!=+K},N=function(K){return K===!0||K===!1||d.call(K)=="[object Boolean]"},qe=function(K){return K===void 0},Ie=function(K,ge){return h.call(K,ge)},nt=function(K){return K},R=function(K){return function(ge){return ge[K]}},le=function(K){return function(ge){if(ge===K)return!0;for(var Ee in K)if(K[Ee]!==ge[Ee])return!1;return!0}},ue=n.a,ve=function(K){return _t(K)&&!we(K)};t.c={after:function(K,ge){return function(){if(--K<1)return ge.apply(this,arguments)}},all:ne,any:Y,before:q,bind:bt,clone:function(K){return ze(K)?Ge(K)?K.slice():lt({},K):K},collect:x,compact:function(K){return H(K,nt)},constant:function(K){return function(){return K}},contains:De,debounce:function(K,ge){var Ee;return ge===void 0&&(ge=100),function(){for(var Ce=this,Ye=arguments.length,Be=new Array(Ye),Je=0;Je<Ye;Je++)Be[Je]=arguments[Je];clearTimeout(Ee),Ee=setTimeout(function(){K.apply(Ce,Be)},ge)}},defaults:pt,defer:Ne,delay:_e,detect:Q,difference:Ve,each:p,every:V,extend:lt,filter:H,find:X,findWhere:tt,foldl:D,forEach:g,groupBy:ae,has:Ie,identity:nt,include:ke,indexBy:ie,indexOf:Qe,inject:F,invert:at,isArray:Ge,isBoolean:N,isDate:rt,isFinite:ut,isFunction:wt,isNaN:we,isNull:function(K){return K===null},isNumber:_t,isObject:ze,isRegExp:it,isString:xt,isUndefined:qe,isValidNumber:ve,keys:Ke,last:function(K,ge,Ee){if(K!=null)return ge==null||Ee?K[K.length-1]:r.call(K,Math.max(K.length-ge,0))},map:k,matches:le,max:function(K,ge,Ee){if(!ge&&Ge(K)&&K[0]===+K[0]&&K.length<65535)return Math.max.apply(Math,K);var Ce=-1/0,Ye=-1/0;return p(K,function(Be,Je,Tt){var jt=ge?ge.call(Ee,Be,Je,Tt):Be;jt>Ye&&(Ce=Be,Ye=jt)}),Ce},memoize:function(K,ge){var Ee={};return ge||(ge=nt),function(){var Ce=ge.apply(this,arguments);return Ie(Ee,Ce)?Ee[Ce]:Ee[Ce]=K.apply(this,arguments)}},now:ue,omit:function(K){var ge={},Ee=c.apply(l,r.call(arguments,1));for(var Ce in K)De(Ee,Ce)||(ge[Ce]=K[Ce]);return ge},once:Le,partial:vt,pick:ct,pluck:function(K,ge){return k(K,R(ge))},property:R,propertyOf:function(K){return K==null?function(){}:function(ge){return K[ge]}},reduce:L,reject:function(K,ge,Ee){return H(K,function(Ce,Ye,Be){return!ge.call(Ee,Ce,Ye,Be)},Ee)},result:function(K,ge){if(K!=null){var Ee=K[ge];return wt(Ee)?Ee.call(K):Ee}},select:ce,size:function(K){return K==null?0:K.length===+K.length?K.length:Ke(K).length},some:oe,sortedIndex:Oe,throttle:Ze,where:function(K,ge){return H(K,le(ge))},without:function(K){return Ve(K,r.call(arguments,1))}}},function(m,t,e){"use strict";var n=function(F,X,Q){return _instanceof(Q,L)&&Q.code?Q:new L(F,X,Q)},o=function(F,X){var Q=n(j,X,F);return Q.code=(F&&_instanceof(F,L)&&F.code||0)+X,Q},l=function(F){var X=F.name,Q=F.message;switch(X){case"AbortError":return/pause/.test(Q)?303213:/load/.test(Q)?303212:303210;case"NotAllowedError":return 303220;case"NotSupportedError":return 303230;default:return 303200}};e.d(t,"v",function(){return s}),e.d(t,"u",function(){return r}),e.d(t,"t",function(){return c}),e.d(t,"q",function(){return d}),e.d(t,"r",function(){return h}),e.d(t,"p",function(){return f}),e.d(t,"b",function(){return v}),e.d(t,"d",function(){return _}),e.d(t,"s",function(){return b}),e.d(t,"e",function(){return w}),e.d(t,"i",function(){return A}),e.d(t,"a",function(){return E}),e.d(t,"f",function(){return O}),e.d(t,"c",function(){return P}),e.d(t,"g",function(){return y}),e.d(t,"h",function(){return u}),e.d(t,"l",function(){return p}),e.d(t,"j",function(){return g}),e.d(t,"k",function(){return k}),e.d(t,"m",function(){return x}),e.d(t,"n",function(){return j}),e.d(t,"o",function(){return L}),e.d(t,"x",function(){return n}),e.d(t,"w",function(){return o}),e.d(t,"y",function(){return l});var a=e(0),s=1e5,r=100001,c=100002,d=101e3,h=102e3,f=102700,v=200001,_=202e3,b=104e3,w=203e3,A=203640,E=203700,O=204e3,P=306e3,y=308e3,u=308640,p="cantPlayVideo",g="badConnection",k="cantLoadPlayer",x="liveStreamDown",j="technicalError",L=function(){var D=function(X,Q,H){this.code=Object(a.u)(Q)?Q:0,this.sourceError=H||null,X&&(this.key=X)};return D.logMessage=function(F){var X=F%1e3,Q=Math.floor((F-X)/1e3),H=F.toString();return X>=400&&X<600&&(H=Q+"400-"+Q+"599"),"JW Player "+(F>299999&&F<4e5?"Warning":"Error")+" "+F+". For more information see https://developer.jwplayer.com/jw-player/docs/developer-guide/api/errors-reference#"+H},D}()},function(m,t,e){"use strict";var n=function(w){return w.replace(/^\s+|\s+$/g,"")},o=function(w,A,E){for(w=""+w,E=E||"0";w.length<A;)w=E+w;return w},l=function(w,A){for(var E=w.attributes,O=0;O<E.length;O++)if(E[O].name&&E[O].name.toLowerCase()===A.toLowerCase())return E[O].value.toString();return""},a=function(w){if(!w||w.substr(0,4)==="rtmp")return"";var A=/[(,]format=(m3u8|mpd)-/i.exec(w);if(A)return A[1];var E=w.replace(/^.+?\.(\w+)(?:[;].*)?(?:[?#].*)?$/,"$1");return E!==w?E.toLowerCase():(w=w.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?w.substr(w.lastIndexOf(".")+1,w.length).toLowerCase():""},s=function(w){var A=(w/60|0)%60,E=w%60;return o((w/3600|0).toString(),2)+":"+o(A.toString(),2)+":"+o(E.toFixed(3),6)},r=function(w,A){if(!w)return 0;if(Object(v.u)(w))return w;var E=w.replace(",","."),O=E.slice(-1),P=E.split(":"),y=P.length,u=0;if(O==="s")u=_(E);else if(O==="m")u=60*_(E);else if(O==="h")u=3600*_(E);else if(y>1){var p=y-1;y===4&&(A&&(u=_(P[p])/A),p-=1),u+=_(P[p]),u+=60*_(P[p-1]),y>=3&&(u+=3600*_(P[p-2]))}else u=_(E);return Object(v.u)(u)?u:0},c=function(w,A,E){if(Object(v.s)(w)&&w.slice(-1)==="%"){var O=_(w);return A&&Object(v.u)(A)&&Object(v.u)(O)?A*O/100:null}return r(w,E)},d=function(w,A){return w.map(function(E){return A+E})},h=function(w,A){return w.map(function(E){return E+A})},f=function(w){return!!w&&Object(v.s)(w)&&w.slice(-1)==="%"};e.d(t,"i",function(){return n}),e.d(t,"e",function(){return o}),e.d(t,"j",function(){return l}),e.d(t,"a",function(){return a}),e.d(t,"b",function(){return s}),e.d(t,"g",function(){return r}),e.d(t,"d",function(){return c}),e.d(t,"f",function(){return d}),e.d(t,"h",function(){return h}),e.d(t,"c",function(){return f});var v=e(0),_=window.parseFloat},function(m,t,e){"use strict";e.d(t,"jb",function(){return n}),e.d(t,"mb",function(){return o}),e.d(t,"kb",function(){return l}),e.d(t,"ob",function(){return a}),e.d(t,"pb",function(){return s}),e.d(t,"lb",function(){return r}),e.d(t,"nb",function(){return c}),e.d(t,"qb",function(){return d}),e.d(t,"s",function(){return h}),e.d(t,"u",function(){return f}),e.d(t,"t",function(){return v}),e.d(t,"o",function(){return _}),e.d(t,"r",function(){return b}),e.d(t,"Z",function(){return w}),e.d(t,"W",function(){return A}),e.d(t,"v",function(){return E}),e.d(t,"Y",function(){return O}),e.d(t,"w",function(){return P}),e.d(t,"ub",function(){return y}),e.d(t,"a",function(){return u}),e.d(t,"b",function(){return p}),e.d(t,"c",function(){return g}),e.d(t,"d",function(){return k}),e.d(t,"e",function(){return x}),e.d(t,"f",function(){return j}),e.d(t,"i",function(){return L}),e.d(t,"F",function(){return D}),e.d(t,"gb",function(){return F}),e.d(t,"Q",function(){return X}),e.d(t,"C",function(){return Q}),e.d(t,"B",function(){return H}),e.d(t,"E",function(){return ce}),e.d(t,"q",function(){return ne}),e.d(t,"cb",function(){return V}),e.d(t,"n",function(){return Y}),e.d(t,"G",function(){return oe}),e.d(t,"H",function(){return q}),e.d(t,"N",function(){return G}),e.d(t,"O",function(){return J}),e.d(t,"R",function(){return ae}),e.d(t,"ib",function(){return ie}),e.d(t,"bb",function(){return Oe}),e.d(t,"D",function(){return De}),e.d(t,"S",function(){return ke}),e.d(t,"P",function(){return tt}),e.d(t,"T",function(){return Ve}),e.d(t,"V",function(){return Qe}),e.d(t,"M",function(){return ht}),e.d(t,"L",function(){return bt}),e.d(t,"K",function(){return vt}),e.d(t,"I",function(){return Le}),e.d(t,"J",function(){return _e}),e.d(t,"U",function(){return Ne}),e.d(t,"p",function(){return Ze}),e.d(t,"y",function(){return Ke}),e.d(t,"hb",function(){return Pe}),e.d(t,"db",function(){return at}),e.d(t,"eb",function(){return pt}),e.d(t,"g",function(){return lt}),e.d(t,"h",function(){return ct}),e.d(t,"rb",function(){return Ge}),e.d(t,"sb",function(){return ze}),e.d(t,"ab",function(){return He}),e.d(t,"A",function(){return rt}),e.d(t,"m",function(){return it}),e.d(t,"l",function(){return wt}),e.d(t,"fb",function(){return _t}),e.d(t,"tb",function(){return xt}),e.d(t,"z",function(){return ut}),e.d(t,"k",function(){return we}),e.d(t,"X",function(){return N}),e.d(t,"j",function(){return qe}),e.d(t,"x",function(){return Ie});var n="buffering",o="idle",l="complete",a="paused",s="playing",r="error",c="loading",d="stalled",h="drag",f="dragStart",v="dragEnd",_="click",b="doubleClick",w="over",A="move",E="enter",O="out",P=r,y="warning",u="adClick",p="mediaLoaded",g="adPause",k="adPlay",x="adSkipped",j="adTime",L="autostartNotAllowed",D=l,F="ready",X="seek",Q="beforePlay",H="beforeComplete",ce="bufferFull",ne="displayClick",V="playlistComplete",Y="cast",oe="mediaError",q="firstFrame",G="playAttempt",J="playAttemptFailed",ae="seeked",ie="setupError",Oe="state",De="bufferChange",ke="time",tt="ratechange",Ve="mediaType",Qe="volume",ht="mute",bt="metadataCueParsed",vt="meta",Le="levels",_e="levelsChanged",Ne="visualQuality",Ze="controls",Ke="fullscreen",Pe="resize",at="playlistItem",pt="playlist",lt="audioTracks",ct="audioTrackChanged",Ge="subtitlesTracks",ze="subtitlesTrackChanged",He="playbackRateChanged",rt="logoClick",it="captionsList",wt="captionsChanged",_t="providerFirstFrame",xt="userAction",ut="instreamClick",we="breakpoint",N="fullscreenchange",qe="bandwidthEstimate",Ie="float"},function(m,t,e){"use strict";var n=function(c){var d="";return c&&(c.localName?d=c.localName:c.baseName&&(d=c.baseName)),d},o=function(c){var d="";return c&&(c.textContent?d=Object(s.i)(c.textContent):c.text&&(d=Object(s.i)(c.text))),d},l=function(c,d){return c.childNodes[d]},a=function(c){return c.childNodes?c.childNodes.length:0};e.d(t,"b",function(){return n}),e.d(t,"d",function(){return o}),e.d(t,"a",function(){return l}),e.d(t,"c",function(){return a});var s=e(2)},function(m,t,e){"use strict";var n=function(k){return navigator.userAgent.match(k)!==null},o=function(){return!(n(/chrome\/[123456789]/i)&&!n(/chrome\/18/i)&&!s())&&P()},l=function(){try{return window.self!==window.top}catch(k){return!0}};e.d(t,"f",function(){return s}),e.d(t,"l",function(){return r}),e.d(t,"k",function(){return c}),e.d(t,"p",function(){return d}),e.d(t,"g",function(){return h}),e.d(t,"e",function(){return f}),e.d(t,"n",function(){return v}),e.d(t,"r",function(){return _}),e.d(t,"s",function(){return b}),e.d(t,"d",function(){return w}),e.d(t,"i",function(){return A}),e.d(t,"q",function(){return E}),e.d(t,"j",function(){return O}),e.d(t,"c",function(){return o}),e.d(t,"b",function(){return P}),e.d(t,"o",function(){return y}),e.d(t,"m",function(){return l}),e.d(t,"h",function(){return u}),e.d(t,"a",function(){return p});var a=function(){return navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1},s=function(){return n(/gecko\//i)},r=function(){return n(/iP(hone|od)/i)},c=function(){return n(/iPad/i)||a()},d=function(){return n(/Macintosh/i)&&!a()},h=function(){return n(/FBAV/i)},f=function(){return n(/\sEdge?\/\d+/i)},v=function(){return n(/msie/i)},_=function(){return n(/SMART-TV/)},b=function(){return _()&&!n(/SamsungBrowser/)},w=function(){return n(/\s(?:(?:Headless)?Chrome|CriOS)\//i)&&!f()&&!n(/UCBrowser/i)&&!_()},A=function(){return!n(/\sEdg\/\d+/i)&&(f()||n(/trident\/.+rv:\s*11/i)||v())},E=function(){return n(/safari/i)&&!n(/(?:Chrome|CriOS|chromium|android|phantom)/i)||_()},O=function(){return n(/iP(hone|ad|od)/i)||a()},P=function(){return n(/Android/i)&&!n(/Windows Phone/i)},y=function(){return O()||P()||n(/Windows Phone/i)},u=function(){return!1},p=function(){return 0}},function(m,t,e){"use strict";var n=function(V,Y){return V.classList.contains(Y)},o=function(V){return a(V).firstChild},l=function(V,Y){E(V),function(oe,q){if(q){for(var G=document.createDocumentFragment(),J=a(q).childNodes,ae=0;ae<J.length;ae++)G.appendChild(J[ae].cloneNode(!0));oe.appendChild(G)}}(V,Y)},a=function(V){var Y=function(G){if(L||(L=new Q,H=function(){try{if(L.parseFromString("","text/html"))return!0}catch(ae){}return!1}()),H)return L.parseFromString(G,"text/html").body;var J=document.implementation.createHTMLDocument("");return G.toLowerCase().indexOf("<!doctype")>-1?J.documentElement.innerHTML=G:J.body.innerHTML=G,J.body}(V);s(Y);for(var oe=Y.querySelectorAll("*"),q=oe.length;q--;)r(oe[q]);return Y},s=function(V){for(var Y=V.querySelectorAll("script,object,iframe,meta"),oe=Y.length;oe--;){var q=Y[oe];q.parentNode.removeChild(q)}return V},r=function(V){for(var Y=V.attributes,oe=Y.length;oe--;){var q=Y[oe].name;if(/^on/.test(q)&&V.removeAttribute(q),/href/.test(q)){var G=Y[oe].value;/javascript:|javascript&colon;/.test(G)||!ce.test(G)?V.removeAttribute(q):console.warn("Invalid or unsafe URL")}}return V},c=function(V){return V+(V.toString().indexOf("%")>0?"":"px")},d=function(V){return Object(D.s)(V.className)?V.className.split(" "):[]},h=function(V,Y){Y=Object(F.i)(Y),V.className!==Y&&(V.className=Y)},f=function(V){return V.classList?V.classList:d(V)},v=function(V,Y){var oe=d(V);(Array.isArray(Y)?Y:Y.split(" ")).forEach(function(q){Object(D.b)(oe,q)||oe.push(q)}),h(V,oe.join(" "))},_=function(V,Y){var oe=d(V),q=Array.isArray(Y)?Y:Y.split(" ");h(V,Object(D.e)(oe,q).join(" "))},b=function(V,Y,oe){var q=V.className||"";Y.test(q)?q=q.replace(Y,oe):oe&&(q+=" "+oe),h(V,q)},w=function(V,Y,oe){var q=n(V,Y);(oe=Object(D.n)(oe)?oe:!q)!==q&&(oe?v(V,Y):_(V,Y))},A=function(V,Y,oe){V.setAttribute(Y,oe)},E=function(V){for(;V.firstChild;)V.removeChild(V.firstChild)},O=function(V){var Y=document.createElement("link");Y.rel="stylesheet",Y.href=V,document.getElementsByTagName("head")[0].appendChild(Y)},P=function(V){V&&E(V)},y=function(V){var Y={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!V||!document.body.contains(V))return Y;var oe=V.getBoundingClientRect(),q=window.pageYOffset,G=window.pageXOffset;return(oe.width||oe.height||oe.left||oe.top)&&(Y.left=oe.left+G,Y.right=oe.right+G,Y.top=oe.top+q,Y.bottom=oe.bottom+q,Y.width=oe.right-oe.left,Y.height=oe.bottom-oe.top),Y},u=function(V,Y){V.insertBefore(Y,V.firstChild)},p=function(V){return V.nextElementSibling},g=function(V){return V.previousElementSibling},k=function(V,Y,oe){if(oe===void 0&&(oe={}),ce.test(V)){var q=document.createElement("a");q.href=V,q.target=Y,q=r(Object(D.g)(q,oe)),X.Browser.firefox?q.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})):q.click()}},x=function(){var V=window.screen.orientation;return!!V&&(V.type==="landscape-primary"||V.type==="landscape-secondary")||window.orientation===90||window.orientation===-90},j=function(V){return function(Y){var oe=document.createElement("textarea");return oe.innerHTML=Y,oe.value}(V).replace(/&|<|>|"|''/gm,function(Y){return"&#"+Y.charCodeAt(0)+";"}).replace(/&#60;(\/?)(b|strong|i|em|p|br|ul|ol|li|h.)&#62;/gim,"<$1$2>")};e.d(t,"j",function(){return n}),e.d(t,"f",function(){return o}),e.d(t,"r",function(){return l}),e.d(t,"k",function(){return a}),e.d(t,"t",function(){return s}),e.d(t,"s",function(){return r}),e.d(t,"v",function(){return c}),e.d(t,"e",function(){return f}),e.d(t,"b",function(){return v}),e.d(t,"p",function(){return _}),e.d(t,"q",function(){return b}),e.d(t,"w",function(){return w}),e.d(t,"u",function(){return A}),e.d(t,"i",function(){return E}),e.d(t,"c",function(){return O}),e.d(t,"h",function(){return P}),e.d(t,"d",function(){return y}),e.d(t,"n",function(){return u}),e.d(t,"l",function(){return p}),e.d(t,"o",function(){return g}),e.d(t,"m",function(){return k}),e.d(t,"g",function(){return x}),e.d(t,"a",function(){return j});var L,D=e(0),F=e(2),X=e(7),Q=window.DOMParser,H=!0,ce=new RegExp(/^((((https?):\/\/)|(mailto:))(%[0-9A-Fa-f]{2}|[-()_.!~*';/?:@&=+$,A-Za-z0-9])+)([).!';/?:,][[:blank:|:blank:]])?$/)},function(m,t,e){"use strict";var n=function(h,f){var v=h.exec(f);if(v&&v.length>1)return v[1]};e.r(t);var o=e(5);e.d(t,"Browser",function(){return s}),e.d(t,"OS",function(){return r}),e.d(t,"Features",function(){return c});var l=navigator.userAgent,a=function(){},s={get androidNative(){return Object(o.c)()},get chrome(){return Object(o.d)()},get edge(){return Object(o.e)()},get facebook(){return Object(o.g)()},get firefox(){return Object(o.f)()},get ie(){return Object(o.i)()},get msie(){return Object(o.n)()},get safari(){return Object(o.q)()},get version(){return function(d,h){var f,v,_,b;if(d.chrome)f=h.indexOf("Chrome")!==-1?h.substring(h.indexOf("Chrome")+7):h.substring(h.indexOf("CriOS")+6);else if(d.safari)f=h.substring(h.indexOf("Version")+8);else if(d.firefox)f=h.substring(h.indexOf("Firefox")+8);else if(d.edge){var w=h.indexOf("Edge");w===-1?w=h.indexOf("Edg")+4:w+=5,f=h.substring(w)}else d.ie&&(h.indexOf("rv:")!==-1?f=h.substring(h.indexOf("rv:")+3):h.indexOf("MSIE")!==-1&&(f=h.substring(h.indexOf("MSIE")+5)));return f&&((b=f.indexOf(";"))!==-1&&(f=f.substring(0,b)),(b=f.indexOf(" "))!==-1&&(f=f.substring(0,b)),(b=f.indexOf(")"))!==-1&&(f=f.substring(0,b)),v=parseInt(f,10),_=parseInt(f.split(".")[1],10)),{version:f,major:v,minor:_}}(this,l)}},r={get android(){return Object(o.b)()},get iOS(){return Object(o.j)()},get mobile(){return Object(o.o)()},get mac(){return Object(o.p)()},get iPad(){return Object(o.k)()},get iPhone(){return Object(o.l)()},get windows(){return l.indexOf("Windows")>-1},get tizen(){return Object(o.r)()},get tizenApp(){return Object(o.s)()},get version(){return function(d,h){var f,v,_;if(d.windows)switch(f=n(/Windows(?: NT|)? ([._\d]+)/,h)){case"6.1":f="7.0";break;case"6.2":f="8.0";break;case"6.3":f="8.1"}else d.android?f=n(/Android ([._\d]+)/,h):d.iOS?f=n(/OS ([._\d]+)/,h):d.mac?f=n(/Mac OS X ([._\d]+)/,h):d.tizen&&(f=n(/Tizen ([._\d]+)/,h));if(f){v=parseInt(f,10);var b=f.split(/[._]/);b&&(_=parseInt(b[1],10))}return{version:f,major:v,minor:_}}(this,l)}},c={get flash(){return Object(o.h)()},get flashVersion(){return Object(o.a)()},get iframe(){return Object(o.m)()},get passiveEvents(){return function(){var d=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return d=!0}});window.addEventListener("testPassive",a,h),window.removeEventListener("testPassive",a,h)}catch(f){}return d}()},get backgroundLoading(){return!(r.iOS||s.safari||r.tizen)}}},function(m,t,e){"use strict";var n=function(v,_,b,w){if(!b)return!0;if(typeof b=="object"){for(var A in b)Object.prototype.hasOwnProperty.call(b,A)&&v[_].apply(v,[A,b[A]].concat(w));return!1}if(h.test(b)){for(var E=b.split(h),O=0,P=E.length;O<P;O++)v[_].apply(v,[E[O]].concat(w));return!1}return!0},o=function(v,_,b,w){for(var A=-1,E=v.length;++A<E;){var O=v[A];if(w)try{O.callback.apply(O.context||b,_)}catch(P){console.log('Error in "'+w+'" event handler:',P)}else O.callback.apply(O.context||b,_)}};e.d(t,"a",function(){return l}),e.d(t,"c",function(){return a}),e.d(t,"d",function(){return s}),e.d(t,"b",function(){return r}),e.d(t,"e",function(){return c}),e.d(t,"f",function(){return d});var l=function(){var f=function(){},v=f.prototype;return v.on=function(_,b,w){if(!n(this,"on",_,[b,w])||!b)return this;var A=this._events||(this._events={});return(A[_]||(A[_]=[])).push({callback:b,context:w}),this},v.once=function(_,b,w){if(!n(this,"once",_,[b,w])||!b)return this;var A=0,E=this,O=function P(){A++||(E.off(_,P),b.apply(this,arguments))};return O._callback=b,this.on(_,O,w)},v.off=function(_,b,w){if(!this._events||!n(this,"off",_,[b,w]))return this;if(!_&&!b&&!w)return delete this._events,this;for(var A=_?[_]:Object.keys(this._events),E=0,O=A.length;E<O;E++){_=A[E];var P=this._events[_];if(P){var y=this._events[_]=[];if(b||w)for(var u=0,p=P.length;u<p;u++){var g=P[u];(b&&b!==g.callback&&b!==g.callback._callback||w&&w!==g.context)&&y.push(g)}y.length||delete this._events[_]}}return this},v.trigger=function(_){for(var b=arguments.length,w=new Array(b>1?b-1:0),A=1;A<b;A++)w[A-1]=arguments[A];if(!this._events)return this;if(!n(this,"trigger",_,w))return this;var E=this._events[_],O=this._events.all;return E&&o(E,w,this),O&&o(O,arguments,this),this},v.triggerSafe=function(_){for(var b=arguments.length,w=new Array(b>1?b-1:0),A=1;A<b;A++)w[A-1]=arguments[A];if(!this._events)return this;if(!n(this,"trigger",_,w))return this;var E=this._events[_],O=this._events.all;return E&&o(E,w,this,_),O&&o(O,arguments,this,_),this},f}(),a=l.prototype.on,s=l.prototype.once,r=l.prototype.off,c=l.prototype.trigger,d=l.prototype.triggerSafe;l.on=a,l.once=s,l.off=r,l.trigger=c;var h=/\s+/},function(m,t,e){"use strict";var n=function(c,d){return function(){throw new a.o(a.k,c,d)}},o=function(c,d){return function(){throw new a.o(null,c,d)}},l=function(){return e.e(3).then(function(c){return e(54).default}.bind(null,e)).catch(n(a.q+101))};e.d(t,"a",function(){return s}),e.d(t,"b",function(){return n}),e.d(t,"c",function(){return o}),e.d(t,"d",function(){return l});var a=e(1),s={}},function(m,t,e){"use strict";var n=function(f){switch(typeof f=="undefined"?"undefined":_typeof(f)){case"string":return f.length>0;case"object":return f!==null;case"undefined":return!1;default:return!0}},o=function(){return c==="https:"},l=function(){return c==="file:"},a=function(f,v){return f.indexOf("rtmp:")===0||v==="rtmp"},s=function(f,v){return v==="youtube"||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(f)},r=function(f){if(f===null)return"null";var v=typeof f=="undefined"?"undefined":_typeof(f);return v==="object"&&Array.isArray(f)?"array":v};e.r(t),e.d(t,"exists",function(){return n}),e.d(t,"isHTTPS",function(){return o}),e.d(t,"isFileProtocol",function(){return l}),e.d(t,"isRtmp",function(){return a}),e.d(t,"isYouTube",function(){return s}),e.d(t,"typeOf",function(){return r}),e.d(t,"isDeepKeyCompliant",function(){return d});var c=window.location.protocol;function d(h,f,v){var _=Object.keys(h);return Object.keys(f).length>=_.length&&_.every(function(b){var w=h[b],A=f[b];return w&&typeof w=="object"?!(!A||typeof A!="object")&&d(w,A,v):v(b,h)})}},function(m,t,e){"use strict";var n=function(b,w,A,E){A=A||"all-players";var O="";if(typeof w=="object"){var P=document.createElement("div");o(P,w);var y=P.style.cssText;Object.prototype.hasOwnProperty.call(w,"content")&&y&&(y=y+' content: "'+w.content+'";'),E&&y&&(y=y.replace(/;/g," !important;")),O="{"+y+"}"}else typeof w=="string"&&(O=w);O!==""&&O!=="{}"?f.a.style([[b,b+O]],A):f.a.clear(A,b)},o=function(b,w){if(b!=null){var A;b.length===void 0&&(b=[b]);var E={};for(A in w)Object.prototype.hasOwnProperty.call(w,A)&&(E[A]=a(A,w[A]));for(var O=0;O<b.length;O++){var P=b[O],y=void 0;if(P!=null)for(A in E)Object.prototype.hasOwnProperty.call(E,A)&&(y=l(A),P.style[y]!==E[A]&&(P.style[y]=E[A]))}}},l=function(b){b=b.split("-");for(var w=1;w<b.length;w++)b[w]=b[w].charAt(0).toUpperCase()+b[w].slice(1);return b.join("")},a=function(b,w){return w===""||w==null?"":typeof w=="string"&&isNaN(w)?/png|gif|jpe?g/i.test(w)&&w.indexOf("url")<0?"url("+w+")":w:w===0||b==="z-index"||b==="opacity"?""+w:/color/i.test(b)?"#"+Object(d.e)(w.toString(16).replace(/^0x/i,""),6):Math.ceil(w)+"px"},s=function(b,w){o(b,{transform:w})},r=function(b,w){var A="rgb",E=w!==void 0&&w!==100;if(E&&(A+="a"),!c){var O=document.createElement("canvas");O.height=1,O.width=1,c=O.getContext("2d")}b?isNaN(parseInt(b,16))||(b="#"+b):b="#000000",c.clearRect(0,0,1,1),c.fillStyle=b,c.fillRect(0,0,1,1);var P=c.getImageData(0,0,1,1).data;return A+="("+P[0]+", "+P[1]+", "+P[2],E&&(A+=", "+w/100),A+")"};e.d(t,"a",function(){return v}),e.d(t,"b",function(){return n}),e.d(t,"d",function(){return o}),e.d(t,"e",function(){return s}),e.d(t,"c",function(){return r});var c,d=e(2),h=e(31),f=e.n(h),v=f.a.clear},function(m,t,e){"use strict";var n=function(f,v){if(v&&Object(c.exists)(v)||(v=document.location.href),!Object(c.exists)(f))return"";if(o(f))return f;var _,b=v.substring(0,v.indexOf("://")+3),w=v.substring(b.length,v.indexOf("/",b.length+1));if(f.indexOf("/")===0)_=f.split("/");else{var A=v.split("?")[0];_=(A=A.substring(b.length+w.length+1,A.lastIndexOf("/"))).split("/").concat(f.split("/"))}for(var E=[],O=0;O<_.length;O++)_[O]&&Object(c.exists)(_[O])&&_[O]!=="."&&(_[O]===".."?E.pop():E.push(_[O]));return b+w+"/"+E.join("/")},o=function(f){return/^(?:(?:https?|file):)?\/\//.test(f)},l=function(f){var v=null;try{(v=new window.DOMParser().parseFromString(f,"text/xml")).querySelector("parsererror")&&(v=null)}catch(_){}return v},a=function(f){if(f===void 0)return null;if(typeof f=="string"&&f.length<6){var v=f.toLowerCase();if(v==="true")return!0;if(v==="false")return!1;if(!Object(d.q)(Number(f))&&!Object(d.q)(parseFloat(f)))return Number(f)}return f},s=function(f){return Object(d.u)(f)?f:f===""?0:f.lastIndexOf("%")>-1?f:parseInt(f.replace("px",""),10)},r=function(f,v){if(Object(d.q)(f)&&(f=parseInt(f.toString())),Object(d.q)(f)||!isFinite(f)||f<=0&&!v)return"00:00";var _=f<0?"-":"";f=Math.abs(f);var b=Math.floor(f/3600),w=Math.floor((f-3600*b)/60),A=Math.floor(f%60);return _+(b?b+":":"")+(w<10?"0":"")+w+":"+(A<10?"0":"")+A};e.r(t),e.d(t,"getAbsolutePath",function(){return n}),e.d(t,"isAbsolutePath",function(){return o}),e.d(t,"parseXML",function(){return l}),e.d(t,"serialize",function(){return a}),e.d(t,"parseDimension",function(){return s}),e.d(t,"timeFormat",function(){return r});var c=e(10),d=e(0)},function(m,t,e){"use strict";var n=function(k){var x=o(k),j=x.indexOf("_");return j===-1?x:x.substring(0,j)},o=function(k){return k.toLowerCase().replace("-","_")},l=function(k){return k?Object.keys(k).reduce(function(x,j){return x[o(j)]=k[j],x},{}):{}},a=function(k){var x=k.querySelector("html");return x?x.getAttribute("lang"):null},s=function(){var k=a(document);if(!k&&Object(A.m)())try{k=a(window.top.document)}catch(x){}return k||navigator.language||"en"},r=function(k){return k.charCodeAt(0)===8207||/^[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(k)},c=function(k){return p.indexOf(n(k))>=0},d=function(k,x,j){return Object(w.g)({},function(L){var D=L.advertising,F=L.related,X=L.sharing,Q=L.abouttext,H=Object(w.g)({},L.localization);D&&(H.advertising=H.advertising||{},h(H.advertising,D,"admessage"),h(H.advertising,D,"cuetext"),h(H.advertising,D,"loadingAd"),h(H.advertising,D,"podmessage"),h(H.advertising,D,"skipmessage"),h(H.advertising,D,"skiptext")),typeof H.related=="string"?H.related={heading:H.related}:H.related=H.related||{},F&&h(H.related,F,"autoplaymessage"),X&&(H.sharing=H.sharing||{},h(H.sharing,X,"heading"),h(H.sharing,X,"copied")),Q&&h(H,L,"abouttext");var ce=H.close||H.nextUpClose;return ce&&(H.close=ce),H}(k),x[n(j)],x[o(j)])},h=function(k,x,j){var L=k[j]||x[j];L&&(k[j]=L)},f=function(k){return Object(O.isDeepKeyCompliant)(P.a,k,function(x,j){return typeof j[x]=="string"})},v=function(k,x){var j,L=y[x];if(!L){var D=k+"translations/"+(j=n(x),(/^n[bn]$/.test(j)?"no":j)+".json");y[x]=L=new Promise(function(F,X){Object(E.a)({url:D,oncomplete:F,onerror:function(H,ce,ne,V){y[x]=null,X(V)},responseType:"json"})})}return L},_=function(k,x){var j=Object(w.g)({},k,x);return b(j,"errors",k,x),b(j,"related",k,x),b(j,"sharing",k,x),b(j,"advertising",k,x),b(j,"shortcuts",k,x),b(j,"captionsStyles",k,x),j},b=function(k,x,j,L){k[x]=Object(w.g)({},j[x],L[x])};e.d(t,"h",function(){return l}),e.d(t,"c",function(){return s}),e.d(t,"e",function(){return r}),e.d(t,"f",function(){return c}),e.d(t,"b",function(){return d}),e.d(t,"d",function(){return f}),e.d(t,"g",function(){return v}),e.d(t,"a",function(){return _});var w=e(0),A=e(5),E=e(21),O=e(10),P=e(30),y={},u={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish",el:"Greek",fi:"Finnish",id:"Indonesian",ko:"Korean",th:"Thai",vi:"Vietnamese"};Object(w.m)(u);var p=["ar","da","de","el","es","fi","fr","he","id","it","ja","ko","nb","nl","nn","no","oc","pt","ro","ru","sl","sv","th","tr","vi","zh"]},function(m,t,e){"use strict";t.a=[]},function(m,t,e){"use strict";var n=e(49),o=e(10),l=document.createElement("video");e.d(t,"a",function(){return s});var a={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},s=[{name:"html5",supports:function(c){if(!l||!l.canPlayType||Object(n.a)(c)===!1)return!1;var d=c.file,h=c.type;if(Object(o.isRtmp)(d,h))return!1;var f=c.mimeType||a[h];if(!f)return!1;var v=c.mediaTypes;return v&&v.length&&(f=[f].concat(v.slice()).join("; ")),!!l.canPlayType(f)}}]},function(m,t,e){"use strict";e.d(t,"a",function(){return n});var n=Date.now||function(){return new Date().getTime()}},function(m,t,e){"use strict";t.a={debug:!1}},function(m,t,e){"use strict";var n=function(P,y){return v[P]?P:v[y]?y:"metadata"},o=function(P,y,u){var p=Object(f.g)({},u);return delete p.playlist,P.map(function(g){return a(y,g,p)}).filter(function(g){return!!g})},l=function(P){if(!Array.isArray(P)||P.length===0)throw new A.o(A.l,630)},a=function(P,y,u){var p=P.getProviders(),g=P.get("preload"),k=Object(f.g)({},y);if(k.preload=n(y.preload,g),k.allSources=r(k,P),k.sources=c(k.allSources,p),k.sources.length)return k.file=k.sources[0].file,k.feedData=u,function(x){var j=x.sources[0].liveSyncDuration;return j&&(x.liveSyncDuration=x.dvrSeekLimit=j),x}(k)},s=function(P,y){var u=(parseInt(P,10)||0)%y;return u<0&&(u+=y),u},r=function(P,y){var u=y.attributes,p=P.sources,g=P.allSources,k=P.preload,x=P.drm,j=d(P.withCredentials,u.withCredentials);return(g||p).map(function(L){if(L!==Object(L))return null;h(L,u,"androidhls"),h(L,u,"hlsjsdefault"),h(L,u,"safarihlsjs"),function(X,Q,H){if(!X.liveSyncDuration){var ce=Q.liveSyncDuration?Q:H;h(X,ce,"liveSyncDuration")}}(L,P,u),h(L,u,"_hlsjsProgressive"),L.preload=n(L.preload,k);var D=L.drm||x||u.drm;D&&(L.drm=D);var F=d(L.withCredentials,j);return F!==void 0&&(L.withCredentials=F),Object(b.a)(L)}).filter(function(L){return!!L})},c=function(P,y){y&&y.choose||(y=new w.a);var u=function(k,x){for(var j=0;j<k.length;j++){var L=k[j],D=x.choose(L).providerToCheck;if(D)return{type:L.type,provider:D}}return null}(P,y);if(!u)return[];var p=u.provider,g=u.type;return P.filter(function(k){return k.type===g&&y.providerSupports(p,k)})},d=function(P,y){return P===void 0?y:P},h=function(P,y,u){u in y&&(P[u]=y[u])},f=e(0),v={none:!0,metadata:!0,auto:!0},_=e(24),b=e(27),w=e(32),A=e(1);e.d(t,"b",function(){return o}),e.d(t,"e",function(){return l}),e.d(t,"d",function(){return a}),e.d(t,"f",function(){return s}),e.d(t,"c",function(){return E});var E=function(P,y){return c(r(P,y),y.getProviders())};t.a=function(O){return(Array.isArray(O)?O:[O]).map(_.a)}},function(m,t,e){"use strict";e.r(t),e.d(t,"getScriptPath",function(){return o}),e.d(t,"repo",function(){return l}),e.d(t,"versionCheck",function(){return a}),e.d(t,"loadFrom",function(){return s});var n=e(22),o=(e(10),function(c){for(var d=document.getElementsByTagName("script"),h=0;h<d.length;h++){var f=d[h].src;if(f){var v=f.lastIndexOf("/"+c);if(v>=0)return f.substr(0,v+1)}}return""}),l=function(){return o("jwplayer.js")},a=function(c){var d=("0"+c).split(/\W/),h=n.a.split(/\W/),f=parseFloat(d[0]),v=parseFloat(h[0]);return!(f>v)&&!(f===v&&parseFloat("0"+d[1])>parseFloat(h[1]))},s=function(){return o("jwplayer.js")}},function(m,t,e){"use strict";var n=function(c){var d=c.getName().name;if(!o.a[d]){if(!Object(s.i)(l.a,Object(s.w)({name:d}))){if(!Object(s.p)(c.supports))throw new Error("Tried to register a provider with an invalid object");l.a.unshift({name:d,supports:c.supports})}Object(s.d)(c.prototype,a.a),o.a[d]=c}};e.d(t,"a",function(){return n});var o=e(26),l=e(15),a=e(50),s=e(0);e(8)},function(m,t,e){"use strict";var n=function(v){v.onload=null,v.onprogress=null,v.onreadystatechange=null,v.onerror=null,"abort"in v&&v.abort()},o=function(v,_,b,w){v.onerror(_,v.url,v.xhr,new c.o(_,b,w))},l=function(v,_,b){var w=_.documentElement;if(!b.requireValidXML||w.nodeName!=="parsererror"&&!w.getElementsByTagName("parsererror").length)return v.responseXML||(v=Object(a.g)({},v,{responseXML:_})),b.oncomplete(v);o(b,c.l,601)};e.d(t,"a",function(){return h});var a=e(0),s=e(12),r=e(10),c=e(1),d=function(){};function h(f,v,_,b){var w;f===Object(f)&&(f=(b=f).url);var A=Object(a.g)({xhr:null,url:f,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:v||d,onerror:_||d,mimeType:b&&!b.responseType?"text/xml":"",requireValidXML:!1,responseType:b&&b.plainText?"text":"",useDomParser:!1,requestFilter:null},b),E=function(P,y){return function(u,p){var g=u.currentTarget||y.xhr;if(clearTimeout(y.timeoutId),y.retryWithoutCredentials&&y.xhr.withCredentials)return n(g),void h(Object(a.g)({},y,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1}));!p&&g.status>=400&&g.status<600&&(p=g.status),o(y,p?c.l:c.n,p||6,u)}}(0,A);if("XMLHttpRequest"in window){if(w=A.xhr=A.xhr||new window.XMLHttpRequest,typeof A.requestFilter=="function"){var O;try{O=A.requestFilter({url:f,xhr:w})}catch(P){return E(P,5),w}O&&"open"in O&&"send"in O&&(w=A.xhr=O)}w.onreadystatechange=function(P){return function(y){var u=y.currentTarget||P.xhr;if(u.readyState===4){clearTimeout(P.timeoutId);var p=u.status;if(p>=400)return void o(P,c.l,p<600?p:6);if(p===200)return function(g){return function(k){var x=k.currentTarget||g.xhr;if(clearTimeout(g.timeoutId),g.responseType){if(g.responseType==="json")return function(D,F){if(!D.response||typeof D.response=="string"&&D.responseText.substr(1)!=='"')try{D=Object(a.g)({},D,{response:JSON.parse(D.responseText)})}catch(X){return void o(F,c.l,611,X)}return F.oncomplete(D)}(x,g)}else{var j,L=x.responseXML;if(L)try{j=L.firstChild}catch(D){}if(L&&j||g.useDomParser&&x.responseText&&!L&&(L=Object(s.parseXML)(x.responseText))&&L.firstChild)return l(x,L,g);if(g.requireValidXML)return void o(g,c.l,602)}g.oncomplete(x)}}(P)(y);p===0&&Object(r.isFileProtocol)()&&!/^[a-z][a-z0-9+.-]*:/.test(P.url)&&o(P,c.l,7)}}}(A),w.onerror=E,"overrideMimeType"in w?A.mimeType&&w.overrideMimeType(A.mimeType):A.useDomParser=!0;try{f=f.replace(/#.*$/,""),w.open("GET",f,!0)}catch(P){return E(P,3),w}if(A.responseType)try{w.responseType=A.responseType}catch(P){}A.timeout&&(A.timeoutId=setTimeout(function(){n(w),o(A,c.n,1)},A.timeout),w.onabort=function(){clearTimeout(A.timeoutId)});try{A.withCredentials&&"withCredentials"in w&&(w.withCredentials=!0),w.send()}catch(P){E(P,4)}return w}o(A,c.n,2)}},function(m,t,e){"use strict";e.d(t,"a",function(){return n});var n="8.22.0+local.2021-09-01-23-05-40-496"},function(m,t,e){"use strict";var n=function(){return s+a.now()},o=e(0),l=e(16),a=window.performance||{timing:{}},s=a.timing.navigationStart||Object(l.a)();"now"in a||(a.now=function(){return Object(l.a)()-s});var r=function(){var c=function(){this.startTimes={},this.sum={},this.counts={},this.ticks={}},d=c.prototype;return d.start=function(h){this.startTimes[h]=n(),this.counts[h]=this.counts[h]+1||1},d.end=function(h){if(this.startTimes[h]){var f=n()-this.startTimes[h];delete this.startTimes[h],this.sum[h]=this.sum[h]+f||f}},d.dump=function(){var h=Object(o.g)({},this.sum);for(var f in this.startTimes)if(Object.prototype.hasOwnProperty.call(this.startTimes,f)){var v=n()-this.startTimes[f];h[f]=h[f]+v||v}return{counts:Object(o.g)({},this.counts),sums:h,events:Object(o.g)({},this.ticks)}},d.tick=function(h){this.ticks[h]=n()},d.clear=function(h){delete this.ticks[h]},d.between=function(h,f){return this.ticks[f]&&this.ticks[h]?this.ticks[f]-this.ticks[h]:null},c}();t.a=r},function(m,t,e){"use strict";var n=e(0),o=e(27),l=["captions","metadata","thumbnails","chapters"],a=function(d){if(d&&d.file){var h,f=Object(n.g)({},{kind:"captions",default:!1},d);return f.kind=(h=f.kind,l.indexOf(h)!==-1?f.kind:"captions"),f.default=!!f.default,f}},s=e(28),r=Array.isArray;t.a=function(c){r((c=c||{}).tracks)||delete c.tracks;var d=Object(n.g)({},{sources:[],tracks:[],minDvrWindow:s.b},c);d.sources!==Object(d.sources)||r(d.sources)||(d.sources=[Object(o.a)(d.sources)]),r(d.sources)&&d.sources.length!==0||(c.levels?d.sources=c.levels:d.sources=[Object(o.a)(c)]);for(var h=0;h<d.sources.length;h++){var f=d.sources[h];if(f){var v=f.default;f.default=!!v&&v.toString()==="true",d.sources[h].label||(d.sources[h].label=h.toString()),d.sources[h]=Object(o.a)(d.sources[h])}}return d.sources=d.sources.filter(function(_){return!!_}),r(d.tracks)||(d.tracks=[]),r(d.captions)&&(d.tracks=d.tracks.concat(d.captions),delete d.captions),d.tracks=d.tracks.map(a).filter(function(_){return!!_}),d}},function(m,t,e){"use strict";var n=function(P,y){var u=P.get("plugins");return window.jwplayerPluginJsonp=E,(P.pluginLoader=P.pluginLoader||new s).load(y,A,u,P).then(function(p){if(!P.attributes._destroyed)return delete window.jwplayerPluginJsonp,p})},o=e(1),l=e(0),a=function(P){return P.replace(/^(.*\/)?([^-]*)-?.*\.(js)$/,"$2")},s=function(){this.load=function(P,y,u,p){return u&&typeof u=="object"?Promise.all(Object.keys(u).filter(function(g){return g}).map(function(g){var k=u[g];return y.setupPlugin(g).then(function(x){if(!p.attributes._destroyed)return function(j,L,D){var F=j.name,X=Object(l.g)({},L),Q=document.createElement("div");Q.id=D.id+"_"+F,Q.className="jw-plugin jw-reset";var H=j.getNewInstance(D,X,Q);return D.addPlugin(F,H),H}(x,k,P)}).catch(function(x){return y.removePlugin(g),x.code?x:new o.o(null,305e3,x)})})):Promise.resolve()}},r=e(35),c=e(12),d=e(2),h=function(P){if(typeof P=="string"){var y=(P=P.split("?")[0]).indexOf("://");if(y>0)return 0;var u=P.indexOf("/"),p=Object(d.a)(P);return!(y<0&&u<0)||p&&isNaN(p)?1:2}},f=function(P){this.url=P,this.promise_=null};Object.defineProperties(f.prototype,{promise:{get:function(){return this.load()},set:function(){}}}),Object(l.g)(f.prototype,{load:function(){var P=this,y=this.promise_;if(!y){if(h(this.url)===2)return Promise.resolve(this);var u=new r.a(function(p){switch(h(p)){case 0:return p;case 1:return Object(c.getAbsolutePath)(p,window.location.href)}}(this.url));this.loader=u,y=u.load().then(function(){return P}),this.promise_=y}return y},registerPlugin:function(P,y,u){this.name=P,this.target=y,this.js=u},getNewInstance:function(P,y,u){var p=this.js;if(typeof p!="function")throw new o.o(null,(this.url,305100));var g=new p(P,y,u);return g.addToPlayer=function(){var k=this.getContainer().querySelector(".jw-overlays");k&&(u.left=k.style.left,u.top=k.style.top,k.appendChild(u))},g.resizeHandler=function(){var k=this.getContainer().querySelector(".jw-overlays");k&&g.resize(k.clientWidth,k.clientHeight)},g}});var v=f,_=e(36),b={},w=function(){var O=function(){},P=O.prototype;return P.setupPlugin=function(y){var u=this.getPlugin(y);return u?(u.url!==y&&Object(_.a)('JW Plugin "'+a(y)+'" already loaded from "'+u.url+'". Ignoring "'+y+'."'),u.promise):this.addPlugin(y).load()},P.addPlugin=function(y){var u=a(y),p=b[u];return p||(p=new v(y),b[u]=p),p},P.getPlugin=function(y){return b[a(y)]},P.removePlugin=function(y){delete b[a(y)]},P.getPlugins=function(){return b},O}();e.d(t,"b",function(){return E}),e.d(t,"a",function(){return n});var A=new w,E=function(P,y,u){var p=A.addPlugin(P);p.js||p.registerPlugin(P,y,u)}},function(m,t,e){"use strict";e.d(t,"a",function(){return n});var n={}},function(m,t,e){"use strict";var n=e(0),o=e(10),l=e(2);t.a=function(a){if(a&&a.file){var s=Object(n.g)({},{default:!1,type:""},a);s.file=Object(l.i)(""+s.file);var r=/^[^/]+\/(?:x-)?([^/]+)$/,c=s.type;if(r.test(c)&&(s.mimeType=c,s.type=c.replace(r,"$1")),Object(o.isYouTube)(s.file)?s.type="youtube":Object(o.isRtmp)(s.file)?s.type="rtmp":s.type||(s.type=Object(l.a)(s.file)),s.type){switch(s.type){case"m3u8":case"vnd.apple.mpegurl":s.type="hls";break;case"dash+xml":s.type="dash";break;case"m4a":s.type="aac";break;case"smil":s.type="rtmp"}return Object.keys(s).forEach(function(d){s[d]===""&&delete s[d]}),s}}}},function(m,t,e){"use strict";e.d(t,"d",function(){return n}),e.d(t,"c",function(){return o}),e.d(t,"b",function(){return l}),e.d(t,"a",function(){return a});var n={audioMode:!1,itemMeta:{},playbackRate:1,playRejected:!1,state:e(3).mb,itemReady:!1,controlsEnabled:!1},o={position:0,duration:0,buffer:0,currentTime:0},l=120,a=25},function(m,t,e){"use strict";var n=function(){return a||(a=l.OS.tizenApp?e.e(2).then(function(c){var d=e(55).default;return s.controls=d,d}.bind(null,e)).catch(function(){a=null,Object(o.c)(301133)()}):e.e(1).then(function(c){var d=e(52).default;return s.controls=d,d}.bind(null,e)).catch(function(){a=null,Object(o.c)(301130)()})),a};e.d(t,"a",function(){return s}),e.d(t,"b",function(){return n});var o=e(9),l=e(7),a=null,s={}},function(m,t,e){"use strict";t.a={advertising:{admessage:"This ad will end in xx",cuetext:"Advertisement",displayHeading:"Advertisement",loadingAd:"Loading ad",podmessage:"Ad __AD_POD_CURRENT__ of __AD_POD_LENGTH__.",skipmessage:"Skip ad in xx",skiptext:"Skip"},airplay:"AirPlay",audioTracks:"Audio Tracks",auto:"Auto",buffer:"Loading",cast:"Chromecast",cc:"Closed Captions",close:"Close",errors:{badConnection:"This video cannot be played because of a problem with your internet connection.",cantLoadPlayer:"Sorry, the video player failed to load.",cantPlayInBrowser:"The video cannot be played in this browser.",cantPlayVideo:"This video file cannot be played.",errorCode:"Error Code",liveStreamDown:"The live stream is either down or has ended.",protectedContent:"There was a problem providing access to protected content.",technicalError:"This video cannot be played because of a technical error."},exitFullscreen:"Exit Fullscreen",fullscreen:"Fullscreen",hd:"Quality",liveBroadcast:"Live",logo:"Logo",mute:"Mute",next:"Next",nextUp:"Next Up",notLive:"Not Live",off:"Off",pause:"Pause",pipIcon:"Picture in Picture (PiP)",play:"Play",playback:"Play",playbackRates:"Playback Rates",player:"Video Player",poweredBy:"Powered by",prev:"Previous",related:{autoplaymessage:"Next up in xx",heading:"More Videos"},replay:"Replay",rewind:"Rewind 10 Seconds",settings:"Settings",sharing:{copied:"Copied",email:"Email",embed:"Embed",heading:"Share",link:"Link"},slider:"Seek",stop:"Stop",unmute:"Unmute",videoInfo:"About This Video",volume:"Volume",volumeSlider:"Volume",shortcuts:{playPause:"Play/Pause",volumeToggle:"Mute/Unmute",fullscreenToggle:"Fullscreen/Exit Fullscreen",seekPercent:"Seek %",keyboardShortcuts:"Keyboard Shortcuts",increaseVolume:"Increase Volume",decreaseVolume:"Decrease Volume",seekForward:"Seek Forward",seekBackward:"Seek Backward",spacebar:"SPACE",captionsToggle:"Captions On/Off"},captionsStyles:{subtitleSettings:"Subtitle Settings",color:"Font Color",fontOpacity:"Font Opacity",userFontScale:"Font Size",fontFamily:"Font Family",edgeStyle:"Character Edge",backgroundColor:"Background Color",backgroundOpacity:"Background Opacity",windowColor:"Window Color",windowOpacity:"Window Opacity",white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",magenta:"Magenta",cyan:"Cyan",none:"None",raised:"Raised",depressed:"Depressed",uniform:"Uniform",dropShadow:"Drop Shadow"},disabled:"Disabled",enabled:"Enabled",reset:"Reset"}},function(m,t){var e=function(v){var _=document.createElement("style");return _.type="text/css",_.setAttribute("data-jwplayer-id",v),function(b){c().appendChild(b)}(_),_},n=function(v,_){var b,w,A,E=r[v];E||(E=r[v]={element:e(v),counter:0});var O=E.counter++;return b=E.element,A=function(){o(b,O,"")},(w=function(y){o(b,O,y)})(_.css),function(P){if(P){if(P.css===_.css&&P.media===_.media)return;w((_=P).css)}else A()}},o=function(v,_,b){if(v.styleSheet)v.styleSheet.cssText=h(_,b);else{var w=document.createTextNode(b),A=v.childNodes[_];A?v.replaceChild(w,A):v.appendChild(w)}},l,a,s={},r={},c=(l=function(){return document.head||document.getElementsByTagName("head")[0]},function(){return a===void 0&&(a=l.apply(this,arguments)),a});m.exports={style:function(v,_){(function(b,w){for(var A=0;A<w.length;A++){var E=w[A],O=(s[b]||{})[E.id];if(O){for(var P=0;P<O.parts.length;P++)O.parts[P](E.parts[P]);for(;P<E.parts.length;P++)O.parts.push(n(b,E.parts[P]))}else{var y=[];for(P=0;P<E.parts.length;P++)y.push(n(b,E.parts[P]));s[b]=s[b]||{},s[b][E.id]={id:E.id,parts:y}}}})(_,function(b){for(var w=[],A={},E=0;E<b.length;E++){var O=b[E],P=O[0],y=O[1],u=O[2],p={css:y,media:u};A[P]?A[P].parts.push(p):w.push(A[P]={id:P,parts:[p]})}return w}(v))},clear:function(v,_){var b=s[v];if(b){if(_){var w=b[_];if(w)for(var A=0;A<w.parts.length;A+=1)w.parts[A]();return}for(var E=Object.keys(b),O=0;O<E.length;O+=1)for(var P=b[E[O]],y=0;y<P.parts.length;y+=1)P.parts[y]();delete s[v]}}};var d,h=(d=[],function(v,_){return d[v]=_,d.filter(Boolean).join("\n")})},function(m,t,e){"use strict";var n=function(h){this.config=h||{}},o=e(0),l=e(15),a=e(26),s=e(20),r=e(9),c={html5:function(){return e.e(10).then(function(h){var f=e(117).default;return Object(s.a)(f),f}.bind(null,e)).catch(Object(r.b)(152))}};Object(o.g)(n.prototype,{load:function(h){var f=c[h],v=function(){return Promise.reject(new Error("Failed to load media"))};return f?f().then(function(){var _=a.a[h];return _||v()}):v()},providerSupports:function(h,f){return h.supports(f)},choose:function(h){if(h===Object(h))for(var f=l.a.length,v=0;v<f;v++){var _=l.a[v];if(this.providerSupports(_,h))return{priority:f-v-1,name:_.name,type:h.type,providerToCheck:_,provider:a.a[_.name]}}return{}}}),t.a=n},function(m,t,e){"use strict";var n=function(s,r){var c=r.message,d=r.code,h=function(b,w,A,E){return'<div id="'+b+'" class="jw-error jw-reset"><div class="jw-error-msg jw-info-overlay jw-reset"><style>[id="'+b+'"].jw-error{background:#000;overflow:hidden;position:relative}[id="'+b+'"] .jw-error-msg{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}[id="'+b+'"] .jw-error-text{text-align:start;color:#FFF;font:14px/1.35 Arial,Helvetica,sans-serif}</style><div class="jw-icon jw-reset"></div><div class="jw-info-container jw-reset"><div class="jw-error-text jw-reset-text" dir="auto" data-nosnippet>'+(w||"")+'<span class="jw-break jw-reset"></span>'+(E?("("+A+": "+E+")").replace(/\s+/g,"&nbsp;"):"")+"</div></div></div></div>"}(s.get("id"),c,s.get("localization").errors.errorCode,d.toString()),f=s.get("width"),v=s.get("height"),_=Object(o.f)(h);return Object(l.d)(_,{width:f.toString().indexOf("%")>0?f:f+"px",height:v.toString().indexOf("%")>0?v:v+"px"}),_},o=e(6),l=e(11);e.d(t,"a",function(){return n})},function(m,t,e){"use strict";var n=function(a){return a.slice&&a.slice(-2)==="px"&&(a=a.slice(0,-2)),a},o=function(a,s){if(s.toString().indexOf("%")===-1||typeof a!="string"||!a)return 0;if(/^\d*\.?\d+%$/.test(a))return a;var r=a.indexOf(":");if(r===-1)return 0;var c=parseFloat(a.substr(0,r)),d=parseFloat(a.substr(r+1));return c<=0||d<=0?0:d/c*100+"%"};e.d(t,"b",function(){return n}),e.d(t,"a",function(){return o})},function(m,t,e){"use strict";var n=function(h){var f=document.createElement("link");return f.type="text/css",f.rel="stylesheet",f.href=h,f},o=function(h,f){var v=document.createElement("script");return v.type="text/javascript",v.charset="utf-8",v.async=!0,v.timeout=f||45e3,v.src=h,v},l=e(0),a=e(8),s=e(3),r={},c=function(h,f,v){var _=function(O){A=2,w.trigger(s.w,O).off()},b=function(O){A=3,w.trigger(s.kb,O).off()},w=this,A=0;this.getStatus=function(){return A},this.load=function(){var E=r[h];return A!==0||(E&&E.then(b).catch(_),A=1,E=new Promise(function(O,P){var y=(f?n:o)(h,v),u=function(){y.onerror=y.onload=null,clearTimeout(g)},p=function(j){u(),_(j),P(j)},g=setTimeout(function(){p(new Error("Network timeout "+h))},45e3);y.onerror=function(){p(new Error("Failed to load "+h))},y.onload=function(x){u(),b(x),O(x)};var k=document.getElementsByTagName("head")[0]||document.documentElement;k.insertBefore(y,k.firstChild)}),r[h]=E),E}};Object(l.g)(c.prototype,a.a),t.a=c},function(m,t,e){"use strict";e.d(t,"a",function(){return n});var n=typeof console.log=="function"?console.log.bind(console):function(){}},function(m,t,e){"use strict";var n=function(H){return H&&!(F.test(H)||typeof H=="object")},o=function(H){if(!H.handlers.init){var ce=H.el,ne=H.passive,V=!!j&&{passive:ne},Y=function(G){if(H.dragged)f(H,A.s,G);else{var J=v(G),ae=J.pageX,ie=J.pageY,Oe=ae-H.startX,De=ie-H.startY;Oe*Oe+De*De>36&&(f(H,A.u,G),H.dragged=!0,f(H,A.s,G))}var ke;ne||G.type!=="touchmove"||(ke=G).preventDefault&&ke.preventDefault()},oe=function(G){clearTimeout(u),H.el&&(d(H),c(H,"window"),H.dragged&&(H.dragged=!1,f(H,A.t,G)))};a(H,"init"),b(H,"init",function(q){if(Object(P.p)(ce,"jw-tab-focus"),!_(q)){var G=q.target,J=q.type;if(!H.directSelect||G===ce){var ae=v(q),ie=ae.pageX,Oe=ae.pageY;if(H.dragged=!1,H.startX=ie,H.startY=Oe,c(H,"window"),J==="pointerdown"&&q.isPrimary){if(!ne){var De=q.pointerId;H.pointerId=De,ce.setPointerCapture(De)}r(H,"window","pointermove",Y,V),r(H,"window","pointercancel",oe),r(H,"window","pointerup",oe)}else J==="mousedown"?(r(H,"window","mousemove",Y,V),r(H,"window","mouseup",oe)):J==="touchstart"&&(r(H,"window","touchmove",Y,V),r(H,"window","touchcancel",oe),r(H,"window","touchend",oe))}}},V),p||(p=new D(document).on("interaction"))}},l=function(H){if(!H.handlers.select){var ce=H.el;a(H,"select"),b(H,"select",function(ne){var V=ne.target;_(ne)||H.directSelect&&V!==ce||(ne.isPrimary&&V.tageName==="BUTTON"&&V.focus(),H.lastStart=Object(O.a)(),H.clicking=!0)}),r(H,"select","click",function(ne){_(ne)||H.directSelect&&ne.target!==ce||(Object(O.a)()-H.lastStart>500&&H.clicking===!0||(function(V,Y){V.enableDoubleClick&&(Object(O.a)()-V.lastClick<300?(f(V,A.r,Y),V.lastClick=0):V.lastClick=Object(O.a)())}(H,ne),f(H,A.o,ne)),H.clicking=!1)})}},a=function(H,ce){if(!H.handlers.init&&!H.handlers.select){var ne=H.el;r(H,ce,"blur",function(){Object(P.p)(ne,"jw-tab-focus"),H.clicking=!1}),r(H,ce,"focus",function(){p.event&&p.event.type==="keydown"&&Object(P.b)(ne,"jw-tab-focus")})}},s=function(H){var ce=H.ownerDocument||H;return ce.defaultView||ce.parentWindow||window},r=function(H,ce,ne,V,Y){Y===void 0&&(Y=L);var oe=H.handlers[ce],q=H.options[ce];if(oe||(oe=H.handlers[ce]={},q=H.options[ce]={}),oe[ne])throw new Error(ce+" "+ne+" already registered");oe[ne]=V,q[ne]=Y;var G=H.el;(ce==="window"?s(G):G).addEventListener(ne,V,Y)},c=function(H,ce){var ne=H.el,V=H.handlers,Y=H.options,oe=ce==="window"?s(ne):ne,q=V[ce],G=Y[ce];q&&(Object.keys(q).forEach(function(J){var ae=G[J];typeof ae=="boolean"?oe.removeEventListener(J,q[J],ae):oe.removeEventListener(J,q[J])}),V[ce]=null,Y[ce]=null)},d=function(H){var ce=H.el;H.pointerId!==null&&(ce.releasePointerCapture(H.pointerId),H.pointerId=null)},h=function(H,ce,ne){var V=H.el,Y=ne.target;H.trigger(ce,{type:ce,sourceEvent:ne,currentTarget:V,target:Y})},f=function(H,ce,ne){var V=function(Y,oe,q){var G,J=oe.target,ae=oe.touches,ie=oe.changedTouches,Oe=oe.pointerType;ae||ie?(G=ae&&ae.length?ae[0]:ie[0],Oe=Oe||"touch"):(G=oe,Oe=Oe||"mouse");var De=G,ke=De.pageX,tt=De.pageY;return{type:Y,pointerType:Oe,pageX:ke,pageY:tt,sourceEvent:oe,currentTarget:q,target:J}}(ce,ne,H.el);H.trigger(ce,V)},v=function(H){return H.type.indexOf("touch")===0?(H.originalEvent||H).changedTouches[0]:H},_=function(H){return!(!H.ctrlKey||H.type!=="click")||("which"in H?H.which===3:"button"in H&&H.button===2)},b=function(H,ce,ne,V){k?r(H,ce,"pointerdown",ne,V):(x&&r(H,ce,"mousedown",ne,V),r(H,ce,"touchstart",ne,V))};e.d(t,"a",function(){return D}),e.d(t,"b",function(){return s}),e.d(t,"c",function(){return _});var w=e(7),A=e(3),E=e(8),O=e(16),P=e(6);function y(Q,H){return(y=Object.setPrototypeOf||function(ce,ne){return ce.__proto__=ne,ce})(Q,H)}var u,p,g="ontouchstart"in window,k="PointerEvent"in window&&!w.OS.android,x=!(k||g&&w.OS.mobile),j=w.Features.passiveEvents,L=!!j&&{passive:!0},D=function(Q){var H=function(oe,q){var G;G=Q.call(this)||this;var J=!(q=q||{}).preventScrolling;return G.directSelect=!!q.directSelect,G.dragged=!1,G.enableDoubleClick=!1,G.el=oe,G.handlers={},G.options={},G.lastClick=0,G.lastStart=0,G.passive=J,G.pointerId=null,G.startX=0,G.startY=0,G.event=null,G.clicking=!1,G},ce,ne;ne=Q,(ce=H).prototype=Object.create(ne.prototype),ce.prototype.constructor=ce,y(ce,ne);var V=H.prototype;return V.on=function(Y,oe,q){return n(Y)&&(this.handlers[Y]||X[Y](this)),Q.prototype.on.call(this,Y,oe,q)},V.off=function(Y,oe,q){var G=this;if(n(Y))c(this,Y);else if(!Y){var J=this.handlers;Object.keys(J).forEach(function(ae){c(G,ae)})}return Q.prototype.off.call(this,Y,oe,q)},V.destroy=function(){this.el&&(this.off(),k&&d(this),this.el=null)},H}(E.a),F=/\s+/,X={drag:function(H){o(H)},dragStart:function(H){o(H)},dragEnd:function(H){o(H)},click:function(H){l(H)},doubleClick:function(H){H.enableDoubleClick=!0,l(H)},longPress:function(H){if(w.OS.iOS){var ce=function(){clearTimeout(u)};r(H,"longPress","touchstart",function(ne){ce(),u=setTimeout(function(){f(H,"longPress",ne)},500)}),r(H,"longPress","touchmove",ce),r(H,"longPress","touchcancel",ce),r(H,"longPress","touchend",ce)}else H.el.oncontextmenu=function(ne){return f(H,"longPress",ne),!1}},focus:function(H){r(H,"focus","focus",function(ce){h(H,"focus",ce)})},blur:function(H){r(H,"blur","blur",function(ce){h(H,"blur",ce)})},over:function(H){(k||x)&&r(H,A.Z,k?"pointerover":"mouseover",function(ce){ce.pointerType!=="touch"&&f(H,A.Z,ce)})},out:function(H){if(k){var ce=H.el;r(H,A.Y,"pointerout",function(ne){if(ne.pointerType!=="touch"&&"clientX"in ne){var V=document.elementFromPoint(ne.clientX,ne.clientY);ce.contains(V)||f(H,A.Y,ne)}})}else x&&r(H,A.Y,"mouseout",function(ne){f(H,A.Y,ne)})},move:function(H){(k||x)&&r(H,A.W,k?"pointermove":"mousemove",function(ce){ce.pointerType!=="touch"&&f(H,A.W,ce)})},enter:function(H){r(H,A.v,"keydown",function(ce){ce.key!=="Enter"&&ce.keyCode!==13||(ce.stopPropagation(),h(H,A.v,ce))})},keydown:function(H){r(H,"keydown","keydown",function(ce){h(H,"keydown",ce)},!1)},gesture:function(H){var ce=function(V){return f(H,"gesture",V)};r(H,"gesture","click",ce),r(H,"gesture","keydown",ce)},interaction:function(H){var ce=function(V){H.event=V};r(H,"interaction","mousedown",ce,!0),r(H,"interaction","keydown",ce,!0)},tap:function(){},doubleTap:function(){}}},function(m,t,e){"use strict";e.d(t,"b",function(){return n}),e.d(t,"a",function(){return o});var n=window.requestAnimationFrame||function(l){return setTimeout(l,17)},o=window.cancelAnimationFrame||clearTimeout},function(m,t,e){"use strict";var n=function(P,y){this.name=P,this.message=y.message||y.toString(),this.error=y},o=e(0),l=e(19),a=e(10),s=e(12),r=e(2),c=e(23),d=e(17),h=e(5),f=e(6),v=e(11),_=e(21),b=e(40),w=e(36),A=e(41),E=Object(o.g)({},s,a,l,{addClass:f.b,hasClass:f.j,removeClass:f.p,replaceClass:f.q,toggleClass:f.w,classList:f.e,styleDimension:f.v,createElement:f.f,emptyElement:f.i,addStyleSheet:f.c,bounds:f.d,openLink:f.m,replaceInnerHtml:f.r,css:v.b,clearCss:v.a,style:v.d,transform:v.e,getRgba:v.c,ajax:_.a,crossdomain:function(P){var y=window.URL;try{var u=new y(P,location.origin);return location.protocol+"//"+location.host!=u.protocol+"//"+u.host}catch(p){}return!0},tryCatch:function(P,y,u){if(u===void 0&&(u=[]),d.a.debug)return P.apply(y||this,u);try{return P.apply(y||this,u)}catch(p){return new n(P.name,p)}},Error:n,Timer:c.a,log:w.a,genId:A.b,between:b.a,foreach:function(P,y){for(var u in P)Object.prototype.hasOwnProperty.call(P,u)&&y(u,P[u])},flashVersion:h.a,isIframe:h.m,indexOf:o.l,trim:r.i,pad:r.e,extension:r.a,hms:r.b,seconds:r.g,prefix:r.f,suffix:r.h,noop:function(){}});t.a=E},function(m,t,e){"use strict";e.d(t,"a",function(){return n});var n=function(l,a,s){return Math.max(Math.min(l,s),a)}},function(m,t,e){"use strict";var n=function(){try{var s=window.crypto||window.msCrypto;if(s&&s.getRandomValues)return s.getRandomValues(new Uint32Array(1))[0].toString(36)}catch(r){}return Math.random().toString(36).slice(2,9)},o=function(s){for(var r="";r.length<s;)r+=n();return r.slice(0,s)};e.d(t,"a",function(){return l}),e.d(t,"b",function(){return o});var l=12},function(m,t,e){"use strict";var n=function(l,a,s){var r=[],c={};function d(){for(;r.length>0;){var h=r.shift(),f=h.command,v=h.args;(c[f]||l[f]).apply(l,v)}}a.forEach(function(h){var f=l[h];c[h]=f,l[h]=function(){for(var v=arguments.length,_=new Array(v),b=0;b<v;b++)_[b]=arguments[b];s()?r.push({command:h,args:_}):(d(),f&&f.apply(this,_))}}),Object.defineProperty(this,"queue",{enumerable:!0,get:function(){return r}}),this.flush=d,this.empty=function(){r.length=0},this.off=function(){a.forEach(function(h){var f=c[h];f&&(l[h]=f,delete c[h])})},this.destroy=function(){this.off(),this.empty()}};e.d(t,"a",function(){return n})},function(m,t,e){"use strict";function n(l,a){return(n=Object.setPrototypeOf||function(s,r){return s.__proto__=r,s})(l,a)}e.d(t,"a",function(){return o});var o=function(l){var a=function(){var h;return(h=l.call(this)||this).attributes=Object.create(null),h},s,r;r=l,(s=a).prototype=Object.create(r.prototype),s.prototype.constructor=s,n(s,r);var c=a.prototype;return c.addAttributes=function(d){var h=this;Object.keys(d).forEach(function(f){h.add(f,d[f])})},c.add=function(d,h){var f=this;Object.defineProperty(this,d,{get:function(){return f.attributes[d]},set:function(_){return f.set(d,_)},enumerable:!1}),this.attributes[d]=h},c.get=function(d){return this.attributes[d]},c.set=function(d,h){if(this.attributes[d]!==h){var f=this.attributes[d];this.attributes[d]=h,this.trigger("change:"+d,this,h,f)}},c.clone=function(){var d={},h=this.attributes;if(h)for(var f in h)d[f]=h[f];return d},c.change=function(d,h,f){this.on("change:"+d,h,f);var v=this.get(d);return h.call(f,this,v,v),this},a}(e(8).a)},function(m,t,e){"use strict";e.d(t,"c",function(){return n}),e.d(t,"b",function(){return o}),e.d(t,"a",function(){return l});var n=4,o=5,l=1},function(m,t,e){"use strict";var n=function(a,s){return Object(o.g)({},s,{prime:function(){a.src||a.load()},getPrimedElement:function(){return a},clean:function(){s.clean(a)},recycle:function(){s.clean(a)}})};e.d(t,"a",function(){return n});var o=e(0)},function(m,t,e){"use strict";t.a="hidden"in document?function(){return!document.hidden}:"webkitHidden"in document?function(){return!document.webkitHidden}:function(){return!0}},function(m,t,e){"use strict";var n=function(Le){return H||(H=function(_e){var Ne=_e.get("controls"),Ze=o(),Ke=function(at,pt){var lt=at.get("playlist");if(Array.isArray(lt)&&lt.length)for(var ct=Object(L.f)(at.get("item"),lt.length),Ge=Object(L.c)(Object(j.a)(lt[ct]),at),ze=0;ze<Ge.length;ze++)for(var He=Ge[ze],rt=at.getProviders(),it=0;it<D.a.length;it++){var wt=D.a[it];if(rt.providerSupports(wt,He))return wt.name===pt}return!1}(_e,"html5");if(y.OS.tizen)return l();if(Ne&&Ze&&Ke)return Pe=e.e(7).then(function(at){e(116);var pt=e(54).default;return X.a.controls=e(52).default,Object(F.a)(e(117).default),pt}.bind(null,e)).catch(Object(x.b)(Q.q+105)),x.a.html5=Pe,Pe;var Pe;return Ne&&Ke?function(){var at=e.e(5).then(function(pt){var lt=e(54).default;return X.a.controls=e(52).default,Object(F.a)(e(117).default),lt}.bind(null,e)).catch(Object(x.b)(Q.q+104));return x.a.html5=at,at}():Ne&&Ze?e.e(6).then(function(at){e(116);var pt=e(54).default;return X.a.controls=e(52).default,pt}.bind(null,e)).catch(Object(x.b)(Q.q+103)):Ne?e.e(4).then(function(at){var pt=e(54).default;return X.a.controls=e(52).default,pt}.bind(null,e)).catch(Object(x.b)(Q.q+102)):l()}(Le)),H},o=function(){var Le=window.IntersectionObserverEntry;return!Le||!("IntersectionObserver"in window)||!("intersectionRatio"in Le.prototype)},l=function(){return function(){return o()?e.e(8).then(function(Le){return e(116)}.bind(null,e)).catch(Object(x.b)(Q.q+120)):Promise.resolve()}().then(x.d)},a=function(Le,_e,Ne){var Ze=Le.attributes;Ze.playlist=Object(L.a)(_e),Ze.feedData=Ne},s=function(Le){return function(_e){var Ne=_e.get("playlist");return new Promise(function(Ze,Ke){if(typeof Ne!="string"){var Pe=_e.get("feedData")||{};return a(_e,Ne,Pe),Ze()}var at=new ne.a;at.on(ce.eb,function(pt){var lt=pt.playlist;delete pt.playlist,a(_e,lt,pt),Ze()}),at.on(ce.w,function(pt){a(_e,[],{}),Ke(Object(Q.w)(pt,Q.r))}),at.load(Ne)})}(Le).then(function(){if(!d(Le)){var _e=Object(L.b)(Le.get("playlist"),Le);Le.attributes.playlist=_e;try{Object(L.e)(_e)}catch(pt){throw pt.code+=Q.r,pt}var Ne=Le.getProviders(),Ze=Object(L.f)(Le.get("item"),_e.length),Ke=Ne.choose(_e[Ze].sources[0]),Pe=Ke.provider,at=Ke.name;return typeof Pe=="function"?Pe:x.a.html5&&at==="html5"?x.a.html5:Ne.load(at).catch(function(pt){throw Object(Q.w)(pt,Q.s)})}})},r=function(Le){var _e=Le.get("skin")?Le.get("skin").url:void 0;return typeof _e=="string"&&!function(Ne){for(var Ze=document.styleSheets,Ke=0,Pe=Ze.length;Ke<Pe;Ke++)if(Ze[Ke].href===Ne)return!0;return!1}(_e)?new V.a(_e,!0).load().catch(function(Ne){return Ne}):Promise.resolve()},c=function(Le){var _e=Le.attributes,Ne=_e.language,Ze=_e.base,Ke=_e.setupConfig,Pe=_e.intl,at=Object(p.b)(Ke,Pe,Ne);return!Object(p.f)(Ne)||Object(p.d)(at)?Promise.resolve():new Promise(function(pt){return Object(p.g)(Ze,Ne).then(function(lt){var ct=lt.response;if(!d(Le)){if(!ct)throw new Q.o(null,Q.h);_e.localization=Object(p.a)(ct,at),pt()}}).catch(function(lt){pt(lt.code===Q.h?lt:Object(Q.w)(lt,Q.g))})})},d=function(Le){return Le.attributes._destroyed},h=function(Le){Le.src||Le.load()},f=function(Le){var _e=document.createElement("video");return _e.className="jw-video jw-reset",_e.setAttribute("tabindex","-1"),_e.setAttribute("disableRemotePlayback",""),_e.setAttribute("webkit-playsinline",""),_e.setAttribute("playsinline",""),Le&&Object.keys(Le).forEach(function(Ne){_e.setAttribute(Ne,Le[Ne])}),_e},v=function(Le,_e){_e&&_e.code&&(_e.sourceError&&console.error(_e.sourceError),console.error(Q.o.logMessage(_e.code)))},_=function(Le){Le&&Le.code&&console.warn(Q.o.logMessage(Le.code))},b=function(Le,_e){if(!document.body.contains(Le.currentContainer)){var Ne=document.getElementById(Le.get("id"));Ne&&(Le.currentContainer=Ne)}Le.currentContainer.parentElement&&Le.currentContainer.parentElement.replaceChild(_e,Le.currentContainer),Le.currentContainer=_e},w=e(0),A=e(42),E=e(34),O=e(19),P=e(12),y=e(7),u=e(30),p=e(13),g={autoPause:{viewability:!1,pauseAds:!1},autostart:!1,allowFullscreen:!0,bandwidthEstimate:null,bitrateSelection:null,castAvailable:!1,controls:!0,cues:[],defaultPlaybackRate:1,displaydescription:!0,displaytitle:!0,displayPlaybackLabel:!1,enableShortcuts:!0,height:360,intl:{},item:0,language:"en",liveTimeout:null,localization:u.a,mute:!1,nextUpDisplay:!0,playbackRateControls:!1,playbackRates:[.5,1,1.25,1.5,2],renderCaptionsNatively:!1,repeat:!1,stretching:"uniform",volume:90,width:640},k=function(Le,_e){var Ne=Object(w.g)({},(window.jwplayer||{}).defaults,_e,Le);(function(ut){Object.keys(ut).forEach(function(we){we!=="id"&&(ut[we]=Object(P.serialize)(ut[we]))})})(Ne);var Ze=Ne.forceLocalizationDefaults?g.language:Object(p.c)(),Ke=Object(p.h)(Ne.intl);Ne.localization=Object(p.a)(u.a,Object(p.b)(Ne,Ke,Ze));var Pe=Object(w.g)({},g,Ne);Pe.base==="."&&(Pe.base=Object(O.getScriptPath)("jwplayer.js")),Pe.base=(Pe.base||Object(O.loadFrom)()).replace(/\/?$/,"/"),e.p=Pe.base,Pe.width=Object(E.b)(Pe.width),Pe.height=Object(E.b)(Pe.height),Pe.aspectratio=Object(E.a)(Pe.aspectratio,Pe.width),Pe.volume=Object(w.u)(Pe.volume)?Math.min(Math.max(0,Pe.volume),100):g.volume,Pe.mute=!!Pe.mute,Pe.language=Ze,Pe.intl=Ke;var at=Pe.playlistIndex;at&&(Pe.item=at),Object(w.r)(Pe.item)||(Pe.item=0);var pt=Ne.autoPause;pt&&(Pe.autoPause.viewability=!("viewability"in pt)||!!pt.viewability);var lt=Pe.playbackRateControls;if(lt){var ct=Pe.playbackRates;Array.isArray(lt)&&(ct=lt),(ct=ct.filter(function(ut){return Object(w.r)(ut)&&ut>=.25&&ut<=4}).map(function(ut){return Math.round(100*ut)/100})).indexOf(1)<0&&ct.push(1),ct.sort(),Pe.playbackRateControls=!0,Pe.playbackRates=ct}(!Pe.playbackRateControls||Pe.playbackRates.indexOf(Pe.defaultPlaybackRate)<0)&&(Pe.defaultPlaybackRate=1),Pe.playbackRate=Pe.defaultPlaybackRate,Pe.aspectratio||delete Pe.aspectratio;var Ge=Pe.playlist;if(Ge)Array.isArray(Ge.playlist)&&(Pe.feedData=Ge,Pe.playlist=Ge.playlist);else{var ze=Object(w.x)(Pe,["title","description","type","mediaid","image","images","file","sources","tracks","preload","duration"]);Pe.playlist=[ze]}Pe.qualityLabels=Pe.qualityLabels||Pe.hlslabels,delete Pe.duration;var He=Pe.liveTimeout;He!==null&&(Object(w.u)(He)?He!==0&&(He=Math.max(30,He)):He=null,Pe.liveTimeout=He);var rt,it,wt,_t=parseFloat(Pe.bandwidthEstimate),xt=parseFloat(Pe.bitrateSelection);return Pe.bandwidthEstimate=Object(w.u)(_t)?_t:(rt=Pe.defaultBandwidthEstimate,it=parseFloat(rt),Object(w.u)(it)?Math.max(it,1):g.bandwidthEstimate),Pe.bitrateSelection=Object(w.u)(xt)?xt:g.bitrateSelection,Pe.liveSyncDuration=(wt=Pe.liveSyncDuration)<5?5:wt>30?30:wt,Pe.backgroundLoading=Object(w.n)(Pe.backgroundLoading)?Pe.backgroundLoading:y.Features.backgroundLoading,Pe},x=e(9),j=e(24),L=e(18),D=e(15),F=e(20),X=e(29),Q=e(1),H=null,ce=e(3),ne=e(48),V=e(35),Y=e(25),oe=function(Le){var _e;this.start=function(Ne){var Ze=function(at,pt){return Object(Y.a)(at,pt)}(Le,Ne),Ke=Promise.all([n(Le),Ze,s(Le),Promise.resolve(),r(Le),c(Le)]),Pe=new Promise(function(at,pt){_e=setTimeout(function(){pt(new Q.o(Q.k,Q.u))},6e4);var lt=function(){clearTimeout(_e),setTimeout(at,6e4)};Ke.then(lt).catch(lt)});return Promise.race([Ke,Pe]).catch(function(at){var pt=function(){throw at};return Ze.then(pt).catch(pt)}).then(function(at){return function(pt){if(!pt||!pt.length)return{core:null,warnings:[]};var lt=pt.reduce(function(ct,Ge){return ct.concat(Ge)},[]).filter(function(ct){return ct&&ct.code});return{core:pt[0],warnings:lt}}(at)})},this.destroy=function(){clearTimeout(_e),Le.set("_destroyed",!0),Le=null}},q=e(32),G=e(23),J=e(17),ae={removeItem:function(Le){}};try{ae=window.localStorage||ae}catch(vt){}var ie=function(){var vt=function(Ne,Ze){this.namespace=Ne,this.items=Ze},Le=vt.prototype;return Le.getAllItems=function(){var _e=this;return this.items.reduce(function(Ne,Ze){var Ke=ae[_e.namespace+"."+Ze];return Ke&&(Ne[Ze]=Ze!=="captions"?Object(P.serialize)(Ke):JSON.parse(Ke)),Ne},{})},Le.track=function(_e){var Ne=this;this.items.forEach(function(Ze){_e.on("change:"+Ze,function(Ke,Pe){try{Ze==="captions"&&(Pe=JSON.stringify(Pe)),ae[Ne.namespace+"."+Ze]=Pe}catch(at){J.a.debug&&console.error(at)}})})},Le.clear=function(){var _e=this;this.items.forEach(function(Ne){ae.removeItem(_e.namespace+"."+Ne)})},vt}(),Oe=e(43),De=e(28),ke=e(8),tt=e(33),Ve=e(44),Qe=e(45),ht=e(37);e(51),e(53),e.d(t,"b",function(){return b});var bt=function(Le){this._events={},this.modelShim=new Oe.a,this.modelShim._qoeItem=new G.a,this.mediaShim={},this.setup=new oe(this.modelShim),this.currentContainer=this.originalContainer=Le,this.apiQueue=new A.a(this,["load","play","pause","seek","stop","playlistItem","playlistNext","playlistPrev","next","preload","setAllowFullscreen","setConfig","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen","setPip","requestPip","addButton","removeButton","castToggle","setMute","setVolume","setPlaybackRate","addCues","setCues","setPlaylistItem","stopCasting","resize","setCaptions","setControls"],function(){return!0})};Object(w.g)(bt.prototype,{on:ke.a.on,once:ke.a.once,off:ke.a.off,trigger:ke.a.trigger,init:function(Le,_e){var Ne=this,Ze=this.modelShim,Ke=new ie("jwplayer",["volume","mute","captionLabel","captions","bandwidthEstimate","bitrateSelection","qualityLabel","enableShortcuts"]),Pe=Ke&&Ke.getAllItems();Ze.attributes=Ze.attributes||{},Object(w.g)(this.mediaShim,De.c);var at=Le,pt=k(Object(w.g)({},Le),Pe);pt.id=_e.id,pt.setupConfig=at,Object(w.g)(Ze.attributes,pt,De.d),Ze.getProviders=function(){return new q.a(pt)},Ze.setProvider=function(){};var lt=function(){for(var Ge=Ve.c,ze=[],He=[],rt=0;rt<Ge;rt++){var it=f();ze.push(it),He.push(it),h(it)}var wt=He.shift(),_t=He.shift(),xt=!1;return{primed:function(){return xt},prime:function(){ze.forEach(h),xt=!0},played:function(){xt=!0},getPrimedElement:function(){return He.shift()||null},getAdElement:function(){return wt},getTestElement:function(){return _t},clean:function(we){if(we.src){we.removeAttribute("src");try{we.load()}catch(N){}}},recycle:function(we){we&&!He.some(function(N){return N===we})&&(this.clean(we),He.push(we))},syncVolume:function(we){var N=Math.min(Math.max(0,we/100),1);ze.forEach(function(qe){qe.volume=N})},syncMute:function(we){ze.forEach(function(N){N.muted=we})}}}();Ze.get("backgroundLoading")||(lt=Object(Qe.a)(lt.getPrimedElement(),lt));var ct=this.primeUi=new ht.a(Object(ht.b)(this.originalContainer)).once("gesture",function(){lt.prime(),Ne.preload(),ct.destroy()});return Ze.on("change:errorEvent",v),this.setup.start(_e).then(function(Ge){var ze=Ge.core;if(!ze)throw Object(Q.w)(null,Q.t);if(Ne.setup){Ne.on(ce.ub,_),Ge.warnings.forEach(function(wt){Ne.trigger(ce.ub,wt)});var He=Ne.modelShim.clone();if(He.error)throw He.error;var rt=Ne.apiQueue.queue.slice(0);Ne.apiQueue.destroy(),Object(w.g)(Ne,ze.prototype),Ne.playerSetup(He,_e,Ne.originalContainer,Ne._events,rt,lt);var it=Ne._model;return Ze.off("change:errorEvent",v),it.on("change:errorEvent",v),Ke.track(it),Ne.updatePlaylist(it.get("playlist"),it.get("feedData")).catch(function(wt){var _t=wt.code===Q.a?Q.p:Q.r;throw Object(Q.w)(wt,_t)})}}).then(function(){Ne.setup&&Ne.playerReady()}).catch(function(Ge){Ne.setup&&function(ze,He,rt){Promise.resolve().then(function(){var it=Object(Q.x)(Q.n,Q.v,rt),wt=ze._model||ze.modelShim;it.message=it.message||wt.get("localization").errors[it.key],delete it.key;var _t=wt.get("contextual");if(!_t){var xt=Object(tt.a)(ze,it);tt.a.cloneIcon&&xt.querySelector(".jw-icon").appendChild(tt.a.cloneIcon("error")),b(ze,xt)}wt.set("errorEvent",it),wt.set("state",ce.lb),ze.trigger(ce.ib,it),_t&&He.remove()})}(Ne,_e,Ge)})},playerDestroy:function(){this.destroy&&this.destroy(),this.apiQueue&&this.apiQueue.destroy(),this.setup&&this.setup.destroy(),this.primeUi&&this.primeUi.destroy(),this.currentContainer!==this.originalContainer&&b(this,this.originalContainer),this.off(),this._events=this._model=this.modelShim=this.apiQueue=this.primeUi=this.setup=null},getContainer:function(){return this.currentContainer},get:function(Le){if(this.modelShim)return Le in this.mediaShim?this.mediaShim[Le]:this.modelShim.get(Le)},getItemQoe:function(){return this.modelShim._qoeItem},getItemPromise:function(){return null},setItemCallback:function(Le){this.modelShim&&(this.modelShim.attributes.playlistItemCallback=Le)},getConfig:function(){return Object(w.g)({},this.modelShim.attributes,this.mediaShim)},getCurrentCaptions:function(){return this.get("captionsIndex")},getWidth:function(){return this.get("containerWidth")},getHeight:function(){return this.get("containerHeight")},getMute:function(){return this.get("mute")},getProvider:function(){return this.get("provider")},getState:function(){return this.get("state")},getAudioTracks:function(){return null},getCaptionsList:function(){return null},getQualityLevels:function(){return null},getVisualQuality:function(){return null},getCurrentQuality:function(){return-1},getCurrentAudioTrack:function(){return-1},getSafeRegion:function(){return{x:0,y:0,width:0,height:0}},isBeforeComplete:function(){return!1},isBeforePlay:function(){return!1},createInstream:function(){return null},skipAd:function(){},attachMedia:function(){},detachMedia:function(){}}),t.a=bt},function(m,t,e){"use strict";var n=function(E){var O={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return O[E]?O[E]:E},o=function(E){for(var O=[],P=0;P<Object(r.c)(E);P++){var y=E.childNodes[P];y.prefix==="jwplayer"&&Object(r.b)(y).toLowerCase()==="mediatypes"&&O.push(Object(r.d)(y))}return O},l=function(E){for(var O={},P=0;P<E.childNodes.length;P++){var y=E.childNodes[P],u=Object(r.b)(y);if(u)switch(u.toLowerCase()){case"enclosure":O.file=Object(c.j)(y,"url");break;case"title":O.title=Object(r.d)(y);break;case"guid":O.mediaid=Object(r.d)(y);break;case"pubdate":O.date=Object(r.d)(y);break;case"description":O.description=Object(r.d)(y);break;case"link":O.link=Object(r.d)(y);break;case"category":O.tags?O.tags+=Object(r.d)(y):O.tags=Object(r.d)(y)}}return new v.a(f(E,d(E,O)))},a=e(0),s=e(3),r=e(4),c=e(2),d=function A(E,O){for(var P=[],y=0;y<Object(r.c)(E);y++){var u=E.childNodes[y];if(u.prefix==="media"){if(!Object(r.b)(u))continue;switch(Object(r.b)(u).toLowerCase()){case"content":if(Object(c.j)(u,"duration")&&(O.duration=Object(c.g)(Object(c.j)(u,"duration"))),Object(c.j)(u,"url")){O.sources||(O.sources=[]);var p={file:Object(c.j)(u,"url"),type:Object(c.j)(u,"type"),width:Object(c.j)(u,"width"),label:Object(c.j)(u,"label")},g=o(u);g.length&&(p.mediaTypes=g),O.sources.push(p)}Object(r.c)(u)>0&&(O=A(u,O));break;case"title":O.title=Object(r.d)(u);break;case"description":O.description=Object(r.d)(u);break;case"guid":O.mediaid=Object(r.d)(u);break;case"thumbnail":O.image||(O.image=Object(c.j)(u,"url"));break;case"group":A(u,O);break;case"subtitle":var k={file:Object(c.j)(u,"url"),kind:"captions"};Object(c.j)(u,"lang").length>0&&(k.label=n(Object(c.j)(u,"lang"))),P.push(k)}}}O.tracks||(O.tracks=[]);for(var x=0;x<P.length;x++)O.tracks.push(P[x]);return O},h=e(12),f=function(E,O){for(var P="default",y=[],u=[],p=O,g=0;g<E.childNodes.length;g++){var k=E.childNodes[g];if(k.prefix==="jwplayer"){var x=Object(r.b)(k);x==="source"?(delete O.sources,y.push({file:Object(c.j)(k,"file"),default:Object(c.j)(k,P),label:Object(c.j)(k,"label"),type:Object(c.j)(k,"type")})):x==="track"?(delete O.tracks,u.push({file:Object(c.j)(k,"file"),default:Object(c.j)(k,P),kind:Object(c.j)(k,"kind"),label:Object(c.j)(k,"label")})):(O[x]=Object(h.serialize)(Object(r.d)(k)),x==="file"&&O.sources&&delete O.sources)}O.file||(O.file=O.link)}if(y.length){O.sources=[];for(var j=0;j<y.length;j++){var L=y[j];L.file.length>0&&(L[P]=y[j][P]==="true",L.label||delete L.label,p.sources.push(L))}}if(u.length){O.tracks=[];for(var D=0;D<u.length;D++){var F=u[D];F.file&&F.file.length>0&&(F[P]=u[D][P]==="true",F.kind=u[D].kind.length?u[D].kind:"captions",F.label||delete F.label,p.tracks.push(F))}}return p},v=e(24),_=e(21),b=e(8),w=e(1);t.a=function(){var A=function(y){try{var u,p=y.responseXML?y.responseXML.childNodes:null,g=null;if(p){for(var k=0;k<p.length&&(g=p[k]).nodeType===8;k++);if(g&&Object(r.b)(g)==="xml"&&(g=g.nextSibling),g&&Object(r.b)(g)==="rss"){var x=function(L){var D=[];D.feedData={};for(var F=0;F<Object(r.c)(L);F++){var X=Object(r.a)(L,F);if(Object(r.b)(X).toLowerCase()==="channel")for(var Q=0;Q<Object(r.c)(X);Q++){var H=Object(r.a)(X,Q),ce=Object(r.b)(H).toLowerCase();ce==="item"?D.push(l(H)):ce&&(D.feedData[ce]=Object(r.d)(H))}}return D}(g);u=Object(a.g)({playlist:x},x.feedData)}}if(!u)try{var j=JSON.parse(y.responseText);if(Array.isArray(j))u={playlist:j};else{if(!Array.isArray(j.playlist))throw Error("Playlist is not an array");u=j}}catch(L){throw new w.o(w.l,621,L)}O.trigger(s.eb,u)}catch(L){E(L)}},E=function(y){_instanceof(y,w.o)&&!y.code&&(y=new w.o(w.l,0)),O.trigger(s.w,y)},O=Object(a.g)(this,b.a);this.load=function(P){Object(_.a)(P,A,function(y,u,p,g){E(g)})},this.destroy=function(){this.off()}}},function(m,t,e){"use strict";var n=function(a){return a.type==="hls"&&o.OS.android?a.androidhls!==!1&&!o.Browser.firefox&&parseFloat(o.OS.version.version||"0")>=4.4:null};e.d(t,"a",function(){return n});var o=e(7)},function(m,t,e){"use strict";var n=e(3),o=function(){},l=function(){return!1},a={name:"default"},s={supports:l,play:o,pause:o,preload:o,load:o,stop:o,volume:o,mute:o,seek:o,resize:o,remove:o,destroy:o,setVisibility:o,setFullscreen:o,getFullscreen:l,supportsFullscreen:l,getContainer:o,setContainer:o,getName:function(){return a},getQualityLevels:o,getCurrentQuality:o,setCurrentQuality:o,getAudioTracks:o,getCurrentAudioTrack:o,setCurrentAudioTrack:o,getSeekRange:function(){return{start:0,end:this.getDuration()}},setPlaybackRate:o,getPlaybackRate:function(){return 1},getBandwidthEstimate:function(){return null},getLiveLatency:function(){return null},attachMedia:o,detachMedia:o,init:o,setState:function(c){this.state=c,this.trigger(n.bb,{newstate:c})},sendMediaType:function(c){var d=c[0],h=d.type,f=d.mimeType,v=h==="aac"||h==="mp3"||h==="mpeg"||f&&f.indexOf("audio/")===0;this.trigger(n.T,{mediaType:v?"audio":"video"})},getDuration:function(){return 0},trigger:o};t.a=s},function(m,t,e){"use strict";var n=function(P,y){for(var u=y.length;u--;){var p=y[u];if(P.target===p.getContainer()){p.setIntersection(P);break}}},o=function(){f.forEach(function(P){var y=P.model;if(!(y.get("audioMode")||y.get("isFloating")||!y.get("controls")||y.get("visibility")<.75)){var u=y.get("state"),p=Object(h.g)();!p&&u==="paused"&&P.api.getFullscreen()?P.api.setFullscreen(!1):u==="playing"&&P.api.setFullscreen(p)}})},l=function(){f.forEach(function(P){P.model.set("activeTab",Object(c.a)())})},a=function(P,y){var u=y.indexOf(P);u!==-1&&y.splice(u,1)},s=function(P){_.forEach(function(y){y(P)})},r,c=e(46),d=e(7),h=e(6),f=[],v=[],_=[],b={},w="screen"in window&&"orientation"in window.screen,A=d.OS.android&&d.Browser.chrome,E=!1;document.addEventListener("visibilitychange",l),document.addEventListener("webkitvisibilitychange",l),A&&w&&window.screen.orientation.addEventListener("change",o),window.addEventListener("beforeunload",function(){document.removeEventListener("visibilitychange",l),document.removeEventListener("webkitvisibilitychange",l),window.removeEventListener("scroll",s),A&&w&&window.screen.orientation.removeEventListener("change",o)}),t.a={add:function(P){f.push(P)},remove:function(P){a(P,f)},addScrollHandler:function(P){E||(E=!0,window.addEventListener("scroll",s)),_.push(P)},removeScrollHandler:function(P){var y=_.indexOf(P);y!==-1&&_.splice(y,1)},addWidget:function(P){v.push(P)},removeWidget:function(P){a(P,v)},size:function(){return f.length},observe:function(P){var y;y=window.IntersectionObserver,r||(r=new y(function(u){if(u&&u.length)for(var p=u.length;p--;){var g=u[p];n(g,f),n(g,v)}},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})),b[P.id]||(b[P.id]=!0,r.observe(P))},unobserve:function(P){r&&b[P.id]&&(delete b[P.id],r.unobserve(P))}}},,function(m,t,e){"use strict";var n=function(){Object(l.a)(c),c=Object(l.b)(function(){r.forEach(function(f){f.view.updateBounds();var v=f.view.model.get("containerWidth");f.resized=f.width!==v,f.width=v}),r.forEach(function(f){f.contractElement.scrollLeft=2*f.width}),r.forEach(function(f){Object(s.d)(f.expandChild,{width:f.width+1}),f.resized&&f.view.model.get("visibility")&&f.view.updateStyles()}),r.forEach(function(f){f.expandElement.scrollLeft=f.width+1}),r.forEach(function(f){f.resized&&f.view.checkResized()})})};e.d(t,"a",function(){return d});var o=e(0),l=e(38),a=e(6),s=e(11),r=[],c=-1,d=function(){var h=function(v,_,b){var w={display:"block",position:"absolute",top:0,left:0},A={width:"100%",height:"100%"},E=Object(a.f)('<div style="opacity:0;visibility:hidden;overflow:hidden;"><div><div style="height:1px;"></div></div><div class="jw-contract-trigger"></div></div>'),O=E.firstChild,P=O.firstChild,y=O.nextSibling;Object(s.d)([O,y],Object(o.g)({overflow:"auto"},w,A)),Object(s.d)(E,Object(o.g)({},w,A)),this.expandElement=O,this.expandChild=P,this.contractElement=y,this.hiddenElement=E,this.element=v,this.view=_,this.model=b,this.width=0,this.resized=!1,v.firstChild?v.insertBefore(E,v.firstChild):v.appendChild(E),v.addEventListener("scroll",n,!0),r.push(this),n()};return h.prototype.destroy=function(){if(this.view){var f=r.indexOf(this);f!==-1&&r.splice(f,1),this.element.removeEventListener("scroll",n,!0),this.element.removeChild(this.hiddenElement),this.view=this.model=null}},h}()},,,function(m,t,e){"use strict";var n=function(){},o=function(V,Y){for(;V._state===3;)V=V._value;V._state!==0?(V._handled=!0,w._immediateFn(function(){var oe=V._state===1?Y.onFulfilled:Y.onRejected;if(oe!==null){var q;try{q=oe(V._value)}catch(G){return void a(Y.promise,G)}l(Y.promise,q)}else(V._state===1?l:a)(Y.promise,V._value)})):V._deferreds.push(Y)},l=function(V,Y){try{if(Y===V)throw new TypeError("A promise cannot be resolved with itself.");if(Y&&(typeof Y=="object"||typeof Y=="function")){var oe=Y.then;if(_instanceof(Y,w))return V._state=3,V._value=Y,void s(V);if(typeof oe=="function")return void c((q=oe,G=Y,function(){q.apply(G,arguments)}),V)}V._state=1,V._value=Y,s(V)}catch(J){a(V,J)}var q,G},a=function(V,Y){V._state=2,V._value=Y,s(V)},s=function(V){V._state===2&&V._deferreds.length===0&&w._immediateFn(function(){V._handled||w._unhandledRejectionFn(V._value)});for(var Y=0,oe=V._deferreds.length;Y<oe;Y++)o(V,V._deferreds[Y]);V._deferreds=null},r=function(V,Y,oe){this.onFulfilled=typeof V=="function"?V:null,this.onRejected=typeof Y=="function"?Y:null,this.promise=oe},c=function(V,Y){var oe=!1;try{V(function(q){oe||(oe=!0,l(Y,q))},function(q){oe||(oe=!0,a(Y,q))})}catch(q){if(oe)return;oe=!0,a(Y,q)}},d=function(V,Y){var oe=new L.a(Y);return oe.on(D.gb,function(q){V._qoe.tick("ready"),q.setupTime=V._qoe.between("setup","ready")}),oe.on("all",function(q,G){V.trigger(q,G)}),oe},h=function(V,Y){var oe=V.plugins,q=Object.keys(oe).map(function(G){var J=oe[G];return delete oe[G],J});Y.get("setupConfig")&&V.trigger("remove"),V.off(),Y.playerDestroy(),q.forEach(function(G){if(G.destroy)try{G.destroy()}catch(J){}}),Y.getContainer().removeAttribute("data-jwplayer-id")},f=function(V){var Y=++H,oe=V.id||"player-"+Y,q=new F.a,G={},J=d(this,V);q.tick("init"),V.setAttribute("data-jwplayer-id",oe),Object.defineProperties(this,{id:{enumerable:!0,get:function(){return oe}},uniqueId:{enumerable:!0,get:function(){return Y}},plugins:{enumerable:!0,get:function(){return G}},_qoe:{enumerable:!0,get:function(){return q}},version:{enumerable:!0,get:function(){return g.a}},Events:{enumerable:!0,get:function(){return X.a}},utils:{enumerable:!0,get:function(){return Q.a}},_:{enumerable:!0,get:function(){return k.c}}}),Object(k.g)(this,{_events:{},setup:function(ie){return q.clear("ready"),q.tick("setup"),J&&h(this,J),(J=d(this,V)).init(ie,this),this.on(ie.events,null,this)},remove:function(){return this.getPip()&&this.setPip(!1),function(ie){for(var Oe=O.a.length;Oe--;)if(O.a[Oe].uniqueId===ie.uniqueId){O.a.splice(Oe,1);break}}(this),J&&h(this,J),Object.keys(G).forEach(function(ie){delete G[ie]}),this},qoe:function(){var ie=J.getItemQoe();return{setupTime:this._qoe.between("setup","ready"),firstFrame:ie.getFirstFrame?ie.getFirstFrame():null,player:this._qoe.dump(),item:ie.dump()}},addCues:function(ie){return Array.isArray(ie)&&J.addCues(ie),this},getAudioTracks:function(){return J.getAudioTracks()},getBuffer:function(){return J.get("buffer")},getCaptions:function(){return J.get("captions")},getCaptionsList:function(){return J.getCaptionsList()},getConfig:function(){return J.getConfig()},getContainer:function(){return J.getContainer()},getControls:function(){return J.get("controls")},getCues:function(){return J.get("cues")},getCurrentAudioTrack:function(){return J.getCurrentAudioTrack()},getCurrentCaptions:function(){return J.getCurrentCaptions()},getCurrentQuality:function(){return J.getCurrentQuality()},getCurrentTime:function(){return J.get("currentTime")},getDuration:function(){return J.get("duration")},getEnvironment:function(){return j},getFullscreen:function(){return J.get("fullscreen")},getHeight:function(){return J.getHeight()},getItemMeta:function(){return J.get("itemMeta")||{}},getMute:function(){return J.getMute()},getPercentViewable:function(){return J.get("visibility")},getPip:function(){return J.get("pip")},getPlaybackRate:function(){return J.get("playbackRate")},getPlaylist:function(){return J.get("playlist")},getPlaylistIndex:function(){return J.get("item")},getPlaylistItem:function(ie){if(!Q.a.exists(ie))return J.get("playlistItem");var Oe=this.getPlaylist();return Oe?Oe[ie]:null},getPosition:function(){return J.get("position")},getProvider:function(){return J.getProvider()},getQualityLevels:function(){return J.getQualityLevels()},getSafeRegion:function(ie){return ie===void 0&&(ie=!0),J.getSafeRegion(ie)},getState:function(){return J.getState()},getStretching:function(){return J.get("stretching")},getViewable:function(){return J.get("viewable")},getVisualQuality:function(){return J.getVisualQuality()},getVolume:function(){return J.get("volume")},getWidth:function(){return J.getWidth()},setCaptions:function(ie){return J.setCaptions(ie),this},setConfig:function(ie){return J.setConfig(ie),this},setControls:function(ie){return J.setControls(ie),this},setCurrentAudioTrack:function(ie){J.setCurrentAudioTrack(ie)},setCurrentCaptions:function(ie){J.setCurrentCaptions(ie)},setCurrentQuality:function(ie){J.setCurrentQuality(ie)},setFullscreen:function(ie){return J.setFullscreen(ie),this},setAllowFullscreen:function(ie){return J.setAllowFullscreen(ie),this},setMute:function(ie){return J.setMute(ie),this},setPip:function(ie){return J.setPip(ie),this},setPlaybackRate:function(ie){return J.setPlaybackRate(ie),this},setPlaylistItem:function(ie,Oe){return J.setPlaylistItem(ie,Oe),this},setCues:function(ie){return Array.isArray(ie)&&J.setCues(ie),this},setVolume:function(ie){return J.setVolume(ie),this},load:function(ie,Oe){return J.load(ie,Oe),this},play:function(ie){return J.play(ie),this},pause:function(ie){return J.pause(ie),this},playToggle:function(ie){switch(this.getState()){case D.pb:case D.jb:return this.pause(ie);default:return this.play(ie)}},seek:function(ie,Oe){return J.seek(ie,Oe),this},playlistItem:function(ie,Oe){return J.playlistItem(ie,Oe),this},playlistNext:function(ie){return J.playlistNext(ie),this},playlistPrev:function(ie){return J.playlistPrev(ie),this},next:function(ie){return J.next(ie),this},requestPip:function(ie){return J.requestPip(ie),this},castToggle:function(){return J.castToggle(),this},stopCasting:function(){return J.stopCasting(),this},createInstream:function(){return J.createInstream()},stop:function(){return J.stop(),this},resize:function(ie,Oe){return J.resize(ie,Oe),this},addButton:function(ie,Oe,De,ke,tt){return J.addButton(ie,Oe,De,ke,tt),this},removeButton:function(ie){return J.removeButton(ie),this},attachMedia:function(){return J.attachMedia(),this},detachMedia:function(){return J.detachMedia(),this},isBeforeComplete:function(){return J.isBeforeComplete()},isBeforePlay:function(){return J.isBeforePlay()},setPlaylistItemCallback:function(ie,Oe){J.setItemCallback(ie,Oe)},removePlaylistItemCallback:function(){J.setItemCallback(null)},getPlaylistItemPromise:function(ie){return J.getItemPromise(ie)},getFloating:function(){return!!J.get("isFloating")},setFloating:function(ie){J.setConfig({floating:{mode:ie?"always":"never"}})}})},v=function(V){for(var Y=0;Y<O.a.length;Y++)if(O.a[Y].id===V)return O.a[Y];return null},_=function(V){Object.defineProperties(V,{api:{get:function(){return u},set:function(){}},version:{get:function(){return g.a},set:function(){}},debug:{get:function(){return x.a.debug},set:function(oe){x.a.debug=!!oe}}})};e.r(t);var b=setTimeout;function w(ne){if(!_instanceof(this,w))throw new TypeError("Promises must be constructed via new");if(typeof ne!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(ne,this)}w.prototype.catch=function(ne){return this.then(null,ne)},w.prototype.then=function(ne,V){var Y=new this.constructor(n);return o(this,new r(ne,V,Y)),Y},w.prototype.finally=function(ne){var V=this.constructor;return this.then(function(Y){return V.resolve(ne()).then(function(){return Y})},function(Y){return V.resolve(ne()).then(function(){return V.reject(Y)})})},w.all=function(ne){return new w(function(V,Y){if(!ne||ne.length===void 0)throw new TypeError("Promise.all accepts an array");var oe=Array.prototype.slice.call(ne);if(oe.length===0)return V([]);var q=oe.length;function G(ae,ie){try{if(ie&&(typeof ie=="object"||typeof ie=="function")){var Oe=ie.then;if(typeof Oe=="function")return void Oe.call(ie,function(De){G(ae,De)},Y)}oe[ae]=ie,--q==0&&V(oe)}catch(De){Y(De)}}for(var J=0;J<oe.length;J++)G(J,oe[J])})},w.resolve=function(ne){return ne&&typeof ne=="object"&&ne.constructor===w?ne:new w(function(V){V(ne)})},w.reject=function(ne){return new w(function(V,Y){Y(ne)})},w.race=function(ne){return new w(function(V,Y){for(var oe=0,q=ne.length;oe<q;oe++)ne[oe].then(V,Y)})},w._immediateFn=typeof setImmediate=="function"&&function(ne){setImmediate(ne)}||function(ne){b(ne,0)},w._unhandledRejectionFn=function(ne){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",ne)};var A=w;window.Promise||(window.Promise=A);var E=e(19),O=e(14),P=e(15),y=e(20),u={availableProviders:P.a,registerProvider:y.a},p=e(25),g=e(22),k=e(0),x=e(17),j=e(7),L=e(47),D=e(3),F=e(23),X=e(8),Q=e(39),H=0;Object(k.g)(f.prototype,{on:function(V,Y,oe){return X.c.call(this,V,Y,oe)},once:function(V,Y,oe){return X.d.call(this,V,Y,oe)},off:function(V,Y,oe){return X.b.call(this,V,Y,oe)},trigger:function(V,Y){return(Y=k.c.isObject(Y)?Object(k.g)({},Y):{}).type=V,x.a.debug?X.e.call(this,V,Y):X.f.call(this,V,Y)},getPlugin:function(V){return this.plugins[V]},addPlugin:function(V,Y){this.plugins[V]=Y,this.on("ready",Y.addToPlayer),Y.resize&&this.on("resize",Y.resizeHandler)},registerPlugin:function(V,Y,oe){Object(p.b)(V,Y,oe)},getAdBlock:function(){return!1},playAd:function(V){},pauseAd:function(V){},skipAd:function(){}}),e.d(t,"assignLibraryProperties",function(){return _}),e.p=Object(E.loadFrom)();var ce=function(V){var Y,oe;if(V?typeof V=="string"?(Y=v(V))||(oe=document.getElementById(V)):typeof V=="number"?Y=O.a[V]:V.nodeType&&(Y=v((oe=V).id||oe.getAttribute("data-jwplayer-id"))):Y=O.a[0],Y)return Y;if(oe){var q=new f(oe);return O.a.push(q),q}return{registerPlugin:p.b}};_(ce),t.default=ce}]).default}}),d4,qr,h4=Mt({"https-url:https://av.dev.archive.org/js/jwplayer.js":function(){nI(),d4=location.hostname==="av.prod.archive.org"||location.hostname==="av.dev.archive.org"?"/jw/8":"https://av.prod.archive.org/jw/8";var m;m=window,qr=m.jwplayer}}),kf=Mt({"https-url:https://av.dev.archive.org/js/util/strings.js":function(){}}),rI=Mt({"https-url:https://av.dev.archive.org/js/tv/tuners.js":function(){}}),iI=Mt({"https-url:https://av.dev.archive.org/js/items.js":function(){kf()}}),oI=Mt({"https-url:https://av.dev.archive.org/js/util/fetch.js":function(){}}),aI=Mt({"https-url:https://av.dev.archive.org/iso/hostname.js":function(){}}),f4,sI,p4,lI,uI,v4=Mt({"https-url:https://av.dev.archive.org/js/tv.js":function(){m4(),g4(),rI(),ul(),X0(),iI(),oI(),aI(),kf(),sI=(f4=l5())!=null&&f4.startsWith("tvnix")?l5().split(".")[0].substr(5).toUpperCase():!1,p4="/^[^_]+_20[012][0-9][0-9][0-9][0-9][0-9]_[0-9][0-9][0-9][0-9][0-9][0-9]/",lI="identifier ~ '".concat(p4.slice(1).slice(0,-1),"'"),uI=BT(["UNITED STATES","THE CITY","UNITED","US","U.S.","AMERICA","ABC","NBC","CNN"])}}),g4=Mt({"https-url:https://av.dev.archive.org/js/tv/recordings.js":function(){v4()}}),m4=Mt({"https-url:https://av.dev.archive.org/js/tv/zones.js":function(){g4(),ul()}}),y4,cI,X0=Mt({"https-url:https://av.dev.archive.org/js/time.js":function(){ul(),kf(),m4(),v4(),y4={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},cI=Object.keys(y4)}}),xf,ms,b4,w4,_4,Sf,k4,x4,S4,C4,dI=Mt({"https-url:https://av.dev.archive.org/js/player.js":function(){ul(),Y0(),X0(),kf(),xf=!1,ms=100,b4=(location==null?void 0:location.host)==="av.dev.archive.org",w4="__ia_thumb.jpg",_4=0,Sf=Object.fromEntries(["thumbnail2","thumbnail","h.264","webm","h.264 720p","h.264 486p","512kb mpeg4","ogg video",xf?"h.264 4k":"h.264 hd","h.264 hd","h.264 mpeg4","mpeg4","ogg theora","flash video","vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"].map(function(m){return[m,_4++]})),k4=["vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"],x4=["64kbps m3u","64kbps mp3 zip","checksums","flac fingerprint","item tile","vbr m3u","vbr zip"],S4=function(){"use strict";function m(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this;_classCallCheck(this,m),this.identifier=t.metadata.identifier,this.groups=[],this.widths={},this.heights={},this.durations={},this.srts={},this.vtts={},this.haxLP=!1;var o={},l={},a={},s={},r={},c={},d={},h={},f=Sf.thumbnail2,v={};t.files.forEach(function(lt){var ct=_slicedToArray(n.filter(lt),1),Ge=ct[0];if(Ge){if("original"in Ge){var ze=m.val(Ge.original);Ge.name!==ze&&(o[Ge.name]=ze)}Ge.name.endsWith(".png")&&!Ge.name.endsWith("_spectrogram.png")&&(d[Ge.name]=1)}}),$n(o),t.files.forEach(function(lt){var ct=_slicedToArray(n.filter(lt),3),Ge=ct[0],ze=ct[1],He=ct[2];if(Ge){var rt=Ge.name,it=Sf[ze],wt="original"in Ge,_t=rt;if(wt){_t=m.val(Ge.original);for(var xt=10;xt&&_t in o;xt--)_t=o[_t];(He==="mp4"||He==="ogv")&&_t in t.files&&t.files[_t].format==="ISO Image"&&preg_match("/^(.*?)(d+).[^.]+$/",$filename,$m2)&&preg_match("/^(.*).[^.]+$/",$key,$mat)&&$m2[1]==$mat[1]&&($origSuffix=strrchr($fi.ORIGINAL,"."),_t="{$m2[1]}{$m2[2]}$origSuffix"),_t=m.val(_t)}else"artist"in Ge?v[_t]=Ge.artist:"creatorxxx"in Ge&&(v[_t]=Ge.creatorxxx);if(!(e&&_t!==e)){if(_t in l||(l[_t]={}),"title"in Ge&&(wt&&"title"in l[_t]||(l[_t].title=Ge.title)),"height"in Ge&&(n.heights[rt]=Ge.height),"width"in Ge&&(n.widths[rt]=Ge.width),"autoplay"in Ge&&(r[rt]=Ge.autoplay),"length"in Ge){var ut=vp(String(m.val(Ge.length)));n.durations[rt]=ut,wt&&(h[_t]=1),(wt||!("length"in l[_t])||!(_t in h))&&(l[_t].length=Math.round(ut))}if(it){if(wt){if(ze==="h.264 720p"){l[_t].HD=rt;return}}else{var we=Ge.title;if(ze==="h.264 hd"||ze==="h.264 mpeg4"&&(we.indexOf("[HD]")>0||we.indexOf(" HD ")>0||we.endsWith(" HD"))){l[_t].HD=rt;return}if(xf&&ze==="h.264 4k"){l[_t]["4K"]=rt;return}it>1&&(it+=ms)}it>1&&(k4.indexOf(ze)>=0?(a[_t]=1,c[rt]=1):s[_t]=1),_t in l||(l[_t]={}),it in l[_t]?ze==="thumbnail"&&f in l[_t]&&(l[_t][f]=rt):(l[_t][it]=rt,it<ms&&it+ms in l[_t]?delete l[_t][it+ms]:it>ms&&it-ms in l[_t]&&delete l[_t][it-ms])}}}}),$n(l),this.haxLP&&(delete l["".concat(this.identifier,".flac")],delete l["".concat(this.identifier,".ogg")],delete l["".concat(this.identifier,".mp3")],delete l["".concat(this.identifier,".m4a")]);var _=Object.keys(a).length,b=Object.keys(s).length;b>0&&(b>=_||t.metadata.mediatype==="movies")?this.showing="movies":this.showing=_?"audio":!1;var w=Object.values(v);(w.length<=1||_toConsumableArray(new Set(w)).length<=1)&&(v={});var A=this.showing==="movies"?s:a,E=this.showing==="movies"?b:_,O=!0,P=!1,y=void 0;try{for(var u=Object.entries(l)[Symbol.iterator](),p;!(O=(p=u.next()).done);O=!0){var g=_slicedToArray(p.value,2),k=g[0],x=g[1];if(k in A){var j={SRC:[]};if(0 in x)j.POSTER=x[0];else if(1 in x)j.POSTER=x[1];else{var L=!0,D=!1,F=void 0;try{for(var X=Object.entries(x)[Symbol.iterator](),Q;!(L=(Q=X.next()).done);L=!0){var H=_slicedToArray(Q.value,2),ce=H[0],ne=H[1];if(parseInt(ce,10)){var V=ne.replace(/(\.m4a|\.ogg|_sample\.mp3|\.mp3)$/i,".png");V!==ne&&V in d&&(j.POSTER=V)}}}catch(lt){D=!0,F=lt}finally{try{!L&&X.return!=null&&X.return()}finally{if(D)throw F}}}k in r&&(j.AUTOPLAY=!1);var Y=!0,oe=!1,q=void 0;try{for(var G=Object.entries(x)[Symbol.iterator](),J;!(Y=(J=G.next()).done);Y=!0){var ae=_slicedToArray(J.value,2),ie=ae[0],Oe=ae[1];if(parseInt(ie,10)&&ie>1){if(this.showing==="movies"&&c[Oe]||this.showing!=="movies"&&!c[Oe])continue;j.SRC.push(Oe)}}}catch(lt){oe=!0,q=lt}finally{try{!Y&&G.return!=null&&G.return()}finally{if(oe)throw q}}j.SRC.length&&(j.TITLE="title"in x?m.val(x.title):k.split("/").pop().replace(/\.[^.]+$/,"").replace(/_512kb$/,"").replace(/_/g," "),j.ORIG=k,k in v&&(j.ARTIST=v[k]),"length"in x?j.length=x.length:j.length=this.runtime(t,E,k),"HD"in x&&(j.HD=x.HD),xf&&"4K"in x&&(j["4K"]=x["4K"]),this.groups.push(j))}}}catch(lt){P=!0,y=lt}finally{try{!O&&u.return!=null&&u.return()}finally{if(P)throw y}}if(this.captions(),b4&&$n("player",this),this.showing==="audio"){var De=!0,ke=!1,tt=void 0;try{for(var Ve=this.groups[Symbol.iterator](),Qe;!(De=(Qe=Ve.next()).done);De=!0){var ht=Qe.value,bt=!1,vt=!1,Le=!0,_e=!1,Ne=void 0;try{for(var Ze=Object.entries(ht.SRC)[Symbol.iterator](),Ke;!(Le=(Ke=Ze.next()).done);Le=!0){var Pe=_slicedToArray(Ke.value,2),at=Pe[0],pt=Pe[1];pt.endsWith("_sample.mp3")?bt=at:pt.endsWith(".mp3")&&(vt=!0)}}catch(lt){_e=!0,Ne=lt}finally{try{!Le&&Ze.return!=null&&Ze.return()}finally{if(_e)throw Ne}}vt&&bt!==!1&&ht.SRC.splice(bt,1)}}catch(lt){ke=!0,tt=lt}finally{try{!De&&Ve.return!=null&&Ve.return()}finally{if(ke)throw tt}}}}return _createClass(m,[{key:"filter",value:function(e){var n=e.name,o=n.substr(1+n.lastIndexOf(".")).toLowerCase(),l=e.format.toLowerCase();if(x4.includes(l)||n===w4)return[];if(o==="mp3"&&(e.original==="".concat(this.identifier,"_segments.json")||e.original==="".concat(this.identifier,"_segments.xml"))&&(this.haxLP=!0,delete e.original,e.source="original"),typeof e.original=="string"&&e.original.endsWith(".torrent")&&(delete e.original,e.source="original"),o==="vtt")return this.vtts[n]=1,[];if(o==="srt")return this.srts[n]=1,[];var a=Sf[l];return o==="mp3"&&!a?[e,"64kbps mp3",o]:[e,l,o]}},{key:"jwplaylist",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],l=[],a="https://archive.org/download/".concat(this.identifier,"/"),s=["audio/mpeg","mp3","audio/ogg","ogg","video/h264","mp4","video/ogg","ogg",""];navigator.userAgent.indexOf("Chrome/")>0?Aa("jest")?s=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]:s=["audio/ogg","ogg","audio/mpeg","mp3","video/h264","mp4","video/ogg","ogg",""]:navigator.userAgent.indexOf(" Iceweasel/")>0&&(s=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]),s.push("video/x-flv");var r=0;s=Object.fromEntries(s.map(function(F){return[F,r++]}));var c=!0,d=!1,h=void 0;try{for(var f=Object.values(this.groups)[Symbol.iterator](),v;!(c=(v=f.next()).done);c=!0){var _=v.value,b={sources:[],title:$T(_.TITLE,100,!0)};"ORIG"in _&&(b.orig=_.ORIG,"ARTIST"in _&&(b.artist=_.ARTIST)),"AUTOPLAY"in _&&(b.autoplay=_.AUTOPLAY);var w=Aa("poster");w?b.image=this.url(w.replace(/^(https?):\/([^/])/,"$1://$2")):(this.showing==="movies"&&"POSTER"in _||this.showing==="audio"&&"POSTER"in _)&&(b.image=this.url(a+_.POSTER),o.length||o.push(this.url(a+_.POSTER))),"length"in _&&(b.duration=_.length),"HD"in _&&_.SRC.push(_.HD);var A={},E=!0,O=!1,P=void 0;try{for(var y=_.SRC[Symbol.iterator](),u;!(E=(u=y.next()).done);E=!0){var p=u.value,g=((p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))$/i)||[]).pop()||(p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))\?/i)||[]).pop()||(p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))&/i)||[]).pop()||"").toLowerCase();if(!(n&&(g==="ogg"||g==="ogv"))){var k="",x=[640,480];switch(g){case"mp3":k="mp3";break;case"ogg":k="ogg";break;case"m4a":k="aac";break;case"ogv":k="ogg",x=[400,300];break;case"mp4":k="mp4";break;case"mpeg4":k="mp4";break;case"m4v":k="mp4";break;case"mov":k="mp4";break;case"flv":k="video/x-flv";break;case"swf":k="video/x-flv";break;default:k=""}var j=p in this.widths?this.widths[p]:x[0],L=p in this.heights?this.heights[p]:x[1],D={file:this.url(a+p),width:j,height:L};k!==""&&(D.type=k),this.showing==="movies"&&(D.label="".concat(L,"p").concat(L>=720?" HD":"")),!(k&&parseInt(L,10)===parseInt(A[k],10))&&(A[k]=L,b.sources.push(D),this.showing==="movies"&&"image"in b&&(b.tracks=[{kind:"thumbnails",file:"".concat(b.image.replace("/download/","/stream/").replace("%2F","/"),"?vtt=vtt.vtt")}]),p in this.durations&&(b.duration=Math.max(b.duration,this.durations[p])))}}}catch(F){O=!0,P=F}finally{try{!E&&y.return!=null&&y.return()}finally{if(O)throw P}}$n(e.tv),l.push(b)}}catch(F){d=!0,h=F}finally{try{!c&&f.return!=null&&f.return()}finally{if(d)throw h}}return l}},{key:"runtime",value:function(e,n,o){return this.xxx="implement runtime() ".concat(n?typeof e=="undefined"?"undefined":_typeof(e):typeof o=="undefined"?"undefined":_typeof(o)),-1}},{key:"captions",value:function(){this.xxx="implement captions()"}},{key:"url",value:function(e){return this.xxx="sort me out ",e}}],[{key:"val",value:function(e){return typeof e=="object"?e.length?e[0]:"":e}}]),m}(),C4=S4}}),Cf,hI=Mt({"https-url:https://av.dev.archive.org/js/util/onclick.js":function(){Cf=NT}}),K0,A4,fI=Mt({"https-url:https://av.dev.archive.org/js/playset.js":function(){u4(),Y0(),ul(),hI(),h4(),K0=function(){"use strict";function m(){if(_classCallCheck(this,m),m.avplayer="#jw6",m.resizer_listening=!1,m.unplayable_timer=null,m.mobile=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0||navigator.userAgent.indexOf("Android")>0,this.id=!1,this.selector_play_items=!1,this.selector_playlist=!1,!!m.is_local_storage_available()){this.selector_play_items=Z(".js-playset-items"),this.selector_playlist=Z(".js-playset-list");var t=Z(".js-playset").attr("data-mediatype");if(this.selector_playlist.length||(this.selector_playlist="body"),this.selector_play_items.length?(!t||["audio","movies","etree"].includes(t))&&(Z(this.selector_play_items).append('<span id="playplayset"/>'),Z("#playplayset").html('<a\n          class="stealth"\n          href="#play-items"\n          data-event-click-tracking="Playset|PlayAllLink"\n        >\n          <span class="iconochive-play" aria-hidden="true"></span>\n          <span class="sr-only">play</span>\n          <span class="hidden-xs-span"> Play All</span>\n          <br />\n        </a>'),Cf("#playplayset",m.create_playlist_goto_first_item),Aa("autoplay",!0)&&!Aa("playset",!0)&&setTimeout(m.create_playlist_goto_first_item,2500)):this.selector_play_items=!1,Aa("playset",!0)){var e;if(e=_slicedToArray(location.href.match(/archive\.org\/details\/([^/&?]+)/),2),this.id=e[1],!this.id)return;Z("#playset-xs").length||Z("#theatre-ia-wrap").after('<div id="playset-xs" class="hidden-sm hidden-md hidden-lg"><div/></div>'),this.show_playlist(),m.skip_unplayable_item(),m.resizer()}$n("playset ready")}}return _createClass(m,[{key:"show_playlist",value:function(){var e=this,n=m.get_playset();if(n){var o=!1,l="",a=!0,s=!1,r=void 0;try{for(var c=n.list[Symbol.iterator](),d;!(a=(d=c.next()).done);a=!0){var h=d.value;l+=m.playlist_item(h[0],h[1],h[2],h[3]),this.id===h[0]&&(o=!0)}}catch(v){s=!0,r=v}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw r}}if(o){var f="\n".concat(m.playlist_header(n),'\n<div class="playset-list">\n').concat(l,"\n</div>\n");Z("body").addClass("playset"),Z("body").addClass(Z("#theatre-ia-wrap").length?"":" playset-hdr-only"),Z(this.selector_playlist).prepend('<div id="playset-ia">'.concat(f,"</div>")),Cf("#playset-pp .js-playset-play",m.play),Cf("#playset-pp .js-playset-pause",m.pause),setTimeout(function(){e.autoscroll_playlist()},500),Z(document).ready(function(){Z("#texty iframe").on("load",function(){Z("#texty iframe").contents().click(m.pause)})})}}}},{key:"autoscroll_playlist",value:function(){var e=Z('#playset-ia div[data-id="'.concat(this.id,'"')).offset();if(e){var n=Z("#playset-xs:visible").length?10:Z("#topnav").height(),o=e.top-n-Z("#playset-ia .playset-hdr").height();$n("scrolling playset to ",o),Z("#playset-ia .playset-list").scrollTop(o)}}}],[{key:"create_playlist_goto_first_item",value:function(){$n("create_playlist_goto_first_item()");var e=[],n=Z("#also-found").length,o=n?"#also-found .item-ia":".item-ia:visible";Z(o).each(function(l,a){var s=Z(a),r=s.data().id;if(!r.match(/^__/)){var c=m.truncate(s.find(".item-ttl,.collection-title a").text(),35),d=m.truncate(s.find(".byv").text(),75),h=s.data().year,f=m.truncate(s.next().find(".C234 > span:first").text(),75);e.push([r,c,d.length?d:f,h])}}),m.set_playset(e),m.mobile?m.play_mobile(e):location.href="/details/".concat(e[0][0],"?autoplay=1&playset=1")}},{key:"play_mobile",value:function(e){var n=[],o=!0,l=!1,a=void 0;try{for(var s=e[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var c=r.value;n.push(c[0])}}catch(d){l=!0,a=d}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}location.href="https://archive.org/services/playset.php?ids=".concat(n.join(","))}},{key:"resizer",value:function(){m.resizer_listening||(m.resizer_listening=!0,Z(window).on("resize  orientationchange",function(){clearTimeout(m.throttler),m.throttler=setTimeout(m.resizer,250)}));var e=Z("#playset-xs:visible").length?"playset-xs":"theatre-ia-wrap",n=Z("#playset-ia").parent().attr("id");$n("browser resize: ",e," -v- ",n),e!==n&&(e==="playset-xs"?Z("#playset-ia").appendTo("#playset-xs > div"):Z("#playset-ia").prependTo("#".concat(e)),$n("playset moved"))}},{key:"playlist_header",value:function(e){var n=e.src.match(/\?/)?"&":"?",o="".concat(e.src).concat(n,"autoplay=1");return'\n<div class="playset-hdr">\n<div>\n  <a href='.concat(o,">Playlist</a>\n  ").concat(m.glyph("beta"),'\n</div>\n<div id="playset-pp">\n  <a href="#" class="js-playset-pause">\n    ').concat(m.glyph("Pause"),'\n  </a>\n  <a href="#" class="js-playset-play" style="display:none">\n    ').concat(m.glyph("play"),"\n  </a>\n</div>\n<div>\n  <a href=").concat(o,">\n    ").concat(m.glyph("share"),"\n  </a>\n</div>\n</div>\n")}},{key:"playlist_item",value:function(e,n,o,l){return'\n<div class="playset-item" data-id='.concat(e,'>\n<a href="/details/').concat(e,'?autoplay=1&playset=1">\n  <div class="topinblock playset-img">\n    <img src="/services/img/').concat(e,'"/>\n  </div><div class="topinblock">\n    ').concat(m.item_year(l),"\n    <b>\n      ").concat(n,"\n    </b><br/>\n    ").concat(o,"\n  </div>\n</a>\n</div>")}},{key:"item_year",value:function(e){return e?'\n<div style="float:right">\n('.concat(e,")\n</div>"):""}},{key:"skip_unplayable_item",value:function(){m.unplayable_timer=setTimeout(function(){(typeof qr=="undefined"||!Z(m.avplayer).length)&&m.goto_next_item()},3e3)}},{key:"goto_next_item",value:function(){var e=location.href.match(/\/details\/([^/&?]+)/)[1],n=m.get_playlist(),o="",l=!0,a=!1,s=void 0;try{for(var r=n[Symbol.iterator](),c;!(l=(c=r.next()).done);l=!0){var d=c.value;e===o&&(location.href="/details/".concat(d[0],"?autoplay=1&playset=1"));var h;h=_slicedToArray(d,1),o=h[0]}}catch(f){a=!0,s=f}finally{try{!l&&r.return!=null&&r.return()}finally{if(a)throw s}}}},{key:"onComplete",value:function(e,n){var o=e.getPlaylistIndex(),l=e.getPlaylist().length,a=o+1>=l||n&&n.done;a&&m.goto_next_item()}},{key:"get_playlist",value:function(){var e=m.get_playset();return typeof e.list=="undefined"?e:e.list}},{key:"get_playset",value:function(){return JSON.parse(localStorage.getItem("playset"))}},{key:"set_playset",value:function(e){var n=new Date,o={version:"1.1",src:(location.pathname+location.search).replace(/[&?]autoplay=1/,""),created:n.toJSON(),createdTS:Math.round(n.getTime()/1e3),list:e};localStorage.setItem("playset",JSON.stringify(o))}},{key:"pause",value:function(){if($n("playset pause"),typeof qr!="undefined"&&Z(m.avplayer).length){var e=qr(m.avplayer.substr(1));return e&&e.getState()&&(e.getState().toUpperCase()==="PLAYING"?e.pause():e.play(),Z("#playset-pp a").toggle()),!1}return m.unplayable_timer&&(clearTimeout(m.unplayable_timer),m.unplayable_timer=null,Z("#playset-pp a").toggle()),!1}},{key:"play",value:function(){if($n("play/resume"),typeof qr!="undefined"&&Z(m.avplayer).length){var e=qr(m.avplayer.substr(1));return e&&e.getState()&&(e.getState().toUpperCase()!=="PLAYING"&&e.play(),Z("#playset-pp a").toggle()),!1}return m.unplayable_timer||(m.skip_unplayable_item(),Z("#playset-pp a").toggle()),!1}},{key:"glyph",value:function(e){return'<span class="iconochive-'.concat(e,'" aria-hidden="true"></span>\n           <span class="sr-only">').concat(e,"</span>")}},{key:"truncate",value:function(e,n){var o=e.trim().replace(/\s+/g," ");return o.length<=n?o:"".concat(o.substr(0,n),"..")}},{key:"is_local_storage_available",value:function(){try{return"localStorage"in window}catch(e){return!1}}}]),m}(),Z(function(){return new K0}),A4=K0}}),O4,j4,pI=Mt({"https-url:https://av.dev.archive.org/js/util/ios.js":function(){O4=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0,j4=O4}}),vI=Mt({"https-url:https://av.dev.archive.org/iso/s3.js":function(){}}),E4,gI=Mt({"https-url:https://av.dev.archive.org/js/mdapi.js":function(){vI(),E4=zT}}),mI=Mt({"https-url:https://av.dev.archive.org/js/play/background-play.js":function(){Au(),pa(),customElements.define("background-play",function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.toggle=!Xr.get("nohls"),n}return _createClass(e,[{key:"click_on",value:function(){this.toggle=!0,Xr.remove("nohls",{path:"/details"})}},{key:"click_off",value:function(){this.toggle=!1,Xr.set("nohls",1,{path:"/details",expires:30})}},{key:"render",value:function(){var o="jw-settings-item-active";return zr(_templateObject411(),this.toggle,this.toggle?o:"",this.click_on,!this.toggle,this.toggle?"":o,this.click_off)}},{key:"createRenderRoot",value:function(){return this}}],[{key:"properties",get:function(){return{toggle:Boolean}}}]),e}(jo))}}),ys,Oa,Q0,Af,Of,Eo,ko,J0,yI=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/transcript-view@0.0.3/esnext/transcript-view.mjs":function(){vn(),Or(),vn(),Or(),vn(),Or(),ys=function(t,e,n,o){var l=arguments.length,a=l<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(a=(l<3?s(a):l>3?s(e,n,a):s(e,n))||a);return l>3&&a&&Object.defineProperty(e,n,a),a},Oa=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.entry=void 0,n.isActive=!1,n.isSelected=!1,n.isClickable=!1,n.isSearchResult=!1,n.isMusicEntry=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return St(_templateObject412(),this.entry?this.entry.displayText:"")}}]),e}(Vn),ys([Kt({type:Object})],Oa.prototype,"entry",void 0),ys([Kt({type:Boolean,reflect:!0})],Oa.prototype,"isActive",void 0),ys([Kt({type:Boolean,reflect:!0})],Oa.prototype,"isSelected",void 0),ys([Kt({type:Boolean,reflect:!0})],Oa.prototype,"isClickable",void 0),ys([Kt({type:Boolean,reflect:!0})],Oa.prototype,"isSearchResult",void 0),ys([Kt({type:Boolean,reflect:!0})],Oa.prototype,"isMusicEntry",void 0),Oa=ys([Mr("transcript-entry")],Oa),Q0=function(t,e,n,o){var l=arguments.length,a=l<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(a=(l<3?s(a):l>3?s(e,n,a):s(e,n))||a);return l>3&&a&&Object.defineProperty(e,n,a),a},Af=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.seconds=0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return St(_templateObject413(),this.durationString)}},{key:"durationString",get:function(){if(typeof this.seconds!="number")return"";var o=Math.floor(this.seconds/3600),l=Math.floor(this.seconds/60)%60,a=Math.floor(this.seconds%60),s=o>0?"".concat(o):void 0,r=o>0&&l<10?"0".concat(l):"".concat(l),c=a<10?"0".concat(a):"".concat(a),d="".concat(r,":").concat(c);return d=s?"".concat(s,":").concat(d):d,d}}]),e}(Vn),Q0([Kt({type:Number})],Af.prototype,"seconds",void 0),Af=Q0([Mr("duration-formatter")],Af),Of=function(){"use strict";function m(t){_classCallCheck(this,m),this.entries=[],this.entries=t}return _createClass(m,[{key:"searchResults",get:function(){return this.entries.filter(function(e){return e.searchMatchIndex!==void 0})}}]),m}(),Eo=function(t,e,n,o){var l=arguments.length,a=l<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(a=(l<3?s(a):l>3?s(e,n,a):s(e,n))||a);return l>3&&a&&Object.defineProperty(e,n,a),a},ko=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.config=void 0,n.currentTime=0,n.topContextHeight=50,n.bottomContextHeight=50,n.autoScroll=!0,n.selectedSearchResultIndex=0,n.showContextZones=!1,n.timeScrollTop=0,n.currentEntries=[],n.scrollTimerDelay=15e3,n.scrollResumeTimerId=-1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){var o=this;return St(_templateObject414(),this.showContextZones?this.contextZoneDevTemplates:"",this.didScroll,this.didScroll,this.timeDisplayTemplate,this.autoScrollButtonTemplate,this.transcriptEntries.map(function(l){return o.transcriptEntryTemplate(l)}))}},{key:"scrollToSelectedSearchResult",value:function(){var o=this,l=o.selectedSearchResult;l&&(this.autoScroll=!1,this.scrollToElement(l))}},{key:"autoScrollButtonTemplate",get:function(){return St(_templateObject415(),this.enableAutoScroll,this.autoScroll?"hidden":"")}},{key:"timeDisplayTemplate",get:function(){return St(_templateObject416(),this.timeScrollTop,this.currentTime)}},{key:"transcriptEntryTemplate",value:function(o){var l=this.currentEntries.find(function(c){return c.id===o.id})!==void 0,a=o.searchMatchIndex===this.selectedSearchResultIndex,s=o.searchMatchIndex!==void 0,r=o.isMusic;return St(_templateObject417(),o,a,l,s,r,o.searchMatchIndex,o.id,this.transcriptEntrySelected)}},{key:"contextZoneDevTemplates",get:function(){return St(_templateObject418(),this.topContextZoneDevTemplate,this.bottomContextZoneDevTemplate)}},{key:"topContextZoneDevTemplate",get:function(){return St(_templateObject419(),this.topContextHeight)}},{key:"bottomContextZoneDevTemplate",get:function(){return St(_templateObject420(),this.bottomContextHeight)}},{key:"transcriptEntries",get:function(){return this.config?this.config.entries:[]}},{key:"transcriptEntrySelected",value:function(o){var l=o.target,a=l.entry;if(a){var s=new CustomEvent("transcriptEntrySelected",{detail:{entry:a}});this.dispatchEvent(s),a.searchMatchIndex!==void 0&&(this.selectedSearchResultIndex=a.searchMatchIndex),this.autoScroll=!1}}},{key:"handleCurrentTimeChange",value:function(){var o=this,l=this.transcriptEntries;if(l.length!==0){var a=l.filter(function(s){return o.currentTime>=s.start&&o.currentTime<=s.end});this.entryArraysMatch(a,this.currentEntries)||(this.dispatchEvent(new Event("currentEntriesUpdated")),this.currentEntries=a)}}},{key:"entryArraysMatch",value:function(o,l){if(o.length!==l.length)return!1;var a=o.map(function(c){return c.id}).sort(),s=l.map(function(c){return c.id}).sort(),r=!0;return a.forEach(function(c,d){s[d]!==c&&(r=!1)}),!!r}},{key:"entryIdentifierClosestToTime",value:function(o){if(this.transcriptEntries.length===0)return null;var l=this.transcriptEntries[0],a=Math.abs(o-l.start),s=l.id;return this.transcriptEntries.forEach(function(r){var c=Math.abs(o-r.start);c<a&&(a=c,s=r.id)}),s}},{key:"elementClosestToTime",value:function(o){var l=this.entryIdentifierClosestToTime(o);return l?this.elementForIdentifier(l):null}},{key:"elementForIdentifier",value:function(o){return this.shadowRoot&&this.shadowRoot.querySelector('transcript-entry[data-identifier="'.concat(o,'"]'))}},{key:"didScroll",value:function(){var o=this;this.autoScroll=!1,window.clearTimeout(this.scrollResumeTimerId),this.scrollResumeTimerId=window.setTimeout(function(){o.autoScroll=!0},this.scrollTimerDelay)}},{key:"enableAutoScroll",value:function(){this.autoScroll=!0,this.scrollToClosestEntry()}},{key:"updated",value:function(o){o.has("currentTime")&&this.handleCurrentTimeChange(),o.has("selectedSearchResultIndex")&&this.scrollToSelectedSearchResult(),o.has("currentEntries")&&(this.scrollToClosestEntry(),this.updateTimePosition()),o.has("autoScroll")&&this.handleAutoScrollChange(),o.has("config")&&(this.selectedSearchResultIndex=0,this.scrollToSelectedSearchResult())}},{key:"scrollView",get:function(){return this.shadowRoot&&this.shadowRoot.getElementById("scroll-container")}},{key:"activeTranscriptEntry",get:function(){return this.shadowRoot&&this.shadowRoot.querySelector("transcript-entry[isActive]")}},{key:"selectedSearchResult",get:function(){return this.shadowRoot&&this.shadowRoot.querySelector('transcript-entry[data-search-result-index="'.concat(this.selectedSearchResultIndex,'"]'))}},{key:"closestEntryToCurrentTime",get:function(){return this.activeTranscriptEntry||this.elementClosestToTime(this.currentTime)}},{key:"handleAutoScrollChange",value:function(){var o=new CustomEvent("autoScrollChanged",{detail:{autoScroll:this.autoScroll}});this.dispatchEvent(o)}},{key:"scrollToClosestEntry",value:function(){if(this.autoScroll){var o=this.closestEntryToCurrentTime;o&&this.scrollToElement(o)}}},{key:"scrollToElement",value:function(o){var l=this,a=l.scrollView;if(a){var s=a.getBoundingClientRect(),r=o.getBoundingClientRect(),c=s.height,d=this,h=d.topContextHeight,f=this,v=f.bottomContextHeight,_=c-v;if(r.bottom>s.top+_||r.top<s.top){var b=r.top-s.top+a.scrollTop-h;this.scrollToOffsetWithDuration(b,1)}}}},{key:"updateTimePosition",value:function(){var o=this.closestEntryToCurrentTime;if(o){var l=o.parentNode.getBoundingClientRect(),a=o.getBoundingClientRect().top-l.top;this.timeScrollTop=a}}},{key:"scrollToOffsetWithDuration",value:function(o,l,a){var s=function(E){return E<.5?2*E*E:-1+(4-2*E)*E},r=this,c=r.scrollView;if(!c)return;var d=c.scrollTop,h=o-d,f=performance.now(),v,_,b;function w(){c&&(v=performance.now(),_=(v-f)/1e3,b=_/l,c.scrollTop=d+h*s(b),b<1?window.requestAnimationFrame(w):a&&a())}w()}}],[{key:"styles",get:function(){var o=Lt(_templateObject421()),l=Lt(_templateObject422()),a=Lt(_templateObject423()),s=Lt(_templateObject424()),r=Lt(_templateObject425()),c=Lt(_templateObject426()),d=Lt(_templateObject427()),h=Lt(_templateObject428()),f=Lt(_templateObject429()),v=Lt(_templateObject430()),_=Lt(_templateObject431()),b=Lt(_templateObject432()),w=Lt(_templateObject433()),A=Lt(_templateObject434()),E=Lt(_templateObject435()),O=Lt(_templateObject436()),P=Lt(_templateObject437()),y=Lt(_templateObject438());return Lt(_templateObject439(),_,f,d,h,v,c,r,s,l,a,o,w,A,O,E,b,P,y)}}]),e}(Vn),Eo([Kt({type:Of})],ko.prototype,"config",void 0),Eo([Kt({type:Number})],ko.prototype,"currentTime",void 0),Eo([Kt({type:Number})],ko.prototype,"topContextHeight",void 0),Eo([Kt({type:Number})],ko.prototype,"bottomContextHeight",void 0),Eo([Kt({type:Boolean})],ko.prototype,"autoScroll",void 0),Eo([Kt({type:Number})],ko.prototype,"selectedSearchResultIndex",void 0),Eo([Kt({type:Boolean})],ko.prototype,"showContextZones",void 0),Eo([Kt({type:Number})],ko.prototype,"timeScrollTop",void 0),Eo([Kt({type:Array})],ko.prototype,"currentEntries",void 0),ko=Eo([Mr("transcript-view")],ko),J0=function(){"use strict";function m(t,e,n,o,l,a){_classCallCheck(this,m),this.id=t,this.start=e,this.end=n,this.rawText=o,this.isMusic=l,this.searchMatchIndex=a}return _createClass(m,[{key:"displayText",get:function(){return this.isMusic?"[Transcript unavailable]":this.rawText}}]),m}()}}),T4=Mt({"https-url:https://esm.archive.org/@internetarchive/transcript-view":function(){vn(),Or(),yI()}}),bI=Mt({"https-url:https://av.dev.archive.org/js/play/transcript-viewer.js":function(){Au(),T4(),X0(),ul(),customElements.define("transcript-viewer",function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return this.tracks_with_captions?zr(_templateObject443(),this.transcriptConfig?"":"dimmed",this.transcript_toggled,this.bgTheme==="light"?"light":"",this.kind,this.is_open?"margin-top:-12px":"",this.is_open?"\uFE3F":"\uFE40",this.is_open?zr(_templateObject441()):zr(_templateObject442()),this.transcriptConfig&&this.is_open?"":"not-showing",this.transcriptConfig,this.currentTime,this.transcriptEntrySelected):zr(_templateObject440())}},{key:"transcript_toggled",value:function(){this.transcriptConfig&&(this.is_open=!this.is_open,this.is_open&&globalThis.archive_analytics&&globalThis.archive_analytics.send_event("DetailsPage-MusicPlayer","LyricsButton-Clicked",window.location.pathname))}},{key:"updated",value:function(o){if($n("<transcript-viewer> updated()",o),o.has("trackno")&&this.update_transcript_view(),!this.tracking_time){var l=document.querySelector("video");if(l){var a=this;this.tracking_time=!0,l.addEventListener("timeupdate",function(){var s;a.currentTime=l.currentTime;var r=(s=a.shadowRoot)==null?void 0:s.querySelector("transcript-view");if(r&&(r.currentTime=a.currentTime,!a.transcript_view_tweaked)){var c=r.shadowRoot.querySelectorAll("transcript-entry");if(c.length){if(a.transcript_view_tweaked=!0,a.kind==="Lyrics (AI)"){var d=function(){return c.forEach(function(f){return f.style.display="block"})};d(),setTimeout(d,1e3)}var h=r.shadowRoot.querySelector(".col.time");h&&(h.style.top="3px")}}})}}}},{key:"transcriptEntrySelected",value:function(o){var l=o.detail||{},a=l.entry||{};if(a.start){var s=a.start;this.currentTime=s;var r=document.querySelector("video");$n({player:r}),r&&(r.currentTime=this.currentTime,r.play())}}},{key:"update_transcript_view",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r,c,d,h,f,v,_,b,w,A,E,O,P,y;return _regeneratorRuntime.default.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(delete this.transcript_view_tweaked,l=this.captions[this.trackno],l){p.next=5;break}return this.transcriptConfig=null,p.abrupt("return");case 5:if(this.transcriptConfigCache[this.trackno]){p.next=46;break}return a=l.replace(/^\/download\//,"https://archive.org/cors/"),$n({srtUrl:a}),p.next=10,fetch(a);case 10:return s=p.sent,p.next=13,s.text();case 13:r=p.sent,c=[],d=0,h=!0,f=!1,v=void 0,p.prev=17,_=r.split("\n\n")[Symbol.iterator]();case 19:if(h=(b=_.next()).done){p.next=29;break}if(w=b.value,d+=1,A=_slicedToArray(w.match(/^[0-9]+\n([^ ]+) --> ([^ ]+)\n([\s\S]*)/m)||["",0,0,""],4),E=A[1],O=A[2],P=A[3],O){p.next=25;break}return p.abrupt("continue",26);case 25:c.push({id:d,start:vp(E,!0),end:vp(O,!0),text:P,is_music:!1});case 26:h=!0,p.next=19;break;case 29:p.next=35;break;case 31:p.prev=31,p.t0=p.catch(17),f=!0,v=p.t0;case 35:p.prev=35,p.prev=36,!h&&_.return!=null&&_.return();case 38:if(p.prev=38,!f){p.next=41;break}throw v;case 41:return p.finish(38);case 42:return p.finish(35);case 43:$n({json:c}),y=c.map(function(g){return new J0(g.id,g.start,g.end,g.text,g.is_music,g.search_match_index)}),this.transcriptConfigCache[this.trackno]=new Of(y);case 46:this.transcriptConfig=this.transcriptConfigCache[this.trackno];case 47:case"end":return p.stop()}},o,this,[[17,31,35,43],[36,,38,42]])}))}},{key:"firstUpdated",value:function(){var o,l;$n("<transcript-viewer> firstUpdated()"),this.currentTime=0;var a="Lyrics";this.kind=a,this.captions=[],this.transcriptConfigCache=[];var s=!0,r=!1,c=void 0;try{for(var d=Object.entries(JSON.parse(this.playlist))[Symbol.iterator](),h;!(s=(h=d.next()).done);s=!0){var f=_slicedToArray(h.value,2),v=f[0],_=f[1];if(_.tracks){var b={},w=!0,A=!1,E=void 0;try{for(var O=_.tracks[Symbol.iterator](),P;!(w=(P=O.next()).done);w=!0){var y=P.value;y.kind==="subtitles"&&((o=y.file)!=null&&o.endsWith(".srt"))&&(b[(l=y.label)!=null?l:"none"]=y.file)}}catch(u){A=!0,E=u}finally{try{!w&&O.return!=null&&O.return()}finally{if(A)throw E}}this.captions[v]=b.align||b.cc5||b.en||b.asr||b.none,(this.captions[v]===b.align||this.captions[v]===b.asr)&&(this.kind="".concat(a," (AI)"))}}}catch(u){r=!0,c=u}finally{try{!s&&d.return!=null&&d.return()}finally{if(r)throw c}}$n(this.captions),this.tracks_with_captions=Object.values(this.captions).length}}],[{key:"properties",get:function(){return{transcriptConfig:Object,is_open:Boolean,playlist:Object,trackno:Number,bgTheme:String}}},{key:"styles",get:function(){var o=185,l=5,a=1;return ic(_templateObject444(),Wr(o),Wr(l),Wr(a),Wr(o+2*a+2*l))}}]),e}(jo))}}),P4,Z0,cl,I4=Mt({"https-url:https://esm.archive.org/v135/colorthief@2.4.0/esnext/dist/color-thief.js":function(){if(!m)var m={map:function(e,n){var o={};return n?e.map(function(l,a){return o.index=a,n.call(o,l)}):e.slice()},naturalOrder:function(e,n){return e<n?-1:e>n?1:0},sum:function(e,n){var o={};return e.reduce(n?function(l,a,s){return o.index=s,l+n.call(o,a)}:function(l,a){return l+a},0)},max:function(e,n){return Math.max.apply(null,n?m.map(e,n):e)}};P4=function(){var t=function(d,h,f){return(d<<2*a)+(h<<a)+f},e=function(d){var h=[],f=!1;function v(){h.sort(d),f=!0}return{push:function(b){h.push(b),f=!1},peek:function(b){return f||v(),b===void 0&&(b=h.length-1),h[b]},pop:function(){return f||v(),h.pop()},size:function(){return h.length},map:function(b){return h.map(b)},debug:function(){return f||v(),h}}},n=function(d,h,f,v,_,b,w){var A=this;A.r1=d,A.r2=h,A.g1=f,A.g2=v,A.b1=_,A.b2=b,A.histo=w},o=function(){this.vboxes=new e(function(d,h){return m.naturalOrder(d.vbox.count()*d.vbox.volume(),h.vbox.count()*h.vbox.volume())})},l=function(d,h){if(h.count()){var f=h.r2-h.r1+1,v=h.g2-h.g1+1,_=m.max([f,v,h.b2-h.b1+1]);if(h.count()==1)return[h.copy()];var b,w,A,E,O=0,P=[],y=[];if(_==f)for(b=h.r1;b<=h.r2;b++){for(E=0,w=h.g1;w<=h.g2;w++)for(A=h.b1;A<=h.b2;A++)E+=d[t(b,w,A)]||0;P[b]=O+=E}else if(_==v)for(b=h.g1;b<=h.g2;b++){for(E=0,w=h.r1;w<=h.r2;w++)for(A=h.b1;A<=h.b2;A++)E+=d[t(w,b,A)]||0;P[b]=O+=E}else for(b=h.b1;b<=h.b2;b++){for(E=0,w=h.r1;w<=h.r2;w++)for(A=h.g1;A<=h.g2;A++)E+=d[t(w,A,b)]||0;P[b]=O+=E}return P.forEach(function(u,p){y[p]=O-u}),function(u){var p,g,k,x,j,L=u+"1",D=u+"2",F=0;for(b=h[L];b<=h[D];b++)if(P[b]>O/2){for(k=h.copy(),x=h.copy(),j=(p=b-h[L])<=(g=h[D]-b)?Math.min(h[D]-1,~~(b+g/2)):Math.max(h[L],~~(b-1-p/2));!P[j];)j++;for(F=y[j];!F&&P[j-1];)F=y[--j];return k[D]=j,x[L]=k[D]+1,[k,x]}}(_==f?"r":_==v?"g":"b")}},a=5,s=8-a,r=1e3;return n.prototype={volume:function(d){var h=this;return h._volume&&!d||(h._volume=(h.r2-h.r1+1)*(h.g2-h.g1+1)*(h.b2-h.b1+1)),h._volume},count:function(d){var h=this,f=h.histo;if(!h._count_set||d){var v,_,b,w=0;for(v=h.r1;v<=h.r2;v++)for(_=h.g1;_<=h.g2;_++)for(b=h.b1;b<=h.b2;b++)w+=f[t(v,_,b)]||0;h._count=w,h._count_set=!0}return h._count},copy:function(){var d=this;return new n(d.r1,d.r2,d.g1,d.g2,d.b1,d.b2,d.histo)},avg:function(d){var h=this,f=h.histo;if(!h._avg||d){var v,_,b,w,A=0,E=1<<8-a,O=0,P=0,y=0;for(_=h.r1;_<=h.r2;_++)for(b=h.g1;b<=h.g2;b++)for(w=h.b1;w<=h.b2;w++)A+=v=f[t(_,b,w)]||0,O+=v*(_+.5)*E,P+=v*(b+.5)*E,y+=v*(w+.5)*E;h._avg=A?[~~(O/A),~~(P/A),~~(y/A)]:[~~(E*(h.r1+h.r2+1)/2),~~(E*(h.g1+h.g2+1)/2),~~(E*(h.b1+h.b2+1)/2)]}return h._avg},contains:function(d){var h=this,f=d[0]>>s;return gval=d[1]>>s,bval=d[2]>>s,f>=h.r1&&f<=h.r2&&gval>=h.g1&&gval<=h.g2&&bval>=h.b1&&bval<=h.b2}},o.prototype={push:function(d){this.vboxes.push({vbox:d,color:d.avg()})},palette:function(){return this.vboxes.map(function(d){return d.color})},size:function(){return this.vboxes.size()},map:function(d){for(var h=this.vboxes,f=0;f<h.size();f++)if(h.peek(f).vbox.contains(d))return h.peek(f).color;return this.nearest(d)},nearest:function(d){for(var h,f,v,_=this.vboxes,b=0;b<_.size();b++)((f=Math.sqrt(Math.pow(d[0]-_.peek(b).color[0],2)+Math.pow(d[1]-_.peek(b).color[1],2)+Math.pow(d[2]-_.peek(b).color[2],2)))<h||h===void 0)&&(h=f,v=_.peek(b).color);return v},forcebw:function(){var d=this.vboxes;d.sort(function(_,b){return m.naturalOrder(m.sum(_.color),m.sum(b.color))});var h=d[0].color;h[0]<5&&h[1]<5&&h[2]<5&&(d[0].color=[0,0,0]);var f=d.length-1,v=d[f].color;v[0]>251&&v[1]>251&&v[2]>251&&(d[f].color=[255,255,255])}},{quantize:function(d,h){var f=function(O,P){for(var y,u=O.size(),p=0;p<r;){if(u>=P||p++>r)return;if((y=O.pop()).count()){var g=l(v,y),k=g[0],x=g[1];if(!k)return;O.push(k),x&&(O.push(x),u++)}else O.push(y),p++}};if(!d.length||h<2||h>256)return!1;var v=function(E){var O,P=new Array(1<<3*a);return E.forEach(function(y){O=t(y[0]>>s,y[1]>>s,y[2]>>s),P[O]=(P[O]||0)+1}),P}(d);v.forEach(function(){});var _=function(E,O){var P,y,u,p=1e6,g=0,k=1e6,x=0,j=1e6,L=0;return E.forEach(function(D){(P=D[0]>>s)<p?p=P:P>g&&(g=P),(y=D[1]>>s)<k?k=y:y>x&&(x=y),(u=D[2]>>s)<j?j=u:u>L&&(L=u)}),new n(p,g,k,x,j,L,O)}(d,v),b=new e(function(E,O){return m.naturalOrder(E.count(),O.count())});b.push(_),f(b,.75*h);for(var w=new e(function(E,O){return m.naturalOrder(E.count()*E.volume(),O.count()*O.volume())});b.size();)w.push(b.pop());f(w,h);for(var A=new o;w.size();)A.push(w.pop());return A}}}().quantize,Z0=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=e.naturalWidth,this.height=this.canvas.height=e.naturalHeight,this.context.drawImage(e,0,0,this.width,this.height)},Z0.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},cl=function(){},cl.prototype.getColor=function(t,e){return e===void 0&&(e=10),this.getPalette(t,5,e)[0]},cl.prototype.getPalette=function(t,e,n){var o=function(r){var c=r.colorCount,d=r.quality;if(c!==void 0&&Number.isInteger(c)){if(c===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");c=Math.max(c,2),c=Math.min(c,20)}else c=10;return(d===void 0||!Number.isInteger(d)||d<1)&&(d=10),{colorCount:c,quality:d}}({colorCount:e,quality:n}),l=new Z0(t),a=function(r,c,d){for(var h,f,v,_,b,w=r,A=[],E=0;E<c;E+=d)f=w[0+(h=4*E)],v=w[h+1],_=w[h+2],((b=w[h+3])===void 0||b>=125)&&(f>250&&v>250&&_>250||A.push([f,v,_]));return A}(l.getImageData().data,l.width*l.height,o.quality),s=P4(a,o.colorCount);return s?s.palette():null},cl.prototype.getColorFromUrl=function(t,e,n){var o=this,l=document.createElement("img");l.addEventListener("load",function(){var a=o.getPalette(l,5,n);e(a[0],t)}),l.src=t},cl.prototype.getImageData=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){if(this.status==200){var o=new Uint8Array(this.response);i=o.length;for(var l=new Array(i),a=0;a<o.length;a++)l[a]=String.fromCharCode(o[a]);var s=l.join(""),r=window.btoa(s);e("data:image/png;base64,"+r)}},n.send()},cl.prototype.getColorAsync=function(t,e,n){var o=this;this.getImageData(t,function(l){var a=document.createElement("img");a.addEventListener("load",function(){var s=o.getPalette(a,5,n);e(s[0],this)}),a.src=l})}}}),eb={};ai(eb,{default:function(){return cl}});var M4=Mt({"https-url:https://esm.archive.org/colorthief/dist/color-thief.mjs":function(){I4(),I4()}}),L4={};ai(L4,{aliceblue:function(){return ob},antiquewhite:function(){return ab},aqua:function(){return sb},aquamarine:function(){return lb},azure:function(){return ub},beige:function(){return cb},bisque:function(){return db},black:function(){return hb},blanchedalmond:function(){return fb},blue:function(){return pb},blueviolet:function(){return vb},brown:function(){return gb},burlywood:function(){return mb},cadetblue:function(){return yb},chartreuse:function(){return bb},chocolate:function(){return wb},coral:function(){return _b},cornflowerblue:function(){return kb},cornsilk:function(){return xb},crimson:function(){return Sb},cyan:function(){return Cb},darkblue:function(){return Ab},darkcyan:function(){return Ob},darkgoldenrod:function(){return jb},darkgray:function(){return Eb},darkgreen:function(){return Tb},darkgrey:function(){return Pb},darkkhaki:function(){return Ib},darkmagenta:function(){return Mb},darkolivegreen:function(){return Lb},darkorange:function(){return Rb},darkorchid:function(){return Db},darkred:function(){return $b},darksalmon:function(){return Bb},darkseagreen:function(){return Nb},darkslateblue:function(){return zb},darkslategray:function(){return Fb},darkslategrey:function(){return Hb},darkturquoise:function(){return Ub},darkviolet:function(){return Vb},deeppink:function(){return Wb},deepskyblue:function(){return qb},default:function(){return q_},dimgray:function(){return Gb},dimgrey:function(){return Yb},dodgerblue:function(){return Xb},firebrick:function(){return Kb},floralwhite:function(){return Qb},forestgreen:function(){return Jb},fuchsia:function(){return Zb},gainsboro:function(){return ew},ghostwhite:function(){return tw},gold:function(){return nw},goldenrod:function(){return rw},gray:function(){return iw},green:function(){return ow},greenyellow:function(){return aw},grey:function(){return sw},honeydew:function(){return lw},hotpink:function(){return uw},indianred:function(){return cw},indigo:function(){return dw},ivory:function(){return hw},khaki:function(){return fw},lavender:function(){return pw},lavenderblush:function(){return vw},lawngreen:function(){return gw},lemonchiffon:function(){return mw},lightblue:function(){return yw},lightcoral:function(){return bw},lightcyan:function(){return ww},lightgoldenrodyellow:function(){return _w},lightgray:function(){return kw},lightgreen:function(){return xw},lightgrey:function(){return Sw},lightpink:function(){return Cw},lightsalmon:function(){return Aw},lightseagreen:function(){return Ow},lightskyblue:function(){return jw},lightslategray:function(){return Ew},lightslategrey:function(){return Tw},lightsteelblue:function(){return Pw},lightyellow:function(){return Iw},lime:function(){return Mw},limegreen:function(){return Lw},linen:function(){return Rw},magenta:function(){return Dw},maroon:function(){return $w},mediumaquamarine:function(){return Bw},mediumblue:function(){return Nw},mediumorchid:function(){return zw},mediumpurple:function(){return Fw},mediumseagreen:function(){return Hw},mediumslateblue:function(){return Uw},mediumspringgreen:function(){return Vw},mediumturquoise:function(){return Ww},mediumvioletred:function(){return qw},midnightblue:function(){return Gw},mintcream:function(){return Yw},mistyrose:function(){return Xw},moccasin:function(){return Kw},navajowhite:function(){return Qw},navy:function(){return Jw},oldlace:function(){return Zw},olive:function(){return e_},olivedrab:function(){return t_},orange:function(){return n_},orangered:function(){return r_},orchid:function(){return i_},palegoldenrod:function(){return o_},palegreen:function(){return a_},paleturquoise:function(){return s_},palevioletred:function(){return l_},papayawhip:function(){return u_},peachpuff:function(){return c_},peru:function(){return d_},pink:function(){return h_},plum:function(){return f_},powderblue:function(){return p_},purple:function(){return v_},rebeccapurple:function(){return g_},red:function(){return m_},rosybrown:function(){return y_},royalblue:function(){return b_},saddlebrown:function(){return w_},salmon:function(){return __},sandybrown:function(){return k_},seagreen:function(){return x_},seashell:function(){return S_},sienna:function(){return C_},silver:function(){return A_},skyblue:function(){return O_},slateblue:function(){return j_},slategray:function(){return E_},slategrey:function(){return T_},snow:function(){return P_},springgreen:function(){return I_},steelblue:function(){return M_},tan:function(){return L_},teal:function(){return R_},thistle:function(){return D_},tomato:function(){return $_},turquoise:function(){return B_},violet:function(){return N_},wheat:function(){return z_},white:function(){return F_},whitesmoke:function(){return H_},yellow:function(){return U_},yellowgreen:function(){return V_}});var R4,jf,D4,$4,B4,N4,z4,F4,Ef,H4,tb,nb,rb,ib,ob,ab,sb,lb,ub,cb,db,hb,fb,pb,vb,gb,mb,yb,bb,wb,_b,kb,xb,Sb,Cb,Ab,Ob,jb,Eb,Tb,Pb,Ib,Mb,Lb,Rb,Db,$b,Bb,Nb,zb,Fb,Hb,Ub,Vb,Wb,qb,Gb,Yb,Xb,Kb,Qb,Jb,Zb,ew,tw,nw,rw,iw,ow,aw,sw,lw,uw,cw,dw,hw,fw,pw,vw,gw,mw,yw,bw,ww,_w,kw,xw,Sw,Cw,Aw,Ow,jw,Ew,Tw,Pw,Iw,Mw,Lw,Rw,Dw,$w,Bw,Nw,zw,Fw,Hw,Uw,Vw,Ww,qw,Gw,Yw,Xw,Kw,Qw,Jw,Zw,e_,t_,n_,r_,i_,o_,a_,s_,l_,u_,c_,d_,h_,f_,p_,v_,g_,m_,y_,b_,w_,__,k_,x_,S_,C_,A_,O_,j_,E_,T_,P_,I_,M_,L_,R_,D_,$_,B_,N_,z_,F_,H_,U_,V_,Wn,W_,U4,q_,V4=Mt({"https-url:https://esm.archive.org/v135/color-name@1.1.4/esnext/color-name.mjs":function(){R4=Object.create,jf=Object.defineProperty,D4=Object.getOwnPropertyDescriptor,$4=Object.getOwnPropertyNames,B4=Object.getPrototypeOf,N4=Object.prototype.hasOwnProperty,z4=function(e,n){return function(){return n||e((n={exports:{}}).exports,n),n.exports}},F4=function(e,n){for(var o in n)jf(e,o,{get:n[o],enumerable:!0})},Ef=function(e,n,o,l){var a=!0,s=!1,r=void 0;if(n&&typeof n=="object"||typeof n=="function")try{for(var c=function(f,v){var _=v.value;!N4.call(e,_)&&_!==o&&jf(e,_,{get:function(){return n[_]},enumerable:!(l=D4(n,_))||l.enumerable})},d=$4(n)[Symbol.iterator](),h;!(a=(h=d.next()).done);a=!0)c(d,h)}catch(f){s=!0,r=f}finally{try{!a&&d.return!=null&&d.return()}finally{if(s)throw r}}return e},H4=function(e,n,o){return Ef(e,n,"default"),o&&Ef(o,n,"default")},tb=function(e,n,o){return o=e!=null?R4(B4(e)):{},Ef(n||!e||!e.__esModule?jf(o,"default",{value:e,enumerable:!0}):o,e)},nb=z4(function(e,n){"use strict";n.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}),rb={},F4(rb,{aliceblue:function(){return ob},antiquewhite:function(){return ab},aqua:function(){return sb},aquamarine:function(){return lb},azure:function(){return ub},beige:function(){return cb},bisque:function(){return db},black:function(){return hb},blanchedalmond:function(){return fb},blue:function(){return pb},blueviolet:function(){return vb},brown:function(){return gb},burlywood:function(){return mb},cadetblue:function(){return yb},chartreuse:function(){return bb},chocolate:function(){return wb},coral:function(){return _b},cornflowerblue:function(){return kb},cornsilk:function(){return xb},crimson:function(){return Sb},cyan:function(){return Cb},darkblue:function(){return Ab},darkcyan:function(){return Ob},darkgoldenrod:function(){return jb},darkgray:function(){return Eb},darkgreen:function(){return Tb},darkgrey:function(){return Pb},darkkhaki:function(){return Ib},darkmagenta:function(){return Mb},darkolivegreen:function(){return Lb},darkorange:function(){return Rb},darkorchid:function(){return Db},darkred:function(){return $b},darksalmon:function(){return Bb},darkseagreen:function(){return Nb},darkslateblue:function(){return zb},darkslategray:function(){return Fb},darkslategrey:function(){return Hb},darkturquoise:function(){return Ub},darkviolet:function(){return Vb},deeppink:function(){return Wb},deepskyblue:function(){return qb},default:function(){return q_},dimgray:function(){return Gb},dimgrey:function(){return Yb},dodgerblue:function(){return Xb},firebrick:function(){return Kb},floralwhite:function(){return Qb},forestgreen:function(){return Jb},fuchsia:function(){return Zb},gainsboro:function(){return ew},ghostwhite:function(){return tw},gold:function(){return nw},goldenrod:function(){return rw},gray:function(){return iw},green:function(){return ow},greenyellow:function(){return aw},grey:function(){return sw},honeydew:function(){return lw},hotpink:function(){return uw},indianred:function(){return cw},indigo:function(){return dw},ivory:function(){return hw},khaki:function(){return fw},lavender:function(){return pw},lavenderblush:function(){return vw},lawngreen:function(){return gw},lemonchiffon:function(){return mw},lightblue:function(){return yw},lightcoral:function(){return bw},lightcyan:function(){return ww},lightgoldenrodyellow:function(){return _w},lightgray:function(){return kw},lightgreen:function(){return xw},lightgrey:function(){return Sw},lightpink:function(){return Cw},lightsalmon:function(){return Aw},lightseagreen:function(){return Ow},lightskyblue:function(){return jw},lightslategray:function(){return Ew},lightslategrey:function(){return Tw},lightsteelblue:function(){return Pw},lightyellow:function(){return Iw},lime:function(){return Mw},limegreen:function(){return Lw},linen:function(){return Rw},magenta:function(){return Dw},maroon:function(){return $w},mediumaquamarine:function(){return Bw},mediumblue:function(){return Nw},mediumorchid:function(){return zw},mediumpurple:function(){return Fw},mediumseagreen:function(){return Hw},mediumslateblue:function(){return Uw},mediumspringgreen:function(){return Vw},mediumturquoise:function(){return Ww},mediumvioletred:function(){return qw},midnightblue:function(){return Gw},mintcream:function(){return Yw},mistyrose:function(){return Xw},moccasin:function(){return Kw},navajowhite:function(){return Qw},navy:function(){return Jw},oldlace:function(){return Zw},olive:function(){return e_},olivedrab:function(){return t_},orange:function(){return n_},orangered:function(){return r_},orchid:function(){return i_},palegoldenrod:function(){return o_},palegreen:function(){return a_},paleturquoise:function(){return s_},palevioletred:function(){return l_},papayawhip:function(){return u_},peachpuff:function(){return c_},peru:function(){return d_},pink:function(){return h_},plum:function(){return f_},powderblue:function(){return p_},purple:function(){return v_},rebeccapurple:function(){return g_},red:function(){return m_},rosybrown:function(){return y_},royalblue:function(){return b_},saddlebrown:function(){return w_},salmon:function(){return __},sandybrown:function(){return k_},seagreen:function(){return x_},seashell:function(){return S_},sienna:function(){return C_},silver:function(){return A_},skyblue:function(){return O_},slateblue:function(){return j_},slategray:function(){return E_},slategrey:function(){return T_},snow:function(){return P_},springgreen:function(){return I_},steelblue:function(){return M_},tan:function(){return L_},teal:function(){return R_},thistle:function(){return D_},tomato:function(){return $_},turquoise:function(){return B_},violet:function(){return N_},wheat:function(){return z_},white:function(){return F_},whitesmoke:function(){return H_},yellow:function(){return U_},yellowgreen:function(){return V_}}),ib=tb(nb()),H4(rb,tb(nb()));var m;m=ib,ob=m.aliceblue,ab=m.antiquewhite,sb=m.aqua,lb=m.aquamarine,ub=m.azure,cb=m.beige,db=m.bisque,hb=m.black,fb=m.blanchedalmond,pb=m.blue,vb=m.blueviolet,gb=m.brown,mb=m.burlywood,yb=m.cadetblue,bb=m.chartreuse,wb=m.chocolate,_b=m.coral,kb=m.cornflowerblue,xb=m.cornsilk,Sb=m.crimson,Cb=m.cyan,Ab=m.darkblue,Ob=m.darkcyan,jb=m.darkgoldenrod,Eb=m.darkgray,Tb=m.darkgreen,Pb=m.darkgrey,Ib=m.darkkhaki,Mb=m.darkmagenta,Lb=m.darkolivegreen,Rb=m.darkorange,Db=m.darkorchid,$b=m.darkred,Bb=m.darksalmon,Nb=m.darkseagreen,zb=m.darkslateblue,Fb=m.darkslategray,Hb=m.darkslategrey,Ub=m.darkturquoise,Vb=m.darkviolet,Wb=m.deeppink,qb=m.deepskyblue,Gb=m.dimgray,Yb=m.dimgrey,Xb=m.dodgerblue,Kb=m.firebrick,Qb=m.floralwhite,Jb=m.forestgreen,Zb=m.fuchsia,ew=m.gainsboro,tw=m.ghostwhite,nw=m.gold,rw=m.goldenrod,iw=m.gray,ow=m.green,aw=m.greenyellow,sw=m.grey,lw=m.honeydew,uw=m.hotpink,cw=m.indianred,dw=m.indigo,hw=m.ivory,fw=m.khaki,pw=m.lavender,vw=m.lavenderblush,gw=m.lawngreen,mw=m.lemonchiffon,yw=m.lightblue,bw=m.lightcoral,ww=m.lightcyan,_w=m.lightgoldenrodyellow,kw=m.lightgray,xw=m.lightgreen,Sw=m.lightgrey,Cw=m.lightpink,Aw=m.lightsalmon,Ow=m.lightseagreen,jw=m.lightskyblue,Ew=m.lightslategray,Tw=m.lightslategrey,Pw=m.lightsteelblue,Iw=m.lightyellow,Mw=m.lime,Lw=m.limegreen,Rw=m.linen,Dw=m.magenta,$w=m.maroon,Bw=m.mediumaquamarine,Nw=m.mediumblue,zw=m.mediumorchid,Fw=m.mediumpurple,Hw=m.mediumseagreen,Uw=m.mediumslateblue,Vw=m.mediumspringgreen,Ww=m.mediumturquoise,qw=m.mediumvioletred,Gw=m.midnightblue,Yw=m.mintcream,Xw=m.mistyrose,Kw=m.moccasin,Qw=m.navajowhite,Jw=m.navy,Zw=m.oldlace,e_=m.olive,t_=m.olivedrab,n_=m.orange,r_=m.orangered,i_=m.orchid,o_=m.palegoldenrod,a_=m.palegreen,s_=m.paleturquoise,l_=m.palevioletred,u_=m.papayawhip,c_=m.peachpuff,d_=m.peru,h_=m.pink,f_=m.plum,p_=m.powderblue,v_=m.purple,g_=m.rebeccapurple,m_=m.red,y_=m.rosybrown,b_=m.royalblue,w_=m.saddlebrown,__=m.salmon,k_=m.sandybrown,x_=m.seagreen,S_=m.seashell,C_=m.sienna,A_=m.silver,O_=m.skyblue,j_=m.slateblue,E_=m.slategray,T_=m.slategrey,P_=m.snow,I_=m.springgreen,M_=m.steelblue,L_=m.tan,R_=m.teal,D_=m.thistle,$_=m.tomato,B_=m.turquoise,N_=m.violet,z_=m.wheat,F_=m.white,H_=m.whitesmoke,U_=m.yellow,V_=m.yellowgreen;var t;Wn=ib,t=Wn,W_=t.default,U4=Ai(Wn,["default"]),q_=W_!==void 0?W_:U4}}),qo,W4,Tf,q4,G4,Y4,X4,K4,Pf,Q4,If,J4,G_,Y_,Z4,X_,K_,ej,Wn,Q_,tj,J_,nj=Mt({"https-url:https://esm.archive.org/v135/color-convert@2.0.1/esnext/color-convert.mjs":function(){V4(),qo=function(t){var e=function(o){return _typeof(o.default)<"u"?o.default:o},n=function(o){return Object.assign({},o)};switch(t){case"color-name":return e(L4);default:throw new Error('module "'+t+'" not found')}},W4=Object.create,Tf=Object.defineProperty,q4=Object.getOwnPropertyDescriptor,G4=Object.getOwnPropertyNames,Y4=Object.getPrototypeOf,X4=Object.prototype.hasOwnProperty,K4=function(t){return(typeof qo=="undefined"?"undefined":_typeof(qo))<"u"?qo:(typeof Proxy=="undefined"?"undefined":_typeof(Proxy))<"u"?new Proxy(t,{get:function(e,n){return((typeof qo=="undefined"?"undefined":_typeof(qo))<"u"?qo:e)[n]}}):t}(function(t){if((typeof qo=="undefined"?"undefined":_typeof(qo))<"u")return qo.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),Pf=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},Q4=function(t,e){for(var n in e)Tf(t,n,{get:e[n],enumerable:!0})},If=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!X4.call(t,v)&&v!==n&&Tf(t,v,{get:function(){return e[v]},enumerable:!(o=q4(e,v))||o.enumerable})},c=G4(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){a=!0,s=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(a)throw s}}return t},J4=function(t,e,n){return If(t,e,"default"),n&&If(n,e,"default")},G_=function(t,e,n){return n=t!=null?W4(Y4(t)):{},If(e||!t||!t.__esModule?Tf(n,"default",{value:t,enumerable:!0}):n,t)},Y_=Pf(function(t,e){var n=function(p,g){return ki(p[0]-g[0],2)+ki(p[1]-g[1],2)+ki(p[2]-g[2],2)},o=K4("color-name"),l={},a=!0,s=!1,r=void 0;try{for(var c=Object.keys(o)[Symbol.iterator](),d;!(a=(d=c.next()).done);a=!0){var h=d.value;l[o[h]]=h}}catch(u){s=!0,r=u}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw r}}var f={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=f;var v=!0,_=!1,b=void 0;try{for(var w=Object.keys(f)[Symbol.iterator](),A;!(v=(A=w.next()).done);v=!0){var E=A.value;if(!("channels"in f[E]))throw new Error("missing channels property: "+E);if(!("labels"in f[E]))throw new Error("missing channel labels property: "+E);if(f[E].labels.length!==f[E].channels)throw new Error("channel and label counts mismatch: "+E);var O=f[E],P=O.channels,y=O.labels;delete f[E].channels,delete f[E].labels,Object.defineProperty(f[E],"channels",{value:P}),Object.defineProperty(f[E],"labels",{value:y})}}catch(u){_=!0,b=u}finally{try{!v&&w.return!=null&&w.return()}finally{if(_)throw b}}f.rgb.hsl=function(u){var p=u[0]/255,g=u[1]/255,k=u[2]/255,x=Math.min(p,g,k),j=Math.max(p,g,k),L=j-x,D,F;j===x?D=0:p===j?D=(g-k)/L:g===j?D=2+(k-p)/L:k===j&&(D=4+(p-g)/L),D=Math.min(D*60,360),D<0&&(D+=360);var X=(x+j)/2;return j===x?F=0:X<=.5?F=L/(j+x):F=L/(2-j-x),[D,F*100,X*100]},f.rgb.hsv=function(u){var p,g,k,x,j,L=u[0]/255,D=u[1]/255,F=u[2]/255,X=Math.max(L,D,F),Q=X-Math.min(L,D,F),H=function(ne){return(X-ne)/6/Q+1/2};return Q===0?(x=0,j=0):(j=Q/X,p=H(L),g=H(D),k=H(F),L===X?x=k-g:D===X?x=1/3+p-k:F===X&&(x=2/3+g-p),x<0?x+=1:x>1&&(x-=1)),[x*360,j*100,X*100]},f.rgb.hwb=function(u){var p=u[0],g=u[1],k=u[2],x=f.rgb.hsl(u)[0],j=1/255*Math.min(p,Math.min(g,k));return k=1-1/255*Math.max(p,Math.max(g,k)),[x,j*100,k*100]},f.rgb.cmyk=function(u){var p=u[0]/255,g=u[1]/255,k=u[2]/255,x=Math.min(1-p,1-g,1-k),j=(1-p-x)/(1-x)||0,L=(1-g-x)/(1-x)||0,D=(1-k-x)/(1-x)||0;return[j*100,L*100,D*100,x*100]},f.rgb.keyword=function(u){var p=l[u];if(p)return p;var g=1/0,k,x=!0,j=!1,L=void 0;try{for(var D=Object.keys(o)[Symbol.iterator](),F;!(x=(F=D.next()).done);x=!0){var X=F.value,Q=o[X],H=n(u,Q);H<g&&(g=H,k=X)}}catch(ce){j=!0,L=ce}finally{try{!x&&D.return!=null&&D.return()}finally{if(j)throw L}}return k},f.keyword.rgb=function(u){return o[u]},f.rgb.xyz=function(u){var p=u[0]/255,g=u[1]/255,k=u[2]/255;p=p>.04045?ki((p+.055)/1.055,2.4):p/12.92,g=g>.04045?ki((g+.055)/1.055,2.4):g/12.92,k=k>.04045?ki((k+.055)/1.055,2.4):k/12.92;var x=p*.4124+g*.3576+k*.1805,j=p*.2126+g*.7152+k*.0722,L=p*.0193+g*.1192+k*.9505;return[x*100,j*100,L*100]},f.rgb.lab=function(u){var p=f.rgb.xyz(u),g=p[0],k=p[1],x=p[2];g/=95.047,k/=100,x/=108.883,g=g>.008856?ki(g,1/3):7.787*g+16/116,k=k>.008856?ki(k,1/3):7.787*k+16/116,x=x>.008856?ki(x,1/3):7.787*x+16/116;var j=116*k-16,L=500*(g-k),D=200*(k-x);return[j,L,D]},f.hsl.rgb=function(u){var p=u[0]/360,g=u[1]/100,k=u[2]/100,x,j,L;if(g===0)return L=k*255,[L,L,L];k<.5?x=k*(1+g):x=k+g-k*g;for(var D=2*k-x,F=[0,0,0],X=0;X<3;X++)j=p+1/3*-(X-1),j<0&&j++,j>1&&j--,6*j<1?L=D+(x-D)*6*j:2*j<1?L=x:3*j<2?L=D+(x-D)*(2/3-j)*6:L=D,F[X]=L*255;return F},f.hsl.hsv=function(u){var p=u[0],g=u[1]/100,k=u[2]/100,x=g,j=Math.max(k,.01);k*=2,g*=k<=1?k:2-k,x*=j<=1?j:2-j;var L=(k+g)/2,D=k===0?2*x/(j+x):2*g/(k+g);return[p,D*100,L*100]},f.hsv.rgb=function(u){var p=u[0]/60,g=u[1]/100,k=u[2]/100,x=Math.floor(p)%6,j=p-Math.floor(p),L=255*k*(1-g),D=255*k*(1-g*j),F=255*k*(1-g*(1-j));switch(k*=255,x){case 0:return[k,F,L];case 1:return[D,k,L];case 2:return[L,k,F];case 3:return[L,D,k];case 4:return[F,L,k];case 5:return[k,L,D]}},f.hsv.hsl=function(u){var p=u[0],g=u[1]/100,k=u[2]/100,x=Math.max(k,.01),j,L;L=(2-g)*k;var D=(2-g)*x;return j=g*x,j/=D<=1?D:2-D,j=j||0,L/=2,[p,j*100,L*100]},f.hwb.rgb=function(u){var p=u[0]/360,g=u[1]/100,k=u[2]/100,x=g+k,j;x>1&&(g/=x,k/=x);var L=Math.floor(6*p),D=1-k;j=6*p-L,L&1&&(j=1-j);var F=g+j*(D-g),X,Q,H;switch(L){default:case 6:case 0:X=D,Q=F,H=g;break;case 1:X=F,Q=D,H=g;break;case 2:X=g,Q=D,H=F;break;case 3:X=g,Q=F,H=D;break;case 4:X=F,Q=g,H=D;break;case 5:X=D,Q=g,H=F;break}return[X*255,Q*255,H*255]},f.cmyk.rgb=function(u){var p=u[0]/100,g=u[1]/100,k=u[2]/100,x=u[3]/100,j=1-Math.min(1,p*(1-x)+x),L=1-Math.min(1,g*(1-x)+x),D=1-Math.min(1,k*(1-x)+x);return[j*255,L*255,D*255]},f.xyz.rgb=function(u){var p=u[0]/100,g=u[1]/100,k=u[2]/100,x,j,L;return x=p*3.2406+g*-1.5372+k*-.4986,j=p*-.9689+g*1.8758+k*.0415,L=p*.0557+g*-.204+k*1.057,x=x>.0031308?1.055*ki(x,1/2.4)-.055:x*12.92,j=j>.0031308?1.055*ki(j,1/2.4)-.055:j*12.92,L=L>.0031308?1.055*ki(L,1/2.4)-.055:L*12.92,x=Math.min(Math.max(0,x),1),j=Math.min(Math.max(0,j),1),L=Math.min(Math.max(0,L),1),[x*255,j*255,L*255]},f.xyz.lab=function(u){var p=u[0],g=u[1],k=u[2];p/=95.047,g/=100,k/=108.883,p=p>.008856?ki(p,1/3):7.787*p+16/116,g=g>.008856?ki(g,1/3):7.787*g+16/116,k=k>.008856?ki(k,1/3):7.787*k+16/116;var x=116*g-16,j=500*(p-g),L=200*(g-k);return[x,j,L]},f.lab.xyz=function(u){var p=u[0],g=u[1],k=u[2],x,j,L;j=(p+16)/116,x=g/500+j,L=j-k/200;var D=ki(j,3),F=ki(x,3),X=ki(L,3);return j=D>.008856?D:(j-16/116)/7.787,x=F>.008856?F:(x-16/116)/7.787,L=X>.008856?X:(L-16/116)/7.787,x*=95.047,j*=100,L*=108.883,[x,j,L]},f.lab.lch=function(u){var p=u[0],g=u[1],k=u[2],x;x=Math.atan2(k,g)*360/2/Math.PI,x<0&&(x+=360);var j=Math.sqrt(g*g+k*k);return[p,j,x]},f.lch.lab=function(u){var p=u[0],g=u[1],k=u[2]/360*2*Math.PI,x=g*Math.cos(k),j=g*Math.sin(k);return[p,x,j]},f.rgb.ansi16=function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,g=_slicedToArray(u,3),k=g[0],x=g[1],j=g[2],L=p===null?f.rgb.hsv(u)[2]:p;if(L=Math.round(L/50),L===0)return 30;var D=30+(Math.round(j/255)<<2|Math.round(x/255)<<1|Math.round(k/255));return L===2&&(D+=60),D},f.hsv.ansi16=function(u){return f.rgb.ansi16(f.hsv.rgb(u),u[2])},f.rgb.ansi256=function(u){var p=u[0],g=u[1],k=u[2];return p===g&&g===k?p<8?16:p>248?231:Math.round((p-8)/247*24)+232:16+36*Math.round(p/255*5)+6*Math.round(g/255*5)+Math.round(k/255*5)},f.ansi16.rgb=function(u){var p=u%10;if(p===0||p===7)return u>50&&(p+=3.5),p=p/10.5*255,[p,p,p];var g=(~~(u>50)+1)*.5,k=(p&1)*g*255,x=(p>>1&1)*g*255,j=(p>>2&1)*g*255;return[k,x,j]},f.ansi256.rgb=function(u){if(u>=232){var p=(u-232)*10+8;return[p,p,p]}u-=16;var g,k=Math.floor(u/36)/5*255,x=Math.floor((g=u%36)/6)/5*255,j=g%6/5*255;return[k,x,j]},f.rgb.hex=function(u){var p=(((Math.round(u[0])&255)<<16)+((Math.round(u[1])&255)<<8)+(Math.round(u[2])&255)).toString(16).toUpperCase();return"000000".substring(p.length)+p},f.hex.rgb=function(u){var p=u.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!p)return[0,0,0];var g=p[0];p[0].length===3&&(g=g.split("").map(function(D){return D+D}).join(""));var k=parseInt(g,16),x=k>>16&255,j=k>>8&255,L=k&255;return[x,j,L]},f.rgb.hcg=function(u){var p=u[0]/255,g=u[1]/255,k=u[2]/255,x=Math.max(Math.max(p,g),k),j=Math.min(Math.min(p,g),k),L=x-j,D,F;return L<1?D=j/(1-L):D=0,L<=0?F=0:x===p?F=(g-k)/L%6:x===g?F=2+(k-p)/L:F=4+(p-g)/L,F/=6,F%=1,[F*360,L*100,D*100]},f.hsl.hcg=function(u){var p=u[1]/100,g=u[2]/100,k=g<.5?2*p*g:2*p*(1-g),x=0;return k<1&&(x=(g-.5*k)/(1-k)),[u[0],k*100,x*100]},f.hsv.hcg=function(u){var p=u[1]/100,g=u[2]/100,k=p*g,x=0;return k<1&&(x=(g-k)/(1-k)),[u[0],k*100,x*100]},f.hcg.rgb=function(u){var p=u[0]/360,g=u[1]/100,k=u[2]/100;if(g===0)return[k*255,k*255,k*255];var x=[0,0,0],j=p%1*6,L=j%1,D=1-L,F=0;switch(Math.floor(j)){case 0:x[0]=1,x[1]=L,x[2]=0;break;case 1:x[0]=D,x[1]=1,x[2]=0;break;case 2:x[0]=0,x[1]=1,x[2]=L;break;case 3:x[0]=0,x[1]=D,x[2]=1;break;case 4:x[0]=L,x[1]=0,x[2]=1;break;default:x[0]=1,x[1]=0,x[2]=D}return F=(1-g)*k,[(g*x[0]+F)*255,(g*x[1]+F)*255,(g*x[2]+F)*255]},f.hcg.hsv=function(u){var p=u[1]/100,g=u[2]/100,k=p+g*(1-p),x=0;return k>0&&(x=p/k),[u[0],x*100,k*100]},f.hcg.hsl=function(u){var p=u[1]/100,g=u[2]/100*(1-p)+.5*p,k=0;return g>0&&g<.5?k=p/(2*g):g>=.5&&g<1&&(k=p/(2*(1-g))),[u[0],k*100,g*100]},f.hcg.hwb=function(u){var p=u[1]/100,g=u[2]/100,k=p+g*(1-p);return[u[0],(k-p)*100,(1-k)*100]},f.hwb.hcg=function(u){var p=u[1]/100,g=1-u[2]/100,k=g-p,x=0;return k<1&&(x=(g-k)/(1-k)),[u[0],k*100,x*100]},f.apple.rgb=function(u){return[u[0]/65535*255,u[1]/65535*255,u[2]/65535*255]},f.rgb.apple=function(u){return[u[0]/255*65535,u[1]/255*65535,u[2]/255*65535]},f.gray.rgb=function(u){return[u[0]/100*255,u[0]/100*255,u[0]/100*255]},f.gray.hsl=function(u){return[0,0,u[0]]},f.gray.hsv=f.gray.hsl,f.gray.hwb=function(u){return[0,100,u[0]]},f.gray.cmyk=function(u){return[0,0,0,u[0]]},f.gray.lab=function(u){return[u[0],0,0]},f.gray.hex=function(u){var p=Math.round(u[0]/100*255)&255,g=((p<<16)+(p<<8)+p).toString(16).toUpperCase();return"000000".substring(g.length)+g},f.rgb.gray=function(u){return[(u[0]+u[1]+u[2])/3/255*100]}}),Z4=Pf(function(t,e){var n=function(){for(var c={},d=Object.keys(s),h=d.length,f=0;f<h;f++)c[d[f]]={distance:-1,parent:null};return c},o=function(c){var d=n(),h=[c];for(d[c].distance=0;h.length;)for(var f=h.pop(),v=Object.keys(s[f]),_=v.length,b=0;b<_;b++){var w=v[b],A=d[w];A.distance===-1&&(A.distance=d[f].distance+1,A.parent=f,h.unshift(w))}return d},l=function(c,d){return function(h){return d(c(h))}},a=function(c,d){for(var h=[d[c].parent,c],f=s[d[c].parent][c],v=d[c].parent;d[v].parent;)h.unshift(d[v].parent),f=l(s[d[v].parent][v],f),v=d[v].parent;return f.conversion=h,f},s=Y_();e.exports=function(r){for(var c=o(r),d={},h=Object.keys(c),f=h.length,v=0;v<f;v++){var _=h[v];c[_].parent!==null&&(d[_]=a(_,c))}return d}}),X_=Pf(function(t,e){var n=function(d){var h=function(){for(var v=arguments.length,_=new Array(v),b=0;b<v;b++)_[b]=arguments[b];var w=_[0];return w==null?w:(w.length>1&&(_=w),d(_))};return"conversion"in d&&(h.conversion=d.conversion),h},o=function(d){var h=function(){for(var v=arguments.length,_=new Array(v),b=0;b<v;b++)_[b]=arguments[b];var w=_[0];if(w==null)return w;w.length>1&&(_=w);var A=d(_);if(typeof A=="object")for(var E=A.length,O=0;O<E;O++)A[O]=Math.round(A[O]);return A};return"conversion"in d&&(h.conversion=d.conversion),h},l=Y_(),a=Z4(),s={},r=Object.keys(l);r.forEach(function(c){s[c]={},Object.defineProperty(s[c],"channels",{value:l[c].channels}),Object.defineProperty(s[c],"labels",{value:l[c].labels});var d=a(c);Object.keys(d).forEach(function(h){var f=d[h];s[c][h]=o(f),s[c][h].raw=n(f)})}),e.exports=s}),K_={},Q4(K_,{default:function(){return J_}}),ej=G_(X_()),J4(K_,G_(X_()));var m;Wn=ej,m=Wn,Q_=m.default,tj=Ai(Wn,["default"]),J_=Q_!==void 0?Q_:tj}}),Z_={};ai(Z_,{default:function(){return J_}});var rj=Mt({"https-url:https://esm.archive.org/color-convert":function(){V4(),nj(),nj()}}),ij={};ai(ij,{default:function(){return gj}});var Mf,ek,Hc,Go,oj,aj,Yo,sj,lj,uj,tk,cj,Lf,nk,dj,hj,fj,pj,Rf,rk,ja,vj,gj,wI=Mt({"https-url:https://av.dev.archive.org/js/play.js":function(){if(YO(),pa(),Au(),u4(),Y0(),ul(),h4(),dI(),fI(),pI(),gI(),mI(),bI(),Mf=480,ek=640,Hc=30,Go=60,oj=10,aj=350,Yo=Hc,sj=60,lj=140,uj=200,tk=490,cj=tk+55,Lf=152,nk=800,dj=20,hj=370,fj=100,pj=100,Rf=1200,rk={start:0,embed:!1,hide_list:!1,autoplay:!1,audio:!1,width:0,height:0,responsive:!1,aspectratio:!1,noshare:!1,nolinks:!1,logo:!1,so:!1,tv:!1,tvStart:0,tvEnd:0,tvContributor:!1,tvSource:!1,play_just1:!1,list_height:0,identifier:!1,onTime:!1,onComplete:!1,onDisplayClick:!1,onReady:!1,onPlaylistItem:!1,collection:!1,collections:[],waveformer:!1,speed:1,details:location.href,triggers:[],headless:null},ja=function(a){"use strict";_inherits(r,a);var s=_createSuper(r);function r(c,d){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_classCallCheck(this,r);var f;return f=s.call(this),!c&&f.getAttribute("jid")&&f.getAttribute("playlist")&&f.getAttribute("args")&&(c=f.getAttribute("jid"),d=JSON.parse(f.getAttribute("playlist")),h=JSON.parse(f.getAttribute("args")),h.headless&&(h.onPlaylistItem=r.headless_callback,delete r.headless_callback),$n("TRIFECTA",{jid:c,playlist:d,args:h})),c||Z(".js-play8-config").each(function(v,_){h=JSON.parse(Z(_).val()),c=h.jid||"jw6";var b=Z(".js-play8");Z("play-av").length||b.attr({id:c}),Aa("playset")&&(h.onComplete=A4.onComplete),d=JSON.parse(Z(".js-play8-playlist").val())}),c?_possibleConstructorReturn(f,f.construct(c,d,h)):f}return _createClass(r,[{key:"construct",value:function(d,h,f){var v=this,_,b,w;this.jid=d;var A=this.cache();if(A)return A;Z("play-av").attr("jid")||Z("play-av").attr("jid",d),r.STASH[d]=this,$n("PLAY CONFIG:",f);var E=!0,O=!1,P=void 0;try{for(var y=Object.entries(rk)[Symbol.iterator](),u;!(E=(u=y.next()).done);E=!0){var p=_slicedToArray(u.value,2),g=p[0],k=p[1];this[g]=k}}catch(Oe){O=!0,P=Oe}finally{try{!E&&y.return!=null&&y.return()}finally{if(O)throw P}}var x=!0,j=!1,L=void 0;try{for(var D=Object.entries(f)[Symbol.iterator](),F;!(x=(F=D.next()).done);x=!0){var X=_slicedToArray(F.value,2),Q=X[0],H=X[1];Q in rk&&(this[Q]=H)}}catch(Oe){j=!0,L=Oe}finally{try{!x&&D.return!=null&&D.return()}finally{if(j)throw L}}this.tvTitle=this.tv&&h.length===1?h[0].title:"",this.list_2cols=this.responsive&&this.audio,this.jidsel="#".concat(d),this.readyIA=!1,this.DAR=4/3,this.first_seeked_playlist=!1,this.waveformed=!1,this.pause_first_seek=this.embed&&!this.tv&&!this.audio&&!this.autoplay&&this.start,this.update_url_onload=this.headless;var ce=!1;if(this.jwaudioPercentDone=0,this.reloading_playlist_playlist_idx=0,this.playlist=h,this.panels_count=1,this.panelno=0,this.waveformer_played_color="#aaa",this.waveformer_progress_color="#000",this.canHLS=document.createElement("video").canPlayType("application/vnd.apple.mpegURL"),this.HLS=this.canHLS&&((_=this.triggers)!=null&&_.length)&&h.length&&!this.onTime?new vj(this):null,this.nolinks&&(this.identifier=!1,this.collection=!1,this.collections=[],this.noshare=!0),this.speed=parseFloat(this.speed),!Z(this.jidsel).length){$n("play.js requires #",d," element on page -- not found"),this.retry={playlist:h,args:f};return}if(this.responsiveResize(!0),this.identifier!==!1&&(this.details="https://archive.org/details/".concat(this.identifier)),this.tv&&this.tvEnd&&(this.details+="/start/".concat(this.tvStart,"/end/").concat(this.tvEnd)),typeof h=="undefined"&&(h=[{sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}],this.playlist=h,this.start=!0,this.hide_list=!0),this.hide_list||(this.list_height||(this.list_height=this.audio?hj:fj),this.list_height=Math.min(this.list_height,h.length*dj)),!this.responsive&&!(this.width>0&&this.height>0))if(this.embed){var ne=Z(window).width(),V=Z(window).height();this.width=this.audio?Math.min(ne,nk):ne,this.height=this.audio?Yo+this.list_height:V-this.list_height}else this.aspectratio||(this.width=this.audio?aj:ek,this.height=this.audio?Yo+this.list_height:Mf);Z.each(h,function(Oe,De){if(typeof De.autoplay!="undefined"&&(ce||(ce=[]),ce[Oe-1]=!De.autoplay),typeof De.sources=="undefined"&&typeof De.file!="undefined"&&(De.sources=[{file:De.file,height:480}]),typeof De.sources=="undefined")alert("".concat(Oe,": sources undefined!"));else{var ke=!0,tt=!1,Ve=void 0;try{for(var Qe=De.sources[Symbol.iterator](),ht;!(ke=(ht=Qe.next()).done);ke=!0){var bt=ht.value;typeof bt.file!="undefined"&&(!Oe&&bt.file.indexOf("/download")>=0&&(bt.file=bt.file.replace(/\/download\//,"/serve/")),bt.file=r.filename_char_encoder(bt.file))}}catch(vt){tt=!0,Ve=vt}finally{try{!ke&&Qe.return!=null&&Qe.return()}finally{if(tt)throw Ve}}}}),this.tvTitle&&(h[0].title=h[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));var Y=JSON.parse(JSON.stringify(h));Y.forEach(function(Oe){return v.audio&&delete Oe.tracks,Oe});var oe={playlist:Y,abouttext:"this item, formats, and more at Internet Archive",aboutlink:this.details,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:this.autoplay,hlsplayer:"/jw/x/provider.hlsjs.js",fallback:this.so,width:isNaN(this.width)?"100%":this.width,height:this.audio?Hc:this.height,base:d4};if(this.responsive&&!this.embed?oe.displaytitle=!1:this.aspectratio&&(oe.width="100%",oe.aspectratio=this.aspectratio,delete oe.height),this.identifier!==!1){var q=this.tv&&this.tvEnd?"?start=".concat(this.tvStart,"&end=").concat(this.tvEnd):"",G='<iframe src="https://archive.org/embed/MEDIAID"\n                            width="'.concat(this.audio?500:ek,'"\n                            height="').concat(this.audio?Yo:Mf,'"\n                            frameborder="0"\n                            webkitallowfullscreen="true"\n                            mozallowfullscreen="true"\n                            allowfullscreen></iframe>').replace(/embed\/MEDIAID/,"embed/".concat(this.identifier).concat(q)).replace(/\s+/g," "),J="[archiveorg ".concat(this.identifier).concat(q," width=640 height=").concat(this.audio?Yo:Mf," frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]");oe.mediaid=this.identifier,Z("#embedcodehere").text(G),Z("#embedcodehereWP").text(J)}if((this.embed&&!this.audio&&!this.nolinks||this.logo)&&(oe.logo={file:"https://av.prod.archive.org/jw/glogo-ghost.png",link:this.details,position:"top-right",margin:2,hide:!1}),this.play_just1||ce){var ae=this,ie=this.onComplete;this.onComplete=function(Oe){var De={done:ae.play_just1||ce[Oe.getPlaylistIndex()]};De.done&&Oe.stop(),ie&&ie(Oe,De)}}return(b=this.HLS)==null||b.update_playlist(oe),$n(oe),this.headless?(this.playN((w=this.headless.playN)!=null?w:0),this):(qr(d).setup(oe),qr(d).on("ready",function(){var Oe=v,De;$n("IA ",d," is ready");var ke=qr(d);v.player=ke,$n("NOTE: JW version: ",qr.version);{var tt=v.playlist.length,Ve=ke.getConfig().playlist.length;tt!==Ve&&!(v.HLS&&Ve===1&&tt>1)&&console.error("BIG PROBLEM: passed in playlist length !== jwplayer config playlist length",v.playlist.length,"-vs-",ke.getConfig().playlist.length)}if((De=v.HLS)==null||De.setup(v),v.onTime&&$n("NOTE: onTime() is in use!"),v.onTime&&ke.on("time",function(){return Oe.onTime(ke)}),v.onComplete&&ke.on("complete",function(){return Oe.onComplete(ke)}),v.onDisplayClick&&ke.on("displayClick",function(){return Oe.onDisplayClick(ke)}),v.audio?ke.on("firstFrame",function(){return r.track_event("Details-Audio-Beta|AudioStarted")}):v.tv||(ke.on("firstFrame",function(){return r.track_event("Details-Video|VideoStarted")}),ke.on("complete",function(){return r.track_event("Details-Video|VideoEnded")})),v.readyIA=!0,v.requestUpdate(),ke.once("meta",function(ht){$n("onMeta() fired"),Oe.embed&&!Oe.audio&&Oe.adjust_video_width(ht),Oe.HLS||Oe.unpreload(),Oe.start&&($n("SEEK TO: ",Oe.start),Oe.pause(),qr(d).seek(Oe.start))}),ke.on("playlistItem",function(ht){var bt=Oe,vt=ht.index;if($n("onPlaylistItem: ",vt),Oe.reloading_playlist_playlist_idx&&!vt){$n("onPlaylistItem: ignoring since desired index ".concat(Oe.reloading_playlist_playlist_idx," !== ").concat(vt," -- and this is likely an event from reloading the playlist"));var Le=Oe.reloading_playlist_playlist_idx;Oe.reloading_playlist_playlist_idx=0,qr(d).playlistItem(Le);return}Oe.track_change(ke,vt),Oe.seeker_playlist(),Oe.speed!==1&&setTimeout(function(){return bt.set_speed},1e3),Oe.waveformer_setup(ke)}),v.onPlaylistItem){var Qe=v;ke.on("playlistItem",function(ht){$n("onPlaylistItem",{e:ht}),Qe.onPlaylistItem(ke,ht)})}ke.on("playlistComplete",function(){!Oe.audio&&Oe.collection&&!Oe.tv&&Oe.related_items_click()}),ke.on("error",function(ht){$n("err"),$n(ht),Z(Oe.jidsel).css({"background-color":"black"})}),v.onReady&&v.onReady(ke)}),this)}},{key:"url_updater",value:function(d,h){if($n("url_updater(".concat(h,")")),!(this.tv||this.embed||!this.identifier||typeof history.replaceState=="undefined")&&!(this.playlist.length<=1||!this.playlist[h]||!this.playlist[h].orig&&!this.headless)){var f=this.playlist[h].orig;if(this.update_url_onload){var v="/details/".concat(this.identifier).concat(f===""?"":"/".concat(encodeURIComponent(f).replace(/%2F/g,"/").replace(/%20/g,"+"))),_=Aa("playset",!0)?"?playset=1&autoplay=1":"";$n("updating url to",v+_),history.replaceState({},null,v+_)}else{var b=this;$n("looks like /details/ page loaded cold-state at #".concat(h,"-- leave url AS IS")),d==null||d.once("play",function(){$n("time to start updating urls"),b.update_url_onload=!0,b.url_updater(d,h)})}}}},{key:"waveformer_setup",value:function(d){var h=this,f;if(!(!this.audio||this.waveformed)){Z("#".concat(this.jid)).css("border-radius","".concat(Go/2,"px 0 0 ").concat(Go/2,"px")),this.recolor(),Z(".jw-slider-time").remove(),setTimeout(function(){Z("#ia-scrubber").html('\n        <div class="jw-slider-time jw-background-color jw-reset jw-slider-horizontal jw-reset"\n          style="padding:0" tabindex="0" role="slider" aria-label="Seek">\n          <div class="jw-slider-container jw-reset">\n            <div class="jw-rail     jw-reset" style="background-color: #ccc"></div>\n            <div class="jw-buffer   jw-reset" style="background-color: #999"></div>\n            <div class="jw-progress jw-reset" style="background-color: #000"></div>\n            <div class="jw-knob jw-reset"\n              style="transform: translate(-50%,-50%) scale(.75); border: 1px solid black"></div>\n          </div>\n        </div>')},750);var v='<svg viewBox="0 0 4 16" xmlns="http://www.w3.org/2000/svg"><path d="m2 4c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2z" fill-rule="evenodd"/></svg>';Z(".jw-icon-settings svg").html(v),Z(".jw-text-countdown").remove(),this.HLS?(Z(".jw-text-elapsed, .jw-text-duration").remove(),Z(".jw-button-container").append('\n<div id="play-hls-elapsed" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-elapsed"\nrole="timer">00:00</div>\n<div id="play-hls-duration" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-duration"\nrole="timer">'.concat(r.sec2hms(Math.round((f=this.playlist[0])==null?void 0:f.duration)||0),"</div>"))):(Z(".jw-icon-settings").after(Z(".jw-text-elapsed")),Z(".jw-text-elapsed").after(Z(".jw-text-duration"))),this.canHLS&&(Z("#jw-settings-menu .jw-settings-topbar-buttons > div:last-child()").before('\n          <div class="jw-icon jw-icon-inline jw-button-color jw-reset jw-settings-backgroundPlay jw-submenu-backgroundPlay"\n          role="menuitemradio" tabindex="0"\n          aria-label="Background Play"\n          name="backgroundPlay"\n          type="button"\n          aria-haspopup="true"\n          aria-controls="jw-settings-submenu-backgroundPlay">\n            <img src="//av.prod.archive.org/img/infinity.png"/>\n            <div class="jw-reset-text jw-tooltip jw-tooltip-backgroundPlay" dir="auto">\n              <div class="jw-text">Background Play</div>\n            </div>\n          </div>'),Z("#jw-settings-menu").append('<background-play id="jw-settings-submenu-backgroundPlay"\n        class="jw-reset jw-settings-submenu jw-settings-submenu-backgroundPlay"\n        role="menu"></background-play>'),Z(".jw-settings-backgroundPlay").on("click",function(){Z(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),Z("#jw-settings-submenu-backgroundPlay").addClass("jw-settings-submenu-active"),Z(".jw-settings-backgroundPlay").attr("aria-expanded","true"),Z(".jw-settings-playbackRates").attr("aria-expanded","")}),Z(".jw-settings-playbackRates").on("click",function(){Z(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),Z("#jw-settings-submenu-playbackRates").addClass("jw-settings-submenu-active")}),Z(".jw-settings-playbackRates, .jw-settings-submenu-button, .jw-settings-close").on("click",function(){Z("#jw-settings-submenu-backgroundPlay").removeClass("jw-settings-submenu-active"),Z(".jw-settings-playbackRates").attr("aria-expanded","true"),Z(".jw-settings-backgroundPlay").attr("aria-expanded","")})),Z("#ia-scrubber").on("click",function(_){return h.waveform_clicked(_)}),d.on("time",function(_){var b;if(_.duration){h.HLS?h.HLS.on_time():h.jwaudioPercentDone=Math.min(1,_.position/_.duration);var w="".concat(Number(100*h.jwaudioPercentDone).toFixed(3),"%"),A=h.shadowRoot.getElementById("waveformer");A.style.width=w,h.waveformer_played_color&&(A.style.backgroundColor=h.waveformer_played_color),Z("#ia-scrubber").find(".jw-knob").css("left",w),Z("#ia-scrubber").find(".jw-progress").css({width:w,backgroundColor:(b=h.waveformer_progress_color)!=null?b:"#000"})}}),d.on("bufferChange",function(_){h.HLS?$n("xxxhls HLS buffering"):Z("#ia-scrubber").find(".jw-buffer").css("width","".concat(_.bufferPercent,"%"))}),this.waveformed=!0}}},{key:"waveform_clicked",value:function(d){var h=Z(this.shadowRoot.getElementById("waveformer-wrap")).width(),f=Number(d.offsetX/h).toFixed(2);if($n("waveform_clicked",{percent:f}),this.HLS)return this.HLS.waveform_clicked(f);var v=this.player.getPlaylistItem().duration||0;this.player.seek(v*f)}},{key:"recolor",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function d(){var h,f,v,_,b,w,A,E,O,P;return _regeneratorRuntime.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(h=this,!((f=document.querySelector("ia-music-theater"))!=null&&f.hasAttribute("noimageavailable"))){u.next=5;break}return this.recolor_generic(),u.abrupt("return");case 5:if(b=(v=Z("ia-music-theater img"))==null?void 0:v.get(0),b){u.next=8;break}return u.abrupt("return");case 8:return u.t0=_slicedToArray,u.next=11,Promise.all([Promise.resolve().then(function(){return M4(),eb}),Promise.resolve().then(function(){return rj(),Z_})]);case 11:u.t1=u.sent.map(function(p){return p.default}),w=(0,u.t0)(u.t1,2),A=w[0],E=w[1],O=function(){var p,g,k=new A,x=k.getPalette(b,5);if($n({palette:x}),!!x){var j=x[0];if($n({dominantColorRGB:j}),!!j){var L=(p=E.rgb).hsl.apply(p,_toConsumableArray(j));$n({HSL:L});var D=Math.round(j.reduce(function(Q,H){return Q+H})/j.length),F=D>=128?"black":"white";$n({avgVal:D});var X=(g=document.getElementById("theatre-ia-wrap"))!=null?g:document.getElementsByTagName("body")[0];X.style.color=F,X.style.backgroundImage="linear-gradient(rgb(".concat(j.join(","),"), black)"),X.style.backgroundRepeat="no-repeat",F==="black"&&(h.bgTheme="light",document.querySelector("ia-music-theater").setAttribute("bgTheme","light")),h.waveformer_played_color="hsl(".concat(L[0],",").concat(L[1],"%,").concat(Math.min(100,1.5*L[2]),"%)")}}},P=(_=document.getElementById("theatre-ia-wrap"))!=null?_:document.getElementsByTagName("body")[0],P.style.backgroundImage="linear-gradient(#aaa, black)",P.style.backgroundRepeat="no-repeat",P.style.backgroundColor="black",b.crossOrigin="Anonymous",b.complete?O():b.addEventListener("load",O);case 22:case"end":return u.stop()}},d,this)}))}},{key:"recolor_generic",value:function(){var d,h=["linear-gradient(\n        hsl(330, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(230, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(190, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(280, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(310, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(360, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )"],f=["hsl(300, 80%, 55%)","hsl(200, 80%, 55%)","hsl(160, 80%, 55%)","hsl(250, 80%, 55%)","hsl(280, 80%, 55%)","hsl(340, 80%, 55%)"],v=["hsl(300, 80%, 22%)","hsl(200, 80%, 22%)","hsl(160, 80%, 22%)","hsl(250, 80%, 22%)","hsl(280, 80%, 22%)","hsl(340, 80%, 22%)"],_=r.hash_string(this.identifier)%6,b=(d=document.getElementById("theatre-ia-wrap"))!=null?d:document.getElementsByTagName("body")[0];b.style.backgroundImage=h[_],this.waveformer_played_color=f[_],this.waveformer_progress_color=v[_]}},{key:"on",value:function(d,h){var f=qr&&qr(this.jid);return f&&f.on(d,h),this}},{key:"adjust_video_width",value:function(d){!d.width||!d.height||(d.height&&d.width&&d.height>0&&d.width>0&&parseInt(d.height,10)>0&&(this.DAR=parseInt(d.width,10)/parseInt(d.height,10),$n("DAR: ",this.DAR,d.width,"x",d.height)),this.embedResize())}},{key:"embedResize",value:function(){if(!(!qr||!qr(this.jid))){if(this.audio){qr(this.jid).resize(Math.min(nk,Z(window).width()),Yo);return}var d=Z(window).width(),h=Z(window).height()-this.list_height;qr(this.jid).resize(d,h)}}},{key:"playN",value:function(d,h){if(this.headless)return this.onPlaylistItem(d-(this.headless.has_full_album?1:0)),this.track_change(void 0,d);var f=qr(this.jid);return $n("playN",{readyIA:this.readyIA,idx:d,load_paused:h,state:f.getState()}),h&&f.once("play",function(){return f.pause()}),this.HLS?(f.seek(d?this.triggers[d-1]-this.HLS.WIGGLE:0),this.track_change(f,d),!1):(f.playlistItem(d),!1)}},{key:"track_change",value:function(d,h){$n("track_change",{idx:h}),this.trackno=h,this.url_updater(d,h)}},{key:"seeker_playlist",value:function(){if(!this.first_seeked_playlist){if(this.first_seeked_playlist=!0,this.pause_first_seek){var d=this;qr(this.jid).once("seek",function(){d.pause(),$n("... paused first seek!")})}this.start&&(this.pause(),qr(this.jid).seek(this.start))}}},{key:"embed_setup",value:function(){var d=this;Z(window).on("resize  orientationchange",function(){var h=d;clearTimeout(r.throttler2),r.throttler2=setTimeout(function(){new r(h.jid).embedResize()},250)})}},{key:"unpreload",value:function(){var d=qr(this.jid),h=d.getPlaylist(),f=d.getPlaylistIndex();if($n("unpreload:",{startPlaylistIdx:f}),h.length&&(typeof h[0].file!="undefined"&&(h[0].file=h[0].file.replace(/\/serve\//,"/download/")),typeof h[0].sources!="undefined")){var v=!0,_=!1,b=void 0;try{for(var w=h[0].sources[Symbol.iterator](),A;!(v=(A=w.next()).done);v=!0){var E=A.value;E.file=E.file.replace(/\/serve\//,"/download/")}}catch(O){_=!0,b=O}finally{try{!v&&w.return!=null&&w.return()}finally{if(_)throw b}}}f?(d.on("playlist",function(){$n("unpreload: onplaylist:",{startPlaylistIdx:f}),d.playlistIndex=f,d.playlistItem(f)}),this.reloading_playlist_playlist_idx=f):!this.start&&!this.autoplay&&(this.update_url_onload=!1),d.load(h)}},{key:"details_setup",value:function(){$n("details_setup");var d=0,h="^/details/".concat(this.identifier,"/([^&?]+)"),f=location.pathname.match(h);if(f){var v=decodeURIComponent(f[1].replace(/\+/g,"%20"));$n("looking for: ",v);for(var _ in this.playlist){var b=Number(_);if(this.playlist[b].orig===v){$n("player should seek to track #",b),d=b;break}}}if(!d&&!this.start&&!this.autoplay&&(this.update_url_onload=!1),!this.autoplay&&(d||this.start))if($n("seek #",d," to ",this.start),this.HLS){var w=this;setTimeout(function(){return w.playN(0,!0)},500),setTimeout(function(){return w.playN(d,!0)},1e3)}else{var A=qr(this.jid);A.playlistItem(d)}}},{key:"pause",value:function(){var d=qr(this.jid);this.readyIA&&d&&d.getState&&d.getState()==="playing"&&d.pause()}},{key:"remove",value:function(){this.pause();var d=qr(this.jid);this.readyIA&&d&&d.getConfig()&&d.remove(),delete r.STASH[this.jid]}},{key:"set_speed",value:function(){var d,h=Z("#".concat(this.jid," video")).get(0);h.playbackRate=(d=this.speed)!=null?d:1,$n("speed to ".concat(h.playbackRate))}},{key:"add_buttons",value:function(d){var h=this,f,v='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',_='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',b='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',w='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(this.embed&&!this.nolinks){var A=this,E=this.tvTitle?"".concat(this.tvTitle.replace(/ : /g,"\n"),"\n\nClick above for more information and clips\nat the Internet Archive"):"More Formats from Internet Archive";d.addButton("/images/glogo-jw.png",E,function(){var g=document.createElement("a");g.setAttribute("href",A.details),g.setAttribute("target","_blank"),document.body.appendChild(g),g.click()},"btn-ia")}if(this.embed&&!this.audio&&!this.noshare&&!this.tv){if(this.identifier!==!1){var O=this;d.addButton("/jw/embed.png","Embedding Examples and Help",function(){globalThis.top.location.href="/help/video.php?identifier=".concat(O.identifier)},"btn-mbd")}globalThis.AJS&&(d.addButton(b,"share",function(){var g=Z(".jw-icon[button=btn-shr]").get(0);globalThis.AJS.modal_go(g,{ignore_lnk:1,shown:globalThis.AJS.embed_codes_adjust})},"btn-shr"),Z(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))}if(this.tv&&this.embed&&this.tvSource!==!1){var P=this;d.addButton("/images/tv/".concat(this.identifier.split("_")[0],".png"),"Look for this show on ".concat(this.tvContributor," website"),function(){globalThis.top.location.href=P.tvSource},"btn-tv")}if(!this.audio&&this.collection&&!this.tv){var y=this;d.addButton("http://av.prod.archive.org/jw/related.png","Related Videos",function(){y.related_items_click()},"btn-rel")}if(0)var u;if(Z(".jw-icon-settings").css("display","flex"),Z(".jw-slider-time").remove(),Z(".jw-icon-settings").on("click",function(){return h.settings_opened()}),Z(".jw-settings-close").on("click",function(){return h.settings_closed()}),d.on("playbackRateChanged",function(){return h.settings_closed()}),Z(".jw-icon-volume").on("mouseover",function(){Z('div[button="btn-prv"]').hide(),Z('div[button="btn-nxt"]').hide(),Z(".jw-icon-settings").hide()}),Z("".concat(this.jidsel," .jw-button-container")).on("mouseleave",function(){Z('div[button="btn-prv"]').show(),Z('div[button="btn-nxt"]').show(),Z(".jw-icon-settings").show()}),!this.tv&&((f=this.playlist)==null?void 0:f.length)>1){var p=this;d.addButton(_,"next",function(){return(p.HLS||d).playlistNext()},"btn-nxt"),d.addButton(v,"previous",function(){return(p.HLS||d).playlistPrev()},"btn-prv")}}},{key:"settings_opened",value:function(){Z(this.jidsel).css("overflow","visible"),Z(".jw-controls").css("overflow","visible").show(),Z("#jw-settings-menu").css({overflow:"visible",height:uj,top:Hc+5,bottom:"initial"}),Z(".jw-controlbar").show(),Z(".jw-icon-settings").removeClass("jw-icon-settings");var d=document.querySelector(".jw-settings-submenu-button:not(.jw-off)").getBoundingClientRect().x-document.getElementById("jw6").getBoundingClientRect().x,h=d-Lf+7;$n({kebab_left:d,settings_new_left:h}),document.querySelector("body.jwaudio #jw-settings-menu").style.left="".concat(h,"px")}},{key:"settings_closed",value:function(){Z(this.jidsel).css("overflow","")}},{key:"cast",value:function(){var d=this;if(globalThis.WebKitPlaybackTargetAvailabilityEvent){Z("#".concat(this.jid," video")).get(0).webkitShowPlaybackTargetPicker();return}if(globalThis.chrome){var h=function(v,_){_.play(null,function(b){$n("media play success",v,_,b)},function(b){$n("media play fail",b)})};this.cast_retries=0;var f=function(){var v=d;if($n("cast_setup #",d.cast_retries),d.cast_retries+=1,d.cast_retries>3)return!1;if(!globalThis.chrome.cast)return setTimeout(f,d.cast_retries*1e3);var _=globalThis.chrome.cast,b=new _.SessionRequest(_.media.DEFAULT_MEDIA_RECEIVER_APP_ID),w=new _.ApiConfig(b,function(A){A.media.length&&h("onRequestSessionSuccess",A.media[0])},function(A){$n("receiver listener fail",A)});return _.initialize(w,function(){var A=v;$n("cast init success"),_.requestSession(function(E){$n("request session success",E);var O=Z("".concat(A.jidsel," video")).attr("src"),P="".concat(location.protocol,"//").concat(location.host).concat(O),y=new _.media.MediaInfo(P),u=new _.media.LoadRequest(y);E.loadMedia(u,h.bind(A,"loadMedia"),function(p){$n("onMediaError",p)})},function(E){$n("request session fail",E),setTimeout(f,500)})},function(){return $n("cast init failure")}),!0};f()}}},{key:"related_items_click",value:function(){var d=this,h=function(){Z("".concat(d.jidsel," .jw-controlbar")).one("click",function(_){Z("#related-items-bg").hide(),_.preventDefault()})};if(typeof _u!="undefined"&&!Z("#related-items").length){var f=this;Z("".concat(this.jidsel)).prepend('\n<div id="related-items-bg" style="display:none">\n  <div id="related-items">\n  </div>\n</div>\n'),_u.getRelatedItems(this.identifier,!0).then(function(_){var b=Math.floor(_.length/2),w="",A=!0,E=!1,O=void 0;try{for(var P=Object.entries(_)[Symbol.iterator](),y;!(A=(y=P.next()).done);A=!0){var u=_slicedToArray(y.value,2),p=u[0],g=u[1];Number(p)===b&&f.collection==="prelinger"?(r.track_event("Details-Video|DonationEndrollDisplayed"),w+='\n<a class="related-donate"\n   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"\n   data-event-click-tracking="Details-Video|DonationEndrollClicked"\n   data-event-tracking-options=\'{ "service": "ao_no_sampling" }\'>\n  <div>\n    <div class="related-ctr related-donate-logo">\n      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>\n    </div>\n    <div class="related-ctr related-donate-msg">\n      <div>\n        Your donation helps us keep these videos free for everyone\n      </div>\n    </div>\n    <div class="related-ctr related-donate-btn">\n      <div>\n        CHIP IN\n      </div>\n    </div>\n  </div>\n</a>\n'):w+='\n<div>\n  <a href="/details/'.concat(g.identifier,'"\n    data-event-click-tracking="Details-Video|LastFrameLinkChosen"\n    data-event-tracking-options=\'{ "service": "ao_2" }\'>\n    <div class="related-ttl">\n      ').concat(g.title!==null?g.title:"","\n      ").concat(g.creator!==null?"<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;".concat(g.creator):"","\n      ").concat(g.downloads!==null?"<div>".concat(g.downloads," views</div>"):"",'\n    </div>\n    <img src="/services/img/').concat(g.identifier,'"/>\n  </a>\n</div>\n')}}catch(k){E=!0,O=k}finally{try{!A&&P.return!=null&&P.return()}finally{if(E)throw O}}Z("#related-items").html(w),Z("#related-items-bg").show(),h()})}else{var v=Z("#related-items-bg:visible").length;v?Z("#related-items-bg").hide():(Z("#related-items-bg").show(),setTimeout(h,500))}onclick("#related-items-bg",function(){return Z("#related-items-bg").hide()})}},{key:"add_playlist_panel",value:function(){var d=this;return this.hide_list?"":zr(_templateObject449(),this.prior_panel,this.playlist.map(function(h,f){var v;return zr(_templateObject447(),d.playlist_track_click,d.trackno===f?"selected":"",f,d.headless?"":zr(_templateObject445(),f+1),(v=h.title)!=null?v:"",h.artist?zr(_templateObject446(),h.artist):"","",h.duration?r.sec2hms(h.duration):d.headless?"- \u2013:\u2013 -":"")}),_toConsumableArray(Array(this.panels_count)).map(function(h,f){return zr(_templateObject448(),d.goto_panel,f,Number(f)===d.panelno?"selected":"",f)}),this.next_panel)}},{key:"playlist_track_click",value:function(d){this.playN(Number(d.currentTarget.dataset.trackNumber))}},{key:"prior_panel",value:function(){this.panelno-=1;var d=this.shadowRoot.querySelector(".flexbox-pages");d.scrollBy({top:0,left:-1*d.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"next_panel",value:function(){this.panelno+=1;var d=this.shadowRoot.querySelector(".flexbox-pages");d.scrollBy({top:0,left:d.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"goto_panel",value:function(d){var h=this.shadowRoot.querySelector(".flexbox-pages");this.panelno=Number(d.currentTarget.dataset.pageNumber),h.scrollTo({top:0,left:this.panelno*h.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"paging_visibility",value:function(){var d,h=((d=this.shadowRoot)==null?void 0:d.querySelector(".flexbox-pages"))||this,f=h.parentElement.parentElement.querySelector(".page-left"),v=h.parentElement.parentElement.querySelector(".page-right"),_=h.scrollLeft;f.style.visibility=_<=0?"hidden":"visible",this.panels_count=Math.ceil(h.scrollWidth/h.clientWidth),console.warn("PANELS COUNT",this.panels_count);var b=h.scrollWidth-h.clientWidth;v.style.visibility=_>=b?"hidden":"visible"}},{key:"paging_hide_if_always_single_panel",value:function(){var d;if(!this.always_single_panel&&!(Z(window).width()<Rf)){var h=(d=this.shadowRoot)==null?void 0:d.querySelector(".flexbox-pages");h&&($n("paging_hide_if_always_single_panel()",h.scrollWidth,"-v-",h.clientWidth),h.scrollWidth===h.clientWidth?(h.parentElement.querySelector(".page-buttons").style.display="none",h.parentElement.parentElement.querySelector(".page-left").style.display="none",h.parentElement.parentElement.querySelector(".page-right").style.display="none",this.always_single_panel="yes"):this.always_single_panel="no")}}},{key:"responsiveResize",value:function(d){if(this.responsive){var h=Z(this.jidsel).offset(),f=Z(window).height()-h.top-pj;if(this.audio)this.playlist&&this.playlist.length>0&&(Yo=sj),f-=Yo,f=Math.max(lj,f),this.embed||($n("responsiveResize() maxH:",f),this.list_height=f);else{var v=this.DAR;this.playlist&&this.playlist.length>0&&this.playlist[0].sources&&this.playlist[0].sources.length>0&&this.playlist[0].sources[0].width&&this.playlist[0].sources[0].height&&(v=this.playlist[0].sources[0].width/this.playlist[0].sources[0].height,$n("aspect ratio appears to be: ",v));var _=Z(".container-ia:last").width();$n("video max rect avail: ",_,"x",f);var b,w,A=!0,E=!1,O=void 0;try{for(var P=[960,840,720,600,480,360,240,180][Symbol.iterator](),y;!(A=(y=P.next()).done)&&(w=y.value,b=Math.round(w*v),$n("video size try fit: ",b,"x",w),!(b<=_&&w<=f||b<=320));A=!0);}catch(p){E=!0,O=p}finally{try{!A&&P.return!=null&&P.return()}finally{if(E)throw O}}this.width=b,this.height=w,globalThis.AJS&&globalThis.AJS.theatre_controls_position(!1,0,this.width,this.height)}if(d){var u=this;Z(window).on("resize  orientationchange",function(){var p=u;clearTimeout(r.throttler),r.throttler=setTimeout(function(){new r(p.jid).responsiveResize()},250)})}else this.audio||qr(this.jid).resize(this.width,this.height);d||this.paging_visibility(),this.paging_hide_if_always_single_panel()}}},{key:"cache",value:function(){if(!this.jid)return alert("please pass in a unique identifier for this object");if(typeof r.STASH[this.jid]!="undefined"){if(typeof this.playlist=="undefined")return r.STASH[this.jid];delete r.STASH[this.jid]}}},{key:"updated",value:function(d){if($n("play updated()",d),"mdapi"in d&&$n("mdapi changed"),this.audio&&!this.playlist_setup&&this.playlist){this.playlist_setup=!0;var h=this.shadowRoot.querySelector(".flexbox-pages");h.addEventListener("scroll",this.paging_visibility),this.paging_visibility(),this.paging_hide_if_always_single_panel()}}},{key:"firstUpdated",value:function(){$n("play firstUpdated up")}},{key:"render",value:function(){var d;$n("play-av render()",this.trackno),this.slotted||(this.innerHTML='<div id="'.concat(this.jid||"jw6",'"></div><div id="ia-scrubber" slot="ia-scrubber"></div>'),this.slotted=!0,this.retry&&this.construct(this.jid,this.retry.playlist,this.retry.args)),this.identifier&&!this.jid&&!this.mdapi&&this.from_attr_identifier(),this.mdapi&&!this.jid&&this.from_attr_mdapi("jw6");var h=this.playlist?this.add_playlist_panel():"";this.readyIA&&(this.draggable_scrubber(),this.rendered_once||(this.rendered_once=!0,this.audio&&this.responsive&&!this.embed&&this.responsiveResize(),this.responsive&&!this.audio&&Z(this.jidsel).css("margin","auto"),this.add_buttons(this.player),Z(".jw-controls").css({backgroundColor:"transparent",height:"100%"}),Z(".jw-controlbar").css("padding-top","8px"),this.responsive&&Yo>Hc&&Z(this.jidsel).css("height",Yo),!this.embed&&this.responsive?this.details_setup():this.embed&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&this.embed_setup()));var f=this.playlist?(d=this.playlist[this.trackno||0])==null?void 0:d.image:"";return zr(_templateObject455(),this.audio&&!this.headless?zr(_templateObject453(),f?zr(_templateObject451(),f,this.waveform_clicked):zr(_templateObject452())):"",this.show_transcripts()?zr(_templateObject454(),this.identifier,this.trackno||0,JSON.stringify(this.playlist||[]),this.bgTheme):"",h)}},{key:"show_transcripts",value:function(){var d=this,h,f,v,_,b=1600,w=1928,A=["78rpm","edison-recordings","georgeblood"];if(this.headless)return!1;if(!A.filter(function(y){var u;return(u=d.collections)==null?void 0:u.includes(y)}).length)return!0;var E=String((_=(v=(f=JSON.parse((h=Z(".js-ia-metadata").val())!=null?h:"{}"))==null?void 0:f.metadata)==null?void 0:v.date)!=null?_:"6666");if(typeof E!="string")return!1;var O=E.match(/^(\d\d\d\d)$/)||E.match(/^(\d\d\d\d)-\d\d$/)||E.match(/^(\d\d\d\d)-\d\d-\d\d$/);if(!O)return!1;var P=Number(O[1]);return P<=w&&P>=b}},{key:"from_attr_identifier",value:function(){var d=this;$n("from_attr_identifier()"),E4(this.identifier).then(function(h){d.mdapi=h}).catch(function(h){return $n("error",h)})}},{key:"from_attr_mdapi",value:function(d){var h;$n("from_attr_mdapi()");var f=new C4(this.mdapi);if(f.showing==="movies"||f.showing==="audio"){var v=[].concat(this.mdapi.metadata.collection),_={audio:f.showing==="audio",responsive:!0,identifier:this.id,collections:v,collection:v.shift()},b=[],w=f.jwplaylist(_,j4,b);if($n(w),f.showing==="audio"){var A=document.getElementsByTagName("body")[0];A.setAttribute("class","".concat((h=A.getAttribute("class"))!=null?h:""," jwaudio")),_&&!this.embed&&(_.waveformer=!0)}this.construct(d,w,_)}}},{key:"draggable_scrubber",value:function(){var d=this,h=function(b){if(f){var w=document.getElementById("ia-scrubber").getBoundingClientRect(),A=Math.min(w.width,Math.max(0,b.clientX-w.left));Z("#ia-scrubber .jw-knob").css({left:"".concat(A,"px")})}},f=!1;document.querySelector("play-av").parentElement.addEventListener("mousemove",h);var v=document.getElementById("ia-scrubber");v.addEventListener("mousedown",function(){d.player.pause(),f=!0}),v.addEventListener("mouseup",function(){d.player.play(),f=!1})}},{key:"headless_create",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!d.length){var h=Z("play-av:not(:first)"),f=Z("play-av:first"),v=globalThis.Play(h.attr("jid")),_=globalThis.Play(f.attr("jid"));if(v.remove(),h.remove(),f.show(),$n("IS AT",v.trackno,v.headless.tracks),v.trackno||v.trackno===0){var b=v.headless.tracks[v.trackno];_.playN(Math.max(0,b),!0)}return}this.pause();var w={audio:!0,responsive:!0,identifier:this.identifier,headless:{tracks:d,has_full_album:!1}},A=[],E=!0,O=!1,P=void 0;try{for(var y=d[Symbol.iterator](),u;!(E=(u=y.next()).done);E=!0){var p=u.value;Number(p)===-1&&(w.headless.has_full_album=!0),A.push(Number(p)===-1?{title:"[Full Album]",orig:"",sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}:this.playlist[p])}}catch(j){O=!0,P=j}finally{try{!E&&y.return!=null&&y.return()}finally{if(O)throw P}}var g=Z("play-av").parent(),k=Z("play-av:first").attr("jid"),x=globalThis.Play(k).trackno;w.headless.playN=Math.max(0,d.indexOf(x)),Z("play-av:first").hide(),Z("play-av[jid=headless]").remove(),delete r.STASH.headless,g.append('\n      <play-av jid="headless"\n        playlist=\''.concat(JSON.stringify(A).replace(/'/g,"&apos;"),"'\n        args='").concat(JSON.stringify(w).replace(/'/g,"&apos;"),"'></play-av>"))}}],[{key:"hash_string",value:function(d){return d.split("").reduce(function(h,f){return h+f.charCodeAt(0)},0)}},{key:"castable",value:function(){return globalThis.WebKitPlaybackTargetAvailabilityEvent||globalThis.chrome}},{key:"styles",get:function(){return ic(_templateObject450(),Wr(Go),Wr(Go/2),Wr(Go)/2,Wr(Go/2),Wr(Go),Wr(Go),Wr(Go/2-9),Wr(Rf-1),Wr(Rf))}},{key:"css",value:function(){var d=document.getElementsByTagName("head")[0];if(d){var h=document.createElement("style");h.setAttribute("type","text/css"),h.appendChild(document.createTextNode("\n\nbody.jwaudio .jwplayer {\n  width: initial !important;\n  display: inline-block;\n  margin-left: ".concat(oj,"px;\n\n  outline: 0 !important;\n  outline-offset: unset !important;\n}\n\nbody.navia.jwaudio .jw-preview {\n  display: none !important;\n}\n\n/* avoid bleed-thru when kebab opened */\nbody.jwaudio .jw-wrapper, body.jwaudio .jw-controls-backdrop {\n  background-color: transparent;\n  background: none;\n}\n\n/* make control bar use up width naturally, based on controlbar buttons (waveform soaks up rest) */\nbody.jwaudio .jw-wrapper,\nbody.jwaudio .jw-controls {\n  position: initial;\n}\n\nbody.jwaudio .jw-controlbar .jw-icon-inline:first-child {\n  margin-left: 15px;\n}\n\nbody.jwaudio .jw-controlbar .jw-icon-inline {\n  width: 35px;\n}\nbody.jwaudio .jw-controlbar .jw-icon-inline.jw-text-duration {\n  width: 55px;\n}\n\n/* https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Container_Queries */\n#play-av-wrapper {\n  container-name: player-pill;\n  container-type: inline-size;\n}\n@container player-pill (min-width: ").concat(tk,"px) {\n  body.jwaudio .jw-text-elapsed {\n    display: flex !important;\n  }\n}\n@container player-pill (min-width: ").concat(cj,'px) {\n  body.jwaudio .jw-text-duration {\n    display: flex !important;\n  }\n}\n\nbody.jwaudio .jw-settings-submenu-button {\n  margin-left: -5px;\n}\n\nbody.jwaudio #jw-settings-menu {\n  z-index: 1;\n  margin-top: 25px;\n  border-top: 1px solid #aaa;\n  left: 50px;\n}\n\nbody.jwaudio #jw-settings-menu:before {\n  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */\n  content: "";\n  position:absolute;\n\n  /* position tooltip correctly */\n  top: -11px;\n  left: ').concat(Lf,'px;\n  transform:translateY(-50%);\n\n  /* the arrow */\n  border: 10px solid #000;\n  border-color: transparent transparent #aaa transparent;\n}\nbody.jwaudio #jw-settings-menu:after {\n  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */\n  content: "";\n  position:absolute;\n\n  /* position tooltip correctly */\n  top: -8px;\n  left: ').concat(Lf,"px;\n  transform:translateY(-50%);\n\n  /* the arrow */\n  border: 10px solid #000;\n  border-color: transparent transparent black transparent;\n}\n\n#waveformer-loader {\n  overflow: hidden;\n  width: 1px;\n  height: 1px;\n  max-width: 1px;\n  max-height: 1px;\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  opacity: 0.01;\n}\n    "))),d.appendChild(h)}}},{key:"sec2hms",value:function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=Math.round(d),_=Math.floor(v/3600),b=Math.floor((v-_*3600)/60);v-=_*3600+b*60;var w="",A="";(h||_>0)&&(A="00".concat(_),w+=A.substr(A.length-2,2),w+=":"),A="00".concat(b),w+=A.substr(A.length-2,2),w+=":",A="00".concat(v),w+=A.substr(A.length-2,2);var E=f?".".concat((d%1).toFixed(3).slice(2)):"";return"".concat(w).concat(E)}},{key:"seconds",value:function(d){var h=d.replace(",","."),f=h.split(":"),v=0;return h.substr(-1)==="s"?v=Number(h.substr(0,h.length-1)):h.substr(-1)==="m"?v=Number(h.substr(0,h.length-1))*60:h.substr(-1)==="h"?v=Number(h.substr(0,h.length-1))*3600:f.length>1?(v=Number(f[f.length-1]),v+=Number(f[f.length-2])*60,f.length===3&&(v+=Number(f[f.length-3])*3600)):v=Number(h),v}},{key:"seek",value:function(d){var h="".concat(d.href,"/").match(/[/#]start\/([\d.]+)\//)||d.href.match(/[?&]start=([\d.]+)/);if(!h)return!0;var f=h[1];return qr().seek(f),typeof history.pushState=="undefined"?location.href=d.href:history.pushState({},null,d.href),!1}},{key:"mute_click",value:function(){var d,h=!Xr.get("unmute");if((d=globalThis.AJS)!=null&&d.emulator)globalThis.AJS.emulator.setMute(!h);else{var f=qr("jw6");if(f){var v=f.getVolume();v?(r.mute_click_prior_volume=v,f.setVolume(0)):f.setVolume(typeof r.mute_click_prior_volume=="undefined"?100:r.mute_click_prior_volume)}}return Z("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),h?Xr.set("unmute",1,{path:"/details",expires:30}):Xr.remove("unmute",{path:"/details"}),!1}},{key:"cast_sender_setup",value:function(){!globalThis.chrome||globalThis.chrome.cast||function(){var d=function(g){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+g)!=-1||document.currentScript.src.indexOf("&"+g)!=-1)},h=d("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",f=d("loadCastFramework")||d("loadCastApplicationFramework"),v=function(){return typeof globalThis.__onGCastApiAvailable=="function"?globalThis.__onGCastApiAvailable:null},_=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"],b=function(p){p.length?A(p.shift(),function(){b(p)}):O()},w=function(g){return"chrome-extension://"+g+h},A=function(g,k,x){var j=document.createElement("script");j.onerror=k,x&&(j.onload=x),j.src=g,(document.head||document.documentElement).appendChild(j)},E=function(g){return 0<=globalThis.navigator.userAgent.indexOf(g)},O=function(){var g=v();g&&g(!1,"No cast extension found")},P=function(){if(f){var g=2,k=v(),x=function(){g--,g==0&&k&&k(!0)};globalThis.__onGCastApiAvailable=x,A("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",O,x)}};if(E("CriOS")){var y=globalThis.__gCrWeb&&globalThis.__gCrWeb.message&&globalThis.__gCrWeb.message.invokeOnHost;y&&(P(),y({command:"cast.sender.init"}))}else if(E("Android")&&E("Chrome/")&&globalThis.navigator.presentation){P();var u=globalThis.navigator.userAgent.match(/Chrome\/([0-9]+)/);b(["//www.gstatic.com/eureka/clank/"+(u?parseInt(u[1],10):0)+h,"//www.gstatic.com/eureka/clank"+h])}else globalThis.chrome&&globalThis.navigator.presentation&&!E("Edge")?(P(),b(_.map(w))):O()}()}},{key:"filename_char_encoder",value:function(d){var h=d.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i),f=h.shift().replace(/#/g,"%23").replace(/\?/g,"%3F"),v=f+(h.length?".".concat(h.shift(),"?"):"");return v+h.join("")}},{key:"track_event",value:function(d){if(globalThis.archive_analytics){var h=_slicedToArray(d.split("|"),2),f=h[0],v=h[1];globalThis.archive_analytics.send_event(f,v,globalThis.location.pathname)}}},{key:"properties",get:function(){return{trackno:Number,identifier:String,mdapi:Array,bgTheme:String}}},{key:"headless",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(v){return $n("track ".concat(v," clicked"))},f=Z("play-av:first").attr("jid");r.headless_callback=h,globalThis.Play(f).headless_create(d,h)}}]),r}(jo),vj=function(){"use strict";function a(s){_classCallCheck(this,a),this.WIGGLE=1,this.playlist_index=0,this.last_time=0,this.p=s,$n(s.triggers)}return _createClass(a,[{key:"setup",value:function(r){var c=this;this.play=r,this.p.player.on("time",function(){return c.on_time()}),this.p.player.on("meta",function(d){return $n("HLS meta",d)})}},{key:"on_time",value:function(){var r=this.p.player.getCurrentTime();if(!(Math.abs(this.last_time-r)<.25)){this.last_time=r;var c=this.playlist_index;if(r>=this.p.triggers[c]+this.WIGGLE)for($n("on_time >=",r,">=",this.p.triggers[c]+this.WIGGLE);r>=this.p.triggers[c]-this.WIGGLE;)c+=1;else if(r<this.p.triggers[c-1]+this.WIGGLE)for($n("on_time <",r,"<",this.p.triggers[c-1]-this.WIGGLE);c&&r<this.p.triggers[c-1]-this.WIGGLE;)c-=1;if(c!==this.playlist_index){if($n("HLS switching tracks:",this.playlist_index,"=>",c),this.playlist_index=c,this.play.track_change(this.p.player,this.playlist_index),Z("#play-hls-duration").html(ja.sec2hms(this.p.playlist[this.playlist_index].duration)),this.p.waveformer){$n(this.p.playlist[this.playlist_index]);var d=this.p.playlist[this.playlist_index].image;if(d){Z("#waveformer-loader").length||Z("body").append('<img id="waveformer-loader"></img>');var h=Z("#waveformer-loader").get(0);h.onload=function(){return Z(".jw-preview").css("background-color","transparent")},h.src=d,Z(".jw-preview").css("background-color","black"),Z(".jw-preview").css("background-image",'url("'.concat(d,'")'))}}}var f=this.p.playlist[this.playlist_index].duration;if(this.p.waveformer&&f){var v=r-(this.playlist_index?this.p.triggers[this.playlist_index-1]:0);Z("#play-hls-elapsed").html(ja.sec2hms(Math.round(Math.max(0,v)))),this.p.jwaudioPercentDone=Math.min(1,v/f)}}}},{key:"update_playlist",value:function(r){$n("HLS.update_playlist",r.playlist);var c=Aa("mode")==="aac"?"&mode=aac":"";if(0){var d;for(var h in this.p.triggers)var f,v}r.playlist=r.playlist.slice(0,1),r.playlist[0].sources[0].file="/details/".concat(this.p.identifier).concat(c,"&embed=1&HLS=1&hls.m3u8"),delete r.playlist[0].sources[0].title,delete r.playlist[0].sources[0].duration,$n("HLS new playlist to jw",r.playlist),r.hlsjsConfig={p2pConfig:{live:!1}}}},{key:"playlistPrev",value:function(){$n("HLS.playlistPrev");var r=0;this.playlist_index?this.playlist_index>1&&(r=this.p.triggers[this.playlist_index-2]-this.WIGGLE):r=this.p.triggers[this.p.triggers.length-2]-this.WIGGLE,this.p.player.seek(r)}},{key:"playlistNext",value:function(){$n("HLS.playlistNext");var r=this.playlist_index>=this.p.triggers.length-1?0:this.p.triggers[this.playlist_index]-this.WIGGLE;this.p.player.seek(r)}},{key:"waveform_clicked",value:function(r){var c=this.playlist_index,d=c?this.p.triggers[c-1]:0,h=this.p.triggers[c]-d;this.p.player.seek(d+h*r)}}]),a}(),!globalThis.Play){ja.STASH={},ja.css(),globalThis.Play=function(a,s,r){return new ja(a,s,r)};var m=!0,t=!1,e=void 0;try{for(var n=["mute_click","sec2hms","seconds","seek","filename_char_encoder","headless"][Symbol.iterator](),o;!(m=(o=n.next()).done);m=!0){var l=o.value;globalThis.Play[l]=ja[l]}}catch(a){t=!0,e=a}finally{try{!m&&n.return!=null&&n.return()}finally{if(t)throw e}}customElements.define("play-av",ja)}gj=ja}}),Df=Mt({"https-url:https://av.prod.archive.org/js/util/strings.js":function(){}}),_I=Mt({"https-url:https://av.prod.archive.org/js/tv/tuners.js":function(){}}),kI=Mt({"https-url:https://av.prod.archive.org/js/items.js":function(){Df()}}),xI=Mt({"https-url:https://av.prod.archive.org/js/util/fetch.js":function(){}}),SI=Mt({"https-url:https://av.prod.archive.org/iso/hostname.js":function(){}}),mj,CI,yj,AI,OI,bj=Mt({"https-url:https://av.prod.archive.org/js/tv.js":function(){_j(),wj(),_I(),Rs(),ik(),kI(),xI(),SI(),Df(),CI=(mj=u5())!=null&&mj.startsWith("tvnix")?u5().split(".")[0].substr(5).toUpperCase():!1,yj="/^[^_]+_20[012][0-9][0-9][0-9][0-9][0-9]_[0-9][0-9][0-9][0-9][0-9][0-9]/",AI="identifier ~ '".concat(yj.slice(1).slice(0,-1),"'"),OI=HT(["UNITED STATES","THE CITY","UNITED","US","U.S.","AMERICA","ABC","NBC","CNN"])}}),wj=Mt({"https-url:https://av.prod.archive.org/js/tv/recordings.js":function(){bj()}}),_j=Mt({"https-url:https://av.prod.archive.org/js/tv/zones.js":function(){wj(),Rs()}}),kj,jI,ik=Mt({"https-url:https://av.prod.archive.org/js/time.js":function(){Rs(),Df(),_j(),bj(),kj={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},jI=Object.keys(kj)}}),$f,bs,xj,Sj,Cj,Bf,Aj,Oj,jj,Ej,EI=Mt({"https-url:https://av.prod.archive.org/js/player.js":function(){Rs(),Kp(),ik(),Df(),$f=!1,bs=100,xj=(location==null?void 0:location.host)==="av.dev.archive.org",Sj="__ia_thumb.jpg",Cj=0,Bf=Object.fromEntries(["thumbnail2","thumbnail","h.264","webm","h.264 720p","h.264 486p","512kb mpeg4","ogg video",$f?"h.264 4k":"h.264 hd","h.264 hd","h.264 mpeg4","mpeg4","ogg theora","flash video","vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"].map(function(m){return[m,Cj++]})),Aj=["vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"],Oj=["64kbps m3u","64kbps mp3 zip","checksums","flac fingerprint","item tile","vbr m3u","vbr zip"],jj=function(){"use strict";function m(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this;_classCallCheck(this,m),this.identifier=t.metadata.identifier,this.groups=[],this.widths={},this.heights={},this.durations={},this.srts={},this.vtts={},this.haxLP=!1;var o={},l={},a={},s={},r={},c={},d={},h={},f=Bf.thumbnail2,v={};t.files.forEach(function(lt){var ct=_slicedToArray(n.filter(lt),1),Ge=ct[0];if(Ge){if("original"in Ge){var ze=m.val(Ge.original);Ge.name!==ze&&(o[Ge.name]=ze)}Ge.name.endsWith(".png")&&!Ge.name.endsWith("_spectrogram.png")&&(d[Ge.name]=1)}}),Dn(o),t.files.forEach(function(lt){var ct=_slicedToArray(n.filter(lt),3),Ge=ct[0],ze=ct[1],He=ct[2];if(Ge){var rt=Ge.name,it=Bf[ze],wt="original"in Ge,_t=rt;if(wt){_t=m.val(Ge.original);for(var xt=10;xt&&_t in o;xt--)_t=o[_t];(He==="mp4"||He==="ogv")&&_t in t.files&&t.files[_t].format==="ISO Image"&&preg_match("/^(.*?)(d+).[^.]+$/",$filename,$m2)&&preg_match("/^(.*).[^.]+$/",$key,$mat)&&$m2[1]==$mat[1]&&($origSuffix=strrchr($fi.ORIGINAL,"."),_t="{$m2[1]}{$m2[2]}$origSuffix"),_t=m.val(_t)}else"artist"in Ge?v[_t]=Ge.artist:"creatorxxx"in Ge&&(v[_t]=Ge.creatorxxx);if(!(e&&_t!==e)){if(_t in l||(l[_t]={}),"title"in Ge&&(wt&&"title"in l[_t]||(l[_t].title=Ge.title)),"height"in Ge&&(n.heights[rt]=Ge.height),"width"in Ge&&(n.widths[rt]=Ge.width),"autoplay"in Ge&&(r[rt]=Ge.autoplay),"length"in Ge){var ut=gp(String(m.val(Ge.length)));n.durations[rt]=ut,wt&&(h[_t]=1),(wt||!("length"in l[_t])||!(_t in h))&&(l[_t].length=Math.round(ut))}if(it){if(wt){if(ze==="h.264 720p"){l[_t].HD=rt;return}}else{var we=Ge.title;if(ze==="h.264 hd"||ze==="h.264 mpeg4"&&(we.indexOf("[HD]")>0||we.indexOf(" HD ")>0||we.endsWith(" HD"))){l[_t].HD=rt;return}if($f&&ze==="h.264 4k"){l[_t]["4K"]=rt;return}it>1&&(it+=bs)}it>1&&(Aj.indexOf(ze)>=0?(a[_t]=1,c[rt]=1):s[_t]=1),_t in l||(l[_t]={}),it in l[_t]?ze==="thumbnail"&&f in l[_t]&&(l[_t][f]=rt):(l[_t][it]=rt,it<bs&&it+bs in l[_t]?delete l[_t][it+bs]:it>bs&&it-bs in l[_t]&&delete l[_t][it-bs])}}}}),Dn(l),this.haxLP&&(delete l["".concat(this.identifier,".flac")],delete l["".concat(this.identifier,".ogg")],delete l["".concat(this.identifier,".mp3")],delete l["".concat(this.identifier,".m4a")]);var _=Object.keys(a).length,b=Object.keys(s).length;b>0&&(b>=_||t.metadata.mediatype==="movies")?this.showing="movies":this.showing=_?"audio":!1;var w=Object.values(v);(w.length<=1||_toConsumableArray(new Set(w)).length<=1)&&(v={});var A=this.showing==="movies"?s:a,E=this.showing==="movies"?b:_,O=!0,P=!1,y=void 0;try{for(var u=Object.entries(l)[Symbol.iterator](),p;!(O=(p=u.next()).done);O=!0){var g=_slicedToArray(p.value,2),k=g[0],x=g[1];if(k in A){var j={SRC:[]};if(0 in x)j.POSTER=x[0];else if(1 in x)j.POSTER=x[1];else{var L=!0,D=!1,F=void 0;try{for(var X=Object.entries(x)[Symbol.iterator](),Q;!(L=(Q=X.next()).done);L=!0){var H=_slicedToArray(Q.value,2),ce=H[0],ne=H[1];if(parseInt(ce,10)){var V=ne.replace(/(\.m4a|\.ogg|_sample\.mp3|\.mp3)$/i,".png");V!==ne&&V in d&&(j.POSTER=V)}}}catch(lt){D=!0,F=lt}finally{try{!L&&X.return!=null&&X.return()}finally{if(D)throw F}}}k in r&&(j.AUTOPLAY=!1);var Y=!0,oe=!1,q=void 0;try{for(var G=Object.entries(x)[Symbol.iterator](),J;!(Y=(J=G.next()).done);Y=!0){var ae=_slicedToArray(J.value,2),ie=ae[0],Oe=ae[1];if(parseInt(ie,10)&&ie>1){if(this.showing==="movies"&&c[Oe]||this.showing!=="movies"&&!c[Oe])continue;j.SRC.push(Oe)}}}catch(lt){oe=!0,q=lt}finally{try{!Y&&G.return!=null&&G.return()}finally{if(oe)throw q}}j.SRC.length&&(j.TITLE="title"in x?m.val(x.title):k.split("/").pop().replace(/\.[^.]+$/,"").replace(/_512kb$/,"").replace(/_/g," "),j.ORIG=k,k in v&&(j.ARTIST=v[k]),"length"in x?j.length=x.length:j.length=this.runtime(t,E,k),"HD"in x&&(j.HD=x.HD),$f&&"4K"in x&&(j["4K"]=x["4K"]),this.groups.push(j))}}}catch(lt){P=!0,y=lt}finally{try{!O&&u.return!=null&&u.return()}finally{if(P)throw y}}if(this.captions(),xj&&Dn("player",this),this.showing==="audio"){var De=!0,ke=!1,tt=void 0;try{for(var Ve=this.groups[Symbol.iterator](),Qe;!(De=(Qe=Ve.next()).done);De=!0){var ht=Qe.value,bt=!1,vt=!1,Le=!0,_e=!1,Ne=void 0;try{for(var Ze=Object.entries(ht.SRC)[Symbol.iterator](),Ke;!(Le=(Ke=Ze.next()).done);Le=!0){var Pe=_slicedToArray(Ke.value,2),at=Pe[0],pt=Pe[1];pt.endsWith("_sample.mp3")?bt=at:pt.endsWith(".mp3")&&(vt=!0)}}catch(lt){_e=!0,Ne=lt}finally{try{!Le&&Ze.return!=null&&Ze.return()}finally{if(_e)throw Ne}}vt&&bt!==!1&&ht.SRC.splice(bt,1)}}catch(lt){ke=!0,tt=lt}finally{try{!De&&Ve.return!=null&&Ve.return()}finally{if(ke)throw tt}}}}return _createClass(m,[{key:"filter",value:function(e){var n=e.name,o=n.substr(1+n.lastIndexOf(".")).toLowerCase(),l=e.format.toLowerCase();if(Oj.includes(l)||n===Sj)return[];if(o==="mp3"&&(e.original==="".concat(this.identifier,"_segments.json")||e.original==="".concat(this.identifier,"_segments.xml"))&&(this.haxLP=!0,delete e.original,e.source="original"),typeof e.original=="string"&&e.original.endsWith(".torrent")&&(delete e.original,e.source="original"),o==="vtt")return this.vtts[n]=1,[];if(o==="srt")return this.srts[n]=1,[];var a=Bf[l];return o==="mp3"&&!a?[e,"64kbps mp3",o]:[e,l,o]}},{key:"jwplaylist",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],l=[],a="https://archive.org/download/".concat(this.identifier,"/"),s=["audio/mpeg","mp3","audio/ogg","ogg","video/h264","mp4","video/ogg","ogg",""];navigator.userAgent.indexOf("Chrome/")>0?fa("jest")?s=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]:s=["audio/ogg","ogg","audio/mpeg","mp3","video/h264","mp4","video/ogg","ogg",""]:navigator.userAgent.indexOf(" Iceweasel/")>0&&(s=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]),s.push("video/x-flv");var r=0;s=Object.fromEntries(s.map(function(F){return[F,r++]}));var c=!0,d=!1,h=void 0;try{for(var f=Object.values(this.groups)[Symbol.iterator](),v;!(c=(v=f.next()).done);c=!0){var _=v.value,b={sources:[],title:FT(_.TITLE,100,!0)};"ORIG"in _&&(b.orig=_.ORIG,"ARTIST"in _&&(b.artist=_.ARTIST)),"AUTOPLAY"in _&&(b.autoplay=_.AUTOPLAY);var w=fa("poster");w?b.image=this.url(w.replace(/^(https?):\/([^/])/,"$1://$2")):(this.showing==="movies"&&"POSTER"in _||this.showing==="audio"&&"POSTER"in _)&&(b.image=this.url(a+_.POSTER),o.length||o.push(this.url(a+_.POSTER))),"length"in _&&(b.duration=_.length),"HD"in _&&_.SRC.push(_.HD);var A={},E=!0,O=!1,P=void 0;try{for(var y=_.SRC[Symbol.iterator](),u;!(E=(u=y.next()).done);E=!0){var p=u.value,g=((p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))$/i)||[]).pop()||(p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))\?/i)||[]).pop()||(p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))&/i)||[]).pop()||"").toLowerCase();if(!(n&&(g==="ogg"||g==="ogv"))){var k="",x=[640,480];switch(g){case"mp3":k="mp3";break;case"ogg":k="ogg";break;case"m4a":k="aac";break;case"ogv":k="ogg",x=[400,300];break;case"mp4":k="mp4";break;case"mpeg4":k="mp4";break;case"m4v":k="mp4";break;case"mov":k="mp4";break;case"flv":k="video/x-flv";break;case"swf":k="video/x-flv";break;default:k=""}var j=p in this.widths?this.widths[p]:x[0],L=p in this.heights?this.heights[p]:x[1],D={file:this.url(a+p),width:j,height:L};k!==""&&(D.type=k),this.showing==="movies"&&(D.label="".concat(L,"p").concat(L>=720?" HD":"")),!(k&&parseInt(L,10)===parseInt(A[k],10))&&(A[k]=L,b.sources.push(D),this.showing==="movies"&&"image"in b&&(b.tracks=[{kind:"thumbnails",file:"".concat(b.image.replace("/download/","/stream/").replace("%2F","/"),"?vtt=vtt.vtt")}]),p in this.durations&&(b.duration=Math.max(b.duration,this.durations[p])))}}}catch(F){O=!0,P=F}finally{try{!E&&y.return!=null&&y.return()}finally{if(O)throw P}}Dn(e.tv),l.push(b)}}catch(F){d=!0,h=F}finally{try{!c&&f.return!=null&&f.return()}finally{if(d)throw h}}return l}},{key:"runtime",value:function(e,n,o){return this.xxx="implement runtime() ".concat(n?typeof e=="undefined"?"undefined":_typeof(e):typeof o=="undefined"?"undefined":_typeof(o)),-1}},{key:"captions",value:function(){this.xxx="implement captions()"}},{key:"url",value:function(e){return this.xxx="sort me out ",e}}],[{key:"val",value:function(e){return typeof e=="object"?e.length?e[0]:"":e}}]),m}(),Ej=jj}}),Tj,Pj,TI=Mt({"https-url:https://av.prod.archive.org/js/util/ios.js":function(){Tj=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0,Pj=Tj}}),PI=Mt({"https-url:https://av.prod.archive.org/iso/s3.js":function(){}}),Ij,II=Mt({"https-url:https://av.prod.archive.org/js/mdapi.js":function(){PI(),Ij=UT}}),MI=Mt({"https-url:https://av.prod.archive.org/js/play/background-play.js":function(){Au(),pa(),customElements.define("background-play",function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.toggle=!Xr.get("nohls"),n}return _createClass(e,[{key:"click_on",value:function(){this.toggle=!0,Xr.remove("nohls",{path:"/details"})}},{key:"click_off",value:function(){this.toggle=!1,Xr.set("nohls",1,{path:"/details",expires:30})}},{key:"render",value:function(){var o="jw-settings-item-active";return zr(_templateObject456(),this.toggle,this.toggle?o:"",this.click_on,!this.toggle,this.toggle?"":o,this.click_off)}},{key:"createRenderRoot",value:function(){return this}}],[{key:"properties",get:function(){return{toggle:Boolean}}}]),e}(jo))}}),LI=Mt({"https-url:https://av.prod.archive.org/js/play/transcript-viewer.js":function(){Au(),T4(),ik(),Rs(),customElements.define("transcript-viewer",function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return this.tracks_with_captions?zr(_templateObject460(),this.transcriptConfig?"":"dimmed",this.transcript_toggled,this.bgTheme==="light"?"light":"",this.kind,this.is_open?"margin-top:-12px":"",this.is_open?"\uFE3F":"\uFE40",this.is_open?zr(_templateObject458()):zr(_templateObject459()),this.transcriptConfig&&this.is_open?"":"not-showing",this.transcriptConfig,this.currentTime,this.transcriptEntrySelected):zr(_templateObject457())}},{key:"transcript_toggled",value:function(){this.transcriptConfig&&(this.is_open=!this.is_open,this.is_open&&globalThis.archive_analytics&&globalThis.archive_analytics.send_event("DetailsPage-MusicPlayer","LyricsButton-Clicked",window.location.pathname))}},{key:"updated",value:function(o){if(Dn("<transcript-viewer> updated()",o),o.has("trackno")&&this.update_transcript_view(),!this.tracking_time){var l=document.querySelector("video");if(l){var a=this;this.tracking_time=!0,l.addEventListener("timeupdate",function(){var s;a.currentTime=l.currentTime;var r=(s=a.shadowRoot)==null?void 0:s.querySelector("transcript-view");if(r&&(r.currentTime=a.currentTime,!a.transcript_view_tweaked)){var c=r.shadowRoot.querySelectorAll("transcript-entry");if(c.length){if(a.transcript_view_tweaked=!0,a.kind==="Lyrics (AI)"){var d=function(){return c.forEach(function(f){return f.style.display="block"})};d(),setTimeout(d,1e3)}var h=r.shadowRoot.querySelector(".col.time");h&&(h.style.top="3px")}}})}}}},{key:"transcriptEntrySelected",value:function(o){var l=o.detail||{},a=l.entry||{};if(a.start){var s=a.start;this.currentTime=s;var r=document.querySelector("video");Dn({player:r}),r&&(r.currentTime=this.currentTime,r.play())}}},{key:"update_transcript_view",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r,c,d,h,f,v,_,b,w,A,E,O,P,y;return _regeneratorRuntime.default.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(delete this.transcript_view_tweaked,l=this.captions[this.trackno],l){p.next=5;break}return this.transcriptConfig=null,p.abrupt("return");case 5:if(this.transcriptConfigCache[this.trackno]){p.next=46;break}return a=l.replace(/^\/download\//,"https://archive.org/cors/"),Dn({srtUrl:a}),p.next=10,fetch(a);case 10:return s=p.sent,p.next=13,s.text();case 13:r=p.sent,c=[],d=0,h=!0,f=!1,v=void 0,p.prev=17,_=r.split("\n\n")[Symbol.iterator]();case 19:if(h=(b=_.next()).done){p.next=29;break}if(w=b.value,d+=1,A=_slicedToArray(w.match(/^[0-9]+\n([^ ]+) --> ([^ ]+)\n([\s\S]*)/m)||["",0,0,""],4),E=A[1],O=A[2],P=A[3],O){p.next=25;break}return p.abrupt("continue",26);case 25:c.push({id:d,start:gp(E,!0),end:gp(O,!0),text:P,is_music:!1});case 26:h=!0,p.next=19;break;case 29:p.next=35;break;case 31:p.prev=31,p.t0=p.catch(17),f=!0,v=p.t0;case 35:p.prev=35,p.prev=36,!h&&_.return!=null&&_.return();case 38:if(p.prev=38,!f){p.next=41;break}throw v;case 41:return p.finish(38);case 42:return p.finish(35);case 43:Dn({json:c}),y=c.map(function(g){return new J0(g.id,g.start,g.end,g.text,g.is_music,g.search_match_index)}),this.transcriptConfigCache[this.trackno]=new Of(y);case 46:this.transcriptConfig=this.transcriptConfigCache[this.trackno];case 47:case"end":return p.stop()}},o,this,[[17,31,35,43],[36,,38,42]])}))}},{key:"firstUpdated",value:function(){var o,l;Dn("<transcript-viewer> firstUpdated()"),this.currentTime=0;var a="Lyrics";this.kind=a,this.captions=[],this.transcriptConfigCache=[];var s=!0,r=!1,c=void 0;try{for(var d=Object.entries(JSON.parse(this.playlist))[Symbol.iterator](),h;!(s=(h=d.next()).done);s=!0){var f=_slicedToArray(h.value,2),v=f[0],_=f[1];if(_.tracks){var b={},w=!0,A=!1,E=void 0;try{for(var O=_.tracks[Symbol.iterator](),P;!(w=(P=O.next()).done);w=!0){var y=P.value;y.kind==="subtitles"&&((o=y.file)!=null&&o.endsWith(".srt"))&&(b[(l=y.label)!=null?l:"none"]=y.file)}}catch(u){A=!0,E=u}finally{try{!w&&O.return!=null&&O.return()}finally{if(A)throw E}}this.captions[v]=b.align||b.cc5||b.en||b.asr||b.none,(this.captions[v]===b.align||this.captions[v]===b.asr)&&(this.kind="".concat(a," (AI)"))}}}catch(u){r=!0,c=u}finally{try{!s&&d.return!=null&&d.return()}finally{if(r)throw c}}Dn(this.captions),this.tracks_with_captions=Object.values(this.captions).length}}],[{key:"properties",get:function(){return{transcriptConfig:Object,is_open:Boolean,playlist:Object,trackno:Number,bgTheme:String}}},{key:"styles",get:function(){var o=185,l=5,a=1;return ic(_templateObject461(),Wr(o),Wr(l),Wr(a),Wr(o+2*a+2*l))}}]),e}(jo))}}),Mj={};ai(Mj,{default:function(){return Wj}});var Nf,ok,Uc,Xo,Lj,Rj,Ko,Dj,$j,Bj,ak,Nj,zf,sk,zj,Fj,Hj,Uj,Ff,lk,Ea,Vj,Wj,RI=Mt({"https-url:https://av.prod.archive.org/js/play.js":function(){if(YO(),pa(),Au(),J5(),Kp(),Rs(),Jp(),EI(),tv(),TI(),II(),MI(),LI(),Nf=480,ok=640,Uc=30,Xo=60,Lj=10,Rj=350,Ko=Uc,Dj=60,$j=140,Bj=200,ak=490,Nj=ak+55,zf=152,sk=800,zj=20,Fj=370,Hj=100,Uj=100,Ff=1200,lk={start:0,embed:!1,hide_list:!1,autoplay:!1,audio:!1,width:0,height:0,responsive:!1,aspectratio:!1,noshare:!1,nolinks:!1,logo:!1,so:!1,tv:!1,tvStart:0,tvEnd:0,tvContributor:!1,tvSource:!1,play_just1:!1,list_height:0,identifier:!1,onTime:!1,onComplete:!1,onDisplayClick:!1,onReady:!1,onPlaylistItem:!1,collection:!1,collections:[],waveformer:!1,speed:1,details:location.href,triggers:[],headless:null},Ea=function(a){"use strict";_inherits(r,a);var s=_createSuper(r);function r(c,d){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_classCallCheck(this,r);var f;return f=s.call(this),!c&&f.getAttribute("jid")&&f.getAttribute("playlist")&&f.getAttribute("args")&&(c=f.getAttribute("jid"),d=JSON.parse(f.getAttribute("playlist")),h=JSON.parse(f.getAttribute("args")),h.headless&&(h.onPlaylistItem=r.headless_callback,delete r.headless_callback),Dn("TRIFECTA",{jid:c,playlist:d,args:h})),c||Z(".js-play8-config").each(function(v,_){h=JSON.parse(Z(_).val()),c=h.jid||"jw6";var b=Z(".js-play8");Z("play-av").length||b.attr({id:c}),fa("playset")&&(h.onComplete=ev.onComplete),d=JSON.parse(Z(".js-play8-playlist").val())}),c?_possibleConstructorReturn(f,f.construct(c,d,h)):f}return _createClass(r,[{key:"construct",value:function(d,h,f){var v=this,_,b,w;this.jid=d;var A=this.cache();if(A)return A;Z("play-av").attr("jid")||Z("play-av").attr("jid",d),r.STASH[d]=this,Dn("PLAY CONFIG:",f);var E=!0,O=!1,P=void 0;try{for(var y=Object.entries(lk)[Symbol.iterator](),u;!(E=(u=y.next()).done);E=!0){var p=_slicedToArray(u.value,2),g=p[0],k=p[1];this[g]=k}}catch(Oe){O=!0,P=Oe}finally{try{!E&&y.return!=null&&y.return()}finally{if(O)throw P}}var x=!0,j=!1,L=void 0;try{for(var D=Object.entries(f)[Symbol.iterator](),F;!(x=(F=D.next()).done);x=!0){var X=_slicedToArray(F.value,2),Q=X[0],H=X[1];Q in lk&&(this[Q]=H)}}catch(Oe){j=!0,L=Oe}finally{try{!x&&D.return!=null&&D.return()}finally{if(j)throw L}}this.tvTitle=this.tv&&h.length===1?h[0].title:"",this.list_2cols=this.responsive&&this.audio,this.jidsel="#".concat(d),this.readyIA=!1,this.DAR=4/3,this.first_seeked_playlist=!1,this.waveformed=!1,this.pause_first_seek=this.embed&&!this.tv&&!this.audio&&!this.autoplay&&this.start,this.update_url_onload=this.headless;var ce=!1;if(this.jwaudioPercentDone=0,this.reloading_playlist_playlist_idx=0,this.playlist=h,this.panels_count=1,this.panelno=0,this.waveformer_played_color="#aaa",this.waveformer_progress_color="#000",this.canHLS=document.createElement("video").canPlayType("application/vnd.apple.mpegURL"),this.HLS=this.canHLS&&((_=this.triggers)!=null&&_.length)&&h.length&&!this.onTime?new Vj(this):null,this.nolinks&&(this.identifier=!1,this.collection=!1,this.collections=[],this.noshare=!0),this.speed=parseFloat(this.speed),!Z(this.jidsel).length){Dn("play.js requires #",d," element on page -- not found"),this.retry={playlist:h,args:f};return}if(this.responsiveResize(!0),this.identifier!==!1&&(this.details="https://archive.org/details/".concat(this.identifier)),this.tv&&this.tvEnd&&(this.details+="/start/".concat(this.tvStart,"/end/").concat(this.tvEnd)),typeof h=="undefined"&&(h=[{sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}],this.playlist=h,this.start=!0,this.hide_list=!0),this.hide_list||(this.list_height||(this.list_height=this.audio?Fj:Hj),this.list_height=Math.min(this.list_height,h.length*zj)),!this.responsive&&!(this.width>0&&this.height>0))if(this.embed){var ne=Z(window).width(),V=Z(window).height();this.width=this.audio?Math.min(ne,sk):ne,this.height=this.audio?Ko+this.list_height:V-this.list_height}else this.aspectratio||(this.width=this.audio?Rj:ok,this.height=this.audio?Ko+this.list_height:Nf);Z.each(h,function(Oe,De){if(typeof De.autoplay!="undefined"&&(ce||(ce=[]),ce[Oe-1]=!De.autoplay),typeof De.sources=="undefined"&&typeof De.file!="undefined"&&(De.sources=[{file:De.file,height:480}]),typeof De.sources=="undefined")alert("".concat(Oe,": sources undefined!"));else{var ke=!0,tt=!1,Ve=void 0;try{for(var Qe=De.sources[Symbol.iterator](),ht;!(ke=(ht=Qe.next()).done);ke=!0){var bt=ht.value;typeof bt.file!="undefined"&&(!Oe&&bt.file.indexOf("/download")>=0&&(bt.file=bt.file.replace(/\/download\//,"/serve/")),bt.file=r.filename_char_encoder(bt.file))}}catch(vt){tt=!0,Ve=vt}finally{try{!ke&&Qe.return!=null&&Qe.return()}finally{if(tt)throw Ve}}}}),this.tvTitle&&(h[0].title=h[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));var Y=JSON.parse(JSON.stringify(h));Y.forEach(function(Oe){return v.audio&&delete Oe.tracks,Oe});var oe={playlist:Y,abouttext:"this item, formats, and more at Internet Archive",aboutlink:this.details,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:this.autoplay,hlsplayer:"/jw/x/provider.hlsjs.js",fallback:this.so,width:isNaN(this.width)?"100%":this.width,height:this.audio?Uc:this.height,base:Qp};if(this.responsive&&!this.embed?oe.displaytitle=!1:this.aspectratio&&(oe.width="100%",oe.aspectratio=this.aspectratio,delete oe.height),this.identifier!==!1){var q=this.tv&&this.tvEnd?"?start=".concat(this.tvStart,"&end=").concat(this.tvEnd):"",G='<iframe src="https://archive.org/embed/MEDIAID"\n                            width="'.concat(this.audio?500:ok,'"\n                            height="').concat(this.audio?Ko:Nf,'"\n                            frameborder="0"\n                            webkitallowfullscreen="true"\n                            mozallowfullscreen="true"\n                            allowfullscreen></iframe>').replace(/embed\/MEDIAID/,"embed/".concat(this.identifier).concat(q)).replace(/\s+/g," "),J="[archiveorg ".concat(this.identifier).concat(q," width=640 height=").concat(this.audio?Ko:Nf," frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]");oe.mediaid=this.identifier,Z("#embedcodehere").text(G),Z("#embedcodehereWP").text(J)}if((this.embed&&!this.audio&&!this.nolinks||this.logo)&&(oe.logo={file:"https://av.prod.archive.org/jw/glogo-ghost.png",link:this.details,position:"top-right",margin:2,hide:!1}),this.play_just1||ce){var ae=this,ie=this.onComplete;this.onComplete=function(Oe){var De={done:ae.play_just1||ce[Oe.getPlaylistIndex()]};De.done&&Oe.stop(),ie&&ie(Oe,De)}}return(b=this.HLS)==null||b.update_playlist(oe),Dn(oe),this.headless?(this.playN((w=this.headless.playN)!=null?w:0),this):(vr(d).setup(oe),vr(d).on("ready",function(){var Oe=v,De;Dn("IA ",d," is ready");var ke=vr(d);v.player=ke,Dn("NOTE: JW version: ",vr.version);{var tt=v.playlist.length,Ve=ke.getConfig().playlist.length;tt!==Ve&&!(v.HLS&&Ve===1&&tt>1)&&console.error("BIG PROBLEM: passed in playlist length !== jwplayer config playlist length",v.playlist.length,"-vs-",ke.getConfig().playlist.length)}if((De=v.HLS)==null||De.setup(v),v.onTime&&Dn("NOTE: onTime() is in use!"),v.onTime&&ke.on("time",function(){return Oe.onTime(ke)}),v.onComplete&&ke.on("complete",function(){return Oe.onComplete(ke)}),v.onDisplayClick&&ke.on("displayClick",function(){return Oe.onDisplayClick(ke)}),v.audio?ke.on("firstFrame",function(){return r.track_event("Details-Audio-Beta|AudioStarted")}):v.tv||(ke.on("firstFrame",function(){return r.track_event("Details-Video|VideoStarted")}),ke.on("complete",function(){return r.track_event("Details-Video|VideoEnded")})),v.readyIA=!0,v.requestUpdate(),ke.once("meta",function(ht){Dn("onMeta() fired"),Oe.embed&&!Oe.audio&&Oe.adjust_video_width(ht),Oe.HLS||Oe.unpreload(),Oe.start&&(Dn("SEEK TO: ",Oe.start),Oe.pause(),vr(d).seek(Oe.start))}),ke.on("playlistItem",function(ht){var bt=Oe,vt=ht.index;if(Dn("onPlaylistItem: ",vt),Oe.reloading_playlist_playlist_idx&&!vt){Dn("onPlaylistItem: ignoring since desired index ".concat(Oe.reloading_playlist_playlist_idx," !== ").concat(vt," -- and this is likely an event from reloading the playlist"));var Le=Oe.reloading_playlist_playlist_idx;Oe.reloading_playlist_playlist_idx=0,vr(d).playlistItem(Le);return}Oe.track_change(ke,vt),Oe.seeker_playlist(),Oe.speed!==1&&setTimeout(function(){return bt.set_speed},1e3),Oe.waveformer_setup(ke)}),v.onPlaylistItem){var Qe=v;ke.on("playlistItem",function(ht){Dn("onPlaylistItem",{e:ht}),Qe.onPlaylistItem(ke,ht)})}ke.on("playlistComplete",function(){!Oe.audio&&Oe.collection&&!Oe.tv&&Oe.related_items_click()}),ke.on("error",function(ht){Dn("err"),Dn(ht),Z(Oe.jidsel).css({"background-color":"black"})}),v.onReady&&v.onReady(ke)}),this)}},{key:"url_updater",value:function(d,h){if(Dn("url_updater(".concat(h,")")),!(this.tv||this.embed||!this.identifier||typeof history.replaceState=="undefined")&&!(this.playlist.length<=1||!this.playlist[h]||!this.playlist[h].orig&&!this.headless)){var f=this.playlist[h].orig;if(this.update_url_onload){var v="/details/".concat(this.identifier).concat(f===""?"":"/".concat(encodeURIComponent(f).replace(/%2F/g,"/").replace(/%20/g,"+"))),_=fa("playset",!0)?"?playset=1&autoplay=1":"";Dn("updating url to",v+_),history.replaceState({},null,v+_)}else{var b=this;Dn("looks like /details/ page loaded cold-state at #".concat(h,"-- leave url AS IS")),d==null||d.once("play",function(){Dn("time to start updating urls"),b.update_url_onload=!0,b.url_updater(d,h)})}}}},{key:"waveformer_setup",value:function(d){var h=this,f;if(!(!this.audio||this.waveformed)){Z("#".concat(this.jid)).css("border-radius","".concat(Xo/2,"px 0 0 ").concat(Xo/2,"px")),this.recolor(),Z(".jw-slider-time").remove(),setTimeout(function(){Z("#ia-scrubber").html('\n        <div class="jw-slider-time jw-background-color jw-reset jw-slider-horizontal jw-reset"\n          style="padding:0" tabindex="0" role="slider" aria-label="Seek">\n          <div class="jw-slider-container jw-reset">\n            <div class="jw-rail     jw-reset" style="background-color: #ccc"></div>\n            <div class="jw-buffer   jw-reset" style="background-color: #999"></div>\n            <div class="jw-progress jw-reset" style="background-color: #000"></div>\n            <div class="jw-knob jw-reset"\n              style="transform: translate(-50%,-50%) scale(.75); border: 1px solid black"></div>\n          </div>\n        </div>')},750);var v='<svg viewBox="0 0 4 16" xmlns="http://www.w3.org/2000/svg"><path d="m2 4c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2z" fill-rule="evenodd"/></svg>';Z(".jw-icon-settings svg").html(v),Z(".jw-text-countdown").remove(),this.HLS?(Z(".jw-text-elapsed, .jw-text-duration").remove(),Z(".jw-button-container").append('\n<div id="play-hls-elapsed" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-elapsed"\nrole="timer">00:00</div>\n<div id="play-hls-duration" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-duration"\nrole="timer">'.concat(r.sec2hms(Math.round((f=this.playlist[0])==null?void 0:f.duration)||0),"</div>"))):(Z(".jw-icon-settings").after(Z(".jw-text-elapsed")),Z(".jw-text-elapsed").after(Z(".jw-text-duration"))),this.canHLS&&(Z("#jw-settings-menu .jw-settings-topbar-buttons > div:last-child()").before('\n          <div class="jw-icon jw-icon-inline jw-button-color jw-reset jw-settings-backgroundPlay jw-submenu-backgroundPlay"\n          role="menuitemradio" tabindex="0"\n          aria-label="Background Play"\n          name="backgroundPlay"\n          type="button"\n          aria-haspopup="true"\n          aria-controls="jw-settings-submenu-backgroundPlay">\n            <img src="//av.prod.archive.org/img/infinity.png"/>\n            <div class="jw-reset-text jw-tooltip jw-tooltip-backgroundPlay" dir="auto">\n              <div class="jw-text">Background Play</div>\n            </div>\n          </div>'),Z("#jw-settings-menu").append('<background-play id="jw-settings-submenu-backgroundPlay"\n        class="jw-reset jw-settings-submenu jw-settings-submenu-backgroundPlay"\n        role="menu"></background-play>'),Z(".jw-settings-backgroundPlay").on("click",function(){Z(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),Z("#jw-settings-submenu-backgroundPlay").addClass("jw-settings-submenu-active"),Z(".jw-settings-backgroundPlay").attr("aria-expanded","true"),Z(".jw-settings-playbackRates").attr("aria-expanded","")}),Z(".jw-settings-playbackRates").on("click",function(){Z(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),Z("#jw-settings-submenu-playbackRates").addClass("jw-settings-submenu-active")}),Z(".jw-settings-playbackRates, .jw-settings-submenu-button, .jw-settings-close").on("click",function(){Z("#jw-settings-submenu-backgroundPlay").removeClass("jw-settings-submenu-active"),Z(".jw-settings-playbackRates").attr("aria-expanded","true"),Z(".jw-settings-backgroundPlay").attr("aria-expanded","")})),Z("#ia-scrubber").on("click",function(_){return h.waveform_clicked(_)}),d.on("time",function(_){var b;if(_.duration){h.HLS?h.HLS.on_time():h.jwaudioPercentDone=Math.min(1,_.position/_.duration);var w="".concat(Number(100*h.jwaudioPercentDone).toFixed(3),"%"),A=h.shadowRoot.getElementById("waveformer");A.style.width=w,h.waveformer_played_color&&(A.style.backgroundColor=h.waveformer_played_color),Z("#ia-scrubber").find(".jw-knob").css("left",w),Z("#ia-scrubber").find(".jw-progress").css({width:w,backgroundColor:(b=h.waveformer_progress_color)!=null?b:"#000"})}}),d.on("bufferChange",function(_){h.HLS?Dn("xxxhls HLS buffering"):Z("#ia-scrubber").find(".jw-buffer").css("width","".concat(_.bufferPercent,"%"))}),this.waveformed=!0}}},{key:"waveform_clicked",value:function(d){var h=Z(this.shadowRoot.getElementById("waveformer-wrap")).width(),f=Number(d.offsetX/h).toFixed(2);if(Dn("waveform_clicked",{percent:f}),this.HLS)return this.HLS.waveform_clicked(f);var v=this.player.getPlaylistItem().duration||0;this.player.seek(v*f)}},{key:"recolor",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function d(){var h,f,v,_,b,w,A,E,O,P;return _regeneratorRuntime.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(h=this,!((f=document.querySelector("ia-music-theater"))!=null&&f.hasAttribute("noimageavailable"))){u.next=5;break}return this.recolor_generic(),u.abrupt("return");case 5:if(b=(v=Z("ia-music-theater img"))==null?void 0:v.get(0),b){u.next=8;break}return u.abrupt("return");case 8:return u.t0=_slicedToArray,u.next=11,Promise.all([Promise.resolve().then(function(){return M4(),eb}),Promise.resolve().then(function(){return rj(),Z_})]);case 11:u.t1=u.sent.map(function(p){return p.default}),w=(0,u.t0)(u.t1,2),A=w[0],E=w[1],O=function(){var p,g,k=new A,x=k.getPalette(b,5);if(Dn({palette:x}),!!x){var j=x[0];if(Dn({dominantColorRGB:j}),!!j){var L=(p=E.rgb).hsl.apply(p,_toConsumableArray(j));Dn({HSL:L});var D=Math.round(j.reduce(function(Q,H){return Q+H})/j.length),F=D>=128?"black":"white";Dn({avgVal:D});var X=(g=document.getElementById("theatre-ia-wrap"))!=null?g:document.getElementsByTagName("body")[0];X.style.color=F,X.style.backgroundImage="linear-gradient(rgb(".concat(j.join(","),"), black)"),X.style.backgroundRepeat="no-repeat",F==="black"&&(h.bgTheme="light",document.querySelector("ia-music-theater").setAttribute("bgTheme","light")),h.waveformer_played_color="hsl(".concat(L[0],",").concat(L[1],"%,").concat(Math.min(100,1.5*L[2]),"%)")}}},P=(_=document.getElementById("theatre-ia-wrap"))!=null?_:document.getElementsByTagName("body")[0],P.style.backgroundImage="linear-gradient(#aaa, black)",P.style.backgroundRepeat="no-repeat",P.style.backgroundColor="black",b.crossOrigin="Anonymous",b.complete?O():b.addEventListener("load",O);case 22:case"end":return u.stop()}},d,this)}))}},{key:"recolor_generic",value:function(){var d,h=["linear-gradient(\n        hsl(330, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(230, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(190, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(280, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(310, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(360, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )"],f=["hsl(300, 80%, 55%)","hsl(200, 80%, 55%)","hsl(160, 80%, 55%)","hsl(250, 80%, 55%)","hsl(280, 80%, 55%)","hsl(340, 80%, 55%)"],v=["hsl(300, 80%, 22%)","hsl(200, 80%, 22%)","hsl(160, 80%, 22%)","hsl(250, 80%, 22%)","hsl(280, 80%, 22%)","hsl(340, 80%, 22%)"],_=r.hash_string(this.identifier)%6,b=(d=document.getElementById("theatre-ia-wrap"))!=null?d:document.getElementsByTagName("body")[0];b.style.backgroundImage=h[_],this.waveformer_played_color=f[_],this.waveformer_progress_color=v[_]}},{key:"on",value:function(d,h){var f=vr&&vr(this.jid);return f&&f.on(d,h),this}},{key:"adjust_video_width",value:function(d){!d.width||!d.height||(d.height&&d.width&&d.height>0&&d.width>0&&parseInt(d.height,10)>0&&(this.DAR=parseInt(d.width,10)/parseInt(d.height,10),Dn("DAR: ",this.DAR,d.width,"x",d.height)),this.embedResize())}},{key:"embedResize",value:function(){if(!(!vr||!vr(this.jid))){if(this.audio){vr(this.jid).resize(Math.min(sk,Z(window).width()),Ko);return}var d=Z(window).width(),h=Z(window).height()-this.list_height;vr(this.jid).resize(d,h)}}},{key:"playN",value:function(d,h){if(this.headless)return this.onPlaylistItem(d-(this.headless.has_full_album?1:0)),this.track_change(void 0,d);var f=vr(this.jid);return Dn("playN",{readyIA:this.readyIA,idx:d,load_paused:h,state:f.getState()}),h&&f.once("play",function(){return f.pause()}),this.HLS?(f.seek(d?this.triggers[d-1]-this.HLS.WIGGLE:0),this.track_change(f,d),!1):(f.playlistItem(d),!1)}},{key:"track_change",value:function(d,h){Dn("track_change",{idx:h}),this.trackno=h,this.url_updater(d,h)}},{key:"seeker_playlist",value:function(){if(!this.first_seeked_playlist){if(this.first_seeked_playlist=!0,this.pause_first_seek){var d=this;vr(this.jid).once("seek",function(){d.pause(),Dn("... paused first seek!")})}this.start&&(this.pause(),vr(this.jid).seek(this.start))}}},{key:"embed_setup",value:function(){var d=this;Z(window).on("resize  orientationchange",function(){var h=d;clearTimeout(r.throttler2),r.throttler2=setTimeout(function(){new r(h.jid).embedResize()},250)})}},{key:"unpreload",value:function(){var d=vr(this.jid),h=d.getPlaylist(),f=d.getPlaylistIndex();if(Dn("unpreload:",{startPlaylistIdx:f}),h.length&&(typeof h[0].file!="undefined"&&(h[0].file=h[0].file.replace(/\/serve\//,"/download/")),typeof h[0].sources!="undefined")){var v=!0,_=!1,b=void 0;try{for(var w=h[0].sources[Symbol.iterator](),A;!(v=(A=w.next()).done);v=!0){var E=A.value;E.file=E.file.replace(/\/serve\//,"/download/")}}catch(O){_=!0,b=O}finally{try{!v&&w.return!=null&&w.return()}finally{if(_)throw b}}}f?(d.on("playlist",function(){Dn("unpreload: onplaylist:",{startPlaylistIdx:f}),d.playlistIndex=f,d.playlistItem(f)}),this.reloading_playlist_playlist_idx=f):!this.start&&!this.autoplay&&(this.update_url_onload=!1),d.load(h)}},{key:"details_setup",value:function(){Dn("details_setup");var d=0,h="^/details/".concat(this.identifier,"/([^&?]+)"),f=location.pathname.match(h);if(f){var v=decodeURIComponent(f[1].replace(/\+/g,"%20"));Dn("looking for: ",v);for(var _ in this.playlist){var b=Number(_);if(this.playlist[b].orig===v){Dn("player should seek to track #",b),d=b;break}}}if(!d&&!this.start&&!this.autoplay&&(this.update_url_onload=!1),!this.autoplay&&(d||this.start))if(Dn("seek #",d," to ",this.start),this.HLS){var w=this;setTimeout(function(){return w.playN(0,!0)},500),setTimeout(function(){return w.playN(d,!0)},1e3)}else{var A=vr(this.jid);A.playlistItem(d)}}},{key:"pause",value:function(){var d=vr(this.jid);this.readyIA&&d&&d.getState&&d.getState()==="playing"&&d.pause()}},{key:"remove",value:function(){this.pause();var d=vr(this.jid);this.readyIA&&d&&d.getConfig()&&d.remove(),delete r.STASH[this.jid]}},{key:"set_speed",value:function(){var d,h=Z("#".concat(this.jid," video")).get(0);h.playbackRate=(d=this.speed)!=null?d:1,Dn("speed to ".concat(h.playbackRate))}},{key:"add_buttons",value:function(d){var h=this,f,v='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',_='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',b='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',w='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(this.embed&&!this.nolinks){var A=this,E=this.tvTitle?"".concat(this.tvTitle.replace(/ : /g,"\n"),"\n\nClick above for more information and clips\nat the Internet Archive"):"More Formats from Internet Archive";d.addButton("/images/glogo-jw.png",E,function(){var g=document.createElement("a");g.setAttribute("href",A.details),g.setAttribute("target","_blank"),document.body.appendChild(g),g.click()},"btn-ia")}if(this.embed&&!this.audio&&!this.noshare&&!this.tv){if(this.identifier!==!1){var O=this;d.addButton("/jw/embed.png","Embedding Examples and Help",function(){globalThis.top.location.href="/help/video.php?identifier=".concat(O.identifier)},"btn-mbd")}globalThis.AJS&&(d.addButton(b,"share",function(){var g=Z(".jw-icon[button=btn-shr]").get(0);globalThis.AJS.modal_go(g,{ignore_lnk:1,shown:globalThis.AJS.embed_codes_adjust})},"btn-shr"),Z(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))}if(this.tv&&this.embed&&this.tvSource!==!1){var P=this;d.addButton("/images/tv/".concat(this.identifier.split("_")[0],".png"),"Look for this show on ".concat(this.tvContributor," website"),function(){globalThis.top.location.href=P.tvSource},"btn-tv")}if(!this.audio&&this.collection&&!this.tv){var y=this;d.addButton("http://av.prod.archive.org/jw/related.png","Related Videos",function(){y.related_items_click()},"btn-rel")}if(0)var u;if(Z(".jw-icon-settings").css("display","flex"),Z(".jw-slider-time").remove(),Z(".jw-icon-settings").on("click",function(){return h.settings_opened()}),Z(".jw-settings-close").on("click",function(){return h.settings_closed()}),d.on("playbackRateChanged",function(){return h.settings_closed()}),Z(".jw-icon-volume").on("mouseover",function(){Z('div[button="btn-prv"]').hide(),Z('div[button="btn-nxt"]').hide(),Z(".jw-icon-settings").hide()}),Z("".concat(this.jidsel," .jw-button-container")).on("mouseleave",function(){Z('div[button="btn-prv"]').show(),Z('div[button="btn-nxt"]').show(),Z(".jw-icon-settings").show()}),!this.tv&&((f=this.playlist)==null?void 0:f.length)>1){var p=this;d.addButton(_,"next",function(){return(p.HLS||d).playlistNext()},"btn-nxt"),d.addButton(v,"previous",function(){return(p.HLS||d).playlistPrev()},"btn-prv")}}},{key:"settings_opened",value:function(){Z(this.jidsel).css("overflow","visible"),Z(".jw-controls").css("overflow","visible").show(),Z("#jw-settings-menu").css({overflow:"visible",height:Bj,top:Uc+5,bottom:"initial"}),Z(".jw-controlbar").show(),Z(".jw-icon-settings").removeClass("jw-icon-settings");var d=document.querySelector(".jw-settings-submenu-button:not(.jw-off)").getBoundingClientRect().x-document.getElementById("jw6").getBoundingClientRect().x,h=d-zf+7;Dn({kebab_left:d,settings_new_left:h}),document.querySelector("body.jwaudio #jw-settings-menu").style.left="".concat(h,"px")}},{key:"settings_closed",value:function(){Z(this.jidsel).css("overflow","")}},{key:"cast",value:function(){var d=this;if(globalThis.WebKitPlaybackTargetAvailabilityEvent){Z("#".concat(this.jid," video")).get(0).webkitShowPlaybackTargetPicker();return}if(globalThis.chrome){var h=function(v,_){_.play(null,function(b){Dn("media play success",v,_,b)},function(b){Dn("media play fail",b)})};this.cast_retries=0;var f=function(){var v=d;if(Dn("cast_setup #",d.cast_retries),d.cast_retries+=1,d.cast_retries>3)return!1;if(!globalThis.chrome.cast)return setTimeout(f,d.cast_retries*1e3);var _=globalThis.chrome.cast,b=new _.SessionRequest(_.media.DEFAULT_MEDIA_RECEIVER_APP_ID),w=new _.ApiConfig(b,function(A){A.media.length&&h("onRequestSessionSuccess",A.media[0])},function(A){Dn("receiver listener fail",A)});return _.initialize(w,function(){var A=v;Dn("cast init success"),_.requestSession(function(E){Dn("request session success",E);var O=Z("".concat(A.jidsel," video")).attr("src"),P="".concat(location.protocol,"//").concat(location.host).concat(O),y=new _.media.MediaInfo(P),u=new _.media.LoadRequest(y);E.loadMedia(u,h.bind(A,"loadMedia"),function(p){Dn("onMediaError",p)})},function(E){Dn("request session fail",E),setTimeout(f,500)})},function(){return Dn("cast init failure")}),!0};f()}}},{key:"related_items_click",value:function(){var d=this,h=function(){Z("".concat(d.jidsel," .jw-controlbar")).one("click",function(_){Z("#related-items-bg").hide(),_.preventDefault()})};if(typeof _u!="undefined"&&!Z("#related-items").length){var f=this;Z("".concat(this.jidsel)).prepend('\n<div id="related-items-bg" style="display:none">\n  <div id="related-items">\n  </div>\n</div>\n'),_u.getRelatedItems(this.identifier,!0).then(function(_){var b=Math.floor(_.length/2),w="",A=!0,E=!1,O=void 0;try{for(var P=Object.entries(_)[Symbol.iterator](),y;!(A=(y=P.next()).done);A=!0){var u=_slicedToArray(y.value,2),p=u[0],g=u[1];Number(p)===b&&f.collection==="prelinger"?(r.track_event("Details-Video|DonationEndrollDisplayed"),w+='\n<a class="related-donate"\n   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"\n   data-event-click-tracking="Details-Video|DonationEndrollClicked"\n   data-event-tracking-options=\'{ "service": "ao_no_sampling" }\'>\n  <div>\n    <div class="related-ctr related-donate-logo">\n      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>\n    </div>\n    <div class="related-ctr related-donate-msg">\n      <div>\n        Your donation helps us keep these videos free for everyone\n      </div>\n    </div>\n    <div class="related-ctr related-donate-btn">\n      <div>\n        CHIP IN\n      </div>\n    </div>\n  </div>\n</a>\n'):w+='\n<div>\n  <a href="/details/'.concat(g.identifier,'"\n    data-event-click-tracking="Details-Video|LastFrameLinkChosen"\n    data-event-tracking-options=\'{ "service": "ao_2" }\'>\n    <div class="related-ttl">\n      ').concat(g.title!==null?g.title:"","\n      ").concat(g.creator!==null?"<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;".concat(g.creator):"","\n      ").concat(g.downloads!==null?"<div>".concat(g.downloads," views</div>"):"",'\n    </div>\n    <img src="/services/img/').concat(g.identifier,'"/>\n  </a>\n</div>\n')}}catch(k){E=!0,O=k}finally{try{!A&&P.return!=null&&P.return()}finally{if(E)throw O}}Z("#related-items").html(w),Z("#related-items-bg").show(),h()})}else{var v=Z("#related-items-bg:visible").length;v?Z("#related-items-bg").hide():(Z("#related-items-bg").show(),setTimeout(h,500))}onclick("#related-items-bg",function(){return Z("#related-items-bg").hide()})}},{key:"add_playlist_panel",value:function(){var d=this;return this.hide_list?"":zr(_templateObject466(),this.prior_panel,this.playlist.map(function(h,f){var v;return zr(_templateObject464(),d.playlist_track_click,d.trackno===f?"selected":"",f,d.headless?"":zr(_templateObject462(),f+1),(v=h.title)!=null?v:"",h.artist?zr(_templateObject463(),h.artist):"","",h.duration?r.sec2hms(h.duration):d.headless?"- \u2013:\u2013 -":"")}),_toConsumableArray(Array(this.panels_count)).map(function(h,f){return zr(_templateObject465(),d.goto_panel,f,Number(f)===d.panelno?"selected":"",f)}),this.next_panel)}},{key:"playlist_track_click",value:function(d){this.playN(Number(d.currentTarget.dataset.trackNumber))}},{key:"prior_panel",value:function(){this.panelno-=1;var d=this.shadowRoot.querySelector(".flexbox-pages");d.scrollBy({top:0,left:-1*d.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"next_panel",value:function(){this.panelno+=1;var d=this.shadowRoot.querySelector(".flexbox-pages");d.scrollBy({top:0,left:d.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"goto_panel",value:function(d){var h=this.shadowRoot.querySelector(".flexbox-pages");this.panelno=Number(d.currentTarget.dataset.pageNumber),h.scrollTo({top:0,left:this.panelno*h.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"paging_visibility",value:function(){var d,h=((d=this.shadowRoot)==null?void 0:d.querySelector(".flexbox-pages"))||this,f=h.parentElement.parentElement.querySelector(".page-left"),v=h.parentElement.parentElement.querySelector(".page-right"),_=h.scrollLeft;f.style.visibility=_<=0?"hidden":"visible",this.panels_count=Math.ceil(h.scrollWidth/h.clientWidth),console.warn("PANELS COUNT",this.panels_count);var b=h.scrollWidth-h.clientWidth;v.style.visibility=_>=b?"hidden":"visible"}},{key:"paging_hide_if_always_single_panel",value:function(){var d;if(!this.always_single_panel&&!(Z(window).width()<Ff)){var h=(d=this.shadowRoot)==null?void 0:d.querySelector(".flexbox-pages");h&&(Dn("paging_hide_if_always_single_panel()",h.scrollWidth,"-v-",h.clientWidth),h.scrollWidth===h.clientWidth?(h.parentElement.querySelector(".page-buttons").style.display="none",h.parentElement.parentElement.querySelector(".page-left").style.display="none",h.parentElement.parentElement.querySelector(".page-right").style.display="none",this.always_single_panel="yes"):this.always_single_panel="no")}}},{key:"responsiveResize",value:function(d){if(this.responsive){var h=Z(this.jidsel).offset(),f=Z(window).height()-h.top-Uj;if(this.audio)this.playlist&&this.playlist.length>0&&(Ko=Dj),f-=Ko,f=Math.max($j,f),this.embed||(Dn("responsiveResize() maxH:",f),this.list_height=f);else{var v=this.DAR;this.playlist&&this.playlist.length>0&&this.playlist[0].sources&&this.playlist[0].sources.length>0&&this.playlist[0].sources[0].width&&this.playlist[0].sources[0].height&&(v=this.playlist[0].sources[0].width/this.playlist[0].sources[0].height,Dn("aspect ratio appears to be: ",v));var _=Z(".container-ia:last").width();Dn("video max rect avail: ",_,"x",f);var b,w,A=!0,E=!1,O=void 0;try{for(var P=[960,840,720,600,480,360,240,180][Symbol.iterator](),y;!(A=(y=P.next()).done)&&(w=y.value,b=Math.round(w*v),Dn("video size try fit: ",b,"x",w),!(b<=_&&w<=f||b<=320));A=!0);}catch(p){E=!0,O=p}finally{try{!A&&P.return!=null&&P.return()}finally{if(E)throw O}}this.width=b,this.height=w,globalThis.AJS&&globalThis.AJS.theatre_controls_position(!1,0,this.width,this.height)}if(d){var u=this;Z(window).on("resize  orientationchange",function(){var p=u;clearTimeout(r.throttler),r.throttler=setTimeout(function(){new r(p.jid).responsiveResize()},250)})}else this.audio||vr(this.jid).resize(this.width,this.height);d||this.paging_visibility(),this.paging_hide_if_always_single_panel()}}},{key:"cache",value:function(){if(!this.jid)return alert("please pass in a unique identifier for this object");if(typeof r.STASH[this.jid]!="undefined"){if(typeof this.playlist=="undefined")return r.STASH[this.jid];delete r.STASH[this.jid]}}},{key:"updated",value:function(d){if(Dn("play updated()",d),"mdapi"in d&&Dn("mdapi changed"),this.audio&&!this.playlist_setup&&this.playlist){this.playlist_setup=!0;var h=this.shadowRoot.querySelector(".flexbox-pages");h.addEventListener("scroll",this.paging_visibility),this.paging_visibility(),this.paging_hide_if_always_single_panel()}}},{key:"firstUpdated",value:function(){Dn("play firstUpdated up")}},{key:"render",value:function(){var d;Dn("play-av render()",this.trackno),this.slotted||(this.innerHTML='<div id="'.concat(this.jid||"jw6",'"></div><div id="ia-scrubber" slot="ia-scrubber"></div>'),this.slotted=!0,this.retry&&this.construct(this.jid,this.retry.playlist,this.retry.args)),this.identifier&&!this.jid&&!this.mdapi&&this.from_attr_identifier(),this.mdapi&&!this.jid&&this.from_attr_mdapi("jw6");var h=this.playlist?this.add_playlist_panel():"";this.readyIA&&(this.draggable_scrubber(),this.rendered_once||(this.rendered_once=!0,this.audio&&this.responsive&&!this.embed&&this.responsiveResize(),this.responsive&&!this.audio&&Z(this.jidsel).css("margin","auto"),this.add_buttons(this.player),Z(".jw-controls").css({backgroundColor:"transparent",height:"100%"}),Z(".jw-controlbar").css("padding-top","8px"),this.responsive&&Ko>Uc&&Z(this.jidsel).css("height",Ko),!this.embed&&this.responsive?this.details_setup():this.embed&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&this.embed_setup()));var f=this.playlist?(d=this.playlist[this.trackno||0])==null?void 0:d.image:"";return zr(_templateObject472(),this.audio&&!this.headless?zr(_templateObject470(),f?zr(_templateObject468(),f,this.waveform_clicked):zr(_templateObject469())):"",this.show_transcripts()?zr(_templateObject471(),this.identifier,this.trackno||0,JSON.stringify(this.playlist||[]),this.bgTheme):"",h)}},{key:"show_transcripts",value:function(){var d=this,h,f,v,_,b=1600,w=1928,A=["78rpm","edison-recordings","georgeblood"];if(this.headless)return!1;if(!A.filter(function(y){var u;return(u=d.collections)==null?void 0:u.includes(y)}).length)return!0;var E=String((_=(v=(f=JSON.parse((h=Z(".js-ia-metadata").val())!=null?h:"{}"))==null?void 0:f.metadata)==null?void 0:v.date)!=null?_:"6666");if(typeof E!="string")return!1;var O=E.match(/^(\d\d\d\d)$/)||E.match(/^(\d\d\d\d)-\d\d$/)||E.match(/^(\d\d\d\d)-\d\d-\d\d$/);if(!O)return!1;var P=Number(O[1]);return P<=w&&P>=b}},{key:"from_attr_identifier",value:function(){var d=this;Dn("from_attr_identifier()"),Ij(this.identifier).then(function(h){d.mdapi=h}).catch(function(h){return Dn("error",h)})}},{key:"from_attr_mdapi",value:function(d){var h;Dn("from_attr_mdapi()");var f=new Ej(this.mdapi);if(f.showing==="movies"||f.showing==="audio"){var v=[].concat(this.mdapi.metadata.collection),_={audio:f.showing==="audio",responsive:!0,identifier:this.id,collections:v,collection:v.shift()},b=[],w=f.jwplaylist(_,Pj,b);if(Dn(w),f.showing==="audio"){var A=document.getElementsByTagName("body")[0];A.setAttribute("class","".concat((h=A.getAttribute("class"))!=null?h:""," jwaudio")),_&&!this.embed&&(_.waveformer=!0)}this.construct(d,w,_)}}},{key:"draggable_scrubber",value:function(){var d=this,h=function(b){if(f){var w=document.getElementById("ia-scrubber").getBoundingClientRect(),A=Math.min(w.width,Math.max(0,b.clientX-w.left));Z("#ia-scrubber .jw-knob").css({left:"".concat(A,"px")})}},f=!1;document.querySelector("play-av").parentElement.addEventListener("mousemove",h);var v=document.getElementById("ia-scrubber");v.addEventListener("mousedown",function(){d.player.pause(),f=!0}),v.addEventListener("mouseup",function(){d.player.play(),f=!1})}},{key:"headless_create",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!d.length){var h=Z("play-av:not(:first)"),f=Z("play-av:first"),v=globalThis.Play(h.attr("jid")),_=globalThis.Play(f.attr("jid"));if(v.remove(),h.remove(),f.show(),Dn("IS AT",v.trackno,v.headless.tracks),v.trackno||v.trackno===0){var b=v.headless.tracks[v.trackno];_.playN(Math.max(0,b),!0)}return}this.pause();var w={audio:!0,responsive:!0,identifier:this.identifier,headless:{tracks:d,has_full_album:!1}},A=[],E=!0,O=!1,P=void 0;try{for(var y=d[Symbol.iterator](),u;!(E=(u=y.next()).done);E=!0){var p=u.value;Number(p)===-1&&(w.headless.has_full_album=!0),A.push(Number(p)===-1?{title:"[Full Album]",orig:"",sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}:this.playlist[p])}}catch(j){O=!0,P=j}finally{try{!E&&y.return!=null&&y.return()}finally{if(O)throw P}}var g=Z("play-av").parent(),k=Z("play-av:first").attr("jid"),x=globalThis.Play(k).trackno;w.headless.playN=Math.max(0,d.indexOf(x)),Z("play-av:first").hide(),Z("play-av[jid=headless]").remove(),delete r.STASH.headless,g.append('\n      <play-av jid="headless"\n        playlist=\''.concat(JSON.stringify(A).replace(/'/g,"&apos;"),"'\n        args='").concat(JSON.stringify(w).replace(/'/g,"&apos;"),"'></play-av>"))}}],[{key:"hash_string",value:function(d){return d.split("").reduce(function(h,f){return h+f.charCodeAt(0)},0)}},{key:"castable",value:function(){return globalThis.WebKitPlaybackTargetAvailabilityEvent||globalThis.chrome}},{key:"styles",get:function(){return ic(_templateObject467(),Wr(Xo),Wr(Xo/2),Wr(Xo)/2,Wr(Xo/2),Wr(Xo),Wr(Xo),Wr(Xo/2-9),Wr(Ff-1),Wr(Ff))}},{key:"css",value:function(){var d=document.getElementsByTagName("head")[0];if(d){var h=document.createElement("style");h.setAttribute("type","text/css"),h.appendChild(document.createTextNode("\n\nbody.jwaudio .jwplayer {\n  width: initial !important;\n  display: inline-block;\n  margin-left: ".concat(Lj,"px;\n\n  outline: 0 !important;\n  outline-offset: unset !important;\n}\n\nbody.navia.jwaudio .jw-preview {\n  display: none !important;\n}\n\n/* avoid bleed-thru when kebab opened */\nbody.jwaudio .jw-wrapper, body.jwaudio .jw-controls-backdrop {\n  background-color: transparent;\n  background: none;\n}\n\n/* make control bar use up width naturally, based on controlbar buttons (waveform soaks up rest) */\nbody.jwaudio .jw-wrapper,\nbody.jwaudio .jw-controls {\n  position: initial;\n}\n\nbody.jwaudio .jw-controlbar .jw-icon-inline:first-child {\n  margin-left: 15px;\n}\n\nbody.jwaudio .jw-controlbar .jw-icon-inline {\n  width: 35px;\n}\nbody.jwaudio .jw-controlbar .jw-icon-inline.jw-text-duration {\n  width: 55px;\n}\n\n/* https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Container_Queries */\n#play-av-wrapper {\n  container-name: player-pill;\n  container-type: inline-size;\n}\n@container player-pill (min-width: ").concat(ak,"px) {\n  body.jwaudio .jw-text-elapsed {\n    display: flex !important;\n  }\n}\n@container player-pill (min-width: ").concat(Nj,'px) {\n  body.jwaudio .jw-text-duration {\n    display: flex !important;\n  }\n}\n\nbody.jwaudio .jw-settings-submenu-button {\n  margin-left: -5px;\n}\n\nbody.jwaudio #jw-settings-menu {\n  z-index: 1;\n  margin-top: 25px;\n  border-top: 1px solid #aaa;\n  left: 50px;\n}\n\nbody.jwaudio #jw-settings-menu:before {\n  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */\n  content: "";\n  position:absolute;\n\n  /* position tooltip correctly */\n  top: -11px;\n  left: ').concat(zf,'px;\n  transform:translateY(-50%);\n\n  /* the arrow */\n  border: 10px solid #000;\n  border-color: transparent transparent #aaa transparent;\n}\nbody.jwaudio #jw-settings-menu:after {\n  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */\n  content: "";\n  position:absolute;\n\n  /* position tooltip correctly */\n  top: -8px;\n  left: ').concat(zf,"px;\n  transform:translateY(-50%);\n\n  /* the arrow */\n  border: 10px solid #000;\n  border-color: transparent transparent black transparent;\n}\n\n#waveformer-loader {\n  overflow: hidden;\n  width: 1px;\n  height: 1px;\n  max-width: 1px;\n  max-height: 1px;\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  opacity: 0.01;\n}\n    "))),d.appendChild(h)}}},{key:"sec2hms",value:function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=Math.round(d),_=Math.floor(v/3600),b=Math.floor((v-_*3600)/60);v-=_*3600+b*60;var w="",A="";(h||_>0)&&(A="00".concat(_),w+=A.substr(A.length-2,2),w+=":"),A="00".concat(b),w+=A.substr(A.length-2,2),w+=":",A="00".concat(v),w+=A.substr(A.length-2,2);var E=f?".".concat((d%1).toFixed(3).slice(2)):"";return"".concat(w).concat(E)}},{key:"seconds",value:function(d){var h=d.replace(",","."),f=h.split(":"),v=0;return h.substr(-1)==="s"?v=Number(h.substr(0,h.length-1)):h.substr(-1)==="m"?v=Number(h.substr(0,h.length-1))*60:h.substr(-1)==="h"?v=Number(h.substr(0,h.length-1))*3600:f.length>1?(v=Number(f[f.length-1]),v+=Number(f[f.length-2])*60,f.length===3&&(v+=Number(f[f.length-3])*3600)):v=Number(h),v}},{key:"seek",value:function(d){var h="".concat(d.href,"/").match(/[/#]start\/([\d.]+)\//)||d.href.match(/[?&]start=([\d.]+)/);if(!h)return!0;var f=h[1];return vr().seek(f),typeof history.pushState=="undefined"?location.href=d.href:history.pushState({},null,d.href),!1}},{key:"mute_click",value:function(){var d,h=!Xr.get("unmute");if((d=globalThis.AJS)!=null&&d.emulator)globalThis.AJS.emulator.setMute(!h);else{var f=vr("jw6");if(f){var v=f.getVolume();v?(r.mute_click_prior_volume=v,f.setVolume(0)):f.setVolume(typeof r.mute_click_prior_volume=="undefined"?100:r.mute_click_prior_volume)}}return Z("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),h?Xr.set("unmute",1,{path:"/details",expires:30}):Xr.remove("unmute",{path:"/details"}),!1}},{key:"cast_sender_setup",value:function(){!globalThis.chrome||globalThis.chrome.cast||function(){var d=function(g){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+g)!=-1||document.currentScript.src.indexOf("&"+g)!=-1)},h=d("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",f=d("loadCastFramework")||d("loadCastApplicationFramework"),v=function(){return typeof globalThis.__onGCastApiAvailable=="function"?globalThis.__onGCastApiAvailable:null},_=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"],b=function(p){p.length?A(p.shift(),function(){b(p)}):O()},w=function(g){return"chrome-extension://"+g+h},A=function(g,k,x){var j=document.createElement("script");j.onerror=k,x&&(j.onload=x),j.src=g,(document.head||document.documentElement).appendChild(j)},E=function(g){return 0<=globalThis.navigator.userAgent.indexOf(g)},O=function(){var g=v();g&&g(!1,"No cast extension found")},P=function(){if(f){var g=2,k=v(),x=function(){g--,g==0&&k&&k(!0)};globalThis.__onGCastApiAvailable=x,A("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",O,x)}};if(E("CriOS")){var y=globalThis.__gCrWeb&&globalThis.__gCrWeb.message&&globalThis.__gCrWeb.message.invokeOnHost;y&&(P(),y({command:"cast.sender.init"}))}else if(E("Android")&&E("Chrome/")&&globalThis.navigator.presentation){P();var u=globalThis.navigator.userAgent.match(/Chrome\/([0-9]+)/);b(["//www.gstatic.com/eureka/clank/"+(u?parseInt(u[1],10):0)+h,"//www.gstatic.com/eureka/clank"+h])}else globalThis.chrome&&globalThis.navigator.presentation&&!E("Edge")?(P(),b(_.map(w))):O()}()}},{key:"filename_char_encoder",value:function(d){var h=d.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i),f=h.shift().replace(/#/g,"%23").replace(/\?/g,"%3F"),v=f+(h.length?".".concat(h.shift(),"?"):"");return v+h.join("")}},{key:"track_event",value:function(d){if(globalThis.archive_analytics){var h=_slicedToArray(d.split("|"),2),f=h[0],v=h[1];globalThis.archive_analytics.send_event(f,v,globalThis.location.pathname)}}},{key:"properties",get:function(){return{trackno:Number,identifier:String,mdapi:Array,bgTheme:String}}},{key:"headless",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(v){return Dn("track ".concat(v," clicked"))},f=Z("play-av:first").attr("jid");r.headless_callback=h,globalThis.Play(f).headless_create(d,h)}}]),r}(jo),Vj=function(){"use strict";function a(s){_classCallCheck(this,a),this.WIGGLE=1,this.playlist_index=0,this.last_time=0,this.p=s,Dn(s.triggers)}return _createClass(a,[{key:"setup",value:function(r){var c=this;this.play=r,this.p.player.on("time",function(){return c.on_time()}),this.p.player.on("meta",function(d){return Dn("HLS meta",d)})}},{key:"on_time",value:function(){var r=this.p.player.getCurrentTime();if(!(Math.abs(this.last_time-r)<.25)){this.last_time=r;var c=this.playlist_index;if(r>=this.p.triggers[c]+this.WIGGLE)for(Dn("on_time >=",r,">=",this.p.triggers[c]+this.WIGGLE);r>=this.p.triggers[c]-this.WIGGLE;)c+=1;else if(r<this.p.triggers[c-1]+this.WIGGLE)for(Dn("on_time <",r,"<",this.p.triggers[c-1]-this.WIGGLE);c&&r<this.p.triggers[c-1]-this.WIGGLE;)c-=1;if(c!==this.playlist_index){if(Dn("HLS switching tracks:",this.playlist_index,"=>",c),this.playlist_index=c,this.play.track_change(this.p.player,this.playlist_index),Z("#play-hls-duration").html(Ea.sec2hms(this.p.playlist[this.playlist_index].duration)),this.p.waveformer){Dn(this.p.playlist[this.playlist_index]);var d=this.p.playlist[this.playlist_index].image;if(d){Z("#waveformer-loader").length||Z("body").append('<img id="waveformer-loader"></img>');var h=Z("#waveformer-loader").get(0);h.onload=function(){return Z(".jw-preview").css("background-color","transparent")},h.src=d,Z(".jw-preview").css("background-color","black"),Z(".jw-preview").css("background-image",'url("'.concat(d,'")'))}}}var f=this.p.playlist[this.playlist_index].duration;if(this.p.waveformer&&f){var v=r-(this.playlist_index?this.p.triggers[this.playlist_index-1]:0);Z("#play-hls-elapsed").html(Ea.sec2hms(Math.round(Math.max(0,v)))),this.p.jwaudioPercentDone=Math.min(1,v/f)}}}},{key:"update_playlist",value:function(r){Dn("HLS.update_playlist",r.playlist);var c=fa("mode")==="aac"?"&mode=aac":"";if(0){var d;for(var h in this.p.triggers)var f,v}r.playlist=r.playlist.slice(0,1),r.playlist[0].sources[0].file="/details/".concat(this.p.identifier).concat(c,"&embed=1&HLS=1&hls.m3u8"),delete r.playlist[0].sources[0].title,delete r.playlist[0].sources[0].duration,Dn("HLS new playlist to jw",r.playlist),r.hlsjsConfig={p2pConfig:{live:!1}}}},{key:"playlistPrev",value:function(){Dn("HLS.playlistPrev");var r=0;this.playlist_index?this.playlist_index>1&&(r=this.p.triggers[this.playlist_index-2]-this.WIGGLE):r=this.p.triggers[this.p.triggers.length-2]-this.WIGGLE,this.p.player.seek(r)}},{key:"playlistNext",value:function(){Dn("HLS.playlistNext");var r=this.playlist_index>=this.p.triggers.length-1?0:this.p.triggers[this.playlist_index]-this.WIGGLE;this.p.player.seek(r)}},{key:"waveform_clicked",value:function(r){var c=this.playlist_index,d=c?this.p.triggers[c-1]:0,h=this.p.triggers[c]-d;this.p.player.seek(d+h*r)}}]),a}(),!globalThis.Play){Ea.STASH={},Ea.css(),globalThis.Play=function(a,s,r){return new Ea(a,s,r)};var m=!0,t=!1,e=void 0;try{for(var n=["mute_click","sec2hms","seconds","seek","filename_char_encoder","headless"][Symbol.iterator](),o;!(m=(o=n.next()).done);m=!0){var l=o.value;globalThis.Play[l]=Ea[l]}}catch(a){t=!0,e=a}finally{try{!m&&n.return!=null&&n.return()}finally{if(t)throw e}}customElements.define("play-av",Ea)}Wj=Ea}}),qj={};ai(qj,{default:function(){return ju}});var Ou,Hf,uk,Uf,Gj,Qo,ck,Vf,dk,Yj,Xj,Kj,Qj,Jj,ju,DI=Mt({"components/play8/play8.js":function(){pa(),tv(),Jp(),pi(),Sx(),uo(),lv(),lx(),nh(),Ou={},Hf=480,uk=640,Uf=30,Gj=350,Qo=Uf,ck=140,Vf=240,dk=800,Yj=20,Xj=370,Kj=100,Qj=100,Jj=navigator.userAgent.indexOf("Windows NT ")>=0&&(navigator.userAgent.indexOf(" Trident/")>=0||navigator.userAgent.indexOf("MSIE ")>=0),ju=function(){"use strict";function a(s,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=c.start,h=d===void 0?0:d,f=c.embed,v=f===void 0?!1:f,_=c.hide_list,b=_===void 0?!1:_,w=c.autoplay,A=w===void 0?!1:w,E=c.audio,O=E===void 0?!1:E,P=c.width,y=P===void 0?0:P,u=c.height,p=u===void 0?0:u,g=c.responsive,k=g===void 0?!1:g,x=c.aspectratio,j=x===void 0?!1:x,L=c.noshare,D=L===void 0?!1:L,F=c.nolinks,X=F===void 0?!1:F,Q=c.logo,H=Q===void 0?!1:Q,ce=c.so,ne=ce===void 0?!1:ce,V=c.tv,Y=V===void 0?!1:V,oe=c.tvStart,q=oe===void 0?0:oe,G=c.tvEnd,J=G===void 0?0:G,ae=c.tvContributor,ie=ae===void 0?!1:ae,Oe=c.tvSource,De=Oe===void 0?!1:Oe,ke=c.play_just1,tt=ke===void 0?!1:ke,Ve=c.list_height,Qe=Ve===void 0?0:Ve,ht=c.identifier,bt=ht===void 0?!1:ht,vt=c.onTime,Le=vt===void 0?!1:vt,_e=c.onComplete,Ne=_e===void 0?!1:_e,Ze=c.onDisplayClick,Ke=Ze===void 0?!1:Ze,Pe=c.onReady,at=Pe===void 0?!1:Pe,pt=c.onPlaylistItem,lt=pt===void 0?!1:pt,ct=c.collection,Ge=ct===void 0?!1:ct,ze=c.waveformer,He=ze===void 0?!1:ze,rt=c.speed,it=rt===void 0?1:rt,wt=c.details,_t=wt===void 0?location.href:wt,xt=this;_classCallCheck(this,a);var ut=Y&&r.length===1?r[0].title:"",we="#".concat(s),N="#".concat(s,"__list"),qe=!1,Ie=4/3,nt=!1,R=!1,le=0,ue=!1,ve=v&&!Y&&!O&&!A&&h,de=!0,K=!1,ge=0,Ee=0,Ce=0;this.construct=function(){var Be=xt;if(X&&(bt=!1,Ge=!1,D=!0),it=parseFloat(it),!Z(we).length)return yn("play8.js requires #",s," element on page -- not found"),!1;if(xt.responsiveResize(!0),bt!==!1&&(_t="https://archive.org/details/".concat(bt)),Y&&J&&(_t+="/start/".concat(q,"/end/").concat(J)),typeof r=="undefined"&&(r=[{sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}],h=!0,b=!0),b||(Qe||(Qe=O?Xj:Kj),Qe=Math.min(Qe,r.length*Yj)),!k&&!(y>0&&p>0))if(v){var Je=Z(window).width(),Tt=Z(window).height();y=O?Math.min(Je,dk):Je,p=O?Qo+Qe:Tt-Qe}else j||(y=O?Gj:uk,p=O?Qo+Qe:Hf);if(le=y,Z.each(r,function(Jt,Qt){if(typeof Qt.autoplay!="undefined"&&(K||(K=[]),K[Jt-1]=!Qt.autoplay),typeof Qt.sources=="undefined"&&typeof Qt.file!="undefined"&&(Qt.sources=[{file:Qt.file,height:480}]),typeof Qt.sources=="undefined")alert("".concat(Jt,": sources undefined!"));else{var gn=!0,Bt=!1,an=void 0;try{for(var tn=Qt.sources[Symbol.iterator](),_n;!(gn=(_n=tn.next()).done);gn=!0){var Wt=_n.value;typeof Wt.file!="undefined"&&(!Jt&&Wt.file.indexOf("/download")>=0&&(Wt.file=Wt.file.replace(/\/download\//,"/serve/")),Wt.file=a.filename_char_encoder(Wt.file))}}catch(Re){Bt=!0,an=Re}finally{try{!gn&&tn.return!=null&&tn.return()}finally{if(Bt)throw an}}}}),!b){var jt='<div id="'.concat(s,'__list" style="height:').concat(Qe,'px"> </div>');Z(jt).insertAfter(we)}ut&&(r[0].title=r[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));var Et={playlist:JSON.parse(JSON.stringify(r)),abouttext:"this item, formats, and more at Internet Archive",aboutlink:_t,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:A,fallback:ne,width:isNaN(le)?"100%":le,height:O?Uf:p,base:Qp};if(k&&!v?Et.displaytitle=!1:j&&(Et.width="100%",Et.aspectratio=j,delete Et.height),bt!==!1){var Zt=Y&&J?"?start=".concat(q,"&end=").concat(J):"",Nt='<iframe src="https://archive.org/embed/MEDIAID"\n                              width="'.concat(O?500:uk,'"\n                              height="').concat(O?Qo:Hf,'"\n                              frameborder="0"\n                              webkitallowfullscreen="true"\n                              mozallowfullscreen="true"\n                              allowfullscreen></iframe>').replace(/embed\/MEDIAID/,"embed/".concat(bt).concat(Zt)).replace(/\s+/g," "),Ft="[archiveorg ".concat(bt).concat(Zt," width=640 height=").concat(O?Qo:Hf," frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]");Et.mediaid=bt,Z("#embedcodehere").text(Nt),Z("#embedcodehereWP").text(Ft)}if((v&&!O&&!X||H)&&(Et.logo={file:"//av.prod.archive.org/jw/glogo-ghost.png",link:_t,position:"top-right",margin:2,hide:!1}),tt||K){var Dt=Ne;Ne=function(Jt){var Qt={done:tt||K[Jt.getPlaylistIndex()]};Qt.done&&Jt.stop(),Dt&&Dt(Jt,Qt)}}return yn(Et),vr(s).setup(Et),vr(s).on("ready",function(){var Jt=Be;yn("IA ",s," is ready");var Qt=vr(s);yn("NOTE: JW version: ",vr.version),Le&&yn("NOTE: onTime() is in use!"),Le&&Qt.on("time",function(){return Le(Qt)}),Ne&&Qt.on("complete",function(){return Ne(Qt)}),Ke&&Qt.on("displayClick",function(){return Ke(Qt)}),O?Qt.on("firstFrame",function(){return a.track_event("Details-Audio|AudioStarted")}):Y||(Qt.on("firstFrame",function(){return a.track_event("Details-Video|VideoStarted")}),Qt.on("complete",function(){return a.track_event("Details-Video|VideoEnded")})),qe=!0,Be.addClickablePlaylist(),O&&k&&!v&&Be.responsiveResize(),k&&!O&&Z(we).css("margin","auto"),Be.add_buttons(Qt),k&&!v&&!O&&typeof cr!="undefined"&&cr.theatre_controls_position(!1,0,y,p),k&&Qo>Uf&&Z(we).css("height",Qo),O&&!He&&Z(we).find(".jw-preview").css("display","none"),!v&&k?Be.details_setup():v&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&Be.embed_setup(),Qt.on("meta",function(gn){R||(R=!0,yn("onMeta() fired"),Z("body").addClass("responsive-playing"),!O&&v&&gn.width&&gn.height&&Jt.adjustVideoWidth(Jt,gn),Jt.unpreload(),h&&(yn("SEEK TO: ",h),Jt.pause(),vr(s).seek(h)))}),Qt.on("playlistItem",function(gn){var Bt=Jt,an=gn.index;if(yn("onPlaylistItem: ",an),Ce&&!an){yn("onPlaylistItem: ignoring since desired index ".concat(Ce," !== ").concat(an," -- and this is likely an event from reloading the playlist"));var tn=Ce;Ce=0,vr(s).playlistItem(tn);return}var _n=Z(N).find(".jwrow, .jwrowV2");if(_n.length){_n.removeClass("playing");var Wt=Z(_n.get(an));Wt.addClass("playing"),Z(N).scrollTop(Wt.offset().top-Z(N).offset().top+Z(N).scrollTop())}Jt.seeker_playlist(),Jt.url_updater(Qt,an),it!==1&&setTimeout(function(){Bt.speed(it)},1e3),Jt.waveformer_setup(Qt)}),lt&&Qt.on("playlistItem",function(gn){yn("onPlaylistItem",{e:gn}),lt(Qt,gn)}),Qt.on("playlistComplete",function(){!O&&Ge&&!Y&&Jt.related_items_click()}),Qt.on("error",function(gn){yn("err"),yn(gn),Z(we).css({"background-color":"black"})}),at&&at(Qt)}),xt},this.url_updater=function(Be,Je){if(!(Y||v||!bt||typeof history.replaceState=="undefined")){var Tt=Be.getConfig();if(!(!Tt||!Tt.playlist||Tt.playlist.length<=1||!Tt.playlist[Je]||!Tt.playlist[Je].orig))if(de){var jt="/details/".concat(bt,"/").concat(encodeURIComponent(Tt.playlist[Je].orig).replace(/%2F/g,"/").replace(/%20/g,"+")),Et=typeof cr!="undefined"&&hp("playset",!0)?"?playset=1&autoplay=1":"";yn("updating url to",jt+Et),history.replaceState({},null,jt+Et)}else{var Zt=xt;yn("looks like /details/ page loaded cold-state -- leave url AS IS"),Be.once("play",function(){yn("time to start updating urls"),de=!0,Zt.url_updater(Be,Je)})}}},this.waveformer_setup=function(Be){if(!(!He||ue)){var Je=Be.getConfig().provider==="flash",Tt=Z(we);Je&&(Tt=Tt.parent()),Tt.wrap('<div id="'.concat(He,'" style="position:relative"></div>')),ge=Z("#".concat(He)).width(),Z("#".concat(He)).prepend('<div id="waveformer" style="background-color:rgb(19,160,216); position:absolute; width:0; top:0; bottom:0;"></div>'),Be.on("time",function(jt){jt.duration&&(Ee=jt.position/jt.duration,Z("#waveformer").css({width:Math.round(ge*Ee)}))}),ue=!0,setTimeout(function(){Je||Z(we).css("background-color","transparent"),Z("#".concat(He)).css("background-color","#ddd")},1e3)}},this.on=function(Be,Je){var Tt=vr&&vr(s);return Tt&&Tt.on(Be,Je),xt},this.adjustVideoWidth=function(Be,Je){Je.height&&Je.width&&Je.height>0&&Je.width>0&&parseInt(Je.height,10)>0&&(Ie=parseInt(Je.width,10)/parseInt(Je.height,10),yn("DAR: ",Ie,Je.width,"x",Je.height)),v&&xt.embedResize()},this.embedResize=function(){if(!(!vr||!vr(s))){if(O){vr(s).resize(Math.min(dk,Z(window).width()),Qo);return}var Be=Z(window).width(),Je=Z(window).height()-Qe;vr(s).resize(Be,Je)}},this.playN=function(Be,Je){var Tt=vr(s);return yn("playN",{readyIA:qe,idx:Be,load_paused:Je,state:Tt.getState()}),Je&&Tt.once("play",function(){return Tt.pause()}),Tt.playlistItem(Be),!1},this.seeker_playlist=function(){if(!nt){if(nt=!0,ve){var Be=xt;vr(s).once("seek",function(){Be.pause(),yn("... paused first seek!")})}h&&(xt.pause(),vr(s).seek(h))}},this.embed_setup=function(){Z(window).on("resize  orientationchange",function(){clearTimeout(a.throttler2),a.throttler2=setTimeout(function(){new a(s).embedResize()},250)})},this.unpreload=function(){var Be=vr(s),Je=Be.getPlaylist(),Tt=Be.getPlaylistIndex();if(yn("unpreload:",{startPlaylistIdx:Tt}),Je.length&&(typeof Je[0].file!="undefined"&&(Je[0].file=Je[0].file.replace(/\/serve\//,"/download/")),typeof Je[0].sources!="undefined")){var jt=!0,Et=!1,Zt=void 0;try{for(var Nt=Je[0].sources[Symbol.iterator](),Ft;!(jt=(Ft=Nt.next()).done);jt=!0){var Dt=Ft.value;Dt.file=Dt.file.replace(/\/serve\//,"/download/")}}catch(Jt){Et=!0,Zt=Jt}finally{try{!jt&&Nt.return!=null&&Nt.return()}finally{if(Et)throw Zt}}}Tt?(Be.on("playlist",function(){yn("unpreload: onplaylist:",{startPlaylistIdx:Tt}),Be.playlistIndex=Tt,Be.playlistItem(Tt)}),Ce=Tt):!h&&!A&&(de=!1),Be.load(Je)},this.details_setup=function(){yn("details_setup");var Be=0,Je="^/details/".concat(bt,"/([^&?]+)"),Tt=location.pathname.match(Je);if(Tt){var jt=decodeURIComponent(Tt[1].replace(/\+/g,"%20"));yn("looking for: ",jt);for(var Et in r){var Zt=Number(Et);if(r[Zt].orig===jt){yn("player should seek to track #",Zt),Be=Zt;break}}}if(!Be&&!h&&!A&&(de=!1),!A&&(Be||h)){yn("seek #",Be," to ",h);var Nt=vr(s);Nt.playlistItem(Be)}},this.pause=function(){var Be=vr(s);qe&&Be&&Be.getState&&Be.getState()==="playing"&&Be.pause()},this.remove=function(){xt.pause();var Be=vr(s);qe&&Be&&Be.getConfig()&&Be.remove(),delete Ou[s]},this.speed=function(Be){if(typeof Be=="undefined"||typeof Be=="object"){var Je=!1;O&&(Z(".jw-controls").css("overflow","initial"),Je=Z(we).height()===Vf,Z(we).css("height",Je?ck:Vf)),Je=Je||Z("".concat(we," .jw-controls")).hasClass("jw-settings-open"),Je?(Z("".concat(we," .jw-controls")).removeClass("jw-settings-open"),O&&Z(".jw-controls").css("overflow","")):Z("".concat(we," .jw-controls")).toggleClass("jw-settings-open"),Z("".concat(we," .jw-settings-topbar .jw-icon")).attr("aria-checked","false"),Z("".concat(we," .jw-settings-playbackRates")).attr("aria-checked","true");var Tt=Z('.jw-settings-content-item:contains("0.5x")').parent(),jt="".concat(we," .jw-settings-submenu");return Z(jt).attr("aria-expanded","false").removeClass("jw-settings-submenu-active"),Tt.attr("aria-expanded","true").addClass("jw-settings-submenu-active"),Z(jt).addClass("jw-settings-submenu-active"),!1}var Et=Be;(typeof Et=="undefined"||isNaN(Et))&&(Et=1);var Zt=Z("#".concat(s," video")).get(0);return Zt.playbackRate=Et,yn("speed to ".concat(Et)),!1},this.add_buttons=function(Be){var Je='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',Tt='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',jt='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',Et='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(v&&!X){var Zt=ut?"".concat(ut.replace(/ : /g,"\n"),"\n\nClick above for more information and clips\nat the Internet Archive"):"More Formats from Internet Archive";Be.addButton("/images/glogo-jw.png",Zt,function(){var Dt=document.createElement("a");Dt.setAttribute("href",_t),Dt.setAttribute("target","_blank"),document.body.appendChild(Dt),Dt.click()},"btn-ia")}if(v&&!O&&!D&&!Y&&(bt!==!1&&Be.addButton("https://av.prod.archive.org/jw/embed.png","Embedding Examples and Help",function(){window.top.location.href="/help/video.php?identifier=".concat(bt)},"btn-mbd"),typeof cr!="undefined"&&(Be.addButton(jt,"share",function(){var Dt=Z(".jw-icon[button=btn-shr]").get(0);cr.modal_go(Dt,{ignore_lnk:1,shown:cr.embed_codes_adjust})},"btn-shr"),Z(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))),Y&&v&&De!==!1&&Be.addButton("/images/tv/".concat(bt.split("_")[0],".png"),"Look for this show on ".concat(ie," website"),function(){window.top.location.href=De},"btn-tv"),!O&&Ge&&!Y){var Nt=xt;Be.addButton("https://av.prod.archive.org/jw/related.png","Related Videos",function(){Nt.related_items_click()},"btn-rel")}if(xt.castable()){var Ft=xt;window.chrome&&a.cast_sender_setup(),Be.addButton(Et,"Cast media with AirPlay / Chromecast",function(){Ft.cast()},"btn-cast")}!Y&&r.length>1&&(Be.addButton(Tt,"next",function(){Be.playlistNext()},"btn-nxt"),Be.addButton(Je,"previous",function(){Be.playlistPrev()},"btn-prv"))},this.castable=function(){return window.WebKitPlaybackTargetAvailabilityEvent||window.chrome},this.cast=function(){var Be=xt;if(window.WebKitPlaybackTargetAvailabilityEvent){Z("#".concat(s," video")).get(0).webkitShowPlaybackTargetPicker();return}if(window.chrome){var Je=function(jt,Et){Et.play(null,function(Zt){yn("media play success",jt,Et,Zt)},function(Zt){yn("media play fail",Zt)})};xt.cast_retries=0;var Tt=function(){var jt=Be;if(yn("cast_setup #",Be.cast_retries),Be.cast_retries+=1,Be.cast_retries>3)return!1;if(!window.chrome.cast)return setTimeout(Tt,Be.cast_retries*1e3);var Et=window.chrome.cast,Zt=new Et.SessionRequest(Et.media.DEFAULT_MEDIA_RECEIVER_APP_ID),Nt=new Et.ApiConfig(Zt,function(Ft){Ft.media.length&&Je("onRequestSessionSuccess",Ft.media[0])},function(Ft){yn("receiver listener fail",Ft)});return Et.initialize(Nt,function(){var Ft=jt;yn("cast init success"),Et.requestSession(function(Dt){yn("request session success",Dt);var Jt=Z("".concat(we," video")).attr("src"),Qt="".concat(location.protocol,"//").concat(location.host).concat(Jt),gn=new Et.media.MediaInfo(Qt),Bt=new Et.media.LoadRequest(gn);Dt.loadMedia(Bt,Je.bind(Ft,"loadMedia"),function(an){yn("onMediaError",an)})},function(Dt){yn("request session fail",Dt),setTimeout(Tt,500)})},function(){return yn("cast init failure")}),!0};Tt()}},this.related_items_click=function(){var Be=function(){Z("".concat(we," .jw-controlbar")).one("click",function(Tt){Z("#related-items-bg").hide(),Tt.preventDefault()})};if(typeof Pd!="undefined"&&!Z("#related-items").length)Z("".concat(we)).prepend('\n<div id="related-items-bg" style="display:none">\n  <div id="related-items">\n  </div>\n</div>\n'),ni("#related-items-bg",function(){return Z("#related-items-bg").hide()},"default"),Pd.getRelatedItems(bt,!0).then(function(Tt){var jt=Math.floor(Tt.length/2),Et="",Zt=!0,Nt=!1,Ft=void 0;try{for(var Dt=Object.entries(Tt)[Symbol.iterator](),Jt;!(Zt=(Jt=Dt.next()).done);Zt=!0){var Qt=_slicedToArray(Jt.value,2),gn=Qt[0],Bt=Qt[1];Number(gn)===jt&&Ge==="prelinger"?(a.track_event("Details-Video|DonationEndrollDisplayed"),Et+='\n<a class="related-donate"\n   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"\n   data-event-click-tracking="Details-Video|DonationEndrollClicked"\n   data-event-tracking-options=\'{ "service": "ao_no_sampling" }\'>\n  <div>\n    <div class="related-ctr related-donate-logo">\n      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>\n    </div>\n    <div class="related-ctr related-donate-msg">\n      <div>\n        Your donation helps us keep these videos free for everyone\n      </div>\n    </div>\n    <div class="related-ctr related-donate-btn">\n      <div>\n        CHIP IN\n      </div>\n    </div>\n  </div>\n</a>\n'):Et+='\n<div>\n  <a href="/details/'.concat(Bt.identifier,'"\n    data-event-click-tracking="Details-Video|LastFrameLinkChosen"\n    data-event-tracking-options=\'{ "service": "ao_no_sampling" }\'>\n    <div class="related-ttl">\n      ').concat(Bt.title!==null?Bt.title:"","\n      ").concat(Bt.creator!==null?"<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;".concat(Bt.creator):"","\n      ").concat(Bt.downloads!==null?"<div>".concat(Bt.downloads," views</div>"):"",'\n    </div>\n    <img src="/services/img/').concat(Bt.identifier,'"/>\n  </a>\n</div>\n')}}catch(an){Nt=!0,Ft=an}finally{try{!Zt&&Dt.return!=null&&Dt.return()}finally{if(Nt)throw Ft}}Z("#related-items").html(Et),Z("#related-items-bg").show(),Be()});else{var Je=Z("#related-items-bg:visible").length;Je?Z("#related-items-bg").hide():(Z("#related-items-bg").show(),setTimeout(Be,500))}},this.addClickablePlaylist=function(){if(!b){var Be=vr(s).getPlaylist(),Je=!0;Be.length!==r.length&&(yn("NOTE: jw playlist filtered down -- ",r.length,"==>",Be.length," items"),Je=!1);var Tt="";Z.each(Be,function(Et,Zt){var Nt=(typeof Zt.title=="undefined"?"":Zt.title).concat(typeof Zt.artist=="undefined"?"":" - ".concat(Zt.artist)),Ft=typeof Zt.duration!="undefined"?Zt.duration:!1;Ft===!1&&(Ft=Je&&typeof r[Et]!="undefined"&&typeof r[Et].duration!="undefined"?r[Et].duration:0),Ft<=0&&(Ft=!1),Tt+='\n<a href="#" class="js-play8-play-track" data-idx="'.concat(Et,'">\n  <div class="jwrow">\n    <div class="tm">\n      ').concat(Ft?a.sec2hms(Ft):"",'\n    </div>\n    <div class="n">\n      ').concat(Et+1,'\n    </div>\n    <div class="ttl">\n      ').concat(Nt,"\n    </div>\n  </div>\n</a>")});var jt={};k&&(jt.width=y,jt.margin="auto",O||Z(we).css("margin","auto")),Z(N).addClass("jwlist").css(jt).html(Tt),ni(".js-play8-play-track",function(Et){return window.Play("".concat(s)).playN(Z(Et.currentTarget).data().idx)}),yn(r)}},this.debug=function(){debugger},this.responsiveResize=function(Be){if(k){var Je=Z(we).offset(),Tt=Z(window).height()-Je.top-Qj;if(O)r&&r.length>0&&r[0].image&&He&&(Qo=ck),Tt-=Qo,Tt=Math.max(Vf,Tt),v||(yn("responsiveResize() maxH:",Tt),Qe=Tt,yn(Z(N).length),Z(N).css({"max-height":Tt,"overflow-x":"hidden","overflow-y":"auto"}),He&&(ge=Z("#".concat(He)).width(),Z("#waveformer").css({width:Math.round(ge*Ee)}))),y="100%",Z("#theatre-controls .fave-share").removeClass("fave-share"),Z("#theatre-controls").offset({top:Je.top}).css({visibility:"visible","background-color":"black"});else{var jt=Ie;r&&r.length>0&&r[0].sources&&r[0].sources.length>0&&r[0].sources[0].width&&r[0].sources[0].height&&(jt=r[0].sources[0].width/r[0].sources[0].height,yn("aspect ratio appears to be: ",jt));var Et=Z(".container-ia:last").width();yn("video max rect avail: ",Et,"x",Tt);var Zt,Nt,Ft=!0,Dt=!1,Jt=void 0;try{for(var Qt=[960,840,720,600,480,360,240,180][Symbol.iterator](),gn;!(Ft=(gn=Qt.next()).done)&&(Nt=gn.value,Zt=Math.round(Nt*jt),yn("video size try fit: ",Zt,"x",Nt),!(Zt<=Et&&Nt<=Tt||Zt<=320));Ft=!0);}catch(Bt){Dt=!0,Jt=Bt}finally{try{!Ft&&Qt.return!=null&&Qt.return()}finally{if(Dt)throw Jt}}y=Zt,p=Nt,typeof cr!="undefined"&&cr.theatre_controls_position(!1,0,y,p)}Be?Z(window).on("resize  orientationchange",function(){clearTimeout(a.throttler),a.throttler=setTimeout(function(){new a(s).responsiveResize()},250)}):O||vr(s).resize(y,p)}},this.cache=function(){if(!s)return alert("please pass in a unique identifier for this object");if(typeof Ou[s]!="undefined"){if(typeof r=="undefined")return Ou[s];delete Ou[s]}return!1};var Ye=this.cache();if(Ye)return Ye;Ou[s]=this,yn("PLAY CONFIG:",arguments[2]),this.construct()}return _createClass(a,null,[{key:"sec2hms",value:function(r,c){var d=Math.round(r),h=Math.floor(d/3600),f=Math.floor((d-h*3600)/60);d-=h*3600+f*60;var v="",_="";return(c||h>0)&&(_="00".concat(h),v+=_.substr(_.length-2,2),v+=":"),_="00".concat(f),v+=_.substr(_.length-2,2),v+=":",_="00".concat(d),v+=_.substr(_.length-2,2),v}},{key:"seconds",value:function(r){var c=r.replace(",","."),d=c.split(":"),h=0;return c.substr(-1)==="s"?h=Number(c.substr(0,c.length-1)):c.substr(-1)==="m"?h=Number(c.substr(0,c.length-1))*60:c.substr(-1)==="h"?h=Number(c.substr(0,c.length-1))*3600:d.length>1?(h=Number(d[d.length-1]),h+=Number(d[d.length-2])*60,d.length===3&&(h+=Number(d[d.length-3])*3600)):h=Number(c),h}},{key:"seek",value:function(r){var c="".concat(r.href,"/").match(/[/#]start\/([\d.]+)\//)||r.href.match(/[?&]start=([\d.]+)/);if(!c)return!0;var d=c[1];return vr().seek(d),typeof history.pushState=="undefined"?location.href=r.href:history.pushState({},null,r.href),!1}},{key:"mute_click",value:function(){var r=!Xr.get("unmute");if(cr.emulator)cr.emulator.setMute(!r);else{var c=vr("jw6");if(c){var d=c.getVolume();d?(a.mute_click_prior_volume=d,c.setVolume(0)):c.setVolume(typeof a.mute_click_prior_volume=="undefined"?100:a.mute_click_prior_volume)}}return Z("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),r?Xr.set("unmute",1,{path:"/details",expires:30}):Xr.remove("unmute",{path:"/details"}),!1}},{key:"cast_sender_setup",value:function(){!window.chrome||window.chrome.cast||function(){var r=function(u){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+u)!=-1||document.currentScript.src.indexOf("&"+u)!=-1)},c=r("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",d=r("loadCastFramework")||r("loadCastApplicationFramework"),h=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},f=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"],v=function(y){y.length?b(y.shift(),function(){v(y)}):A()},_=function(u){return"chrome-extension://"+u+c},b=function(u,p,g){var k=document.createElement("script");k.onerror=p,g&&(k.onload=g),k.src=u,(document.head||document.documentElement).appendChild(k)},w=function(u){return 0<=window.navigator.userAgent.indexOf(u)},A=function(){var u=h();u&&u(!1,"No cast extension found")},E=function(){if(d){var u=2,p=h(),g=function(){u--,u==0&&p&&p(!0)};window.__onGCastApiAvailable=g,b("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",A,g)}};if(w("CriOS")){var O=window.__gCrWeb&&window.__gCrWeb.message&&window.__gCrWeb.message.invokeOnHost;O&&(E(),O({command:"cast.sender.init"}))}else if(w("Android")&&w("Chrome/")&&window.navigator.presentation){E();var P=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);v(["//www.gstatic.com/eureka/clank/"+(P?parseInt(P[1],10):0)+c,"//www.gstatic.com/eureka/clank"+c])}else window.chrome&&window.navigator.presentation&&!w("Edge")?(E(),v(f.map(_))):A()}()}},{key:"filename_char_encoder",value:function(r){var c=r.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i),d=c.shift().replace(/#/g,"%23").replace(/\?/g,"%3F"),h=d+(c.length?".".concat(c.shift(),"?"):"");return h+c.join("")}},{key:"track_event",value:function(r){if(window.archive_analytics){var c=_slicedToArray(r.split("|"),2),d=c[0],h=c[1];window.archive_analytics.send_event(d,h,window.location.pathname)}}},{key:"setup",value:function(){Z(".js-play8-config").each(function(r,c){var d=JSON.parse(Z(c).val()),h=d.jid||"jw6",f=Z(".js-play8");f.attr({id:h}),hp("playset",!0)&&(d.onComplete=ev.onComplete),window.Play(h,JSON.parse(Z(".js-play8-playlist").val()),d),ni(".js-play8-speed",window.Play(h).speed),ni(".js-play8-gofullscreen",vr(h).setFullscreen)})}}]),a}(),window.Play=function(a,s,r){return new ju(a,s,r)};var m=!0,t=!1,e=void 0;try{for(var n=["sec2hms","seconds","seek","filename_char_encoder","mute_click"][Symbol.iterator](),o;!(m=(o=n.next()).done);m=!0){var l=o.value;window.Play[l]=ju[l]}}catch(a){t=!0,e=a}finally{try{!m&&n.return!=null&&n.return()}finally{if(t)throw e}}Jj?ju.setup():Z(ju.setup),Z(function(){ni(".js-play8-soon",function(){return alert("coming soon!")}),ni(".js-play8-thumbzilla",function(a){return cr.thumbzilla(Z(a.currentTarget).data().identifier)}),ni(".js-play8-mute-click",window.Play.mute_click),ni(".js-play8-seek",function(a){return window.Play.seek(a.currentTarget)})})}}),hk,$I=Mt({"https-url:https://esm.archive.org/v135/idb-keyval@6.2.1/esnext/idb-keyval.mjs":function(){}}),Zj,eE=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/local-cache@0.2.1/esnext/local-cache.mjs":function(){$I(),Zj=function(){"use strict";function m(t){_classCallCheck(this,m);var e,n,o,l;if(this.namespace=(e=t==null?void 0:t.namespace)!==null&&e!==void 0?e:"LocalCache",this.defaultTTL=(n=t==null?void 0:t.defaultTTL)!==null&&n!==void 0?n:15*60,(!((o=t==null?void 0:t.immediateClean)!==null&&o!==void 0)||o)&&this.cleanExpired(),!(t!=null&&t.disableCleaning)){var a=this,s=(l=t==null?void 0:t.cleaningInterval)!==null&&l!==void 0?l:60;setInterval(function(){a.cleanExpired()},s*1e3)}}return _createClass(m,[{key:"set",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a,s,r;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return l={value:e.value},a=(o=e.ttl)!==null&&o!==void 0?o:this.defaultTTL,s=KT(new Date,a),l.expires=s,r=this.getNamespacedKey(e.key),d.prev=4,d.next=7,qT(r,l);case 7:d.next=11;break;case 9:d.prev=9,d.t0=d.catch(4);case 11:case"end":return d.stop()}},n,this,[[4,9]])}))}},{key:"get",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=this.getNamespacedKey(e),r.prev=1,r.next=4,WT(o);case 4:l=r.sent,r.next=9;break;case 7:r.prev=7,r.t0=r.catch(1);case 9:if(l){r.next=11;break}return r.abrupt("return");case 11:if(a=new Date,!(l.expires&&l.expires<a)){r.next=16;break}return r.next=15,this.delete(e);case 15:return r.abrupt("return");case 16:return r.abrupt("return",l.value);case 17:case"end":return r.stop()}},n,this,[[1,7]])}))}},{key:"delete",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){var o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=this.getNamespacedKey(e),a.prev=1,a.next=4,GT(o);case 4:a.next=8;break;case 6:a.prev=6,a.t0=a.catch(1);case 8:case"end":return a.stop()}},n,this,[[1,6]])}))}},{key:"cleanExpired",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function e(){var n,o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=this,a.next=3,this.getAllKeys();case 3:return o=a.sent,a.next=6,Promise.all(o.map(function(s){return On(n,null,_regeneratorRuntime.default.mark(function r(){return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",this.get(s));case 1:case"end":return d.stop()}},r,this)}))}));case 6:case"end":return a.stop()}},e,this)}))}},{key:"getAllKeys",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function e(){var n,o,l,a,s,r,c,d,h;return _regeneratorRuntime.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return n=this,o=[],v.prev=2,v.next=5,XT();case 5:o=v.sent,v.next=10;break;case 8:v.prev=8,v.t0=v.catch(2);case 10:for(l=[],a=!0,s=!1,r=void 0,v.prev=12,c=o[Symbol.iterator]();!(a=(d=c.next()).done);a=!0)h=d.value,typeof h=="string"&&l.push(h);v.next=20;break;case 16:v.prev=16,v.t1=v.catch(12),s=!0,r=v.t1;case 20:v.prev=20,v.prev=21,!a&&c.return!=null&&c.return();case 23:if(v.prev=23,!s){v.next=26;break}throw r;case 26:return v.finish(23);case 27:return v.finish(20);case 28:return v.abrupt("return",l.filter(function(_){return _.startsWith(n.namespace)}).map(function(_){return n.removeNamespace(_)}));case 29:case"end":return v.stop()}},e,this,[[2,8],[12,16,20,28],[21,,23,27]])}))}},{key:"getNamespacedKey",value:function(e){return"".concat(this.namespace,"-").concat(e)}},{key:"removeNamespace",value:function(e){return e.replace("".concat(this.namespace,"-"),"")}}]),m}()}}),tE,nE,rE=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-info@1.3.5/esnext/icon-info.js":function(){vn(),vn(),tE=St(_templateObject473()),nE=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return tE}}],[{key:"styles",get:function(){return Lt(_templateObject474())}}]),e}(Vn),customElements.define("ia-icon-info",nE)}}),fk=Mt({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/html.js":function(){kd()}}),ro,Jo,Qr,Vc,Wf,pk,vk,gk,iE,oE,aE,qf,sE,lE,Gf,uE,cE,Yf,dE,hE,fE,pE,dl,mk,vE,gE,mE,yE,Xf,bE,wE,_E,kE,xE,SE,CE,Ni,AE,OE,jE,EE,io,TE,PE=Mt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-book-actions@1.4.0/esnext/ia-book-actions.mjs":function(){vn(),Rl(),Gu(),eE(),vn(),fk(),pf(),vn(),fk(),vn(),vn(),vn(),vn(),vn(),vn(),vn(),vn(),qh(),rE(),vn(),vn(),ro=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,null,[{key:"isInIframe",value:function(){var e;try{return window.self!==window.top}catch(n){return(e=window==null?void 0:window.Sentry)==null||e.captureException(n),!0}}},{key:"getRedirectUrl",value:function(){var e;return m.isInIframe()?e=window.top.location.href:e=window.location.href,e}},{key:"goToUrl",value:function(e,n){var o;m.isInIframe()&&n?o=window.top.location:o=window.location,o.href===e?o.reload():o.href=e}},{key:"isOnStreamPage",value:function(){return window.location.href.indexOf("/stream/")>-1}},{key:"getQueryParam",value:function(e){for(var n=window.location.search.substring(1).split("&"),o="",l=0;l<n.length;l+=1)if(o=n[l].split("="),o[0]===e)return o[1];return Rn}},{key:"getBackHref",value:function(){return window.location.href.replace(/[?&]{1}(?:admin|access)=1/,"")}},{key:"formatUrl",value:function(e,n){return/^https?:/.test(n)?n:"".concat(e).concat(n)}}]),m}(),Jo={disconnectedCallback:"IABookActions:disconnectedCallback",bookHasRenewed:"IABookActions:handleLoanAutoRenewed - book has renewed for next one hour",bookRenewFailed:"IABookActions:handleLoanRenewNow - failed to renew",browseHasExpired:"IABookActions:browseHasExpired - one-hour loan has been expired",bookWasExpired:"IABookActions:setupLendingToolbarActions - book was expired at intial, no tokenPoller",clearTokenPoller:"IABookActions:startLoanTokenPoller - clearing token poller interval",clearOneHourTimer:"IABookActions:timerCountdown - one-hour timer interval cleared",bookAccessed:"IABookActions:bookAccessed",handleLoanTokenPoller:"IABookActions:handleLoanTokenPoller",setConsecutiveLoanCounts:"IABookActions:setConsecutiveLoanCounts",actionsHandlerService:"IABookActions:actionsHandlerService"},Qr=location.hostname==="localhost"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org$/)||location.host.match(/\.code\.archive\.org$/)||location.host.match(/\.dev\.archive\.org$/)||location.host.match(/^ia-petabox-/)||location.host.match(/^internetarchive/)?console.log.bind(console):function(){},Vc={borrow:"BookReader-ReadingBorrow",browse:"BookReader-ReadingBrowse",preview:"BookReader-Preview",satisfactionMetric:"DetailsPage-Book",bookReaderHeader:"BookReader-Header",adminAccess:"Admin-Access"},Wf={browse:"Borrow-1Hour",browseAgain:"Borrow-Again",browseAutoRenew:"AutoRenewBook",browseAutoReturn:"AutoReturnBook",borrow:"Borrow-14Days",waitlistJoin:"JoinWaitlist",waitlistLeave:"LeaveWaitlist",doneBorrowing:"ReturnBook",login:"LogIn",purchase:"BWBPurchase",unavailable:"Book-Unavailable",printDisability:"Print-Disability",titleBar:"Book-Title-Bar"},pk=function(){"use strict";function m(){_classCallCheck(this,m),this.identifier=void 0,this.gaStats={}}return _createClass(m,[{key:"storeLoanStatsCount",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return On(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.identifier=e,s.prev=1,s.next=4,this.getLoanStatsCount(n);case 4:return l=new Date,l.setHours(l.getHours()+2),s.next=8,dd(this.getLoanCountStorageKey,JSON.stringify(this.lendingEventCounts),l,"/");case 8:s.next=13;break;case 10:s.prev=10,s.t0=s.catch(1),Qr(s.t0),this.sendEvent("Cookies-Error-Actions",s.t0,this.identifier);case 13:case"end":return s.stop()}},o,this,[[1,10]])}))}},{key:"getLoanStatsCount",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a,s,r,c,d,h,f,v,_,b,w,A;return _regeneratorRuntime.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.t0=JSON,O.next=4,QT(this.getLoanCountStorageKey);case 4:O.t1=O.sent,this.lendingEventCounts=O.t0.parse.call(O.t0,O.t1),this.gaStats=(o=this.lendingEventCounts)!=null?o:{browse:0,renew:0,expire:0},v=(a=(l=this.lendingEventCounts)==null?void 0:l.browse)!=null?a:0,_=(r=(s=this.lendingEventCounts)==null?void 0:s.renew)!=null?r:0,b=(d=(c=this.lendingEventCounts)==null?void 0:c.expire)!=null?d:0,O.t2=e,O.next=O.t2==="browse"?11:O.t2==="autorenew"?13:O.t2==="return"?15:17;break;case 11:return v=v?Number(v)+1:1,this.gaStats.browse=v,_=0,b=0,O.abrupt("break",18);case 13:return _=_?Number(_)+1:1,this.gaStats.renew=_,O.abrupt("break",18);case 15:return b=b?Number(b)+1:1,this.gaStats.expire=b,_=0,b=0,O.abrupt("break",18);case 17:return O.abrupt("break",18);case 18:this.lendingEventCounts={browse:v,renew:_,expire:b},w=Vc.browse,A="browse".concat(this.paddedNumber((h=this.gaStats)==null?void 0:h.browse),"-autorenew").concat(this.paddedNumber((f=this.gaStats)==null?void 0:f.renew),":").concat(e),this.sendEvent(w,A,this.identifier);case 21:case"end":return O.stop()}},n,this)}))}},{key:"paddedNumber",value:function(e){return e?e.toString().padStart(3,"0"):"000"}},{key:"getLoanCountStorageKey",get:function(){return"br-browse-".concat(this.identifier)}},{key:"sendEvent",value:function(e,n,o,l){var a;(a=window==null?void 0:window.archive_analytics)==null||a.send_event_no_sampling(e,n,o||this.identifier,l)}}]),m}(),vk=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.waitUntillBorrowComplete=6,n.loanAnanlytics=new pk,n.bindEvents(),_possibleConstructorReturn(n)}return _createClass(e,[{key:"bindEvents",value:function(){var o=this;this.addEventListener("browseBook",function(){return On(o,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.handleBrowseIt(),r.next=4,(a=this.loanAnanlytics)==null?void 0:a.storeLoanStatsCount(this.identifier,"browse");case 4:case"end":return r.stop()}},l,this)}))}),this.addEventListener("browseBookAgain",function(){return On(o,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.handleBrowseIt(),r.next=4,(a=this.loanAnanlytics)==null?void 0:a.storeLoanStatsCount(this.identifier,"browseagain");case 4:case"end":return r.stop()}},l,this)}))}),this.addEventListener("autoRenew",function(){return On(o,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.handleLoanRenewNow(),r.next=4,(a=this.loanAnanlytics)==null?void 0:a.storeLoanStatsCount(this.identifier,"autorenew");case 4:case"end":return r.stop()}},l,this)}))}),this.addEventListener("autoReturn",function(){return On(o,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.handleReturnIt(),r.next=4,(a=this.loanAnanlytics)==null?void 0:a.storeLoanStatsCount(this.identifier,"autoreturn");case 4:case"end":return r.stop()}},l,this)}))}),this.addEventListener("returnNow",function(l){var a=l.detail,s,r;if((a==null?void 0:a.borrowType)==="browse"&&((s=o.loanAnanlytics)==null||s.storeLoanStatsCount(o.identifier,"return")),o.handleReturnIt("returnNow"),(a==null?void 0:a.borrowType)==="borrow"){var c=a.event,d=c.category,h=c.action;(r=o.loanAnanlytics)==null||r.sendEvent(d,h,o.identifier)}}),this.addEventListener("borrowBook",function(l){var a=l.detail,s;o.handleBorrowIt();var r=a.event,c=r.category,d=r.action;(s=o.loanAnanlytics)==null||s.sendEvent(c,d,o.identifier)}),this.addEventListener("loginAndBorrow",function(l){var a=l.detail,s;o.handleLoginOk();var r=a.event,c=r.category,d=r.action;(s=o.loanAnanlytics)==null||s.sendEvent(c,d,o.identifier)}),this.addEventListener("leaveWaitlist",function(l){var a=l.detail,s;o.handleRemoveFromWaitingList();var r=a.event,c=r.category,d=r.action;(s=o.loanAnanlytics)==null||s.sendEvent(c,d,o.identifier)}),this.addEventListener("joinWaitlist",function(l){var a=l.detail,s;o.handleReserveIt();var r=a.event,c=r.category,d=r.action;(s=o.loanAnanlytics)==null||s.sendEvent(c,d,o.identifier)}),this.addEventListener("purchaseBook",function(l){var a=l.detail,s,r=a.event,c=r.category,d=r.action;(s=o.loanAnanlytics)==null||s.sendEvent(c,d,o.identifier)}),this.addEventListener("adminAccess",function(l){var a=l.detail,s,r=a.event,c=r.category,d=r.action;(s=o.loanAnanlytics)==null||s.sendEvent(c,d,o.identifier),o.setStickyAdminAccess(!0);var h=new URL(window.location.href);h.searchParams.append("admin",1),window.location.search=h.search}),this.addEventListener("exitAdminAccess",function(l){var a=l.detail,s,r=a.event,c=r.category,d=r.action;(s=o.loanAnanlytics)==null||s.sendEvent(c,d,o.identifier),o.setStickyAdminAccess(!1)}),this.addEventListener("bookTitleBar",function(l){var a=l.detail,s,r=a.event,c=r.category,d=r.action;(s=o.loanAnanlytics)==null||s.sendEvent(c,d,o.identifier)})}},{key:"handleBrowseIt",value:function(){var o=this,l="browse_book";this.dispatchToggleActionGroup(),Es({action:l,identifier:this.identifier,success:function(){o.setBrowseTimeSession(),o.handleReadItNow()},error:function(a){o.dispatchActionError(l,a)}})}},{key:"handleLoanRenewNow",value:function(){var o=this,l="renew_loan";Es({action:l,identifier:this.identifier,success:function(a){var s;Qr("RENEW_LOAN --- ",a,l,a.loan,o.identifier);var r=a.loan?a.loan:void 0,c=r.renewal;r&&c?o.setBrowseTimeSession():(Qr("RENEW_LOAN ERROR --- ",{action:l,isRenewal:c,activeLoan:r,data:a,id:o.identifier}),(s=window==null?void 0:window.Sentry)==null||s.captureMessage("".concat(Jo.bookRenewFailed," - Error: ").concat(JSON.stringify(a))),o.dispatchActionError(l,{data:a,error:!0,message:"Loan renewal failed: no loan active."})),o.dispatchEvent(new CustomEvent("loanAutoRenewed",{detail:{action:l,data:oi(Dr({},a),{loan:r})}}))},error:function(a){o.dispatchActionError(l,a)}})}},{key:"handleReturnIt",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=this,a="return_loan";o==="returnNow"&&this.dispatchToggleActionGroup(),Es({action:a,identifier:this.identifier,success:function(){l.deleteLoanCookies(),o==="returnNow"&&ro.goToUrl(l.returnUrl,!0)},error:function(s){l.dispatchActionError(a,s)}})}},{key:"handleBorrowIt",value:function(){var o=this,l="borrow_book";this.dispatchToggleActionGroup(),Es({action:l,identifier:this.identifier,success:function(){o.handleReadItNow()},error:function(a){o.dispatchActionError(l,a)}})}},{key:"handleReserveIt",value:function(){var o=this,l="join_waitlist";this.dispatchToggleActionGroup(),Es({action:l,identifier:this.identifier,success:function(){ro.goToUrl(ro.getRedirectUrl(),!0)},error:function(a){o.dispatchActionError(l,a)}})}},{key:"handleRemoveFromWaitingList",value:function(){var o=this,l="leave_waitlist";this.dispatchToggleActionGroup(),Es({action:l,identifier:this.identifier,success:function(){ro.goToUrl(ro.getRedirectUrl(),!0)},error:function(a){o.dispatchActionError(l,a)}})}},{key:"dispatchActionError",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a;(a=this.loanAnanlytics)==null||a.sendEvent("LendingServiceError",o),this.dispatchEvent(new CustomEvent("lendingActionError",{detail:{action:o,data:l}}))}},{key:"dispatchToggleActionGroup",value:function(){this.dispatchEvent(new CustomEvent("toggleActionGroup"))}},{key:"handleLoginOk",value:function(){var o="/account/login?referer=".concat(encodeURIComponent(ro.getRedirectUrl()));ro.goToUrl(o,!0)}},{key:"handleReadItNow",value:function(o){var l=new URLSearchParams(window.location.search);if(o){var a=new URLSearchParams(o),s=!0,r=!1,c=void 0;try{for(var d=a.entries()[Symbol.iterator](),h;!(s=(h=d.next()).done);s=!0){var f=_slicedToArray(h.value,2),v=f[0],_=f[1];l.append(v,_)}}catch(E){r=!0,c=E}finally{try{!s&&d.return!=null&&d.return()}finally{if(r)throw c}}}var b=l.toString(),w=b?"?".concat(b):"",A=window.location.origin+window.location.pathname+w;setTimeout(function(){ro.goToUrl(A,!0)},this.waitUntillBorrowComplete*1e3)}},{key:"setBrowseTimeSession",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,l=new Date(new Date().getTime()+this.loanTotalTime*1e3),s.next=4,this.localCache.set({key:"".concat(this.identifier,"-loanTime"),value:l,ttl:Number(this.loanTotalTime)});case 4:return s.next=6,this.localCache.delete("".concat(this.identifier,"-pageChangedTime"));case 6:s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),Qr(s.t0);case 11:case"end":return s.stop()}},o,this,[[0,8]])}))}},{key:"deleteLoanCookies",value:function(){var o=new Date;o.setTime(o.getTime()-24*60*60*1e3),dd("loan-".concat(this.identifier,'=""'),"",o,"/",".archive.org"),dd("br-loan-".concat(this.identifier,'=""'),"",o,"/",".archive.org")}},{key:"setStickyAdminAccess",value:function(o){var l=window.location.hostname==="localhost"?"localhost":".archive.org";dd("sticky-admin-access",o,"","/",l)}}]),e}(Vn),gk=Lt(_templateObject475()),iE=Lt(_templateObject476()),oE=Lt(_templateObject477()),aE=Lt(_templateObject478()),qf=Lt(_templateObject479()),sE=Lt(_templateObject480()),lE=Lt(_templateObject481()),Gf=Lt(_templateObject482()),uE=Lt(_templateObject483()),cE=Lt(_templateObject484()),Yf=Lt(_templateObject485()),dE=Lt(_templateObject486()),hE=Lt(_templateObject487()),fE=Lt(_templateObject488()),pE=Lt(_templateObject489(),gk,gk,iE,oE,hE,fE,aE,sE,qf,qf,qf,lE,uE,Gf,Gf,Gf,cE,dE,Yf,Yf,Yf),dl=Lt(_templateObject490()),mk=Lt(_templateObject491()),vE=Lt(_templateObject492()),gE=Lt(_templateObject493(),dl,dl,mk,dl,vE,mk,dl,dl,dl),mE=St(_templateObject494()),yE=St(_templateObject495()),Xf=St(_templateObject496()),bE=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.userid="",n.identifier="",n.primaryActions=[],n.secondaryActions=[],n.primaryColor="",n.dropdownState="close",n.width=0,n.hasAdminAccess=!1,n.dropdownArrow=Xf,n.initialButton=!1,n.title="",n.loaderIcon="https://archive.org/upload/images/tree/loading.gif",n.disabled=!1,n.returnUrl="",n.autoRenew=!1,n.autoReturn=!1,n.returnNow=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){(o.has("width")||o.has("disabled"))&&this.isBelowTabletContainer&&this.resetActions(),o.has("autoRenew")&&this.autoRenew&&this.dispatchLoanEvent("autoRenew");var l=o.has("autoReturn")&&this.autoReturn;l&&this.dispatchLoanEvent("autoReturn"),o.has("returnNow")&&this.returnNow&&!l&&this.dispatchLoanEvent("returnNow",{borrowType:"browse"})}},{key:"dispatchLoanEvent",value:function(o,l){this.dispatchEvent(new CustomEvent(o,{detail:l}))}},{key:"resetActions",value:function(){this.primaryActions.length&&(this.primaryActions=this.primaryActions.concat(this.secondaryActions),this.primaryColor=this.primaryActions[0].className,this.hasAdminAccess&&this.sortActionButtonOrder(),this.secondaryActions=[])}},{key:"sortActionButtonOrder",value:function(){var o=1,l=0;this.secondaryActions.length===2&&(o=2),o=this.primaryActions.length-o;var a=this.primaryActions[o],s=this.primaryActions;s.splice(o,1),s.splice(l,0,a),this.primaryActions=s}},{key:"render",value:function(){return St(_templateObject497(),bu({actiongroup:!0,disabled:this.disabled}),this.getLoaderIcon,this.renderPrimaryActions,this.renderSecondaryActions)}},{key:"renderPrimaryActions",get:function(){return this.primaryActions.length===0?Rn:(this.dropdownState==="close"&&(this.primaryColor=this.primaryActions[0].className),this.primaryActions.length===1?this.initialActionTemplate:St(_templateObject498(),this.initialActionTemplate,this.primaryColor,this.toggleDropdown,this.dropdownArrow,this.dropdownState,this.getPrimaryItems))}},{key:"renderSecondaryActions",get:function(){var o=this;return this.secondaryActions.length?this.secondaryActions.map(function(l){return o.renderActionButton(l)}):Rn}},{key:"renderActionLink",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this;return St(_templateObject499(),this.getDeviceType,o.className,o.className,l?"initial":"",o.url,o.target,function(){a.clickHandler(o.id,o.analyticsEvent,o==null?void 0:o.borrowType)},o.id==="purchaseBook"?mE:"",o.text,o.subText)}},{key:"renderActionButton",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this;if(o.url)return this.renderActionLink(o,l);var s=o.analyticsEvent;return St(_templateObject500(),o.className,l?"initial":"",function(){a.clickHandler(o.id,s,o==null?void 0:o.borrowType)},o.text)}},{key:"clickHandler",value:function(o,l){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";if(this.dropdownState="close",this.dropdownArrow=Xf,!(!l||!o)){var s=l.category,r=l.action;this.dispatchEvent(new CustomEvent(o,{detail:{event:{category:s,action:r},borrowType:a}}))}}},{key:"initialActionTemplate",get:function(){return this.initialButton=!1,this.primaryActions.length>1&&(this.initialButton=!0),this.renderActionButton(this.primaryActions[0],this.initialButton)}},{key:"getPrimaryItems",get:function(){var o=this;return this.primaryActions.slice(1).map(function(l){return St(_templateObject501(),o.renderActionButton(l,o.initialButton))})}},{key:"getLoaderIcon",get:function(){return St(_templateObject502(),bu({actionloader:!0,disabled:this.disabled}),this.loaderIcon)}},{key:"isBelowTabletContainer",get:function(){return this.width<=800}},{key:"getDeviceType",get:function(){return this.isBelowTabletContainer?"mobile":"desktop"}},{key:"toggleDropdown",value:function(){this.dropdownState==="open"?(this.dropdownState="close",this.dropdownArrow=Xf,this.primaryColor=this.primaryActions[0].className):(this.dropdownState="open",this.dropdownArrow=yE,this.primaryColor="dark")}}],[{key:"properties",get:function(){return{userid:{type:String},identifier:{type:String},primaryActions:{type:Array},secondaryActions:{type:Array},primaryColor:{type:String},dropdownState:{type:String},width:{type:Number},hasAdminAccess:{type:Boolean},dropdownArrow:{type:String},disabled:{type:Boolean},returnUrl:{type:String},autoRenew:{type:Boolean},autoReturn:{type:Boolean},returnNow:{type:Boolean}}}},{key:"styles",get:function(){return[pE,gE]}}]),e}(vk),window.customElements.define("collapsible-action-group",bE),wE=St(_templateObject503()),_E=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.identifier="",n.bookTitle="",n.analyticsCategories=Vc,n.analyticsActions=Wf,_possibleConstructorReturn(n)}return _createClass(e,[{key:"clickHandler",value:function(){var o={category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.titleBar},l=o.category,a=o.action;this.dispatchEvent(new CustomEvent("bookTitleBar",{detail:{event:{category:l,action:a}}}))}},{key:"render",value:function(){var o=this;return St(_templateObject504(),function(){o.clickHandler()},this.identifier,wE,this.bookTitle)}}],[{key:"properties",get:function(){return{identifier:{type:String},bookTitle:{type:String}}}},{key:"styles",get:function(){return Lt(_templateObject505())}}]),e}(vk),window.customElements.define("book-title-bar",_E),kE=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.texts="",n.textClass="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return St(_templateObject506(),this.textClass,this.texts)}}],[{key:"properties",get:function(){return{texts:{type:String},textClass:{type:String}}}},{key:"styles",get:function(){return Lt(_templateObject507())}}]),e}(Vn),window.customElements.define("text-group",kE),xE=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.iconClass="",n.helpURL="https://help.archive.org/help/borrowing-from-the-lending-library",_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return St(_templateObject508(),this.iconClass,this.helpURL)}},{key:"getInfoIcon",get:function(){return So(_templateObject509(),uy(this.icon))}}],[{key:"properties",get:function(){return{iconClass:{type:String}}}},{key:"styles",get:function(){return Lt(_templateObject510())}}]),e}(Vn),window.customElements.define("info-icon",xE),SE=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.secondsLeftOnLoan=0,n.displayTime=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"minutesLeftOnLoan",get:function(){var o=Math.round(this.secondsLeftOnLoan);return o=Math.ceil(o/60),o<10?o="0:0".concat(o):o===60?o="1:00":o="0:".concat(o),o}},{key:"remainingTime",get:function(){var o="minute",l=this.minutesLeftOnLoan;return l!==1?"".concat(l," ").concat(o,"s"):"".concat(l," ").concat(o)}},{key:"render",value:function(){var o=this,l=this.displayTime?"view":"hide";return St(_templateObject511(),l,function(){o.displayTime=!o.displayTime},this.minutesLeftOnLoan,Number(this.secondsLeftOnLoan),this.remainingTime)}}],[{key:"properties",get:function(){return{secondsLeftOnLoan:{type:Number},displayTime:{type:Boolean}}}},{key:"styles",get:function(){return Lt(_templateObject512())}}]),e}(Vn),window.customElements.define("timer-countdown",SE),window.IALendingIntervals={tokenPoller:0,timerCountdown:0,browseExpireTimeout:0,clearTokenPoller:function(){window.clearInterval(window.IALendingIntervals.tokenPoller),window.IALendingIntervals.tokenPoller=0},clearTimerCountdown:function(){window.clearInterval(window.IALendingIntervals.timerCountdown),window.IALendingIntervals.timerCountdown=0},clearBrowseExpireTimeout:function(){window.clearTimeout(window.IALendingIntervals.browseExpireTimeout),window.IALendingIntervals.browseExpireTimeout=0},clearAll:function(){var m,t,e;(m=window==null?void 0:window.IALendingIntervals)==null||m.clearTokenPoller(),(t=window==null?void 0:window.IALendingIntervals)==null||t.clearTimerCountdown(),(e=window==null?void 0:window.IALendingIntervals)==null||e.clearBrowseExpireTimeout()}},CE=function(){"use strict";function m(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,m),this.userid=t,this.identifier=e,this.lendingStatus=n,this.bwbPurchaseUrl=o,this.printDisabilityLink="/details/printdisabled?tab=about",this.analyticsCategories=Vc,this.analyticsActions=Wf}return _createClass(m,[{key:"firstBrowseConfig",value:function(){return{id:"browseBook",text:"Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.browse}}}},{key:"browseAgainConfig",value:function(){return{id:"browseBookAgain",text:"Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.browse,action:this.analyticsActions.browseAgain}}}},{key:"returnBookConfig",value:function(){return{id:"returnNow",text:"Return now",className:"danger",analyticsEvent:{category:this.lendingStatus.user_has_browsed?this.analyticsCategories.browse:this.analyticsCategories.borrow,action:this.analyticsActions.doneBorrowing},borrowType:this.lendingStatus.user_has_browsed?"browse":"borrow"}}},{key:"borrowBookConfig",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return!this.lendingStatus.available_to_borrow&&!this.lendingStatus.user_is_printdisabled||this.lendingStatus.user_has_borrowed?null:{id:"borrowBook",text:"Borrow for 14 days",className:"primary",disabled:e,analyticsEvent:{category:this.lendingStatus.user_has_browsed?this.analyticsCategories.browse:this.analyticsCategories.preview,action:this.analyticsActions.borrow}}}},{key:"loginAndBorrowBookConfig",value:function(){return{id:"loginAndBorrow",text:"Log In and Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.login}}}},{key:"leaveWaitlistConfig",value:function(){return{id:"leaveWaitlist",text:"Leave Waitlist",className:"dark",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.waitlistLeave}}}},{key:"loginAndWaitlistConfig",value:function(){return{id:"loginAndWaitlist",text:"Log In and Join Waitlist",className:"warning",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.login}}}},{key:"waitlistConfig",value:function(){var e=!!this.userid,n=this.lendingStatus||{};return!n.available_to_waitlist||n.available_to_borrow?null:e?{id:"joinWaitlist",text:"Join Waitlist",className:"warning",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.waitlistJoin}}:this.loginAndWaitlistConfig()}},{key:"purchaseConfig",value:function(){return this.bwbPurchaseUrl?{id:"purchaseBook",text:"Purchase at ",subText:"Better World Books",title:"Purchase",url:this.bwbPurchaseUrl,target:"_blank",className:"purchase dark",analyticsEvent:{category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.purchase}}:null}},{key:"printDisabilityConfig",value:function(){return this.lendingStatus.user_is_printdisabled?null:{id:"printDisability",text:"Print Disability Access",title:"Print Disability Access",url:this.printDisabilityLink,target:"_self",className:"print-disability",analyticsEvent:{category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.printDisability}}}},{key:"adminAccessConfig",value:function(){return this.lendingStatus.user_has_borrowed||!this.lendingStatus.isAdmin?null:{id:"adminAccess",text:"Admin Access",title:"You have administrative privileges to read this book",className:"danger",analyticsEvent:{category:this.analyticsCategories.adminAccess,action:this.analyticsActions.borrow}}}},{key:"adminOrPrintDisabledExitConfig",value:function(){return{id:"exitAdminAccess",text:"\u2190 Exit ".concat(ro.getQueryParam("admin")==="1"?"admin":"print-disabled"," access mode"),url:ro.getBackHref(),target:"_self",className:"exit-admin",analyticsEvent:{category:this.analyticsCategories.adminAccess,action:this.analyticsActions.doneBorrowing}}}},{key:"unavailableBookConfig",value:function(){return{id:"borrowUnavailable",text:"Borrow Unavailable",className:"primary unavailable",disabled:!0,analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.unavailable}}}},{key:"isEmbed",value:function(e){return{primaryTitle:"<img src=/images/glogo-jw.png> <a href=/details/".concat(this.identifier,">").concat(e,"</a>"),primaryActions:[],primaryColor:""}}}]),m}(),Ni={available_1hr:"Renews automatically with continued use.",available_14d:"This book can be borrowed for 14 days.",available_pd:"Book available to patrons with print disabilities.",available_waitlist:"A waitlist is available.",admin_access:"You have administrative privileges to read this book.",claim_waitlist:"You are at the top of the waitlist for this book.",being_borrowed:"Another patron is using this book. Please check back later.",eligible_pd:"You are eligible for print-disabled access.",on_waitlist:"You are on the waitlist for this book.",session_expired:"Renews automatically with continued use.",unavailable:"This book is not available at this time."},AE=function(){"use strict";function m(t,e,n,o){_classCallCheck(this,m),this.userid=t,this.identifier=e,this.lendingStatus=n,this.bwbPurchaseUrl=o,this.analyticsCategories=Vc,this.analyticsActions=Wf,this.actionsConfig=new CE(this.userid,this.identifier,this.lendingStatus,this.bwbPurchaseUrl)}return _createClass(m,[{key:"onlyAdminAction",value:function(){return{primaryTitle:Ni.admin_access,primaryActions:[],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"adminOrPrintDisabledReadingAction",value:function(){return{primaryTitle:"",primaryActions:[],secondaryActions:[this.actionsConfig.adminOrPrintDisabledExitConfig()],borrowType:"adminBorrowed"}}},{key:"patronIsReadingAction",value:function(){var e=this.lendingStatus||{},n=e.loanCount>=e.maxLoans,o="",l=e.user_has_browsed&&!e.browsingExpired;return l?o=Ni.available_1hr:o="Your loan of this book has ".concat(e.daysLeftOnLoan," days left."),{primaryTitle:o,primaryActions:[this.actionsConfig.returnBookConfig(),this.actionsConfig.borrowBookConfig(n),this.actionsConfig.waitlistConfig(),this.actionsConfig.printDisabilityConfig()],primaryColor:"danger",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()],borrowType:l?"browsed":"borrowed"}}},{key:"claimWaitlistAction",value:function(){var e=this.lendingStatus||{},n=this.actionsConfig.leaveWaitlistConfig(),o=this.actionsConfig.borrowBookConfig(),l=e.available_to_browse?this.actionsConfig.firstBrowseConfig():null,a=[o];return l&&a.push(l),a.push(n),{primaryTitle:Ni.claim_waitlist,primaryActions:a,primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"borrowPrintDisabledAction",value:function(){return{primaryTitle:Ni.eligible_pd,primaryActions:[this.actionsConfig.borrowBookConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"onlyPrintDisabledAction",value:function(){var e=this.lendingStatus.isAdmin?[]:this.actionsConfig.unavailableBookConfig();return{primaryTitle:Ni.available_pd,primaryActions:[e],primaryColor:"primary",secondaryActions:[]}}},{key:"onWaitlistAction",value:function(){return{primaryTitle:Ni.on_waitlist,primaryActions:[this.actionsConfig.leaveWaitlistConfig(),this.actionsConfig.firstBrowseConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"restrictedAction",value:function(){var e=this.lendingStatus||{};return{primaryTitle:e.max_browsable_copies&&!e.available_lendable_copies?Ni.being_borrowed:Ni.unavailable,primaryActions:[this.actionsConfig.unavailableBookConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"loggedOutOptions",value:function(){var e=this.lendingStatus||{},n=!e.available_to_waitlist&&!e.available_to_borrow,o=this.actionsConfig.waitlistConfig(),l=null;e.available_to_borrow||e.available_to_browse?l=this.actionsConfig.loginAndBorrowBookConfig():n&&(l=this.actionsConfig.unavailableBookConfig());var a=this.actionsConfig.printDisabilityConfig(),s=[l,o,a].filter(function(r){return r!==null});return{primaryTitle:e.available_to_browse?Ni.available_1hr:e.available_to_borrow?Ni.available_14d:Ni.unavailable,primaryActions:s,primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"borrow1HrAction",value:function(){var e=this.lendingStatus||{},n=!e.available_to_browse&&e.browsingExpired,o=e.available_to_browse||n,l=o&&e.available_to_borrow,a=o&&!e.available_to_borrow&&e.available_to_waitlist,s=o&&!e.available_to_borrow&&!e.available_to_waitlist,r=e.available_browsable_copies<1&&e.available_browsable_copies<e.max_browsable_copies,c=n?Ni.session_expired:!o&&r?Ni.being_borrowed:!o&&e.available_to_waitlist?Ni.available_waitlist:Ni.available_1hr,d=n?this.actionsConfig.browseAgainConfig():this.actionsConfig.firstBrowseConfig(),h=this.actionsConfig.borrowBookConfig(),f=this.actionsConfig.waitlistConfig(),v=this.actionsConfig.printDisabilityConfig();return{primaryTitle:c,primaryActions:s?[d,v]:l?[d,h,v]:a?[d,f,v]:[],primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"borrowAction",value:function(){var e=this.lendingStatus||{};if(!this.userid)return this.loggedOutOptions();if(e.available_to_browse||e.browsingExpired)return this.borrow1HrAction();var n=null,o=this.actionsConfig.waitlistConfig(),l=this.actionsConfig.printDisabilityConfig(),a=e.loanCount>=e.maxLoans;!e.available_to_borrow&&!o?n=this.actionsConfig.unavailableBookConfig():e.available_to_borrow&&(n=this.actionsConfig.borrowBookConfig(a));var s=[n,o,l].filter(function(r){return r!==null});return{primaryTitle:o?Ni.being_borrowed:"",primaryActions:s,primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"getBrowseCountdownTitle",value:function(){var e=this.lendingStatus.secondsLeftOnLoan,n=new Date(+new Date+e*1e3),o=n.getHours()%12,l=(""+n.getMinutes()).replace(/^(\d{1})$/,"0$1"),a=n.getHours()>11?" PM":" AM";return o===0&&(o=12),"Borrow ends at "+o+":"+l+a}},{key:"getCurrentLendingActions",value:function(){var e,n=this.lendingStatus||{},o=ro.getQueryParam("admin")=="1"&&n.isAdmin,l=ro.getQueryParam("access")=="1"&&n.user_is_printdisabled,a=n.user_has_borrowed||n.user_has_browsed&&!n.browsingExpired,s=!n.user_has_borrowed&&!n.user_has_browsed,r=!n.available_to_borrow&&!n.available_to_browse,c=n.is_printdisabled&&n.user_is_printdisabled,d=(n.available_to_browse||n.available_to_borrow)&&s&&!n.user_on_waitlist;return o||l?e=this.adminOrPrintDisabledReadingAction():n.isAdmin&&s&&r?e=this.onlyAdminAction():a?e=this.patronIsReadingAction():n.user_can_claim_waitlist?e=this.claimWaitlistAction():c?e=this.borrowPrintDisabledAction():d||n.browsingExpired?e=this.borrowAction():n.isPrintDisabledOnly?e=this.onlyPrintDisabledAction():n.user_on_waitlist?e=this.onWaitlistAction():e=this.restrictedAction(),e}}]),m}(),OE=function(){"use strict";function m(t,e,n,o,l){_classCallCheck(this,m),this.identifier=t,this.borrowType=e,this.successCallback=n,this.errorCallback=o,this.pollerDelay=l,this.loanTokenInterval=void 0,this.loanAnalytics=new pk,this.bookAccessed()}return _createClass(m,[{key:"disconnectedCallback",value:function(){var e;(e=window==null?void 0:window.IALendingIntervals)==null||e.clearTokenPoller()}},{key:"bookAccessed",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function e(){var n,o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=this,this.borrowType?(this.handleLoanTokenPoller(!0),this.borrowType!=="adminBorrowed"&&(window.IALendingIntervals.tokenPoller=setInterval(function(){n.handleLoanTokenPoller()},this.pollerDelay*1e3))):((o=window==null?void 0:window.Sentry)==null||o.captureMessage("".concat(Jo.bookAccessed," - not borrowed")),this.disconnectedCallback());case 3:case"end":return a.stop()}},e,this)}))}},{key:"handleLoanTokenPoller",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return On(this,null,_regeneratorRuntime.default.mark(function n(){var o,l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:o=this,l="create_token",Es({identifier:this.identifier,action:l,error:function(r){var c,d;o.errorCallback({detail:{action:l,data:r}}),(c=window==null?void 0:window.Sentry)==null||c.captureMessage("".concat(Jo.handleLoanTokenPoller," - Error: ").concat(JSON.stringify(r))),(d=o.loanAnalytics)==null||d.sendEvent("LendingServiceLoanError",l,o.identifier)},success:function(){e&&o.successCallback()}});case 3:case"end":return s.stop()}},n,this)}))}}]),m}(),jE=function(){"use strict";function m(t,e,n,o){_classCallCheck(this,m),this.hasPageChanged=t,this.identifier=e,this.localCache=n,this.loanRenewTimeConfig=o,this.loanRenewMessage="This book has been renewed for #time #unitsOfTime.",this.loanReturnWarning="With no action, this book will be auto-returned in #time #unitsOfTime.",this.result={texts:null,renewNow:!1}}return _createClass(m,[{key:"handleLoanRenew",value:function(){try{return this.hasPageChanged?this.pageChanged():this.autoChecker()}catch(e){Qr(e)}return Rn}},{key:"pageChanged",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function e(){var n,o,l,a,s;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=this.loanRenewTimeConfig,o=n.loanRenewAtLast,l=new Date,c.next=5,this.localCache.get("".concat(this.identifier,"-loanTime"));case 5:return a=c.sent,s=this.changeTime(a,o,"sub"),c.abrupt("return",(s!==null&&l>=s&&(this.result.texts=this.loanRenewMessage,this.result.renewNow=!0),this.setPageChangedTime(),this.result));case 8:case"end":return c.stop()}},e,this)}))}},{key:"autoChecker",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function e(){var n,o,l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.loanRenewTimeConfig,o=n.pageChangedInLast,r.next=4,this.localCache.get("".concat(this.identifier,"-pageChangedTime"));case 4:return l=r.sent,a=this.changeTime(new Date,o,"sub"),r.abrupt("return",(l===void 0||l<=a?(this.result.texts=this.loanReturnWarning,this.result.renewNow=!1):l>=a&&(this.result.texts="",this.result.renewNow=!0),this.result));case 7:case"end":return r.stop()}},e,this)}))}},{key:"setPageChangedTime",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function e(){return _regeneratorRuntime.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.localCache.set({key:"".concat(this.identifier,"-pageChangedTime"),value:new Date,ttl:Number(this.loanRenewTimeConfig.loanTotalTime)});case 2:case"end":return o.stop()}},e,this)}))}},{key:"getMessageTexts",value:function(e,n){var o="minute",l=e,a=n;return a=Math.ceil(a/60),a>59&&(a=1,o="hour"),l=l==null?void 0:l.replace(/#time/,a),l==null?void 0:l.replace(/#unitsOfTime/,a!==1?"".concat(o,"s"):o)}},{key:"changeTime",value:function(e,n,o){return e===void 0?null:o==="sub"?new Date(e.getTime()-n*1e3):new Date(e.getTime()+n*1e3)}}]),m}(),EE={browseExpired:"IABookReader:BrowsingHasExpired"},io={iaButton:"min-height:3.5rem;cursor:pointer;color:white;border-radius:0.4rem;border:1px solid #c5d1df;padding:4px 8px;width:auto;user-select:none;",renew:"background:#194880;width:110px;",return:"background:#d9534f;width:120px;",loaderIcon:"display:inline-block;width:20px;height:20px;margin-top:2px;color:white;--activityIndicatorLoadingRingColor:#fff;--activityIndicatorLoadingDotColor:#fff;",refresh:"background:none;font-size:inherit;border:0;padding:0;color:#0000ee;cursor:pointer;text-decoration:underline"},TE=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.userid="",n.identifier="",n.bookTitle="",n.returnUrl="",n.lendingStatus={},n.width=0,n.bwbPurchaseUrl="",n.lendingBarPostInit=function(){},n.barType="action",n.sharedObserver=void 0,n.disableActionGroup=!1,n.tokenDelay=120,n.timerExecutionSeconds=30,n.postInitComplete=!1,n.primaryActions=[],n.primaryTitle="",n.primaryColor="primary",n.secondaryActions=[],n.lendingOptions={},n.borrowType=null,n.browseTimer=void 0,n.timeWhenTimerStart=void 0,n.returnNow=!1,n.loanRenewTimeConfig={loanTotalTime:3600,loanRenewAtLast:660,pageChangedInLast:900},n.loanRenewResult={texts:"",renewNow:!1,secondsLeft:0},_possibleConstructorReturn(n)}return _createClass(e,[{key:"disconnectedCallback",value:function(){var o;(o=window==null?void 0:window.IALendingIntervals)==null||o.clearAll(),this.sentryCaptureMsg(Jo.disconnectedCallback),this.disconnectResizeObserver()}},{key:"sentryCaptureMsg",value:function(o){var l;Qr(window==null?void 0:window.Sentry),(l=window==null?void 0:window.Sentry)==null||l.captureMessage(o)}},{key:"firstUpdated",value:function(){this.bindLoanRenewEvents(),this.localCache=new Zj({namespace:"loanRenew"}),this.sharedObserver||(this.sharedObserver=new Ha,this.setupResizeObserver())}},{key:"updated",value:function(o){(o.has("lendingStatus")||o.has("bwbPurchaseUrl"))&&this.setupLendingToolbarActions(),o.has("sharedObserver")&&(this.disconnectResizeObserver(),this.setupResizeObserver()),o.has("loanRenewResult")&&this.loanRenewResult.renewNow&&window.IALendingIntervals.clearAll()}},{key:"handleResize",value:function(o){var l=o.target;if(l===this.shadowRoot.host){var a=o.contentRect;this.width=Math.round(a.width)}}},{key:"disconnectResizeObserver",value:function(){var o;(o=this.sharedObserver)==null||o.removeObserver({handler:this,target:this.shadowRoot.host})}},{key:"setupResizeObserver",value:function(){var o;this.shadowRoot&&((o=this.sharedObserver)==null||o.addObserver({handler:this,target:this.shadowRoot.host}))}},{key:"setupLendingToolbarActions",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r,c,d,h;return _regeneratorRuntime.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(l=this,this.lendingOptions=new AE(this.userid,this.identifier,this.lendingStatus,this.bwbPurchaseUrl),d=this.lendingOptions.getCurrentLendingActions(),d){v.next=6;break}return v.abrupt("return");case 6:if(this.primaryTitle=d.primaryTitle,this.primaryActions=(a=d.primaryActions)==null?void 0:a.filter(function(_){return _!=null}),this.primaryColor=d.primaryColor,this.secondaryActions=(s=d.secondaryActions)==null?void 0:s.filter(function(_){return _!=null}),this.borrowType=d.borrowType?d.borrowType:null,h="browsingExpired"in this.lendingStatus&&((r=this.lendingStatus)==null?void 0:r.browsingExpired),!h){v.next=11;break}return Qr("setupLendingToolbarActions > hasExpired --- "),this.tokenPoller||this.sentryCaptureMsg(Jo.bookWasExpired),(c=window==null?void 0:window.IALendingIntervals)==null||c.clearAll(),this.dispatchEvent(new Event(EE.browseExpired,{bubbles:!0,cancelable:!1,composed:!0})),v.abrupt("return");case 11:if(v.t0=this.borrowType==="browsed",!v.t0){v.next=17;break}return v.next=15,this.startTimerCountdown();case 15:return v.next=17,this.startBrowseTimer();case 17:if(v.t0&&(v.sent,v.sent),!(!this.borrowType||this.barType==="title")){v.next=20;break}return this.lendingBarPostInit(),v.abrupt("return");case 20:setTimeout(function(){!h&&!window.IALendingIntervals.tokenPoller&&l.startLoanTokenPoller()},100),this.requestUpdate();case 21:case"end":return v.stop()}},o,this)}))}},{key:"bindLoanRenewEvents",value:function(){var o=this;window.addEventListener("BookReader:userAction",function(){Qr("IABookActions:BookReader:userAction"),o.borrowType==="browsed"&&o.autoLoanRenewChecker(!0)}),document.addEventListener("visibilitychange",function(){return On(o,null,_regeneratorRuntime.default.mark(function l(){var a,s;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(!document.hidden&&(Qr("visibilitychange event execute:------------------ ",new Date().getMinutes(),new Date().getSeconds(),this.borrowType),this.borrowType==="browsed"&&this.lendingStatus.browsingExpired===!1))){c.next=6;break}return c.next=3,this.localCache.get("".concat(this.identifier,"-loanTime"));case 3:a=c.sent,s=Math.round((a-new Date)/1e3),s>=this.timerExecutionSeconds?this.loanStatusCheckInterval(Number(s)):(this.browseHasExpired(),this.disconnectedCallback());case 6:case"end":return c.stop()}},l,this)}))})}},{key:"autoLoanRenewChecker",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return On(this,null,_regeneratorRuntime.default.mark(function l(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.loanRenewHelper=new jE(o,this.identifier,this.localCache,this.loanRenewTimeConfig),s.next=3,this.loanRenewHelper.handleLoanRenew();case 3:this.loanRenewResult=this.loanRenewHelper.result;case 4:case"end":return s.stop()}},l,this)}))}},{key:"modal",get:function(){var o=document.body.querySelector("modal-manager");return o==null||o.setAttribute("id","action-bar-modal"),o}},{key:"showWarningModal",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r,c,d,h,f;return _regeneratorRuntime.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return l=this,Qr("****** showWarningModal ******"),this.modal.customModalContent=Rn,(a=this.modal)==null||a.closeModal(),this.loanRenewResult={texts:"",renewNow:!1},c=this.loanRenewResult,d=c.secondsLeft,d===void 0?d=this.lendingStatus.secondsLeftOnLoan:d=d>60?d:60,h=new ha({headline:"Are you still reading?",headerColor:"#194880",showCloseButton:!1,closeOnBackdropClick:!1,message:(s=this.loanRenewHelper)==null?void 0:s.getMessageTexts(this.loanRenewResult.texts,d)}),f=St(_templateObject513(),io.iaButton,io.renew,function(){return l.patronWantsToRenewBook()},io.iaButton,io.return,function(){return l.patronWantsToReturnBook()}),this.modal.setAttribute("aria-live","assertive"),_.next=9,(r=this.modal)==null?void 0:r.showModal({config:h,customModalContent:f});case 9:case"end":return _.stop()}},o,this)}))}},{key:"showWarningDisabledModal",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"renewBook";return On(this,null,_regeneratorRuntime.default.mark(function l(){var a,s,r,c,d,h;return _regeneratorRuntime.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return r=this.loanRenewResult,c=r.secondsLeft,c===void 0?c=this.lendingStatus.secondsLeftOnLoan:c=c>60?c:60,d=new ha({headline:"Are you still reading?",headerColor:"#194880",showCloseButton:!1,closeOnBackdropClick:!1,message:(a=this.loanRenewHelper)==null?void 0:a.getMessageTexts(this.loanRenewResult.texts,c)}),h=St(_templateObject516(),io.iaButton,io.renew,o==="renewBook"?St(_templateObject514(),io.loaderIcon):"Keep reading",io.iaButton,io.return,o==="returnBook"?St(_templateObject515(),io.loaderIcon):"Return the book"),v.next=6,(s=this.modal)==null?void 0:s.showModal({config:d,customModalContent:h});case 6:case"end":return v.stop()}},l,this)}))}},{key:"patronWantsToRenewBook",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:this.showWarningDisabledModal(),this.loanRenewResult={texts:"",renewNow:!0};case 1:case"end":return a.stop()}},o,this)}))}},{key:"patronWantsToReturnBook",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:this.showWarningDisabledModal("returnBook"),document.querySelector("ia-book-actions").disableActionGroup=!0,this.returnNow=!0;case 1:case"end":return a.stop()}},o,this)}))}},{key:"showExpiredModal",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return l=this,s=new ha({headline:"",showCloseButton:!1,closeOnBackdropClick:!1,headerColor:"#194880",message:"This book has been returned due to inactivity."}),r=St(_templateObject517(),io.iaButton,io.renew,function(){ro.goToUrl(l.returnUrl,!0)}),d.next=5,(a=this.modal)==null?void 0:a.showModal({config:s,customModalContent:r});case 5:case"end":return d.stop()}},o,this)}))}},{key:"browseHasExpired",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return Qr("BrowseHasExpired ---"),(l=window==null?void 0:window.IALendingIntervals)==null||l.clearAll(),a=oi(Dr({},this.lendingStatus),{browsingExpired:!0,secondsLeftOnLoan:0}),this.lendingStatus=a,r.next=6,this.localCache.delete("".concat(this.identifier,"-loanTime"));case 6:return r.next=8,this.localCache.delete("".concat(this.identifier,"-pageChangedTime"));case 8:return this.loanRenewResult.renewNow=!1,this.loanRenewResult.texts="This book has been returned due to inactivity.",r.next=12,this.showExpiredModal();case 12:this.sentryCaptureMsg(Jo.browseHasExpired);case 13:case"end":return r.stop()}},o,this)}))}},{key:"startBrowseTimer",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r,c,d;return _regeneratorRuntime.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(l=this,(a=window==null?void 0:window.IALendingIntervals)==null||a.clearBrowseExpireTimeout(),s=this.lendingStatus,r=s.browsingExpired,c=s.user_has_browsed,d=s.secondsLeftOnLoan,!(!c||r)){f.next=7;break}return Qr("startBrowseTimer --- !user_has_browsed || browsingExpired",{user_has_browsed:c,browsingExpired:r,secondsLeftOnLoan:d}),f.abrupt("return");case 7:window.IALendingIntervals.browseExpireTimeout=setTimeout(function(){Qr("startBrowseTimer > browseExpireTimeout --- will expire loan",d),l.browseHasExpired()},d*1e3);case 8:case"end":return f.stop()}},o,this)}))}},{key:"render",value:function(){return this.barType==="title"?St(_templateObject518(),this.bookTitleBar):St(_templateObject519(),this.bookActionBar)}},{key:"bookTitleBar",get:function(){return St(_templateObject520(),this.identifier,this.bookTitle)}},{key:"timerCountdownEl",get:function(){return this.shadowRoot.querySelector("timer-countdown")}},{key:"bookActionBar",get:function(){return St(_templateObject521(),this.userid,this.identifier,this.primaryColor,this.primaryActions,this.secondaryActions,this.width,this.borrowType,this.returnUrl,this.localCache,this.loanRenewTimeConfig.loanTotalTime,this.hasAdminAccess,this.disableActionGroup,this.loanRenewResult.renewNow,this.lendingStatus.browsingExpired,this.returnNow,this.handleLoanAutoRenewed,this.handleLendingActionError,this.handleToggleActionGroup,this.textGroupTemplate,this.infoIconTemplate,Math.round(Number(this.lendingStatus.secondsLeftOnLoan)))}},{key:"handleLoanAutoRenewed",value:function(o){return On(this,arguments,_regeneratorRuntime.default.mark(function l(a){var s,r,c,d,h,f,v,_,b;return _regeneratorRuntime.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(s=a.detail,h=(r=s==null?void 0:s.data)==null?void 0:r.loan,f="Whoops, seems we hit a hiccup with renewing this book. Please refresh & retry. --- (Debug: ".concat((c=s==null?void 0:s.data)==null?void 0:c.error,")"),h){A.next=6;break}return this.showErrorModal(f,"handleLoanAutoRenewed"),A.abrupt("return");case 6:if(!this.loanRenewResult.renewNow){A.next=14;break}return A.next=9,this.localCache.get("".concat(this.identifier,"-loanTime"));case 9:v=A.sent,_=Math.round((v-new Date)/1e3),Qr(v,_),Qr("IABookActions: handleLoanAutoRenewed --- ",{ajaxResponse:s==null?void 0:s.data,loanRenewResult:this.loanRenewResult,secondsLeftOnLoan:_}),b=oi(Dr({},this.lendingStatus),{user_has_browsed:!0,browsingExpired:!1,secondsLeftOnLoan:_}),this.lendingStatus=b,(d=this.modal)==null||d.closeModal(),this.modal.removeAttribute("id"),this.modal.customModalContent=Rn,this.sentryCaptureMsg(Jo.bookHasRenewed);case 14:case"end":return A.stop()}},l,this)}))}},{key:"startTimerCountdown",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:l=this,(a=window==null?void 0:window.IALendingIntervals)==null||a.clearTimerCountdown(),s=Number(this.lendingStatus.secondsLeftOnLoan),this.timeWhenTimerStart=new Date,window.IALendingIntervals.timerCountdown=setInterval(function(){return On(l,null,_regeneratorRuntime.default.mark(function d(){return _regeneratorRuntime.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.loanStatusCheckInterval(s);case 2:case"end":return f.stop()}},d,this)}))},this.timerExecutionSeconds*1e3);case 5:case"end":return c.stop()}},o,this)}))}},{key:"loanStatusCheckInterval",value:function(o){return On(this,null,_regeneratorRuntime.default.mark(function l(){var a,s;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return a=o,a-=this.timerExecutionSeconds,a=Math.round(a),c.next=4,this.reSyncTimerIfGoneOff(a);case 4:if(s=c.sent,s.hasSynced&&(a=s.whatShouldLeft,Qr("startTimerCountdown --- stale, timer has resyncd",{secondsLeft:a})),Qr("startTimerCountdown --- countdown still valid. continue...",{resyncd:s,secondsLeft:a,loanRenewAtLast:this.loanRenewTimeConfig.loanRenewAtLast},"time: ",new Date().getMinutes(),":",new Date().getSeconds(),", timerDelay: ",this.timerExecutionSeconds),c.t0=a<=this.loanRenewTimeConfig.loanRenewAtLast,!c.t0){c.next=11;break}return c.next=11,this.loanRenewAttempt(a);case 11:a<=this.timerExecutionSeconds&&(this.disconnectedCallback(),this.sentryCaptureMsg(Jo.clearOneHourTimer));case 12:case"end":return c.stop()}},l,this)}))}},{key:"reSyncTimerIfGoneOff",value:function(o){return On(this,null,_regeneratorRuntime.default.mark(function l(){var a,s,r,c,d,h,f;return _regeneratorRuntime.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return a=new Date,s=a.getTime()/1e3-this.timeWhenTimerStart.getTime()/1e3,r=this.lendingStatus.secondsLeftOnLoan-s,Qr("currentTime: ",a),Qr("timeWhenTimerStart: ",this.timeWhenTimerStart),Qr("diffInSeconds: ",s),Qr("secondsShouldLeft: ",r),Qr("this.lendingStatus.secondsLeftOnLoan: ",this.lendingStatus.secondsLeftOnLoan),c=Math.round(o),d=Math.round(r),h=this.timerCountdownEl.secondsLeftOnLoan||0,Qr("reSyncTimerIfGoneOff?",{whatIsleft:c,whatShouldLeft:d,timerElSeconds:h,timeLeftInMin:Math.ceil(o/60)}),(h!==d||c!==d)&&(f=oi(Dr({},this.lendingStatus),{secondsLeftOnLoan:d}),this.lendingStatus=f),_.abrupt("return",c!==d?(Qr("reSyncTimerIfGoneOff --- let's re-sync."),{hasSynced:!0,whatShouldLeft:d}):{hasSynced:!1,whatShouldLeft:d});case 5:case"end":return _.stop()}},l,this)}))}},{key:"loanRenewAttempt",value:function(o){return On(this,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(Qr("loanRenewAttempt ---",{secondsLeft:o,loanRenewResult:this.loanRenewResult}),a=o,!(a<50)){r.next=7;break}return Qr("loanRenewAttempt --- loanSecondsLeft < 50, will expire"),r.next=6,this.browseHasExpired();case 6:return r.abrupt("return");case 7:return r.next=9,this.autoLoanRenewChecker(!1);case 9:this.loanRenewResult.renewNow===!1&&(a-=60,this.loanRenewResult.secondsLeft=a,this.showWarningModal());case 10:case"end":return r.stop()}},l,this)}))}},{key:"startLoanTokenPoller",value:function(){var o=this,l=function(){o.postInitComplete||o.lendingBarPostInit(),o.postInitComplete=!0},a=function(s){o.handleLendingActionError(s)};this.tokenPoller=new OE(this.identifier,this.borrowType,l,a,this.tokenDelay)}},{key:"handleToggleActionGroup",value:function(){this.disableActionGroup=!this.disableActionGroup}},{key:"handleLendingActionError",value:function(o){var l,a,s,r;this.disableActionGroup=!1,(l=window==null?void 0:window.IALendingIntervals)==null||l.clearAll();var c=(a=o==null?void 0:o.detail)==null?void 0:a.action,d=(r=(s=o==null?void 0:o.detail)==null?void 0:s.data)==null?void 0:r.error;if(d&&c!=="create_token"&&this.showErrorModal(d,c),c==="create_token"){var h=oi(Dr({},this.lendingStatus),{user_has_browsed:!1,available_to_browse:!0});this.lendingStatus=h}if(d&&d.match(/not available to borrow/gm)){var f=this.lendingStatus;c==="browse_book"?f=oi(Dr({},this.lendingStatus),{available_to_browse:!1}):c==="borrow_book"&&(f=oi(Dr({},this.lendingStatus),{available_to_borrow:!1})),this.lendingStatus=f}}},{key:"showErrorModal",value:function(o,l){return On(this,null,_regeneratorRuntime.default.mark(function a(){var s,r,c;return _regeneratorRuntime.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return r=new ha({title:"Lending error",message:o,headerColor:"#d9534f",showCloseButton:!0}),l==="create_token"&&(c=St(_templateObject522(),io.refresh,function(){return window.location.reload(!0)}),r.message=St(_templateObject523(),c,this.identifier,o)),h.next=5,(s=this.modal)==null?void 0:s.showModal({config:r});case 5:case"end":return h.stop()}},a,this)}))}},{key:"iconClass",get:function(){return this.width<=700?"mobile":"desktop"}},{key:"textClass",get:function(){return this.width>=700?"visible":"hidden"}},{key:"infoIconTemplate",get:function(){return St(_templateObject524(),this.iconClass)}},{key:"textGroupTemplate",get:function(){return this.primaryTitle?St(_templateObject525(),this.textClass,this.primaryTitle):Rn}},{key:"hasAdminAccess",get:function(){return!this.lendingStatus.userHasBorrowed&&this.lendingStatus.isAdmin}}],[{key:"properties",get:function(){return{userid:{type:String},identifier:{type:String},bookTitle:{type:String},lendingStatus:{type:Object},returnUrl:{type:String},width:{type:Number},bwbPurchaseUrl:{type:String},lendingBarPostInit:{type:Function,attribute:!1},barType:{type:String},sharedObserver:{attribute:!1},disableActionGroup:{type:Boolean},modal:{Object:Object},tokenDelay:{type:Number},timerExecutionSeconds:{type:Number},localCache:{type:Object},loanRenewTimeConfig:{type:Object},loanRenewResult:{type:Object}}}},{key:"styles",get:function(){return Lt(_templateObject526())}}]),e}(Vn),window.customElements.define("ia-book-actions",TE)}}),BI=Mt({"https-url:https://esm.archive.org/@internetarchive/ia-book-actions@1.4.0":function(){vn(),Rl(),Gu(),eE(),qh(),rE(),fk(),pf(),PE(),PE()}}),IE={};ai(IE,{IaBookTheater:function(){return yk}});var yk,NI=Mt({"components/ia-book-theater/ia-book-theater.js":function(){PA(),Lv(),uo(),BI(),yn("** ia-book-actions loaded 1.4.0 **"),yk=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.item=void 0,n.baseHost="",n.signedIn=null,n.viewportInFullscreen=!1,n.sharedObserver=void 0,n.manifest=null,n.actionBarHeightPx=0,n.primaryReaderHeightPx=0,n}return _createClass(e,[{key:"firstUpdated",value:function(){var o,l=(o=document.querySelector(".js-ia-metadata"))==null?void 0:o.value;l&&(this.item=JSON.parse(l)),this.loadObserver()}},{key:"modal",get:function(){return document.querySelector("modal-manager")}},{key:"itemNav",get:function(){return this.shadowRoot.querySelector("ia-item-navigator")}},{key:"loadObserver",value:function(){this.sharedObserver=new Ha}},{key:"manageFullscreen",value:function(o){var l,a=(l=o.detail)==null?void 0:l.fullscreen;this.viewportInFullscreen=a||null}},{key:"setMenuShortcuts",value:function(o){this.menuShortcuts=_toConsumableArray(o.detail)}},{key:"setMenuContents",value:function(o){var l=_toConsumableArray(o.detail);this.menuContents=l}},{key:"manageSideMenuEvents",value:function(o){var l=o.detail,a=l.menuId,s=l.action;a&&(s==="open"?(this.itemNav.openShortcut(a),this.openShortcut(a)):s==="toggle"&&(this.itemNav.openMenu(a),this.itemNav.toggleMenu()))}},{key:"render",value:function(){return au(_templateObject528(),this.item,this.baseHost,this.signedIn,this.sharedObserver,this.modal,this.manageFullscreen)}}],[{key:"properties",get:function(){return{item:{type:Object},baseHost:{type:String},signedIn:{converter:function(o){return o==="false"?null:o==="true"||o===!0}},viewportInFullscreen:{type:Boolean,reflect:!0},sharedObserver:{attribute:!1},manifest:{type:Object}}}},{key:"styles",get:function(){return wy(_templateObject527())}}]),e}(el),customElements.define("ia-book-theater",yk),yn("** ia-book-theater defined **")}}),zI={},FI=Mt({"www/sf/bookreader/SearchInsideAccess.js":function(){ca.prototype.init=function(){this.initiateRequest()},ca.prototype.grantAccess=function(){this.startTimer();var m=this.requestCount===1&&this.postInitCB;m&&this.postInitCB()},ca.prototype.requestError=function(m){if(typeof archive_analytics!="undefined"){var t=m.responseJSON?m.responseJSON.error.replace(/\s/g,"_"):"unknown",e="BRSearchInsideToken-ReqErr-"+m.status+"-From-"+t;window.Sentry&&m.status>=400&&window.Sentry.captureMessage(e)}this.clearTimer(),this.requestCount<this.maxRequests?this.initiateRequest():this.postInitCB({errorMessage:this.tokenErrorMessage})},ca.prototype.initiateRequest=function(){this.requestCount=this.requestCount+1,this.requestAccess()},ca.prototype.requestAccess=function(){if(this.hasValidLoanToken()){this.grantAccess();return}$.ajax({url:"/services/loans/loan/searchInside.php",type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:{action:"grant_access",identifier:this.bookId}}).then(function(m){this.grantAccess()}.bind(this),function(m){this.requestError(m)}.bind(this))},ca.prototype.clearTimer=function(){clearInterval(this.poller),this.poller=null},ca.prototype.startTimer=function(){this.clearTimer(),this.poller=setInterval(this.initiateRequest.bind(this),this.maxAge)},ca.prototype.hasValidLoanToken=function(){var m="loan-"+this.bookId,t;try{t=document.cookie}catch(e){t=""}return t.indexOf(m)>-1},window.SearchInsideAccess=ca}}),HI={},UI=Mt({"www/sf/bookreader/BookReaderJSIA.js":function(){window.BookReaderJSIAinit=function(){var m=function(d,h,f){var v=h||{};return jQuery.extend(!0,v,t(d)),jQuery.extend(!0,v,e(d)),jQuery.extend(!0,v,n(d)),jQuery.extend(!0,v,o(d)),v.bookUrl=d.bookUrl,d.lendingInfo.isOpenLibraryLending?(v.bookUrlText=v.bookTitle+"<br>&larr; Back to book details on Open Library",v.bookUrlTitle="Go to this book's page on Open Library",v.bookUrlMoreInfo="More information on Open Library"):(v.bookUrlText=v.bookTitle+"<br>&larr; Back to item details",v.bookUrlTitle="Go to this book's page on Archive.org",v.bookUrlMoreInfo="More information on Archive.org"),v.imagesBaseURL="https://esm.archive.org/@internetarchive/bookreader@5.0.0-80/BookReader/images/",v.olHost=d.olHost,v.protected=d.lendingInfo.shouldProtectImages,v.thumbnail="//archive.org/download/"+d.id+"/page/cover_t.jpg",v.enableExperimentalControls=!0,v.enablePageResume=!0,isNaN(parseInt(v.defaultStartLeaf))||(v.titleLeaf=v.defaultStartLeaf),f&&jQuery.extend(v,f),v},t=function(d){var h={},f=[],v=Array(d.metadata.title).join(", ");if(v&&f.push({label:"Title",value:v,extraValueClass:"larger"}),d.metadata.creator&&f.push({label:"Author",value:Array(d.metadata.creator).join(", "),extraValueClass:"larger"}),d.metadata.publishDate&&f.push({label:"Publish Data",value:d.metadata.publishDate,extraValueClass:""}),d.metadata.collection&&d.metadata.collection.length>0){var _=$.map(d.metadata.collection,function(w){return'<a href="/details/'+w+'">'+w+"</a>"}).join(", ");f.push({label:"Collections",value:_,extraValueClass:""})}if(d.metadata.sponsor&&d.metadata.contributor&&d.metadata.sponsor==d.metadata.contributor?f.push({label:"Sponsor &amp; Contributor",value:d.metadata.sponsor,extraValueClass:""}):(d.metadata.sponsor&&f.push({label:"Sponsor",value:d.metadata.sponsor,extraValueClass:""}),d.metadata.contributor&&f.push({label:"Contributor",value:d.metadata.contributor,extraValueClass:""})),h.metadata=f,d.metadata.language){var b=typeof d.metadata.language=="string"?d.metadata.language:d.metadata[0]?d.metadata[0]:null;h.bookLanguage=b}return h},e=function(d){var h={},f={};return d.lendingInfo.loanId&&(f.loanId=d.lendingInfo.loanId),h.lendingInfo=f,h},n=function(d){var h={},f=function(_,b){var w="https://"+window.location.host+"/stream/"+d.id;return d.subPrefix!=d.id&&(w+="/"+urlencodePath(d.subPrefix)),w+="?ui=embed",typeof b!="undefined"&&(w+="#"+_.fragmentFromParams(b)),w};return h.getEmbedCode=function(v,_,b){return"<iframe src='"+f(this,b)+"' width='"+v+"' height='"+_+"' frameborder='0' ></iframe>"},h},o=function(d){var h=[],f=BookReader.prototype.getPageURI;return h.getPageURI=function(v,_,b){typeof _=="undefined"&&(_=1),typeof b=="undefined"&&(b=0),_=Math.pow(2,Math.floor(Math.log2(Math.max(1,_))));var w=f.call(this,v,_,b);return w?(w=w+(w.indexOf("?")>-1?"&":"?"),w=w+"scale="+_+"&rotate="+b,w):""},h},l=function(d){var h=BookReader.prototype.getResumeValue;BookReader.prototype.getResumeValue=function(){var v=null;return d.lendingInfo.userid&&BookReader.docCookies&&(v=BookReader.docCookies.getItem("br-resume-"+d.lendingInfo.userid)),v===null&&(v=h?h.call(this):0),v!==null&&(v=parseInt(v)),v};var f=BookReader.prototype.updateResumeValue;BookReader.prototype.updateResumeValue=function(v){var _=d.lendingInfo.userid?"br-resume-"+d.lendingInfo.userid:null;f.call(this,v,_)}},a=function(d){if(CustomEvent){var h=new CustomEvent("BRJSIA:PostInit",{bubbles:!0,captures:!0,detail:d});document.dispatchEvent(h)}},s=function(d,h){if(CustomEvent){var f=d.lendingStatus,v=new CustomEvent("LendingFlow:PostInit",{bubbles:!0,captures:!0,detail:{downloadTypesAvailable:h||[],lendingStatus:f||{},isAdmin:d.isAdmin}});document.dispatchEvent(v)}},r=function(d,h,f,v){var _=h,b=h.lendingStatus;_=Object.assign({},_,b),_.lendingStatus="";var w=_.isOpenLibraryLending||document.referrer&&document.referrer.includes("openlibrary.org")?"https://openlibrary.org/account/loans":"/details/"+f.bookId,A=document.querySelector("ia-book-actions");A||(A=document.createElement("ia-book-actions")),A.userid=_.userid,A.identifier=f.bookId,A.bookTitle=f.bookTitle,A.lendingStatus=_,A.bwbPurchaseUrl=f.purchaseUrl,A.barType=v||"action",A.lendingBarPostInit=d,A.returnUrl=w,A.classList.add("focus-on-child-only");var E={loanTotalTime:3600,loanRenewAtLast:660,pageChangedInLast:900};A.loanRenewTimeConfig=E;var O=document.querySelector("#IABookReaderMessageWrapper");O?(O.appendChild(A),O.style.display=""):d()};return function(c,d){var h=c.data,f=c.brOptions,v=c.lendingInfo,_=v.lendingStatus||{},b=c.metadata;h.lendingInfo=v,h.metadata=b,window.onerror=logError;var w=m(h,f,d);if(!BookReader.version&&window.Sentry){Sentry.captureMessage("BookReader.version not defined"),alert("You have a really old version of BookReader that we no longer support.");return}l(h);var A=new BookReader(w);window.br=A;var E=v.isPrintDisabledOnly||h.isRestricted&&!_.is_login_required||v.isLendingRequired&&v.isBrowserBorrowable;window.Sentry&&(Sentry.setTag("br_version",BookReader.version),Sentry.setTag("borrowable_book",E));var O=!E,P=w.ui==="embed";E&&$("<link>",{rel:"stylesheet",type:"text/css",href:"/bookreader/print.css",media:"print"}).appendTo("head"),a({brVersion:BookReader.version,downloadURLs:h.downloadUrls,isRestricted:h.isRestricted});var y=function(){setTimeout(function(){A.init()},100)},u=function(){setTimeout(function(){s(v,h.downloadUrls),y()},100)};if(O){y(),P&&r(function(){},v,w,"title");return}var p=function(k){k&&typeof k!="undefined"&&k.errorMessage==="no access token"&&(A.options.enableSearch=!1);var x=P?"title":"action";r(u,v,w,x)};window.SearchInsideAccess?(this.searchInside=new SearchInsideAccess(A,b.identifier,p),this.searchInside.init()):p(),window.Sentry&&Sentry.setContext("Lending info",{available_to_browse:_.available_to_browse||"",available_to_borrow:_.available_to_borrow||"",available_to_waitlist:_.available_to_waitlist||"",user_has_browsed:_.user_has_browsed||"",user_has_borrowed:_.user_has_borrowed||"",user_on_waitlist:_.user_on_waitlist||"",user_can_claim_waitlist:_.user_can_claim_waitlist||""})}}()}});bp(),Cr(),vn(),Or(),qu(),$5(),Gu(),tv(),nh(),pa(),pi(),uo();function ME(){var m=function(){Z("#theatre-ia-wrap").removeClass("flagged"),Z(".bookreader-playlist-container").removeClass("hide")};Z(".toggle-flag-overlay").on("click",function(t){t.preventDefault(),m()}),Z("#flag-checkboxes a").on("click",function(e){e.preventDefault(),Z(this).children(".my-checkbox").toggleClass("checked"),Z.get(Z(this).attr("href")),m()}),JT()&&Xr.get("logged-in-user")!==void 0&&(Z("#flag-popover li").on("click",function(){return Z(this).find("a").trigger("click"),!1}),Z("#flag-popover a").on("click",function(e){e.preventDefault();var n=Z("#item-flags-popup"),o=Z(this),l=Z(o).parent();return Z(l).toggleClass("selected"),Z(n).removeClass("open"),Z.getJSON("".concat(Z(this).attr("href"),"&no_chrome=1"),function(a){var s=Z(a.button);Z(n).replaceWith(s),Z("#flag-button-container").html(a.button),Z("#flag-overlay").html(a.overlay),a.has_flags?Z("#theatre-ia-wrap").addClass("flagged"):Z("#theatre-ia-wrap").removeClass("flagged"),ME()}),!1}))}Z(document).ready(function(){yn("initialize item flags"),ME()}),uo(),vn(),Or(),oc();var LE={INITIAL:0,PENDING:1,COMPLETE:2,ERROR:3},bk=Symbol(),VI=function(){"use strict";function m(t,e,n){_classCallCheck(this,m);var o,l,a;this.u=0,this.status=0,(this.p=t).addController(this);var s=typeof e=="object"?e:{task:e,args:n};this._=s.task,this.v=s.args,this.j=(o=s.argsEqual)!=null?o:WI,this.m=s.onComplete,this.g=s.onError,this.autoRun=(l=s.autoRun)!=null?l:!0,"initialValue"in s&&(this.l=s.initialValue,this.status=2,this.k=(a=this.A)==null?void 0:a.call(this))}return _createClass(m,[{key:"taskComplete",get:function(){var e=this;return this.t||(this.status===1?this.t=new Promise(function(n,o){e.i=n,e.o=o}):this.status===3?this.t=Promise.reject(this.h):this.t=Promise.resolve(this.l)),this.t}},{key:"hostUpdate",value:function(){this.autoRun===!0&&this.O()}},{key:"hostUpdated",value:function(){this.autoRun==="afterUpdate"&&this.O()}},{key:"A",value:function(){if(this.v!==void 0){var e=this.v();if(!Array.isArray(e))throw Error("The args function must return an array");return e}}},{key:"O",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function e(){var n,o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=this.A(),o=this.k,this.k=n,a.t0=n===o||n===void 0||o!==void 0&&this.j(o,n),a.t0){a.next=6;break}return a.next=6,this.run(n);case 6:case"end":return a.stop()}},e,this)}))}},{key:"run",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a,s,r,c,d,h,f,v;return _regeneratorRuntime.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return o=this,e!=null||(e=this.A()),this.k=e,this.status===1?(l=this.T)==null||l.abort():(this.t=void 0,this.i=void 0,this.o=void 0),this.status=1,this.autoRun==="afterUpdate"?queueMicrotask(function(){return o.p.requestUpdate()}):this.p.requestUpdate(),f=++this.u,this.T=new AbortController,v=!1,b.prev=7,b.next=10,this._(e,{signal:this.T.signal});case 10:d=b.sent,b.next=16;break;case 13:b.prev=13,b.t0=b.catch(7),v=!0,h=b.t0;case 16:if(this.u===f){if(d===bk)this.status=0;else{if(v===!1){try{(a=this.m)==null||a.call(this,d)}catch(w){}this.status=2,(s=this.i)==null||s.call(this,d)}else{try{(r=this.g)==null||r.call(this,h)}catch(w){}this.status=3,(c=this.o)==null||c.call(this,h)}this.l=d,this.h=h}this.p.requestUpdate()}case 17:case"end":return b.stop()}},n,this,[[7,13]])}))}},{key:"abort",value:function(e){var n;this.status===1&&((n=this.T)==null||n.abort(e))}},{key:"value",get:function(){return this.l}},{key:"error",get:function(){return this.h}},{key:"render",value:function(e){var n,o,l,a;switch(this.status){case 0:return(n=e.initial)==null?void 0:n.call(e);case 1:return(o=e.pending)==null?void 0:o.call(e);case 2:return(l=e.complete)==null?void 0:l.call(e,this.value);case 3:return(a=e.error)==null?void 0:a.call(e,this.error);default:throw Error("Unexpected status: "+this.status)}}}]),m}(),WI=function(m,t){return m===t||m.length===t.length&&m.every(function(e,n){return!ah(e,t[n])})};vn(),Or();var wk,Kf=window,Eu=Kf.trustedTypes,RE=Eu?Eu.createPolicy("lit-html",{createHTML:function(m){return m}}):void 0,_k="$lit$",ws="lit$".concat((Math.random()+"").slice(9),"$"),DE="?"+ws,qI="<".concat(DE,">"),hl=document,Qf=function(){return hl.createComment("")},Wc=function(m){return m===null||typeof m!="object"&&typeof m!="function"},$E=Array.isArray,GI=function(m){return $E(m)||typeof(m==null?void 0:m[Symbol.iterator])=="function"},kk="[ 	\n\f\r]",qc=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,BE=/-->/g,NE=/>/g,fl=RegExp(">|".concat(kk,"(?:([^\\s\"'>=/]+)(").concat(kk,"*=").concat(kk,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),zE=/'/g,FE=/"/g,HE=/^(?:script|style|textarea|title)$/i,UE=function(m){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:m,strings:t,values:n}}},YM=UE(1),XM=UE(2),Gc=Symbol.for("lit-noChange"),Mi=Symbol.for("lit-nothing"),VE=new WeakMap,pl=hl.createTreeWalker(hl,129,null,!1),YI=function(m,t){for(var e=m.length-1,n=[],o,l=t===2?"<svg>":"",a=qc,s=0;s<e;s++){for(var r=m[s],c=void 0,d=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,d=a.exec(r),d!==null);)f=a.lastIndex,a===qc?d[1]==="!--"?a=BE:d[1]!==void 0?a=NE:d[2]!==void 0?(HE.test(d[2])&&(o=RegExp("</"+d[2],"g")),a=fl):d[3]!==void 0&&(a=fl):a===fl?d[0]===">"?(a=o!=null?o:qc,h=-1):d[1]===void 0?h=-2:(h=a.lastIndex-d[2].length,c=d[1],a=d[3]===void 0?fl:d[3]==='"'?FE:zE):a===FE||a===zE?a=fl:a===BE||a===NE?a=qc:(a=fl,o=void 0);var v=a===fl&&m[s+1].startsWith("/>")?" ":"";l+=a===qc?r+qI:h>=0?(n.push(c),r.slice(0,h)+_k+r.slice(h)+ws+v):r+ws+(h===-2?(n.push(void 0),s):v)}return[c5(m,l+(m[e]||"<?>")+(t===2?"</svg>":"")),n]},xk=function(){"use strict";function m(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,m);var l;this.parts=[];var a=0,s=0,r=n.length-1,c=this.parts,d=_slicedToArray(YI(n,o),2),h=d[0],f=d[1];if(this.el=m.createElement(h,e),pl.currentNode=this.el.content,o===2){var v,_=this.el.content,b=_.firstChild;b.remove(),(v=_).append.apply(v,_toConsumableArray(b.childNodes))}for(;(l=pl.nextNode())!==null&&c.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var w=[],A=!0,E=!1,O=void 0;try{for(var P=l.getAttributeNames()[Symbol.iterator](),y;!(A=(y=P.next()).done);A=!0){var u=y.value;if(u.endsWith(_k)||u.startsWith(ws)){var p=f[s++];if(w.push(u),p!==void 0){var g=l.getAttribute(p.toLowerCase()+_k).split(ws),k=/([.?@])?(.*)/.exec(p);c.push({type:1,index:a,name:k[2],strings:g,ctor:k[1]==="."?KI:k[1]==="?"?JI:k[1]==="@"?ZI:Jf})}else c.push({type:6,index:a})}}}catch(V){E=!0,O=V}finally{try{!A&&P.return!=null&&P.return()}finally{if(E)throw O}}var x=!0,j=!1,L=void 0;try{for(var D=w[Symbol.iterator](),F;!(x=(F=D.next()).done);x=!0){var X=F.value;l.removeAttribute(X)}}catch(V){j=!0,L=V}finally{try{!x&&D.return!=null&&D.return()}finally{if(j)throw L}}}if(HE.test(l.tagName)){var Q=l.textContent.split(ws),H=Q.length-1;if(H>0){l.textContent=Eu?Eu.emptyScript:"";for(var ce=0;ce<H;ce++)l.append(Q[ce],Qf()),pl.nextNode(),c.push({type:2,index:++a});l.append(Q[H],Qf())}}}else if(l.nodeType===8)if(l.data===DE)c.push({type:2,index:a});else for(var ne=-1;(ne=l.data.indexOf(ws,ne+1))!==-1;)c.push({type:7,index:a}),ne+=ws.length-1;a++}}return _createClass(m,null,[{key:"createElement",value:function(e,n){var o=hl.createElement("template");return o.innerHTML=e,o}}]),m}();function Tu(m,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===Gc)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,c=Wc(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(m),r._$AT(m,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=Tu(m,r._$AS(m,t.values),r,n)),t}var XI=function(){"use strict";function m(t,e){_classCallCheck(this,m),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(m,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:hl).importNode(a,!0);pl.currentNode=r;for(var c=pl.nextNode(),d=0,h=0,f=s[0];f!==void 0;){if(d===f.index){var v=void 0;f.type===2?v=new WE(c,c.nextSibling,this,e):f.type===1?v=new f.ctor(c,f.name,f.strings,this,e):f.type===6&&(v=new eM(c,this,e)),this._$AV.push(v),f=s[++h]}d!==(f==null?void 0:f.index)&&(c=pl.nextNode(),d++)}return pl.currentNode=hl,r}},{key:"v",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,n),n+=c.strings.length-2):c._$AI(e[n])),n++}}catch(d){l=!0,a=d}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),m}(),WE=function(){"use strict";function m(t,e,n,o){_classCallCheck(this,m);var l;this.type=2,this._$AH=Mi,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(m,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=Tu(this,e,n),Wc(e)?e===Mi||e==null||e===""?(this._$AH!==Mi&&this._$AR(),this._$AH=Mi):e!==this._$AH&&e!==Gc&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):GI(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Mi&&Wc(this._$AH)?this._$AA.nextSibling.data=e:this.$(hl.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=xk.createElement(c5(l.h,l.h[0]),this.options)),l);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.v(o);else{var s=new XI(a,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=VE.get(e.strings);return n===void 0&&VE.set(e.strings,n=new xk(e)),n}},{key:"T",value:function(e){$E(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(a=(d=c.next()).done);a=!0){var h=d.value;l===n.length?n.push(o=new m(this.k(Qf()),this.k(Qf()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),m}(),Jf=function(){"use strict";function m(t,e,n,o,l){_classCallCheck(this,m),this.type=1,this._$AH=Mi,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Mi}return _createClass(m,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=Tu(this,e,n,0),s=!Wc(e)||e!==this._$AH&&e!==Gc,s&&(this._$AH=e);else{var r=e,c,d;for(e=a[0],c=0;c<a.length-1;c++)d=Tu(this,r[o+c],n,c),d===Gc&&(d=this._$AH[c]),s||(s=!Wc(d)||d!==this._$AH[c]),d===Mi?e=Mi:e!==Mi&&(e+=(d!=null?d:"")+a[c+1]),this._$AH[c]=d}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===Mi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),m}(),KI=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Mi?void 0:o}}]),e}(Jf),QI=Eu?Eu.emptyScript:"",JI=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Mi?this.element.setAttribute(this.name,QI):this.element.removeAttribute(this.name)}}]),e}(Jf),ZI=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=Tu(this,o,l,0))!==null&&a!==void 0?a:Mi)!==Gc){var s=this._$AH,r=o===Mi&&s!==Mi||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,c=o!==Mi&&(s===Mi||r);r&&this.element.removeEventListener(this.name,this,s),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(Jf),eM=function(){"use strict";function m(t,e,n){_classCallCheck(this,m),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(m,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){Tu(this,e)}}]),m}(),qE=Kf.litHtmlPolyfillSupport;qE==null||qE(xk,WE),((wk=Kf.litHtmlVersions)!==null&&wk!==void 0?wk:Kf.litHtmlVersions=[]).push("2.8.0");var GE=function(m){return m!=null?m:Mi};vn(),vn(),vn(),Or();var tM=So(_templateObject529()),nM=So(_templateObject530()),zi=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.open=!1,n.isDisabled=!1,n.displayCaret=!1,n.closeOnSelect=!1,n.openViaButton=!0,n.openViaCaret=!0,n.includeSelectedOption=!1,n.selectedOption="",n.options=[],n.optionGroup="options",n.optionSelected=function(){},n.isCustomList=!1,n.hasCustomClickHandler=!1,n.closeOnEscape=!1,n.closeOnBackdropClick=!1,n.boundKeyboardListener=function(o){switch(o.key){case"Escape":case"Esc":n.closeOptions();break;default:break}},n.closeOptions=function(o){o&&o.type==="click"&&o.stopPropagation(),n.open=!1},n.handlingCaretClick=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"firstUpdated",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,new Promise(function(s){return setTimeout(s,0)});case 2:this.addEventListener("closeDropdown",this.closeOptions);case 3:case"end":return a.stop()}},o,this)}))}},{key:"disconnectedCallback",value:function(){var o;(o=_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this))===null||o===void 0||o.call(this),this.removeKeyboardListener()}},{key:"setupKeyboardListener",value:function(){this.closeOnEscape&&document.addEventListener("keydown",this.boundKeyboardListener)}},{key:"removeKeyboardListener",value:function(){this.closeOnEscape&&document.removeEventListener("keydown",this.boundKeyboardListener)}},{key:"dropdownState",get:function(){return this.open?(this.setupKeyboardListener(),"open"):(this.removeKeyboardListener(),"closed")}},{key:"toggleOptions",value:function(){this.open=!this.open}},{key:"mainButtonClicked",value:function(){if(this.handlingCaretClick){this.handlingCaretClick=!1;return}this.openViaButton&&this.toggleOptions()}},{key:"caretInteracted",value:function(){this.openViaCaret&&this.toggleOptions()}},{key:"caretClicked",value:function(){this.handlingCaretClick=!0,this.caretInteracted()}},{key:"caretKeyDown",value:function(o){(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),this.caretInteracted())}},{key:"renderOption",value:function(o){var l=this,a=o.label,s=o.url,r=s===void 0?void 0:s,c=o.id,d,h=this.selectedOption===c?"selected":"";return r?d=St(_templateObject531(),r,function(f){return l.optionClicked(f,o)},a):d=St(_templateObject532(),function(f){return l.optionClicked(f,o)},a),St(_templateObject533(),h,d)}},{key:"optionClicked",value:function(o,l){var a;o.stopPropagation(),this.selectedOption!==l.id&&(this.selectedOption=l.id,this.dispatchEvent(new CustomEvent("optionSelected",{detail:{option:l}})),(a=l.selectedHandler)===null||a===void 0||a.call(l,l)),this.closeOnSelect&&this.closeOptions()}},{key:"availableOptions",get:function(){var o=this;return this.includeSelectedOption?this.options:this.options.filter(function(l){return o.selectedOption!==l.id})}},{key:"caretTemplate",get:function(){if(!this.displayCaret)return St(_templateObject534());var o=this.openViaCaret&&!this.openViaButton?"0":void 0,l=this.openViaCaret?"button":void 0;return St(_templateObject535(),GE(o),GE(l),this.isDisabled||this.hasCustomClickHandler?Rn:this.caretClicked,this.isDisabled||this.hasCustomClickHandler?Rn:this.caretKeyDown,!this.open,tM,this.open,nM)}},{key:"dropdownTemplate",get:function(){var o=this;return this.isCustomList?St(_templateObject536()):St(_templateObject537(),this.availableOptions.map(function(l){return o.renderOption(l)}))}},{key:"backdropTemplate",get:function(){return this.closeOnBackdropClick?this.open?St(_templateObject538(),this.closeOptions,this.closeOptions):St(_templateObject539()):St(_templateObject540())}},{key:"render",value:function(){return St(_templateObject541(),this.isDisabled||this.hasCustomClickHandler?Rn:this.mainButtonClicked,this.isDisabled,this.optionGroup,this.caretTemplate,this.dropdownState,this.dropdownTemplate,this.backdropTemplate)}}],[{key:"styles",get:function(){var o=Lt(_templateObject542()),l=Lt(_templateObject543()),a=Lt(_templateObject544()),s=Lt(_templateObject545()),r=Lt(_templateObject546()),c=Lt(_templateObject547()),d=Lt(_templateObject548());return Lt(_templateObject549(),r,r,s,o,o,o,o,a,l,l,l,l,c,c,c,d,d,c,d,s,s,s,r)}}]),e}(Vn);Tr([Kt({type:Boolean,reflect:!0})],zi.prototype,"open",void 0),Tr([Kt({type:Boolean,reflect:!0})],zi.prototype,"isDisabled",void 0),Tr([Kt({type:Boolean})],zi.prototype,"displayCaret",void 0),Tr([Kt({type:Boolean})],zi.prototype,"closeOnSelect",void 0),Tr([Kt({type:Boolean})],zi.prototype,"openViaButton",void 0),Tr([Kt({type:Boolean})],zi.prototype,"openViaCaret",void 0),Tr([Kt({type:Boolean})],zi.prototype,"includeSelectedOption",void 0),Tr([Kt({type:String})],zi.prototype,"selectedOption",void 0),Tr([Kt({attribute:!1})],zi.prototype,"options",void 0),Tr([Kt({type:String})],zi.prototype,"optionGroup",void 0),Tr([Kt({attribute:!1})],zi.prototype,"optionSelected",void 0),Tr([Kt({type:Boolean,reflect:!0})],zi.prototype,"isCustomList",void 0),Tr([Kt({type:Boolean,reflect:!0})],zi.prototype,"hasCustomClickHandler",void 0),Tr([Kt({type:Boolean,reflect:!0})],zi.prototype,"closeOnEscape",void 0),Tr([Kt({type:Boolean,reflect:!0})],zi.prototype,"closeOnBackdropClick",void 0),zi=Tr([Mr("ia-dropdown")],zi);var Sk=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return St(_templateObject550())}}]),e}(Vn);Sk.styles=Lt(_templateObject551()),Sk=Tr([Mr("ia-icon-label")],Sk),vn(),Or(),vn(),Cr(),yo();var Ck=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"parseValue",value:function(e){return typeof e=="string"&&(e==="false"||e==="0")?!1:!!e}}]),m}();Ck.shared=new Ck;var Zf=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"parseValue",value:function(e){if(typeof e=="number")return e;if(typeof e!="boolean"){var n=parseFloat(e);if(!Number.isNaN(n))return n}}}]),m}();Zf.shared=new Zf;var Ak=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"parseValue",value:function(e){return Zf.shared.parseValue(e)}}]),m}();Ak.shared=new Ak;var Ok=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"parseValue",value:function(e){return this.parseJSDate(e)||this.parseBracketDate(e)}},{key:"parseBracketDate",value:function(e){if(typeof e=="string"){var n=e.match(/\[([0-9]{4})\]/);if(!(!n||n.length<2))return this.parseJSDate(n[1])}}},{key:"parseJSDate",value:function(e){if(typeof e=="string"){var n=e;n.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s{1}[0-9]{2}:[0-9]{2}:[0-9]{2}$/)&&(n=n.replace(" ","T"));var o=Date.parse(n);if(!Number.isNaN(o)){var l=new Date(n);return(n.indexOf("Z")>-1||n.indexOf("+")>-1||n.match(/^[0-9]{4}$/)||n.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)||n.match(/^.*?-[0-9]{2}:[0-9]{2}$/)||n.match(/^.*?-[0-9]{4}$/))&&(l=new Date(l.getTime()+l.getTimezoneOffset()*1e3*60)),l}}}}]),m}();Ok.shared=new Ok;var jk=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"parseValue",value:function(e){if(typeof e=="number")return e;if(typeof e!="boolean"){var n=e.split(":"),o;return n.length===1?o=this.parseNumberFormat(n[0]):o=this.parseColonSeparatedFormat(n),o}}},{key:"parseNumberFormat",value:function(e){var n=parseFloat(e);return Number.isNaN(n)&&(n=void 0),n}},{key:"parseColonSeparatedFormat",value:function(e){var n=!1,o=e.map(function(l,a){var s=parseFloat(l);if(Number.isNaN(s))return n=!0,0;var r=ki(60,e.length-1-a);return s*Math.floor(r)}).reduce(function(l,a){return l+a},0);return n?void 0:o}}]),m}();jk.shared=new jk;var Ek=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"parseValue",value:function(e){if(typeof e=="string")return e}}]),m}();Ek.shared=new Ek;var rM=function(){"use strict";function m(t,e){_classCallCheck(this,m),this.separators=[";",","],this.parser=t,e&&e.separators&&(this.separators=e.separators)}return _createClass(m,[{key:"parseValue",value:function(e){var n=String(e),o=[],l=!0,a=!1,s=void 0;try{for(var r=this.separators[Symbol.iterator](),c;!(l=(c=r.next()).done);l=!0){var d=c.value;if(o=n.split(d),o.length>1)break}}catch(h){a=!0,s=h}finally{try{!l&&r.return!=null&&r.return()}finally{if(a)throw s}}return this.parseListValues(o)}},{key:"parseListValues",value:function(e){var n=this,o=e.map(function(a){return a.trim()}).map(function(a){return n.parser.parseValue(a)}),l=[];return o.forEach(function(a){a!==void 0&&l.push(a)}),l}}]),m}(),Tk=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"parseValue",value:function(e){if(typeof e=="string")return e}}]),m}();Tk.shared=new Tk;var ep=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"parseValue",value:function(e){return String(e)}}]),m}();ep.shared=new ep,Cr(),yo(),Cr(),yo(),Cr(),yo(),Cr(),yo(),Cr(),yo(),Cr(),yo(),Cr(),yo();var To=function(){"use strict";function m(t,e){_classCallCheck(this,m),this.parser=t,this.rawValue=e}return _createClass(m,[{key:"values",get:function(){return this.parseRawValue()}},{key:"value",get:function(){return this.values[0]}},{key:"parseRawValue",value:function(){var e=this;if(this.rawValue===void 0)return[];var n=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],o=[];return n.forEach(function(l){var a,s=e.parser.parseValue(l);Array.isArray(s)?(a=o).push.apply(a,_toConsumableArray(s)):s!==void 0&&o.push(s)}),o}}]),m}();Xe([Vt()],To.prototype,"values",null),Xe([Vt()],To.prototype,"value",null);var Pu=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Ck.shared,n)}return e}(To),gi=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Ok.shared,n)}return e}(To),Pk=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,jk.shared,n)}return e}(To),Jr=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Zf.shared,n)}return e}(To),lr=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,ep.shared,n)}return e}(To),iM=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Tk.shared,n)}return e}(To),tp=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Ak.shared,n)}return e}(To),np=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Ek.shared,n)}return e}(To),oM=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n,o){return _classCallCheck(this,e),t.call(this,o,n)}return e}(To),aM=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o=new rM(ep.shared);return t.call(this,n,o)}return e}(oM),ar=function(){"use strict";function m(t){_classCallCheck(this,m),this.rawMetadata=t}return _createClass(m,[{key:"identifier",get:function(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.identifier}},{key:"addeddate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.addeddate?new gi(this.rawMetadata.addeddate):void 0}},{key:"audio_codec",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_codec?new lr(this.rawMetadata.audio_codec):void 0}},{key:"audio_sample_rate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_sample_rate?new Jr(this.rawMetadata.audio_sample_rate):void 0}},{key:"avg_rating",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.avg_rating?new Jr(this.rawMetadata.avg_rating):void 0}},{key:"collection",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection?new lr(this.rawMetadata.collection):void 0}},{key:"collections_raw",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collections_raw?new lr(this.rawMetadata.collections_raw):void 0}},{key:"collection_size",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection_size?new tp(this.rawMetadata.collection_size):void 0}},{key:"contributor",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.contributor?new lr(this.rawMetadata.contributor):void 0}},{key:"coverage",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.coverage?new lr(this.rawMetadata.coverage):void 0}},{key:"creator",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.creator?new lr(this.rawMetadata.creator):void 0}},{key:"date",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.date?new gi(this.rawMetadata.date):void 0}},{key:"description",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.description?new lr(this.rawMetadata.description):void 0}},{key:"downloads",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.downloads?new Jr(this.rawMetadata.downloads):void 0}},{key:"duration",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.duration?new Pk(this.rawMetadata.duration):void 0}},{key:"external-identifier",get:function(){var e,n;return!((e=this.rawMetadata)===null||e===void 0)&&e["external-identifier"]?new lr((n=this.rawMetadata)===null||n===void 0?void 0:n["external-identifier"]):void 0}},{key:"files_count",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.files_count?new Jr(this.rawMetadata.files_count):void 0}},{key:"indexdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.indexdate?new gi(this.rawMetadata.indexdate):void 0}},{key:"isbn",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.isbn?new lr(this.rawMetadata.isbn):void 0}},{key:"issue",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.issue?new lr(this.rawMetadata.issue):void 0}},{key:"item_count",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_count?new Jr(this.rawMetadata.item_count):void 0}},{key:"item_size",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_size?new tp(this.rawMetadata.item_size):void 0}},{key:"language",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.language?new lr(this.rawMetadata.language):void 0}},{key:"length",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.length?new Pk(this.rawMetadata.length):void 0}},{key:"lineage",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.lineage?new lr(this.rawMetadata.lineage):void 0}},{key:"month",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.month?new Jr(this.rawMetadata.month):void 0}},{key:"mediatype",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.mediatype?new np(this.rawMetadata.mediatype):void 0}},{key:"noindex",get:function(){var e;return((e=this.rawMetadata)===null||e===void 0?void 0:e.noindex)!=null?new Pu(this.rawMetadata.noindex):void 0}},{key:"notes",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.notes?new lr(this.rawMetadata.notes):void 0}},{key:"num_favorites",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_favorites?new Jr(this.rawMetadata.num_favorites):void 0}},{key:"num_reviews",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_reviews?new Jr(this.rawMetadata.num_reviews):void 0}},{key:"openlibrary_edition",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_edition?new lr(this.rawMetadata.openlibrary_edition):void 0}},{key:"openlibrary_work",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_work?new lr(this.rawMetadata.openlibrary_work):void 0}},{key:"page_progression",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.page_progression?new iM(this.rawMetadata.page_progression):void 0}},{key:"partner",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.partner?new lr(this.rawMetadata.partner):void 0}},{key:"ppi",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.ppi?new Jr(this.rawMetadata.ppi):void 0}},{key:"publicdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publicdate?new gi(this.rawMetadata.publicdate):void 0}},{key:"publisher",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publisher?new lr(this.rawMetadata.publisher):void 0}},{key:"reviewdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.reviewdate?new gi(this.rawMetadata.reviewdate):void 0}},{key:"runtime",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.runtime?new Pk(this.rawMetadata.runtime):void 0}},{key:"scanner",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.scanner?new lr(this.rawMetadata.scanner):void 0}},{key:"source",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.source?new lr(this.rawMetadata.source):void 0}},{key:"start_localtime",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_localtime?new gi(this.rawMetadata.start_localtime):void 0}},{key:"start_time",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_time?new gi(this.rawMetadata.start_time):void 0}},{key:"stop_time",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.stop_time?new gi(this.rawMetadata.stop_time):void 0}},{key:"subject",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.subject?new aM(this.rawMetadata.subject):void 0}},{key:"taper",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.taper?new lr(this.rawMetadata.taper):void 0}},{key:"title",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.title?new lr(this.rawMetadata.title):void 0}},{key:"transferer",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.transferer?new lr(this.rawMetadata.transferer):void 0}},{key:"track",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.track?new Jr(this.rawMetadata.track):void 0}},{key:"type",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.type?new lr(this.rawMetadata.type):void 0}},{key:"uploader",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.uploader?new lr(this.rawMetadata.uploader):void 0}},{key:"utc_offset",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.utc_offset?new Jr(this.rawMetadata.utc_offset):void 0}},{key:"venue",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.venue?new lr(this.rawMetadata.venue):void 0}},{key:"volume",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.volume?new lr(this.rawMetadata.volume):void 0}},{key:"week",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.week?new Jr(this.rawMetadata.week):void 0}},{key:"year",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.year?new gi(this.rawMetadata.year):void 0}},{key:"query",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.query?new lr(this.rawMetadata.fields.query):void 0}},{key:"date_favorited",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.date_favorited?new gi(this.rawMetadata.fields.date_favorited):void 0}},{key:"__href__",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.__href__?new lr(this.rawMetadata.fields.__href__):void 0}}]),m}();Xe([Vt()],ar.prototype,"addeddate",null),Xe([Vt()],ar.prototype,"audio_codec",null),Xe([Vt()],ar.prototype,"audio_sample_rate",null),Xe([Vt()],ar.prototype,"avg_rating",null),Xe([Vt()],ar.prototype,"collection",null),Xe([Vt()],ar.prototype,"collections_raw",null),Xe([Vt()],ar.prototype,"collection_size",null),Xe([Vt()],ar.prototype,"contributor",null),Xe([Vt()],ar.prototype,"coverage",null),Xe([Vt()],ar.prototype,"creator",null),Xe([Vt()],ar.prototype,"date",null),Xe([Vt()],ar.prototype,"description",null),Xe([Vt()],ar.prototype,"downloads",null),Xe([Vt()],ar.prototype,"duration",null),Xe([Vt()],ar.prototype,"external-identifier",null),Xe([Vt()],ar.prototype,"files_count",null),Xe([Vt()],ar.prototype,"indexdate",null),Xe([Vt()],ar.prototype,"isbn",null),Xe([Vt()],ar.prototype,"issue",null),Xe([Vt()],ar.prototype,"item_count",null),Xe([Vt()],ar.prototype,"item_size",null),Xe([Vt()],ar.prototype,"language",null),Xe([Vt()],ar.prototype,"length",null),Xe([Vt()],ar.prototype,"lineage",null),Xe([Vt()],ar.prototype,"month",null),Xe([Vt()],ar.prototype,"mediatype",null),Xe([Vt()],ar.prototype,"noindex",null),Xe([Vt()],ar.prototype,"notes",null),Xe([Vt()],ar.prototype,"num_favorites",null),Xe([Vt()],ar.prototype,"num_reviews",null),Xe([Vt()],ar.prototype,"openlibrary_edition",null),Xe([Vt()],ar.prototype,"openlibrary_work",null),Xe([Vt()],ar.prototype,"page_progression",null),Xe([Vt()],ar.prototype,"partner",null),Xe([Vt()],ar.prototype,"ppi",null),Xe([Vt()],ar.prototype,"publicdate",null),Xe([Vt()],ar.prototype,"publisher",null),Xe([Vt()],ar.prototype,"reviewdate",null),Xe([Vt()],ar.prototype,"runtime",null),Xe([Vt()],ar.prototype,"scanner",null),Xe([Vt()],ar.prototype,"source",null),Xe([Vt()],ar.prototype,"start_localtime",null),Xe([Vt()],ar.prototype,"start_time",null),Xe([Vt()],ar.prototype,"stop_time",null),Xe([Vt()],ar.prototype,"subject",null),Xe([Vt()],ar.prototype,"taper",null),Xe([Vt()],ar.prototype,"title",null),Xe([Vt()],ar.prototype,"transferer",null),Xe([Vt()],ar.prototype,"track",null),Xe([Vt()],ar.prototype,"type",null),Xe([Vt()],ar.prototype,"uploader",null),Xe([Vt()],ar.prototype,"utc_offset",null),Xe([Vt()],ar.prototype,"venue",null),Xe([Vt()],ar.prototype,"volume",null),Xe([Vt()],ar.prototype,"week",null),Xe([Vt()],ar.prototype,"year",null),Xe([Vt()],ar.prototype,"query",null),Xe([Vt()],ar.prototype,"date_favorited",null),Xe([Vt()],ar.prototype,"__href__",null);var jr=function(){"use strict";function m(t){_classCallCheck(this,m),this.rawMetadata=t}return _createClass(m,[{key:"identifier",get:function(){var e,n;return(n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.identifier}},{key:"addeddate",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.addeddate?new gi(this.rawMetadata.fields.addeddate):void 0}},{key:"avg_rating",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.avg_rating)!=null?new Jr(this.rawMetadata.fields.avg_rating):void 0}},{key:"collection",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.collection?new lr(this.rawMetadata.fields.collection):void 0}},{key:"collection_files_count",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.collection_files_count)!=null?new Jr(this.rawMetadata.fields.collection_files_count):void 0}},{key:"collection_size",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.collection_size)!=null?new tp(this.rawMetadata.fields.collection_size):void 0}},{key:"creator",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.creator?new lr(this.rawMetadata.fields.creator):void 0}},{key:"date",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.date?new gi(this.rawMetadata.fields.date):void 0}},{key:"description",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.description?new lr(this.rawMetadata.fields.description):void 0}},{key:"downloads",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.downloads)!=null?new Jr(this.rawMetadata.fields.downloads):void 0}},{key:"files_count",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.files_count)!=null?new Jr(this.rawMetadata.fields.files_count):void 0}},{key:"genre",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.genre?new lr(this.rawMetadata.fields.genre):void 0}},{key:"indexflag",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.indexflag?new lr(this.rawMetadata.fields.indexflag):void 0}},{key:"issue",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.issue?new lr(this.rawMetadata.fields.issue):void 0}},{key:"item_count",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.item_count)!=null?new Jr(this.rawMetadata.fields.item_count):void 0}},{key:"item_size",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.item_size)!=null?new tp(this.rawMetadata.fields.item_size):void 0}},{key:"language",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.language?new lr(this.rawMetadata.fields.language):void 0}},{key:"lending___available_to_borrow",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.lending___available_to_borrow)!=null?new Pu(this.rawMetadata.fields.lending___available_to_borrow):void 0}},{key:"lending___available_to_browse",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.lending___available_to_browse)!=null?new Pu(this.rawMetadata.fields.lending___available_to_browse):void 0}},{key:"lending___available_to_waitlist",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.lending___available_to_waitlist)!=null?new Pu(this.rawMetadata.fields.lending___available_to_waitlist):void 0}},{key:"lending___status",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.lending___status?new lr(this.rawMetadata.fields.lending___status):void 0}},{key:"licenseurl",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.licenseurl?new lr(this.rawMetadata.fields.licenseurl):void 0}},{key:"mediatype",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.mediatype?new np(this.rawMetadata.fields.mediatype):void 0}},{key:"month",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.month)!=null?new Jr(this.rawMetadata.fields.month):void 0}},{key:"noindex",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.noindex)!=null?new Pu(this.rawMetadata.fields.noindex):void 0}},{key:"num_favorites",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.num_favorites)!=null?new Jr(this.rawMetadata.fields.num_favorites):void 0}},{key:"num_reviews",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.num_reviews)!=null?new Jr(this.rawMetadata.fields.num_reviews):void 0}},{key:"publicdate",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.publicdate?new gi(this.rawMetadata.fields.publicdate):void 0}},{key:"reviewdate",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.reviewdate?new gi(this.rawMetadata.fields.reviewdate):void 0}},{key:"review",get:function(){var e,n=(e=this.rawMetadata)===null||e===void 0?void 0:e.review;return n?{body:n.reviewbody,title:n.reviewtitle,author:n.reviewer,authorItem:n.reviewer_itemname,updatedate:new Date(n.reviewdate),createdate:new Date(n.createdate),stars:Number(n.stars)||0,__href__:n.__href__}:void 0}},{key:"source",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.source?new lr(this.rawMetadata.fields.source):void 0}},{key:"subject",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.subject?new lr(this.rawMetadata.fields.subject):void 0}},{key:"title",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.title?new lr(this.rawMetadata.fields.title):void 0}},{key:"type",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.type?new lr(this.rawMetadata.fields.type):void 0}},{key:"volume",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.volume?new lr(this.rawMetadata.fields.volume):void 0}},{key:"week",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.week)!=null?new Jr(this.rawMetadata.fields.week):void 0}},{key:"year",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.year)!=null?new Jr(this.rawMetadata.fields.year):void 0}}]),m}();Xe([Vt()],jr.prototype,"addeddate",null),Xe([Vt()],jr.prototype,"avg_rating",null),Xe([Vt()],jr.prototype,"collection",null),Xe([Vt()],jr.prototype,"collection_files_count",null),Xe([Vt()],jr.prototype,"collection_size",null),Xe([Vt()],jr.prototype,"creator",null),Xe([Vt()],jr.prototype,"date",null),Xe([Vt()],jr.prototype,"description",null),Xe([Vt()],jr.prototype,"downloads",null),Xe([Vt()],jr.prototype,"files_count",null),Xe([Vt()],jr.prototype,"genre",null),Xe([Vt()],jr.prototype,"indexflag",null),Xe([Vt()],jr.prototype,"issue",null),Xe([Vt()],jr.prototype,"item_count",null),Xe([Vt()],jr.prototype,"item_size",null),Xe([Vt()],jr.prototype,"language",null),Xe([Vt()],jr.prototype,"lending___available_to_borrow",null),Xe([Vt()],jr.prototype,"lending___available_to_browse",null),Xe([Vt()],jr.prototype,"lending___available_to_waitlist",null),Xe([Vt()],jr.prototype,"lending___status",null),Xe([Vt()],jr.prototype,"licenseurl",null),Xe([Vt()],jr.prototype,"mediatype",null),Xe([Vt()],jr.prototype,"month",null),Xe([Vt()],jr.prototype,"noindex",null),Xe([Vt()],jr.prototype,"num_favorites",null),Xe([Vt()],jr.prototype,"num_reviews",null),Xe([Vt()],jr.prototype,"publicdate",null),Xe([Vt()],jr.prototype,"reviewdate",null),Xe([Vt()],jr.prototype,"review",null),Xe([Vt()],jr.prototype,"source",null),Xe([Vt()],jr.prototype,"subject",null),Xe([Vt()],jr.prototype,"title",null),Xe([Vt()],jr.prototype,"type",null),Xe([Vt()],jr.prototype,"volume",null),Xe([Vt()],jr.prototype,"week",null),Xe([Vt()],jr.prototype,"year",null);var li=function(){"use strict";function m(t){_classCallCheck(this,m),this.rawMetadata=t}return _createClass(m,[{key:"identifier",get:function(){var e,n;return(n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.identifier}},{key:"highlight",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.highlight)===null||n===void 0)&&n.text?new lr(this.rawMetadata.highlight.text):void 0}},{key:"addeddate",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.addeddate?new gi(this.rawMetadata.fields.addeddate):void 0}},{key:"avg_rating",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.avg_rating)!=null?new Jr(this.rawMetadata.fields.avg_rating):void 0}},{key:"collection",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.collection?new lr(this.rawMetadata.fields.collection):void 0}},{key:"created_on",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.created_on?new gi(this.rawMetadata.fields.created_on):void 0}},{key:"creator",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.creator?new lr(this.rawMetadata.fields.creator):void 0}},{key:"date",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.date?new gi(this.rawMetadata.fields.date):void 0}},{key:"description",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.description?new lr(this.rawMetadata.fields.description):void 0}},{key:"downloads",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.downloads)!=null?new Jr(this.rawMetadata.fields.downloads):void 0}},{key:"filename",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.filename?new lr(this.rawMetadata.fields.filename):void 0}},{key:"file_basename",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.file_basename?new lr(this.rawMetadata.fields.file_basename):void 0}},{key:"file_creation_mtime",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.file_creation_mtime)!=null?new Jr(this.rawMetadata.fields.file_creation_mtime):void 0}},{key:"issue",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.issue?new lr(this.rawMetadata.fields.issue):void 0}},{key:"mediatype",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.mediatype?new np(this.rawMetadata.fields.mediatype):void 0}},{key:"page_num",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.page_num)!=null?new Jr(this.rawMetadata.fields.page_num):void 0}},{key:"publicdate",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.publicdate?new gi(this.rawMetadata.fields.publicdate):void 0}},{key:"result_in_subfile",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.result_in_subfile)!=null?new Pu(this.rawMetadata.fields.result_in_subfile):void 0}},{key:"reviewdate",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.reviewdate?new gi(this.rawMetadata.fields.reviewdate):void 0}},{key:"source",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.source?new lr(this.rawMetadata.fields.source):void 0}},{key:"subject",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.subject?new lr(this.rawMetadata.fields.subject):void 0}},{key:"title",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.title?new lr(this.rawMetadata.fields.title):void 0}},{key:"updated_on",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.updated_on?new gi(this.rawMetadata.fields.updated_on):void 0}},{key:"year",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.year)!=null?new Jr(this.rawMetadata.fields.year):void 0}},{key:"__href__",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.__href__?new lr(this.rawMetadata.fields.__href__):void 0}}]),m}();Xe([Vt()],li.prototype,"highlight",null),Xe([Vt()],li.prototype,"addeddate",null),Xe([Vt()],li.prototype,"avg_rating",null),Xe([Vt()],li.prototype,"collection",null),Xe([Vt()],li.prototype,"created_on",null),Xe([Vt()],li.prototype,"creator",null),Xe([Vt()],li.prototype,"date",null),Xe([Vt()],li.prototype,"description",null),Xe([Vt()],li.prototype,"downloads",null),Xe([Vt()],li.prototype,"filename",null),Xe([Vt()],li.prototype,"file_basename",null),Xe([Vt()],li.prototype,"file_creation_mtime",null),Xe([Vt()],li.prototype,"issue",null),Xe([Vt()],li.prototype,"mediatype",null),Xe([Vt()],li.prototype,"page_num",null),Xe([Vt()],li.prototype,"publicdate",null),Xe([Vt()],li.prototype,"result_in_subfile",null),Xe([Vt()],li.prototype,"reviewdate",null),Xe([Vt()],li.prototype,"source",null),Xe([Vt()],li.prototype,"subject",null),Xe([Vt()],li.prototype,"title",null),Xe([Vt()],li.prototype,"updated_on",null),Xe([Vt()],li.prototype,"year",null),Xe([Vt()],li.prototype,"__href__",null);var Yc;(function(m){m[m.COUNT=0]="COUNT",m[m.ALPHABETICAL=1]="ALPHABETICAL",m[m.NUMERIC=2]="NUMERIC"})(Yc||(Yc={}));var YE=function(){"use strict";function m(t){_classCallCheck(this,m),this.buckets=t.buckets,this.doc_count_error_upper_bound=t.doc_count_error_upper_bound,this.sum_other_doc_count=t.sum_other_doc_count,this.first_bucket_key=t.first_bucket_key,this.last_bucket_key=t.last_bucket_key,this.number_buckets=t.number_buckets,this.interval=t.interval}return _createClass(m,[{key:"getSortedBuckets",value:function(e){var n=_toConsumableArray(this.buckets);if(this.isRawNumberBuckets(n))return n;var o=new Intl.Collator;switch(e){case Yc.ALPHABETICAL:return n.sort(function(l,a){return o.compare(l.key.toString(),a.key.toString())});case Yc.NUMERIC:return n.sort(function(l,a){return Number(a.key)-Number(l.key)});case Yc.COUNT:default:return n}}},{key:"isRawNumberBuckets",value:function(e){return typeof this.buckets[0]=="number"}}]),m}();Xe([Vt()],YE.prototype,"getSortedBuckets",null);var Xc=function(){"use strict";function m(t){_classCallCheck(this,m),this.rawMetadata=t}return _createClass(m,[{key:"identifier",get:function(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.fields.query}},{key:"title",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.title?new lr(this.rawMetadata.fields.title):void 0}},{key:"query",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.query?new lr(this.rawMetadata.fields.query):void 0}},{key:"date_favorited",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.date_favorited?new gi(this.rawMetadata.fields.date_favorited):void 0}},{key:"__href__",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.__href__?new lr(this.rawMetadata.fields.__href__):void 0}}]),m}();Xe([Vt()],Xc.prototype,"title",null),Xe([Vt()],Xc.prototype,"query",null),Xe([Vt()],Xc.prototype,"date_favorited",null),Xe([Vt()],Xc.prototype,"__href__",null);var rp=function(){"use strict";function m(t){_classCallCheck(this,m),this.rawMetadata=t}return _createClass(m,[{key:"identifier",get:function(){var e,n;return(n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.url}},{key:"mediatype",get:function(){return new np("web")}},{key:"title",get:function(){var e,n,o;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.url?new lr((o=this.rawMetadata.fields)===null||o===void 0?void 0:o.url):void 0}},{key:"capture_dates",get:function(){var e,n,o;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.capture_dates?new gi((o=this.rawMetadata.fields)===null||o===void 0?void 0:o.capture_dates):void 0}},{key:"__href__",get:function(){var e,n,o;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.__href__?new lr((o=this.rawMetadata.fields)===null||o===void 0?void 0:o.__href__):void 0}}]),m}();Xe([Vt()],rp.prototype,"title",null),Xe([Vt()],rp.prototype,"capture_dates",null),Xe([Vt()],rp.prototype,"__href__",null);var sM=["loans","waitlist","loan_history"],lM=function(){"use strict";function m(t,e){_classCallCheck(this,m);var n,o,l,a,s,r,c,d,h,f,v,_,b,w;this.schema=e;var A=e==null?void 0:e.hit_type,E;t!=null&&t.page_elements&&(this.pageElements=t.page_elements,E=Object.values(this.pageElements)[0]);var O=(n=t==null?void 0:t.hits)===null||n===void 0?void 0:n.hits;this.totalResults=(l=(o=t==null?void 0:t.hits)===null||o===void 0?void 0:o.total)!==null&&l!==void 0?l:0,this.returnedCount=(s=(a=t==null?void 0:t.hits)===null||a===void 0?void 0:a.returned)!==null&&s!==void 0?s:0,!(O!=null&&O.length)&&!((r=E==null?void 0:E.hits)===null||r===void 0)&&r.hits?(O=E.hits.hits,this.totalResults=(c=E.hits.total)!==null&&c!==void 0?c:0,this.returnedCount=(d=E.hits.returned)!==null&&d!==void 0?d:0):!((h=this.pageElements)===null||h===void 0)&&h.lending?O=this.handleLendingPageElement(A):!((f=this.pageElements)===null||f===void 0)&&f.web_archives&&(O=this.handleWebArchivesPageElement()),this.results=(v=O==null?void 0:O.map(function(y){var u;return m.createResult((u=y.hit_type)!==null&&u!==void 0?u:A,y)}))!==null&&v!==void 0?v:[];var P=t==null?void 0:t.aggregations;!(this.aggregations&&Object.keys(this.aggregations).length>0)&&(E!=null&&E.aggregations)&&(P=E.aggregations),P&&this.buildAggregations(P),t!=null&&t.collection_titles&&(this.collectionTitles=(_=t.collection_titles)!==null&&_!==void 0?_:{}),t!=null&&t.collection_extra_info&&(this.collectionExtraInfo=(b=t.collection_extra_info)!==null&&b!==void 0?b:null),t!=null&&t.account_extra_info&&(this.accountExtraInfo=(w=t.account_extra_info)!==null&&w!==void 0?w:null)}return _createClass(m,[{key:"buildAggregations",value:function(e){this.aggregations=Object.entries(e).reduce(function(n,o){var l=_slicedToArray(o,2),a=l[0],s=l[1];return n[a]=new YE(s),n},{})}},{key:"handleLendingPageElement",value:function(e){var n,o,l,a=(n=this.pageElements)===null||n===void 0?void 0:n.lending,s=(o=a.loans)!==null&&o!==void 0?o:[];this.totalResults=s.length,this.returnedCount=this.totalResults;var r=!0,c=!1,d=void 0;try{for(var h=sM[Symbol.iterator](),f;!(r=(f=h.next()).done);r=!0){var v=f.value;a[v]=(l=a[v].map(function(_){var b;return m.createResult((b=_.hit_type)!==null&&b!==void 0?b:e,_)}))!==null&&l!==void 0?l:[]}}catch(_){c=!0,d=_}finally{try{!r&&h.return!=null&&h.return()}finally{if(c)throw d}}return s}},{key:"handleWebArchivesPageElement",value:function(){var e,n=e1((e=this.pageElements)===null||e===void 0?void 0:e.web_archives);return this.totalResults=n.length,this.returnedCount=this.totalResults,n}}],[{key:"createResult",value:function(e,n){switch(e){case"item":return new jr(n);case"text":return new li(n);case"favorited_search":return new Xc(n);case"web_archive":return new rp(n);default:return new jr(n)}}}]),m}(),uM=function m(t){"use strict";_classCallCheck(this,m),this.clientParameters=t.client_parameters,this.backendRequests=t.backend_requests,this.kind=t.kind},cM=function m(t){"use strict";_classCallCheck(this,m);var e,n,o;this.rawResponse=t,this.request=new uM(t.request),this.responseHeader=(e=t.response)===null||e===void 0?void 0:e.header,this.sessionContext=t.session_context,this.response=new lM((n=t.response)===null||n===void 0?void 0:n.body,(o=t.response)===null||o===void 0?void 0:o.hit_schema)},XE=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,null,[{key:"aggregateSearchParamsAsString",value:function(e){if(e.omit)return"false";if(e.advancedParams){var n=e.advancedParams.map(function(o){return{terms:o}});return JSON.stringify(n)}if(e.simpleParams)return e.simpleParams.join(",")}},{key:"sortParamsAsString",value:function(e){return"".concat(e.field,":").concat(e.direction)}},{key:"filterParamsAsString",value:function(e){return JSON.stringify(e)}},{key:"generateURLSearchParams",value:function(e){var n=new URLSearchParams;if(n.append("user_query",e.query),e.pageType&&n.append("page_type",String(e.pageType)),e.pageTarget&&n.append("page_target",String(e.pageTarget)),e.pageElements&&e.pageElements.length>0){var o="[".concat(e.pageElements.map(function(h){return'"'.concat(h,'"')}).join(","),"]");n.append("page_elements",o)}if(e.rows!=null&&n.append("hits_per_page",String(e.rows)),e.page!=null&&n.append("page",String(e.page)),e.fields&&e.fields.length>0&&n.append("fields",e.fields.join(",")),e.filters&&Object.keys(e.filters).length>0){var l=this.filterParamsAsString(e.filters);l&&l!=="{}"&&n.append("filter_map",l)}if(e.sort&&e.sort.length>0){var a=this,s=e.sort.map(function(h){return a.sortParamsAsString(h)});n.append("sort",s.join(","))}var r=e.aggregations;if(r){var c=this.aggregateSearchParamsAsString(r);c&&n.append("aggregations",c)}if(e.aggregationsSize!=null&&n.append("aggregations_size",String(e.aggregationsSize)),e.debugging&&n.append("debugging","true"),e.uid&&n.append("uid",e.uid),e.includeClientUrl!==!1){var d=window.location.href.slice(0,400);e.query.length<=1e3&&n.append("client_url",d)}return n}}]),m}(),Kc;(function(m){m.networkError="SearchService.NetworkError",m.itemNotFound="SearchService.ItemNotFound",m.decodingError="SearchService.DecodingError",m.searchEngineError="SearchService.SearchEngineError"})(Kc||(Kc={}));var dM=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n,o,l){_classCallCheck(this,e);var a;return a=t.call(this,o),a.name=n,a.type=n,a.details=l,_possibleConstructorReturn(a)}return e}(_wrapNativeSuper(Error)),KE={reCache:JSON.stringify({recompute:!0}),noCache:JSON.stringify({bypass:!0}),dontCache:JSON.stringify({no_compute:!0})},QE=function(){"use strict";function m(t){_classCallCheck(this,m);var e,n;this.baseUrl=(e=t==null?void 0:t.baseUrl)!==null&&e!==void 0?e:"archive.org",(t==null?void 0:t.includeCredentials)!==void 0?this.includeCredentials=t.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null;var o=new URL(window.location.href).searchParams,l=o.get("scope"),a=o.get("verbose"),s=o.get("debugging"),r=o.get("cacheDebug"),c="",d=!0,h=!1,f=void 0;try{for(var v=Object.keys(KE)[Symbol.iterator](),_;!(d=(_=v.next()).done);d=!0){var b=_.value;if(o.get(b)){c=KE[b];break}}}catch(w){h=!0,f=w}finally{try{!d&&v.return!=null&&v.return()}finally{if(h)throw f}}c=(n=o.get("caching"))!==null&&n!==void 0?n:c,(t==null?void 0:t.caching)!==void 0?this.cachingFlags=t.caching:c&&(this.cachingFlags=c),(t==null?void 0:t.debuggingEnabled)!==void 0?this.debuggingEnabled=t.debuggingEnabled:(s||r)&&(this.debuggingEnabled=!0),(t==null?void 0:t.scope)!==void 0?this.requestScope=t.scope:l&&(this.requestScope=l),(t==null?void 0:t.verbose)!==void 0?this.verbose=t.verbose:a&&(this.verbose=!!a)}return _createClass(m,[{key:"fetchUrl",value:function(e,n){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r,c,d,h,f,v;return _regeneratorRuntime.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return s=new URL(e),this.requestScope&&s.searchParams.set("scope",this.requestScope),this.cachingFlags&&s.searchParams.set("caching",this.cachingFlags),b.prev=4,c=(l=n==null?void 0:n.requestOptions)!==null&&l!==void 0?l:{credentials:this.includeCredentials?"include":"same-origin"},b.next=8,fetch(s.href,c);case 8:r=b.sent,b.next=15;break;case 11:return b.prev=11,b.t0=b.catch(4),d=_instanceof(b.t0,Error)?b.t0.message:typeof b.t0=="string"?b.t0:"Unknown error",b.abrupt("return",this.getErrorResult(Kc.networkError,d));case 15:return b.prev=15,b.next=18,r.json();case 18:return h=b.sent,this.verbose&&this.printResponse(h),h.debugging&&this.printDebuggingInfo(h),f=(a=h.response)===null||a===void 0?void 0:a.error,b.abrupt("return",f?this.getErrorResult(Kc.searchEngineError,f.message,f.forensics):{success:h});case 24:return b.prev=24,b.t1=b.catch(15),v=_instanceof(b.t1,Error)?b.t1.message:typeof b.t1=="string"?b.t1:"Unknown error",b.abrupt("return",this.getErrorResult(Kc.decodingError,v));case 28:case"end":return b.stop()}},o,this,[[4,11],[15,24]])}))}},{key:"getErrorResult",value:function(e,n,o){return{error:new dM(e,n,o)}}},{key:"printResponse",value:function(e){var n,o,l,a,s;try{var r=JSON.parse(JSON.stringify(e)),c=(l=(o=(n=r==null?void 0:r.response)===null||n===void 0?void 0:n.body)===null||o===void 0?void 0:o.hits)===null||l===void 0?void 0:l.hits;if(Array.isArray(c)&&c.length>1){var d=[];d.push(c[0]),d.push("*** ".concat(c.length-1," hits omitted ***")),r.response.body.hits.hits=d}var h=(s=(a=r==null?void 0:r.response)===null||a===void 0?void 0:a.body)===null||s===void 0?void 0:s.aggregations;h&&Object.entries(h).forEach(function(f){var v=_slicedToArray(f,2),_=v[0],b=v[1],w,A,E,O;if(((A=(w=b)===null||w===void 0?void 0:w.buckets)===null||A===void 0?void 0:A.length)>0){var P=JSON.parse(JSON.stringify(b));P.buckets="*** ".concat((O=(E=P.buckets)===null||E===void 0?void 0:E.length)!==null&&O!==void 0?O:0," buckets omitted ***"),r.response.body.aggregations[_]=P}}),console.log("***** RESPONSE RECEIVED *****"),console.groupCollapsed("Response"),console.log(JSON.stringify(r,null,2)),console.groupEnd()}catch(f){console.error("Error printing search response:",f)}}},{key:"printDebuggingInfo",value:function(e){var n,o,l=e.debugging,a=(n=l.messages)!==null&&n!==void 0?n:[],s=(o=l.data)!==null&&o!==void 0?o:{};console.log("***** BEGIN DEBUGGING *****"),console.log("Full response:"),console.log(JSON.stringify(e,null,2)),console.group("Debug messages");var r=!0,c=!1,d=void 0;try{for(var h=a[Symbol.iterator](),f;!(r=(f=h.next()).done);r=!0){var v=f.value;console.log(v)}}catch(u){c=!0,d=u}finally{try{!r&&h.return!=null&&h.return()}finally{if(c)throw d}}console.groupEnd(),console.group("Debug data");var _=!0,b=!1,w=void 0;try{for(var A=Object.entries(s)[Symbol.iterator](),E;!(_=(E=A.next()).done);_=!0){var O=_slicedToArray(E.value,2),P=O[0],y=O[1];console.log(P,y)}}catch(u){b=!0,w=u}finally{try{!_&&A.return!=null&&A.return()}finally{if(b)throw w}}console.groupEnd(),console.log("***** END DEBUGGING *****")}}]),m}(),hM=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o,l;return o=t.call(this,n),o.servicePath=(l=n==null?void 0:n.servicePath)!==null&&l!==void 0?l:"/services/search/beta/page_production",_possibleConstructorReturn(o)}return _createClass(e,[{key:"performSearch",value:function(o){return On(this,null,_regeneratorRuntime.default.mark(function l(){var a,s;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.debuggingEnabled&&o.debugging===void 0&&(o.debugging=!0),a=XE.generateURLSearchParams(o).toString(),s="https://".concat(this.baseUrl).concat(this.servicePath,"/?").concat(a),c.abrupt("return",this.fetchUrl(s));case 3:case"end":return c.stop()}},l,this)}))}}]),e}(QE),fM=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o,l;return o=t.call(this,n),o.servicePath=(l=n==null?void 0:n.servicePath)!==null&&l!==void 0?l:"/services/search/beta/page_production",_possibleConstructorReturn(o)}return _createClass(e,[{key:"performSearch",value:function(o){return On(this,null,_regeneratorRuntime.default.mark(function l(){var a,s;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.debuggingEnabled&&o.debugging===void 0&&(o.debugging=!0),a=XE.generateURLSearchParams(o).toString(),s="https://".concat(this.baseUrl).concat(this.servicePath,"/?service_backend=fts&").concat(a),c.abrupt("return",this.fetchUrl(s));case 3:case"end":return c.stop()}},l,this)}))}}]),e}(QE),Iu;(function(m){m[m.METADATA=0]="METADATA",m[m.FULLTEXT=1]="FULLTEXT"})(Iu||(Iu={}));var ip=function(){"use strict";function m(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck(this,m),this.backendOptions=t}return _createClass(m,[{key:"search",value:function(e){return On(this,arguments,_regeneratorRuntime.default.mark(function n(o){var l,a,s=arguments;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l=s.length>1&&s[1]!==void 0?s[1]:Iu.METADATA,c.next=3,m.getBackendForSearchType(l,this.backendOptions).performSearch(o);case 3:return a=c.sent,c.abrupt("return",a.error?a:{success:new cM(a.success)});case 5:case"end":return c.stop()}},n,this)}))}}],[{key:"getBackendForSearchType",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(e){case Iu.FULLTEXT:return new fM(n);case Iu.METADATA:default:return new hM(n)}}}]),m}();ip.default=new ip,Xe([Vt(function(m){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.includeCredentials,n=e===void 0?!1:e,o=t.verbose,l=o===void 0?!1:o,a=t.scope,s=a===void 0?"":a,r=t.baseUrl,c=r===void 0?"":r;return"".concat(m,";").concat(n,";").concat(l,";").concat(s,";").concat(c)})],ip,"getBackendForSearchType",null);var JE;(function(m){m.INCLUDE="inc",m.EXCLUDE="exc",m.GREATER_THAN="gt",m.GREATER_OR_EQUAL="gte",m.LESS_THAN="lt",m.LESS_OR_EQUAL="lte"})(JE||(JE={}));var ZE=Lt(_templateObject552()),pM=Lt(_templateObject553()),vM=Lt(_templateObject554()),gM=Lt(_templateObject555()),Ik=Lt(_templateObject556()),mM=Lt(_templateObject557()),yM=Lt(_templateObject558()),Mk=Lt(_templateObject559()),bM=Lt(_templateObject560()),wM=Lt(_templateObject561()),Lk=Lt(_templateObject562()),_M=Lt(_templateObject563()),kM=Lt(_templateObject564()),xM=Lt(_templateObject565()),SM=Lt(_templateObject566(),ZE,ZE,pM,vM,kM,xM,gM,mM,Ik,Ik,Ik,yM,bM,Mk,Mk,Mk,wM,_M,Lk,Lk,Lk),Qc;(function(m){m.NETWORK="failed to connect to user lists backend service",m.BAD_RESPONSE="malformed response from backend",m.USER_NOT_FOUND="user with the given id was not found",m.LIST_NOT_FOUND="user list with the given id was not found",m.LIST_MEMBER_NOT_FOUND="user list member with the given id was not found",m.ITEM_NOT_TOUND="item with the given id was not found"})(Qc||(Qc={}));var CM=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n,o,l){_classCallCheck(this,e);var a;return a=t.call(this,o,l),a.reason=n,_possibleConstructorReturn(a)}return e}(_wrapNativeSuper(Error)),Rk=function(){"use strict";function m(t){var e=t.fetchHandler,n=t.searchService,o=t.userService,l=t.baseUrl,a=l===void 0?m.DEFAULT_BASE_URL:l;_classCallCheck(this,m),this.fetchHandler=e,this.searchService=n,this.userService=o,this.baseUrl=a}return _createClass(m,[{key:"fetchEndpoint",value:function(e,n,o){return On(this,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.fetchHandler.fetchApiResponse(e,{method:n,body:o,includeCredentials:!0});case 3:return a=r.sent,r.abrupt("return",a.success?{success:a.value}:{error:m.getErrorResult(Qc.LIST_NOT_FOUND,a.error)});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{error:m.getErrorResult(Qc.NETWORK,r.t0)});case 10:case"end":return r.stop()}},l,this,[[0,7]])}))}},{key:"fetchListsForUser",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,this.userService.getLoggedInUser();case 3:if(r.t1=o=r.sent,r.t0=r.t1===null,r.t0){r.next=7;break}r.t0=o===void 0;case 7:if(!r.t0){r.next=11;break}r.t2=void 0,r.next=12;break;case 11:r.t2=o.success;case 12:return l=r.t2,a=(l==null?void 0:l.itemname)===e?"me":e,r.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/").concat(a,"/lists")));case 15:case"end":return r.stop()}},n,this)}))}},{key:"fetchList",value:function(e,n){return On(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/").concat(e,"/lists/").concat(n)));case 1:case"end":return a.stop()}},o,this)}))}},{key:"fetchOwnListsContainingItem",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists?item=").concat(e)));case 1:case"end":return l.stop()}},n,this)}))}},{key:"fetchListMembers",value:function(e,n){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.fetchList(e,n);case 2:if(l=c.sent,l.success){c.next=5;break}return c.abrupt("return",l);case 5:if(a=l.success,s=a.members,s){c.next=8;break}throw m.getErrorResult(Qc.BAD_RESPONSE);case 8:return c.abrupt("return",{success:s});case 9:case"end":return c.stop()}},o,this)}))}},{key:"fetchListMemberSearchResults",value:function(e,n){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.fetchListMembers(e,n);case 2:if(l=d.sent,l.success){d.next=5;break}return d.abrupt("return",l);case 5:if(a=l.success,a.length!==0){d.next=8;break}return d.abrupt("return",{success:[]});case 8:return s="identifier:(".concat(a.map(function(h){return h.identifier}).join(" OR "),")"),d.next=11,this.searchService.search({query:s,rows:a.length,aggregations:{omit:!0}},Iu.METADATA);case 11:return r=d.sent,d.abrupt("return",r.success?{success:r.success.response.results}:{error:r.error});case 13:case"end":return d.stop()}},o,this)}))}},{key:"createList",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists"),"POST",JSON.stringify(e)));case 1:case"end":return l.stop()}},n,this)}))}},{key:"updateList",value:function(e,n){return On(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists/").concat(e),"PATCH",JSON.stringify(n)));case 1:case"end":return a.stop()}},o,this)}))}},{key:"deleteList",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists/").concat(e),"DELETE"));case 1:case"end":return l.stop()}},n,this)}))}},{key:"addMemberToList",value:function(e,n){return On(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists/").concat(e,"/members"),"POST",JSON.stringify(n)));case 1:case"end":return a.stop()}},o,this)}))}},{key:"removeMemberFromList",value:function(e,n){return On(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists/").concat(e,"/members/").concat(n),"DELETE"));case 1:case"end":return a.stop()}},o,this)}))}}],[{key:"getErrorResult",value:function(e,n){return new CM(e,m.getErrorMessage(n),{cause:n})}},{key:"getErrorMessage",value:function(e){return _instanceof(e,Error)?e.message:typeof e=="string"?e:"Unknown error"}}]),m}();Rk.DEFAULT_BASE_URL="https://archive.org";var Ta=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"saveListDetails",value:function(o){return On(this,null,_regeneratorRuntime.default.mark(function l(){var a,s,r,c,d,h,f;return _regeneratorRuntime.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(o.preventDefault(),d=(a=o.target)===null||a===void 0?void 0:a.querySelector("button#save-list-settings"),d==null||d.setAttribute("disabled","true"),this.dispatchEvent(new Event("userListSaving")),_.prev=4,h={list_name:this.listName.value,description:this.listDescription.value,is_private:this.listPrivate.checked},!(!((s=this.userList)===null||s===void 0)&&s.id)){_.next=12;break}return _.next=9,(r=this.userListsService)===null||r===void 0?void 0:r.updateList(this.userList.id,h);case 9:f=_.sent,_.next=15;break;case 12:return _.next=14,(c=this.userListsService)===null||c===void 0?void 0:c.createList(h);case 14:f=_.sent;case 15:if(!f.success){_.next=19;break}this.dispatchEvent(new CustomEvent("userListSaved",{detail:f.success})),_.next=20;break;case 19:throw f.error;case 20:_.next=25;break;case 22:_.prev=22,_.t0=_.catch(4),this.dispatchEvent(new CustomEvent("userListError",{detail:{error:_.t0}})),console.log("error",_.t0),d==null||d.removeAttribute("disabled");case 25:case"end":return _.stop()}},l,this,[[4,22]])}))}},{key:"emitCloseModalEvent",value:function(o){o.preventDefault(),this.dispatchEvent(new Event("listModalClosed"))}},{key:"render",value:function(){var o,l,a,s,r,c,d,h;return St(_templateObject567(),this.saveListDetails,(l=(o=this.userList)===null||o===void 0?void 0:o.id)!==null&&l!==void 0?l:"",(s=(a=this.userList)===null||a===void 0?void 0:a.list_name)!==null&&s!==void 0?s:"",(c=(r=this.userList)===null||r===void 0?void 0:r.description)!==null&&c!==void 0?c:"",(h=(d=this.userList)===null||d===void 0?void 0:d.is_private)!==null&&h!==void 0?h:!1,this.emitCloseModalEvent)}}]),e}(Vn);Ta.styles=[SM,Lt(_templateObject568())],Tr([Kt({type:Object}),Al("design:type",Object)],Ta.prototype,"userList",void 0),Tr([Kt({type:Object}),Al("design:type",Rk)],Ta.prototype,"userListsService",void 0),Tr([Hr("#id"),Al("design:type",HTMLInputElement)],Ta.prototype,"listId",void 0),Tr([Hr("#name"),Al("design:type",HTMLInputElement)],Ta.prototype,"listName",void 0),Tr([Hr("#description"),Al("design:type",HTMLInputElement)],Ta.prototype,"listDescription",void 0),Tr([Hr("#private"),Al("design:type",HTMLInputElement)],Ta.prototype,"listPrivate",void 0),Ta=Tr([Mr("iaux-userlist-settings")],Ta);function Mu(){if(!_instanceof(this,Mu))return new Mu}Mu.prototype={get:function(t){for(var e=t+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var l=n[o];l.charAt(0)==" ";)l=l.substring(1,l.length);if(l.indexOf(e)==0)return decodeURI(l.substring(e.length,l.length))}return!1},set:function(t,e,n){if(mp(t))for(var o in t)this.set(o,t[o],e,n);else if(typeof t=="string"){var l=mp(n)?n:{expires:n},a=l.path!==void 0?";path=".concat(l.path,";path=/"):";path=/",s=l.domain?";domain=".concat(l.domain):"",r=l.secure?";secure":"",c=l.expires!==void 0?l.expires:"";typeof c=="string"&&c!==""?c=new Date(c):typeof c=="number"&&(c=new Date(+new Date+1e3*60*60*24*c)),c!==""&&"toGMTString"in c&&(c=";expires=".concat(c.toGMTString()));var d=l.sameSite?";SameSite=".concat(l.sameSite):"";document.cookie="".concat(t,"=").concat(encodeURI(e)+c+a+s+r+d)}},remove:function(t){t=n1(t)?t:r1(arguments);for(var e=0,n=t.length;e<n;e++)this.set(t[e],"",-1);return t},clear:function(t){return t?this.remove(t):this.remove(t1(this.all()))},all:function(){if(document.cookie==="")return{};for(var t=document.cookie.split("; "),e={},n=0,o=t.length;n<o;n++){var l=t[n].split("=");e[decodeURI(l[0])]=decodeURI(l[1])}return e}};var vl=null,eT=function(t,e,n){var o=arguments;if(vl||(vl=Mu()),o.length===0)return vl.all();if(o.length===1&&t===null)return vl.clear();if(o.length===2&&!e)return vl.clear(t);if(typeof t=="string"&&!e)return vl.get(t);if(typeof t=="string"&&e||mp(t))return vl.set(t,e,n)};for(var tT in Mu.prototype)eT[tT]=Mu.prototype[tT];vi();var AM=function(){"use strict";function m(t){_classCallCheck(this,m),this.name=t.name,this.source=t.source,this.mtime=t.mtime,this.size=t.size,this.md5=t.md5,this.crc32=t.crc32,this.sha1=t.sha1,this.format=t.format,this.rotation=t.rotation}return _createClass(m,null,[{key:"fromResponse",value:function(e){var n=eo.shared,o=Ua.shared,l,a,s;return e.mtime&&(l=n.parseValue(e.mtime)),e.size&&(a=o.parseValue(e.size)),e.rotation&&(s=n.parseValue(e.rotation)),new m({name:e.name,source:e.source,mtime:l,size:a,md5:e.md5,crc32:e.crc32,sha1:e.sha1,format:e.format,rotation:s})}}]),m}(),nT=function(){"use strict";function m(t){_classCallCheck(this,m),this.username=t.username,this.itemname=t.itemname,this.screenname=t.screenname,this.privs=t.privs,this.image_info=t.image_info,this.isArchiveOrgUser=this.username.endsWith("@archive.org");var e=t.itemname;this.userid=e.startsWith("@")?e.substring(1):e}return _createClass(m,null,[{key:"fromUserResponse",value:function(e){return new m({username:e.username,itemname:e.itemname,screenname:e.screenname,privs:e.privs,image_info:AM.fromResponse(e.image_info)})}}]),m}(),Lu;(function(m){m.userNotLoggedIn="UserService.userNotLoggedIn",m.networkError="UserService.networkError",m.decodingError="UserService.decodingError"})(Lu||(Lu={}));var op=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(n,o){_classCallCheck(this,e);var l;return l=t.call(this,o),l.name=n,l.type=n,_possibleConstructorReturn(l)}return e}(_wrapNativeSuper(Error)),OM=function(){"use strict";function m(t){_classCallCheck(this,m);var e,n;this.userServiceEndpoint=(e=t==null?void 0:t.userServiceEndpoint)!==null&&e!==void 0?e:"https://archive.org/services/user.php?op=whoami",this.cache=t==null?void 0:t.cache,this.cacheTTL=t==null?void 0:t.cacheTTL,this.userCacheKey=(n=t==null?void 0:t.userCacheKey)!==null&&n!==void 0?n:"loggedInUserInfo"}return _createClass(m,[{key:"getLoggedInUser",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function e(){var n,o,l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n=eT.get("logged-in-user"),n!==!1){r.next=3;break}return r.abrupt("return",{error:new op(Lu.userNotLoggedIn)});case 3:return r.next=5,this.getPersistedUser();case 5:if(o=r.sent,!o){r.next=10;break}if(l=nT.fromUserResponse(o),n!==l.username){r.next=10;break}return r.abrupt("return",{success:l});case 10:if(!this.fetchPromise){r.next=12;break}return r.abrupt("return",(this.fetchPromise=this.fetchPromise.then(function(c){return c}),this.fetchPromise));case 12:return this.fetchPromise=this.fetchUser(),r.next=15,this.fetchPromise;case 15:return a=r.sent,r.abrupt("return",(this.fetchPromise=void 0,a));case 17:case"end":return r.stop()}},e,this)}))}},{key:"fetchUser",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function e(){var n,o,l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=1,r.next=4,fetch(this.userServiceEndpoint,{credentials:"include"});case 4:n=r.sent,r.next=10;break;case 7:return r.prev=7,r.t0=r.catch(1),r.abrupt("return",{error:new op(Lu.networkError,r.t0.message)});case 10:return r.prev=11,r.next=14,n.json();case 14:o=r.sent,r.next=20;break;case 17:return r.prev=17,r.t1=r.catch(11),r.abrupt("return",{error:new op(Lu.decodingError,r.t1.message)});case 20:if(!(!o.success||!o.value)){r.next=22;break}return r.abrupt("return",{error:new op(Lu.userNotLoggedIn,o.error)});case 22:return l=o.value,a=nT.fromUserResponse(l),r.next=25,this.persistUser(l);case 25:return r.abrupt("return",(r.sent,{success:a}));case 26:case"end":return r.stop()}},e,this,[[1,7],[11,17]])}))}},{key:"getPersistedUser",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function e(){var n;return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(n=this.cache)===null||n===void 0?void 0:n.get(this.userCacheKey));case 2:case"end":return l.stop()}},e,this)}))}},{key:"persistUser",value:function(e){return On(this,null,_regeneratorRuntime.default.mark(function n(){var o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,(o=this.cache)===null||o===void 0?void 0:o.set({key:this.userCacheKey,value:e,ttl:this.cacheTTL});case 3:case"end":return a.stop()}},n,this)}))}}]),m}();Gu(),vn(),Or(),vn(),Or(),vn(),Gu(),vn(),vn(),vn();var jM=function(){"use strict";function m(){_classCallCheck(this,m)}return _createClass(m,[{key:"fetchApiResponse",value:function(e,n){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l={},n!=null&&n.includeCredentials&&(l.credentials="include"),n!=null&&n.method&&(l.method=n.method),n!=null&&n.body&&(l.body=n.body),s.next=6,fetch(e,l);case 6:return s.next=8,s.sent.json();case 8:return s.abrupt("return",s.sent);case 9:case"end":return s.stop()}},o)}))}}]),m}(),EM="https://archive.org",rT={create:function(t){var e=t.serviceUrl,n=t.serviceProtocol,o=n===void 0?"https://":n,l=e?"".concat(o).concat(e):EM;return new Rk({fetchHandler:new jM,searchService:ip.default,userService:new OM,baseUrl:l})}},iT=So(_templateObject569()),oT=So(_templateObject570()),Jc=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.itemId="",n.lists=[],n.closeDropdown=function(){n.dispatchEvent(new CustomEvent("closeDropdown",{bubbles:!0,composed:!0}))},n.selectDropdown=function(){n.dispatchEvent(new CustomEvent("selectDropdown",{bubbles:!0,composed:!0}))},n.updateDropdown=function(){n.dispatchEvent(new CustomEvent("updateDropdown",{bubbles:!0,composed:!0}))},n.optionClicked=function(o,l){var a;o.stopPropagation(),(a=l.selectedHandler)===null||a===void 0||a.call(l,l)},n.onSelected=function(o){return On(_assertThisInitialized(n),null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.selectDropdown(),a=this.lists.find(function(c){return o.id===c.id})||{},!a.item_is_member){r.next=7;break}return r.next=5,this.removeMember(a.id,a.member_id);case 5:r.next=9;break;case 7:return r.next=9,this.addMember(a.id);case 9:this.updateDropdown();case 10:case"end":return r.stop()}},l,this)}))},n.addCreatedList=function(o){return On(_assertThisInitialized(n),null,_regeneratorRuntime.default.mark(function l(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.addMember(o);case 2:this.dispatchEvent(new CustomEvent("listCreated",{detail:{totalLists:this.lists.length}})),this.updateDropdown();case 4:case"end":return s.stop()}},l,this)}))},n.createList=function(){n.closeDropdown(),i1(n.userListsService,n.selectDropdown,n.addCreatedList)},n.userListOptions=function(){var o=[];return o=n.lists.map(function(l){return n.listOption(l)}),o.push(n.newListOption),o},_possibleConstructorReturn(n)}return _createClass(e,[{key:"listOption",value:function(o){var l=this;return{id:o.id,label:this.labelTemplate(o),isSelected:o.item_is_member,selectedHandler:function(a){return l.onSelected(a)}}}},{key:"newListOption",get:function(){var o=this;return{id:"create-new-list",label:St(_templateObject571(),iT),selectedHandler:function(){return o.createList()}}}},{key:"addMember",value:function(o){return On(this,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,(a=this.userListsService)===null||a===void 0?void 0:a.addMemberToList(o,{identifier:this.itemId});case 3:this.dispatchEvent(new CustomEvent("addMember",{detail:{listId:o,itemId:this.itemId}}));case 4:case"end":return r.stop()}},l,this)}))}},{key:"removeMember",value:function(o,l){return On(this,null,_regeneratorRuntime.default.mark(function a(){var s;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=3,(s=this.userListsService)===null||s===void 0?void 0:s.removeMemberFromList(o,l);case 3:this.dispatchEvent(new CustomEvent("removeMember",{detail:{listId:o,itemId:this.itemId}}));case 4:case"end":return c.stop()}},a,this)}))}},{key:"labelTemplate",value:function(o){var l=o.item_is_member,a=o.list_name;return St(_templateObject572(),l?oT:Rn,a)}},{key:"optionTemplate",value:function(o){return St(_templateObject573(),o.isSelected?"selected":"",this.buttonTemplate(o))}},{key:"buttonTemplate",value:function(o){var l=this;return St(_templateObject574(),function(a){return l.optionClicked(a,o)},o.label)}},{key:"render",value:function(){var o=this;return St(_templateObject575(),this.userListOptions().map(function(l){return o.optionTemplate(l)}))}}],[{key:"styles",get:function(){return Lt(_templateObject576())}}]),e}(Vn);Tr([Kt({type:String})],Jc.prototype,"itemId",void 0),Tr([Kt({type:Array})],Jc.prototype,"lists",void 0),Tr([Kt({type:Object})],Jc.prototype,"userListsService",void 0),Jc=Tr([Mr("item-user-lists")],Jc);var aT=St(_templateObject577()),Zo=function(m){"use strict";_inherits(e,m);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.baseHost="archive.org",n.item="",n.selectedCount=0,n.userListData=[],n.dataAction="initial",n.userListsService=rT.create({serviceUrl:n.baseHost}),n.listID="",n.closeListener=function(){n.dropdown.open=!1},n.selectListener=function(){n.dropdown.open=!1,n.dataActionTask.run(["initial"])},n.updateListener=function(){n.dataActionTask.run(["load"])},n.dataActionTask=new VI(_assertThisInitialized(n),{task:function(o){return On(_assertThisInitialized(n),[o],_regeneratorRuntime.default.mark(function l(a){var s,r;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(s=_slicedToArray(a,1),r=s[0],!(!this.item||!this.userListsService)){d.next=3;break}return d.abrupt("return",bk);case 3:d.t0=r,d.next=d.t0==="load"?6:7;break;case 6:return d.abrupt("return",this.updateSelectedCount());case 7:return d.abrupt("return",bk);case 8:case"end":return d.stop()}},l,this)}))},args:function(){return[n.dataAction]},autoRun:!1}),_possibleConstructorReturn(n)}return _createClass(e,[{key:"dropdownClicked",value:function(o){return On(this,null,_regeneratorRuntime.default.mark(function l(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(o.preventDefault(),!this.dropdown.open){s.next=5;break}this.dropdown.open=!1,s.next=8;break;case 5:return s.next=7,this.dataActionTask.run(["load"]);case 7:this.dropdown.open=!0;case 8:case"end":return s.stop()}},l,this)}))}},{key:"firstUpdated",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return l=this,r.next=4,new Promise(function(c){return setTimeout(c,0)});case 4:this.addEventListener("closeDropdown",this.closeListener),this.addEventListener("selectDropdown",this.selectListener),this.addEventListener("updateDropdown",this.updateListener),(a=this.dataActionTask.run(["load"]))===null||a===void 0||a.then(function(){l.dispatchEvent(new CustomEvent("userItemListDataReceived",{detail:{total_lists:l.userListData.length}}))});case 8:case"end":return r.stop()}},o,this)}))}},{key:"updated",value:function(o){o.has("baseHost")&&this.baseHost&&o.get("baseHost")&&this.reloadService()}},{key:"reloadService",value:function(){this.userListsService=rT.create({serviceUrl:this.baseHost}),this.dataActionTask.run(["load"])}},{key:"updateItemUserList",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,this.userListsService.fetchOwnListsContainingItem(this.item);case 3:if(a=r.sent,a.success){r.next=6;break}throw new Error((l=a.error)===null||l===void 0?void 0:l.message);case 6:return r.abrupt("return",(this.userListData=a.success,this.userListData));case 7:case"end":return r.stop()}},o,this)}))}},{key:"updateSelectedCount",value:function(){return On(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.updateItemUserList();case 2:return l=s.sent,s.abrupt("return",(this.selectedCount=l.filter(function(r){return r.item_is_member}).length,this.selectedCount));case 4:case"end":return s.stop()}},o,this)}))}},{key:"renderIcon",value:function(o){return St(_templateObject578(),o)}},{key:"renderError",value:function(){return St(_templateObject579())}},{key:"mainButton",value:function(o){return St(_templateObject580(),o?this.renderIcon(o):this.renderError())}},{key:"isFetched",get:function(){return this.dataActionTask.status===LE.COMPLETE}},{key:"isDisabled",get:function(){return this.dataActionTask.status!==LE.COMPLETE}},{key:"itemUserListsTemplate",get:function(){var o=this;return St(_templateObject581(),this.item,this.userListData,this.userListsService,function(l){return o.dispatchEvent(new CustomEvent("memberAdded",{detail:oi(Dr({},l.detail),{total_items:o.selectedCount})}))},function(l){return o.dispatchEvent(new CustomEvent("memberRemoved",{detail:oi(Dr({},l.detail),{total_items:o.selectedCount})}))},function(l){o.dispatchEvent(new CustomEvent("userListError",{detail:Dr({},l.detail)}))},function(l){o.dispatchEvent(new CustomEvent("listCreated",{detail:oi(Dr({},l.detail),{total_lists:o.selectedCount})}))})}},{key:"render",value:function(){var o=this;return St(_templateObject582(),this.isDisabled,!1,!0,!0,!0,!0,this.isDisabled?Rn:this.dropdownClicked,this.dataActionTask.render({initial:function(){return o.mainButton(aT)},pending:function(){return o.mainButton(aT)},complete:function(l){return o.mainButton(l===0?iT:oT)},error:function(){return o.mainButton(void 0)}}),this.itemUserListsTemplate)}}]),e}(Vn);Zo.styles=Lt(_templateObject583()),Tr([Kt({type:String})],Zo.prototype,"baseHost",void 0),Tr([Kt({type:String})],Zo.prototype,"item",void 0),Tr([Vi()],Zo.prototype,"selectedCount",void 0),Tr([Vi({hasChanged:function(t,e){if((t==null?void 0:t.length)!==(e==null?void 0:e.length))return!0;for(var n=0;n<t.length;n+=1)if(t[n].item_is_member!==e[n].item_is_member)return!0;return!1}})],Zo.prototype,"userListData",void 0),Tr([Vi()],Zo.prototype,"dataAction",void 0),Tr([Vi()],Zo.prototype,"userListsService",void 0),Tr([Hr("ia-dropdown")],Zo.prototype,"dropdown",void 0),Zo=Tr([Mr("ia-item-user-lists")],Zo),uo(),document.addEventListener("DOMContentLoaded",function(){var m=function(){var c,d=!!((c=window.localStorage)!=null&&c.getItem(l));d||(e==null||e.setAttribute("aria-label","New feature: Add to list"),a==null||a.toggleAttribute("hidden",!1),e==null||e.addEventListener("click",s),a==null||a.addEventListener("click",s))},t,e=document.querySelector("ia-item-user-lists");if(!e)return;if(window.archive_analytics){var n=(t=archive_analytics.mediaType)!=null?t:"unknown mediatype",o="DetailsPageUserLists";e.addEventListener("userItemListDataReceived",function(r){var c,d,h=(d=(c=r.detail)==null?void 0:c.listCount)!=null?d:0;yn("UserLists - onload, we send total lists",r.detail),archive_analytics.send_event(o,"onload",h)}),e.addEventListener("memberAdded",function(r){yn("UserLists - memberAdded, we send mediatype",n),archive_analytics.send_event(o,"memberAdded",n)}),e.addEventListener("memberRemoved",function(r){yn("UserLists - memberRemoved, we send mediatype",n),archive_analytics.send_event(o,"memberRemoved",n)}),e.addEventListener("listCreated",function(){yn("UserLists - listCreated, we send mediatype",n),archive_analytics.send_event(o,"listCreated",n)})}var l="UserLists-itemBtnCalloutDismissed",a=document.querySelector("#item-user-lists > .callout");function s(){var r;(r=window.localStorage)==null||r.setItem(l,!0),a==null||a.remove(),e==null||e.setAttribute("aria-label","Add to list"),e==null||e.removeEventListener("click",s)}m()}),pi(),window.$=Z,function(){var t=function(l){return!!(l.offsetWidth||l.offsetHeight||l.getClientRects().length)};if(window.archive_analytics){var e=document.head.querySelector('meta[property="mediatype"]');if(e){var n=e.getAttribute("content");n==="texts"&&setTimeout(function(){for(var o=document.getElementsByClassName("BRpagecontainer")||[],l=0;l<o.length;l++)if(t(o[l]))return;window.archive_analytics.send_event("BookReader","SlowLoad8s")},8e3)}}}(),Z(function(){return On(this,null,_regeneratorRuntime.default.mark(function t(){var e,n,o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=!Z(".js-bookreader").length,a.next=4,Promise.resolve().then(function(){return nP(),y7});case 4:return a.next=6,Promise.resolve().then(function(){return rP(),T7});case 6:return a.next=8,Promise.resolve().then(function(){return iP(),H7});case 8:return a.next=10,Promise.resolve().then(function(){return oP(),eS});case 10:return a.next=12,Promise.resolve().then(function(){return aP(),hS});case 12:return a.next=14,Promise.resolve().then(function(){return sP(),SS});case 14:return a.next=16,Promise.resolve().then(function(){return lP(),DS});case 16:return a.next=18,Promise.resolve().then(function(){return uP(),YS});case 18:return a.next=20,Promise.resolve().then(function(){return cP(),a8});case 20:return a.next=22,Promise.resolve().then(function(){return hP(),dP});case 22:return a.next=24,Promise.resolve().then(function(){return EP(),gA});case 24:if(yn("** BR Resources loaded **",(e=window.BookReader)==null?void 0:e.version),!n){a.next=32;break}return o=document.body.classList.contains("embedded"),a.next=29,Promise.all([Promise.resolve().then(function(){return qP(),VO}),o?Promise.resolve().then(function(){return DI(),qj}):document.querySelector("body").classList.contains("devbox")?Promise.resolve().then(function(){return wI(),ij}):Promise.resolve().then(function(){return RI(),Mj})]);case 29:yn("** Liner Notes loaded **"),a.next=35;break;case 32:return a.next=34,Promise.all([Promise.resolve().then(function(){return NI(),IE}),Promise.resolve().then(function(){return FI(),zI}),Promise.resolve().then(function(){return UI(),HI})]);case 34:yn("** BR Resources loaded **");case 35:Z(".js-bookreader").each(function(s,r){var c=JSON.parse(Z(r).val());Z.ajax({url:c.url,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).then(function(d){var h=cr.paramsToJSON(),f=function(){return{autoflip:parseInt(h.autoflip,10)===1,flipSpeed:h.flipSpeed||2e3,flipDelay:h.flipDelay||5e3}},v={el:"#BookReader",urlHistoryBasePath:c.urlHistoryBasePath,resumeCookiePath:c.resumeCookiePath,urlMode:"history",urlTrackedParams:["page","search","mode"],enableBookTitleLink:!1,bookUrlText:null,startFullscreen:h.view==="theater",initialSearchTerm:c.initialSearchTerm,searchInsidePreTag:"<IA_FTS_MATCH>",searchInsidePostTag:"</IA_FTS_MATCH>",onePage:{autofit:c.autofit},showToolbar:!1,autoResize:!1,enableFSLogoShortcut:!0,enableBookmarks:!0,enableMultipleBooks:!1,purchaseUrl:c.purchase_url};c.br_ui==="embed"&&(v.mode=1,v.ui="embed",v.enableFSLogoShortcut=!1),c.has_multiple_readable_files&&(v.enableMultipleBooks=!0,v.multipleBooksList=c.multipleBooksList);var _=f();window.BookReaderJSIAinit(d.data,v),_.autoflip&&window.br.autoToggle(_);var b=decodeURIComponent(h.options).split("|"),w=h.wrapper==="false"||b.indexOf("view-only")>-1;w&&v.ui!=="embed"&&Z("#IABookReaderMessageWrapper").remove(),window.archive_analytics&&(window.archive_analytics.values.bookreader="open")})});case 36:case"end":return a.stop()}},t)}))})})();/*! Bundled license information:

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/reactive-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-element/lit-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/custom-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/property.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/state.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/base.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/event-options.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/query.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/query-all.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/query-async.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/query-assigned-nodes.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.6.1
   * https://jquery.com/
   *
   * Includes Sizzle.js
   * https://sizzlejs.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2022-08-26T17:52Z
   *)
*//*!
JW Player version 8.22.0
Copyright (c) 2021, JW Player, All Rights Reserved 
https://github.com/jwplayer/jwplayer/blob/v8.22.0/README.md

This source code and its use and distribution is subject to the terms and conditions of the applicable license agreement. 
https://www.jwplayer.com/tos/

This product includes portions of other software. For the full text of licenses, see below:

JW Player Third Party Software Notices and/or Additional Terms and Conditions

**************************************************************************************************
The following software is used under Apache License 2.0
**************************************************************************************************

vtt.js v0.13.0
Copyright (c) 2021 Mozilla (http://mozilla.org)
https://github.com/mozilla/vtt.js/blob/v0.13.0/LICENSE

* * *

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.

You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and
limitations under the License.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

**************************************************************************************************
The following software is used under MIT license
**************************************************************************************************

Underscore.js v1.6.0
Copyright (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative
https://github.com/jashkenas/underscore/blob/1.6.0/LICENSE

Backbone backbone.events.js v1.1.2
Copyright (c) 2010-2014 Jeremy Ashkenas, DocumentCloud
https://github.com/jashkenas/backbone/blob/1.1.2/LICENSE

Promise Polyfill v7.1.1
Copyright (c) 2014 Taylor Hakes and Forbes Lindesay
https://github.com/taylorhakes/promise-polyfill/blob/v7.1.1/LICENSE

can-autoplay.js v3.0.0
Copyright (c) 2017 video-dev
https://github.com/video-dev/can-autoplay/blob/v3.0.0/LICENSE

focus-options-polyfill v1.5.0
Copyright (c) 2018 Juan Valencia
https://github.com/calvellido/focus-options-polyfill/blob/v1.5.0/LICENSE

* * *

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

**************************************************************************************************
The following software is used under W3C license
**************************************************************************************************

Intersection Observer v0.5.0
Copyright (c) 2016 Google Inc. (http://google.com)
https://github.com/w3c/IntersectionObserver/blob/v0.5.0/LICENSE.md

* * *

W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE
Status: This license takes effect 13 May, 2015.

This work is being provided by the copyright holders under the following license.

License
By obtaining and/or copying this work, you (the licensee) agree that you have read, understood, and will comply with the following terms and conditions.

Permission to copy, modify, and distribute this work, with or without modification, for any purpose and without fee or royalty is hereby granted, provided that you include the following on ALL copies of the work or portions thereof, including modifications:

The full text of this NOTICE in a location viewable to users of the redistributed or derivative work.

Any pre-existing intellectual property disclaimers, notices, or terms and conditions. If none exist, the W3C Software and Document Short Notice should be included.

Notice of any changes or modifications, through a copyright statement on the new code or document such as "This software or document includes material copied from or derived from [title and URI of the W3C document]. Copyright © [YEAR] W3C® (MIT, ERCIM, Keio, Beihang)."

Disclaimers
THIS WORK IS PROVIDED "AS IS," AND COPYRIGHT HOLDERS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY OR FITNESS FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF THE SOFTWARE OR DOCUMENT WILL NOT INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.

COPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE SOFTWARE OR DOCUMENT.

The name and trademarks of copyright holders may NOT be used in advertising or publicity pertaining to the work without specific, written prior permission. Title to copyright in this work will at all times remain with copyright holders.
*//*! Bundled license information:

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.5 | MIT *)
*//*! Bundled license information:

clipboard/dist/clipboard.js:
  (*!
   * clipboard.js v2.0.11
   * https://clipboardjs.com/
   *
   * Licensed MIT © Zeno Rocha
   *)
*//*! Bundled license information:

jqueryui/jquery-ui.min.js:
  (*! jQuery UI - v1.11.1 - 2014-08-13
  * http://jqueryui.com
  * Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
  * Copyright 2014 jQuery Foundation and other contributors; Licensed MIT *)
*//*! Bundled license information:

magic-snowflakes/dist/snowflakes.esm.js:
  (*! Snowflakes | © 2023 Denis Seleznev | MIT License | https://github.com/hcodes/snowflakes/ *)
*//*! Bundled license information:

currency.js/dist/currency.es.js:
  (*!
   * currency.js - v2.0.4
   * http://scurker.github.io/currency.js
   *
   * Copyright (c) 2021 Jason Wilson
   * Released under MIT license
   *)
*//*! Bundled license information:

tablesorter/dist/js/jquery.tablesorter.combined.js:
  (*! tablesorter (FORK) - updated 2024-08-13 (v2.32.0)*)
  (*! TableSorter (FORK) v2.32.0 *)
  (*! Widget: storage - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: uitheme - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: columns - updated 5/24/2017 (v2.28.11) *)
  (*! Widget: filter - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: stickyHeaders - updated 9/27/2017 (v2.29.0) *)
  (*! Widget: resizable - updated 2018-03-26 (v2.30.2) *)
  (*! Widget: saveSort - updated 2018-03-19 (v2.30.1) *)
*//*! Bundled license information:

@internetarchive/bookreader/BookReader/BookReader.js:
  (*! For license information please see BookReader.js.LICENSE.txt *)
*//*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.search.js:
  (*! For license information please see plugin.search.js.LICENSE.txt *)
*//*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.tts.js:
  (*! For license information please see plugin.tts.js.LICENSE.txt *)
*//*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.chapters.js:
  (*! For license information please see plugin.chapters.js.LICENSE.txt *)
*//*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.text_selection.js:
  (*! For license information please see plugin.text_selection.js.LICENSE.txt *)
*//*! Bundled license information:

lit-html/directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive-helpers.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/repeat.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/unsafe-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*//**
* @license
* Copyright 2019 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*//**
* @license
* Copyright 2022 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/cache.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/style-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/class-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/task/task.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/if-defined.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/

// @license-end
//# sourceMappingURL=details-bookreader.min.js.map